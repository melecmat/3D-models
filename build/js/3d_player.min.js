(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.AFRAME = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){
function anArray(r){return r.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===str.call(r.buffer)||Array.isArray(r)}var str=Object.prototype.toString;module.exports=anArray;
},{}],2:[function(_dereq_,module,exports){
module.exports=function(e,n){return"number"==typeof e?e:"number"==typeof n?n:0};
},{}],3:[function(_dereq_,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){for(var r,e=getLens(o),t=e[0],n=e[1],u=new Arr(_byteLength(o,t,n)),p=0,a=n>0?t-4:t,h=0;h<a;h+=4)r=revLookup[o.charCodeAt(h)]<<18|revLookup[o.charCodeAt(h+1)]<<12|revLookup[o.charCodeAt(h+2)]<<6|revLookup[o.charCodeAt(h+3)],u[p++]=r>>16&255,u[p++]=r>>8&255,u[p++]=255&r;return 2===n&&(r=revLookup[o.charCodeAt(h)]<<2|revLookup[o.charCodeAt(h+1)]>>4,u[p++]=255&r),1===n&&(r=revLookup[o.charCodeAt(h)]<<10|revLookup[o.charCodeAt(h+1)]<<4|revLookup[o.charCodeAt(h+2)]>>2,u[p++]=r>>8&255,u[p++]=255&r),u}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;
},{}],4:[function(_dereq_,module,exports){
"use strict";module.exports={createLink:function(e,t){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=e,n.rel="stylesheet";for(var d in t)if(t.hasOwnProperty(d)){var r=t[d];n.setAttribute("data-"+d,r)}a.appendChild(n)},createStyle:function(e,t){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";for(var d in t)if(t.hasOwnProperty(d)){var r=t[d];n.setAttribute("data-"+d,r)}n.sheet?(n.innerHTML=e,n.sheet.cssText=e,a.appendChild(n)):n.styleSheet?(a.appendChild(n),n.styleSheet.cssText=e):(n.appendChild(document.createTextNode(e)),a.appendChild(n))}};
},{}],5:[function(_dereq_,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],6:[function(_dereq_,module,exports){
var Buffer=_dereq_("buffer").Buffer;module.exports=function(f,e){if(Buffer.isBuffer(f)&&Buffer.isBuffer(e)){if("function"==typeof f.equals)return f.equals(e);if(f.length!==e.length)return!1;for(var r=0;r<f.length;r++)if(f[r]!==e[r])return!1;return!0}};
},{"buffer":7}],7:[function(_dereq_,module,exports){
(function (global){
"use strict";function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=Buffer.prototype):(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,r,n):"string"==typeof e?fromString(t,e,r):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"==typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromString(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,r);t=createBuffer(t,n);var f=t.write(e,r);return f!==n&&(t=t.slice(0,f)),t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),Buffer.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=Buffer.prototype):t=fromArrayLike(t,e),t}function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return t=createBuffer(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||isnan(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&isArray(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t){return+t!=t&&(t=0),Buffer.alloc(+t)}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,f){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=f?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(f)return-1;r=t.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,f);if("number"==typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,f){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(t,a)===i(e,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(t,a+l)!==i(e,l)){c=!1;break}if(c)return a}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))return o;t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;f<r;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=t[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=t[f+1],a=t[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(127&t[f]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=e;i<r;++i)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);f<i;++f)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);f<i;++f)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;f<n&&!(f+r>=e.length||f>=t.length);++f)e[f+r]=t[f];return f}function isnan(t){return t!==t}var base64=_dereq_("base64-js"),ieee754=_dereq_("ieee754"),isArray=_dereq_("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return alloc(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);f<i;++f)if(t[f]!==e[f]){r=t[f],n=e[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),f=0;for(r=0;r<t.length;++r){var i=t[r];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t,e,r,n,f){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),e<0||r>t.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&e>=r)return 0;if(n>=f)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,f>>>=0,this===t)return 0;for(var i=f-n,o=r-e,u=Math.min(i,o),s=this.slice(n,f),a=t.slice(e,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Buffer.prototype.indexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=Buffer.prototype;else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;i<f;++i)n[i]=this[i+t]}return n},Buffer.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){checkInt(this,t,e,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[e]=255&t;++i<r&&(f*=256);)this[e+i]=t/f&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){checkInt(this,t,e,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[e+f]=255&t;--f>=0&&(i*=256);)this[e+f]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&r<e&&e<n)for(f=i-1;f>=0;--f)t[f+e]=this[f+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;f<i;++f)t[f+e]=this[f+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var f=t.charCodeAt(0);f<256&&(t=f)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),u=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":3,"ieee754":18,"isarray":8}],8:[function(_dereq_,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};
},{}],9:[function(_dereq_,module,exports){
!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,r;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}();
},{}],10:[function(_dereq_,module,exports){
function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+o[0]+(e?"%c ":" "),!e)return o;var r="color: "+this.color;o=[o[0],r,"color: inherit"].concat(Array.prototype.slice.call(o,1));var t=0,s=0;return o[0].replace(/%[a-z%]/g,function(o){"%%"!==o&&(t++,"%c"===o&&(s=t))}),o.splice(s,0,r),o}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?exports.storage.removeItem("debug"):exports.storage.debug=o}catch(o){}}function load(){var o;try{o=exports.storage.debug}catch(o){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=_dereq_("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());
},{"./debug":11}],11:[function(_dereq_,module,exports){
function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o;null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var r=Array.prototype.slice.call(arguments);r[0]=exports.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var s=0;r[0]=r[0].replace(/%([a-z%])/g,function(o,t){if("%%"===o)return o;s++;var n=exports.formatters[t];if("function"==typeof n){var l=r[s];o=n.call(e,l),r.splice(s,1),s--}return o}),"function"==typeof exports.formatArgs&&(r=exports.formatArgs.apply(e,r)),(o.log||exports.log||console.log.bind(console)).apply(e,r)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||"").split(/[\s,]+/),o=r.length,s=0;s<o;s++)r[s]&&(e=r[s].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;r<o;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;r<o;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0;
},{}],12:[function(_dereq_,module,exports){
"use strict";function toObject(r){if(null===r||void 0===r)throw new TypeError("Sources cannot be null or undefined");return Object(r)}function assignKey(r,e,n){var t=e[n];if(void 0!==t&&null!==t){if(hasOwnProperty.call(r,n)&&(void 0===r[n]||null===r[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");hasOwnProperty.call(r,n)&&isObj(t)?r[n]=assign(Object(r[n]),e[n]):r[n]=t}}function assign(r,e){if(r===e)return r;e=Object(e);for(var n in e)hasOwnProperty.call(e,n)&&assignKey(r,e,n);if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(e),o=0;o<t.length;o++)propIsEnumerable.call(e,t[o])&&assignKey(r,e,t[o]);return r}var isObj=_dereq_("is-obj"),hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(r){r=toObject(r);for(var e=1;e<arguments.length;e++)assign(r,arguments[e]);return r};
},{"is-obj":23}],13:[function(_dereq_,module,exports){
!function(t,r,n,a){"use strict";function l(e,t){for(var r=0,n=e.length;r<n;r++)m(e[r],t)}function i(e){for(var t,r=0,n=e.length;r<n;r++)t=e[r],y(t,H[u(t)])}function o(e){return function(t){ae(t)&&(m(t,e),l(t.querySelectorAll(x),e))}}function u(e){var t=oe.call(e,"is"),r=e.nodeName.toUpperCase(),n=G.call(U,t?k+t.toUpperCase():_+r);return t&&-1<n&&!c(r,t)?-1:n}function c(e,t){return-1<x.indexOf(e+'[is="'+t+'"]')}function s(e){var t=e.currentTarget,r=e.attrChange,n=e.attrName,a=e.target;me&&(!a||a===t)&&t.attributeChangedCallback&&"style"!==n&&e.prevValue!==e.newValue&&t.attributeChangedCallback(n,r===e[F]?null:e.prevValue,r===e[I]?null:e.newValue)}function d(e){var t=o(e);return function(e){g.push(t,e.target)}}function f(e){be&&(be=!1,e.currentTarget.removeEventListener(P,f)),l((e.target||r).querySelectorAll(x),e.detail===T?T:L),ne&&p()}function h(e,t){var r=this;ue.call(r,e,t),C.call(r,{target:r})}function v(e,t){ee(e,t),O?O.observe(e,de):(pe&&(e.setAttribute=h,e[w]=E(e),e.addEventListener(R,C)),e.addEventListener(D,s)),e.createdCallback&&me&&(e.created=!0,e.createdCallback(),e.created=!1)}function p(){for(var e,t=0,r=le.length;t<r;t++)e=le[t],Z.contains(e)||(r--,le.splice(t--,1),m(e,T))}function b(e){throw new Error("A "+e+" type is already registered")}function m(e,t){var r,n=u(e);-1<n&&(N(e,H[n]),n=0,t!==L||e[L]?t===T&&!e[T]&&(e[L]=!1,e[T]=!0,n=1):(e[T]=!1,e[L]=!0,n=1,ne&&G.call(le,e)<0&&le.push(e)),n&&(r=e[t+"Callback"])&&r.call(e))}if(!(a in r)){var g,C,A,E,O,N,y,w="__"+a+(1e5*Math.random()>>0),L="attached",T="detached",M="extends",F="ADDITION",V="MODIFICATION",I="REMOVAL",D="DOMAttrModified",P="DOMContentLoaded",R="DOMSubtreeModified",_="<",k="=",q=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,S=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],U=[],H=[],x="",Z=r.documentElement,G=U.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},j=n.prototype,z=j.hasOwnProperty,K=j.isPrototypeOf,W=n.defineProperty,X=n.getOwnPropertyDescriptor,Y=n.getOwnPropertyNames,$=n.getPrototypeOf,B=n.setPrototypeOf,J=!!n.__proto__,Q=n.create||function e(t){return t?(e.prototype=t,new e):this},ee=B||(J?function(e,t){return e.__proto__=t,e}:Y&&X?function(){function e(e,t){for(var r,n=Y(t),a=0,l=n.length;a<l;a++)r=n[a],z.call(e,r)||W(e,r,X(t,r))}return function(t,r){do{e(t,r)}while((r=$(r))&&!K.call(r,t));return t}}():function(e,t){for(var r in t)e[r]=t[r];return e}),te=t.MutationObserver||t.WebKitMutationObserver,re=(t.HTMLElement||t.Element||t.Node).prototype,ne=!K.call(re,Z),ae=ne?function(e){return 1===e.nodeType}:function(e){return K.call(re,e)},le=ne&&[],ie=re.cloneNode,oe=re.getAttribute,ue=re.setAttribute,ce=re.removeAttribute,se=r.createElement,de=te&&{attributes:!0,characterData:!0,attributeOldValue:!0},fe=te||function(e){pe=!1,Z.removeEventListener(D,fe)},he=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},ve=!1,pe=!0,be=!0,me=!0;B||J?(N=function(e,t){K.call(t,e)||v(e,t)},y=v):(N=function(e,t){e[w]||(e[w]=n(!0),v(e,t))},y=N),ne?(pe=!1,function(){var t=X(re,"addEventListener"),r=t.value,n=function(e){var t=new CustomEvent(D,{bubbles:!0});t.attrName=e,t.prevValue=oe.call(this,e),t.newValue=null,t[I]=t.attrChange=2,ce.call(this,e),this.dispatchEvent(t)},a=function(t,r){var n=this.hasAttribute(t),a=n&&oe.call(this,t);e=new CustomEvent(D,{bubbles:!0}),ue.call(this,t,r),e.attrName=t,e.prevValue=n?a:null,e.newValue=r,n?e[V]=e.attrChange=1:e[F]=e.attrChange=0,this.dispatchEvent(e)},l=function(e){var t,r=e.currentTarget,n=r[w],a=e.propertyName;n.hasOwnProperty(a)&&(n=n[a],t=new CustomEvent(D,{bubbles:!0}),t.attrName=n.name,t.prevValue=n.value||null,t.newValue=n.value=r[a]||null,null==t.prevValue?t[F]=t.attrChange=0:t[V]=t.attrChange=1,r.dispatchEvent(t))};t.value=function(e,t,i){e===D&&this.attributeChangedCallback&&this.setAttribute!==a&&(this[w]={className:{name:"class",value:this.className}},this.setAttribute=a,this.removeAttribute=n,r.call(this,"propertychange",l)),r.call(this,e,t,i)},W(re,"addEventListener",t)}()):te||(Z.addEventListener(D,fe),Z.setAttribute(w,1),Z.removeAttribute(w),pe&&(C=function(e){var t,r,n,a=this;if(a===e.target){t=a[w],a[w]=r=E(a);for(n in r){if(!(n in t))return A(0,a,n,t[n],r[n],F);if(r[n]!==t[n])return A(1,a,n,t[n],r[n],V)}for(n in t)if(!(n in r))return A(2,a,n,t[n],r[n],I)}},A=function(e,t,r,n,a,l){var i={attrChange:e,currentTarget:t,attrName:r,prevValue:n,newValue:a};i[l]=e,s(i)},E=function(e){for(var t,r,n={},a=e.attributes,l=0,i=a.length;l<i;l++)t=a[l],"setAttribute"!==(r=t.name)&&(n[r]=t.value);return n})),r[a]=function(e,t){if(n=e.toUpperCase(),ve||(ve=!0,te?(O=function(e,t){function r(e,t){for(var r=0,n=e.length;r<n;t(e[r++]));}return new te(function(n){for(var a,l,i,o=0,u=n.length;o<u;o++)a=n[o],"childList"===a.type?(r(a.addedNodes,e),r(a.removedNodes,t)):(l=a.target,me&&l.attributeChangedCallback&&"style"!==a.attributeName&&(i=oe.call(l,a.attributeName))!==a.oldValue&&l.attributeChangedCallback(a.attributeName,a.oldValue,i))})}(o(L),o(T)),O.observe(r,{childList:!0,subtree:!0})):(g=[],he(function e(){for(;g.length;)g.shift().call(null,g.shift());he(e)}),r.addEventListener("DOMNodeInserted",d(L)),r.addEventListener("DOMNodeRemoved",d(T))),r.addEventListener(P,f),r.addEventListener("readystatechange",f),r.createElement=function(e,t){var n=se.apply(r,arguments),a=""+e,l=G.call(U,(t?k:_)+(t||a).toUpperCase()),i=-1<l;return t&&(n.setAttribute("is",t=t.toLowerCase()),i&&(i=c(a.toUpperCase(),t))),me=!r.createElement.innerHTMLHelper,i&&y(n,H[l]),n},re.cloneNode=function(e){var t=ie.call(this,!!e),r=u(t);return-1<r&&y(t,H[r]),e&&i(t.querySelectorAll(x)),t}),-2<G.call(U,k+n)+G.call(U,_+n)&&b(e),!q.test(n)||-1<G.call(S,n))throw new Error("The type "+e+" is invalid");var n,a,s=function(){return v?r.createElement(p,n):r.createElement(p)},h=t||j,v=z.call(h,M),p=v?t[M].toUpperCase():n;return v&&-1<G.call(U,_+p)&&b(p),a=U.push((v?k:_)+n)-1,x=x.concat(x.length?",":"",v?p+'[is="'+e.toLowerCase()+'"]':p),s.prototype=H[a]=z.call(h,"prototype")?h.prototype:Q(re),l(r.querySelectorAll(x),L),s}}}(window,document,Object,"registerElement");
},{}],14:[function(_dereq_,module,exports){
module.exports=function(r){switch(r){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}};
},{}],15:[function(_dereq_,module,exports){
function flattenVertexData(e,t,r){if(!e)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var n,a,l,o,f=e[0].length,s=e.length*f;t&&"string"!=typeof t||(t=new(dtype(t||"float32"))(s+r));var i=t.length-r;if(s!==i)throw new Error("source length "+s+" ("+f+"x"+e.length+") does not match destination length "+i);for(n=0,l=r;n<e.length;n++)for(a=0;a<f;a++)t[l++]=null===e[n][a]?NaN:e[n][a]}else if(t&&"string"!=typeof t)t.set(e,r);else{var y=dtype(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new y(e.length+r),n=0,l=r,o=t.length;l<o;l++,n++)t[l]=null===e[n]?NaN:e[n];else 0===r?t=new y(e):(t=new y(e.length+r),t.set(e,r))}return t}var dtype=_dereq_("dtype");module.exports=flattenVertexData;
},{"dtype":14}],16:[function(_dereq_,module,exports){
"use strict";var isCallable=_dereq_("is-callable"),toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(r,t,a){for(var o=0,l=r.length;o<l;o++)hasOwnProperty.call(r,o)&&(null==a?t(r[o],o,r):t.call(a,r[o],o,r))},forEachString=function(r,t,a){for(var o=0,l=r.length;o<l;o++)null==a?t(r.charAt(o),o,r):t.call(a,r.charAt(o),o,r)},forEachObject=function(r,t,a){for(var o in r)hasOwnProperty.call(r,o)&&(null==a?t(r[o],o,r):t.call(a,r[o],o,r))},forEach=function(r,t,a){if(!isCallable(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=a),"[object Array]"===toStr.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)};module.exports=forEach;
},{"is-callable":21}],17:[function(_dereq_,module,exports){
(function (global){
var win;win="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},module.exports=win;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],18:[function(_dereq_,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],19:[function(_dereq_,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],20:[function(_dereq_,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};
},{}],21:[function(_dereq_,module,exports){
"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class\b/,isES6ClassFn=function(t){try{var n=fnToStr.call(t);return constructorRegex.test(n)}catch(t){return!1}},tryFunctionObject=function(t){try{return!isES6ClassFn(t)&&(fnToStr.call(t),!0)}catch(t){return!1}},toStr=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(hasToStringTag)return tryFunctionObject(t);if(isES6ClassFn(t))return!1;var n=toStr.call(t);return n===fnClass||n===genClass};
},{}],22:[function(_dereq_,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;
},{}],23:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)};
},{}],24:[function(_dereq_,module,exports){
function TextLayout(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function addGetter(t){Object.defineProperty(TextLayout.prototype,t,{get:wrapper(t),configurable:!0})}function wrapper(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function getGlyphById(t,e){if(!t.chars||0===t.chars.length)return null;var r=findChar(t.chars,e);return r>=0?t.chars[r]:null}function getXHeight(t){for(var e=0;e<X_HEIGHTS.length;e++){var r=X_HEIGHTS[e].charCodeAt(0),n=findChar(t.chars,r);if(n>=0)return t.chars[n].height}return 0}function getMGlyph(t){for(var e=0;e<M_WIDTHS.length;e++){var r=M_WIDTHS[e].charCodeAt(0),n=findChar(t.chars,r);if(n>=0)return t.chars[n]}return 0}function getCapHeight(t){for(var e=0;e<CAP_HEIGHTS.length;e++){var r=CAP_HEIGHTS[e].charCodeAt(0),n=findChar(t.chars,r);if(n>=0)return t.chars[n].height}return 0}function getKerning(t,e,r){if(!t.kernings||0===t.kernings.length)return 0;for(var n=t.kernings,i=0;i<n.length;i++){var a=n[i];if(a.first===e&&a.second===r)return a.amount}return 0}function getAlignType(t){return"center"===t?ALIGN_CENTER:"right"===t?ALIGN_RIGHT:ALIGN_LEFT}function findChar(t,e,r){r=r||0;for(var n=r;n<t.length;n++)if(t[n].id===e)return n;return-1}var wordWrap=_dereq_("word-wrapper"),xtend=_dereq_("xtend"),number=_dereq_("as-number"),X_HEIGHTS=["x","e","a","o","n","s","r","c","u","m","v","w","z"],M_WIDTHS=["m","w"],CAP_HEIGHTS=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],TAB_ID="\t".charCodeAt(0),SPACE_ID=" ".charCodeAt(0),ALIGN_LEFT=0,ALIGN_CENTER=1,ALIGN_RIGHT=2;module.exports=function(t){return new TextLayout(t)},TextLayout.prototype.update=function(t){if(t=xtend({measure:this._measure},t),this._opt=t,this._opt.tabSize=number(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,r=t.text||"",n=t.font;this._setupSpaceGlyphs(n);var i=wordWrap.lines(r,t),a=t.width||0;e.length=0;var h=i.reduce(function(t,e){return Math.max(t,e.width,a)},0),o=0,s=0,c=number(t.lineHeight,n.common.lineHeight),u=n.common.base,l=c-u,p=t.letterSpacing||0,f=c*i.length-l,d=getAlignType(this._opt.align);s-=f,this._width=h,this._height=f,this._descender=c-u,this._baseline=u,this._xHeight=getXHeight(n),this._capHeight=getCapHeight(n),this._lineHeight=c,this._ascender=c-l-this._xHeight;var g=this;i.forEach(function(t,i){for(var a,u=t.start,l=t.end,f=t.width,_=u;_<l;_++){var y=r.charCodeAt(_),G=g.getGlyph(n,y);if(G){a&&(o+=getKerning(n,a.id,G.id));var T=o;d===ALIGN_CENTER?T+=(h-f)/2:d===ALIGN_RIGHT&&(T+=h-f),e.push({position:[T,s],data:G,index:_,line:i}),o+=G.xadvance+p,a=G}}s+=c,o=0}),this._linesTotal=i.length},TextLayout.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=getGlyphById(t,SPACE_ID)||getMGlyph(t)||t.chars[0],r=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=xtend(e,{x:0,y:0,xadvance:r,id:TAB_ID,xoffset:0,yoffset:0,width:0,height:0})}},TextLayout.prototype.getGlyph=function(t,e){var r=getGlyphById(t,e);return r||(e===TAB_ID?this._fallbackTabGlyph:e===SPACE_ID?this._fallbackSpaceGlyph:null)},TextLayout.prototype.computeMetrics=function(t,e,r,n){var i,a,h=this._opt.letterSpacing||0,o=this._opt.font,s=0,c=0,u=0;if(!o.chars||0===o.chars.length)return{start:e,end:e,width:0};r=Math.min(t.length,r);for(var l=e;l<r;l++){var p=t.charCodeAt(l),i=this.getGlyph(o,p);if(i){i.xoffset;s+=a?getKerning(o,a.id,i.id):0;var f=s+i.xadvance+h,d=s+i.width;if(d>=n||f>=n)break;s=f,c=d,a=i}u++}return a&&(c+=a.xoffset),{start:e,end:e+u,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(addGetter);
},{"as-number":2,"word-wrapper":50,"xtend":53}],25:[function(_dereq_,module,exports){
(function (Buffer){
function isArrayBuffer(r){return"[object ArrayBuffer]"===Object.prototype.toString.call(r)}function getBinaryOpts(r){if(xml2)return xtend(r,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),xtend({xhr:e},r)}var xhr=_dereq_("xhr"),noop=function(){},parseASCII=_dereq_("parse-bmfont-ascii"),parseXML=_dereq_("parse-bmfont-xml"),readBinary=_dereq_("parse-bmfont-binary"),isBinaryFormat=_dereq_("./lib/is-binary"),xtend=_dereq_("xtend"),xml2=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();module.exports=function(r,e){e="function"==typeof e?e:noop,"string"==typeof r?r={uri:r}:r||(r={}),r.binary&&(r=getBinaryOpts(r)),xhr(r,function(t,n,i){if(t)return e(t);if(!/^2/.test(n.statusCode))return e(new Error("http status code: "+n.statusCode));if(!i)return e(new Error("no body result"));var o=!1;if(isArrayBuffer(i)){var a=new Uint8Array(i);i=new Buffer(a,"binary")}isBinaryFormat(i)&&(o=!0,"string"==typeof i&&(i=new Buffer(i,"binary"))),o||(Buffer.isBuffer(i)&&(i=i.toString(r.encoding)),i=i.trim());var s;try{var u=n.headers["content-type"];s=o?readBinary(i):/json/.test(u)||"{"===i.charAt(0)?JSON.parse(i):/xml/.test(u)||"<"===i.charAt(0)?parseXML(i):parseASCII(i)}catch(r){e(new Error("error parsing font "+r.message)),e=noop}e(null,s)})};
}).call(this,_dereq_("buffer").Buffer)

},{"./lib/is-binary":26,"buffer":7,"parse-bmfont-ascii":28,"parse-bmfont-binary":29,"parse-bmfont-xml":30,"xhr":51,"xtend":53}],26:[function(_dereq_,module,exports){
(function (Buffer){
var equal=_dereq_("buffer-equal"),HEADER=new Buffer([66,77,70,3]);module.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&equal(e.slice(0,4),HEADER)};
}).call(this,_dereq_("buffer").Buffer)

},{"buffer":7,"buffer-equal":6}],27:[function(_dereq_,module,exports){
"use strict";function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=shouldUseNative()?Object.assign:function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};
},{}],28:[function(_dereq_,module,exports){
function splitLine(e,r){if(!(e=e.replace(/\t+/g," ").trim()))return null;var t=e.indexOf(" ");if(-1===t)throw new Error("no named row at line "+r);var a=e.substring(0,t);e=e.substring(t+1),e=e.replace(/letter=[\'\"]\S+[\'\"]/gi,""),e=e.split("="),e=e.map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var n=[],i=0;i<e.length;i++){var s=e[i];0===i?n.push({key:s[0],data:""}):i===e.length-1?n[n.length-1].data=parseData(s[0]):(n[n.length-1].data=parseData(s[0]),n.push({key:s[1],data:""}))}var o={key:a,data:{}};return n.forEach(function(e){o.data[e.key]=e.data}),o}function parseData(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?parseIntList(e):parseInt(e,10):""}function parseIntList(e){return e.split(",").map(function(e){return parseInt(e,10)})}module.exports=function(e){if(!e)throw new Error("no data provided");e=e.toString().trim();var r={pages:[],chars:[],kernings:[]},t=e.split(/\r\n?|\n/g);if(0===t.length)throw new Error("no data in BMFont file");for(var a=0;a<t.length;a++){var n=splitLine(t[a],a);if(n)if("page"===n.key){if("number"!=typeof n.data.id)throw new Error("malformed file at line "+a+" -- needs page id=N");if("string"!=typeof n.data.file)throw new Error("malformed file at line "+a+' -- needs page file="path"');r.pages[n.data.id]=n.data.file}else"chars"===n.key||"kernings"===n.key||("char"===n.key?r.chars.push(n.data):"kerning"===n.key?r.kernings.push(n.data):r[n.key]=n.data)}return r};
},{}],29:[function(_dereq_,module,exports){
function readBlock(r,e,n){if(n>e.length-1)return 0;var a=e.readUInt8(n++),t=e.readInt32LE(n);switch(n+=4,a){case 1:r.info=readInfo(e,n);break;case 2:r.common=readCommon(e,n);break;case 3:r.pages=readPages(e,n,t);break;case 4:r.chars=readChars(e,n,t);break;case 5:r.kernings=readKernings(e,n,t)}return 5+t}function readInfo(r,e){var n={};n.size=r.readInt16LE(e);var a=r.readUInt8(e+2);return n.smooth=a>>7&1,n.unicode=a>>6&1,n.italic=a>>5&1,n.bold=a>>4&1,a>>3&1&&(n.fixedHeight=1),n.charset=r.readUInt8(e+3)||"",n.stretchH=r.readUInt16LE(e+4),n.aa=r.readUInt8(e+6),n.padding=[r.readInt8(e+7),r.readInt8(e+8),r.readInt8(e+9),r.readInt8(e+10)],n.spacing=[r.readInt8(e+11),r.readInt8(e+12)],n.outline=r.readUInt8(e+13),n.face=readStringNT(r,e+14),n}function readCommon(r,e){var n={};n.lineHeight=r.readUInt16LE(e),n.base=r.readUInt16LE(e+2),n.scaleW=r.readUInt16LE(e+4),n.scaleH=r.readUInt16LE(e+6),n.pages=r.readUInt16LE(e+8);r.readUInt8(e+10);return n.packed=0,n.alphaChnl=r.readUInt8(e+11),n.redChnl=r.readUInt8(e+12),n.greenChnl=r.readUInt8(e+13),n.blueChnl=r.readUInt8(e+14),n}function readPages(r,e,n){for(var a=[],t=readNameNT(r,e),d=t.length+1,o=n/d,i=0;i<o;i++)a[i]=r.slice(e,e+t.length).toString("utf8"),e+=d;return a}function readChars(r,e,n){for(var a=[],t=n/20,d=0;d<t;d++){var o={},i=20*d;o.id=r.readUInt32LE(e+0+i),o.x=r.readUInt16LE(e+4+i),o.y=r.readUInt16LE(e+6+i),o.width=r.readUInt16LE(e+8+i),o.height=r.readUInt16LE(e+10+i),o.xoffset=r.readInt16LE(e+12+i),o.yoffset=r.readInt16LE(e+14+i),o.xadvance=r.readInt16LE(e+16+i),o.page=r.readUInt8(e+18+i),o.chnl=r.readUInt8(e+19+i),a[d]=o}return a}function readKernings(r,e,n){for(var a=[],t=n/10,d=0;d<t;d++){var o={},i=10*d;o.first=r.readUInt32LE(e+0+i),o.second=r.readUInt32LE(e+4+i),o.amount=r.readInt16LE(e+8+i),a[d]=o}return a}function readNameNT(r,e){for(var n=e;n<r.length&&0!==r[n];n++);return r.slice(e,n)}function readStringNT(r,e){return readNameNT(r,e).toString("utf8")}var HEADER=[66,77,70];module.exports=function(r){if(r.length<6)throw new Error("invalid buffer length for BMFont");if(!HEADER.every(function(e,n){return r.readUInt8(n)===e}))throw new Error("BMFont missing BMF byte header");var e=3;if(r.readUInt8(e++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var n={kernings:[],chars:[]},a=0;a<5;a++)e+=readBlock(n,r,e);return n};
},{}],30:[function(_dereq_,module,exports){
function getAttribs(e){return getAttribList(e).reduce(function(e,t){return e[mapName(t.nodeName)]=t.nodeValue,e},{})}function getAttribList(e){for(var t=[],r=0;r<e.attributes.length;r++)t.push(e.attributes[r]);return t}function mapName(e){return NAME_MAP[e.toLowerCase()]||e}var parseAttributes=_dereq_("./parse-attribs"),parseFromString=_dereq_("xml-parse-from-string"),NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};module.exports=function(e){e=e.toString();var t=parseFromString(e),r={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var a=t.getElementsByTagName(e)[0];a&&(r[e]=parseAttributes(getAttribs(a)))});var a=t.getElementsByTagName("pages")[0];if(!a)throw new Error("malformed file -- no <pages> element");for(var n=a.getElementsByTagName("page"),i=0;i<n.length;i++){var s=n[i],g=parseInt(s.getAttribute("id"),10),l=s.getAttribute("file");if(isNaN(g))throw new Error('malformed file -- page "id" attribute is NaN');if(!l)throw new Error('malformed file -- needs page "file" attribute');r.pages[parseInt(g,10)]=l}return["chars","kernings"].forEach(function(e){var a=t.getElementsByTagName(e)[0];if(a)for(var n=e.substring(0,e.length-1),i=a.getElementsByTagName(n),s=0;s<i.length;s++){var g=i[s];r[e].push(parseAttributes(getAttribs(g)))}}),r};
},{"./parse-attribs":31,"xml-parse-from-string":52}],31:[function(_dereq_,module,exports){
function parseIntList(t){return t.split(",").map(function(t){return parseInt(t,10)})}var GLYPH_DESIGNER_ERROR="chasrset";module.exports=function(t){GLYPH_DESIGNER_ERROR in t&&(t.charset=t[GLYPH_DESIGNER_ERROR],delete t[GLYPH_DESIGNER_ERROR]);for(var n in t)"face"!==n&&"charset"!==n&&(t[n]="padding"===n||"spacing"===n?parseIntList(t[n]):parseInt(t[n],10));return t};
},{}],32:[function(_dereq_,module,exports){
var trim=_dereq_("trim"),forEach=_dereq_("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var t={};return forEach(trim(r).split("\n"),function(r){var i=r.indexOf(":"),e=trim(r.slice(0,i)).toLowerCase(),o=trim(r.slice(i+1));void 0===t[e]?t[e]=o:isArray(t[e])?t[e].push(o):t[e]=[t[e],o]}),t};
},{"for-each":16,"trim":48}],33:[function(_dereq_,module,exports){
(function (global){
var performance=global.performance||{},present=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var n=e.shift();if(n in performance)return performance[n].bind(performance)}var r=Date.now||function(){return(new Date).getTime()},o=(performance.timing||{}).navigationStart||r();return function(){return r()-o}}();present.performanceNow=performance.now,present.noConflict=function(){performance.now=present.performanceNow},present.conflict=function(){performance.now=present},present.conflict(),module.exports=present;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],34:[function(_dereq_,module,exports){
(function (setImmediate){
!function(t){function e(t,e){return function(){t.apply(e,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(t,e(r,this),e(i,this))}function o(t){var e=this;if(null===this._state)return void this._deferreds.push(t);l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var o;try{o=n(e._value)}catch(e){return void t.reject(e)}t.resolve(o)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void f(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,u.call(this)}catch(t){i.call(this,t)}}function i(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function f(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var s=setTimeout,l="function"==typeof setImmediate&&setImmediate||function(t){s(t,1)},h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var r=this;return new n(function(n,i){o.call(r,new c(t,e,n,i))})},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new n(function(e,n){function o(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(t){o(i,t)},n)}t[i]=u,0==--r&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var r=t.length,i=0;i<t.length;i++)o(i,t[i])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},n._setImmediateFn=function(t){l=t},"undefined"!=typeof module&&module.exports?module.exports=n:t.Promise||(t.Promise=n)}(this);
}).call(this,_dereq_("timers").setImmediate)

},{"timers":46}],35:[function(_dereq_,module,exports){
var dtype=_dereq_("dtype"),anArray=_dereq_("an-array"),isBuffer=_dereq_("is-buffer"),CW=[0,2,3],CCW=[2,1,3];module.exports=function(r,e){r&&(anArray(r)||isBuffer(r))||(e=r||{},r=null),e="number"==typeof e?{count:e}:e||{};for(var t="string"==typeof e.type?e.type:"uint16",u="number"==typeof e.count?e.count:1,n=e.start||0,a=!1!==e.clockwise?CW:CCW,f=a[0],o=a[1],y=a[2],i=6*u,p=r||new(dtype(t))(i),s=0,c=0;s<i;s+=6,c+=4){var C=s+n;p[C+0]=c+0,p[C+1]=c+1,p[C+2]=c+2,p[C+3]=c+f,p[C+4]=c+o,p[C+5]=c+y}return p};
},{"an-array":1,"dtype":14,"is-buffer":20}],36:[function(_dereq_,module,exports){
"use strict";function minMax(e,t,n){return Math.min(Math.max(e,t),n)}function stringContains(e,t){return e.indexOf(t)>-1}function applyArguments(e,t){return e.apply(null,t)}function parseEasingParameters(e){var t=easingFunctionRegex.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function spring(e,t){function n(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*c)*(f*Math.cos(g*n)+p*Math.sin(g*n)):(f+p*n)*Math.exp(-n*c),0===e||1===e?e:1-n}function r(){var t=cache.springs[e];if(t)return t;for(var r=0,a=0;;)if(r+=1/6,1===n(r)){if(++a>=16)break}else a=0;var i=r*(1/6)*1e3;return cache.springs[e]=i,i}var a=parseEasingParameters(e),i=minMax(is.und(a[0])?1:a[0],.1,100),s=minMax(is.und(a[1])?100:a[1],.1,100),o=minMax(is.und(a[2])?10:a[2],.1,100),u=minMax(is.und(a[3])?0:a[3],.1,100),c=Math.sqrt(s/i),l=o/(2*Math.sqrt(s*i)),g=l<1?c*Math.sqrt(1-l*l):0,f=1,p=l<1?(l*c-u)/g:-u+c;return t?n:r}function elastic(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=minMax(e,1,10),r=minMax(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function steps(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}function parseEasings(e,t){if(is.fnc(e))return e;var n=e.split("(")[0],r=penner[n],a=parseEasingParameters(e);switch(n){case"spring":return spring(e,t);case"cubicBezier":return applyArguments(bezier,a);case"steps":return applyArguments(steps,a);default:return is.fnc(r)?applyArguments(r,a):applyArguments(bezier,r)}}function selectString(e){try{return document.querySelectorAll(e)}catch(e){return}}function filterArray(e,t){for(var n=auxArrayFilter,r=e.length,a=arguments.length>=2?arguments[1]:void 0,i=0;i<r;i++)if(i in e){var s=e[i];t.call(a,s,i,e)&&n.push(s)}return auxArrayFilter=e,auxArrayFilter.length=0,n}function flattenArray(e,t){t||(t=[]);for(var n=0,r=e.length;n<r;n++){var a=e[n];Array.isArray(a)?flattenArray(a,t):t.push(a)}return t}function toArray(e){return is.arr(e)?e:(is.str(e)&&(e=selectString(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function arrayContains(e,t){return e.some(function(e){return e===t})}function cloneObject(e){var t={};for(var n in e)t[n]=e[n];return t}function replaceObjectProps(e,t){var n=cloneObject(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function mergeObjects(e,t){var n=cloneObject(e);for(var r in t)n[r]=is.und(e[r])?t[r]:e[r];return n}function rgbToRgba(e){var t=rgbRegex.exec(e);return t?"rgba("+t[1]+",1)":e}function hexToRgba(e){var t=e.replace(hexToRgbaHexRegex,function(e,t,n,r){return t+t+n+n+r+r}),n=hexToRgbaRgbRegex.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}function hslToRgba(e){function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n,r,a,i=hslToRgbaHsl1Regex.exec(e)||hslToRgbaHsl2Regex.exec(e),s=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,u=parseInt(i[3],10)/100,c=i[4]||1;if(0==o)n=r=a=u;else{var l=u<.5?u*(1+o):u+o-u*o,g=2*u-l;n=t(g,l,s+1/3),r=t(g,l,s),a=t(g,l,s-1/3)}return"rgba("+255*n+","+255*r+","+255*a+","+c+")"}function colorToRgb(e){return is.rgb(e)?rgbToRgba(e):is.hex(e)?hexToRgba(e):is.hsl(e)?hslToRgba(e):void 0}function getUnit(e){var t=unitRegex.exec(e);if(t)return t[2]}function getTransformUnit(e){return stringContains(e,"translate")||"perspective"===e?"px":stringContains(e,"rotate")||stringContains(e,"skew")?"deg":void 0}function getFunctionValue(e,t){return is.fnc(e)?e(t.target,t.id,t.total):e}function getAttribute(e,t){return e.getAttribute(t)}function convertPxToUnit(e,t,n){if(arrayContains([n,"deg","rad","turn"],getUnit(t)))return t;var r=cache.CSS[t+n];if(!is.und(r))return r;var a=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(a),a.style.position="absolute",a.style.width=100+n;var s=100/a.offsetWidth;i.removeChild(a);var o=s*parseFloat(t);return cache.CSS[t+n]=o,o}function getCSSValue(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?convertPxToUnit(e,a,n):a}}function getAnimationType(e,t){return is.dom(e)&&!is.inp(e)&&(getAttribute(e,t)||is.svg(e)&&e[t])?"attribute":is.dom(e)&&arrayContains(validTransforms,t)?"transform":is.dom(e)&&"transform"!==t&&getCSSValue(e,t)?"css":null!=e[t]?"object":void 0}function getElementTransforms(e){if(is.dom(e)){for(var t,n=e.style.transform||"",r=new Map;t=transformRegex.exec(n);)r.set(t[1],t[2]);return r}}function getTransformValue(e,t,n,r){var a=stringContains(t,"scale")?1:0+getTransformUnit(t),i=getElementTransforms(e).get(t)||a;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?convertPxToUnit(e,i,r):i}function getOriginalTargetValue(e,t,n,r){switch(getAnimationType(e,t)){case"transform":return getTransformValue(e,t,r,n);case"css":return getCSSValue(e,t,n);case"attribute":return getAttribute(e,t);default:return e[t]||0}}function getRelativeValue(e,t){var n=operatorRegex.exec(e);if(!n)return e;var r=getUnit(e)||0,a=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+i+r;case"-":return a-i+r;case"*":return a*i+r}}function validateValue(e,t){if(is.col(e))return colorToRgb(e);var n=getUnit(e),r=n?e.substr(0,e.length-n.length):e;return t&&!whitespaceRegex.test(e)?r+t:r}function getDistance(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function getCircleLength(e){return 2*Math.PI*getAttribute(e,"r")}function getRectLength(e){return 2*getAttribute(e,"width")+2*getAttribute(e,"height")}function getLineLength(e){return getDistance({x:getAttribute(e,"x1"),y:getAttribute(e,"y1")},{x:getAttribute(e,"x2"),y:getAttribute(e,"y2")})}function getPolylineLength(e){for(var t,n=e.points,r=0,a=0;a<n.numberOfItems;a++){var i=n.getItem(a);a>0&&(r+=getDistance(t,i)),t=i}return r}function getPolygonLength(e){var t=e.points;return getPolylineLength(e)+getDistance(t.getItem(t.numberOfItems-1),t.getItem(0))}function getTotalLength(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return getCircleLength(e);case"rect":return getRectLength(e);case"line":return getLineLength(e);case"polyline":return getPolylineLength(e);case"polygon":return getPolygonLength(e)}}function setDashoffset(e){var t=getTotalLength(e);return e.setAttribute("stroke-dasharray",t),t}function getParentSvgEl(e){for(var t=e.parentNode;is.svg(t)&&(t=t.parentNode,is.svg(t.parentNode)););return t}function getParentSvg(e,t){var n=t||{},r=n.el||getParentSvgEl(e),a=r.getBoundingClientRect(),i=getAttribute(r,"viewBox"),s=a.width,o=a.height,u=n.viewBox||(i?i.split(" "):[0,0,s,o]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:s/u[2],h:o/u[3]}}function getPath(e,t){var n=is.str(e)?selectString(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:getParentSvg(n),totalLength:getTotalLength(n)*(r/100)}}}function getPathProgress(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=getParentSvg(e.el,e.svg),a=n(),i=n(-1),s=n(1);switch(e.property){case"x":return(a.x-r.x)*r.w;case"y":return(a.y-r.y)*r.h;case"angle":return 180*Math.atan2(s.y-i.y,s.x-i.x)/Math.PI}}function decomposeValue(e,t){var n=validateValue(is.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(valueRegex)?n.match(valueRegex).map(Number):[0],strings:is.str(e)||t?n.split(valueRegex):[]}}function parseTargets(e){return filterArray(e?flattenArray(is.arr(e)?e.map(toArray):toArray(e)):[],function(e,t,n){return n.indexOf(e)===t})}function getAnimatables(e){var t=parseTargets(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:getElementTransforms(e)}}})}function normalizePropertyTweens(e,t){var n=cloneObject(t);if(springRegex.test(n.easing)&&(n.duration=spring(n.easing)),is.arr(e)){var r=e.length;2===r&&!is.obj(e[0])?e={value:e}:is.fnc(t.duration)||(n.duration=t.duration/r)}var a=is.arr(e)?e:[e];return a.map(function(e,n){var r=is.obj(e)&&!is.pth(e)?e:{value:e};return is.und(r.delay)&&(r.delay=n?0:t.delay),is.und(r.endDelay)&&(r.endDelay=n===a.length-1?t.endDelay:0),r}).map(function(e){return mergeObjects(e,n)})}function flattenKeyframes(e){for(var t=filterArray(flattenArray(e.map(function(e){return Object.keys(e)})),function(e){return is.key(e)}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),n={},r=0;r<t.length;r++)!function(r){var a=t[r];n[a]=e.map(function(e){var t={};for(var n in e)is.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t})}(r);return n}function getProperties(e,t){var n=[],r=t.keyframes;r&&(t=mergeObjects(flattenKeyframes(r),t));for(var a in t)is.key(a)&&n.push({name:a,tweens:normalizePropertyTweens(t[a],e)});return n}function normalizeTweenValues(e,t){var n={};for(var r in e){var a=getFunctionValue(e[r],t);is.arr(a)&&(a=a.map(function(e){return getFunctionValue(e,t)}),1===a.length&&(a=a[0])),n[r]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function normalizeTweens(e,t){var n;return e.tweens.map(function(r){var a=normalizeTweenValues(r,t),i=a.value,s=is.arr(i)?i[1]:i,o=getUnit(s),u=getOriginalTargetValue(t.target,e.name,o,t),c=n?n.to.original:u,l=is.arr(i)?i[0]:c,g=getUnit(l)||getUnit(u),f=o||g;return is.und(s)&&(s=c),a.from=decomposeValue(l,f),a.to=decomposeValue(getRelativeValue(s,l),f),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=parseEasings(a.easing,a.duration),a.isPath=is.pth(i),a.isColor=is.col(a.from.original),a.isColor&&(a.round=1),n=a,a})}function setTargetsValue(e,t){for(var n=getAnimatables(e),r=0,a=n.length;r<a;r++){var i=n[r];for(var s in t){var o=getFunctionValue(t[s],i),u=i.target,c=getUnit(o),l=getOriginalTargetValue(u,s,c,i),g=c||getUnit(l),f=getRelativeValue(validateValue(o,g),l),p=getAnimationType(u,s);setProgressValue[p](u,s,f,i.transforms,!0)}}}function createAnimation(e,t){var n=getAnimationType(e.target,t.name);if(n){var r=normalizeTweens(t,e),a=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}function getAnimations(e,t){return filterArray(flattenArray(e.map(function(e){return t.map(function(t){return createAnimation(e,t)})})),function(e){return!is.und(e)})}function getInstanceTimings(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map(function(e){return r(e)+e.duration})):t.duration,a.delay=n?Math.min.apply(Math,e.map(function(e){return r(e)+e.delay})):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map(function(e){return r(e)+e.duration-e.endDelay})):t.endDelay,a}function createNewInstance(e){var t=replaceObjectProps(defaultInstanceSettings,e),n=replaceObjectProps(defaultTweenSettings,e),r=getProperties(n,e),a=getAnimatables(e.targets),i=getAnimations(a,r),s=getInstanceTimings(i,n),o=instanceID;return instanceID++,mergeObjects(t,{id:o,children:[],animatables:a,animations:i,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}function handleVisibilityChange(){if(document.hidden){for(var e=0,t=activeInstances.length;e<t;e++)activeInstance[e].pause();pausedInstances=activeInstances.slice(0),activeInstances=[]}else for(var n=0,r=pausedInstances.length;n<r;n++)pausedInstances[n].play()}function anime(e){function t(){return window.Promise&&new Promise(function(e){return v=e})}function n(){y.reversed=!y.reversed;for(var e=0,t=g.length;e<t;e++)g[e].reversed=y.reversed}function r(e){return y.reversed?y.duration-e:e}function a(){f=0,p=r(y.currentTime)*(1/anime.speed)}function i(e,t){t&&t.seek(e-t.timelineOffset)}function s(e){if(y.reversePlayback)for(var t=d;t--;)i(e,g[t]);else for(var n=0;n<d;n++)i(e,g[n])}function o(e){for(var t=0,n=y.animations,r=n.length;t<r;){var a=n[t],i=a.animatable,s=a.tweens,o=s.length-1,u=s[o];o&&(u=filterArray(s,function(t){return e<t.end})[0]||u);for(var c=minMax(e-u.start-u.delay,0,u.duration)/u.duration,l=isNaN(c)?1:u.easing(c),g=u.to.strings,f=u.round,p=[],m=u.to.numbers.length,d=void 0,v=0;v<m;v++){var h=void 0,b=u.to.numbers[v],x=u.from.numbers[v]||0;h=u.isPath?getPathProgress(u.value,l*b):x+l*(b-x),f&&(u.isColor&&v>2||(h=Math.round(h*f)/f)),p.push(h)}var T=g.length;if(T){d=g[0];for(var A=0;A<T;A++){var R=(g[A],g[A+1]),P=p[A];isNaN(P)||(d+=R?P+R:P+" ")}}else d=p[0];setProgressValue[a.type](i.target,a.property,d,i.transforms),a.currentValue=d,t++}}function u(e){y[e]&&!y.passThrough&&y[e](y)}function c(){y.remaining&&!0!==y.remaining&&y.remaining--}function l(e){var a=y.duration,i=y.delay,l=a-y.endDelay,d=r(e);y.progress=minMax(d/a*100,0,100),y.reversePlayback=d<y.currentTime,g&&s(d),!y.began&&y.currentTime>0&&(y.began=!0,u("begin"),u("loopBegin")),d<=i&&0!==y.currentTime&&o(0),(d>=l&&y.currentTime!==a||!a)&&o(a),d>i&&d<l?(y.changeBegan||(y.changeBegan=!0,y.changeCompleted=!1,u("changeBegin")),u("change"),o(d)):y.changeBegan&&(y.changeCompleted=!0,y.changeBegan=!1,u("changeComplete")),y.currentTime=minMax(d,0,a),y.began&&u("update"),e>=a&&(p=0,c(),y.remaining?(f=m,u("loopComplete"),u("loopBegin"),"alternate"===y.direction&&n()):(y.paused=!0,y.completed||(y.completed=!0,u("loopComplete"),u("complete"),"Promise"in window&&(v(),h=t()))))}void 0===e&&(e={});var g,f=0,p=0,m=0,d=0,v=null,h=t(),y=createNewInstance(e);return y.reset=function(){var e=y.direction;y.passThrough=!1,y.currentTime=0,y.progress=0,y.paused=!0,y.began=!1,y.changeBegan=!1,y.completed=!1,y.changeCompleted=!1,y.reversePlayback=!1,y.reversed="reverse"===e,y.remaining=y.loop,g=y.children,d=g.length;for(var t=d;t--;)y.children[t].reset();(y.reversed&&!0!==y.loop||"alternate"===e&&1===y.loop)&&y.remaining++,o(0)},y.set=function(e,t){return setTargetsValue(e,t),y},y.tick=function(e){m=e,f||(f=m),l((m+(p-f))*anime.speed)},y.seek=function(e){l(r(e))},y.pause=function(){y.paused=!0,a()},y.play=function(){y.paused&&(y.paused=!1,activeInstances.push(y),a(),raf||engine())},y.reverse=function(){n(),a()},y.restart=function(){y.reset(),y.play()},y.finished=h,y.reset(),y.autoplay&&y.play(),y}function removeTargetsFromAnimations(e,t){for(var n=t.length;n--;)arrayContains(e,t[n].animatable.target)&&t.splice(n,1)}function removeTargets(e){for(var t=parseTargets(e),n=activeInstances.length;n--;){var r=activeInstances[n],a=r.animations,i=r.children;removeTargetsFromAnimations(t,a);for(var s=i.length;s--;){var o=i[s],u=o.animations;removeTargetsFromAnimations(t,u),u.length||o.children.length||i.splice(s,1)}a.length||i.length||r.pause()}}function stagger(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?parseEasings(t.easing):null,a=t.grid,i=t.axis,s=t.from||0,o="first"===s,u="center"===s,c="last"===s,l=is.arr(e),g=l?parseFloat(e[0]):parseFloat(e),f=l?parseFloat(e[1]):0,p=getUnit(l?e[1]:e)||0,m=t.start||0+(l?g:0),d=[],v=0;return function(e,t,h){if(o&&(s=0),u&&(s=(h-1)/2),c&&(s=h-1),!d.length){for(var y=0;y<h;y++){if(a){var b=u?(a[0]-1)/2:s%a[0],x=u?(a[1]-1)/2:Math.floor(s/a[0]),T=y%a[0],A=Math.floor(y/a[0]),R=b-T,P=x-A,w=Math.sqrt(R*R+P*P);"x"===i&&(w=-R),"y"===i&&(w=-P),d.push(w)}else d.push(Math.abs(s-y));v=Math.max.apply(Math,d)}r&&(d=d.map(function(e){return r(e/v)*v})),"reverse"===n&&(d=d.map(function(e){return i?e<0?-1*e:-e:Math.abs(v-e)}))}return m+(l?(f-g)/v:g)*(Math.round(100*d[t])/100)+p}}function timeline(e){void 0===e&&(e={});var t=anime(e);return t.duration=0,t.add=function(n,r){function a(e){e.passThrough=!0}var i=activeInstances.indexOf(t),s=t.children;i>-1&&activeInstances.splice(i,1);for(var o=0;o<s.length;o++)a(s[o]);var u=mergeObjects(n,replaceObjectProps(defaultTweenSettings,e));u.targets=u.targets||e.targets;var c=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=is.und(r)?c:getRelativeValue(r,c),a(t),t.seek(u.timelineOffset);var l=anime(u);a(l),s.push(l);var g=getInstanceTimings(s,e);return t.delay=g.delay,t.endDelay=g.endDelay,t.duration=g.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}var defaultInstanceSettings={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},defaultTweenSettings={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},validTransforms=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],cache={CSS:{},springs:{}},hexRegex=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,rgbPrefixRegex=/^rgb/,hslRegex=/^hsl/,is={arr:function(e){return Array.isArray(e)},obj:function(e){return stringContains(Object.prototype.toString.call(e),"Object")},pth:function(e){return is.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||is.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return hexRegex.test(e)},rgb:function(e){return rgbPrefixRegex.test(e)},hsl:function(e){return hslRegex.test(e)},col:function(e){return is.hex(e)||is.rgb(e)||is.hsl(e)},key:function(e){return!defaultInstanceSettings.hasOwnProperty(e)&&!defaultTweenSettings.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}},easingFunctionRegex=/\(([^)]+)\)/,bezier=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,a,i){return((e(a,i)*r+t(a,i))*r+n(a))*r}function a(r,a,i){return 3*e(a,i)*r*r+2*t(a,i)*r+n(a)}function i(e,t,n,a,i){var s,o,u=0;do{o=t+(n-t)/2,s=r(o,a,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++u<10);return o}function s(e,t,n,i){for(var s=0;s<4;++s){var o=a(t,n,i);if(0===o)return t;t-=(r(t,n,i)-e)/o}return t}function o(e,t,n,o){function l(t){for(var r=0,o=1,l=u-1;o!==l&&g[o]<=t;++o)r+=c;--o;var f=(t-g[o])/(g[o+1]-g[o]),p=r+f*c,m=a(p,e,n);return m>=.001?s(t,p,e,n):0===m?p:i(t,r,r+c,e,n)}if(0<=e&&e<=1&&0<=n&&n<=1){var g=new Float32Array(u);if(e!==t||n!==o)for(var f=0;f<u;++f)g[f]=r(f*c,e,n);return function(a){return e===t&&n===o?a:0===a||1===a?a:r(l(a),t,o)}}}var u=11,c=1/(u-1);return o}(),penner=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],elastic],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(n){return 1-elastic(e,t)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(n){return n<.5?elastic(e,t)(2*n)/2:1-elastic(e,t)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]};for(var r in t)for(var a=0,i=t[r].length;a<i;a++)n["ease"+r+e[a]]=t[r][a];return n}(),auxArrayFilter=[],rgbRegex=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,hexToRgbaHexRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,hexToRgbaRgbRegex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hslToRgbaHsl1Regex=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,hslToRgbaHsl2Regex=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g,unitRegex=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,transformRegex=/(\w+)\(([^)]*)\)/g,operatorRegex=/^(\*=|\+=|-=)/,whitespaceRegex=/\s/g,valueRegex=/-?\d*\.?\d+/g,springRegex=/^spring/,setProgressValue={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,a){if(r.list.set(t,n),t===r.last||a){var i="";r.list.forEach(function(e,t){i+=t+"("+e+") "}),e.style.transform=i}}},instanceID=0,activeInstances=[],pausedInstances=[],raf,engine=function(){function e(){raf=requestAnimationFrame(t)}function t(t){var n=activeInstances.length;if(n){for(var r=0;r<n;){var a=activeInstances[r];if(a.paused){var i=activeInstances.indexOf(a);i>-1&&(activeInstances.splice(i,1),n=activeInstances.length)}else a.tick(t);r++}e()}else raf=cancelAnimationFrame(raf)}return e}();document.addEventListener("visibilitychange",handleVisibilityChange),anime.version="3.0.0",anime.speed=1,anime.running=activeInstances,anime.remove=removeTargets,anime.get=getOriginalTargetValue,anime.set=setTargetsValue,anime.convertPx=convertPxToUnit,anime.path=getPath,anime.setDashoffset=setDashoffset,anime.stagger=stagger,anime.timeline=timeline,anime.easing=parseEasings,anime.penner=penner,anime.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},module.exports=anime;
},{}],37:[function(_dereq_,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,t(e.THREE={}))}(this,function(e){"use strict";function t(){}function n(e,t){this.x=e||0,this.y=t||0}function r(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function i(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function a(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function o(e,t,r,i,s,c,l,h,u,p){Object.defineProperty(this,"id",{value:ml++}),this.uuid=ll.generateUUID(),this.name="",this.image=void 0!==e?e:o.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:o.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:qs,this.wrapT=void 0!==i?i:qs,this.magFilter=void 0!==s?s:Qs,this.minFilter=void 0!==c?c:$s,this.anisotropy=void 0!==u?u:1,this.format=void 0!==l?l:fc,this.type=void 0!==h?h:ec,this.offset=new n(0,0),this.repeat=new n(1,1),this.center=new n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new a,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:qc,this.version=0,this.onUpdate=null}function s(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function c(e,t,n){this.width=e,this.height=t,this.scissor=new s(0,0,e,t),this.scissorTest=!1,this.viewport=new s(0,0,e,t),n=n||{},this.texture=new o(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Qs,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function l(e,t,n){c.call(this,e,t,n),this.samples=4}function h(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function u(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||u.DefaultOrder}function p(){this.mask=1}function d(){function e(){s.setFromEuler(o,!1)}function t(){o.setFromQuaternion(s,void 0,!1)}Object.defineProperty(this,"id",{value:Tl++}),this.uuid=ll.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=d.DefaultUp.clone();var n=new i,o=new u,s=new r,c=new i(1,1,1);o._onChange(e),s._onChange(t),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:c},modelViewMatrix:{value:new h},normalMatrix:{value:new a}}),this.matrix=new h,this.matrixWorld=new h,this.matrixAutoUpdate=d.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new p,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function f(){d.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function m(e,t){this.min=void 0!==e?e:new i(1/0,1/0,1/0),this.max=void 0!==t?t:new i(-1/0,-1/0,-1/0)}function v(e,t,n,r,i){var a,o;for(a=0,o=e.length-3;a<=o;a+=3){Jl.fromArray(e,a);var s=i.x*Math.abs(Jl.x)+i.y*Math.abs(Jl.y)+i.z*Math.abs(Jl.z),c=t.dot(Jl),l=n.dot(Jl),h=r.dot(Jl);if(Math.max(-Math.max(c,l,h),Math.min(c,l,h))>s)return!1}return!0}function g(e,t){this.center=void 0!==e?e:new i,this.radius=void 0!==t?t:0}function y(e,t){this.origin=void 0!==e?e:new i,this.direction=void 0!==t?t:new i(0,0,-1)}function x(e,t){this.normal=void 0!==e?e:new i(1,0,0),this.constant=void 0!==t?t:0}function b(e,t,n){this.a=void 0!==e?e:new i,this.b=void 0!==t?t:new i,this.c=void 0!==n?n:new i}function w(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function _(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function M(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function S(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function T(e,t,n,r,a,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new i,this.vertexNormals=Array.isArray(r)?r:[],this.color=a&&a.isColor?a:new w,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==o?o:0}function E(){Object.defineProperty(this,"id",{value:wh++}),this.uuid=ll.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=es,this.side=Xo,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=Jo,this.opacity=1,this.transparent=!1,this.blendSrc=fs,this.blendDst=ms,this.blendEquation=as,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ss,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=al,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=il,this.stencilZFail=il,this.stencilZPass=il,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function A(e){E.call(this),this.type="MeshBasicMaterial",this.color=new w(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Rs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function L(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=ol,this.updateRange={offset:0,count:-1},this.version=0}function R(e,t,n){L.call(this,new Int8Array(e),t,n)}function P(e,t,n){L.call(this,new Uint8Array(e),t,n)}function C(e,t,n){L.call(this,new Uint8ClampedArray(e),t,n)}function O(e,t,n){L.call(this,new Int16Array(e),t,n)}function D(e,t,n){L.call(this,new Uint16Array(e),t,n)}function I(e,t,n){L.call(this,new Int32Array(e),t,n)}function N(e,t,n){L.call(this,new Uint32Array(e),t,n)}function z(e,t,n){L.call(this,new Float32Array(e),t,n)}function B(e,t,n){L.call(this,new Float64Array(e),t,n)}function U(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function F(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function G(){Object.defineProperty(this,"id",{value:Mh+=2}),this.uuid=ll.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function H(e,t){d.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new G,this.material=void 0!==t?t:new A({color:16777215*Math.random()}),this.updateMorphTargets()}function V(e,t,n,r,i,a,o,s){if(null===(t.side===Yo?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==Zo,s)))return null;qh.copy(s),qh.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(qh);return c<n.near||c>n.far?null:{distance:c,point:qh.clone(),object:e}}function j(e,t,r,i,a,o,s,c,l,h,u,p){Dh.fromBufferAttribute(a,h),Ih.fromBufferAttribute(a,u),Nh.fromBufferAttribute(a,p);var d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){Fh.set(0,0,0),Gh.set(0,0,0),Hh.set(0,0,0);for(var f=0,m=o.length;f<m;f++){var v=d[f],g=o[f];0!==v&&(zh.fromBufferAttribute(g,h),Bh.fromBufferAttribute(g,u),Uh.fromBufferAttribute(g,p),s?(Fh.addScaledVector(zh,v),Gh.addScaledVector(Bh,v),Hh.addScaledVector(Uh,v)):(Fh.addScaledVector(zh.sub(Dh),v),Gh.addScaledVector(Bh.sub(Ih),v),Hh.addScaledVector(Uh.sub(Nh),v)))}Dh.add(Fh),Ih.add(Gh),Nh.add(Hh)}var y=V(e,t,r,i,Dh,Ih,Nh,Wh);if(y){c&&(Vh.fromBufferAttribute(c,h),jh.fromBufferAttribute(c,u),kh.fromBufferAttribute(c,p),y.uv=b.getUV(Wh,Dh,Ih,Nh,Vh,jh,kh,new n)),l&&(Vh.fromBufferAttribute(l,h),jh.fromBufferAttribute(l,u),kh.fromBufferAttribute(l,p),y.uv2=b.getUV(Wh,Dh,Ih,Nh,Vh,jh,kh,new n));var x=new T(h,u,p);b.getNormal(Dh,Ih,Nh,x.normal),y.face=x}return y}function k(){Object.defineProperty(this,"id",{value:Xh+=2}),this.uuid=ll.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function W(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function q(e){for(var t={},n=0;n<e.length;n++){var r=W(e[n]);for(var i in r)t[i]=r[i]}return t}function X(e){E.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=eu,this.fragmentShader=tu,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Y(){d.call(this),this.type="Camera",this.matrixWorldInverse=new h,this.projectionMatrix=new h,this.projectionMatrixInverse=new h}function Z(e,t,n,r){Y.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function J(e,t,n,r){d.call(this),this.type="CubeCamera";var a=new Z(nu,ru,e,t);a.up.set(0,-1,0),a.lookAt(new i(1,0,0)),this.add(a);var o=new Z(nu,ru,e,t);o.up.set(0,-1,0),o.lookAt(new i(-1,0,0)),this.add(o);var s=new Z(nu,ru,e,t);s.up.set(0,0,1),s.lookAt(new i(0,1,0)),this.add(s);var c=new Z(nu,ru,e,t);c.up.set(0,0,-1),c.lookAt(new i(0,-1,0)),this.add(c);var l=new Z(nu,ru,e,t);l.up.set(0,-1,0),l.lookAt(new i(0,0,1)),this.add(l);var h=new Z(nu,ru,e,t);h.up.set(0,-1,0),h.lookAt(new i(0,0,-1)),this.add(h),r=r||{format:dc,magFilter:Qs,minFilter:Qs},this.renderTarget=new Q(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,i=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,a),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,c),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=i,e.setRenderTarget(r,5),e.render(t,h),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(a,o),e.clear(t,n,r);e.setRenderTarget(i)}}function Q(e,t,n){c.call(this,e,t,n)}function K(e,t,n,r,i,a,s,c,l,h,u,p){o.call(this,null,a,s,c,l,h,r,i,u,p),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:Ys,this.minFilter=void 0!==h?h:Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}function $(e,t,n,r,i,a){this.planes=[void 0!==e?e:new x,void 0!==t?t:new x,void 0!==n?n:new x,void 0!==r?r:new x,void 0!==i?i:new x,void 0!==a?a:new x]}function ee(){function e(i,a){!1!==n&&(r(i,a),t.requestAnimationFrame(e))}var t=null,n=!1,r=null;return{start:function(){!0!==n&&null!==r&&(t.requestAnimationFrame(e),n=!0)},stop:function(){n=!1},setAnimationLoop:function(e){r=e},setContext:function(e){t=e}}}function te(e){function t(t,n){var r=t.array,i=t.usage,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function n(t,n,r){var i=n.array,a=n.updateRange;e.bindBuffer(r,t),-1===a.count?e.bufferSubData(r,0,i):(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}function r(e){return e.isInterleavedBufferAttribute&&(e=e.data),o.get(e)}function i(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=o.get(t);n&&(e.deleteBuffer(n.buffer),o.delete(t))}function a(e,r){e.isInterleavedBufferAttribute&&(e=e.data);var i=o.get(e);void 0===i?o.set(e,t(e,r)):i.version<e.version&&(n(i.buffer,e,r),i.version=e.version)}var o=new WeakMap;return{get:r,remove:i,update:a}}function ne(e,t,n,r){k.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new re(e,t,n,r)),this.mergeVertices()}function re(e,t,n,r){G.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;var i,a,o=e/2,s=t/2,c=Math.floor(n)||1,l=Math.floor(r)||1,h=c+1,u=l+1,p=e/c,d=t/l,f=[],m=[],v=[],g=[];for(a=0;a<u;a++){var y=a*d-s;for(i=0;i<h;i++){var x=i*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(i/c),g.push(1-a/l)}}for(a=0;a<l;a++)for(i=0;i<c;i++){var b=i+h*a,w=i+h*(a+1),_=i+1+h*(a+1),M=i+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.setAttribute("position",new z(m,3)),this.setAttribute("normal",new z(v,3)),this.setAttribute("uv",new z(g,2))}function ie(e,t,n,r){function i(t,r,i,p){var d=r.background,f=e.xr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(a(c,l),h=null,u=0):d&&d.isColor&&(a(d,1),p=!0,h=null,u=0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube||d.mapping===js)){void 0===s&&(s=new H(new Kh(1,1,1),new X({type:"BackgroundCubeMaterial",uniforms:W(cu.cube.uniforms),vertexShader:cu.cube.vertexShader,fragmentShader:cu.cube.fragmentShader,side:Yo,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"map",{get:function(){return this.envMap.value}}),n.update(s));var v=d.isWebGLRenderTargetCube?d.texture:d;s.material.envMap=v,h===d&&u===v.version||(s.material.needsUpdate=!0,h=d,u=v.version),t.unshift(s,s.geometry,s.material,0,0,null)}else d&&d.isTexture&&(void 0===o&&(o=new H(new re(2,2),new X({type:"BackgroundMaterial",uniforms:W(cu.background.uniforms),vertexShader:cu.background.vertexShader,fragmentShader:cu.background.fragmentShader,side:Xo,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),o.material.uniforms.uvTransform.value.copy(d.matrix),h===d&&u===d.version||(o.material.needsUpdate=!0,h=d,u=d.version),t.unshift(o,o.geometry,o.material,0,0,null))}function a(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}var o,s,c=new w(0),l=0,h=null,u=0;return{getClearColor:function(){return c},setClearColor:function(e,t){c.set(e),l=void 0!==t?t:1,a(c,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,a(c,l)},render:i}}function ae(e,t,n,r){function i(e){s=e}function a(t,r){e.drawArrays(s,t,r),n.update(r,s)}function o(r,i,a,o){if(0!==o){var l,h;if(c)l=e,h="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[h](s,i,a,o),n.update(a,s,o)}}var s,c=r.isWebGL2;this.setMode=i,this.render=a,this.renderInstances=o}function oe(e,t,n){function r(){if(void 0!==a)return a;var n=t.get("EXT_texture_filter_anisotropic");return a=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a,o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,s=void 0!==n.precision?n.precision:"highp",c=i(s);c!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",c,"instead."),s=c);var l=!0===n.logarithmicDepthBuffer,h=e.getParameter(34930),u=e.getParameter(35660),p=e.getParameter(3379),d=e.getParameter(34076),f=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=u>0,x=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:r,getMaxPrecision:i,precision:s,logarithmicDepthBuffer:l,maxTextures:h,maxVertexTextures:u,maxTextureSize:p,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:x,floatVertexTextures:y&&x,maxSamples:o?e.getParameter(36183):0}}function se(){function e(){h.value!==r&&(h.value=r,h.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var a=null!==e?e.length:0,o=null;if(0!==a){if(o=h.value,!0!==i||null===o){var s=r+4*a,u=t.matrixWorldInverse;l.getNormalMatrix(u),(null===o||o.length<s)&&(o=new Float32Array(s));for(var p=0,d=r;p!==a;++p,d+=4)c.copy(e[p]).applyMatrix4(u,l),c.normal.toArray(o,d),o[d+3]=c.constant}h.value=o,h.needsUpdate=!0}return n.numPlanes=a,o}var n=this,r=null,i=0,o=!1,s=!1,c=new x,l=new a,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){s=!0,t(null)},this.endShadows=function(){s=!1,e()},this.setState=function(n,a,c,l,u,p){if(!o||null===n||0===n.length||s&&!c)s?t(null):e();else{var d=s?0:i,f=4*d,m=u.clippingState||null;h.value=m,m=t(n,l,f,p);for(var v=0;v!==f;++v)m[v]=r[v];u.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function ce(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function le(e,t,n){function r(e){var i=e.target,a=c.get(i);null!==a.index&&t.remove(a.index);for(var o in a.attributes)t.remove(a.attributes[o]);i.removeEventListener("dispose",r),c.delete(i);var s=l.get(a);s&&(t.remove(s),l.delete(a)),n.memory.geometries--}function i(e,t){var i=c.get(t);return i||(t.addEventListener("dispose",r),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new G).setFromObject(e)),i=t._bufferGeometry),c.set(t,i),n.memory.geometries++,i)}function a(e){var n=e.index,r=e.attributes;null!==n&&t.update(n,34963);for(var i in r)t.update(r[i],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,c=o.length;s<c;s++)t.update(o[s],34962)}function o(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var o=r.array;a=r.version;for(var s=0,c=o.length;s<c;s+=3){var h=o[s+0],u=o[s+1],p=o[s+2];n.push(h,u,u,p,p,h)}}else{var o=i.array;a=i.version;for(var s=0,c=o.length/3-1;s<c;s+=3){var h=s+0,u=s+1,p=s+2;n.push(h,u,u,p,p,h)}}var d=new(F(n)>65535?N:D)(n,1);d.version=a,t.update(d,34963);var f=l.get(e);f&&t.remove(f),l.set(e,d)}function s(e){var t=l.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return l.get(e)}var c=new WeakMap,l=new WeakMap;return{get:i,update:a,getWireframeAttribute:s}}function he(e,t,n,r){function i(e){c=e}function a(e){l=e.type,h=e.bytesPerElement}function o(t,r){e.drawElements(c,r,l,t*h),n.update(r,c)}function s(r,i,a,o){if(0!==o){var s,p;if(u)s=e,p="drawElementsInstanced";else if(s=t.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",null===s)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");s[p](c,a,l,i*h,o),n.update(a,c,o)}}var c,l,h,u=r.isWebGL2;this.setMode=i,this.setIndex=a,this.render=o,this.renderInstances=s}function ue(e){function t(e,t,n){switch(n=n||1,i.calls++,t){case 4:i.triangles+=n*(e/3);break;case 1:i.lines+=n*(e/2);break;case 3:i.lines+=n*(e-1);break;case 2:i.lines+=n*e;break;case 0:i.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t)}}function n(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}var r={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:r,render:i,programs:null,autoReset:!0,reset:n,update:t}}function pe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function de(e){function t(t,i,a,o){var s=t.morphTargetInfluences,c=void 0===s?0:s.length,l=n[i.id];if(void 0===l){l=[];for(var h=0;h<c;h++)l[h]=[h,0];n[i.id]=l}for(var u=a.morphTargets&&i.morphAttributes.position,p=a.morphNormals&&i.morphAttributes.normal,h=0;h<c;h++){var d=l[h];0!==d[1]&&(u&&i.deleteAttribute("morphTarget"+h),p&&i.deleteAttribute("morphNormal"+h))}for(var h=0;h<c;h++){var d=l[h];d[0]=h,d[1]=s[h]}l.sort(pe);for(var f=0,h=0;h<8;h++){var d=l[h];if(d){var m=d[0],v=d[1];if(v){u&&i.setAttribute("morphTarget"+h,u[m]),p&&i.setAttribute("morphNormal"+h,p[m]),r[h]=v,f+=v;continue}}r[h]=0}var g=i.morphTargetsRelative?1:1-f;o.getUniforms().setValue(e,"morphTargetBaseInfluence",g),o.getUniforms().setValue(e,"morphTargetInfluences",r)}var n={},r=new Float32Array(8);return{update:t}}function fe(e,t,n,r){function i(e){var i=r.render.frame,a=e.geometry,s=t.get(e,a);return o[s.id]!==i&&(a.isGeometry&&s.updateFromObject(e),t.update(s),o[s.id]=i),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s}function a(){o={}}var o={};return{update:i,dispose:a}}function me(e,t,n,r,i,a,s,c,l,h){e=void 0!==e?e:[],t=void 0!==t?t:Us,s=void 0!==s?s:dc,o.call(this,e,t,n,r,i,a,s,c,l,h),this.flipY=!1}function ve(e,t,n,r){o.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=Ys,this.minFilter=Ys,this.wrapR=qs,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ge(e,t,n,r){o.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=Ys,this.minFilter=Ys,this.wrapR=qs,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ye(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=du[i];if(void 0===a&&(a=new Float32Array(i),du[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function xe(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function be(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function we(e,t){var n=fu[t];void 0===n&&(n=new Int32Array(t),fu[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function _e(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Me(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xe(n,t))return;e.uniform2fv(this.addr,t),be(n,t)}}function Se(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xe(n,t))return;e.uniform3fv(this.addr,t),be(n,t)}}function Te(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xe(n,t))return;e.uniform4fv(this.addr,t),be(n,t)}}function Ee(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xe(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),be(n,t)}else{if(xe(n,r))return;gu.set(r),e.uniformMatrix2fv(this.addr,!1,gu),be(n,r)}}function Ae(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xe(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),be(n,t)}else{if(xe(n,r))return;vu.set(r),e.uniformMatrix3fv(this.addr,!1,vu),be(n,r)}}function Le(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xe(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),be(n,t)}else{if(xe(n,r))return;mu.set(r),e.uniformMatrix4fv(this.addr,!1,mu),be(n,r)}}function Re(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||lu,i)}function Pe(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||hu,i)}function Ce(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||uu,i)}function Oe(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||pu,i)}function De(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ie(e,t){var n=this.cache;xe(n,t)||(e.uniform2iv(this.addr,t),be(n,t))}function Ne(e,t){var n=this.cache;xe(n,t)||(e.uniform3iv(this.addr,t),be(n,t))}function ze(e,t){var n=this.cache;xe(n,t)||(e.uniform4iv(this.addr,t),be(n,t))}function Be(e){switch(e){case 5126:return _e;case 35664:return Me;case 35665:return Se;case 35666:return Te;case 35674:return Ee;case 35675:return Ae;case 35676:return Le;case 35678:case 36198:return Re;case 35679:return Ce;case 35680:return Oe;case 36289:return Pe;case 5124:case 35670:return De;case 35667:case 35671:return Ie;case 35668:case 35672:return Ne;case 35669:case 35673:return ze}}function Ue(e,t){e.uniform1fv(this.addr,t)}function Fe(e,t){e.uniform1iv(this.addr,t)}function Ge(e,t){e.uniform2iv(this.addr,t)}function He(e,t){e.uniform3iv(this.addr,t)}function Ve(e,t){e.uniform4iv(this.addr,t)}function je(e,t){var n=ye(t,this.size,2);e.uniform2fv(this.addr,n)}function ke(e,t){var n=ye(t,this.size,3);e.uniform3fv(this.addr,n)}function We(e,t){var n=ye(t,this.size,4);e.uniform4fv(this.addr,n)}function qe(e,t){var n=ye(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Xe(e,t){var n=ye(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ye(e,t){var n=ye(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ze(e,t,n){var r=t.length,i=we(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||lu,i[a])}function Je(e,t,n){var r=t.length,i=we(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||pu,i[a])}function Qe(e){switch(e){case 5126:return Ue;case 35664:return je;case 35665:return ke;case 35666:return We;case 35674:return qe;case 35675:return Xe;case 35676:return Ye;case 35678:return Ze;case 35680:return Je;case 5124:case 35670:return Fe;case 35667:case 35671:return Ge;case 35668:case 35672:return He;case 35669:case 35673:return Ve}}function Ke(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Be(t.type)}function $e(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Qe(t.type)}function et(e){this.id=e,this.seq=[],this.map={}}function tt(e,t){e.seq.push(t),e.map[t.id]=t}function nt(e,t,n){var r=e.name,i=r.length;for(yu.lastIndex=0;;){var a=yu.exec(r),o=yu.lastIndex,s=a[1],c="]"===a[2],l=a[3];if(c&&(s|=0),void 0===l||"["===l&&o+2===i){tt(n,void 0===l?new Ke(s,e,t):new $e(s,e,t));break}var h=n.map,u=h[s];void 0===u&&(u=new et(s),tt(n,u)),n=u}}function rt(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);nt(i,e.getUniformLocation(t,i.name),this)}}function it(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function at(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function ot(e){switch(e){case qc:return["Linear","( value )"];case Xc:return["sRGB","( value )"];case Zc:return["RGBE","( value )"];case Qc:return["RGBM","( value, 7.0 )"];case Kc:return["RGBM","( value, 16.0 )"];case $c:return["RGBD","( value, 256.0 )"];case Yc:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Jc:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function st(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+at(e.getShaderSource(t))}function ct(e,t){var n=ot(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function lt(e,t){var n=ot(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ht(e,t){var n;switch(t){case Ds:n="Linear";break;case Is:n="Reinhard";break;case Ns:n="Uncharted2";break;case zs:n="OptimizedCineon";break;case Bs:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ut(e,t,n){return e=e||{},[e.derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ft).join("\n")}function pt(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function dt(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name;n[o]=e.getAttribLocation(t,o)}return n}function ft(e){return""!==e}function mt(e,t){
return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vt(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function gt(e){return e.replace(bu,yt)}function yt(e,t){var n=ou[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return gt(n)}function xt(e){return e.replace(wu,bt)}function bt(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function wt(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function _t(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===ko?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Wo?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===qo&&(t="SHADOWMAP_TYPE_VSM"),t}function Mt(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Us:case Fs:t="ENVMAP_TYPE_CUBE";break;case js:case ks:t="ENVMAP_TYPE_CUBE_UV";break;case Gs:case Hs:t="ENVMAP_TYPE_EQUIREC";break;case Vs:t="ENVMAP_TYPE_SPHERE"}return t}function St(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Fs:case Hs:t="ENVMAP_MODE_REFRACTION"}return t}function Tt(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Rs:t="ENVMAP_BLENDING_MULTIPLY";break;case Ps:t="ENVMAP_BLENDING_MIX";break;case Cs:t="ENVMAP_BLENDING_ADD"}return t}function Et(e,t,n,r,i,a){var o,s,c=e.getContext(),l=r.defines,h=i.vertexShader,u=i.fragmentShader,p=_t(a),d=Mt(a),f=St(a),m=Tt(a),v=e.gammaFactor>0?e.gammaFactor:1,g=a.isWebGL2?"":ut(r.extensions,a,t),y=pt(l),x=c.createProgram(),b=a.numMultiviewViews;if(r.isRawShaderMaterial?(o=[y].filter(ft).join("\n"),o.length>0&&(o+="\n"),s=[g,y].filter(ft).join("\n"),s.length>0&&(s+="\n")):(o=[wt(a),"#define SHADER_NAME "+i.name,y,a.instancing?"#define USE_INSTANCING":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ft).join("\n"),s=[g,wt(a),"#define SHADER_NAME "+i.name,y,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.sheen?"#define USE_SHEEN":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensions&&r.extensions.shaderTextureLOD||a.envMap)&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==Os?"#define TONE_MAPPING":"",a.toneMapping!==Os?ou.tonemapping_pars_fragment:"",a.toneMapping!==Os?ht("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding||a.lightMapEncoding?ou.encodings_pars_fragment:"",a.mapEncoding?ct("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?ct("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?ct("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?ct("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.lightMapEncoding?ct("lightMapTexelToLinear",a.lightMapEncoding):"",a.outputEncoding?lt("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(ft).join("\n")),h=gt(h),h=mt(h,a),h=vt(h,a),u=gt(u),u=mt(u,a),u=vt(u,a),h=xt(h),u=xt(u),a.isWebGL2&&!r.isRawShaderMaterial){var w=!1,_=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(_)&&null!==u.match(_)&&(w=!0,h=h.replace(_,""),u=u.replace(_,"")),o=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+o,s=["#version 300 es\n","#define varying in",w?"":"out highp vec4 pc_fragColor;",w?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s,b>0&&(o=o.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+b+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n")),o=o.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+b+"];","uniform mat4 projectionMatrices["+b+"];","uniform mat4 viewMatrices["+b+"];","uniform mat3 normalMatrices["+b+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),s=s.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n")),s=s.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+b+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var M=o+h,S=s+u,T=it(c,35633,M),E=it(c,35632,S);if(c.attachShader(x,T),c.attachShader(x,E),void 0!==r.index0AttributeName?c.bindAttribLocation(x,0,r.index0AttributeName):!0===a.morphTargets&&c.bindAttribLocation(x,0,"position"),c.linkProgram(x),e.debug.checkShaderErrors){var A=c.getProgramInfoLog(x).trim(),L=c.getShaderInfoLog(T).trim(),R=c.getShaderInfoLog(E).trim(),P=!0,C=!0;if(!1===c.getProgramParameter(x,35714)){P=!1;var O=st(c,T,"vertex"),D=st(c,E,"fragment");console.error("THREE.WebGLProgram: shader error: ",c.getError(),"35715",c.getProgramParameter(x,35715),"gl.getProgramInfoLog",A,O,D)}else""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==L&&""!==R||(C=!1);C&&(this.diagnostics={runnable:P,material:r,programLog:A,vertexShader:{log:L,prefix:o},fragmentShader:{log:R,prefix:s}})}c.deleteShader(T),c.deleteShader(E);var I;this.getUniforms=function(){return void 0===I&&(I=new rt(c,x)),I};var N;return this.getAttributes=function(){return void 0===N&&(N=dt(c,x)),N},this.destroy=function(){c.deleteProgram(x),this.program=void 0},this.name=i.name,this.id=xu++,this.cacheKey=n,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=E,this.numMultiviewViews=b,this}function At(e,t,n){function r(e){var t=e.skeleton,n=t.bones;if(c)return 1024;var r=h,i=Math.floor((r-20)/4),a=Math.min(i,n.length);return a<n.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+a+"."),0):a}function i(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=qc,n===qc&&t&&(n=Yc),n}var a=[],o=n.isWebGL2,s=n.logarithmicDepthBuffer,c=n.floatVertexTextures,l=n.precision,h=n.maxVertexUniforms,u=n.vertexTextures,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];this.getParameters=function(t,a,h,d,f,m,v){var g=p[t.type],y=v.isSkinnedMesh?r(v):0;null!==t.precision&&(l=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",l,"instead.");var x=e.getRenderTarget(),b=x&&x.isWebGLMultiviewRenderTarget?x.numViews:0;return{isWebGL2:o,shaderID:g,precision:l,instancing:!0===v.isInstancedMesh,supportsVertexTextures:u,numMultiviewViews:b,outputEncoding:i(x?x.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map),matcap:!!t.matcap,matcapEncoding:i(t.matcap),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===js||t.envMap.mapping===ks),lightMap:!!t.lightMap,lightMapEncoding:i(t.lightMap),aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===rl,tangentSpaceNormalMap:t.normalMapType===nl,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||t.displacementMap),uvsVertexOnly:!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||!t.displacementMap),fog:!!d,useFog:t.fog,fogExp2:d&&d.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:s,skinning:t.skinning&&y>0,maxBones:y,useVertexTexture:c,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:f,numClipIntersection:m,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:Os,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Zo,flipSided:t.side===Yo,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCacheKey=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<d.length;a++)r.push(n[d[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(n,r,i,o){for(var s,c=0,l=a.length;c<l;c++){var h=a[c];if(h.cacheKey===o){s=h,++s.usedTimes;break}}return void 0===s&&(s=new Et(e,t,o,n,r,i),a.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=a.indexOf(e);a[t]=a[a.length-1],a.pop(),e.destroy()}},this.programs=a}function Lt(){function e(e){var t=i.get(e);return void 0===t&&(t={},i.set(e,t)),t}function t(e){i.delete(e)}function n(e,t,n){i.get(e)[t]=n}function r(){i=new WeakMap}var i=new WeakMap;return{get:e,remove:t,update:n,dispose:r}}function Rt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Pt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ct(){function e(){o=0,s.length=0,c.length=0}function t(e,t,n,r,i,s){var c=a[o];return void 0===c?(c={id:e.id,object:e,geometry:t,material:n,program:n.program||l,groupOrder:r,renderOrder:e.renderOrder,z:i,group:s},a[o]=c):(c.id=e.id,c.object=e,c.geometry=t,c.material=n,c.program=n.program||l,c.groupOrder=r,c.renderOrder=e.renderOrder,c.z=i,c.group=s),o++,c}function n(e,n,r,i,a,o){var l=t(e,n,r,i,a,o);(!0===r.transparent?c:s).push(l)}function r(e,n,r,i,a,o){var l=t(e,n,r,i,a,o);(!0===r.transparent?c:s).unshift(l)}function i(){s.length>1&&s.sort(Rt),c.length>1&&c.sort(Pt)}var a=[],o=0,s=[],c=[],l={id:-1};return{opaque:s,transparent:c,init:e,push:n,unshift:r,sort:i}}function Ot(){function e(t){var n=t.target;n.removeEventListener("dispose",e),r.delete(n)}function t(t,n){var i,a=r.get(t);return void 0===a?(i=new Ct,r.set(t,new WeakMap),r.get(t).set(n,i),t.addEventListener("dispose",e)):void 0===(i=a.get(n))&&(i=new Ct,a.set(n,i)),i}function n(){r=new WeakMap}var r=new WeakMap;return{get:t,dispose:n}}function Dt(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new i,color:new w,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":r={position:new i,direction:new i,color:new w,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":r={position:new i,color:new w,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":r={direction:new i,skyColor:new w,groundColor:new w};break;case"RectAreaLight":r={color:new w,position:new i,halfWidth:new i,halfHeight:new i}}return e[t.id]=r,r}}}function It(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Nt(){function e(e,r,i){for(var c=0,l=0,h=0,u=0;u<9;u++)n.probe[u].set(0,0,0);var p=0,d=0,f=0,m=0,v=0,g=0,y=0,x=0,b=i.matrixWorldInverse;e.sort(It);for(var u=0,w=e.length;u<w;u++){var _=e[u],M=_.color,S=_.intensity,T=_.distance,E=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)c+=M.r*S,l+=M.g*S,h+=M.b*S;else if(_.isLightProbe)for(var A=0;A<9;A++)n.probe[A].addScaledVector(_.sh.coefficients[A],S);else if(_.isDirectionalLight){var L=t.get(_);if(L.color.copy(_.color).multiplyScalar(_.intensity),L.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),L.direction.sub(a),L.direction.transformDirection(b),L.shadow=_.castShadow,_.castShadow){var R=_.shadow;L.shadowBias=R.bias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,n.directionalShadowMap[p]=E,n.directionalShadowMatrix[p]=_.shadow.matrix,g++}n.directional[p]=L,p++}else if(_.isSpotLight){var L=t.get(_);if(L.position.setFromMatrixPosition(_.matrixWorld),L.position.applyMatrix4(b),L.color.copy(M).multiplyScalar(S),L.distance=T,L.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),L.direction.sub(a),L.direction.transformDirection(b),L.coneCos=Math.cos(_.angle),L.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),L.decay=_.decay,L.shadow=_.castShadow,_.castShadow){var R=_.shadow;L.shadowBias=R.bias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,n.spotShadowMap[f]=E,n.spotShadowMatrix[f]=_.shadow.matrix,x++}n.spot[f]=L,f++}else if(_.isRectAreaLight){var L=t.get(_);L.color.copy(M).multiplyScalar(S),L.position.setFromMatrixPosition(_.matrixWorld),L.position.applyMatrix4(b),s.identity(),o.copy(_.matrixWorld),o.premultiply(b),s.extractRotation(o),L.halfWidth.set(.5*_.width,0,0),L.halfHeight.set(0,.5*_.height,0),L.halfWidth.applyMatrix4(s),L.halfHeight.applyMatrix4(s),n.rectArea[m]=L,m++}else if(_.isPointLight){var L=t.get(_);if(L.position.setFromMatrixPosition(_.matrixWorld),L.position.applyMatrix4(b),L.color.copy(_.color).multiplyScalar(_.intensity),L.distance=_.distance,L.decay=_.decay,L.shadow=_.castShadow,_.castShadow){var R=_.shadow;L.shadowBias=R.bias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,L.shadowCameraNear=R.camera.near,L.shadowCameraFar=R.camera.far,n.pointShadowMap[d]=E,n.pointShadowMatrix[d]=_.shadow.matrix,y++}n.point[d]=L,d++}else if(_.isHemisphereLight){var L=t.get(_);L.direction.setFromMatrixPosition(_.matrixWorld),L.direction.transformDirection(b),L.direction.normalize(),L.skyColor.copy(_.color).multiplyScalar(S),L.groundColor.copy(_.groundColor).multiplyScalar(S),n.hemi[v]=L,v++}}n.ambient[0]=c,n.ambient[1]=l,n.ambient[2]=h;var P=n.hash;P.directionalLength===p&&P.pointLength===d&&P.spotLength===f&&P.rectAreaLength===m&&P.hemiLength===v&&P.numDirectionalShadows===g&&P.numPointShadows===y&&P.numSpotShadows===x||(n.directional.length=p,n.spot.length=f,n.rectArea.length=m,n.point.length=d,n.hemi.length=v,n.directionalShadowMap.length=g,n.pointShadowMap.length=y,n.spotShadowMap.length=x,n.directionalShadowMatrix.length=g,n.pointShadowMatrix.length=y,n.spotShadowMatrix.length=x,P.directionalLength=p,P.pointLength=d,P.spotLength=f,P.rectAreaLength=m,P.hemiLength=v,P.numDirectionalShadows=g,P.numPointShadows=y,P.numSpotShadows=x,n.version=_u++)}for(var t=new Dt,n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},r=0;r<9;r++)n.probe.push(new i);var a=new i,o=new h,s=new h;return{setup:e,state:n}}function zt(){function e(){a.length=0,o.length=0}function t(e){a.push(e)}function n(e){o.push(e)}function r(e){i.setup(a,o,e)}var i=new Nt,a=[],o=[];return{init:e,state:{lightsArray:a,shadowsArray:o,lights:i},setupLights:r,pushLight:t,pushShadow:n}}function Bt(){function e(t){var n=t.target;n.removeEventListener("dispose",e),r.delete(n)}function t(t,n){var i;return!1===r.has(t)?(i=new zt,r.set(t,new WeakMap),r.get(t).set(n,i),t.addEventListener("dispose",e)):!1===r.get(t).has(n)?(i=new zt,r.get(t).set(n,i)):i=r.get(t).get(n),i}function n(){r=new WeakMap}var r=new WeakMap;return{get:t,dispose:n}}function Ut(e){E.call(this),this.type="MeshDepthMaterial",this.depthPacking=el,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Ft(e){E.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new i,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}function Gt(e,t,r){function i(n,r){var i=t.update(_);x.uniforms.shadow_pass.value=n.map.texture,x.uniforms.resolution.value=n.mapSize,x.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,x,_,null),b.uniforms.shadow_pass.value=n.mapPass.texture,b.uniforms.resolution.value=n.mapSize,b.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,b,_,null)}function a(e,t,n){var r=e<<0|t<<1|n<<2,i=m[r];return void 0===i&&(i=new Ut({depthPacking:tl,morphTargets:e,skinning:t}),m[r]=i),i}function o(e,t,n){var r=e<<0|t<<1|n<<2,i=v[r];return void 0===i&&(i=new Ft({morphTargets:e,skinning:t}),v[r]=i),i}function l(t,n,r,i,s,c){var l=t.geometry,h=null,u=a,p=t.customDepthMaterial;if(!0===r.isPointLight&&(u=o,p=t.customDistanceMaterial),void 0===p){var d=!1;!0===n.morphTargets&&(!0===l.isBufferGeometry?d=l.morphAttributes&&l.morphAttributes.position&&l.morphAttributes.position.length>0:!0===l.isGeometry&&(d=l.morphTargets&&l.morphTargets.length>0));var f=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?f=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));h=u(d,f,!0===t.isInstancedMesh)}else h=p;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=h.uuid,v=n.uuid,x=g[m];void 0===x&&(x={},g[m]=x);var b=x[v];void 0===b&&(b=h.clone(),x[v]=b),h=b}return h.visible=n.visible,h.wireframe=n.wireframe,h.side=c===qo?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:y[n.side],h.clipShadows=n.clipShadows,h.clippingPlanes=n.clippingPlanes,h.clipIntersection=n.clipIntersection,h.wireframeLinewidth=n.wireframeLinewidth,h.linewidth=n.linewidth,!0===r.isPointLight&&!0===h.isMeshDistanceMaterial&&(h.referencePosition.setFromMatrixPosition(r.matrixWorld),h.nearDistance=i,h.farDistance=s),h}function h(n,r,i,a,o){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&o===qo)&&(!n.frustumCulled||u.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var s=t.update(n),c=n.material;if(Array.isArray(c))for(var p=s.groups,d=0,f=p.length;d<f;d++){var m=p[d],v=c[m.materialIndex];if(v&&v.visible){var g=l(n,v,a,i.near,i.far,o);e.renderBufferDirect(i,null,s,g,n,m)}}else if(c.visible){var g=l(n,c,a,i.near,i.far,o);e.renderBufferDirect(i,null,s,g,n,null)}}for(var y=n.children,x=0,b=y.length;x<b;x++)h(y[x],r,i,a,o)}}var u=new $,p=new n,d=new n,f=new s,m=[],v=[],g={},y={0:Yo,1:Xo,2:Zo},x=new X({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new n},radius:{value:4}},vertexShader:Su,fragmentShader:Mu}),b=x.clone();b.defines.HORIZONAL_PASS=1;var w=new G;w.setAttribute("position",new L(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var _=new H(w,x),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ko,this.render=function(t,n,a){if(!1!==M.enabled&&(!1!==M.autoUpdate||!1!==M.needsUpdate)&&0!==t.length){var o=e.getRenderTarget(),s=e.getActiveCubeFace(),l=e.getActiveMipmapLevel(),m=e.state;m.setBlending($o),m.buffers.color.setClear(1,1,1,1),m.buffers.depth.setTest(!0),m.setScissorTest(!1);for(var v=0,g=t.length;v<g;v++){var y=t[v],x=y.shadow;if(void 0!==x){p.copy(x.mapSize);var b=x.getFrameExtents();if(p.multiply(b),d.copy(x.mapSize),(p.x>r||p.y>r)&&(console.warn("THREE.WebGLShadowMap:",y,"has shadow exceeding max texture size, reducing"),p.x>r&&(d.x=Math.floor(r/b.x),p.x=d.x*b.x,x.mapSize.x=d.x),p.y>r&&(d.y=Math.floor(r/b.y),p.y=d.y*b.y,x.mapSize.y=d.y)),null===x.map&&!x.isPointLightShadow&&this.type===qo){var w={minFilter:Qs,magFilter:Qs,format:fc};x.map=new c(p.x,p.y,w),x.map.texture.name=y.name+".shadowMap",x.mapPass=new c(p.x,p.y,w),x.camera.updateProjectionMatrix()}if(null===x.map){var w={minFilter:Ys,magFilter:Ys,format:fc};x.map=new c(p.x,p.y,w),x.map.texture.name=y.name+".shadowMap",x.camera.updateProjectionMatrix()}e.setRenderTarget(x.map),e.clear();for(var _=x.getViewportCount(),S=0;S<_;S++){var T=x.getViewport(S);f.set(d.x*T.x,d.y*T.y,d.x*T.z,d.y*T.w),m.viewport(f),x.updateMatrices(y,S),u=x.getFrustum(),h(n,a,x.camera,y,this.type)}x.isPointLightShadow||this.type!==qo||i(x,a)}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}M.needsUpdate=!1,e.setRenderTarget(o,s,l)}}}function Ht(e,t,n){function r(){var t=!1,n=new s,r=null,i=new s(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function i(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?p(2929):d(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case ws:e.depthFunc(512);break;case _s:e.depthFunc(519);break;case Ms:e.depthFunc(513);break;case Ss:e.depthFunc(515);break;case Ts:e.depthFunc(514);break;case Es:e.depthFunc(518);break;case As:e.depthFunc(516);break;case Ls:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function a(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?p(2960):d(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&c===r||(e.stencilOp(t,n,r),o=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null}}}function o(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}function c(){for(var e=0,t=z.length;e<t;e++)z[e]=0}function l(e){h(e,0)}function h(n,r){if(z[n]=1,0===B[n]&&(e.enableVertexAttribArray(n),B[n]=1),U[n]!==r){(C?e:t.get("ANGLE_instanced_arrays"))[C?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),U[n]=r}}function u(){for(var t=0,n=B.length;t!==n;++t)B[t]!==z[t]&&(e.disableVertexAttribArray(t),B[t]=0)}function p(t){!0!==F[t]&&(e.enable(t),F[t]=!0)}function d(t){!1!==F[t]&&(e.disable(t),F[t]=!1)}function f(t){return G!==t&&(e.useProgram(t),G=t,!0)}function m(t,n,r,i,a,o,s,c){if(t===$o)return void(H&&(d(3042),H=!1));if(H||(p(3042),H=!0),t===is)a=a||n,o=o||r,s=s||i,n===j&&a===q||(e.blendEquationSeparate(he[n],he[a]),j=n,q=a),r===k&&i===W&&o===X&&s===Y||(e.blendFuncSeparate(pe[r],pe[i],pe[o],pe[s]),k=r,W=i,X=o,Y=s),V=t,Z=null;else if(t!==V||c!==Z){if(j===as&&q===as||(e.blendEquation(32774),j=as,q=as),c)switch(t){case es:e.blendFuncSeparate(1,771,1,771);break;case ts:e.blendFunc(1,1);break;case ns:e.blendFuncSeparate(0,0,769,771);break;case rs:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case es:e.blendFuncSeparate(770,771,1,771);break;case ts:e.blendFunc(770,1);break;case ns:e.blendFunc(0,769);break;case rs:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}k=null,W=null,X=null,Y=null,V=t,Z=c}}function v(e,t){e.side===Zo?d(2884):p(2884);var n=e.side===Yo;t&&(n=!n),g(n),e.blending===es&&!1===e.transparent?m($o):m(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),D.setFunc(e.depthFunc),D.setTest(e.depthTest),D.setMask(e.depthWrite),O.setMask(e.colorWrite);var r=e.stencilWrite;I.setTest(r),r&&(I.setMask(e.stencilWriteMask),I.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),I.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),b(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function g(t){J!==t&&(t?e.frontFace(2304):e.frontFace(2305),J=t)}function y(t){t!==Ho?(p(2884),t!==Q&&(t===Vo?e.cullFace(1029):t===jo?e.cullFace(1028):e.cullFace(1032))):d(2884),Q=t}function x(t){t!==K&&(ne&&e.lineWidth(t),K=t)}function b(t,n,r){
t?(p(32823),$===n&&ee===r||(e.polygonOffset(n,r),$=n,ee=r)):d(32823)}function w(e){e?p(3089):d(3089)}function _(t){void 0===t&&(t=33984+te-1),ae!==t&&(e.activeTexture(t),ae=t)}function M(t,n){null===ae&&_();var r=oe[ae];void 0===r&&(r={type:void 0,texture:void 0},oe[ae]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||le[t]),r.type=t,r.texture=n)}function S(){var t=oe[ae];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function T(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function E(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function A(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function L(t){!1===se.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),se.copy(t))}function R(t){!1===ce.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ce.copy(t))}function P(){for(var t=0;t<B.length;t++)1===B[t]&&(e.disableVertexAttribArray(t),B[t]=0);F={},ae=null,oe={},G=null,V=null,J=null,Q=null,O.reset(),D.reset(),I.reset()}var C=n.isWebGL2,O=new r,D=new i,I=new a,N=e.getParameter(34921),z=new Uint8Array(N),B=new Uint8Array(N),U=new Uint8Array(N),F={},G=null,H=null,V=null,j=null,k=null,W=null,q=null,X=null,Y=null,Z=!1,J=null,Q=null,K=null,$=null,ee=null,te=e.getParameter(35661),ne=!1,re=0,ie=e.getParameter(7938);-1!==ie.indexOf("WebGL")?(re=parseFloat(/^WebGL\ ([0-9])/.exec(ie)[1]),ne=re>=1):-1!==ie.indexOf("OpenGL ES")&&(re=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ie)[1]),ne=re>=2);var ae=null,oe={},se=new s,ce=new s,le={};le[3553]=o(3553,3553,1),le[34067]=o(34067,34069,6),O.setClear(0,0,0,1),D.setClear(1),I.setClear(0),p(2929),D.setFunc(Ss),g(!1),y(Vo),p(2884),m($o);var he={};if(he[as]=32774,he[os]=32778,he[ss]=32779,C)he[cs]=32775,he[ls]=32776;else{var ue=t.get("EXT_blend_minmax");null!==ue&&(he[cs]=ue.MIN_EXT,he[ls]=ue.MAX_EXT)}var pe={};return pe[hs]=0,pe[us]=1,pe[ps]=768,pe[fs]=770,pe[bs]=776,pe[ys]=774,pe[vs]=772,pe[ds]=769,pe[ms]=771,pe[xs]=775,pe[gs]=773,{buffers:{color:O,depth:D,stencil:I},initAttributes:c,enableAttribute:l,enableAttributeAndDivisor:h,disableUnusedAttributes:u,enable:p,disable:d,useProgram:f,setBlending:m,setMaterial:v,setFlipSided:g,setCullFace:y,setLineWidth:x,setPolygonOffset:b,setScissorTest:w,activeTexture:_,bindTexture:M,unbindTexture:S,compressedTexImage2D:T,texImage2D:E,texImage3D:A,scissor:L,viewport:R,reset:P}}function Vt(e,t,n,r,i,a,o){function s(e,t){return X?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?ll.floorPowerOfTwo:Math.floor,o=a(i*e.width),c=a(i*e.height);void 0===G&&(G=s(o,c));var l=n?s(o,c):G;l.width=o,l.height=c;return l.getContext("2d").drawImage(e,0,0,o,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function l(e){return ll.isPowerOfTwo(e.width)&&ll.isPowerOfTwo(e.height)}function h(e){return!H&&(e.wrapS!==qs||e.wrapT!==qs||e.minFilter!==Ys&&e.minFilter!==Qs)}function u(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ys&&e.minFilter!==Qs}function p(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function d(e,n){if(!1===H)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function f(e){return e===Ys||e===Zs||e===Js?9728:9729}function m(e){var t=e.target;t.removeEventListener("dispose",m),g(t),t.isVideoTexture&&q.delete(t),o.memory.textures--}function v(e){var t=e.target;t.removeEventListener("dispose",v),y(t),o.memory.textures--}function g(t){var n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}function y(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(n.__webglColorTexture),e.deleteTexture(n.__webglDepthStencilTexture),o.memory.textures-=2;for(var a=0,s=n.__webglViewFramebuffers.length;a<s;a++)e.deleteFramebuffer(n.__webglViewFramebuffers[a])}r.remove(t.texture),r.remove(t)}}function x(){Y=0}function b(){var e=Y;return e>=V&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+V),Y+=1,e}function w(e,t){var i=r.get(e);if(e.isVideoTexture&&B(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void L(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function _(e,t){var i=r.get(e);if(e.version>0&&i.__version!==e.version)return void L(i,e,t);n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture)}function M(e,t){var i=r.get(e);if(e.version>0&&i.__version!==e.version)return void L(i,e,t);n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture)}function S(t,i){if(6===t.image.length){var o=r.get(t);if(t.version>0&&o.__version!==t.version){A(o,t),n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&t.isCompressedTexture,h=t.image[0]&&t.image[0].isDataTexture,f=[],m=0;m<6;m++)f[m]=s||h?h?t.image[m].image:t.image[m]:c(t.image[m],!1,!0,j);var v=f[0],g=l(v)||H,y=a.convert(t.format),x=a.convert(t.type),b=d(y,x);E(34067,t,g);var w;if(s){for(var m=0;m<6;m++){w=f[m].mipmaps;for(var _=0;_<w.length;_++){var M=w[_];t.format!==fc&&t.format!==dc?null!==y?n.compressedTexImage2D(34069+m,_,b,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+m,_,b,M.width,M.height,0,y,x,M.data)}}o.__maxMipLevel=w.length-1}else{w=t.mipmaps;for(var m=0;m<6;m++)if(h){n.texImage2D(34069+m,0,b,f[m].width,f[m].height,0,y,x,f[m].data);for(var _=0;_<w.length;_++){var M=w[_],S=M.image[m].image;n.texImage2D(34069+m,_+1,b,S.width,S.height,0,y,x,S.data)}}else{n.texImage2D(34069+m,0,b,y,x,f[m]);for(var _=0;_<w.length;_++){var M=w[_];n.texImage2D(34069+m,_+1,b,y,x,M.image[m])}}o.__maxMipLevel=w.length}u(t,g)&&p(34067,t,v.width,v.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture)}}function T(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}function E(n,a,o){o?(e.texParameteri(n,10242,Z[a.wrapS]),e.texParameteri(n,10243,Z[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,Z[a.wrapR]),e.texParameteri(n,10240,J[a.magFilter]),e.texParameteri(n,10241,J[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===qs&&a.wrapT===qs||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,f(a.magFilter)),e.texParameteri(n,10241,f(a.minFilter)),a.minFilter!==Ys&&a.minFilter!==Qs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===oc&&null===t.get("OES_texture_float_linear"))return;if(a.type===sc&&null===(H||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function A(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",m),t.__webglTexture=e.createTexture(),o.memory.textures++)}function L(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),A(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s=h(r)&&!1===l(r.image),f=c(r.image,s,!1,k),m=l(f)||H,v=a.convert(r.format),g=a.convert(r.type),y=d(v,g);E(o,r,m);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===oc){if(!1===H)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else H&&(y=33189);r.format===yc&&6402===y&&r.type!==rc&&r.type!==ac&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=rc,g=a.convert(r.type)),r.format===xc&&(y=34041,r.type!==uc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=uc,g=a.convert(r.type))),n.texImage2D(3553,0,y,f.width,f.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&m){for(var w=0,_=b.length;w<_;w++)x=b[w],n.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,t.__maxMipLevel=b.length-1}else n.texImage2D(3553,0,y,f.width,f.height,0,v,g,f.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var w=0,_=b.length;w<_;w++)x=b[w],r.format!==fc&&r.format!==dc?null!==v?n.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);t.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,f.width,f.height,f.depth,0,v,g,f.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,f.width,f.height,f.depth,0,v,g,f.data),t.__maxMipLevel=0;else if(b.length>0&&m){for(var w=0,_=b.length;w<_;w++)x=b[w],n.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,t.__maxMipLevel=b.length-1}else n.texImage2D(3553,0,y,v,g,f),t.__maxMipLevel=0;u(r,m)&&p(3553,r,f.width,f.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function R(t,i,o,s){var c=a.convert(i.texture.format),l=a.convert(i.texture.type),h=d(c,l);n.texImage2D(s,0,h,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function P(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=z(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var i=z(n);e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=a.convert(n.texture.format),s=a.convert(n.texture.type),c=d(o,s);if(r){var i=z(n);e.renderbufferStorageMultisample(36161,i,c,n.width,n.height)}else e.renderbufferStorage(36161,c,n.width,n.height)}e.bindRenderbuffer(36161,null)}function C(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),w(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===yc)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==xc)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}function O(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");C(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),P(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),P(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function D(i){var s=r.get(i),c=r.get(i.texture);i.addEventListener("dispose",v),c.__webglTexture=e.createTexture(),o.memory.textures++;var h=!0===i.isWebGLRenderTargetCube,f=!0===i.isWebGLMultisampleRenderTarget,m=!0===i.isWebGLMultiviewRenderTarget,g=l(i)||H;if(h){s.__webglFramebuffer=[];for(var y=0;y<6;y++)s.__webglFramebuffer[y]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),f)if(H){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var x=a.convert(i.texture.format),b=a.convert(i.texture.type),w=d(x,b),_=z(i);e.renderbufferStorageMultisample(36161,_,w,i.width,i.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),i.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),P(s.__webglDepthRenderbuffer,i,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(m){var M=i.width,S=i.height,T=i.numViews;e.bindFramebuffer(36160,s.__webglFramebuffer);var A=t.get("OVR_multiview2");o.memory.textures+=2;var L=e.createTexture();e.bindTexture(35866,L),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,M,S,T,0,6408,5121,null),A.framebufferTextureMultiviewOVR(36160,36064,L,0,0,T);var C=e.createTexture();e.bindTexture(35866,C),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,M,S,T,0,34041,34042,null),A.framebufferTextureMultiviewOVR(36160,33306,C,0,0,T);for(var D=new Array(T),y=0;y<T;++y)D[y]=e.createFramebuffer(),e.bindFramebuffer(36160,D[y]),e.framebufferTextureLayer(36160,36064,L,0,y);s.__webglColorTexture=L,s.__webglDepthStencilTexture=C,s.__webglViewFramebuffers=D,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(h){n.bindTexture(34067,c.__webglTexture),E(34067,i.texture,g);for(var y=0;y<6;y++)R(s.__webglFramebuffer[y],i,36064,34069+y);u(i.texture,g)&&p(34067,i.texture,i.width,i.height),n.bindTexture(34067,null)}else m||(n.bindTexture(3553,c.__webglTexture),E(3553,i.texture,g),R(s.__webglFramebuffer,i,36064,3553),u(i.texture,g)&&p(3553,i.texture,i.width,i.height),n.bindTexture(3553,null));i.depthBuffer&&O(i)}function I(e){var t=e.texture;if(u(t,l(e)||H)){var i=e.isWebGLRenderTargetCube?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(i,a),p(i,t,e.width,e.height),n.bindTexture(i,null)}}function N(t){if(t.isWebGLMultisampleRenderTarget)if(H){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function z(e){return H&&e.isWebGLMultisampleRenderTarget?Math.min(W,e.samples):0}function B(e){var t=o.render.frame;q.get(e)!==t&&(q.set(e,t),e.update())}function U(e,t){e&&e.isWebGLRenderTarget&&(!1===Q&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Q=!0),e=e.texture),w(e,t)}function F(e,t){e&&e.isWebGLRenderTargetCube&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),K=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?S(e,t):T(e,t)}var G,H=i.isWebGL2,V=i.maxTextures,j=i.maxCubemapSize,k=i.maxTextureSize,W=i.maxSamples,q=new WeakMap,X=!1;try{X="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}var Y=0,Z={};Z[Ws]=10497,Z[qs]=33071,Z[Xs]=33648;var J={};J[Ys]=9728,J[Zs]=9984,J[Js]=9986,J[Qs]=9729,J[Ks]=9985,J[$s]=9987;var Q=!1,K=!1;this.allocateTextureUnit=b,this.resetTextureUnits=x,this.setTexture2D=w,this.setTexture2DArray=_,this.setTexture3D=M,this.setTextureCube=S,this.setTextureCubeDynamic=T,this.setupRenderTarget=D,this.updateRenderTargetMipmap=I,this.updateMultisampleRenderTarget=N,this.safeSetTexture2D=U,this.safeSetTextureCube=F}function jt(e,t,n){function r(e){var n;if(e===ec)return 5121;if(e===cc)return 32819;if(e===lc)return 32820;if(e===hc)return 33635;if(e===tc)return 5120;if(e===nc)return 5122;if(e===rc)return 5123;if(e===ic)return 5124;if(e===ac)return 5125;if(e===oc)return 5126;if(e===sc)return i?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(e===pc)return 6406;if(e===dc)return 6407;if(e===fc)return 6408;if(e===mc)return 6409;if(e===vc)return 6410;if(e===yc)return 6402;if(e===xc)return 34041;if(e===bc)return 6403;if(e===wc||e===_c||e===Mc||e===Sc){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===wc)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===_c)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Mc)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Sc)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Tc||e===Ec||e===Ac||e===Lc){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Tc)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ec)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ac)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Lc)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return e===Rc?(n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null):e===Pc||e===Cc||e===Oc||e===Dc||e===Ic||e===Nc||e===zc||e===Bc||e===Uc||e===Fc||e===Gc||e===Hc||e===Vc||e===jc?(n=t.get("WEBGL_compressed_texture_astc"),null!==n?e:null):e===uc?i?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}var i=n.isWebGL2;return{convert:r}}function kt(e,t,n,r){c.call(this,e,t,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function Wt(e,t){function r(){if(void 0===w){var e=M.get("OVR_multiview2");if(w=null!==e&&!1===t.getContextAttributes().antialias){T=t.getParameter(e.MAX_VIEWS_OVR),m=new kt(0,0,_),b=new n,y=[],g=[],x=[];for(var r=0;r<T;r++)y[r]=new h,g[r]=new a}}return w}function i(e){return e.isArrayCamera?e.cameras:(x[0]=e,x)}function o(e,n){for(var r=i(e),a=0;a<r.length;a++)y[a].copy(r[a].projectionMatrix);n.setValue(t,"projectionMatrices",y)}function s(e,n){for(var r=i(e),a=0;a<r.length;a++)y[a].copy(r[a].matrixWorldInverse);n.setValue(t,"viewMatrices",y)}function c(e,n,r){for(var a=i(n),o=0;o<a.length;o++)y[o].multiplyMatrices(a[o].matrixWorldInverse,e.matrixWorld),g[o].getNormalMatrix(y[o]);r.setValue(t,"modelViewMatrices",y),r.setValue(t,"normalMatrices",g)}function l(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>T)return!1;for(var n=1,r=t.length;n<r;n++)if(t[0].viewport.z!==t[n].viewport.z||t[0].viewport.w!==t[n].viewport.w)return!1;return!0}function u(t){if(v?b.set(v.width,v.height):e.getDrawingBufferSize(b),t.isArrayCamera){var n=t.cameras[0].viewport;m.setSize(n.z,n.w),m.setNumViews(t.cameras.length)}else m.setSize(b.x,b.y),m.setNumViews(_)}function p(t){!1!==l(t)&&(v=e.getRenderTarget(),u(t),e.setRenderTarget(m))}function d(t){m===e.getRenderTarget()&&(e.setRenderTarget(v),f(t))}function f(e){var n=m,r=n.numViews,i=S.get(n).__webglViewFramebuffers,a=n.width,o=n.height;if(e.isArrayCamera)for(var s=0;s<r;s++){var c=e.cameras[s].viewport,l=c.x,h=c.y,u=l+c.z,p=h+c.w;t.bindFramebuffer(36008,i[s]),t.blitFramebuffer(0,0,a,o,l,h,u,p,16384,9728)}else t.bindFramebuffer(36008,i[0]),t.blitFramebuffer(0,0,a,o,0,0,b.x,b.y,16384,9728)}var m,v,g,y,x,b,w,_=2,M=e.extensions,S=e.properties,T=0;this.isAvailable=r,this.attachCamera=p,this.detachCamera=d,this.updateCameraProjectionMatricesUniform=o,this.updateCameraViewMatricesUniform=s,this.updateObjectMatricesUniforms=c}function qt(){d.call(this),this.type="Group"}function Xt(e){Z.call(this),this.cameras=e||[]}function Yt(e,t,n){Tu.setFromMatrixPosition(t.matrixWorld),Eu.setFromMatrixPosition(n.matrixWorld);var r=Tu.distanceTo(Eu),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],h=(i[8]-1)/i[0],u=(a[8]+1)/a[0],p=o*h,d=o*u,f=r/(-h+u),m=f*-h;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=c*s/g*v,w=l*s/g*v;e.projectionMatrix.makePerspective(y,x,b,w,v,g)}function Zt(e){function t(){return null!==f&&!0===f.isPresenting}function a(){if(t()){var n=f.getEyeParameters("left");u=2*n.renderWidth*b,p=n.renderHeight*b,L=e.getPixelRatio(),e.getSize(R),e.setDrawingBufferSize(u,p,1),T.viewport.set(0,0,u/2,p),E.viewport.set(u/2,0,u/2,p),O.start(),d.dispatchEvent({type:"sessionstart"})}else d.enabled&&e.setDrawingBufferSize(R.width,R.height,L),O.stop(),d.dispatchEvent({type:"sessionend"})}function o(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=t.length;n<r;n++){var i=t[n];if(i&&("Daydream Controller"===i.id||"Gear VR Controller"===i.id||"Oculus Go Controller"===i.id||"OpenVR Gamepad"===i.id||i.id.startsWith("Oculus Touch")||i.id.startsWith("HTC Vive Focus")||i.id.startsWith("Spatial Controller"))){var a=i.hand;if(0===e&&(""===a||"right"===a))return i;if(1===e&&"left"===a)return i}}}function c(){for(var e=0;e<g.length;e++){var t=g[e],n=o(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(y),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===P[e]&&(P[e]=!1),P[e]!==n.buttons[i].pressed&&(P[e]=n.buttons[i].pressed,!0===P[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),i=2,void 0===C[e]&&(C[e]=!1),void 0!==n.buttons[i]&&C[e]!==n.buttons[i].pressed&&(C[e]=n.buttons[i].pressed,!0===C[e]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}function l(e,t){null!==t&&4===t.length&&e.set(t[0]*u,t[1]*p,t[2]*u,t[3]*p)}var u,p,d=this,f=null,m=null,v=null,g=[],y=new h,x=new h,b=1,w="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(m=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",a,!1));var _=new h,M=new r,S=new i,T=new Z;T.viewport=new s,T.layers.enable(1);var E=new Z;E.viewport=new s,E.layers.enable(2);var A=new Xt([T,E]);A.layers.enable(1),A.layers.enable(2);var L,R=new n,P=[],C=[];this.enabled=!1,this.getController=function(e){var t=g[e];return void 0===t&&(t=new qt,t.matrixAutoUpdate=!1,t.visible=!1,g[e]=t),t},this.getDevice=function(){return f},this.setDevice=function(e){void 0!==e&&(f=e),O.setContext(e)},this.setFramebufferScaleFactor=function(e){b=e},this.setReferenceSpaceType=function(e){w=e},this.setPoseTarget=function(e){void 0!==e&&(v=e)},this.getCamera=function(e){var t="local-floor"===w?1.6:0;if(f.depthNear=e.near,f.depthFar=e.far,f.getFrameData(m),"local-floor"===w){var n=f.stageParameters;n?y.fromArray(n.sittingToStandingTransform):y.makeTranslation(0,t,0)}var r=m.pose,i=null!==v?v:e;i.matrix.copy(y),i.matrix.decompose(i.position,i.quaternion,i.scale),null!==r.orientation&&(M.fromArray(r.orientation),i.quaternion.multiply(M)),null!==r.position&&(M.setFromRotationMatrix(y),S.fromArray(r.position),S.applyQuaternion(M),i.position.add(S)),i.updateMatrixWorld();for(var a=i.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);T.near=e.near,E.near=e.near,T.far=e.far,E.far=e.far,T.matrixWorldInverse.fromArray(m.leftViewMatrix),E.matrixWorldInverse.fromArray(m.rightViewMatrix),x.getInverse(y),"local-floor"===w&&(T.matrixWorldInverse.multiply(x),E.matrixWorldInverse.multiply(x));var h=i.parent;null!==h&&(_.getInverse(h.matrixWorld),T.matrixWorldInverse.multiply(_),E.matrixWorldInverse.multiply(_)),T.matrixWorld.getInverse(T.matrixWorldInverse),E.matrixWorld.getInverse(E.matrixWorldInverse),T.projectionMatrix.fromArray(m.leftProjectionMatrix),E.projectionMatrix.fromArray(m.rightProjectionMatrix),Yt(A,T,E);var u=f.getLayers();if(u.length){var p=u[0];l(T.viewport,p.leftBounds),l(E.viewport,p.rightBounds)}return c(),A},this.getStandingMatrix=function(){return y},this.isPresenting=t;var O=new ee;this.setAnimationLoop=function(e){O.setAnimationLoop(e),t()&&O.start()},this.submitFrame=function(){t()&&f.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",a)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function Jt(e,t){function n(){return null!==d&&null!==f}function r(e){for(var t=0;t<y.length;t++)x[t]===e.inputSource&&y[t].dispatchEvent({type:e.type})}function i(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),p.dispatchEvent({type:"sessionend"})}function a(e){f=e,S.setContext(d),S.start(),p.dispatchEvent({type:"sessionstart"})}function o(){for(var e=0;e<y.length;e++)x[e]=c(e)}function c(e){for(var t=d.inputSources,n=0;n<t.length;n++){var r=t[n],i=r.handedness;if(0===e&&("none"===i||"right"===i))return r;if(1===e&&"left"===i)return r}}function l(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}function u(t,n){if(null!==(v=n.getViewerPose(f))){var r=v.views,i=d.renderState.baseLayer;e.setFramebuffer(i.framebuffer);for(var a=0;a<r.length;a++){var o=r[a],s=i.getViewport(o),c=o.transform.inverse.matrix,l=_.cameras[a];l.matrix.fromArray(c).getInverse(l.matrix),l.projectionMatrix.fromArray(o.projectionMatrix),l.viewport.set(s.x,s.y,s.width,s.height),0===a&&_.matrix.copy(l.matrix)}}for(var a=0;a<y.length;a++){var h=y[a],u=x[a];if(u){var p=n.getPose(u.targetRaySpace,f);if(null!==p){h.matrix.fromArray(p.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.visible=!0;continue}}h.visible=!1}M&&M(t,n)}var p=this,d=null,f=null,m="local-floor",v=null,g=null,y=[],x=[],b=new Z;b.layers.enable(1),b.viewport=new s;var w=new Z;w.layers.enable(2),w.viewport=new s;var _=new Xt([b,w]);_.layers.enable(1),_.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=y[e];return void 0===t&&(t=new qt,t.matrixAutoUpdate=!1,t.visible=!1,y[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){m=e},this.getSession=function(){return d},this.setSession=function(e){null!==(d=e)&&(d.addEventListener("select",r),d.addEventListener("selectstart",r),d.addEventListener("selectend",r),d.addEventListener("squeeze",r),d.addEventListener("squeezestart",r),d.addEventListener("squeezeend",r),d.addEventListener("end",i),d.updateRenderState({baseLayer:new XRWebGLLayer(d,t,{antialias:t.getContextAttributes().antialias,alpha:t.getContextAttributes().alpha,depth:t.getContextAttributes().depth,stencil:t.getContextAttributes().stencil})}),d.requestReferenceSpace(m).then(a),d.addEventListener("inputsourceschange",o),o())},this.setPoseTarget=function(e){void 0!==e&&(g=e)},this.getCamera=function(e){var t=e.parent,n=_.cameras,r=g||e;l(_,t);for(var i=0;i<n.length;i++)l(n[i],t);r.matrixWorld.copy(_.matrixWorld);for(var a=r.children,i=0,o=a.length;i<o;i++)a[i].updateMatrixWorld(!0);return Yt(_,b,w),_},this.getCameraPose=function(){return v},this.isPresenting=n;var M=null,S=new ee;S.setAnimationLoop(u),this.setAnimationLoop=function(e){M=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new h},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function Qt(e){function t(){return null===ve?Ae:1}function r(){Ue=new ce(J),Fe=new oe(J,Ue,e),!1===Fe.isWebGL2&&(Ue.get("WEBGL_depth_texture"),Ue.get("OES_texture_float"),Ue.get("OES_texture_half_float"),Ue.get("OES_texture_half_float_linear"),Ue.get("OES_standard_derivatives"),Ue.get("OES_element_index_uint"),Ue.get("ANGLE_instanced_arrays")),Ue.get("OES_texture_float_linear"),et=new jt(J,Ue,Fe),Ge=new Ht(J,Ue,Fe),Ge.scissor(Me.copy(Re).multiplyScalar(Ae).floor()),Ge.viewport(_e.copy(Le).multiplyScalar(Ae).floor()),He=new ue(J),Ve=new Lt,je=new Vt(J,Ue,Ge,Ve,Fe,et,He),ke=new te(J),We=new le(J,ke,He),qe=new fe(J,We,ke,He),Qe=new de(J),Xe=new At(Q,Ue,Fe),Ye=new Ot,Ze=new Bt,Je=new ie(Q,Ge,qe,j),Ke=new ae(J,Ue,He,Fe),$e=new he(J,Ue,He,Fe),He.programs=Xe.programs,Q.capabilities=Fe,Q.extensions=Ue,Q.properties=Ve,Q.renderLists=Ye,Q.state=Ge,Q.info=He}function a(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ne=!0}function o(){console.log("THREE.WebGLRenderer: Context Restored."),ne=!1,r()}function c(e){var t=e.target;t.removeEventListener("dispose",c),l(t)}function l(e){u(e),Ve.remove(e)}function u(e){var t=Ve.get(e).program;e.program=void 0,void 0!==t&&Xe.releaseProgram(t)}function p(e,t){e.render(function(e){Q.renderBufferImmediate(e,t)})}function d(e,t,n,r){if(!1!==Fe.isWebGL2||!e.isInstancedMesh&&!t.isInstancedBufferGeometry||null!==Ue.get("ANGLE_instanced_arrays")){Ge.initAttributes();var i=t.attributes,a=r.getAttributes(),o=n.defaultAttributeValues;for(var s in a){var c=a[s];if(c>=0){var l=i[s];if(void 0!==l){var h=l.normalized,u=l.itemSize,p=ke.get(l);if(void 0===p)continue;var d=p.buffer,f=p.type,m=p.bytesPerElement;if(l.isInterleavedBufferAttribute){var v=l.data,g=v.stride,y=l.offset;v&&v.isInstancedInterleavedBuffer?(Ge.enableAttributeAndDivisor(c,v.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=v.meshPerAttribute*v.count)):Ge.enableAttribute(c),J.bindBuffer(34962,d),J.vertexAttribPointer(c,u,f,h,g*m,y*m)}else l.isInstancedBufferAttribute?(Ge.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):Ge.enableAttribute(c),J.bindBuffer(34962,d),J.vertexAttribPointer(c,u,f,h,0,0)}else if("instanceMatrix"===s){var p=ke.get(e.instanceMatrix);if(void 0===p)continue;var d=p.buffer,f=p.type;Ge.enableAttributeAndDivisor(c+0,1),Ge.enableAttributeAndDivisor(c+1,1),Ge.enableAttributeAndDivisor(c+2,1),Ge.enableAttributeAndDivisor(c+3,1),J.bindBuffer(34962,d),J.vertexAttribPointer(c+0,4,f,!1,64,0),J.vertexAttribPointer(c+1,4,f,!1,64,16),J.vertexAttribPointer(c+2,4,f,!1,64,32),
J.vertexAttribPointer(c+3,4,f,!1,64,48)}else if(void 0!==o){var x=o[s];if(void 0!==x)switch(x.length){case 2:J.vertexAttrib2fv(c,x);break;case 3:J.vertexAttrib3fv(c,x);break;case 4:J.vertexAttrib4fv(c,x);break;default:J.vertexAttrib1fv(c,x)}}}}Ge.disableUnusedAttributes()}}function f(e){tt.isPresenting()||at&&at(e)}function m(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)Z.pushLight(e),e.castShadow&&Z.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Ce.intersectsSprite(e)){r&&ze.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ne);var i=qe.update(e),a=e.material;a.visible&&Y.push(e,i,a,n,ze.z,null)}}else if(e.isImmediateRenderObject)r&&ze.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ne),Y.push(e,null,e.material,n,ze.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==He.render.frame&&(e.skeleton.update(),e.skeleton.frame=He.render.frame),!e.frustumCulled||Ce.intersectsObject(e))){r&&ze.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Ne);var i=qe.update(e),a=e.material;if(Array.isArray(a))for(var o=i.groups,s=0,c=o.length;s<c;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&Y.push(e,i,h,n,ze.z,l)}else a.visible&&Y.push(e,i,a,n,ze.z,null)}for(var u=e.children,s=0,c=u.length;s<c;s++)m(u[s],t,n,r)}}function v(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,c=o.geometry,l=void 0===r?o.material:r,h=o.group;if(n.isArrayCamera)if(we=n,tt.enabled&&nt.isAvailable())g(s,t,n,c,l,h);else for(var u=n.cameras,p=0,d=u.length;p<d;p++){var f=u[p];s.layers.test(f.layers)&&(Ge.viewport(_e.copy(f.viewport)),Z.setupLights(f),g(s,t,f,c,l,h))}else we=null,g(s,t,n,c,l,h)}}function g(e,t,n,r,i,a){if(e.onBeforeRender(Q,t,n,r,i,a),Z=Ze.get(t,we||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=x(n,t.fog,i,e);Ge.setMaterial(i),xe.geometry=null,xe.program=null,xe.wireframe=!1,p(e,o)}else Q.renderBufferDirect(n,t.fog,r,i,e,a);e.onAfterRender(Q,t,n,r,i,a),Z=Ze.get(t,we||n)}function y(e,t,n){var r=Ve.get(e),i=Z.state.lights,a=Z.state.shadowsArray,o=i.state.version,s=Xe.getParameters(e,i.state,a,t,Oe.numPlanes,Oe.numIntersection,n),l=Xe.getProgramCacheKey(e,s),h=r.program,p=!0;if(void 0===h)e.addEventListener("dispose",c);else if(h.cacheKey!==l)u(e);else if(r.lightsStateVersion!==o)r.lightsStateVersion=o,p=!1;else{if(void 0!==s.shaderID)return;p=!1}if(p){if(s.shaderID){var d=cu[s.shaderID];r.shader={name:e.type,uniforms:W(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,Q),l=Xe.getProgramCacheKey(e,s),h=Xe.acquireProgram(e,r.shader,s,l),r.program=h,e.program=h}var f=h.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<Q.maxMorphTargets;m++)f["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var m=0;m<Q.maxMorphNormals;m++)f["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Oe.numPlanes,r.numIntersection=Oe.numIntersection,v.clippingPlanes=Oe.uniform),r.fog=t,r.needsLights=z(e),r.lightsStateVersion=o,r.needsLights&&(v.ambientLightColor.value=i.state.ambient,v.lightProbe.value=i.state.probe,v.directionalLights.value=i.state.directional,v.spotLights.value=i.state.spot,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),y=rt.seqWithValue(g.seq,v);r.uniformsList=y}function x(e,t,n,r){je.resetTextureUnits();var i=Ve.get(n),a=Z.state.lights;if(De&&(Ie||e!==be)){var o=e===be&&n.id===ye;Oe.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}n.version===i.__version&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:i.needsLights&&i.lightsStateVersion!==a.state.version?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Oe.numPlanes&&i.numIntersection===Oe.numIntersection||(n.needsUpdate=!0)),n.version!==i.__version&&(y(n,t,r),i.__version=n.version);var s=!1,c=!1,l=!1,h=i.program,u=h.getUniforms(),p=i.shader.uniforms;if(Ge.useProgram(h.program)&&(s=!0,c=!0,l=!0),n.id!==ye&&(ye=n.id,c=!0),s||be!==e){if(h.numMultiviewViews>0?nt.updateCameraProjectionMatricesUniform(e,u):u.setValue(J,"projectionMatrix",e.projectionMatrix),Fe.logarithmicDepthBuffer&&u.setValue(J,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),be!==e&&(be=e,c=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var d=u.map.cameraPosition;void 0!==d&&d.setValue(J,ze.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&u.setValue(J,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(h.numMultiviewViews>0?nt.updateCameraViewMatricesUniform(e,u):u.setValue(J,"viewMatrix",e.matrixWorldInverse))}if(n.skinning){u.setOptional(J,r,"bindMatrix"),u.setOptional(J,r,"bindMatrixInverse");var f=r.skeleton;if(f){var m=f.bones;if(Fe.floatVertexTextures){if(void 0===f.boneTexture){var v=Math.sqrt(4*m.length);v=ll.ceilPowerOfTwo(v),v=Math.max(v,4);var g=new Float32Array(v*v*4);g.set(f.boneMatrices);var x=new K(g,v,v,fc,oc);f.boneMatrices=g,f.boneTexture=x,f.boneTextureSize=v}u.setValue(J,"boneTexture",f.boneTexture,je),u.setValue(J,"boneTextureSize",f.boneTextureSize)}else u.setOptional(J,f,"boneMatrices")}}return(c||i.receiveShadow!==r.receiveShadow)&&(i.receiveShadow=r.receiveShadow,u.setValue(J,"receiveShadow",r.receiveShadow)),c&&(u.setValue(J,"toneMappingExposure",Q.toneMappingExposure),u.setValue(J,"toneMappingWhitePoint",Q.toneMappingWhitePoint),i.needsLights&&N(p,l),t&&n.fog&&T(p,t),n.isMeshBasicMaterial?b(p,n):n.isMeshLambertMaterial?(b(p,n),E(p,n)):n.isMeshToonMaterial?(b(p,n),L(p,n)):n.isMeshPhongMaterial?(b(p,n),A(p,n)):n.isMeshStandardMaterial?(b(p,n),n.isMeshPhysicalMaterial?P(p,n):R(p,n)):n.isMeshMatcapMaterial?(b(p,n),C(p,n)):n.isMeshDepthMaterial?(b(p,n),O(p,n)):n.isMeshDistanceMaterial?(b(p,n),D(p,n)):n.isMeshNormalMaterial?(b(p,n),I(p,n)):n.isLineBasicMaterial?(w(p,n),n.isLineDashedMaterial&&_(p,n)):n.isPointsMaterial?M(p,n):n.isSpriteMaterial?S(p,n):n.isShadowMaterial?(p.color.value.copy(n.color),p.opacity.value=n.opacity):n.envMap&&b(p,n),void 0!==p.ltc_1&&(p.ltc_1.value=su.LTC_1),void 0!==p.ltc_2&&(p.ltc_2.value=su.LTC_2),rt.upload(J,i.uniformsList,p,je),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(rt.upload(J,i.uniformsList,p,je),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&u.setValue(J,"center",r.center),h.numMultiviewViews>0?nt.updateObjectMatricesUniforms(r,e,u):(u.setValue(J,"modelViewMatrix",r.modelViewMatrix),u.setValue(J,"normalMatrix",r.normalMatrix)),u.setValue(J,"modelMatrix",r.matrixWorld),h}function b(e,t){e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=Ve.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix));var r;t.aoMap?r=t.aoMap:t.lightMap&&(r=t.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function w(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function _(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function M(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Ae,e.scale.value=.5*Ee,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function S(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function T(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function E(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function A(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Yo&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Yo&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function L(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Yo&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Yo&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function R(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Yo&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Yo&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function P(e,t){R(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===Yo&&e.clearcoatNormalScale.value.negate()),e.transparency.value=t.transparency}function C(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Yo&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Yo&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function O(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function D(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function I(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===Yo&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===Yo&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function N(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function z(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}e=e||{};var B=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),U=void 0!==e.context?e.context:null,F=void 0!==e.alpha&&e.alpha,G=void 0===e.depth||e.depth,H=void 0===e.stencil||e.stencil,V=void 0!==e.antialias&&e.antialias,j=void 0===e.premultipliedAlpha||e.premultipliedAlpha,k=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,q=void 0!==e.powerPreference?e.powerPreference:"default",X=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,Y=null,Z=null;this.domElement=B,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Ds,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var J,Q=this,ne=!1,re=null,pe=0,me=0,ve=null,ge=null,ye=-1,xe={geometry:null,program:null,wireframe:!1},be=null,we=null,_e=new s,Me=new s,Se=null,Te=B.width,Ee=B.height,Ae=1,Le=new s(0,0,Te,Ee),Re=new s(0,0,Te,Ee),Pe=!1,Ce=new $,Oe=new se,De=!1,Ie=!1,Ne=new h,ze=new i;try{var Be={alpha:F,depth:G,stencil:H,antialias:V,premultipliedAlpha:j,preserveDrawingBuffer:k,powerPreference:q,failIfMajorPerformanceCaveat:X,xrCompatible:!0};if(B.addEventListener("webglcontextlost",a,!1),B.addEventListener("webglcontextrestored",o,!1),null===(J=U||B.getContext("webgl",Be)||B.getContext("experimental-webgl",Be)))throw null!==B.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===J.getShaderPrecisionFormat&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}var Ue,Fe,Ge,He,Ve,je,ke,We,qe,Xe,Ye,Ze,Je,Qe,Ke,$e,et;r();var tt="undefined"!=typeof navigator&&"xr"in navigator?new Jt(Q,J):new Zt(Q);this.xr=tt;var nt=new Wt(Q,J),it=new Gt(Q,qe,Fe.maxTextureSize);this.shadowMap=it,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){var e=Ue.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Ue.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Ae},this.setPixelRatio=function(e){void 0!==e&&(Ae=e,this.setSize(Te,Ee,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new n),e.set(Te,Ee)},this.setSize=function(e,t,n){if(tt.isPresenting())return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");Te=e,Ee=t,B.width=Math.floor(e*Ae),B.height=Math.floor(t*Ae),!1!==n&&(B.style.width=e+"px",B.style.height=t+"px"),this.setViewport(0,0,e,t)},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new n),e.set(Te*Ae,Ee*Ae).floor()},this.setDrawingBufferSize=function(e,t,n){Te=e,Ee=t,Ae=n,B.width=Math.floor(e*n),B.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new s),e.copy(_e)},this.getViewport=function(e){return e.copy(Le)},this.setViewport=function(e,t,n,r){e.isVector4?Le.set(e.x,e.y,e.z,e.w):Le.set(e,t,n,r),Ge.viewport(_e.copy(Le).multiplyScalar(Ae).floor())},this.getScissor=function(e){return e.copy(Re)},this.setScissor=function(e,t,n,r){e.isVector4?Re.set(e.x,e.y,e.z,e.w):Re.set(e,t,n,r),Ge.scissor(Me.copy(Re).multiplyScalar(Ae).floor())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(e){Ge.setScissorTest(Pe=e)},this.getClearColor=function(){return Je.getClearColor()},this.setClearColor=function(){Je.setClearColor.apply(Je,arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha.apply(Je,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),J.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){B.removeEventListener("webglcontextlost",a,!1),B.removeEventListener("webglcontextrestored",o,!1),Ye.dispose(),Ze.dispose(),Ve.dispose(),qe.dispose(),tt.dispose(),ot.stop()},this.renderBufferImmediate=function(e,t){Ge.initAttributes();var n=Ve.get(e);e.hasPositions&&!n.position&&(n.position=J.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=J.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=J.createBuffer()),e.hasColors&&!n.color&&(n.color=J.createBuffer());var r=t.getAttributes();e.hasPositions&&(J.bindBuffer(34962,n.position),J.bufferData(34962,e.positionArray,35048),Ge.enableAttribute(r.position),J.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(J.bindBuffer(34962,n.normal),J.bufferData(34962,e.normalArray,35048),Ge.enableAttribute(r.normal),J.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(J.bindBuffer(34962,n.uv),J.bufferData(34962,e.uvArray,35048),Ge.enableAttribute(r.uv),J.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(J.bindBuffer(34962,n.color),J.bufferData(34962,e.colorArray,35048),Ge.enableAttribute(r.color),J.vertexAttribPointer(r.color,3,5126,!1,0,0)),Ge.disableUnusedAttributes(),J.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,a,o){var s=a.isMesh&&a.matrixWorld.determinant()<0,c=x(e,n,i,a);Ge.setMaterial(i,s);var l=!1;xe.geometry===r.id&&xe.program===c.id&&xe.wireframe===(!0===i.wireframe)||(xe.geometry=r.id,xe.program=c.id,xe.wireframe=!0===i.wireframe,l=!0),(i.morphTargets||i.morphNormals)&&(Qe.update(a,r,i,c),l=!0);var h=r.index,u=r.attributes.position;if((null===h||0!==h.count)&&void 0!==u&&0!==u.count){var p=1;!0===i.wireframe&&(h=We.getWireframeAttribute(r),p=2);var f,m=Ke;null!==h&&(f=ke.get(h),m=$e,m.setIndex(f)),l&&(d(a,r,i,c),null!==h&&J.bindBuffer(34963,f.buffer));var v=null!==h?h.count:u.count,g=r.drawRange.start*p,y=r.drawRange.count*p,b=null!==o?o.start*p:0,w=null!==o?o.count*p:1/0,_=Math.max(g,b),M=Math.min(v,g+y,b+w)-1,S=Math.max(0,M-_+1);if(0!==S){if(a.isMesh)!0===i.wireframe?(Ge.setLineWidth(i.wireframeLinewidth*t()),m.setMode(1)):m.setMode(4);else if(a.isLine){var T=i.linewidth;void 0===T&&(T=1),Ge.setLineWidth(T*t()),a.isLineSegments?m.setMode(1):a.isLineLoop?m.setMode(2):m.setMode(3)}else a.isPoints?m.setMode(0):a.isSprite&&m.setMode(4);a.isInstancedMesh?m.renderInstances(r,_,S,a.count):r.isInstancedBufferGeometry?m.renderInstances(r,_,S,r.maxInstancedCount):m.render(_,S)}}},this.compile=function(e,t){Z=Ze.get(e,t),Z.init(),e.traverse(function(e){e.isLight&&(Z.pushLight(e),e.castShadow&&Z.pushShadow(e))}),Z.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)y(t.material[n],e.fog,t);else y(t.material,e.fog,t)})};var at=null,ot=new ee;ot.setAnimationLoop(f),"undefined"!=typeof window&&ot.setContext(window),this.setAnimationLoop=function(e){at=e,tt.setAnimationLoop(e),ot.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),!t||!t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!ne){xe.geometry=null,xe.program=null,xe.wireframe=!1,ye=-1,be=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),tt.enabled&&tt.isPresenting()&&(t=tt.getCamera(t)),Z=Ze.get(e,t),Z.init(),e.onBeforeRender(Q,e,t,n||ve),Ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Ce.setFromMatrix(Ne),Ie=this.localClippingEnabled,De=Oe.init(this.clippingPlanes,Ie,t),Y=Ye.get(e,t),Y.init(),m(e,t,0,Q.sortObjects),!0===Q.sortObjects&&Y.sort(),De&&Oe.beginShadows();var i=Z.state.shadowsArray;it.render(i,e,t),Z.setupLights(t),De&&Oe.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),tt.enabled&&nt.isAvailable()&&nt.attachCamera(t),Je.render(Y,e,t,r);var a=Y.opaque,o=Y.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&v(a,e,t,s),o.length&&v(o,e,t,s)}else a.length&&v(a,e,t),o.length&&v(o,e,t);e.onAfterRender(Q,e,t),null!==ve&&(je.updateRenderTargetMipmap(ve),je.updateMultisampleRenderTarget(ve)),Ge.buffers.depth.setTest(!0),Ge.buffers.depth.setMask(!0),Ge.buffers.color.setMask(!0),Ge.setPolygonOffset(!1),tt.enabled&&(nt.isAvailable()&&nt.detachCamera(t),tt.submitFrame()),Y=null,Z=null}},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),je.setTexture2D(t,n)}}(),this.setFramebuffer=function(e){re!==e&&null===ve&&J.bindFramebuffer(36160,e),re=e},this.getActiveCubeFace=function(){return pe},this.getActiveMipmapLevel=function(){return me},this.getRenderTarget=function(){return ve},this.setRenderTarget=function(e,t,n){ve=e,pe=t,me=n,e&&void 0===Ve.get(e).__webglFramebuffer&&je.setupRenderTarget(e);var r=re,i=!1;if(e){var a=Ve.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=a[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?Ve.get(e).__webglMultisampledFramebuffer:a,_e.copy(e.viewport),Me.copy(e.scissor),Se=e.scissorTest}else _e.copy(Le).multiplyScalar(Ae).floor(),Me.copy(Re).multiplyScalar(Ae).floor(),Se=Pe;if(ge!==r&&(J.bindFramebuffer(36160,r),ge=r),Ge.viewport(_e),Ge.scissor(Me),Ge.setScissorTest(Se),i){var o=Ve.get(e.texture);J.framebufferTexture2D(36160,36064,34069+(t||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var s=Ve.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var c=!1;s!==ge&&(J.bindFramebuffer(36160,s),c=!0);try{var l=e.texture,h=l.format,u=l.type;if(h!==fc&&et.convert(h)!==J.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===ec||et.convert(u)===J.getParameter(35738)||u===oc&&(Fe.isWebGL2||Ue.get("OES_texture_float")||Ue.get("WEBGL_color_buffer_float"))||u===sc&&(Fe.isWebGL2?Ue.get("EXT_color_buffer_float"):Ue.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===J.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&J.readPixels(t,n,r,i,et.convert(h),et.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&J.bindFramebuffer(36160,ge)}}},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),o=et.convert(t.format);je.setTexture2D(t,0),J.copyTexImage2D(3553,n,o,e.x,e.y,i,a,0),Ge.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,a=t.image.height,o=et.convert(n.format),s=et.convert(n.type);je.setTexture2D(n,0),t.isDataTexture?J.texSubImage2D(3553,r||0,e.x,e.y,i,a,o,s,t.image.data):J.texSubImage2D(3553,r||0,e.x,e.y,o,s,t.image),Ge.unbindTexture()},this.initTexture=function(e){je.setTexture2D(e,0),Ge.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Kt(e,t){this.name="",this.color=new w(e),this.density=void 0!==t?t:25e-5}function $t(e,t,n){this.name="",this.color=new w(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function en(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=ol,this.updateRange={offset:0,count:-1},this.version=0}function tn(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function nn(e){E.call(this),this.type="SpriteMaterial",this.color=new w(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}function rn(e){if(d.call(this),this.type="Sprite",void 0===Au){Au=new G;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new en(t,5);Au.setIndex([0,1,2,0,2,3]),Au.setAttribute("position",new tn(r,3,0,!1)),Au.setAttribute("uv",new tn(r,2,3,!1))}this.geometry=Au,this.material=void 0!==e?e:new nn,this.center=new n(.5,.5)}function an(e,t,n,r,i,a){Cu.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Ou.x=a*Cu.x-i*Cu.y,Ou.y=i*Cu.x+a*Cu.y):Ou.copy(Cu),e.copy(t),e.x+=Ou.x,e.y+=Ou.y,e.applyMatrix4(Du)}function on(){d.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function sn(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),H.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new h,this.bindMatrixInverse=new h}function cn(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new h)}}function ln(){d.call(this),this.type="Bone"}function hn(e,t,n){H.call(this,e,t),this.instanceMatrix=new L(new Float32Array(16*n),16),this.count=n}function un(e){E.call(this),this.type="LineBasicMaterial",this.color=new w(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}function pn(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),d.call(this),this.type="Line",this.geometry=void 0!==e?e:new G,this.material=void 0!==t?t:new un({color:16777215*Math.random()})}function dn(e,t){pn.call(this,e,t),this.type="LineSegments"}function fn(e,t){pn.call(this,e,t),this.type="LineLoop"}function mn(e){E.call(this),this.type="PointsMaterial",this.color=new w(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}function vn(e,t){d.call(this),this.type="Points",this.geometry=void 0!==e?e:new G,this.material=void 0!==t?t:new mn({color:16777215*Math.random()}),this.updateMorphTargets()}function gn(e,t,n,r,a,o,s){var c=np.distanceSqToPoint(e);if(c<n){var l=new i;np.closestPointToPoint(e,l),l.applyMatrix4(r);var h=a.ray.origin.distanceTo(l);if(h<a.near||h>a.far)return;o.push({distance:h,distanceToRay:Math.sqrt(c),point:l,index:t,face:null,object:s})}}function yn(e,t,n,r,i,a,s,c,l){o.call(this,e,t,n,r,i,a,s,c,l),this.format=void 0!==s?s:dc,this.minFilter=void 0!==a?a:Qs,this.magFilter=void 0!==i?i:Qs,this.generateMipmaps=!1}function xn(e,t,n,r,i,a,s,c,l,h,u,p){o.call(this,null,a,s,c,l,h,r,i,u,p),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function bn(e,t,n,r,i,a,s,c,l){o.call(this,e,t,n,r,i,a,s,c,l),this.needsUpdate=!0}function wn(e,t,n,r,i,a,s,c,l,h){if((h=void 0!==h?h:yc)!==yc&&h!==xc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&h===yc&&(n=rc),void 0===n&&h===xc&&(n=uc),o.call(this,null,r,i,a,s,c,h,n,l),this.image={width:e,height:t},this.magFilter=void 0!==s?s:Ys,this.minFilter=void 0!==c?c:Ys,this.flipY=!1,this.generateMipmaps=!1}function _n(e){G.call(this),this.type="WireframeGeometry";var t,n,r,a,o,s,c,l,h,u,p=[],d=[0,0],f={},m=["a","b","c"];if(e&&e.isGeometry){var v=e.faces;for(t=0,r=v.length;t<r;t++){var g=v[t];for(n=0;n<3;n++)c=g[m[n]],l=g[m[(n+1)%3]],d[0]=Math.min(c,l),d[1]=Math.max(c,l),h=d[0]+","+d[1],void 0===f[h]&&(f[h]={index1:d[0],index2:d[1]})}for(h in f)s=f[h],u=e.vertices[s.index1],p.push(u.x,u.y,u.z),u=e.vertices[s.index2],p.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var y,x,b,w,_,M,S,T;if(u=new i,null!==e.index){for(y=e.attributes.position,x=e.index,b=e.groups,0===b.length&&(b=[{start:0,count:x.count,materialIndex:0}]),a=0,o=b.length;a<o;++a)for(w=b[a],_=w.start,M=w.count,t=_,r=_+M;t<r;t+=3)for(n=0;n<3;n++)c=x.getX(t+n),l=x.getX(t+(n+1)%3),d[0]=Math.min(c,l),d[1]=Math.max(c,l),h=d[0]+","+d[1],void 0===f[h]&&(f[h]={index1:d[0],index2:d[1]});for(h in f)s=f[h],u.fromBufferAttribute(y,s.index1),p.push(u.x,u.y,u.z),u.fromBufferAttribute(y,s.index2),p.push(u.x,u.y,u.z)}else for(y=e.attributes.position,t=0,r=y.count/3;t<r;t++)for(n=0;n<3;n++)S=3*t+n,u.fromBufferAttribute(y,S),p.push(u.x,u.y,u.z),T=3*t+(n+1)%3,u.fromBufferAttribute(y,T),p.push(u.x,u.y,u.z)}this.setAttribute("position",new z(p,3))}function Mn(e,t,n){k.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Sn(e,t,n)),this.mergeVertices()}function Sn(e,t,n){G.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,a,o=[],s=[],c=[],l=[],h=new i,u=new i,p=new i,d=new i,f=new i;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var v=r/n;for(a=0;a<=t;a++){var g=a/t;e(g,v,u),s.push(u.x,u.y,u.z),g-1e-5>=0?(e(g-1e-5,v,p),d.subVectors(u,p)):(e(g+1e-5,v,p),d.subVectors(p,u)),v-1e-5>=0?(e(g,v-1e-5,p),f.subVectors(u,p)):(e(g,v+1e-5,p),f.subVectors(p,u)),h.crossVectors(d,f).normalize(),c.push(h.x,h.y,h.z),l.push(g,v)}}for(r=0;r<n;r++)for(a=0;a<t;a++){var y=r*m+a,x=r*m+a+1,b=(r+1)*m+a+1,w=(r+1)*m+a;o.push(y,x,w),o.push(x,b,w)}this.setIndex(o),this.setAttribute("position",new z(s,3)),this.setAttribute("normal",new z(c,3)),
this.setAttribute("uv",new z(l,2))}function Tn(e,t,n,r){k.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new En(e,t,n,r)),this.mergeVertices()}function En(e,t,r,a){function o(e,t,n,r){var i,a,o=Math.pow(2,r),s=[];for(i=0;i<=o;i++){s[i]=[];var l=e.clone().lerp(n,i/o),h=t.clone().lerp(n,i/o),u=o-i;for(a=0;a<=u;a++)s[i][a]=0===a&&i===o?l:l.clone().lerp(h,a/u)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var p=Math.floor(a/2);a%2==0?(c(s[i][p+1]),c(s[i+1][p]),c(s[i][p])):(c(s[i][p+1]),c(s[i+1][p+1]),c(s[i+1][p]))}}function s(){for(var e=0;e<m.length;e+=6){var t=m[e+0],n=m[e+2],r=m[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(m[e+0]+=1),n<.2&&(m[e+2]+=1),r<.2&&(m[e+4]+=1))}}function c(e){f.push(e.x,e.y,e.z)}function l(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function h(){for(var e=new i,t=new i,r=new i,a=new i,o=new n,s=new n,c=new n,l=0,h=0;l<f.length;l+=9,h+=6){e.set(f[l+0],f[l+1],f[l+2]),t.set(f[l+3],f[l+4],f[l+5]),r.set(f[l+6],f[l+7],f[l+8]),o.set(m[h+0],m[h+1]),s.set(m[h+2],m[h+3]),c.set(m[h+4],m[h+5]),a.copy(e).add(t).add(r).divideScalar(3);var d=p(a);u(o,h+0,e,d),u(s,h+2,t,d),u(c,h+4,r,d)}}function u(e,t,n,r){r<0&&1===e.x&&(m[t]=e.x-1),0===n.x&&0===n.z&&(m[t]=r/2/Math.PI+.5)}function p(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}G.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:a},r=r||1,a=a||0;var f=[],m=[];!function(e){for(var n=new i,r=new i,a=new i,s=0;s<t.length;s+=3)l(t[s+0],n),l(t[s+1],r),l(t[s+2],a),o(n,r,a,e)}(a),function(e){for(var t=new i,n=0;n<f.length;n+=3)t.x=f[n+0],t.y=f[n+1],t.z=f[n+2],t.normalize().multiplyScalar(e),f[n+0]=t.x,f[n+1]=t.y,f[n+2]=t.z}(r),function(){for(var e=new i,t=0;t<f.length;t+=3){e.x=f[t+0],e.y=f[t+1],e.z=f[t+2];var n=p(e)/2/Math.PI+.5,r=d(e)/Math.PI+.5;m.push(n,1-r)}h(),s()}(),this.setAttribute("position",new z(f,3)),this.setAttribute("normal",new z(f.slice(),3)),this.setAttribute("uv",new z(m,2)),0===a?this.computeVertexNormals():this.normalizeNormals()}function An(e,t){k.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ln(e,t)),this.mergeVertices()}function Ln(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];En.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Rn(e,t){k.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Pn(e,t)),this.mergeVertices()}function Pn(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];En.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Cn(e,t){k.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new On(e,t)),this.mergeVertices()}function On(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];En.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Dn(e,t){k.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new In(e,t)),this.mergeVertices()}function In(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];En.call(this,i,a,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Nn(e,t,n,r,i,a){k.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new zn(e,t,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function zn(e,t,r,a,o){function s(n){v=e.getPointAt(n/t,v);var i=h.normals[n],o=h.binormals[n];for(p=0;p<=a;p++){var s=p/a*Math.PI*2,c=Math.sin(s),l=-Math.cos(s);f.x=l*i.x+c*o.x,f.y=l*i.y+c*o.y,f.z=l*i.z+c*o.z,f.normalize(),y.push(f.x,f.y,f.z),d.x=v.x+r*f.x,d.y=v.y+r*f.y,d.z=v.z+r*f.z,g.push(d.x,d.y,d.z)}}function c(){for(p=1;p<=t;p++)for(u=1;u<=a;u++){var e=(a+1)*(p-1)+(u-1),n=(a+1)*p+(u-1),r=(a+1)*p+u,i=(a+1)*(p-1)+u;b.push(e,n,i),b.push(n,r,i)}}function l(){for(u=0;u<=t;u++)for(p=0;p<=a;p++)m.x=u/t,m.y=p/a,x.push(m.x,m.y)}G.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:a,closed:o},t=t||64,r=r||1,a=a||8,o=o||!1;var h=e.computeFrenetFrames(t,o);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var u,p,d=new i,f=new i,m=new n,v=new i,g=[],y=[],x=[],b=[];!function(){for(u=0;u<t;u++)s(u);s(!1===o?t:0),l(),c()}(),this.setIndex(b),this.setAttribute("position",new z(g,3)),this.setAttribute("normal",new z(y,3)),this.setAttribute("uv",new z(x,2))}function Bn(e,t,n,r,i,a,o){k.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Un(e,t,n,r,i,a)),this.mergeVertices()}function Un(e,t,n,r,a,o){function s(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*a,i.y=r*(2+c)*o*.5,i.z=r*Math.sin(s)*.5}G.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,a=a||2,o=o||3;var c,l,h=[],u=[],p=[],d=[],f=new i,m=new i,v=new i,g=new i,y=new i,x=new i,b=new i;for(c=0;c<=n;++c){var w=c/n*a*Math.PI*2;for(s(w,a,o,e,v),s(w+.01,a,o,e,g),x.subVectors(g,v),b.addVectors(g,v),y.crossVectors(x,b),b.crossVectors(y,x),y.normalize(),b.normalize(),l=0;l<=r;++l){var _=l/r*Math.PI*2,M=-t*Math.cos(_),S=t*Math.sin(_);f.x=v.x+(M*b.x+S*y.x),f.y=v.y+(M*b.y+S*y.y),f.z=v.z+(M*b.z+S*y.z),u.push(f.x,f.y,f.z),m.subVectors(f,v).normalize(),p.push(m.x,m.y,m.z),d.push(c/n),d.push(l/r)}}for(l=1;l<=n;l++)for(c=1;c<=r;c++){var T=(r+1)*(l-1)+(c-1),E=(r+1)*l+(c-1),A=(r+1)*l+c,L=(r+1)*(l-1)+c;h.push(T,E,L),h.push(E,A,L)}this.setIndex(h),this.setAttribute("position",new z(u,3)),this.setAttribute("normal",new z(p,3)),this.setAttribute("uv",new z(d,2))}function Fn(e,t,n,r,i){k.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Gn(e,t,n,r,i)),this.mergeVertices()}function Gn(e,t,n,r,a){G.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,a=a||2*Math.PI;var o,s,c=[],l=[],h=[],u=[],p=new i,d=new i,f=new i;for(o=0;o<=n;o++)for(s=0;s<=r;s++){var m=s/r*a,v=o/n*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(m),d.y=(e+t*Math.cos(v))*Math.sin(m),d.z=t*Math.sin(v),l.push(d.x,d.y,d.z),p.x=e*Math.cos(m),p.y=e*Math.sin(m),f.subVectors(d,p).normalize(),h.push(f.x,f.y,f.z),u.push(s/r),u.push(o/n)}for(o=1;o<=n;o++)for(s=1;s<=r;s++){var g=(r+1)*o+s-1,y=(r+1)*(o-1)+s-1,x=(r+1)*(o-1)+s,b=(r+1)*o+s;c.push(g,y,b),c.push(y,x,b)}this.setIndex(c),this.setAttribute("position",new z(l,3)),this.setAttribute("normal",new z(h,3)),this.setAttribute("uv",new z(u,2))}function Hn(e,t,n,r,i){var a,o;if(i===fr(e,t,n,r)>0)for(a=t;a<n;a+=r)o=ur(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=ur(a,e[a],e[a+1],o);return o&&ar(o,o.next)&&(pr(o),o=o.next),o}function Vn(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!ar(r,r.next)&&0!==ir(r.prev,r,r.next))r=r.next;else{if(pr(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function jn(e,t,n,r,i,a,o){if(e){!o&&a&&Kn(e,r,i,a);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,a?Wn(e,r,i,a):kn(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),pr(e),e=c.next,l=c.next;else if((e=c)===l){o?1===o?(e=qn(e,t,n),jn(e,t,n,r,i,a,2)):2===o&&Xn(e,t,n,r,i,a):jn(Vn(e),t,n,r,i,a,1);break}}}function kn(e){var t=e.prev,n=e,r=e.next;if(ir(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(nr(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ir(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Wn(e,t,n,r){var i=e.prev,a=e,o=e.next;if(ir(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,h=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,u=er(s,c,t,n,r),p=er(l,h,t,n,r),d=e.prevZ,f=e.nextZ;d&&d.z>=u&&f&&f.z<=p;){if(d!==e.prev&&d!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&ir(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,f!==e.prev&&f!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ir(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&ir(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&nr(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&ir(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function qn(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!ar(i,a)&&or(i,r,r.next,a)&&cr(i,a)&&cr(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),pr(r),pr(r.next),r=e=a),r=r.next}while(r!==e);return r}function Xn(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&rr(o,s)){var c=hr(o,s);return o=Vn(o,o.next),c=Vn(c,c.next),jn(o,t,n,r,i,a),void jn(c,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Yn(e,t,n,r){var i,a,o,s,c,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,c=Hn(e,o,s,r,!1),c===c.next&&(c.steiner=!0),l.push(tr(c));for(l.sort(Zn),i=0;i<l.length;i++)Jn(l[i],n),n=Vn(n,n.next);return n}function Zn(e,t){return e.x-t.x}function Jn(e,t){if(t=Qn(e,t)){var n=hr(t,e);Vn(n,n.next)}}function Qn(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var c,l=n,h=n.x,u=n.y,p=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=h&&i!==r.x&&nr(a<u?i:o,a,h,u,a<u?o:i,a,r.x,r.y)&&((c=Math.abs(a-r.y)/(i-r.x))<p||c===p&&r.x>n.x)&&cr(r,e)&&(n=r,p=c),r=r.next;return n}function Kn(e,t,n,r){var i=e;do{null===i.z&&(i.z=er(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,$n(i)}function $n(e){var t,n,r,i,a,o,s,c,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function er(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function tr(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function nr(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function rr(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!sr(e,t)&&cr(e,t)&&cr(t,e)&&lr(e,t)}function ir(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function ar(e,t){return e.x===t.x&&e.y===t.y}function or(e,t,n,r){return!!(ar(e,n)&&ar(t,r)||ar(e,r)&&ar(n,t))||ir(e,t,n)>0!=ir(e,t,r)>0&&ir(n,r,e)>0!=ir(n,r,t)>0}function sr(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&or(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function cr(e,t){return ir(e.prev,e,e.next)<0?ir(e,t,e.next)>=0&&ir(e,e.prev,t)>=0:ir(e,t,e.prev)<0||ir(e,e.next,t)<0}function lr(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function hr(e,t){var n=new dr(e.i,e.x,e.y),r=new dr(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function ur(e,t,n,r){var i=new dr(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function pr(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function dr(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fr(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function mr(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function vr(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function gr(e,t){k.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new yr(e,t)),this.mergeVertices()}function yr(e,t){G.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var r=this,a=[],o=[],s=0,c=e.length;s<c;s++){var l=e[s];!function(e){function s(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function c(e,t,r){var i,a,o,s=e.x-t.x,c=e.y-t.y,l=r.x-e.x,h=r.y-e.y,u=s*s+c*c,p=s*h-c*l;if(Math.abs(p)>Number.EPSILON){var d=Math.sqrt(u),f=Math.sqrt(l*l+h*h),m=t.x-c/d,v=t.y+s/d,g=r.x-h/f,y=r.y+l/f,x=((g-m)*h-(y-v)*l)/(s*h-c*l);i=m+s*x-e.x,a=v+c*x-e.y;var b=i*i+a*a;if(b<=2)return new n(i,a);o=Math.sqrt(b/2)}else{var w=!1;s>Number.EPSILON?l>Number.EPSILON&&(w=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(w=!0):Math.sign(c)===Math.sign(h)&&(w=!0),w?(i=-c,a=s,o=Math.sqrt(u)):(i=s,a=c,o=Math.sqrt(u/2))}return new n(i/o,a/o)}function l(e,t){var n,r;for(Z=e.length;--Z>=0;){n=Z,(r=Z-1)<0&&(r=e.length-1);var i=0,a=g+2*M;for(i=0;i<a;i++){var o=q*i,s=q*(i+1);p(t+n+o,t+r+o,t+r+s,t+n+s)}}}function h(e,t,n){m.push(e),m.push(t),m.push(n)}function u(e,t,n){d(e),d(t),d(n);var i=a.length/3,o=T.generateTopUV(r,a,i-3,i-2,i-1);f(o[0]),f(o[1]),f(o[2])}function p(e,t,n,i){d(e),d(t),d(i),d(t),d(n),d(i);var o=a.length/3,s=T.generateSideWallUV(r,a,o-6,o-3,o-2,o-1);f(s[0]),f(s[1]),f(s[3]),f(s[1]),f(s[2]),f(s[3])}function d(e){a.push(m[3*e+0]),a.push(m[3*e+1]),a.push(m[3*e+2])}function f(e){o.push(e.x),o.push(e.y)}var m=[],v=void 0!==t.curveSegments?t.curveSegments:12,g=void 0!==t.steps?t.steps:1,y=void 0!==t.depth?t.depth:100,x=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0!==t.bevelThickness?t.bevelThickness:6,w=void 0!==t.bevelSize?t.bevelSize:b-2,_=void 0!==t.bevelOffset?t.bevelOffset:0,M=void 0!==t.bevelSegments?t.bevelSegments:3,S=t.extrudePath,T=void 0!==t.UVGenerator?t.UVGenerator:sp;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),y=t.amount);var E,A,L,R,P,C=!1;S&&(E=S.getSpacedPoints(g),C=!0,x=!1,A=S.computeFrenetFrames(g,!1),L=new i,R=new i,P=new i),x||(M=0,b=0,w=0,_=0);var O,D,I,N=e.extractPoints(v),z=N.shape,B=N.holes;if(!op.isClockWise(z))for(z=z.reverse(),D=0,I=B.length;D<I;D++)O=B[D],op.isClockWise(O)&&(B[D]=O.reverse());var U=op.triangulateShape(z,B),F=z;for(D=0,I=B.length;D<I;D++)O=B[D],z=z.concat(O);for(var G,H,V,j,k,W,q=z.length,X=U.length,Y=[],Z=0,J=F.length,Q=J-1,K=Z+1;Z<J;Z++,Q++,K++)Q===J&&(Q=0),K===J&&(K=0),Y[Z]=c(F[Z],F[Q],F[K]);var $,ee=[],te=Y.concat();for(D=0,I=B.length;D<I;D++){for(O=B[D],$=[],Z=0,J=O.length,Q=J-1,K=Z+1;Z<J;Z++,Q++,K++)Q===J&&(Q=0),K===J&&(K=0),$[Z]=c(O[Z],O[Q],O[K]);ee.push($),te=te.concat($)}for(G=0;G<M;G++){for(V=G/M,j=b*Math.cos(V*Math.PI/2),H=w*Math.sin(V*Math.PI/2)+_,Z=0,J=F.length;Z<J;Z++)k=s(F[Z],Y[Z],H),h(k.x,k.y,-j);for(D=0,I=B.length;D<I;D++)for(O=B[D],$=ee[D],Z=0,J=O.length;Z<J;Z++)k=s(O[Z],$[Z],H),h(k.x,k.y,-j)}for(H=w+_,Z=0;Z<q;Z++)k=x?s(z[Z],te[Z],H):z[Z],C?(R.copy(A.normals[0]).multiplyScalar(k.x),L.copy(A.binormals[0]).multiplyScalar(k.y),P.copy(E[0]).add(R).add(L),h(P.x,P.y,P.z)):h(k.x,k.y,0);var ne;for(ne=1;ne<=g;ne++)for(Z=0;Z<q;Z++)k=x?s(z[Z],te[Z],H):z[Z],C?(R.copy(A.normals[ne]).multiplyScalar(k.x),L.copy(A.binormals[ne]).multiplyScalar(k.y),P.copy(E[ne]).add(R).add(L),h(P.x,P.y,P.z)):h(k.x,k.y,y/g*ne);for(G=M-1;G>=0;G--){for(V=G/M,j=b*Math.cos(V*Math.PI/2),H=w*Math.sin(V*Math.PI/2)+_,Z=0,J=F.length;Z<J;Z++)k=s(F[Z],Y[Z],H),h(k.x,k.y,y+j);for(D=0,I=B.length;D<I;D++)for(O=B[D],$=ee[D],Z=0,J=O.length;Z<J;Z++)k=s(O[Z],$[Z],H),C?h(k.x,k.y+E[g-1].y,E[g-1].x+j):h(k.x,k.y,y+j)}!function(){var e=a.length/3;if(x){var t=0,n=q*t;for(Z=0;Z<X;Z++)W=U[Z],u(W[2]+n,W[1]+n,W[0]+n);for(t=g+2*M,n=q*t,Z=0;Z<X;Z++)W=U[Z],u(W[0]+n,W[1]+n,W[2]+n)}else{for(Z=0;Z<X;Z++)W=U[Z],u(W[2],W[1],W[0]);for(Z=0;Z<X;Z++)W=U[Z],u(W[0]+q*g,W[1]+q*g,W[2]+q*g)}r.addGroup(e,a.length/3-e,0)}(),function(){var e=a.length/3,t=0;for(l(F,t),t+=F.length,D=0,I=B.length;D<I;D++)O=B[D],l(O,t),t+=O.length;r.addGroup(e,a.length/3-e,1)}()}(l)}this.setAttribute("position",new z(a,3)),this.setAttribute("uv",new z(o,2)),this.computeVertexNormals()}function xr(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function br(e,t){k.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new wr(e,t)),this.mergeVertices()}function wr(e,t){t=t||{};var n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new k;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),yr.call(this,r,t),this.type="TextBufferGeometry"}function _r(e,t,n,r,i,a,o){k.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Mr(e,t,n,r,i,a,o)),this.mergeVertices()}function Mr(e,t,n,r,a,o,s){G.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:o,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;var c,l,h=Math.min(o+s,Math.PI),u=0,p=[],d=new i,f=new i,m=[],v=[],g=[],y=[];for(l=0;l<=n;l++){var x=[],b=l/n,w=0;for(0==l&&0==o?w=.5/t:l==n&&h==Math.PI&&(w=-.5/t),c=0;c<=t;c++){var _=c/t;d.x=-e*Math.cos(r+_*a)*Math.sin(o+b*s),d.y=e*Math.cos(o+b*s),d.z=e*Math.sin(r+_*a)*Math.sin(o+b*s),v.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),y.push(_+w,1-b),x.push(u++)}p.push(x)}for(l=0;l<n;l++)for(c=0;c<t;c++){var M=p[l][c+1],S=p[l][c],T=p[l+1][c],E=p[l+1][c+1];(0!==l||o>0)&&m.push(M,S,E),(l!==n-1||h<Math.PI)&&m.push(S,T,E)}this.setIndex(m),this.setAttribute("position",new z(v,3)),this.setAttribute("normal",new z(g,3)),this.setAttribute("uv",new z(y,2))}function Sr(e,t,n,r,i,a){k.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new Tr(e,t,n,r,i,a)),this.mergeVertices()}function Tr(e,t,r,a,o,s){G.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:a,thetaStart:o,thetaLength:s},e=e||.5,t=t||1,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,r=void 0!==r?Math.max(3,r):8,a=void 0!==a?Math.max(1,a):1;var c,l,h,u=[],p=[],d=[],f=[],m=e,v=(t-e)/a,g=new i,y=new n;for(l=0;l<=a;l++){for(h=0;h<=r;h++)c=o+h/r*s,g.x=m*Math.cos(c),g.y=m*Math.sin(c),p.push(g.x,g.y,g.z),d.push(0,0,1),y.x=(g.x/t+1)/2,y.y=(g.y/t+1)/2,f.push(y.x,y.y);m+=v}for(l=0;l<a;l++){var x=l*(r+1);for(h=0;h<r;h++){c=h+x;var b=c,w=c+r+1,_=c+r+2,M=c+1;u.push(b,w,M),u.push(w,_,M)}}this.setIndex(u),this.setAttribute("position",new z(p,3)),this.setAttribute("normal",new z(d,3)),this.setAttribute("uv",new z(f,2))}function Er(e,t,n,r){k.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Ar(e,t,n,r)),this.mergeVertices()}function Ar(e,t,r,a){G.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:a},t=Math.floor(t)||12,r=r||0,a=a||2*Math.PI,a=ll.clamp(a,0,2*Math.PI);var o,s,c,l=[],h=[],u=[],p=1/t,d=new i,f=new n;for(s=0;s<=t;s++){var m=r+s*p*a,v=Math.sin(m),g=Math.cos(m);for(c=0;c<=e.length-1;c++)d.x=e[c].x*v,d.y=e[c].y,d.z=e[c].x*g,h.push(d.x,d.y,d.z),f.x=s/t,f.y=c/(e.length-1),u.push(f.x,f.y)}for(s=0;s<t;s++)for(c=0;c<e.length-1;c++){o=c+s*e.length;var y=o,x=o+e.length,b=o+e.length+1,w=o+1;l.push(y,x,w),l.push(x,b,w)}if(this.setIndex(l),this.setAttribute("position",new z(h,3)),this.setAttribute("uv",new z(u,2)),this.computeVertexNormals(),a===2*Math.PI){var _=this.attributes.normal.array,M=new i,S=new i,T=new i;for(o=t*e.length*3,s=0,c=0;s<e.length;s++,c+=3)M.x=_[c+0],M.y=_[c+1],M.z=_[c+2],S.x=_[o+c+0],S.y=_[o+c+1],S.z=_[o+c+2],T.addVectors(M,S).normalize(),_[c+0]=_[o+c+0]=T.x,_[c+1]=_[o+c+1]=T.y,_[c+2]=_[o+c+2]=T.z}}function Lr(e,t){k.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Rr(e,t)),this.mergeVertices()}function Rr(e,t){function n(e){var n,s,l,h=i.length/3,u=e.extractPoints(t),p=u.shape,d=u.holes;for(!1===op.isClockWise(p)&&(p=p.reverse()),n=0,s=d.length;n<s;n++)l=d[n],!0===op.isClockWise(l)&&(d[n]=l.reverse());var f=op.triangulateShape(p,d);for(n=0,s=d.length;n<s;n++)l=d[n],p=p.concat(l);for(n=0,s=p.length;n<s;n++){var m=p[n];i.push(m.x,m.y,0),a.push(0,0,1),o.push(m.x,m.y)}for(n=0,s=f.length;n<s;n++){var v=f[n],g=v[0]+h,y=v[1]+h,x=v[2]+h;r.push(g,y,x),c+=3}}G.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],a=[],o=[],s=0,c=0;if(!1===Array.isArray(e))n(e);else for(var l=0;l<e.length;l++)n(e[l]),this.addGroup(s,c,l),s+=c,c=0;this.setIndex(r),this.setAttribute("position",new z(i,3)),this.setAttribute("normal",new z(a,3)),this.setAttribute("uv",new z(o,2))}function Pr(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Cr(e,t){G.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,a,o=[],s=Math.cos(ll.DEG2RAD*t),c=[0,0],l={},h=["a","b","c"];e.isBufferGeometry?(a=new k,a.fromBufferGeometry(e)):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var u=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)n=m[h[v]],r=m[h[(v+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),i=c[0]+","+c[1],void 0===l[i]?l[i]={index1:c[0],index2:c[1],face1:d,face2:void 0}:l[i].face2=d;for(i in l){var g=l[i];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=u[g.index1];o.push(y.x,y.y,y.z),y=u[g.index2],o.push(y.x,y.y,y.z)}}this.setAttribute("position",new z(o,3))}function Or(e,t,n,r,i,a,o,s){k.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Dr(e,t,n,r,i,a,o,s)),this.mergeVertices()}function Dr(e,t,r,a,o,s,c,l){function h(r){var o,s,h,g=new n,b=new i,w=0,_=!0===r?e:t,M=!0===r?1:-1;for(s=v,o=1;o<=a;o++)d.push(0,y*M,0),f.push(0,M,0),m.push(.5,.5),v++;for(h=v,o=0;o<=a;o++){var S=o/a,T=S*l+c,E=Math.cos(T),A=Math.sin(T);b.x=_*A,b.y=y*M,b.z=_*E,d.push(b.x,b.y,b.z),f.push(0,M,0),g.x=.5*E+.5,g.y=.5*A*M+.5,m.push(g.x,g.y),v++}for(o=0;o<a;o++){var L=s+o,R=h+o;!0===r?p.push(R,R+1,L):p.push(R+1,R,L),w+=3}u.addGroup(x,w,!0===r?1:2),x+=w}G.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:c,thetaLength:l};var u=this;e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,a=Math.floor(a)||8,o=Math.floor(o)||1,s=void 0!==s&&s,c=void 0!==c?c:0,l=void 0!==l?l:2*Math.PI;var p=[],d=[],f=[],m=[],v=0,g=[],y=r/2,x=0;!function(){var n,s,h=new i,b=new i,w=0,_=(t-e)/r;for(s=0;s<=o;s++){var M=[],S=s/o,T=S*(t-e)+e;for(n=0;n<=a;n++){var E=n/a,A=E*l+c,L=Math.sin(A),R=Math.cos(A);b.x=T*L,b.y=-S*r+y,b.z=T*R,d.push(b.x,b.y,b.z),h.set(L,_,R).normalize(),f.push(h.x,h.y,h.z),m.push(E,1-S),M.push(v++)}g.push(M)}for(n=0;n<a;n++)for(s=0;s<o;s++){var P=g[s][n],C=g[s+1][n],O=g[s+1][n+1],D=g[s][n+1];p.push(P,C,D),p.push(C,O,D),w+=6}u.addGroup(x,w,0),x+=w}(),!1===s&&(e>0&&h(!0),t>0&&h(!1)),this.setIndex(p),this.setAttribute("position",new z(d,3)),this.setAttribute("normal",new z(f,3)),this.setAttribute("uv",new z(m,2))}function Ir(e,t,n,r,i,a,o){Or.call(this,0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Nr(e,t,n,r,i,a,o){Dr.call(this,0,e,t,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function zr(e,t,n,r){k.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Br(e,t,n,r)),this.mergeVertices()}function Br(e,t,r,a){G.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:a},e=e||1,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI;var o,s,c=[],l=[],h=[],u=[],p=new i,d=new n;for(l.push(0,0,0),h.push(0,0,1),u.push(.5,.5),s=0,o=3;s<=t;s++,o+=3){var f=r+s/t*a;p.x=e*Math.cos(f),p.y=e*Math.sin(f),l.push(p.x,p.y,p.z),h.push(0,0,1),d.x=(l[o]/e+1)/2,d.y=(l[o+1]/e+1)/2,u.push(d.x,d.y)}for(o=1;o<=t;o++)c.push(o,o+1,0);this.setIndex(c),this.setAttribute("position",new z(l,3)),this.setAttribute("normal",new z(h,3)),this.setAttribute("uv",new z(u,2))}function Ur(e){E.call(this),this.type="ShadowMaterial",this.color=new w(0),this.transparent=!0,this.setValues(e)}function Fr(e){X.call(this,e),this.type="RawShaderMaterial"}function Gr(e){E.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new w(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new w(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Hr(e){Gr.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new n(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function Vr(e){E.call(this),this.type="MeshPhongMaterial",this.color=new w(16777215),this.specular=new w(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new w(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Rs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function jr(e){E.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new w(16777215),this.specular=new w(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new w(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kr(e){E.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Wr(e){E.call(this),this.type="MeshLambertMaterial",this.color=new w(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new w(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Rs,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function qr(e){E.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new w(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Xr(e){un.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Yr(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Zr(e,t,n,r){Yr.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Jr(e,t,n,r){Yr.call(this,e,t,n,r)}function Qr(e,t,n,r){Yr.call(this,e,t,n,r)}function Kr(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hp.convertArray(t,this.TimeBufferType),this.values=hp.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function $r(e,t,n){Kr.call(this,e,t,n)}function ei(e,t,n,r){Kr.call(this,e,t,n,r)}function ti(e,t,n,r){Kr.call(this,e,t,n,r)}function ni(e,t,n,r){Yr.call(this,e,t,n,r)}function ri(e,t,n,r){Kr.call(this,e,t,n,r)}function ii(e,t,n,r){Kr.call(this,e,t,n,r)}function ai(e,t,n,r){Kr.call(this,e,t,n,r)}function oi(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=ll.generateUUID(),this.duration<0&&this.resetDuration()}function si(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ti
;case"vector":case"vector2":case"vector3":case"vector4":return ai;case"color":return ei;case"quaternion":return ri;case"bool":case"boolean":return $r;case"string":return ii}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function ci(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=si(e.type);if(void 0===e.times){var n=[],r=[];hp.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function li(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}function hi(e){this.manager=void 0!==e?e:pp,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}function ui(e){hi.call(this,e)}function pi(e){hi.call(this,e)}function di(e){hi.call(this,e)}function fi(e){hi.call(this,e)}function mi(e){hi.call(this,e)}function vi(e){hi.call(this,e)}function gi(e){hi.call(this,e)}function yi(){this.type="Curve",this.arcLengthDivisions=200}function xi(e,t,n,r,i,a,o,s){yi.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function bi(e,t,n,r,i,a){xi.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function wi(){function e(e,a,o,s){t=e,n=o,r=-3*e+3*a-2*o-s,i=2*e-2*a+o+s}var t=0,n=0,r=0,i=0;return{initCatmullRom:function(t,n,r,i,a){e(n,r,a*(r-t),a*(i-n))},initNonuniformCatmullRom:function(t,n,r,i,a,o,s){var c=(n-t)/a-(r-t)/(a+o)+(r-n)/o,l=(r-n)/o-(i-n)/(o+s)+(i-r)/s;c*=o,l*=o,e(n,r,c,l)},calc:function(e){var a=e*e;return t+n*e+r*a+i*(a*e)}}}function _i(e,t,n,r){yi.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Mi(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Si(e,t){var n=1-e;return n*n*t}function Ti(e,t){return 2*(1-e)*e*t}function Ei(e,t){return e*e*t}function Ai(e,t,n,r){return Si(e,t)+Ti(e,n)+Ei(e,r)}function Li(e,t){var n=1-e;return n*n*n*t}function Ri(e,t){var n=1-e;return 3*n*n*e*t}function Pi(e,t){return 3*(1-e)*e*e*t}function Ci(e,t){return e*e*e*t}function Oi(e,t,n,r,i){return Li(e,t)+Ri(e,n)+Pi(e,r)+Ci(e,i)}function Di(e,t,r,i){yi.call(this),this.type="CubicBezierCurve",this.v0=e||new n,this.v1=t||new n,this.v2=r||new n,this.v3=i||new n}function Ii(e,t,n,r){yi.call(this),this.type="CubicBezierCurve3",this.v0=e||new i,this.v1=t||new i,this.v2=n||new i,this.v3=r||new i}function Ni(e,t){yi.call(this),this.type="LineCurve",this.v1=e||new n,this.v2=t||new n}function zi(e,t){yi.call(this),this.type="LineCurve3",this.v1=e||new i,this.v2=t||new i}function Bi(e,t,r){yi.call(this),this.type="QuadraticBezierCurve",this.v0=e||new n,this.v1=t||new n,this.v2=r||new n}function Ui(e,t,n){yi.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new i,this.v1=t||new i,this.v2=n||new i}function Fi(e){yi.call(this),this.type="SplineCurve",this.points=e||[]}function Gi(){yi.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Hi(e){Gi.call(this),this.type="Path",this.currentPoint=new n,e&&this.setFromPoints(e)}function Vi(e){Hi.call(this,e),this.uuid=ll.generateUUID(),this.type="Shape",this.holes=[]}function ji(e,t){d.call(this),this.type="Light",this.color=new w(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function ki(e,t,n){ji.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(d.DefaultUp),this.updateMatrix(),this.groundColor=new w(t)}function Wi(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.mapPass=null,this.matrix=new h,this._frustum=new $,this._frameExtents=new n(1,1),this._viewportCount=1,this._viewports=[new s(0,0,1,1)]}function qi(){Wi.call(this,new Z(50,1,.5,500))}function Xi(e,t,n,r,i,a){ji.call(this,e,t),this.type="SpotLight",this.position.copy(d.DefaultUp),this.updateMatrix(),this.target=new d,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new qi}function Yi(){Wi.call(this,new Z(90,1,.5,500)),this._frameExtents=new n(4,2),this._viewportCount=6,this._viewports=[new s(2,1,1,1),new s(0,1,1,1),new s(3,1,1,1),new s(1,1,1,1),new s(3,0,1,1),new s(1,0,1,1)],this._cubeDirections=[new i(1,0,0),new i(-1,0,0),new i(0,0,1),new i(0,0,-1),new i(0,1,0),new i(0,-1,0)],this._cubeUps=[new i(0,1,0),new i(0,1,0),new i(0,1,0),new i(0,1,0),new i(0,0,1),new i(0,0,-1)]}function Zi(e,t,n,r){ji.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Yi}function Ji(e,t,n,r,i,a){Y.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Qi(){Wi.call(this,new Ji(-5,5,5,-5,.5,500))}function Ki(e,t){ji.call(this,e,t),this.type="DirectionalLight",this.position.copy(d.DefaultUp),this.updateMatrix(),this.target=new d,this.shadow=new Qi}function $i(e,t){ji.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function ea(e,t,n,r){ji.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function ta(e){hi.call(this,e),this.textures={}}function na(){G.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ra(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),L.call(this,e,t,n),this.meshPerAttribute=r||1}function ia(e){hi.call(this,e)}function aa(e){hi.call(this,e)}function oa(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),hi.call(this,e),this.options=void 0}function sa(){this.type="ShapePath",this.color=new w,this.subPaths=[],this.currentPath=null}function ca(e){this.type="Font",this.data=e}function la(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,c=0,l=0;l<r.length;l++){var h=r[l];if("\n"===h)s=0,c-=a;else{var u=ha(h,i,s,c,n);s+=u.offsetX,o.push(u.path)}}return o}function ha(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(!a)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");var o,s,c,l,h,u,p,d,f=new sa;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){var y=m[v++];switch(y){case"m":o=m[v++]*t+n,s=m[v++]*t+r,f.moveTo(o,s);break;case"l":o=m[v++]*t+n,s=m[v++]*t+r,f.lineTo(o,s);break;case"q":c=m[v++]*t+n,l=m[v++]*t+r,h=m[v++]*t+n,u=m[v++]*t+r,f.quadraticCurveTo(h,u,c,l);break;case"b":c=m[v++]*t+n,l=m[v++]*t+r,h=m[v++]*t+n,u=m[v++]*t+r,p=m[v++]*t+n,d=m[v++]*t+r,f.bezierCurveTo(h,u,p,d,c,l)}}return{offsetX:a.ha*t,path:f}}function ua(e){hi.call(this,e)}function pa(e){hi.call(this,e)}function da(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new i)}function fa(e,t){ji.call(this,void 0,t),this.sh=void 0!==e?e:new da}function ma(e,t,n){fa.call(this,void 0,n);var r=(new w).set(e),a=(new w).set(t),o=new i(r.r,r.g,r.b),s=new i(a.r,a.g,a.b),c=Math.sqrt(Math.PI),l=c*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(c),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}function va(e,t){fa.call(this,void 0,t);var n=(new w).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}function ga(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Z,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Z,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function ya(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function xa(){d.call(this),this.type="AudioListener",this.context=Tp.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ya}function ba(e){d.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}function wa(e){ba.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function _a(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Ma(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Sa(e,t,n){var r=n||Ta.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Ta(e,t,n){this.path=t,this.parsedPath=n||Ta.parseTrackName(t),this.node=Ta.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ea(){this.uuid=ll.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Aa(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),o={endingStart:Wc,endingEnd:Wc},s=0;s!==i;++s){var c=r[s].createInterpolant(null);a[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=kc,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function La(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Ra(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Pa(e,t,n){en.call(this,e,t),this.meshPerAttribute=n||1}function Ca(e,t,n,r){this.ray=new y(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Oa(e,t){return e.distance-t.distance}function Da(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,a=0,o=i.length;a<o;a++)Da(i[a],t,n,!0)}function Ia(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Na(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function za(e,t){this.min=void 0!==e?e:new n(1/0,1/0),this.max=void 0!==t?t:new n(-1/0,-1/0)}function Ba(e,t){this.start=void 0!==e?e:new i,this.end=void 0!==t?t:new i}function Ua(e){d.call(this),this.material=e,this.render=function(){}}function Fa(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new G,l=new z(2*o*3,3);c.setAttribute("position",l),dn.call(this,c,new un({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ga(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:65535,a=void 0!==r?r:1,o=this.object.geometry;if(!o||!o.isBufferGeometry)return void console.error("THREE.VertexTangentsHelper: geometry not an instance of THREE.BufferGeometry.",o);var s=o.attributes.tangent.count,c=new G,l=new z(2*s*3,3);c.setAttribute("position",l),dn.call(this,c,new un({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ha(e,t){d.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new G,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new z(r,3));var c=new un({fog:!1});this.cone=new dn(n,c),this.add(this.cone),this.update()}function Va(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Va(e.children[n]));return t}function ja(e){for(var t=Va(e),n=new G,r=[],i=[],a=new w(0,0,1),o=new w(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new z(r,3)),n.setAttribute("color",new z(i,3));var l=new un({vertexColors:Ko,depthTest:!1,depthWrite:!1,transparent:!0});dn.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function ka(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Mr(t,4,2),i=new A({wireframe:!0,fog:!1});H.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Wa(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],r=new G;r.setAttribute("position",new z(n,3)),r.computeBoundingSphere();var i=new un({fog:!1});pn.call(this,r,i);var a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],o=new G;o.setAttribute("position",new z(a,3)),o.computeBoundingSphere(),this.add(new H(o,new A({side:Yo,fog:!1}))),this.update()}function qa(e,t,n){d.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new Pn(t);r.rotateY(.5*Math.PI),this.material=new A({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Ko);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new L(a,3)),this.add(new H(r,this.material)),this.update()}function Xa(e,t){this.lightProbe=e,this.size=t;var n={};n.GAMMA_OUTPUT="";var r=new X({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new Mr(1,32,16);H.call(this,i,r),this.onBeforeRender()}function Ya(e,t,n,r){e=e||10,t=t||10,n=new w(void 0!==n?n:4473924),r=new w(void 0!==r?r:8947848);for(var i=t/2,a=e/t,o=e/2,s=[],c=[],l=0,h=0,u=-o;l<=t;l++,u+=a){s.push(-o,0,u,o,0,u),s.push(u,0,-o,u,0,o);var p=l===i?n:r;p.toArray(c,h),h+=3,p.toArray(c,h),h+=3,p.toArray(c,h),h+=3,p.toArray(c,h),h+=3}var d=new G;d.setAttribute("position",new z(s,3)),d.setAttribute("color",new z(c,3));var f=new un({vertexColors:Ko});dn.call(this,d,f)}function Za(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new w(void 0!==i?i:4473924),a=new w(void 0!==a?a:8947848);var o,s,c,l,h,u,p,d=[],f=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),o=Math.sin(c)*e,s=Math.cos(c)*e,d.push(0,0,0),d.push(o,0,s),p=1&l?i:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=n;l++)for(p=1&l?i:a,u=e-e/n*l,h=0;h<r;h++)c=h/r*(2*Math.PI),o=Math.sin(c)*u,s=Math.cos(c)*u,d.push(o,0,s),f.push(p.r,p.g,p.b),c=(h+1)/r*(2*Math.PI),o=Math.sin(c)*u,s=Math.cos(c)*u,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new G;m.setAttribute("position",new z(d,3)),m.setAttribute("color",new z(f,3));var v=new un({vertexColors:Ko});dn.call(this,m,v)}function Ja(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new G,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));i.setAttribute("position",new L(o,3));var s=new un({color:65280}),c=new un({color:16776960});pn.call(this,i,[c,s]),this.update()}function Qa(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new G,l=new z(2*o*3,3);c.setAttribute("position",l),dn.call(this,c,new un({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ka(e,t,n){d.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new G;r.setAttribute("position",new z([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new un({fog:!1});this.lightPlane=new pn(r,i),this.add(this.lightPlane),r=new G,r.setAttribute("position",new z([0,0,0,0,0,1],3)),this.targetLine=new pn(r,i),this.add(this.targetLine),this.update()}function $a(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){a.push(0,0,0),o.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(a.length/3-1)}var r=new G,i=new un({color:16777215,vertexColors:Qo}),a=[],o=[],s={},c=new w(16755200),l=new w(16711680),h=new w(43775),u=new w(16777215),p=new w(3355443);t("n1","n2",c),t("n2","n4",c),t("n4","n3",c),t("n3","n1",c),t("f1","f2",c),t("f2","f4",c),t("f4","f3",c),t("f3","f1",c),t("n1","f1",c),t("n2","f2",c),t("n3","f3",c),t("n4","f4",c),t("p","n1",l),t("p","n2",l),t("p","n3",l),t("p","n4",l),t("u1","u2",h),t("u2","u3",h),t("u3","u1",h),t("c","t",u),t("p","c",p),t("cn1","cn2",p),t("cn3","cn4",p),t("cf1","cf2",p),t("cf3","cf4",p),r.setAttribute("position",new z(a,3)),r.setAttribute("color",new z(o,3)),dn.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function eo(e,t,n,r,i,a,o){fd.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var c=n.getAttribute("position"),l=0,h=s.length;l<h;l++)c.setXYZ(s[l],fd.x,fd.y,fd.z)}function to(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new G;i.setIndex(new L(n,1)),i.setAttribute("position",new L(r,3)),dn.call(this,i,new un({color:t})),this.matrixAutoUpdate=!1,this.update()}function no(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new G;i.setIndex(new L(n,1)),i.setAttribute("position",new z(r,3)),dn.call(this,i,new un({color:t})),this.geometry.computeBoundingSphere()}function ro(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new G;a.setAttribute("position",new z(i,3)),a.computeBoundingSphere(),pn.call(this,a,new un({color:r}));var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new G;s.setAttribute("position",new z(o,3)),s.computeBoundingSphere(),this.add(new H(s,new A({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function io(e,t,n,r,a,o){d.call(this),void 0===e&&(e=new i(0,0,1)),void 0===t&&(t=new i(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===a&&(a=.2*n),void 0===o&&(o=.2*a),void 0===gd&&(gd=new G,gd.setAttribute("position",new z([0,0,0,0,1,0],3)),yd=new Dr(0,.5,1,5,1),yd.translate(0,-.5,0)),this.position.copy(t),this.line=new pn(gd,new un({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new H(yd,new A({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,o)}function ao(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new G;r.setAttribute("position",new z(t,3)),r.setAttribute("color",new z(n,3));var i=new un({vertexColors:Ko});dn.call(this,r,i)}function oo(e,t,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new T(e,t,n,i,a,o)}function so(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function co(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function lo(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new vn(e,t)}function ho(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new rn(e)}function uo(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new vn(e,t)}function po(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new mn(e)}function fo(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new mn(e)}function mo(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new mn(e)}function vo(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new i(e,t,n)}function go(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new L(e,t).setDynamic(!0)}function yo(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new R(e,t)}function xo(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new P(e,t)}function bo(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new C(e,t)}function wo(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new O(e,t)}function _o(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new D(e,t)}function Mo(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new I(e,t)}function So(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new N(e,t)}function To(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new z(e,t)}function Eo(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new B(e,t)}function Ao(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),_i.call(this,e),this.type="catmullrom",this.closed=!0}function Lo(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),_i.call(this,e),this.type="catmullrom"}function Ro(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),_i.call(this,e),this.type="catmullrom"}function Po(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new ao(e)}function Co(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new to(e,t)}function Oo(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new dn(new Cr(e.geometry),new un({color:void 0!==t?t:16777215}))}function Do(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new dn(new _n(e.geometry),new un({color:void 0!==t?t:16777215}))}function Io(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ui(e)}function No(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new fi(e)}function zo(){console.error("THREE.CanvasRenderer has been removed")}function Bo(){console.error("THREE.JSONLoader has been removed.")}function Uo(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var Fo={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Go={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ho=0,Vo=1,jo=2,ko=1,Wo=2,qo=3,Xo=0,Yo=1,Zo=2,Jo=0,Qo=1,Ko=2,$o=0,es=1,ts=2,ns=3,rs=4,is=5,as=100,os=101,ss=102,cs=103,ls=104,hs=200,us=201,ps=202,ds=203,fs=204,ms=205,vs=206,gs=207,ys=208,xs=209,bs=210,ws=0,_s=1,Ms=2,Ss=3,Ts=4,Es=5,As=6,Ls=7,Rs=0,Ps=1,Cs=2,Os=0,Ds=1,Is=2,Ns=3,zs=4,Bs=5,Us=301,Fs=302,Gs=303,Hs=304,Vs=305,js=306,ks=307,Ws=1e3,qs=1001,Xs=1002,Ys=1003,Zs=1004,Js=1005,Qs=1006,Ks=1007,$s=1008,ec=1009,tc=1010,nc=1011,rc=1012,ic=1013,ac=1014,oc=1015,sc=1016,cc=1017,lc=1018,hc=1019,uc=1020,pc=1021,dc=1022,fc=1023,mc=1024,vc=1025,gc=fc,yc=1026,xc=1027,bc=1028,wc=33776,_c=33777,Mc=33778,Sc=33779,Tc=35840,Ec=35841,Ac=35842,Lc=35843,Rc=36196,Pc=37808,Cc=37809,Oc=37810,Dc=37811,Ic=37812,Nc=37813,zc=37814,Bc=37815,Uc=37816,Fc=37817,Gc=37818,Hc=37819,Vc=37820,jc=37821,kc=2201,Wc=2400,qc=3e3,Xc=3001,Yc=3007,Zc=3002,Jc=3003,Qc=3004,Kc=3005,$c=3006,el=3200,tl=3201,nl=0,rl=1,il=7680,al=519,ol=35044;Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=n.slice(0),i=0,a=r.length;i<a;i++)r[i].call(this,e)}}}});for(var sl=[],cl=0;cl<256;cl++)sl[cl]=(cl<16?"0":"")+cl.toString(16);var ll={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(sl[255&e]+sl[e>>8&255]+sl[e>>16&255]+sl[e>>24&255]+"-"+sl[255&t]+sl[t>>8&255]+"-"+sl[t>>16&15|64]+sl[t>>24&255]+"-"+sl[63&n|128]+sl[n>>8&255]+"-"+sl[n>>16&255]+sl[n>>24&255]+sl[255&r]+sl[r>>8&255]+sl[r>>16&255]+sl[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*ll.DEG2RAD},radToDeg:function(e){return e*ll.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};Object.defineProperties(n.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(n.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this
},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}}),Object.assign(r,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,o){var s=n[r+0],c=n[r+1],l=n[r+2],h=n[r+3],u=i[a+0],p=i[a+1],d=i[a+2],f=i[a+3];if(h!==f||s!==u||c!==p||l!==d){var m=1-o,v=s*u+c*p+l*d+h*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,v*g);m=Math.sin(m*b)/x,o=Math.sin(o*b)/x}var w=o*g;if(s=s*m+u*w,c=c*m+p*w,l=l*m+d*w,h=h*m+f*w,m===1-o){var _=1/Math.sqrt(s*s+c*c+l*l+h*h);s*=_,c*=_,l*=_,h*=_}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=h}}),Object.defineProperties(r.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(r.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e.order,o=Math.cos,s=Math.sin,c=o(n/2),l=o(r/2),h=o(i/2),u=s(n/2),p=s(r/2),d=s(i/2);return"XYZ"===a?(this._x=u*l*h+c*p*d,this._y=c*p*h-u*l*d,this._z=c*l*d+u*p*h,this._w=c*l*h-u*p*d):"YXZ"===a?(this._x=u*l*h+c*p*d,this._y=c*p*h-u*l*d,this._z=c*l*d-u*p*h,this._w=c*l*h+u*p*d):"ZXY"===a?(this._x=u*l*h-c*p*d,this._y=c*p*h+u*l*d,this._z=c*l*d+u*p*h,this._w=c*l*h-u*p*d):"ZYX"===a?(this._x=u*l*h-c*p*d,this._y=c*p*h+u*l*d,this._z=c*l*d-u*p*h,this._w=c*l*h+u*p*d):"YZX"===a?(this._x=u*l*h+c*p*d,this._y=c*p*h+u*l*d,this._z=c*l*d-u*p*h,this._w=c*l*h-u*p*d):"XZY"===a&&(this._x=u*l*h-c*p*d,this._y=c*p*h-u*l*d,this._z=c*l*d+u*p*h,this._w=c*l*h+u*p*d),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],c=n[9],l=n[2],h=n[6],u=n[10],p=r+s+u;return p>0?(t=.5/Math.sqrt(p+1),this._w=.25/t,this._x=(h-c)*t,this._y=(a-l)*t,this._z=(o-i)*t):r>s&&r>u?(t=2*Math.sqrt(1+r-s-u),this._w=(h-c)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(a+l)/t):s>u?(t=2*Math.sqrt(1+s-r-u),this._w=(a-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(c+h)/t):(t=2*Math.sqrt(1+u-r-s),this._w=(o-i)/t,this._x=(a+l)/t,this._y=(c+h)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(ll.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+a*o+r*c-i*s,this._y=r*l+a*s+i*o-n*c,this._z=i*l+a*c+n*s-r*o,this._w=a*l-n*o-r*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-t;return this._w=c*a+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),h=Math.atan2(l,o),u=Math.sin((1-t)*h)/l,p=Math.sin(t*h)/l;return this._w=a*u+this._w*p,this._x=n*u+this._x*p,this._y=r*u+this._y*p,this._z=i*u+this._z*p,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var hl=new i,ul=new r;Object.assign(i.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ul.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(ul.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,c=s*t+a*r-o*n,l=s*n+o*t-i*r,h=s*r+i*n-a*t,u=-i*t-a*n-o*r;return this.x=c*s+u*-i+l*-o-h*-a,this.y=l*s+u*-a+h*-i-c*-o,this.z=h*s+u*-o+c*-a-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return hl.copy(this).projectOnVector(e),this.sub(hl)},reflect:function(e){return this.sub(hl.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(e)/t;return Math.acos(ll.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var pl=new i;Object.assign(a.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,o,s,c){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)pl.x=e.getX(t),pl.y=e.getY(t),pl.z=e.getZ(t),pl.applyMatrix3(this),e.setXYZ(t,pl.x,pl.y,pl.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],c=n[1],l=n[4],h=n[7],u=n[2],p=n[5],d=n[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=a*f+o*g+s*b,i[3]=a*m+o*y+s*w,i[6]=a*v+o*x+s*_,i[1]=c*f+l*g+h*b,i[4]=c*m+l*y+h*w,i[7]=c*v+l*x+h*_,i[2]=u*f+p*g+d*b,i[5]=u*m+p*y+d*w,i[8]=u*v+p*x+d*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*a*l-t*o*c-n*i*l+n*o*s+r*i*c-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],l=n[5],h=n[6],u=n[7],p=n[8],d=p*c-l*u,f=l*h-p*s,m=u*s-c*h,v=i*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*u-p*a)*y,r[2]=(l*a-o*c)*y,r[3]=f*y,r[4]=(p*i-o*h)*y,r[5]=(o*s-l*i)*y,r[6]=m*y,r[7]=(a*h-u*i)*y,r[8]=(c*i-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,o){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*a+c*o)+a+e,-r*c,r*s,-r*(-c*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],c=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*c,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*c,r[7]=-n*o+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var dl,fl={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===dl&&(dl=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),dl.width=e.width,dl.height=e.height;var n=dl.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=dl}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},ml=0;o.DEFAULT_IMAGE=void 0,o.DEFAULT_MAPPING=300,o.prototype=Object.assign(Object.create(t.prototype),{constructor:o,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=ll.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(fl.getDataURL(r[a]))}else i=fl.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ws:e.x=e.x-Math.floor(e.x);break;case qs:e.x=e.x<0?0:1;break;case Xs:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ws:e.y=e.y-Math.floor(e.y);break;case qs:e.y=e.y<0?0:1;break;case Xs:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(o.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(s.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(s.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],c=a[8],l=a[1],h=a[5],u=a[9],p=a[2],d=a[6],f=a[10];if(Math.abs(s-l)<.01&&Math.abs(c-p)<.01&&Math.abs(u-d)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+p)<.1&&Math.abs(u+d)<.1&&Math.abs(o+h+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,v=(h+1)/2,g=(f+1)/2,y=(s+l)/4,x=(c+p)/4,b=(u+d)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=x/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(v),n=y/r,i=b/r):g<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=x/i,r=b/i),this.set(n,r,i,t),this}var w=Math.sqrt((d-u)*(d-u)+(c-p)*(c-p)+(l-s)*(l-s));return Math.abs(w)<.001&&(w=1),this.x=(d-u)/w,this.y=(c-p)/w,this.z=(l-s)/w,this.w=Math.acos((o+h+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),c.prototype=Object.assign(Object.create(t.prototype),{constructor:c,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),l.prototype=Object.assign(Object.create(c.prototype),{constructor:l,isWebGLMultisampleRenderTarget:!0,copy:function(e){return c.prototype.copy.call(this,e),this.samples=e.samples,this}});var vl=new i,gl=new h,yl=new i(0,0,0),xl=new i(1,1,1),bl=new i,wl=new i,_l=new i;Object.assign(h.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,o,s,c,l,h,u,p,d,f,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=c,v[6]=l,v[10]=h,v[14]=u,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new h).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/vl.setFromMatrixColumn(e,0).length(),i=1/vl.setFromMatrixColumn(e,1).length(),a=1/vl.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),h=Math.sin(i);if("XYZ"===e.order){var u=a*l,p=a*h,d=o*l,f=o*h;t[0]=s*l,t[4]=-s*h,t[8]=c,t[1]=p+d*c,t[5]=u-f*c,t[9]=-o*s,t[2]=f-u*c,t[6]=d+p*c,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,v=s*h,g=c*l,y=c*h;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*c,t[1]=a*h,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var m=s*l,v=s*h,g=c*l,y=c*h;t[0]=m-y*o,t[4]=-a*h,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*l,t[9]=y-m*o,t[2]=-a*c,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var u=a*l,p=a*h,d=o*l,f=o*h
;t[0]=s*l,t[4]=d*c-p,t[8]=u*c+f,t[1]=s*h,t[5]=f*c+u,t[9]=p*c-d,t[2]=-c,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var x=a*s,b=a*c,w=o*s,_=o*c;t[0]=s*l,t[4]=_-x*h,t[8]=w*h+b,t[1]=h,t[5]=a*l,t[9]=-o*l,t[2]=-c*l,t[6]=b*h+w,t[10]=x-_*h}else if("XZY"===e.order){var x=a*s,b=a*c,w=o*s,_=o*c;t[0]=s*l,t[4]=-h,t[8]=c*l,t[1]=x*h+_,t[5]=a*l,t[9]=b*h-w,t[2]=w*h-b,t[6]=o*l,t[10]=_*h+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(yl,e,xl)},lookAt:function(e,t,n){var r=this.elements;return _l.subVectors(e,t),0===_l.lengthSq()&&(_l.z=1),_l.normalize(),bl.crossVectors(n,_l),0===bl.lengthSq()&&(1===Math.abs(n.z)?_l.x+=1e-4:_l.z+=1e-4,_l.normalize(),bl.crossVectors(n,_l)),bl.normalize(),wl.crossVectors(_l,bl),r[0]=bl.x,r[4]=wl.x,r[8]=_l.x,r[1]=bl.y,r[5]=wl.y,r[9]=_l.y,r[2]=bl.z,r[6]=wl.z,r[10]=_l.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],c=n[12],l=n[1],h=n[5],u=n[9],p=n[13],d=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],x=n[11],b=n[15],w=r[0],_=r[4],M=r[8],S=r[12],T=r[1],E=r[5],A=r[9],L=r[13],R=r[2],P=r[6],C=r[10],O=r[14],D=r[3],I=r[7],N=r[11],z=r[15];return i[0]=a*w+o*T+s*R+c*D,i[4]=a*_+o*E+s*P+c*I,i[8]=a*M+o*A+s*C+c*N,i[12]=a*S+o*L+s*O+c*z,i[1]=l*w+h*T+u*R+p*D,i[5]=l*_+h*E+u*P+p*I,i[9]=l*M+h*A+u*C+p*N,i[13]=l*S+h*L+u*O+p*z,i[2]=d*w+f*T+m*R+v*D,i[6]=d*_+f*E+m*P+v*I,i[10]=d*M+f*A+m*C+v*N,i[14]=d*S+f*L+m*O+v*z,i[3]=g*w+y*T+x*R+b*D,i[7]=g*_+y*E+x*P+b*I,i[11]=g*M+y*A+x*C+b*N,i[15]=g*S+y*L+x*O+b*z,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)vl.x=e.getX(t),vl.y=e.getY(t),vl.z=e.getZ(t),vl.applyMatrix4(this),e.setXYZ(t,vl.x,vl.y,vl.z);return e},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],c=e[13],l=e[2],h=e[6],u=e[10],p=e[14];return e[3]*(+i*s*h-r*c*h-i*o*u+n*c*u+r*o*p-n*s*p)+e[7]*(+t*s*p-t*c*u+i*a*u-r*a*p+r*c*l-i*s*l)+e[11]*(+t*c*h-t*o*p-i*a*h+n*a*p+i*o*l-n*c*l)+e[15]*(-r*o*l-t*s*h+t*o*u+r*a*h-n*a*u+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],c=r[4],l=r[5],h=r[6],u=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*u-g*f*u+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*u-p*y*u-v*h*m+c*y*m+p*h*x-c*f*x,_=p*g*u-v*d*u+v*l*m-c*g*m-p*l*x+c*d*x,M=v*d*h-p*g*h-v*l*f+c*g*f+p*l*y-c*d*y,S=i*b+a*w+o*_+s*M;if(0===S){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var E=1/S;return n[0]=b*E,n[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*E,n[2]=(l*y*s-g*h*s+g*o*u-a*y*u-l*o*x+a*h*x)*E,n[3]=(d*h*s-l*f*s-d*o*u+a*f*u+l*o*m-a*h*m)*E,n[4]=w*E,n[5]=(p*y*s-v*f*s+v*o*m-i*y*m-p*o*x+i*f*x)*E,n[6]=(v*h*s-c*y*s-v*o*u+i*y*u+c*o*x-i*h*x)*E,n[7]=(c*f*s-p*h*s+p*o*u-i*f*u-c*o*m+i*h*m)*E,n[8]=_*E,n[9]=(v*d*s-p*g*s-v*a*m+i*g*m+p*a*x-i*d*x)*E,n[10]=(c*g*s-v*l*s+v*a*u-i*g*u-c*a*x+i*l*x)*E,n[11]=(p*l*s-c*d*s-p*a*u+i*d*u+c*a*m-i*l*m)*E,n[12]=M*E,n[13]=(p*g*o-v*d*o+v*a*f-i*g*f-p*a*y+i*d*y)*E,n[14]=(v*l*o-c*g*o-v*a*h+i*g*h+c*a*y-i*l*y)*E,n[15]=(c*d*o-p*l*o+p*a*h-i*d*h-c*a*f+i*l*f)*E,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,c=i*a,l=i*o;return this.set(c*a+n,c*o-r*s,c*s+r*o,0,c*o+r*s,l*o+n,l*s-r*a,0,c*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,c=i+i,l=a+a,h=o+o,u=i*c,p=i*l,d=i*h,f=a*l,m=a*h,v=o*h,g=s*c,y=s*l,x=s*h,b=n.x,w=n.y,_=n.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(u+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(u+f))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=vl.set(r[0],r[1],r[2]).length(),a=vl.set(r[4],r[5],r[6]).length(),o=vl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],gl.copy(this);var s=1/i,c=1/a,l=1/o;return gl.elements[0]*=s,gl.elements[1]*=s,gl.elements[2]*=s,gl.elements[4]*=c,gl.elements[5]*=c,gl.elements[6]*=c,gl.elements[8]*=l,gl.elements[9]*=l,gl.elements[10]*=l,t.setFromRotationMatrix(gl),n.x=i,n.y=a,n.z=o,this},makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),c=2*i/(n-r),l=(t+e)/(t-e),h=(n+r)/(n-r),u=-(a+i)/(a-i),p=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=c,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),c=1/(n-r),l=1/(a-i),h=(t+e)*s,u=(n+r)*c,p=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var Ml=new h,Sl=new r;u.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],u.DefaultOrder="XYZ",Object.defineProperties(u.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(u.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=ll.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],c=i[1],l=i[5],h=i[9],u=i[2],p=i[6],d=i[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-u,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===t?(this._y=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Ml.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ml,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Sl.setFromEuler(this),this.setFromQuaternion(Sl,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new i(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(p.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var Tl=0,El=new i,Al=new r,Ll=new h,Rl=new i,Pl=new i,Cl=new i,Ol=new r,Dl=new i(1,0,0),Il=new i(0,1,0),Nl=new i(0,0,1),zl={type:"added"},Bl={type:"removed"};d.DefaultUp=new i(0,1,0),d.DefaultMatrixAutoUpdate=!0,d.prototype=Object.assign(Object.create(t.prototype),{constructor:d,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Al.setFromAxisAngle(e,t),this.quaternion.multiply(Al),this},rotateOnWorldAxis:function(e,t){return Al.setFromAxisAngle(e,t),this.quaternion.premultiply(Al),this},rotateX:function(e){return this.rotateOnAxis(Dl,e)},rotateY:function(e){return this.rotateOnAxis(Il,e)},rotateZ:function(e){return this.rotateOnAxis(Nl,e)},translateOnAxis:function(e,t){return El.copy(e).applyQuaternion(this.quaternion),this.position.add(El.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Dl,e)},translateY:function(e){return this.translateOnAxis(Il,e)},translateZ:function(e){return this.translateOnAxis(Nl,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Ll.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Rl.copy(e):Rl.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Pl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ll.lookAt(Pl,Rl,this.up):Ll.lookAt(Rl,Pl,this.up),this.quaternion.setFromRotationMatrix(Ll),r&&(Ll.extractRotation(r.matrixWorld),Al.setFromRotationMatrix(Ll),this.quaternion.premultiply(Al.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zl)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Bl)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Ll.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ll.multiply(e.parent.matrixWorld)),e.applyMatrix(Ll),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],a=i.getObjectByProperty(e,t);if(void 0!==a)return a}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new i),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new r),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Pl,e,Cl),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new i),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Pl,Ol,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new i),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){function t(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}function n(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var r=void 0===e||"string"==typeof e,i={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),!1===this.frustumCulled&&(a.frustumCulled=!1),0!==this.renderOrder&&(a.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){a.geometry=t(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var s=o.shapes;if(Array.isArray(s))for(var c=0,l=s.length;c<l;c++){var h=s[c];t(e.shapes,h)}else t(e.shapes,s)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],c=0,l=this.material.length;c<l;c++)u.push(t(e.materials,this.material[c]));a.material=u}else a.material=t(e.materials,this.material);if(this.children.length>0){a.children=[];for(var c=0;c<this.children.length;c++)a.children.push(this.children[c].toJSON(e).object)}if(r){var p=n(e.geometries),d=n(e.materials),f=n(e.textures),m=n(e.images),s=n(e.shapes);p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),s.length>0&&(i.shapes=s)}return i.object=a,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),f.prototype=Object.assign(Object.create(d.prototype),{constructor:f,isScene:!0,copy:function(e,t){return d.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=d.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ul=[new i,new i,new i,new i,new i,new i,new i,new i],Fl=new i,Gl=new m,Hl=new i,Vl=new i,jl=new i,kl=new i,Wl=new i,ql=new i,Xl=new i,Yl=new i,Zl=new i,Jl=new i;Object.assign(m.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],h=e[s+1],u=e[s+2];l<t&&(t=l),h<n&&(n=h),u<r&&(r=u),l>i&&(i=l),h>a&&(a=h),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),h=e.getY(s),u=e.getZ(s);l<t&&(t=l),h<n&&(n=h),u<r&&(r=u),l>i&&(i=l),h>a&&(a=h),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Fl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new i),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new i),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Gl.copy(t.boundingBox),Gl.applyMatrix4(e.matrixWorld),this.expandByPoint(Gl.min),this.expandByPoint(Gl.max));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new i),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Fl),Fl.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Xl),Yl.subVectors(this.max,Xl),Hl.subVectors(e.a,Xl),Vl.subVectors(e.b,Xl),jl.subVectors(e.c,Xl),kl.subVectors(Vl,Hl),Wl.subVectors(jl,Vl),ql.subVectors(Hl,jl);var t=[0,-kl.z,kl.y,0,-Wl.z,Wl.y,0,-ql.z,ql.y,kl.z,0,-kl.x,Wl.z,0,-Wl.x,ql.z,0,-ql.x,-kl.y,kl.x,0,-Wl.y,Wl.x,0,-ql.y,ql.x,0];return!!v(t,Hl,Vl,jl,Yl)&&(t=[1,0,0,0,1,0,0,0,1],!!v(t,Hl,Vl,jl,Yl)&&(Zl.crossVectors(kl,Wl),t=[Zl.x,Zl.y,Zl.z],v(t,Hl,Vl,jl,Yl)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new i),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Fl.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Fl).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Ul[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ul[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ul[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ul[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ul[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ul[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ul[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ul[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ul),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Ql=new m;Object.assign(g.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):Ql.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new i),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new m),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Kl=new i,$l=new i,eh=new i,th=new i,nh=new i,rh=new i,ih=new i;Object.assign(y.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new i),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Kl)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new i),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Kl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Kl.copy(this.direction).multiplyScalar(t).add(this.origin),Kl.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){$l.copy(e).add(t).multiplyScalar(.5),eh.copy(t).sub(e).normalize(),th.copy(this.origin).sub($l);var i,a,o,s,c=.5*e.distanceTo(t),l=-this.direction.dot(eh),h=th.dot(this.direction),u=-th.dot(eh),p=th.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(i=l*u-h,a=l*h-u,s=c*d,i>=0)if(a>=-s)if(a<=s){var f=1/d;i*=f,a*=f,o=i*(i+l*a+2*h)+a*(l*i+a+2*u)+p}else a=c,i=Math.max(0,-(l*a+h)),o=-i*i+a*(a+2*u)+p;else a=-c,i=Math.max(0,-(l*a+h)),o=-i*i+a*(a+2*u)+p;else a<=-s?(i=Math.max(0,-(-l*c+h)),a=i>0?-c:Math.min(Math.max(-c,-u),c),o=-i*i+a*(a+2*u)+p):a<=s?(i=0,a=Math.min(Math.max(-c,-u),c),o=a*(a+2*u)+p):(i=Math.max(0,-(l*c+h)),a=i>0?c:Math.min(Math.max(-c,-u),c),o=-i*i+a*(a+2*u)+p);else a=l>0?-c:c,i=Math.max(0,-(l*a+h)),o=-i*i+a*(a+2*u)+p;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(eh).multiplyScalar(a).add($l),o},intersectSphere:function(e,t){Kl.subVectors(e.center,this.origin);var n=Kl.dot(this.direction),r=Kl.dot(Kl)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,a,o,s,c=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,u=this.origin;return c>=0?(n=(e.min.x-u.x)*c,r=(e.max.x-u.x)*c):(n=(e.max.x-u.x)*c,r=(e.min.x-u.x)*c),l>=0?(i=(e.min.y-u.y)*l,a=(e.max.y-u.y)*l):(i=(e.max.y-u.y)*l,a=(e.min.y-u.y)*l),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),h>=0?(o=(e.min.z-u.z)*h,s=(e.max.z-u.z)*h):(o=(e.max.z-u.z)*h,s=(e.min.z-u.z)*h),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Kl)},intersectTriangle:function(e,t,n,r,i){nh.subVectors(t,e),rh.subVectors(n,e),ih.crossVectors(nh,rh);var a,o=this.direction.dot(ih);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}th.subVectors(this.origin,e);var s=a*this.direction.dot(rh.crossVectors(th,rh));if(s<0)return null;var c=a*this.direction.dot(nh.cross(th));if(c<0)return null;if(s+c>o)return null;var l=-a*th.dot(ih);return l<0?null:this.at(l/o,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var ah=new i,oh=new i,sh=new a;Object.assign(x.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=ah.subVectors(n,t).cross(oh.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new i),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new i);var n=e.delta(ah),r=this.normal.dot(n);if(0!==r){var a=-(e.start.dot(this.normal)+this.constant)/r;if(!(a<0||a>1))return t.copy(n).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return t.copy(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new i),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||sh.getNormalMatrix(e),r=this.coplanarPoint(ah).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var ch=new i,lh=new i,hh=new i,uh=new i,ph=new i,dh=new i,fh=new i,mh=new i,vh=new i,gh=new i;Object.assign(b,{getNormal:function(e,t,n,r){
void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new i),r.subVectors(n,t),ch.subVectors(e,t),r.cross(ch);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,a){ch.subVectors(r,t),lh.subVectors(n,t),hh.subVectors(e,t);var o=ch.dot(ch),s=ch.dot(lh),c=ch.dot(hh),l=lh.dot(lh),h=lh.dot(hh),u=o*l-s*s;if(void 0===a&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),a=new i),0===u)return a.set(-2,-1,-1);var p=1/u,d=(l*c-s*h)*p,f=(o*h-s*c)*p;return a.set(1-d-f,f,d)},containsPoint:function(e,t,n,r){return b.getBarycoord(e,t,n,r,uh),uh.x>=0&&uh.y>=0&&uh.x+uh.y<=1},getUV:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,uh),s.set(0,0),s.addScaledVector(i,uh.x),s.addScaledVector(a,uh.y),s.addScaledVector(o,uh.z),s},isFrontFacing:function(e,t,n,r){return ch.subVectors(n,t),lh.subVectors(e,t),ch.cross(lh).dot(r)<0}}),Object.assign(b.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return ch.subVectors(this.c,this.b),lh.subVectors(this.a,this.b),.5*ch.cross(lh).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new i),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return b.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new x),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return b.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return b.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return b.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return b.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new i);var n,r,a=this.a,o=this.b,s=this.c;ph.subVectors(o,a),dh.subVectors(s,a),mh.subVectors(e,a);var c=ph.dot(mh),l=dh.dot(mh);if(c<=0&&l<=0)return t.copy(a);vh.subVectors(e,o);var h=ph.dot(vh),u=dh.dot(vh);if(h>=0&&u<=h)return t.copy(o);var p=c*u-h*l;if(p<=0&&c>=0&&h<=0)return n=c/(c-h),t.copy(a).addScaledVector(ph,n);gh.subVectors(e,s);var d=ph.dot(gh),f=dh.dot(gh);if(f>=0&&d<=f)return t.copy(s);var m=d*l-c*f;if(m<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(a).addScaledVector(dh,r);var v=h*f-d*u;if(v<=0&&u-h>=0&&d-f>=0)return fh.subVectors(s,o),r=(u-h)/(u-h+(d-f)),t.copy(o).addScaledVector(fh,r);var g=1/(v+m+p);return n=m*g,r=p*g,t.copy(a).addScaledVector(ph,n).addScaledVector(dh,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var yh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xh={h:0,s:0,l:0},bh={h:0,s:0,l:0};Object.assign(w.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=ll.euclideanModulo(e,1),t=ll.clamp(t,0,1),n=ll.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=_(i,r,e+1/3),this.g=_(i,r,e),this.b=_(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=n[1],h=l.length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=yh[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=M(e.r),this.g=M(e.g),this.b=M(e.b),this},copyLinearToSRGB:function(e){return this.r=S(e.r),this.g=S(e.g),this.b=S(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),c=(s+o)/2;if(s===o)t=0,n=0;else{var l=o-s;switch(n=c<=.5?l/(o+s):l/(2-o-s),o){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(xh),xh.h+=e,xh.s+=t,xh.l+=n,this.setHSL(xh.h,xh.s,xh.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(xh),e.getHSL(bh);var n=ll.lerp(xh.h,bh.h,t),r=ll.lerp(xh.s,bh.s,t),i=ll.lerp(xh.l,bh.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),w.NAMES=yh,Object.assign(T.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var wh=0;E.prototype=Object.assign(Object.create(t.prototype),{constructor:E,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==es&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==Xo&&(r.side=this.side),this.vertexColors!==Jo&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n){var i=t(e.textures),a=t(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(E.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),A.prototype=Object.create(E.prototype),A.prototype.constructor=A,A.prototype.isMeshBasicMaterial=!0,A.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var _h=new i;Object.defineProperty(L.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(L.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new w),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,i=0,a=e.length;i<a;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new n),t[r++]=o.x,t[r++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new i),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new s),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){for(var t=0,n=this.count;t<n;t++)_h.x=this.getX(t),_h.y=this.getY(t),_h.z=this.getZ(t),_h.applyMatrix3(e),this.setXYZ(t,_h.x,_h.y,_h.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)_h.x=this.getX(t),_h.y=this.getY(t),_h.z=this.getZ(t),_h.applyMatrix4(e),this.setXYZ(t,_h.x,_h.y,_h.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)_h.x=this.getX(t),_h.y=this.getY(t),_h.z=this.getZ(t),_h.applyNormalMatrix(e),this.setXYZ(t,_h.x,_h.y,_h.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)_h.x=this.getX(t),_h.y=this.getY(t),_h.z=this.getZ(t),_h.transformDirection(e),this.setXYZ(t,_h.x,_h.y,_h.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),R.prototype=Object.create(L.prototype),R.prototype.constructor=R,P.prototype=Object.create(L.prototype),P.prototype.constructor=P,C.prototype=Object.create(L.prototype),C.prototype.constructor=C,O.prototype=Object.create(L.prototype),O.prototype.constructor=O,D.prototype=Object.create(L.prototype),D.prototype.constructor=D,I.prototype=Object.create(L.prototype),I.prototype.constructor=I,N.prototype=Object.create(L.prototype),N.prototype.constructor=N,z.prototype=Object.create(L.prototype),z.prototype.constructor=z,B.prototype=Object.create(L.prototype),B.prototype.constructor=B,Object.assign(U.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,r=e.faces,i=e.vertices,a=e.faceVertexUvs,o=a[0]&&a[0].length>0,s=a[1]&&a[1].length>0,c=e.morphTargets,l=c.length;if(l>0){t=[];for(var h=0;h<l;h++)t[h]={name:c[h].name,data:[]};this.morphTargets.position=t}var u,p=e.morphNormals,d=p.length;if(d>0){u=[];for(var h=0;h<d;h++)u[h]={name:p[h].name,data:[]};this.morphTargets.normal=u}var f=e.skinIndices,m=e.skinWeights,v=f.length===i.length,g=m.length===i.length;i.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var h=0;h<r.length;h++){var y=r[h];this.vertices.push(i[y.a],i[y.b],i[y.c]);var x=y.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var b=y.normal;this.normals.push(b,b,b)}var w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=y.color;this.colors.push(_,_,_)}if(!0===o){var M=a[0][h];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new n,new n,new n))}if(!0===s){var M=a[1][h];void 0!==M?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new n,new n,new n))}for(var S=0;S<l;S++){var T=c[S].vertices;t[S].data.push(T[y.a],T[y.b],T[y.c])}for(var S=0;S<d;S++){var E=p[S].vertexNormals[h];u[S].data.push(E.a,E.b,E.c)}v&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var Mh=1,Sh=new h,Th=new d,Eh=new i,Ah=new m,Lh=new m,Rh=new i;G.prototype=Object.assign(Object.create(t.prototype),{constructor:G,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(F(e)>65535?N:D)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new a).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Sh.makeRotationX(e),this.applyMatrix(Sh),this},rotateY:function(e){return Sh.makeRotationY(e),this.applyMatrix(Sh),this},rotateZ:function(e){return Sh.makeRotationZ(e),this.applyMatrix(Sh),this},translate:function(e,t,n){return Sh.makeTranslation(e,t,n),this.applyMatrix(Sh),this},scale:function(e,t,n){return Sh.makeScale(e,t,n),this.applyMatrix(Sh),this},lookAt:function(e){return Th.lookAt(e),Th.updateMatrix(),this.applyMatrix(Th.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Eh).negate(),this.translate(Eh.x,Eh.y,Eh.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new z(3*t.vertices.length,3),r=new z(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new z(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new z(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return!0===t.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new U).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new L(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new L(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new L(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new L(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new L(a,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(var o in e.morphTargets){for(var s=[],c=e.morphTargets[o],l=0,h=c.length;l<h;l++){var u=c[l],p=new z(3*u.data.length,3);p.name=u.name,s.push(p.copyVector3sArray(u.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var d=new z(4*e.skinIndices.length,4);this.setAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new z(4*e.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new m);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Ah.setFromBufferAttribute(i),this.morphTargetsRelative?(Rh.addVectors(this.boundingBox.min,Ah.min),this.boundingBox.expandByPoint(Rh),Rh.addVectors(this.boundingBox.max,Ah.max),this.boundingBox.expandByPoint(Rh)):(this.boundingBox.expandByPoint(Ah.min),this.boundingBox.expandByPoint(Ah.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new g);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(Ah.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Lh.setFromBufferAttribute(a),this.morphTargetsRelative?(Rh.addVectors(Ah.min,Lh.min),Ah.expandByPoint(Rh),Rh.addVectors(Ah.max,Lh.max),Ah.expandByPoint(Rh)):(Ah.expandByPoint(Lh.min),Ah.expandByPoint(Lh.max))}Ah.getCenter(n);for(var o=0,r=0,i=e.count;r<i;r++)Rh.fromBufferAttribute(e,r),o=Math.max(o,n.distanceToSquared(Rh));if(t)for(var r=0,i=t.length;r<i;r++)for(var a=t[r],s=this.morphTargetsRelative,c=0,l=a.count;c<l;c++)Rh.fromBufferAttribute(a,c),s&&(Eh.fromBufferAttribute(e,c),Rh.add(Eh)),o=Math.max(o,n.distanceToSquared(Rh));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){
var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new L(new Float32Array(n.length),3));else for(var r=t.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,c,l,h=t.normal.array,u=new i,p=new i,d=new i,f=new i,m=new i;if(e)for(var v=e.array,a=0,o=e.count;a<o;a+=3)s=3*v[a+0],c=3*v[a+1],l=3*v[a+2],u.fromArray(n,s),p.fromArray(n,c),d.fromArray(n,l),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),h[s]+=f.x,h[s+1]+=f.y,h[s+2]+=f.z,h[c]+=f.x,h[c+1]+=f.y,h[c+2]+=f.z,h[l]+=f.x,h[l+1]+=f.y,h[l+2]+=f.z;else for(var a=0,o=n.length;a<o;a+=9)u.fromArray(n,a),p.fromArray(n,a+3),d.fromArray(n,a+6),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),h[a]=f.x,h[a+1]=f.y,h[a+2]=f.z,h[a+3]=f.x,h[a+4]=f.y,h[a+5]=f.z,h[a+6]=f.x,h[a+7]=f.y,h[a+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r],a=i.array,o=e.attributes[r],s=o.array,c=o.itemSize*t,l=Math.min(s.length,a.length-c),h=0,u=c;h<l;h++,u++)a[u]=s[h];return this},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Rh.x=e.getX(t),Rh.y=e.getY(t),Rh.z=e.getZ(t),Rh.normalize(),e.setXYZ(t,Rh.x,Rh.y,Rh.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),a=0,o=0,s=0,c=t.length;s<c;s++){a=t[s]*r;for(var l=0;l<r;l++)i[o++]=n[a++]}return new L(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new G,n=this.index.array,r=this.attributes;for(var i in r){var a=r[i],o=e(a,n);t.setAttribute(i,o)}var s=this.morphAttributes;for(i in s){for(var c=[],l=s[i],h=0,u=l.length;h<u;h++){var a=l[h],o=e(a,n);c.push(o)}t.morphAttributes[i]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,h=0,d=p.length;h<d;h++){var f=p[h];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a=i[n],o=a.toJSON();""!==a.name&&(o.name=a.name),e.data.attributes[n]=o}var s={},c=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],h=[],u=0,p=l.length;u<p;u++){var a=l[u],o=a.toJSON();""!==a.name&&(o.name=a.name),h.push(o)}h.length>0&&(s[n]=h,c=!0)}c&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));var f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e},clone:function(){return(new G).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var o=a[t];this.setAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var c=[],l=s[t];for(n=0,r=l.length;n<r;n++)c.push(l[n].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=e.morphTargetsRelative;var h=e.groups;for(n=0,r=h.length;n<r;n++){var u=h[n];this.addGroup(u.start,u.count,u.materialIndex)}var p=e.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ph=new h,Ch=new y,Oh=new g,Dh=new i,Ih=new i,Nh=new i,zh=new i,Bh=new i,Uh=new i,Fh=new i,Gh=new i,Hh=new i,Vh=new n,jh=new n,kh=new n,Wh=new i,qh=new i;H.prototype=Object.assign(Object.create(d.prototype),{constructor:H,isMesh:!0,copy:function(e){return d.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),Oh.copy(r.boundingSphere),Oh.applyMatrix4(a),!1!==e.ray.intersectsSphere(Oh)&&(Ph.getInverse(a),Ch.copy(e.ray).applyMatrix4(Ph),null===r.boundingBox||!1!==Ch.intersectsBox(r.boundingBox)))){var o;if(r.isBufferGeometry){var s,c,l,h,u,p,d,f,m,v,g,y=r.index,x=r.attributes.position,w=r.morphAttributes.position,_=r.morphTargetsRelative,M=r.attributes.uv,S=r.attributes.uv2,T=r.groups,E=r.drawRange;if(null!==y)if(Array.isArray(i))for(h=0,p=T.length;h<p;h++)for(f=T[h],m=i[f.materialIndex],v=Math.max(f.start,E.start),g=Math.min(f.start+f.count,E.start+E.count),u=v,d=g;u<d;u+=3)s=y.getX(u),c=y.getX(u+1),l=y.getX(u+2),(o=j(this,m,e,Ch,x,w,_,M,S,s,c,l))&&(o.faceIndex=Math.floor(u/3),o.face.materialIndex=f.materialIndex,t.push(o));else for(v=Math.max(0,E.start),g=Math.min(y.count,E.start+E.count),h=v,p=g;h<p;h+=3)s=y.getX(h),c=y.getX(h+1),l=y.getX(h+2),(o=j(this,i,e,Ch,x,w,_,M,S,s,c,l))&&(o.faceIndex=Math.floor(h/3),t.push(o));else if(void 0!==x)if(Array.isArray(i))for(h=0,p=T.length;h<p;h++)for(f=T[h],m=i[f.materialIndex],v=Math.max(f.start,E.start),g=Math.min(f.start+f.count,E.start+E.count),u=v,d=g;u<d;u+=3)s=u,c=u+1,l=u+2,(o=j(this,m,e,Ch,x,w,_,M,S,s,c,l))&&(o.faceIndex=Math.floor(u/3),o.face.materialIndex=f.materialIndex,t.push(o));else for(v=Math.max(0,E.start),g=Math.min(x.count,E.start+E.count),h=v,p=g;h<p;h+=3)s=h,c=h+1,l=h+2,(o=j(this,i,e,Ch,x,w,_,M,S,s,c,l))&&(o.faceIndex=Math.floor(h/3),t.push(o))}else if(r.isGeometry){var A,L,R,P,C=Array.isArray(i),O=r.vertices,D=r.faces,I=r.faceVertexUvs[0];I.length>0&&(P=I);for(var N=0,z=D.length;N<z;N++){var B=D[N],U=C?i[B.materialIndex]:i;if(void 0!==U&&(A=O[B.a],L=O[B.b],R=O[B.c],o=V(this,U,e,Ch,A,L,R,Wh))){if(P&&P[N]){var F=P[N];Vh.copy(F[0]),jh.copy(F[1]),kh.copy(F[2]),o.uv=b.getUV(Wh,A,L,R,Vh,jh,kh,new n)}o.face=B,o.faceIndex=N,t.push(o)}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Xh=0,Yh=new h,Zh=new d,Jh=new i;k.prototype=Object.assign(Object.create(t.prototype),{constructor:k,isGeometry:!0,applyMatrix:function(e){for(var t=(new a).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,s=i.vertexNormals.length;o<s;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Yh.makeRotationX(e),this.applyMatrix(Yh),this},rotateY:function(e){return Yh.makeRotationY(e),this.applyMatrix(Yh),this},rotateZ:function(e){return Yh.makeRotationZ(e),this.applyMatrix(Yh),this},translate:function(e,t,n){return Yh.makeTranslation(e,t,n),this.applyMatrix(Yh),this},scale:function(e,t,n){return Yh.makeScale(e,t,n),this.applyMatrix(Yh),this},lookAt:function(e){return Zh.lookAt(e),Zh.updateMatrix(),this.applyMatrix(Zh.matrix),this},fromBufferGeometry:function(e){function t(e,t,a,o){var s=void 0===l?[]:[r.colors[e].clone(),r.colors[t].clone(),r.colors[a].clone()],p=void 0===c?[]:[(new i).fromArray(c,3*e),(new i).fromArray(c,3*t),(new i).fromArray(c,3*a)],d=new T(e,t,a,p,s,o);r.faces.push(d),void 0!==h&&r.faceVertexUvs[0].push([(new n).fromArray(h,2*e),(new n).fromArray(h,2*t),(new n).fromArray(h,2*a)]),void 0!==u&&r.faceVertexUvs[1].push([(new n).fromArray(u,2*e),(new n).fromArray(u,2*t),(new n).fromArray(u,2*a)])}var r=this,a=null!==e.index?e.index.array:void 0,o=e.attributes;if(void 0===o.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var s=o.position.array,c=void 0!==o.normal?o.normal.array:void 0,l=void 0!==o.color?o.color.array:void 0,h=void 0!==o.uv?o.uv.array:void 0,u=void 0!==o.uv2?o.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var p=0;p<s.length;p+=3)r.vertices.push((new i).fromArray(s,p)),void 0!==l&&r.colors.push((new w).fromArray(l,p));var d=e.groups;if(d.length>0)for(var p=0;p<d.length;p++)for(var f=d[p],m=f.start,v=f.count,g=m,y=m+v;g<y;g+=3)void 0!==a?t(a[g],a[g+1],a[g+2],f.materialIndex):t(g,g+1,g+2,f.materialIndex);else if(void 0!==a)for(var p=0;p<a.length;p+=3)t(a[p],a[p+1],a[p+2]);else for(var p=0;p<s.length/3;p+=3)t(p,p+1,p+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jh).negate(),this.translate(Jh.x,Jh.y,Jh.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new h;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new i,t=new i,n=0,r=this.faces.length;n<r;n++){var a=this.faces[n],o=this.vertices[a.a],s=this.vertices[a.b],c=this.vertices[a.c];e.subVectors(c,s),t.subVectors(o,s),e.cross(t),e.normalize(),a.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,r,a,o,s;for(s=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)s[t]=new i;if(e){var c,l,h,u=new i,p=new i;for(r=0,a=this.faces.length;r<a;r++)o=this.faces[r],c=this.vertices[o.a],l=this.vertices[o.b],h=this.vertices[o.c],u.subVectors(h,l),p.subVectors(c,l),u.cross(p),s[o.a].add(u),s[o.b].add(u),s[o.c].add(u)}else for(this.computeFaceNormals(),r=0,a=this.faces.length;r<a;r++)o=this.faces[r],s[o.a].add(o.normal),s[o.b].add(o.normal),s[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)s[t].normalize();for(r=0,a=this.faces.length;r<a;r++){o=this.faces[r];var d=o.vertexNormals;3===d.length?(d[0].copy(s[o.a]),d[1].copy(s[o.b]),d[2].copy(s[o.c])):(d[0]=s[o.a].clone(),d[1]=s[o.b].clone(),d[2]=s[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,a;for(n=0,r=this.faces.length;n<r;n++)for(a=this.faces[n],a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone(),a.__originalVertexNormals||(a.__originalVertexNormals=[]),e=0,t=a.vertexNormals.length;e<t;e++)a.__originalVertexNormals[e]?a.__originalVertexNormals[e].copy(a.vertexNormals[e]):a.__originalVertexNormals[e]=a.vertexNormals[e].clone();var o=new k;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,c,l=this.morphNormals[e].faceNormals,h=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)s=new i,c={a:new i,b:new i,c:new i},l.push(s),h.push(c)}var u=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var s,c;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=u.faceNormals[n],c=u.vertexNormals[n],s.copy(a.normal),c.a.copy(a.vertexNormals[0]),c.b.copy(a.vertexNormals[1]),c.c.copy(a.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new m),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new g),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,i=this.vertices.length,o=this.vertices,s=e.vertices,c=this.faces,l=e.faces,h=this.colors,u=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new a).getNormalMatrix(t));for(var p=0,d=s.length;p<d;p++){var f=s[p],m=f.clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(var p=0,d=u.length;p<d;p++)h.push(u[p].clone());for(p=0,d=l.length;p<d;p++){var v,g,y,x=l[p],b=x.vertexNormals,w=x.vertexColors;v=new T(x.a+i,x.b+i,x.c+i),v.normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);v.color.copy(x.color);for(var _=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+n,c.push(v)}for(var p=0,d=e.faceVertexUvs.length;p<d;p++){var S=e.faceVertexUvs[p];void 0===this.faceVertexUvs[p]&&(this.faceVertexUvs[p]=[]);for(var _=0,M=S.length;_<M;_++){for(var E=S[_],A=[],L=0,R=E.length;L<R;L++)A.push(E[L].clone());this.faceVertexUvs[p].push(A)}}},mergeMesh:function(e){if(!e||!e.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e,t,n,r,i,a,o,s,c={},l=[],h=[],u=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u),void 0===c[t]?(c[t]=n,l.push(this.vertices[n]),h[n]=l.length-1):h[n]=h[c[t]];var p=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=h[i.a],i.b=h[i.b],i.c=h[i.c],a=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(n);break}}for(n=p.length-1;n>=0;n--){var f=p[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new i(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,n=t.length,r=0;r<n;r++)t[r]._id=r;t.sort(e);var i,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===n&&(i=[]),s&&s.length===n&&(a=[]);for(var r=0;r<n;r++){var c=t[r]._id;i&&i.push(o[c]),a&&a.push(s[c])}i&&(this.faceVertexUvs[0]=i),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==p[t]?p[t]:(p[t]=u.length/3,u.push(e.x,e.y,e.z),p[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==f[t]?f[t]:(f[t]=d.length,d.push(e.getHex()),f[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==v[t]?v[t]:(v[t]=m.length/2,m.push(e.x,e.y),v[t])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var o in a)void 0!==a[o]&&(i[o]=a[o]);return i}for(var s=[],c=0;c<this.vertices.length;c++){var l=this.vertices[c];s.push(l.x,l.y,l.z)}for(var h=[],u=[],p={},d=[],f={},m=[],v={},c=0;c<this.faces.length;c++){var g=this.faces[c],y=void 0!==this.faceVertexUvs[0][c],x=g.normal.length()>0,b=g.vertexNormals.length>0,w=1!==g.color.r||1!==g.color.g||1!==g.color.b,_=g.vertexColors.length>0,M=0;if(M=e(M,0,0),M=e(M,1,!0),M=e(M,2,!1),M=e(M,3,y),M=e(M,4,x),M=e(M,5,b),M=e(M,6,w),M=e(M,7,_),h.push(M),h.push(g.a,g.b,g.c),h.push(g.materialIndex),y){var S=this.faceVertexUvs[0][c];h.push(r(S[0]),r(S[1]),r(S[2]))}if(x&&h.push(t(g.normal)),b){var T=g.vertexNormals;h.push(t(T[0]),t(T[1]),t(T[2]))}if(w&&h.push(n(g.color)),_){var E=g.vertexColors;h.push(n(E[0]),n(E[1]),n(E[2]))}}return i.data={},i.data.vertices=s,i.data.normals=u,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=h,i},clone:function(){return(new k).copy(this)},copy:function(e){var t,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var h=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=h.length;r<i;r++){var u=h[r],p=[];for(a=0,o=u.length;a<o;a++){var d=u[a];p.push(d.clone())}this.faceVertexUvs[t].push(p)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],r=0,i=f[t].vertices.length;r<i;r++)m.vertices.push(f[t].vertices[r].clone());if(void 0!==f[t].normals)for(m.normals=[],r=0,i=f[t].normals.length;r<i;r++)m.normals.push(f[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,i=v[t].vertexNormals.length;r<i;r++){var y=v[t].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,i=v[t].faceNormals.length;r<i;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var b=e.skinWeights;for(t=0,n=b.length;t<n;t++)this.skinWeights.push(b[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var M=e.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Qh=function(e){function t(t,n,r,i,a,o){e.call(this),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o},this.fromBufferGeometry(new Kh(t,n,r,i,a,o)),this.mergeVertices()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k),Kh=function(e){function t(t,n,r,a,o,s){function c(e,t,n,r,a,o,s,c,v,g,y){var x,b,w=o/v,_=s/g,M=o/2,S=s/2,T=c/2,E=v+1,A=g+1,L=0,R=0,P=new i;for(b=0;b<A;b++){var C=b*_-S;for(x=0;x<E;x++){var O=x*w-M;P[e]=O*r,P[t]=C*a,P[n]=T,u.push(P.x,P.y,P.z),P[e]=0,P[t]=0,P[n]=c>0?1:-1,p.push(P.x,P.y,P.z),d.push(x/v),d.push(1-b/g),L+=1}}for(b=0;b<g;b++)for(x=0;x<v;x++){var D=f+x+E*b,I=f+x+E*(b+1),N=f+(x+1)+E*(b+1),z=f+(x+1)+E*b;h.push(D,I,z),h.push(I,N,z),R+=6}l.addGroup(m,R,y),m+=R,f+=L}e.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:a,heightSegments:o,depthSegments:s};var l=this;t=t||1,n=n||1,r=r||1,a=Math.floor(a)||1,o=Math.floor(o)||1,s=Math.floor(s)||1;var h=[],u=[],p=[],d=[],f=0,m=0;c("z","y","x",-1,-1,r,n,t,s,o,0),c("z","y","x",1,-1,r,n,-t,s,o,1),c("x","z","y",1,1,t,r,n,a,s,2),c("x","z","y",1,-1,t,r,-n,a,s,3),c("x","y","z",1,-1,t,n,r,a,o,4),c("x","y","z",-1,-1,t,n,-r,a,o,5),this.setIndex(h),this.setAttribute("position",new z(u,3)),this.setAttribute("normal",new z(p,3)),this.setAttribute("uv",new z(d,2))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(G),$h={clone:W,merge:q},eu="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",tu="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";X.prototype=Object.create(E.prototype),X.prototype.constructor=X,X.prototype.isShaderMaterial=!0,X.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=W(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},X.prototype.toJSON=function(e){var t=E.prototype.toJSON.call(this,e);t.uniforms={};for(var n in this.uniforms){var r=this.uniforms[n],i=r.value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t},Y.prototype=Object.assign(Object.create(d.prototype),{constructor:Y,isCamera:!0,copy:function(e,t){return d.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new i),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){d.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Z.prototype=Object.assign(Object.create(Y.prototype),{constructor:Z,isPerspectiveCamera:!0,copy:function(e,t){return Y.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*ll.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*ll.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*ll.RAD2DEG*Math.atan(Math.tan(.5*ll.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*ll.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=d.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var nu=90,ru=1;J.prototype=Object.create(d.prototype),J.prototype.constructor=J,Q.prototype=Object.create(c.prototype),Q.prototype.constructor=Q,Q.prototype.isWebGLRenderTargetCube=!0,Q.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new f,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new X({type:"CubemapFromEquirect",uniforms:W(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Yo,blending:$o});i.uniforms.tEquirect.value=t;var a=new H(new Kh(5,5,5),i);n.add(a);var o=new J(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name="CubeCameraTexture",o.update(e,n),a.geometry.dispose(),a.material.dispose(),this},K.prototype=Object.create(o.prototype),K.prototype.constructor=K,K.prototype.isDataTexture=!0;var iu=new g,au=new i;Object.assign($.prototype,{set:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5],l=n[6],h=n[7],u=n[8],p=n[9],d=n[10],f=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,h-s,f-u,y-m).normalize(),t[1].setComponents(o+r,h+s,f+u,y+m).normalize(),t[2].setComponents(o+i,h+c,f+p,y+v).normalize(),t[3].setComponents(o-i,h-c,f-p,y-v).normalize(),t[4].setComponents(o-a,h-l,f-d,y-g).normalize(),t[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),iu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(iu)},intersectsSprite:function(e){return iu.center.set(0,0,0),iu.radius=.7071067811865476,iu.applyMatrix4(e.matrixWorld),this.intersectsSphere(iu)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(au.x=r.normal.x>0?e.max.x:e.min.x,au.y=r.normal.y>0?e.max.y:e.min.y,au.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(au)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var ou={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",
bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToVariance(float roughness) {\n  float variance = 0.0;\n  if (roughness >= r1) {\n    variance = (r0 - roughness) * (v1 - v0) / (r0 - r1) + v0;\n  } else if (roughness >= r4) {\n    variance = (r1 - roughness) * (v4 - v1) / (r1 - r4) + v1;\n  } else if (roughness >= r5) {\n    variance = (r4 - roughness) * (v5 - v4) / (r4 - r5) + v4;\n  } else {\n    float roughness2 = roughness * roughness;\n    variance = 1.79 * roughness2 * roughness2;\n  }\n  return variance;\n}\nfloat varianceToRoughness(float variance) {\n  float roughness = 0.0;\n  if (variance >= v1) {\n    roughness = (v0 - variance) * (r1 - r0) / (v0 - v1) + r0;\n  } else if (variance >= v4) {\n    roughness = (v1 - variance) * (r4 - r1) / (v1 - v4) + r1;\n  } else if (variance >= v5) {\n    roughness = (v4 - variance) * (r5 - r4) / (v4 - v5) + r4;\n  } else {\n    roughness = pow(0.559 * variance, 0.25);  }\n  return roughness;\n}\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ), 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpack2HalfToRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpack2HalfToRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},su={common:{diffuse:{value:new w(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new a},uv2Transform:{value:new a},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new w(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new w(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new a}},sprite:{diffuse:{value:new w(15658734)},opacity:{value:1},center:{value:new n(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new a}}},cu={basic:{uniforms:q([su.common,su.specularmap,su.envmap,su.aomap,su.lightmap,su.fog]),vertexShader:ou.meshbasic_vert,fragmentShader:ou.meshbasic_frag},lambert:{uniforms:q([su.common,su.specularmap,su.envmap,su.aomap,su.lightmap,su.emissivemap,su.fog,su.lights,{emissive:{value:new w(0)}}]),vertexShader:ou.meshlambert_vert,fragmentShader:ou.meshlambert_frag},phong:{uniforms:q([su.common,su.specularmap,su.envmap,su.aomap,su.lightmap,su.emissivemap,su.bumpmap,su.normalmap,su.displacementmap,su.fog,su.lights,{emissive:{value:new w(0)},specular:{value:new w(1118481)},shininess:{value:30}}]),vertexShader:ou.meshphong_vert,fragmentShader:ou.meshphong_frag},standard:{uniforms:q([su.common,su.envmap,su.aomap,su.lightmap,su.emissivemap,su.bumpmap,su.normalmap,su.displacementmap,su.roughnessmap,su.metalnessmap,su.fog,su.lights,{emissive:{value:new w(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ou.meshphysical_vert,fragmentShader:ou.meshphysical_frag},toon:{uniforms:q([su.common,su.specularmap,su.aomap,su.lightmap,su.emissivemap,su.bumpmap,su.normalmap,su.displacementmap,su.gradientmap,su.fog,su.lights,{emissive:{value:new w(0)},specular:{value:new w(1118481)},shininess:{value:30}}]),vertexShader:ou.meshtoon_vert,fragmentShader:ou.meshtoon_frag},matcap:{uniforms:q([su.common,su.bumpmap,su.normalmap,su.displacementmap,su.fog,{matcap:{value:null}}]),vertexShader:ou.meshmatcap_vert,fragmentShader:ou.meshmatcap_frag},points:{uniforms:q([su.points,su.fog]),vertexShader:ou.points_vert,fragmentShader:ou.points_frag},dashed:{uniforms:q([su.common,su.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ou.linedashed_vert,fragmentShader:ou.linedashed_frag},depth:{uniforms:q([su.common,su.displacementmap]),vertexShader:ou.depth_vert,fragmentShader:ou.depth_frag},normal:{uniforms:q([su.common,su.bumpmap,su.normalmap,su.displacementmap,{opacity:{value:1}}]),vertexShader:ou.normal_vert,fragmentShader:ou.normal_frag},sprite:{uniforms:q([su.sprite,su.fog]),vertexShader:ou.sprite_vert,fragmentShader:ou.sprite_frag},background:{uniforms:{uvTransform:{value:new a},t2D:{value:null}},vertexShader:ou.background_vert,fragmentShader:ou.background_frag},cube:{uniforms:q([su.envmap,{opacity:{value:1}}]),vertexShader:ou.cube_vert,fragmentShader:ou.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ou.equirect_vert,fragmentShader:ou.equirect_frag},distanceRGBA:{uniforms:q([su.common,su.displacementmap,{referencePosition:{value:new i},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ou.distanceRGBA_vert,fragmentShader:ou.distanceRGBA_frag},shadow:{uniforms:q([su.lights,su.fog,{color:{value:new w(0)},opacity:{value:1}}]),vertexShader:ou.shadow_vert,fragmentShader:ou.shadow_frag}};cu.physical={uniforms:q([cu.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new w(0)},clearcoatNormalScale:{value:new n(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:ou.meshphysical_vert,fragmentShader:ou.meshphysical_frag},ne.prototype=Object.create(k.prototype),ne.prototype.constructor=ne,re.prototype=Object.create(G.prototype),re.prototype.constructor=re,me.prototype=Object.create(o.prototype),me.prototype.constructor=me,me.prototype.isCubeTexture=!0,Object.defineProperty(me.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ve.prototype=Object.create(o.prototype),ve.prototype.constructor=ve,ve.prototype.isDataTexture2DArray=!0,ge.prototype=Object.create(o.prototype),ge.prototype.constructor=ge,ge.prototype.isDataTexture3D=!0;var lu=new o,hu=new ve,uu=new ge,pu=new me,du=[],fu=[],mu=new Float32Array(16),vu=new Float32Array(9),gu=new Float32Array(4);$e.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),be(t,e)},et.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var yu=/([\w\d_]+)(\])?(\[|\.)?/g;rt.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},rt.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},rt.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},rt.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var xu=0,bu=/^[ \t]*#include +<([\w\d.\/]+)>/gm,wu=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,_u=0;Ut.prototype=Object.create(E.prototype),Ut.prototype.constructor=Ut,Ut.prototype.isMeshDepthMaterial=!0,Ut.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ft.prototype=Object.create(E.prototype),Ft.prototype.constructor=Ft,Ft.prototype.isMeshDistanceMaterial=!0,Ft.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Mu="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpack2HalfToRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",Su="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";kt.prototype=Object.assign(Object.create(c.prototype),{constructor:kt,isWebGLMultiviewRenderTarget:!0,copy:function(e){return c.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),qt.prototype=Object.assign(Object.create(d.prototype),{constructor:qt,isGroup:!0}),Xt.prototype=Object.assign(Object.create(Z.prototype),{constructor:Xt,isArrayCamera:!0});var Tu=new i,Eu=new i;Object.assign(Zt.prototype,t.prototype),Object.assign(Jt.prototype,t.prototype),Object.assign(Kt.prototype,{isFogExp2:!0,clone:function(){return new Kt(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign($t.prototype,{isFog:!0,clone:function(){return new $t(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(en.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(en.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(tn.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(tn.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),nn.prototype=Object.create(E.prototype),nn.prototype.constructor=nn,nn.prototype.isSpriteMaterial=!0,nn.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Au,Lu=new i,Ru=new i,Pu=new i,Cu=new n,Ou=new n,Du=new h,Iu=new i,Nu=new i,zu=new i,Bu=new n,Uu=new n,Fu=new n;rn.prototype=Object.assign(Object.create(d.prototype),{constructor:rn,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ru.setFromMatrixScale(this.matrixWorld),Du.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Pu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ru.multiplyScalar(-Pu.z);var r,i,a=this.material.rotation;0!==a&&(i=Math.cos(a),r=Math.sin(a));var o=this.center;an(Iu.set(-.5,-.5,0),Pu,o,Ru,r,i),an(Nu.set(.5,-.5,0),Pu,o,Ru,r,i),an(zu.set(.5,.5,0),Pu,o,Ru,r,i),Bu.set(0,0),Uu.set(1,0),Fu.set(1,1);var s=e.ray.intersectTriangle(Iu,Nu,zu,!1,Lu);if(null!==s||(an(Nu.set(-.5,.5,0),Pu,o,Ru,r,i),Uu.set(0,1),null!==(s=e.ray.intersectTriangle(Iu,zu,Nu,!1,Lu)))){var c=e.ray.origin.distanceTo(Lu);c<e.near||c>e.far||t.push({distance:c,point:Lu.clone(),uv:b.getUV(Lu,Iu,Nu,zu,Bu,Uu,Fu,new n),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return d.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Gu=new i,Hu=new i;on.prototype=Object.assign(Object.create(d.prototype),{constructor:on,isLOD:!0,copy:function(e){d.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Gu.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Gu);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Gu.setFromMatrixPosition(e.matrixWorld),Hu.setFromMatrixPosition(this.matrixWorld);var n=Gu.distanceTo(Hu);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=d.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),sn.prototype=Object.assign(Object.create(H.prototype),{constructor:sn,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){
for(var e=new s,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){H.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Vu=new h,ju=new h;Object.assign(cn.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new h;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:ju;Vu.multiplyMatrices(o,t[i]),Vu.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new cn(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),ln.prototype=Object.assign(Object.create(d.prototype),{constructor:ln,isBone:!0});var ku=new h,Wu=new h,qu=[],Xu=new H;hn.prototype=Object.assign(Object.create(H.prototype),{constructor:hn,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(Xu.geometry=this.geometry,Xu.material=this.material,void 0!==Xu.material)for(var i=0;i<r;i++)this.getMatrixAt(i,ku),Wu.multiplyMatrices(n,ku),Xu.matrixWorld=Wu,Xu.raycast(e,qu),qu.length>0&&(qu[0].instanceId=i,qu[0].object=this,t.push(qu[0]),qu.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),un.prototype=Object.create(E.prototype),un.prototype.constructor=un,un.prototype.isLineBasicMaterial=!0,un.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var Yu=new i,Zu=new i,Ju=new h,Qu=new y,Ku=new g;pn.prototype=Object.assign(Object.create(d.prototype),{constructor:pn,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Yu.fromBufferAttribute(t,r-1),Zu.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Yu.distanceTo(Zu);e.setAttribute("lineDistance",new z(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices,n=e.lineDistances;n[0]=0;for(var r=1,i=a.length;r<i;r++)n[r]=n[r-1],n[r]+=a[r-1].distanceTo(a[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,a=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Ku.copy(r.boundingSphere),Ku.applyMatrix4(a),Ku.radius+=n,!1!==e.ray.intersectsSphere(Ku)){Ju.getInverse(a),Qu.copy(e.ray).applyMatrix4(Ju);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,c=new i,l=new i,h=new i,u=new i,p=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,f=r.attributes,m=f.position.array;if(null!==d)for(var v=d.array,g=0,y=v.length-1;g<y;g+=p){var x=v[g],b=v[g+1];c.fromArray(m,3*x),l.fromArray(m,3*b);var w=Qu.distanceSqToSegment(c,l,u,h);if(!(w>s)){u.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(u);_<e.near||_>e.far||t.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var g=0,y=m.length/3-1;g<y;g+=p){c.fromArray(m,3*g),l.fromArray(m,3*g+3);var w=Qu.distanceSqToSegment(c,l,u,h);if(!(w>s)){u.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(u);_<e.near||_>e.far||t.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}else if(r.isGeometry)for(var M=r.vertices,S=M.length,g=0;g<S-1;g+=p){var w=Qu.distanceSqToSegment(M[g],M[g+1],u,h);if(!(w>s)){u.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(u);_<e.near||_>e.far||t.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var $u=new i,ep=new i;dn.prototype=Object.assign(Object.create(pn.prototype),{constructor:dn,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)$u.fromBufferAttribute(t,r),ep.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+$u.distanceTo(ep);e.setAttribute("lineDistance",new z(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var a=e.vertices,n=e.lineDistances,r=0,i=a.length;r<i;r+=2)$u.copy(a[r]),ep.copy(a[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+$u.distanceTo(ep);return this}}),fn.prototype=Object.assign(Object.create(pn.prototype),{constructor:fn,isLineLoop:!0}),mn.prototype=Object.create(E.prototype),mn.prototype.constructor=mn,mn.prototype.isPointsMaterial=!0,mn.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var tp=new h,np=new y,rp=new g,ip=new i;vn.prototype=Object.assign(Object.create(d.prototype),{constructor:vn,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),rp.copy(n.boundingSphere),rp.applyMatrix4(r),rp.radius+=i,!1!==e.ray.intersectsSphere(rp)){tp.getInverse(r),np.copy(e.ray).applyMatrix4(tp);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,c=n.attributes,l=c.position.array;if(null!==s)for(var h=s.array,u=0,p=h.length;u<p;u++){var d=h[u];ip.fromArray(l,3*d),gn(ip,d,o,r,e,t,this)}else for(var u=0,f=l.length/3;u<f;u++)ip.fromArray(l,3*u),gn(ip,u,o,r,e,t,this)}else for(var m=n.vertices,u=0,f=m.length;u<f;u++)gn(m[u],u,o,r,e,t,this)}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yn.prototype=Object.assign(Object.create(o.prototype),{constructor:yn,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),xn.prototype=Object.create(o.prototype),xn.prototype.constructor=xn,xn.prototype.isCompressedTexture=!0,bn.prototype=Object.create(o.prototype),bn.prototype.constructor=bn,bn.prototype.isCanvasTexture=!0,wn.prototype=Object.create(o.prototype),wn.prototype.constructor=wn,wn.prototype.isDepthTexture=!0,_n.prototype=Object.create(G.prototype),_n.prototype.constructor=_n,Mn.prototype=Object.create(k.prototype),Mn.prototype.constructor=Mn,Sn.prototype=Object.create(G.prototype),Sn.prototype.constructor=Sn,Tn.prototype=Object.create(k.prototype),Tn.prototype.constructor=Tn,En.prototype=Object.create(G.prototype),En.prototype.constructor=En,An.prototype=Object.create(k.prototype),An.prototype.constructor=An,Ln.prototype=Object.create(En.prototype),Ln.prototype.constructor=Ln,Rn.prototype=Object.create(k.prototype),Rn.prototype.constructor=Rn,Pn.prototype=Object.create(En.prototype),Pn.prototype.constructor=Pn,Cn.prototype=Object.create(k.prototype),Cn.prototype.constructor=Cn,On.prototype=Object.create(En.prototype),On.prototype.constructor=On,Dn.prototype=Object.create(k.prototype),Dn.prototype.constructor=Dn,In.prototype=Object.create(En.prototype),In.prototype.constructor=In,Nn.prototype=Object.create(k.prototype),Nn.prototype.constructor=Nn,zn.prototype=Object.create(G.prototype),zn.prototype.constructor=zn,zn.prototype.toJSON=function(){var e=G.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Bn.prototype=Object.create(k.prototype),Bn.prototype.constructor=Bn,Un.prototype=Object.create(G.prototype),Un.prototype.constructor=Un,Fn.prototype=Object.create(k.prototype),Fn.prototype.constructor=Fn,Gn.prototype=Object.create(G.prototype),Gn.prototype.constructor=Gn;var ap={triangulate:function(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=Hn(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,h,u,p,d;if(r&&(a=Yn(e,t,a,n)),e.length>80*n){s=l=e[0],c=h=e[1];for(var f=n;f<i;f+=n)u=e[f],p=e[f+1],u<s&&(s=u),p<c&&(c=p),u>l&&(l=u),p>h&&(h=p);d=Math.max(l-s,h-c),d=0!==d?1/d:0}return jn(a,o,n,s,c,d),o}},op={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return op.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];mr(e),vr(n,e);var a=e.length;t.forEach(mr);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,vr(n,t[o]);for(var s=ap.triangulate(n,r),o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};gr.prototype=Object.create(k.prototype),gr.prototype.constructor=gr,gr.prototype.toJSON=function(){var e=k.prototype.toJSON.call(this);return xr(this.parameters.shapes,this.parameters.options,e)},yr.prototype=Object.create(G.prototype),yr.prototype.constructor=yr,yr.prototype.toJSON=function(){var e=G.prototype.toJSON.call(this);return xr(this.parameters.shapes,this.parameters.options,e)};var sp={generateTopUV:function(e,t,r,i,a){var o=t[3*r],s=t[3*r+1],c=t[3*i],l=t[3*i+1],h=t[3*a],u=t[3*a+1];return[new n(o,s),new n(c,l),new n(h,u)]},generateSideWallUV:function(e,t,r,i,a,o){var s=t[3*r],c=t[3*r+1],l=t[3*r+2],h=t[3*i],u=t[3*i+1],p=t[3*i+2],d=t[3*a],f=t[3*a+1],m=t[3*a+2],v=t[3*o],g=t[3*o+1],y=t[3*o+2];return Math.abs(c-u)<.01?[new n(s,1-l),new n(h,1-p),new n(d,1-m),new n(v,1-y)]:[new n(c,1-l),new n(u,1-p),new n(f,1-m),new n(g,1-y)]}};br.prototype=Object.create(k.prototype),br.prototype.constructor=br,wr.prototype=Object.create(yr.prototype),wr.prototype.constructor=wr,_r.prototype=Object.create(k.prototype),_r.prototype.constructor=_r,Mr.prototype=Object.create(G.prototype),Mr.prototype.constructor=Mr,Sr.prototype=Object.create(k.prototype),Sr.prototype.constructor=Sr,Tr.prototype=Object.create(G.prototype),Tr.prototype.constructor=Tr,Er.prototype=Object.create(k.prototype),Er.prototype.constructor=Er,Ar.prototype=Object.create(G.prototype),Ar.prototype.constructor=Ar,Lr.prototype=Object.create(k.prototype),Lr.prototype.constructor=Lr,Lr.prototype.toJSON=function(){var e=k.prototype.toJSON.call(this);return Pr(this.parameters.shapes,e)},Rr.prototype=Object.create(G.prototype),Rr.prototype.constructor=Rr,Rr.prototype.toJSON=function(){var e=G.prototype.toJSON.call(this);return Pr(this.parameters.shapes,e)},Cr.prototype=Object.create(G.prototype),Cr.prototype.constructor=Cr,Or.prototype=Object.create(k.prototype),Or.prototype.constructor=Or,Dr.prototype=Object.create(G.prototype),Dr.prototype.constructor=Dr,Ir.prototype=Object.create(Or.prototype),Ir.prototype.constructor=Ir,Nr.prototype=Object.create(Dr.prototype),Nr.prototype.constructor=Nr,zr.prototype=Object.create(k.prototype),zr.prototype.constructor=zr,Br.prototype=Object.create(G.prototype),Br.prototype.constructor=Br;var cp=Object.freeze({WireframeGeometry:_n,ParametricGeometry:Mn,ParametricBufferGeometry:Sn,TetrahedronGeometry:An,TetrahedronBufferGeometry:Ln,OctahedronGeometry:Rn,OctahedronBufferGeometry:Pn,IcosahedronGeometry:Cn,IcosahedronBufferGeometry:On,DodecahedronGeometry:Dn,DodecahedronBufferGeometry:In,PolyhedronGeometry:Tn,PolyhedronBufferGeometry:En,TubeGeometry:Nn,TubeBufferGeometry:zn,TorusKnotGeometry:Bn,TorusKnotBufferGeometry:Un,TorusGeometry:Fn,TorusBufferGeometry:Gn,TextGeometry:br,TextBufferGeometry:wr,SphereGeometry:_r,SphereBufferGeometry:Mr,RingGeometry:Sr,RingBufferGeometry:Tr,PlaneGeometry:ne,PlaneBufferGeometry:re,LatheGeometry:Er,LatheBufferGeometry:Ar,ShapeGeometry:Lr,ShapeBufferGeometry:Rr,ExtrudeGeometry:gr,ExtrudeBufferGeometry:yr,EdgesGeometry:Cr,ConeGeometry:Ir,ConeBufferGeometry:Nr,CylinderGeometry:Or,CylinderBufferGeometry:Dr,CircleGeometry:zr,CircleBufferGeometry:Br,BoxGeometry:Qh,BoxBufferGeometry:Kh});Ur.prototype=Object.create(E.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isShadowMaterial=!0,Ur.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this},Fr.prototype=Object.create(X.prototype),Fr.prototype.constructor=Fr,Fr.prototype.isRawShaderMaterial=!0,Gr.prototype=Object.create(E.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isMeshStandardMaterial=!0,Gr.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Hr.prototype=Object.create(Gr.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isMeshPhysicalMaterial=!0,Hr.prototype.copy=function(e){return Gr.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new w).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},Vr.prototype=Object.create(E.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isMeshPhongMaterial=!0,Vr.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},jr.prototype=Object.create(E.prototype),jr.prototype.constructor=jr,jr.prototype.isMeshToonMaterial=!0,jr.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kr.prototype=Object.create(E.prototype),kr.prototype.constructor=kr,kr.prototype.isMeshNormalMaterial=!0,kr.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Wr.prototype=Object.create(E.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isMeshLambertMaterial=!0,Wr.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},qr.prototype=Object.create(E.prototype),qr.prototype.constructor=qr,qr.prototype.isMeshMatcapMaterial=!0,qr.prototype.copy=function(e){return E.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Xr.prototype=Object.create(un.prototype),Xr.prototype.constructor=Xr,Xr.prototype.isLineDashedMaterial=!0,Xr.prototype.copy=function(e){return un.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var lp=Object.freeze({ShadowMaterial:Ur,SpriteMaterial:nn,RawShaderMaterial:Fr,ShaderMaterial:X,PointsMaterial:mn,MeshPhysicalMaterial:Hr,MeshStandardMaterial:Gr,MeshPhongMaterial:Vr,MeshToonMaterial:jr,MeshNormalMaterial:kr,MeshLambertMaterial:Wr,MeshDepthMaterial:Ut,MeshDistanceMaterial:Ft,MeshBasicMaterial:A,MeshMatcapMaterial:qr,LineDashedMaterial:Xr,LineBasicMaterial:un,Material:E}),hp={arraySlice:function(e,t,n){return hp.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,c=0;c!==t;++c)i[o++]=e[s+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r,i){i=i||30;var a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var c=a.tracks[s],l=c.getValueSize(),h=[],u=[],p=0;p<c.times.length;++p){var d=c.times[p]*i;if(!(d<n||d>=r)){h.push(c.times[p]);for(var f=0;f<l;++f)u.push(c.values[p*l+f])}}0!==h.length&&(c.times=hp.convertArray(h,c.times.constructor),c.values=hp.convertArray(u,c.values.constructor),o.push(c))}a.tracks=o;for(var m=1/0,s=0;s<a.tracks.length;++s)m>a.tracks[s].times[0]&&(m=a.tracks[s].times[0]);for(var s=0;s<a.tracks.length;++s)a.tracks[s].shift(-1*m);return a.resetDuration(),a}};Object.assign(Yr.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}{if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){var c=n+a>>>1;e<t[c]?a=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Yr.prototype,{beforeStart_:Yr.prototype.copySampleValue_,afterEnd_:Yr.prototype.copySampleValue_}),Zr.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Zr,DefaultSettings_:{endingStart:Wc,endingEnd:Wc},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var c=.5*(n-t),l=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(n-t)/(r-t),f=d*d,m=f*d,v=-u*m+2*u*f-u*d,g=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)i[b]=v*a[l+b]+g*a[c+b]+y*a[s+b]+x*a[h+b];return i}}),Jr.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Jr,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=(n-t)/(r-t),h=1-l,u=0;u!==o;++u)i[u]=a[c+u]*h+a[s+u]*l;return i}}),Qr.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Qr,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Kr,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:hp.convertArray(e.times,Array),values:hp.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Kr.prototype,{constructor:Kr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Qr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Jr(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Zr(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);var o=this.getValueSize();this.times=hp.arraySlice(n,i,a),this.values=hp.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&hp.isTypedArray(r))for(var o=0,c=r.length;o!==c;++o){var l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,a=e.length-1,o=1;o<a;++o){var s=!1,c=e[o];if(c!==e[o+1]&&(1!==o||c!==c[0]))if(r)s=!0;else for(var l=o*n,h=l-n,u=l+n,p=0;p!==n;++p){var d=t[l+p];if(d!==t[h+p]||d!==t[u+p]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];for(var f=o*n,m=i*n,p=0;p!==n;++p)t[m+p]=t[f+p]}++i}}if(a>0){e[i]=e[a];for(var f=a*n,m=i*n,p=0;p!==n;++p)t[m+p]=t[f+p];++i}return i!==e.length&&(this.times=hp.arraySlice(e,0,i),this.values=hp.arraySlice(t,0,i*n)),this},clone:function(){var e=hp.arraySlice(this.times,0),t=hp.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}),$r.prototype=Object.assign(Object.create(Kr.prototype),{constructor:$r,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ei.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ei,ValueTypeName:"color"}),ti.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ti,ValueTypeName:"number"}),ni.prototype=Object.assign(Object.create(Yr.prototype),{constructor:ni,interpolate_:function(e,t,n,i){for(var a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,c=e*s,l=(n-t)/(i-t),h=c+s;c!==h;c+=4)r.slerpFlat(a,0,o,c-s,o,c,l);return a}}),ri.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ri,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new ni(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ii.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ii,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ai.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ai,ValueTypeName:"vector"}),Object.assign(oi,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(ci(n[i]).scale(r));return new oi(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(Kr.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],c=[];s.push((o+i-1)%i,o,(o+1)%i),c.push(0,1,0);var l=hp.getKeyframeOrder(s);s=hp.sortedArray(s,1,l),c=hp.sortedArray(c,1,l),r||0!==s[0]||(s.push(i),c.push(c[0])),a.push(new ti(".morphTargetInfluences["+t[o].name+"]",s,c).scale(1/n))}return new oi(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],c=s.name.match(i);if(c&&c.length>1){var l=c[1],h=r[l];h||(r[l]=h=[]),h.push(s)}}var u=[];for(var l in r)u.push(oi.CreateFromMorphTargetSequence(l,r[l],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];hp.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},u=0;u<l.length;u++)if(l[u].morphTargets)for(var p=0;p<l[u].morphTargets.length;p++)h[l[u].morphTargets[p]]=-1;for(var d in h){for(var f=[],m=[],p=0;p!==l[u].morphTargets.length;++p){var v=l[u];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new ti(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+t[c].name+"]";n(ai,g+".position",l,"pos",r),n(ri,g+".quaternion",l,"rot",r),n(ai,g+".scale",l,"scl",r)}}return 0===r.length?null:new oi(i,a,r)}}),Object.assign(oi.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new oi(this.name,this.duration,e)}});var up={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},
get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},pp=new li;Object.assign(hi.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var dp={};ui.prototype=Object.assign(Object.create(hi.prototype),{constructor:ui,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=up.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;if(void 0!==dp[e])return void dp[e].push({onLoad:t,onProgress:n,onError:r});var o=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(o);if(s){var c=s[1],l=!!s[2],h=s[3];h=decodeURIComponent(h),l&&(h=atob(h));try{var u,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var d=new Uint8Array(h.length),f=0;f<h.length;f++)d[f]=h.charCodeAt(f);u="blob"===p?new Blob([d.buffer],{type:c}):d.buffer;break;case"document":var m=new DOMParser;u=m.parseFromString(h,c);break;case"json":u=JSON.parse(h);break;default:u=h}setTimeout(function(){t&&t(u),i.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{dp[e]=[],dp[e].push({onLoad:t,onProgress:n,onError:r});var v=new XMLHttpRequest;v.open("GET",e,!0),v.addEventListener("load",function(t){var n=this.response,r=dp[e];if(delete dp[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),up.add(e,n);for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),v.addEventListener("progress",function(t){for(var n=dp[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}},!1),v.addEventListener("error",function(t){var n=dp[e];delete dp[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),v.addEventListener("abort",function(t){var n=dp[e];delete dp[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var g in this.requestHeader)v.setRequestHeader(g,this.requestHeader[g]);v.send(null)}return i.manager.itemStart(e),v},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),pi.prototype=Object.assign(Object.create(hi.prototype),{constructor:pi,load:function(e,t,n,r){var i=this,a=new ui(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=oi.parse(e[n]);t.push(r)}return t}}),di.prototype=Object.assign(Object.create(hi.prototype),{constructor:di,load:function(e,t,n,r){var i=this,a=[],o=new xn;o.image=a;var s=new ui(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,h=e.length;l<h;++l)!function(l){s.load(e[l],function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(o.minFilter=Qs),o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,r)}(l);else s.load(e,function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Qs),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}}),fi.prototype=Object.assign(Object.create(hi.prototype),{constructor:fi,load:function(e,t,n,r){var i=this,a=new K,o=new ui(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:qs,a.wrapT=void 0!==n.wrapT?n.wrapT:qs,a.magFilter=void 0!==n.magFilter?n.magFilter:Qs,a.minFilter=void 0!==n.minFilter?n.minFilter:Qs,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=$s),1===n.mipmapCount&&(a.minFilter=Qs),a.needsUpdate=!0,t&&t(a,n))},n,r),a}}),mi.prototype=Object.assign(Object.create(hi.prototype),{constructor:mi,load:function(e,t,n,r){function i(){c.removeEventListener("load",i,!1),c.removeEventListener("error",a,!1),up.add(e,this),t&&t(this),o.manager.itemEnd(e)}function a(t){c.removeEventListener("load",i,!1),c.removeEventListener("error",a,!1),r&&r(t),o.manager.itemError(e),o.manager.itemEnd(e)}void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,s=up.get(e);if(void 0!==s)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;var c=document.createElementNS("http://www.w3.org/1999/xhtml","img");return c.addEventListener("load",i,!1),c.addEventListener("error",a,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(c.crossOrigin=this.crossOrigin),o.manager.itemStart(e),c.src=e,c}}),vi.prototype=Object.assign(Object.create(hi.prototype),{constructor:vi,load:function(e,t,n,r){var i=new me,a=new mi(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var o=0,s=0;s<e.length;++s)!function(n){a.load(e[n],function(e){i.images[n]=e,6==++o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}(s);return i}}),gi.prototype=Object.assign(Object.create(hi.prototype),{constructor:gi,load:function(e,t,n,r){var i=new o,a=new mi(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?dc:fc,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}}),Object.assign(yi.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),a+=t.distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,c=a-1;s<=c;)if(i=Math.floor(s+(c-s)/2),(o=r[i]-n)<0)s=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(i=c,r[i]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,a,o=new i,s=[],c=[],l=[],u=new i,p=new h;for(n=0;n<=e;n++)r=n/e,s[n]=this.getTangentAt(r),s[n].normalize();c[0]=new i,l[0]=new i;var d=Number.MAX_VALUE,f=Math.abs(s[0].x),m=Math.abs(s[0].y),v=Math.abs(s[0].z);for(f<=d&&(d=f,o.set(1,0,0)),m<=d&&(d=m,o.set(0,1,0)),v<=d&&o.set(0,0,1),u.crossVectors(s[0],o).normalize(),c[0].crossVectors(s[0],u),l[0].crossVectors(s[0],c[0]),n=1;n<=e;n++)c[n]=c[n-1].clone(),l[n]=l[n-1].clone(),u.crossVectors(s[n-1],s[n]),u.length()>Number.EPSILON&&(u.normalize(),a=Math.acos(ll.clamp(s[n-1].dot(s[n]),-1,1)),c[n].applyMatrix4(p.makeRotationAxis(u,a))),l[n].crossVectors(s[n],c[n]);if(!0===t)for(a=Math.acos(ll.clamp(c[0].dot(c[e]),-1,1)),a/=e,s[0].dot(u.crossVectors(c[0],c[e]))>0&&(a=-a),n=1;n<=e;n++)c[n].applyMatrix4(p.makeRotationAxis(s[n],a*n)),l[n].crossVectors(s[n],c[n]);return{tangents:s,normals:c,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),xi.prototype=Object.create(yi.prototype),xi.prototype.constructor=xi,xi.prototype.isEllipseCurve=!0,xi.prototype.getPoint=function(e,t){for(var r=t||new n,i=2*Math.PI,a=this.aEndAngle-this.aStartAngle,o=Math.abs(a)<Number.EPSILON;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(a=o?0:i),!0!==this.aClockwise||o||(a===i?a=-i:a-=i);var s=this.aStartAngle+e*a,c=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var h=Math.cos(this.aRotation),u=Math.sin(this.aRotation),p=c-this.aX,d=l-this.aY;c=p*h-d*u+this.aX,l=p*u+d*h+this.aY}return r.set(c,l)},xi.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},xi.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},xi.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},bi.prototype=Object.create(xi.prototype),bi.prototype.constructor=bi,bi.prototype.isArcCurve=!0;var fp=new i,mp=new wi,vp=new wi,gp=new wi;_i.prototype=Object.create(yi.prototype),_i.prototype.constructor=_i,_i.prototype.isCatmullRomCurve3=!0,_i.prototype.getPoint=function(e,t){var n=t||new i,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),c=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===c&&s===a-1&&(s=a-2,c=1);var l,h,u,p;if(this.closed||s>0?l=r[(s-1)%a]:(fp.subVectors(r[0],r[1]).add(r[0]),l=fp),h=r[s%a],u=r[(s+1)%a],this.closed||s+2<a?p=r[(s+2)%a]:(fp.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=fp),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(l.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(u),d),v=Math.pow(u.distanceToSquared(p),d);m<1e-4&&(m=1),f<1e-4&&(f=m),v<1e-4&&(v=m),mp.initNonuniformCatmullRom(l.x,h.x,u.x,p.x,f,m,v),vp.initNonuniformCatmullRom(l.y,h.y,u.y,p.y,f,m,v),gp.initNonuniformCatmullRom(l.z,h.z,u.z,p.z,f,m,v)}else"catmullrom"===this.curveType&&(mp.initCatmullRom(l.x,h.x,u.x,p.x,this.tension),vp.initCatmullRom(l.y,h.y,u.y,p.y,this.tension),gp.initCatmullRom(l.z,h.z,u.z,p.z,this.tension));return n.set(mp.calc(c),vp.calc(c),gp.calc(c)),n},_i.prototype.copy=function(e){yi.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},_i.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},_i.prototype.fromJSON=function(e){yi.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new i).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Di.prototype=Object.create(yi.prototype),Di.prototype.constructor=Di,Di.prototype.isCubicBezierCurve=!0,Di.prototype.getPoint=function(e,t){var r=t||new n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Oi(e,i.x,a.x,o.x,s.x),Oi(e,i.y,a.y,o.y,s.y)),r},Di.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Di.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Di.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ii.prototype=Object.create(yi.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isCubicBezierCurve3=!0,Ii.prototype.getPoint=function(e,t){var n=t||new i,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return n.set(Oi(e,r.x,a.x,o.x,s.x),Oi(e,r.y,a.y,o.y,s.y),Oi(e,r.z,a.z,o.z,s.z)),n},Ii.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ii.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ii.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ni.prototype=Object.create(yi.prototype),Ni.prototype.constructor=Ni,Ni.prototype.isLineCurve=!0,Ni.prototype.getPoint=function(e,t){var r=t||new n;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Ni.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ni.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Ni.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ni.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ni.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},zi.prototype=Object.create(yi.prototype),zi.prototype.constructor=zi,zi.prototype.isLineCurve3=!0,zi.prototype.getPoint=function(e,t){var n=t||new i;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},zi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},zi.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},zi.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},zi.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Bi.prototype=Object.create(yi.prototype),Bi.prototype.constructor=Bi,Bi.prototype.isQuadraticBezierCurve=!0,Bi.prototype.getPoint=function(e,t){var r=t||new n,i=this.v0,a=this.v1,o=this.v2;return r.set(Ai(e,i.x,a.x,o.x),Ai(e,i.y,a.y,o.y)),r},Bi.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Bi.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Bi.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ui.prototype=Object.create(yi.prototype),Ui.prototype.constructor=Ui,Ui.prototype.isQuadraticBezierCurve3=!0,Ui.prototype.getPoint=function(e,t){var n=t||new i,r=this.v0,a=this.v1,o=this.v2;return n.set(Ai(e,r.x,a.x,o.x),Ai(e,r.y,a.y,o.y),Ai(e,r.z,a.z,o.z)),n},Ui.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ui.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ui.prototype.fromJSON=function(e){return yi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Fi.prototype=Object.create(yi.prototype),Fi.prototype.constructor=Fi,Fi.prototype.isSplineCurve=!0,Fi.prototype.getPoint=function(e,t){var r=t||new n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,c=i[0===o?o:o-1],l=i[o],h=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return r.set(Mi(s,c.x,l.x,h.x,u.x),Mi(s,c.y,l.y,h.y,u.y)),r},Fi.prototype.copy=function(e){yi.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Fi.prototype.toJSON=function(){var e=yi.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Fi.prototype.fromJSON=function(e){yi.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new n).fromArray(i))}return this};var yp=Object.freeze({ArcCurve:bi,CatmullRomCurve3:_i,CubicBezierCurve:Di,CubicBezierCurve3:Ii,EllipseCurve:xi,LineCurve:Ni,LineCurve3:zi,QuadraticBezierCurve:Bi,QuadraticBezierCurve3:Ui,SplineCurve:Fi});Gi.prototype=Object.assign(Object.create(yi.prototype),{constructor:Gi,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ni(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){yi.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=yi.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){yi.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new yp[r.type]).fromJSON(r))}return this}}),Hi.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Hi,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new Ni(this.currentPoint.clone(),new n(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,i){var a=new Bi(this.currentPoint.clone(),new n(e,t),new n(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this},bezierCurveTo:function(e,t,r,i,a,o){var s=new Di(this.currentPoint.clone(),new n(e,t),new n(r,i),new n(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Fi(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,o,s){var c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,n,r,i,a,o,s),this},absellipse:function(e,t,n,r,i,a,o,s){var c=new xi(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var h=c.getPoint(1);return this.currentPoint.copy(h),this},copy:function(e){return Gi.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Gi.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Gi.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Vi.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Vi,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Hi.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Hi.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Hi.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Hi).fromJSON(r))}return this}}),ji.prototype=Object.assign(Object.create(d.prototype),{constructor:ji,isLight:!0,copy:function(e){return d.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=d.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),ki.prototype=Object.assign(Object.create(ji.prototype),{constructor:ki,isHemisphereLight:!0,copy:function(e){return ji.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Wi.prototype,{_projScreenMatrix:new h,_lightPositionWorld:new i,_lookTarget:new i,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),qi.prototype=Object.assign(Object.create(Wi.prototype),{constructor:qi,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*ll.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Wi.prototype.updateMatrices.call(this,e)}}),Xi.prototype=Object.assign(Object.create(ji.prototype),{constructor:Xi,isSpotLight:!0,copy:function(e){return ji.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Yi.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Yi,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromMatrix(o)}}),Zi.prototype=Object.assign(Object.create(ji.prototype),{constructor:Zi,isPointLight:!0,copy:function(e){return ji.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Ji.prototype=Object.assign(Object.create(Y.prototype),{constructor:Ji,isOrthographicCamera:!0,copy:function(e,t){return Y.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;i+=h*(this.view.offsetX/c),a=i+h*(this.view.width/c),o-=u*(this.view.offsetY/l),s=o-u*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=d.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Qi.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Qi,isDirectionalLightShadow:!0,updateMatrices:function(e){Wi.prototype.updateMatrices.call(this,e)}}),Ki.prototype=Object.assign(Object.create(ji.prototype),{constructor:Ki,isDirectionalLight:!0,copy:function(e){return ji.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),$i.prototype=Object.assign(Object.create(ji.prototype),{constructor:$i,isAmbientLight:!0}),ea.prototype=Object.assign(Object.create(ji.prototype),{constructor:ea,isRectAreaLight:!0,copy:function(e){return ji.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ji.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),ta.prototype=Object.assign(Object.create(hi.prototype),{constructor:ta,load:function(e,t,n,r){var i=this,a=new ui(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){function t(e){return void 0===r[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),r[e]}var r=this.textures,o=new lp[e.type];if(void 0!==e.uuid&&(o.uuid=e.uuid),void 0!==e.name&&(o.name=e.name),void 0!==e.color&&o.color.setHex(e.color),void 0!==e.roughness&&(o.roughness=e.roughness),void 0!==e.metalness&&(o.metalness=e.metalness),void 0!==e.sheen&&(o.sheen=(new w).setHex(e.sheen)),void 0!==e.emissive&&o.emissive.setHex(e.emissive),void 0!==e.specular&&o.specular.setHex(e.specular),void 0!==e.shininess&&(o.shininess=e.shininess),void 0!==e.clearcoat&&(o.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(o.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(o.vertexColors=e.vertexColors),void 0!==e.fog&&(o.fog=e.fog),void 0!==e.flatShading&&(o.flatShading=e.flatShading),void 0!==e.blending&&(o.blending=e.blending),void 0!==e.combine&&(o.combine=e.combine),void 0!==e.side&&(o.side=e.side),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.transparent&&(o.transparent=e.transparent),void 0!==e.alphaTest&&(o.alphaTest=e.alphaTest),void 0!==e.depthTest&&(o.depthTest=e.depthTest),void 0!==e.depthWrite&&(o.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(o.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(o.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(o.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(o.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(o.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(o.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(o.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(o.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(o.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(o.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(o.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(o.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(o.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(o.rotation=e.rotation),1!==e.linewidth&&(o.linewidth=e.linewidth),void 0!==e.dashSize&&(o.dashSize=e.dashSize),void 0!==e.gapSize&&(o.gapSize=e.gapSize),void 0!==e.scale&&(o.scale=e.scale),void 0!==e.polygonOffset&&(o.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(o.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(o.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(o.skinning=e.skinning),void 0!==e.morphTargets&&(o.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(o.morphNormals=e.morphNormals),void 0!==e.dithering&&(o.dithering=e.dithering),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.toneMapped&&(o.toneMapped=e.toneMapped),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.uniforms)for(var c in e.uniforms){var l=e.uniforms[c];switch(o.uniforms[c]={},l.type){case"t":o.uniforms[c].value=t(l.value);break;case"c":o.uniforms[c].value=(new w).setHex(l.value);break;case"v2":o.uniforms[c].value=(new n).fromArray(l.value);break;case"v3":o.uniforms[c].value=(new i).fromArray(l.value);break;case"v4":o.uniforms[c].value=(new s).fromArray(l.value);break;case"m3":o.uniforms[c].value=(new a).fromArray(l.value);case"m4":o.uniforms[c].value=(new h).fromArray(l.value);break;default:o.uniforms[c].value=l.value}}if(void 0!==e.defines&&(o.defines=e.defines),
void 0!==e.vertexShader&&(o.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(o.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var u in e.extensions)o.extensions[u]=e.extensions[u];if(void 0!==e.shading&&(o.flatShading=1===e.shading),void 0!==e.size&&(o.size=e.size),void 0!==e.sizeAttenuation&&(o.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(o.map=t(e.map)),void 0!==e.matcap&&(o.matcap=t(e.matcap)),void 0!==e.alphaMap&&(o.alphaMap=t(e.alphaMap),o.transparent=!0),void 0!==e.bumpMap&&(o.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(o.bumpScale=e.bumpScale),void 0!==e.normalMap&&(o.normalMap=t(e.normalMap)),void 0!==e.normalMapType&&(o.normalMapType=e.normalMapType),void 0!==e.normalScale){var p=e.normalScale;!1===Array.isArray(p)&&(p=[p,p]),o.normalScale=(new n).fromArray(p)}return void 0!==e.displacementMap&&(o.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(o.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(o.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(o.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(o.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(o.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(o.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(o.specularMap=t(e.specularMap)),void 0!==e.envMap&&(o.envMap=t(e.envMap)),void 0!==e.envMapIntensity&&(o.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(o.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(o.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(o.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(o.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(o.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(o.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(o.gradientMap=t(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(o.clearcoatNormalMap=t(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(o.clearcoatNormalScale=(new n).fromArray(e.clearcoatNormalScale)),o},setTextures:function(e){return this.textures=e,this}});var xp={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};na.prototype=Object.assign(Object.create(G.prototype),{constructor:na,isInstancedBufferGeometry:!0,copy:function(e){return G.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=G.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),ra.prototype=Object.assign(Object.create(L.prototype),{constructor:ra,isInstancedBufferAttribute:!0,copy:function(e){return L.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=L.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),ia.prototype=Object.assign(Object.create(hi.prototype),{constructor:ia,load:function(e,t,n,r){var i=this,a=new ui(i.manager);a.setPath(i.path),a.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new na:new G,n=e.data.index;if(void 0!==n){var r=new bp[n.type](n.array);t.setIndex(new L(r,1))}var a=e.data.attributes;for(var o in a){var s=a[o],r=new bp[s.type](s.array),c=s.isInstancedBufferAttribute?ra:L,l=new c(r,s.itemSize,s.normalized);void 0!==s.name&&(l.name=s.name),t.setAttribute(o,l)}var h=e.data.morphAttributes;if(h)for(var o in h){for(var u=h[o],p=[],d=0,f=u.length;d<f;d++){var s=u[d],r=new bp[s.type](s.array),l=new L(r,s.itemSize,s.normalized);void 0!==s.name&&(l.name=s.name),p.push(l)}t.morphAttributes[o]=p}e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0);var m=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==m)for(var d=0,v=m.length;d!==v;++d){var y=m[d];t.addGroup(y.start,y.count,y.materialIndex)}var x=e.data.boundingSphere;if(void 0!==x){var b=new i;void 0!==x.center&&b.fromArray(x.center),t.boundingSphere=new g(b,x.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var bp={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};aa.prototype=Object.assign(Object.create(hi.prototype),{constructor:aa,load:function(e,t,n,r){var i=this,a=""===this.path?xp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new ui(i.manager);o.setPath(this.path),o.load(e,function(n){var a=null;try{a=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)},n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Vi).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new ia,i=0,a=e.length;i<a;i++){var o,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new cp[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new cp[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new cp[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new cp[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new cp[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new cp[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new cp[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new cp[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new cp[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new cp[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new cp[s.type]((new yp[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new cp[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new cp[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,h=s.shapes.length;l<h;l++){var u=t[s.shapes[l]];c.push(u)}o=new cp[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var c=[],l=0,h=s.shapes.length;l<h;l++){var u=t[s.shapes[l]];c.push(u)}var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new yp[p.type]).fromJSON(p)),o=new cp[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var d=new THREE.LegacyJSONLoader;o=d.parse(s,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new ta;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===n[h.uuid]&&(n[h.uuid]=i.parse(h)),c.push(n[h.uuid])}r[s.uuid]=c}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=oi.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),o.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e),r.manager.itemEnd(e)})}var r=this,i={};if(void 0!==e&&e.length>0){var a=new li(t),o=new mi(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,c=e.length;s<c;s++){var l=e[s],h=l.url;if(Array.isArray(h)){i[l.uuid]=[];for(var u=0,p=h.length;u<p;u++){var d=h[u],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;i[l.uuid].push(n(f))}}else{var f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.resourcePath+l.url;i[l.uuid]=n(f)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var c;c=Array.isArray(t[s.image])?new me(t[s.image]):new o(t[s.image]),c.needsUpdate=!0,c.uuid=s.uuid,void 0!==s.name&&(c.name=s.name),void 0!==s.mapping&&(c.mapping=n(s.mapping,wp)),void 0!==s.offset&&c.offset.fromArray(s.offset),void 0!==s.repeat&&c.repeat.fromArray(s.repeat),void 0!==s.center&&c.center.fromArray(s.center),void 0!==s.rotation&&(c.rotation=s.rotation),void 0!==s.wrap&&(c.wrapS=n(s.wrap[0],_p),c.wrapT=n(s.wrap[1],_p)),void 0!==s.format&&(c.format=s.format),void 0!==s.type&&(c.type=s.type),void 0!==s.encoding&&(c.encoding=s.encoding),void 0!==s.minFilter&&(c.minFilter=n(s.minFilter,Mp)),void 0!==s.magFilter&&(c.magFilter=n(s.magFilter,Mp)),void 0!==s.anisotropy&&(c.anisotropy=s.anisotropy),void 0!==s.flipY&&(c.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(c.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(c.unpackAlignment=s.unpackAlignment),r[s.uuid]=c}return r},parseObject:function(e,t,n){function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}var a;switch(e.type){case"Scene":a=new f,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new w(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new $t(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Kt(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Z(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Ji(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new $i(e.color,e.intensity);break;case"DirectionalLight":a=new Ki(e.color,e.intensity);break;case"PointLight":a=new Zi(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new ea(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Xi(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new ki(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=r(e.geometry),s=i(e.material);a=o.bones&&o.bones.length>0?new sn(o,s):new H(o,s);break;case"InstancedMesh":var o=r(e.geometry),s=i(e.material),c=e.count,l=e.instanceMatrix;a=new hn(o,s,c),a.instanceMatrix=new L(new Float32Array(l.array),16);break;case"LOD":a=new on;break;case"Line":a=new pn(r(e.geometry),i(e.material),e.mode);break;case"LineLoop":a=new fn(r(e.geometry),i(e.material));break;case"LineSegments":a=new dn(r(e.geometry),i(e.material));break;case"PointCloud":case"Points":a=new vn(r(e.geometry),i(e.material));break;case"Sprite":a=new rn(i(e.material));break;case"Group":a=new qt;break;default:a=new d}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,u=0;u<h.length;u++)a.add(this.parseObject(h[u],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var p=e.levels,m=0;m<p.length;m++){var v=p[m],g=a.getObjectByProperty("uuid",v.object);void 0!==g&&a.addLevel(g,v.distance)}}return a}});var wp={UVMapping:300,CubeReflectionMapping:Us,CubeRefractionMapping:Fs,EquirectangularReflectionMapping:Gs,EquirectangularRefractionMapping:Hs,SphericalReflectionMapping:Vs,CubeUVReflectionMapping:js,CubeUVRefractionMapping:ks},_p={RepeatWrapping:Ws,ClampToEdgeWrapping:qs,MirroredRepeatWrapping:Xs},Mp={NearestFilter:Ys,NearestMipmapNearestFilter:Zs,NearestMipmapLinearFilter:Js,LinearFilter:Qs,LinearMipmapNearestFilter:Ks,LinearMipmapLinearFilter:$s};oa.prototype=Object.assign(Object.create(hi.prototype),{constructor:oa,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=up.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;fetch(e).then(function(e){return e.blob()}).then(function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)}).then(function(n){up.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}}),Object.assign(sa.prototype,{moveTo:function(e,t){return this.currentPath=new Hi,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Vi;a.curves=i.curves,t.push(a)}return t}var r=op.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===t)return n(i);var a,o,s,c=[];if(1===i.length)return o=i[0],s=new Vi,s.curves=o.curves,c.push(s),c;var l=!r(i[0].getPoints());l=e?!l:l;var h,u=[],p=[],d=[],f=0;p[f]=void 0,d[f]=[];for(var m=0,v=i.length;m<v;m++)o=i[m],h=o.getPoints(),a=r(h),a=e?!a:a,a?(!l&&p[f]&&f++,p[f]={s:new Vi,p:h},p[f].s.curves=o.curves,l&&f++,d[f]=[]):d[f].push({h:o,p:h[0]});if(!p[0])return n(i);if(p.length>1){for(var g=!1,y=[],x=0,b=p.length;x<b;x++)u[x]=[];for(var x=0,b=p.length;x<b;x++)for(var w=d[x],_=0;_<w.length;_++){for(var M=w[_],S=!0,T=0;T<p.length;T++)(function(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],c=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],c=-c,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var h=l*(e.x-o.x)-c*(e.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r})(M.p,p[T].p)&&(x!==T&&y.push({froms:x,tos:T,hole:_}),S?(S=!1,u[T].push(M)):g=!0);S&&u[x].push(M)}y.length>0&&(g||(d=u))}for(var E,m=0,A=p.length;m<A;m++){s=p[m].s,c.push(s),E=d[m];for(var L=0,R=E.length;L<R;L++)s.holes.push(E[L].h)}return c}}),Object.assign(ca.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=la(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),ua.prototype=Object.assign(Object.create(hi.prototype),{constructor:ua,load:function(e,t,n,r){var i=this,a=new ui(this.manager);a.setPath(this.path),a.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new ca(e)}});var Sp,Tp={getContext:function(){return void 0===Sp&&(Sp=new(window.AudioContext||window.webkitAudioContext)),Sp},setContext:function(e){Sp=e}};pa.prototype=Object.assign(Object.create(hi.prototype),{constructor:pa,load:function(e,t,n,r){var i=new ui(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,function(e){var n=e.slice(0);Tp.getContext().decodeAudioData(n,function(e){t(e)})},n,r)}}),Object.assign(da.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScale(a[1],.488603*r),t.addScale(a[2],.488603*i),t.addScale(a[3],.488603*n),t.addScale(a[4],n*r*1.092548),t.addScale(a[5],r*i*1.092548),t.addScale(a[6],.315392*(3*i*i-1)),t.addScale(a[7],n*i*1.092548),t.addScale(a[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScale(a[1],1.023328*r),t.addScale(a[2],1.023328*i),t.addScale(a[3],1.023328*n),t.addScale(a[4],.858086*n*r),t.addScale(a[5],.858086*r*i),t.addScale(a[6],.743125*i*i-.247708),t.addScale(a[7],.858086*n*i),t.addScale(a[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(da,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),fa.prototype=Object.assign(Object.create(ji.prototype),{constructor:fa,isLightProbe:!0,copy:function(e){return ji.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return ji.prototype.toJSON.call(this,e)}}),ma.prototype=Object.assign(Object.create(fa.prototype),{constructor:ma,isHemisphereLightProbe:!0,copy:function(e){return fa.prototype.copy.call(this,e),this},toJSON:function(e){return fa.prototype.toJSON.call(this,e)}}),va.prototype=Object.assign(Object.create(fa.prototype),{constructor:va,isAmbientLightProbe:!0,copy:function(e){return fa.prototype.copy.call(this,e),this},toJSON:function(e){return fa.prototype.toJSON.call(this,e)}});var Ep=new h,Ap=new h;Object.assign(ga.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(ll.DEG2RAD*t.fov*.5)/t.zoom;Ap.elements[12]=-a,Ep.elements[12]=a,n=-s*t.aspect+o,r=s*t.aspect+o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-o,r=s*t.aspect-o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ap),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ep)}}),Object.assign(ya.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var Lp=new i,Rp=new r,Pp=new i,Cp=new i;xa.prototype=Object.assign(Object.create(d.prototype),{constructor:xa,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){d.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lp,Rp,Pp),Cp.set(0,0,-1).applyQuaternion(Rp),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lp.x,r),t.positionY.linearRampToValueAtTime(Lp.y,r),t.positionZ.linearRampToValueAtTime(Lp.z,r),t.forwardX.linearRampToValueAtTime(Cp.x,r),t.forwardY.linearRampToValueAtTime(Cp.y,r),t.forwardZ.linearRampToValueAtTime(Cp.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Lp.x,Lp.y,Lp.z),t.setOrientation(Cp.x,Cp.y,Cp.z,n.x,n.y,n.z)}}),ba.prototype=Object.assign(Object.create(d.prototype),{constructor:ba,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var Op=new i,Dp=new r,Ip=new i,Np=new i;wa.prototype=Object.assign(Object.create(ba.prototype),{constructor:wa,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(d.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Op,Dp,Ip),Np.set(0,0,1).applyQuaternion(Dp);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Op.x,n),t.positionY.linearRampToValueAtTime(Op.y,n),t.positionZ.linearRampToValueAtTime(Op.z,n),t.orientationX.linearRampToValueAtTime(Np.x,n),t.orientationY.linearRampToValueAtTime(Np.y,n),t.orientationZ.linearRampToValueAtTime(Np.z,n)}else t.setPosition(Op.x,Op.y,Op.z),t.setOrientation(Np.x,Np.y,Np.z)}}}),Object.assign(_a.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Ma.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{a+=t;var s=t/a;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*t;this._mixBufferRegion(n,r,o,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,i){r.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}});var zp="\\[\\]\\.:\\/",Bp=new RegExp("["+zp+"]","g"),Up="[^"+zp+"]",Fp="[^"+zp.replace("\\.","")+"]",Gp=/((?:WC+[\/:])*)/.source.replace("WC",Up),Hp=/(WCOD+)?/.source.replace("WCOD",Fp),Vp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Up),jp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Up),kp=new RegExp("^"+Gp+Hp+Vp+jp+"$"),Wp=["material","materials","bones"];Object.assign(Sa.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Ta,{Composite:Sa,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Ta.Composite(e,t,n):new Ta(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Bp,"")},
parseTrackName:function(e){var t=kp.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Wp.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var a=r(i.children);if(a)return a}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Ta.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Ta.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0===s){var c=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e)}var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var h=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===i){i=o;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ta.prototype,{_getValue_unbound:Ta.prototype.getValue,_setValue_unbound:Ta.prototype.setValue}),Object.assign(Ea.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,c=void 0,l=0,h=arguments.length;l!==h;++l){var u=arguments[l],p=u.uuid,d=r[p];if(void 0===d){d=t++,r[p]=d,e.push(u);for(var f=0,m=s;f!==m;++f)o[f].push(new Ta(u,i[f],a[f]))}else if(d<n){c=e[d];var v=--n,g=e[v];r[g.uuid]=d,e[d]=g,r[p]=v,e[v]=u;for(var f=0,m=s;f!==m;++f){var y=o[f],x=y[v],b=y[d];y[d]=x,void 0===b&&(b=new Ta(u,i[f],a[f])),y[v]=b}}else e[d]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,l=n[c];if(void 0!==l&&l>=t){var h=t++,u=e[h];n[u.uuid]=l,e[l]=u,n[c]=h,e[h]=s;for(var p=0,d=i;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],l=c.uuid,h=r[l];if(void 0!==h)if(delete r[l],h<n){var u=--n,p=e[u],d=--t,f=e[d];r[p.uuid]=h,e[h]=p,r[f.uuid]=u,e[u]=f,e.pop();for(var m=0,v=a;m!==v;++m){var g=i[m],y=g[u],x=g[d];g[h]=y,g[u]=x,g.pop()}}else{var d=--t,f=e[d];r[f.uuid]=h,e[h]=f,e.pop();for(var m=0,v=a;m!==v;++m){var g=i[m];g[h]=g[d],g.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,h=new Array(c);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(h);for(var u=l,p=s.length;u!==p;++u){var d=s[u];h[u]=new Ta(d,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(Aa.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/o,c[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,h=0,u=c.length;h!==u;++h)c[h].evaluate(o),l[h].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=2202===r;if(0===e)return-1===i?t:a&&1==(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=t;if(a&&1==(1&i))return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:Wc:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:Wc:2402)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}),La.prototype=Object.assign(Object.create(t.prototype),{constructor:La,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var h=0;h!==i;++h){var u=r[h],p=u.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=t&&t._propertyBindings[h].binding.parsedPath;d=new Ma(Ta.create(n,p,f),u.ValueTypeName,u.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new Jr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?oi.findByName(n,e):e,a=null!==i?i.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[r];if(void 0!==c)return c;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new Aa(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?oi.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o?o.actionByRoot[r]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,c=this._nActiveBindings,o=0;o!==c;++o)s[o].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var l=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=l,t[l]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,a=i[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[t];if(void 0!==s)for(var c in s){var l=s[c];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Ra.prototype.clone=function(){return new Ra(void 0===this.value.clone?this.value:this.value.clone())},Pa.prototype=Object.assign(Object.create(en.prototype),{constructor:Pa,isInstancedInterleavedBuffer:!0,copy:function(e){return en.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Ca.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Da(e,this,r,t),r.sort(Oa),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)Da(e[i],this,r,t);return r.sort(Oa),r}}),Object.assign(Ia.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ll.clamp(t/this.radius,-1,1))),this}}),Object.assign(Na.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var qp=new n;Object.assign(za.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=qp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new n),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new n),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new n),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new n),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return qp.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Xp=new i,Yp=new i;Object.assign(Ba.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new i),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new i),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new i),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Xp.subVectors(e,this.start),Yp.subVectors(this.end,this.start);var n=Yp.dot(Yp),r=Yp.dot(Xp),i=r/n;return t&&(i=ll.clamp(i,0,1)),i},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new i),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Ua.prototype=Object.create(d.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isImmediateRenderObject=!0;var Zp=new i,Jp=new i,Qp=new a,Kp=["a","b","c"];Fa.prototype=Object.create(dn.prototype),Fa.prototype.constructor=Fa,Fa.prototype.update=function(){this.object.updateMatrixWorld(!0),Qp.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,i=n.faces,a=0,o=0,s=i.length;o<s;o++)for(var c=i[o],l=0,h=c.vertexNormals.length;l<h;l++){var u=r[c[Kp[l]]],p=c.vertexNormals[l];Zp.copy(u).applyMatrix4(e),Jp.copy(p).applyMatrix3(Qp).normalize().multiplyScalar(this.size).add(Zp),t.setXYZ(a,Zp.x,Zp.y,Zp.z),a+=1,t.setXYZ(a,Jp.x,Jp.y,Jp.z),a+=1}else if(n&&n.isBufferGeometry)for(var d=n.attributes.position,f=n.attributes.normal,a=0,l=0,h=d.count;l<h;l++)Zp.set(d.getX(l),d.getY(l),d.getZ(l)).applyMatrix4(e),Jp.set(f.getX(l),f.getY(l),f.getZ(l)),Jp.applyMatrix3(Qp).normalize().multiplyScalar(this.size).add(Zp),t.setXYZ(a,Zp.x,Zp.y,Zp.z),a+=1,t.setXYZ(a,Jp.x,Jp.y,Jp.z),a+=1;t.needsUpdate=!0};var $p=new i,ed=new i;Ga.prototype=Object.create(dn.prototype),Ga.prototype.constructor=Ga,Ga.prototype.update=function(){this.object.updateMatrixWorld(!0);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.attributes.position,i=n.attributes.tangent,a=0,o=0,s=r.count;o<s;o++)$p.set(r.getX(o),r.getY(o),r.getZ(o)).applyMatrix4(e),ed.set(i.getX(o),i.getY(o),i.getZ(o)),ed.transformDirection(e).multiplyScalar(this.size).add($p),t.setXYZ(a,$p.x,$p.y,$p.z),a+=1,t.setXYZ(a,ed.x,ed.y,ed.z),a+=1;t.needsUpdate=!0};var td=new i;Ha.prototype=Object.create(d.prototype),Ha.prototype.constructor=Ha,Ha.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ha.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),td.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(td),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var nd=new i,rd=new h,id=new h;ja.prototype=Object.create(dn.prototype),ja.prototype.constructor=ja,ja.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");id.getInverse(this.root.matrixWorld);for(var i=0,a=0;i<t.length;i++){var o=t[i];o.parent&&o.parent.isBone&&(rd.multiplyMatrices(id,o.matrixWorld),nd.setFromMatrixPosition(rd),r.setXYZ(a,nd.x,nd.y,nd.z),rd.multiplyMatrices(id,o.parent.matrixWorld),nd.setFromMatrixPosition(rd),r.setXYZ(a+1,nd.x,nd.y,nd.z),a+=2)}n.getAttribute("position").needsUpdate=!0,d.prototype.updateMatrixWorld.call(this,e)},ka.prototype=Object.create(H.prototype),ka.prototype.constructor=ka,ka.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ka.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Wa.prototype=Object.create(pn.prototype),Wa.prototype.constructor=Wa,Wa.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Wa.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var ad=new i,od=new w,sd=new w;qa.prototype=Object.create(d.prototype),qa.prototype.constructor=qa,qa.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},qa.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");od.copy(this.light.color),sd.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?od:sd;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(ad.setFromMatrixPosition(this.light.matrixWorld).negate())},Xa.prototype=Object.create(H.prototype),Xa.prototype.constructor=Xa,Xa.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Xa.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Ya.prototype=Object.assign(Object.create(dn.prototype),{constructor:Ya,copy:function(e){return dn.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Za.prototype=Object.create(dn.prototype),Za.prototype.constructor=Za,Ja.prototype=Object.create(pn.prototype),Ja.prototype.constructor=Ja,Ja.prototype.update=function(){function e(e,r,a,o){var s=(r-e)/a;for(f.setXYZ(u,0,0,0),p++,t=e;t<r;t+=s)n=u+p,f.setXYZ(n,Math.sin(t)*i,0,Math.cos(t)*i),f.setXYZ(n+1,Math.sin(Math.min(t+s,r))*i,0,Math.cos(Math.min(t+s,r))*i),f.setXYZ(n+2,0,0,0),p+=3;d.addGroup(u,p,o),u+=p,p=0}var t,n,r=this.audio,i=this.range,a=this.divisionsInnerAngle,o=this.divisionsOuterAngle,s=ll.degToRad(r.panner.coneInnerAngle),c=ll.degToRad(r.panner.coneOuterAngle),l=s/2,h=c/2,u=0,p=0,d=this.geometry,f=d.attributes.position;d.clearGroups(),e(-h,-l,o,0),e(-l,l,a,1),e(l,h,o,0),f.needsUpdate=!0,s===c&&(this.material[0].visible=!1)},Ja.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var cd=new i,ld=new i,hd=new a;Qa.prototype=Object.create(dn.prototype),Qa.prototype.constructor=Qa,Qa.prototype.update=function(){this.object.updateMatrixWorld(!0),hd.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,a=0,o=0,s=i.length;o<s;o++){var c=i[o],l=c.normal;cd.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(e),ld.copy(l).applyMatrix3(hd).normalize().multiplyScalar(this.size).add(cd),t.setXYZ(a,cd.x,cd.y,cd.z),a+=1,t.setXYZ(a,ld.x,ld.y,ld.z),a+=1}t.needsUpdate=!0};var ud=new i,pd=new i,dd=new i;Ka.prototype=Object.create(d.prototype),Ka.prototype.constructor=Ka,Ka.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ka.prototype.update=function(){ud.setFromMatrixPosition(this.light.matrixWorld),pd.setFromMatrixPosition(this.light.target.matrixWorld),dd.subVectors(pd,ud),this.lightPlane.lookAt(pd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(pd),this.targetLine.scale.z=dd.length()};var fd=new i,md=new Y;$a.prototype=Object.create(dn.prototype),$a.prototype.constructor=$a,$a.prototype.update=function(){var e=this.geometry,t=this.pointMap;md.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),eo("c",t,e,md,0,0,-1),eo("t",t,e,md,0,0,1),eo("n1",t,e,md,-1,-1,-1),
eo("n2",t,e,md,1,-1,-1),eo("n3",t,e,md,-1,1,-1),eo("n4",t,e,md,1,1,-1),eo("f1",t,e,md,-1,-1,1),eo("f2",t,e,md,1,-1,1),eo("f3",t,e,md,-1,1,1),eo("f4",t,e,md,1,1,1),eo("u1",t,e,md,.7,1.1,-1),eo("u2",t,e,md,-.7,1.1,-1),eo("u3",t,e,md,0,2,-1),eo("cf1",t,e,md,-1,0,1),eo("cf2",t,e,md,1,0,1),eo("cf3",t,e,md,0,-1,1),eo("cf4",t,e,md,0,1,1),eo("cn1",t,e,md,-1,0,-1),eo("cn2",t,e,md,1,0,-1),eo("cn3",t,e,md,0,-1,-1),eo("cn4",t,e,md,0,1,-1),e.getAttribute("position").needsUpdate=!0};var vd=new m;to.prototype=Object.create(dn.prototype),to.prototype.constructor=to,to.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&vd.setFromObject(this.object),!vd.isEmpty()){var t=vd.min,n=vd.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},to.prototype.setFromObject=function(e){return this.object=e,this.update(),this},to.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.object=e.object,this},to.prototype.clone=function(){return(new this.constructor).copy(this)},no.prototype=Object.create(dn.prototype),no.prototype.constructor=no,no.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),d.prototype.updateMatrixWorld.call(this,e))},ro.prototype=Object.create(pn.prototype),ro.prototype.constructor=ro,ro.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Yo:Xo,this.lookAt(this.plane.normal),d.prototype.updateMatrixWorld.call(this,e)};var gd,yd,xd=new i;io.prototype=Object.create(d.prototype),io.prototype.constructor=io,io.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xd.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xd,t)}},io.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},io.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},io.prototype.copy=function(e){return d.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},io.prototype.clone=function(){return(new this.constructor).copy(this)},ao.prototype=Object.create(dn.prototype),ao.prototype.constructor=ao;yi.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(yi.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Gi.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new k,n=0,r=e.length;n<r;n++){var a=e[n];t.vertices.push(new i(a.x,a.y,a.z||0))}return t}}),Object.assign(Hi.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Ao.prototype=Object.create(_i.prototype),Lo.prototype=Object.create(_i.prototype),Ro.prototype=Object.create(_i.prototype),Object.assign(Ro.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Ya.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ja.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(hi.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),xp.extractUrlBase(e)}}),hi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(aa.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(za.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(m.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Ba.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(ll,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ll.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ll.ceilPowerOfTwo(e)}}),Object.assign(a.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(h.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new i).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),x.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},r.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(y.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(b.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(b,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),b.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),b.getNormal(e,t,n,r)}}),Object.assign(Vi.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new gr(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Lr(this,e)}}),Object.assign(n.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(i.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(k.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(d.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(d.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(H.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(H.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(on.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(cn.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),sn.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(yi.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Z.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ji.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(L.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(L.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:ol),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(G.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new L(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)}}),Object.defineProperties(G.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(en.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(en.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:ol),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(yr.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Ra.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(E.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new w}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Vr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(X.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Qt.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Qt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been removed. Use .xr instead."),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Please define the correct color spaces for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Please define the correct color spaces for textures via Texture.encoding instead.")}}}),Object.defineProperties(Gt.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Q.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(c.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){
return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Zt.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Object.defineProperties(ba.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new pa).load(e,function(e){t.setBuffer(e)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),_a.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},J.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var bd={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};fl.crossOrigin=void 0,fl.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new gi;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},fl.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new vi;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},fl.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},fl.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var wd={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"111dev"}})),e.ACESFilmicToneMapping=Bs,e.AddEquation=as,e.AddOperation=Cs,e.AdditiveBlending=ts,e.AlphaFormat=pc,e.AlwaysDepth=_s,e.AlwaysStencilFunc=al,e.AmbientLight=$i,e.AmbientLightProbe=va,e.AnimationClip=oi,e.AnimationLoader=pi,e.AnimationMixer=La,e.AnimationObjectGroup=Ea,e.AnimationUtils=hp,e.ArcCurve=bi,e.ArrayCamera=Xt,e.ArrowHelper=io,e.Audio=ba,e.AudioAnalyser=_a,e.AudioContext=Tp,e.AudioListener=xa,e.AudioLoader=pa,e.AxesHelper=ao,e.AxisHelper=Po,e.BackSide=Yo,e.BasicDepthPacking=el,e.BasicShadowMap=0,e.BinaryTextureLoader=No,e.Bone=ln,e.BooleanKeyframeTrack=$r,e.BoundingBoxHelper=Co,e.Box2=za,e.Box3=m,e.Box3Helper=no,e.BoxBufferGeometry=Kh,e.BoxGeometry=Qh,e.BoxHelper=to,e.BufferAttribute=L,e.BufferGeometry=G,e.BufferGeometryLoader=ia,e.ByteType=tc,e.Cache=up,e.Camera=Y,e.CameraHelper=$a,e.CanvasRenderer=zo,e.CanvasTexture=bn,e.CatmullRomCurve3=_i,e.CineonToneMapping=zs,e.CircleBufferGeometry=Br,e.CircleGeometry=zr,e.ClampToEdgeWrapping=qs,e.Clock=ya,e.ClosedSplineCurve3=Ao,e.Color=w,e.ColorKeyframeTrack=ei,e.CompressedTexture=xn,e.CompressedTextureLoader=di,e.ConeBufferGeometry=Nr,e.ConeGeometry=Ir,e.CubeCamera=J,e.CubeGeometry=Qh,e.CubeReflectionMapping=Us,e.CubeRefractionMapping=Fs,e.CubeTexture=me,e.CubeTextureLoader=vi,e.CubeUVReflectionMapping=js,e.CubeUVRefractionMapping=ks,e.CubicBezierCurve=Di,e.CubicBezierCurve3=Ii,e.CubicInterpolant=Zr,e.CullFaceBack=Vo,e.CullFaceFront=jo,e.CullFaceFrontBack=3,e.CullFaceNone=Ho,e.Curve=yi,e.CurvePath=Gi,e.CustomBlending=is,e.CylinderBufferGeometry=Dr,e.CylinderGeometry=Or,e.Cylindrical=Na,e.DataTexture=K,e.DataTexture2DArray=ve,e.DataTexture3D=ge,e.DataTextureLoader=fi,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=pp,e.DepthFormat=yc,e.DepthStencilFormat=xc,e.DepthTexture=wn,e.DirectionalLight=Ki,e.DirectionalLightHelper=Ka,e.DirectionalLightShadow=Qi,e.DiscreteInterpolant=Qr,e.DodecahedronBufferGeometry=In,e.DodecahedronGeometry=Dn,e.DoubleSide=Zo,e.DstAlphaFactor=vs,e.DstColorFactor=ys,e.DynamicBufferAttribute=go,e.DynamicCopyUsage=35050,e.DynamicDrawUsage=35048,e.DynamicReadUsage=35049,e.EdgesGeometry=Cr,e.EdgesHelper=Oo,e.EllipseCurve=xi,e.EqualDepth=Ts,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=Gs,e.EquirectangularRefractionMapping=Hs,e.Euler=u,e.EventDispatcher=t,e.ExtrudeBufferGeometry=yr,e.ExtrudeGeometry=gr,e.Face3=T,e.Face4=oo,e.FaceColors=Qo,e.FaceNormalsHelper=Qa,e.FileLoader=ui,e.FlatShading=1,e.Float32Attribute=To,e.Float32BufferAttribute=z,e.Float64Attribute=Eo,e.Float64BufferAttribute=B,e.FloatType=oc,e.Fog=$t,e.FogExp2=Kt,e.Font=ca,e.FontLoader=ua,e.FrontFaceDirectionCCW=1,e.FrontFaceDirectionCW=0,e.FrontSide=Xo,e.Frustum=$,e.GammaEncoding=Yc,e.Geometry=k,e.GeometryUtils=bd,e.GreaterDepth=As,e.GreaterEqualDepth=Es,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=Ya,e.Group=qt,e.HalfFloatType=sc,e.HemisphereLight=ki,e.HemisphereLightHelper=qa,e.HemisphereLightProbe=ma,e.IcosahedronBufferGeometry=On,e.IcosahedronGeometry=Cn,e.ImageBitmapLoader=oa,e.ImageLoader=mi,e.ImageUtils=fl,e.ImmediateRenderObject=Ua,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=ra,e.InstancedBufferGeometry=na,e.InstancedInterleavedBuffer=Pa,e.InstancedMesh=hn,e.Int16Attribute=wo,e.Int16BufferAttribute=O,e.Int32Attribute=Mo,e.Int32BufferAttribute=I,e.Int8Attribute=yo,e.Int8BufferAttribute=R,e.IntType=ic,e.InterleavedBuffer=en,e.InterleavedBufferAttribute=tn,e.Interpolant=Yr,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.InvertStencilOp=5386,e.JSONLoader=Bo,e.KeepStencilOp=il,e.KeyframeTrack=Kr,e.LOD=on,e.LatheBufferGeometry=Ar,e.LatheGeometry=Er,e.Layers=p,e.LensFlare=Uo,e.LessDepth=Ms,e.LessEqualDepth=Ss,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=ji,e.LightProbe=fa,e.LightProbeHelper=Xa,e.LightShadow=Wi,e.Line=pn,e.Line3=Ba,e.LineBasicMaterial=un,e.LineCurve=Ni,e.LineCurve3=zi,e.LineDashedMaterial=Xr,e.LineLoop=fn,e.LinePieces=1,e.LineSegments=dn,e.LineStrip=0,e.LinearEncoding=qc;e.LinearFilter=Qs,e.LinearInterpolant=Jr,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=$s,e.LinearMipmapNearestFilter=Ks,e.LinearToneMapping=Ds,e.Loader=hi,e.LoaderUtils=xp,e.LoadingManager=li,e.LogLuvEncoding=Jc,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=kc,e.LuminanceAlphaFormat=vc,e.LuminanceFormat=mc,e.MOUSE=Fo,e.Material=E,e.MaterialLoader=ta,e.Math=ll,e.Matrix3=a,e.Matrix4=h,e.MaxEquation=ls,e.Mesh=H,e.MeshBasicMaterial=A,e.MeshDepthMaterial=Ut,e.MeshDistanceMaterial=Ft,e.MeshFaceMaterial=so,e.MeshLambertMaterial=Wr,e.MeshMatcapMaterial=qr,e.MeshNormalMaterial=kr,e.MeshPhongMaterial=Vr,e.MeshPhysicalMaterial=Hr,e.MeshStandardMaterial=Gr,e.MeshToonMaterial=jr,e.MinEquation=cs,e.MirroredRepeatWrapping=Xs,e.MixOperation=Ps,e.MultiMaterial=co,e.MultiplyBlending=rs,e.MultiplyOperation=Rs,e.NearestFilter=Ys,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=Js,e.NearestMipmapNearestFilter=Zs,e.NeverDepth=ws,e.NeverStencilFunc=512,e.NoBlending=$o,e.NoColors=Jo,e.NoToneMapping=Os,e.NormalBlending=es,e.NotEqualDepth=Ls,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=ti,e.Object3D=d,e.ObjectLoader=aa,e.ObjectSpaceNormalMap=rl,e.OctahedronBufferGeometry=Pn,e.OctahedronGeometry=Rn,e.OneFactor=us,e.OneMinusDstAlphaFactor=gs,e.OneMinusDstColorFactor=xs,e.OneMinusSrcAlphaFactor=ms,e.OneMinusSrcColorFactor=ds,e.OrthographicCamera=Ji,e.PCFShadowMap=ko,e.PCFSoftShadowMap=Wo,e.ParametricBufferGeometry=Sn,e.ParametricGeometry=Mn,e.Particle=ho,e.ParticleBasicMaterial=fo,e.ParticleSystem=uo,e.ParticleSystemMaterial=mo,e.Path=Hi,e.PerspectiveCamera=Z,e.Plane=x,e.PlaneBufferGeometry=re,e.PlaneGeometry=ne,e.PlaneHelper=ro,e.PointCloud=lo,e.PointCloudMaterial=po,e.PointLight=Zi,e.PointLightHelper=ka,e.Points=vn,e.PointsMaterial=mn,e.PolarGridHelper=Za,e.PolyhedronBufferGeometry=En,e.PolyhedronGeometry=Tn,e.PositionalAudio=wa,e.PositionalAudioHelper=Ja,e.PropertyBinding=Ta,e.PropertyMixer=Ma,e.QuadraticBezierCurve=Bi,e.QuadraticBezierCurve3=Ui,e.Quaternion=r,e.QuaternionKeyframeTrack=ri,e.QuaternionLinearInterpolant=ni,e.REVISION="111dev",e.RGBADepthPacking=tl,e.RGBAFormat=fc,e.RGBA_ASTC_10x10_Format=Hc,e.RGBA_ASTC_10x5_Format=Uc,e.RGBA_ASTC_10x6_Format=Fc,e.RGBA_ASTC_10x8_Format=Gc,e.RGBA_ASTC_12x10_Format=Vc,e.RGBA_ASTC_12x12_Format=jc,e.RGBA_ASTC_4x4_Format=Pc,e.RGBA_ASTC_5x4_Format=Cc,e.RGBA_ASTC_5x5_Format=Oc,e.RGBA_ASTC_6x5_Format=Dc,e.RGBA_ASTC_6x6_Format=Ic,e.RGBA_ASTC_8x5_Format=Nc,e.RGBA_ASTC_8x6_Format=zc,e.RGBA_ASTC_8x8_Format=Bc,e.RGBA_PVRTC_2BPPV1_Format=Lc,e.RGBA_PVRTC_4BPPV1_Format=Ac,e.RGBA_S3TC_DXT1_Format=_c,e.RGBA_S3TC_DXT3_Format=Mc,e.RGBA_S3TC_DXT5_Format=Sc,e.RGBDEncoding=$c,e.RGBEEncoding=Zc,e.RGBEFormat=gc,e.RGBFormat=dc,e.RGBM16Encoding=Kc,e.RGBM7Encoding=Qc,e.RGB_ETC1_Format=Rc,e.RGB_PVRTC_2BPPV1_Format=Ec,e.RGB_PVRTC_4BPPV1_Format=Tc,e.RGB_S3TC_DXT1_Format=wc,e.RawShaderMaterial=Fr,e.Ray=y,e.Raycaster=Ca,e.RectAreaLight=ea,e.RectAreaLightHelper=Wa,e.RedFormat=bc,e.ReinhardToneMapping=Is,e.RepeatWrapping=Ws,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=ss,e.RingBufferGeometry=Tr,e.RingGeometry=Sr,e.Scene=f,e.SceneUtils=wd,e.ShaderChunk=ou,e.ShaderLib=cu,e.ShaderMaterial=X,e.ShadowMaterial=Ur,e.Shape=Vi,e.ShapeBufferGeometry=Rr,e.ShapeGeometry=Lr,e.ShapePath=sa,e.ShapeUtils=op,e.ShortType=nc,e.Skeleton=cn,e.SkeletonHelper=ja,e.SkinnedMesh=sn,e.SmoothShading=2,e.Sphere=g,e.SphereBufferGeometry=Mr,e.SphereGeometry=_r,e.Spherical=Ia,e.SphericalHarmonics3=da,e.SphericalReflectionMapping=Vs,e.Spline=Ro,e.SplineCurve=Fi,e.SplineCurve3=Lo,e.SpotLight=Xi,e.SpotLightHelper=Ha,e.SpotLightShadow=qi,e.Sprite=rn,e.SpriteMaterial=nn,e.SrcAlphaFactor=fs,e.SrcAlphaSaturateFactor=bs,e.SrcColorFactor=ps,e.StaticCopyUsage=35046,e.StaticDrawUsage=ol,e.StaticReadUsage=35045,e.StereoCamera=ga,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=ii,e.SubtractEquation=os,e.SubtractiveBlending=ns,e.TOUCH=Go,e.TangentSpaceNormalMap=nl,e.TetrahedronBufferGeometry=Ln,e.TetrahedronGeometry=An,e.TextBufferGeometry=wr,e.TextGeometry=br,e.Texture=o,e.TextureLoader=gi,e.TorusBufferGeometry=Gn,e.TorusGeometry=Fn,e.TorusKnotBufferGeometry=Un,e.TorusKnotGeometry=Bn,e.Triangle=b,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1;e.TrianglesDrawMode=0,e.TubeBufferGeometry=zn,e.TubeGeometry=Nn,e.UVMapping=300,e.Uint16Attribute=_o,e.Uint16BufferAttribute=D,e.Uint32Attribute=So,e.Uint32BufferAttribute=N,e.Uint8Attribute=xo,e.Uint8BufferAttribute=P,e.Uint8ClampedAttribute=bo,e.Uint8ClampedBufferAttribute=C,e.Uncharted2ToneMapping=Ns,e.Uniform=Ra,e.UniformsLib=su,e.UniformsUtils=$h,e.UnsignedByteType=ec,e.UnsignedInt248Type=uc,e.UnsignedIntType=ac,e.UnsignedShort4444Type=cc,e.UnsignedShort5551Type=lc,e.UnsignedShort565Type=hc,e.UnsignedShortType=rc,e.VSMShadowMap=qo,e.Vector2=n,e.Vector3=i,e.Vector4=s,e.VectorKeyframeTrack=ai,e.Vertex=vo,e.VertexColors=Ko,e.VertexNormalsHelper=Fa,e.VertexTangentsHelper=Ga,e.VideoTexture=yn,e.WebGLMultisampleRenderTarget=l,e.WebGLRenderTarget=c,e.WebGLRenderTargetCube=Q,e.WebGLRenderer=Qt,e.WebGLUtils=jt,e.WireframeGeometry=_n,e.WireframeHelper=Do,e.WrapAroundEnding=2402,e.XHRLoader=Io,e.ZeroCurvatureEnding=Wc,e.ZeroFactor=hs,e.ZeroSlopeEnding=2401,e.ZeroStencilOp=0,e.sRGBEncoding=Xc,Object.defineProperty(e,"__esModule",{value:!0})});
},{}],38:[function(_dereq_,module,exports){
/**
 * @author Don McCurdy / https://www.donmccurdy.com
 */

THREE.DRACOLoader = function ( manager ) {

	THREE.Loader.call( this, manager );

	this.decoderPath = '';
	this.decoderConfig = {};
	this.decoderBinary = null;
	this.decoderPending = null;

	this.workerLimit = 4;
	this.workerPool = [];
	this.workerNextTaskID = 1;
	this.workerSourceURL = '';

	this.defaultAttributeIDs = {
		position: 'POSITION',
		normal: 'NORMAL',
		color: 'COLOR',
		uv: 'TEX_COORD'
	};
	this.defaultAttributeTypes = {
		position: 'Float32Array',
		normal: 'Float32Array',
		color: 'Float32Array',
		uv: 'Float32Array'
	};

};

THREE.DRACOLoader.prototype = Object.assign( Object.create( THREE.Loader.prototype ), {

	constructor: THREE.DRACOLoader,

	setDecoderPath: function ( path ) {

		this.decoderPath = path;

		return this;

	},

	setDecoderConfig: function ( config ) {

		this.decoderConfig = config;

		return this;

	},

	setWorkerLimit: function ( workerLimit ) {

		this.workerLimit = workerLimit;

		return this;

	},

	/** @deprecated */
	setVerbosity: function () {

		console.warn( 'THREE.DRACOLoader: The .setVerbosity() method has been removed.' );

	},

	/** @deprecated */
	setDrawMode: function () {

		console.warn( 'THREE.DRACOLoader: The .setDrawMode() method has been removed.' );

	},

	/** @deprecated */
	setSkipDequantization: function () {

		console.warn( 'THREE.DRACOLoader: The .setSkipDequantization() method has been removed.' );

	},

	load: function ( url, onLoad, onProgress, onError ) {

		var loader = new THREE.FileLoader( this.manager );

		loader.setPath( this.path );
		loader.setResponseType( 'arraybuffer' );

		if ( this.crossOrigin === 'use-credentials' ) {

			loader.setWithCredentials( true );

		}

		loader.load( url, ( buffer ) => {

			var taskConfig = {
				attributeIDs: this.defaultAttributeIDs,
				attributeTypes: this.defaultAttributeTypes,
				useUniqueIDs: false
			};

			this.decodeGeometry( buffer, taskConfig )
				.then( onLoad )
				.catch( onError );

		}, onProgress, onError );

	},

	/** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */
	decodeDracoFile: function ( buffer, callback, attributeIDs, attributeTypes ) {

		var taskConfig = {
			attributeIDs: attributeIDs || this.defaultAttributeIDs,
			attributeTypes: attributeTypes || this.defaultAttributeTypes,
			useUniqueIDs: !! attributeIDs
		};

		this.decodeGeometry( buffer, taskConfig ).then( callback );

	},

	decodeGeometry: function ( buffer, taskConfig ) {

		var worker;
		var taskID = this.workerNextTaskID ++;
		var taskCost = buffer.byteLength;

		// TODO: For backward-compatibility, support 'attributeTypes' objects containing
		// references (rather than names) to typed array constructors. These must be
		// serialized before sending them to the worker.
		for ( var attribute in taskConfig.attributeTypes ) {

			var type = taskConfig.attributeTypes[ attribute ];

			if ( type.BYTES_PER_ELEMENT !== undefined ) {

				taskConfig.attributeTypes[ attribute ] = type.name;

			}

		}

		// Obtain a worker and assign a task, and construct a geometry instance
		// when the task completes.
		var geometryPending = this._getWorker( taskID, taskCost )
			.then( ( _worker ) => {

				worker = _worker;

				return new Promise( ( resolve, reject ) => {

					worker._callbacks[ taskID ] = { resolve, reject };

					worker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );

					// this.debug();

				} );

			} )
			.then( ( message ) => this._createGeometry( message.geometry ) );

		// Remove task from the task list.
		geometryPending
			.finally( () => {

				if ( worker && taskID ) {

					this._releaseTask( worker, taskID );

					// this.debug();

				}

			} );

		return geometryPending;

	},

	_createGeometry: function ( geometryData ) {

		var geometry = new THREE.BufferGeometry();

		if ( geometryData.index ) {

			geometry.setIndex( new THREE.BufferAttribute( geometryData.index.array, 1 ) );

		}

		for ( var i = 0; i < geometryData.attributes.length; i ++ ) {

			var attribute = geometryData.attributes[ i ];
			var name = attribute.name;
			var array = attribute.array;
			var itemSize = attribute.itemSize;

			geometry.setAttribute( name, new THREE.BufferAttribute( array, itemSize ) );

		}

		return geometry;

	},

	_loadLibrary: function ( url, responseType ) {

		var loader = new THREE.FileLoader( this.manager );
		loader.setPath( this.decoderPath );
		loader.setResponseType( responseType );

		return new Promise( ( resolve, reject ) => {

			loader.load( url, resolve, undefined, reject );

		} );

	},

	preload: function () {

		this._initDecoder();

		return this;

	},

	_initDecoder: function () {

		if ( this.decoderPending ) return this.decoderPending;

		var useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';
		var librariesPending = [];

		if ( useJS ) {

			librariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );

		} else {

			librariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );
			librariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );

		}

		this.decoderPending = Promise.all( librariesPending )
			.then( ( libraries ) => {

				var jsContent = libraries[ 0 ];

				if ( ! useJS ) {

					this.decoderConfig.wasmBinary = libraries[ 1 ];

				}

				var fn = THREE.DRACOLoader.DRACOWorker.toString();

				var body = [
					'/* draco decoder */',
					jsContent,
					'',
					'/* worker */',
					fn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )
				].join( '\n' );

				this.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );

			} );

		return this.decoderPending;

	},

	_getWorker: function ( taskID, taskCost ) {

		return this._initDecoder().then( () => {

			if ( this.workerPool.length < this.workerLimit ) {

				var worker = new Worker( this.workerSourceURL );

				worker._callbacks = {};
				worker._taskCosts = {};
				worker._taskLoad = 0;

				worker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );

				worker.onmessage = function ( e ) {

					var message = e.data;

					switch ( message.type ) {

						case 'decode':
							worker._callbacks[ message.id ].resolve( message );
							break;

						case 'error':
							worker._callbacks[ message.id ].reject( message );
							break;

						default:
							console.error( 'THREE.DRACOLoader: Unexpected message, "' + message.type + '"' );

					}

				};

				this.workerPool.push( worker );

			} else {

				this.workerPool.sort( function ( a, b ) {

					return a._taskLoad > b._taskLoad ? - 1 : 1;

				} );

			}

			var worker = this.workerPool[ this.workerPool.length - 1 ];
			worker._taskCosts[ taskID ] = taskCost;
			worker._taskLoad += taskCost;
			return worker;

		} );

	},

	_releaseTask: function ( worker, taskID ) {

		worker._taskLoad -= worker._taskCosts[ taskID ];
		delete worker._callbacks[ taskID ];
		delete worker._taskCosts[ taskID ];

	},

	debug: function () {

		console.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );

	},

	dispose: function () {

		for ( var i = 0; i < this.workerPool.length; ++ i ) {

			this.workerPool[ i ].terminate();

		}

		this.workerPool.length = 0;

		return this;

	}

} );

/* WEB WORKER */

THREE.DRACOLoader.DRACOWorker = function () {

	var decoderConfig;
	var decoderPending;

	onmessage = function ( e ) {

		var message = e.data;

		switch ( message.type ) {

			case 'init':
				decoderConfig = message.decoderConfig;
				decoderPending = new Promise( function ( resolve/*, reject*/ ) {

					decoderConfig.onModuleLoaded = function ( draco ) {

						// Module is Promise-like. Wrap before resolving to avoid loop.
						resolve( { draco: draco } );

					};

					DracoDecoderModule( decoderConfig );

				} );
				break;

			case 'decode':
				var buffer = message.buffer;
				var taskConfig = message.taskConfig;
				decoderPending.then( ( module ) => {

					var draco = module.draco;
					var decoder = new draco.Decoder();
					var decoderBuffer = new draco.DecoderBuffer();
					decoderBuffer.Init( new Int8Array( buffer ), buffer.byteLength );

					try {

						var geometry = decodeGeometry( draco, decoder, decoderBuffer, taskConfig );

						var buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );

						if ( geometry.index ) buffers.push( geometry.index.array.buffer );

						self.postMessage( { type: 'decode', id: message.id, geometry }, buffers );

					} catch ( error ) {

						console.error( error );

						self.postMessage( { type: 'error', id: message.id, error: error.message } );

					} finally {

						draco.destroy( decoderBuffer );
						draco.destroy( decoder );

					}

				} );
				break;

		}

	};

	function decodeGeometry( draco, decoder, decoderBuffer, taskConfig ) {

		var attributeIDs = taskConfig.attributeIDs;
		var attributeTypes = taskConfig.attributeTypes;

		var dracoGeometry;
		var decodingStatus;

		var geometryType = decoder.GetEncodedGeometryType( decoderBuffer );

		if ( geometryType === draco.TRIANGULAR_MESH ) {

			dracoGeometry = new draco.Mesh();
			decodingStatus = decoder.DecodeBufferToMesh( decoderBuffer, dracoGeometry );

		} else if ( geometryType === draco.POINT_CLOUD ) {

			dracoGeometry = new draco.PointCloud();
			decodingStatus = decoder.DecodeBufferToPointCloud( decoderBuffer, dracoGeometry );

		} else {

			throw new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );

		}

		if ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {

			throw new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );

		}

		var geometry = { index: null, attributes: [] };

		// Gather all vertex attributes.
		for ( var attributeName in attributeIDs ) {

			var attributeType = self[ attributeTypes[ attributeName ] ];

			var attribute;
			var attributeID;

			// A Draco file may be created with default vertex attributes, whose attribute IDs
			// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,
			// a Draco file may contain a custom set of attributes, identified by known unique
			// IDs. glTF files always do the latter, and `.drc` files typically do the former.
			if ( taskConfig.useUniqueIDs ) {

				attributeID = attributeIDs[ attributeName ];
				attribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );

			} else {

				attributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );

				if ( attributeID === - 1 ) continue;

				attribute = decoder.GetAttribute( dracoGeometry, attributeID );

			}

			geometry.attributes.push( decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) );

		}

		// Add index.
		if ( geometryType === draco.TRIANGULAR_MESH ) {

			// Generate mesh faces.
			var numFaces = dracoGeometry.num_faces();
			var numIndices = numFaces * 3;
			var index = new Uint32Array( numIndices );
			var indexArray = new draco.DracoInt32Array();

			for ( var i = 0; i < numFaces; ++ i ) {

				decoder.GetFaceFromMesh( dracoGeometry, i, indexArray );

				for ( var j = 0; j < 3; ++ j ) {

					index[ i * 3 + j ] = indexArray.GetValue( j );

				}

			}

			geometry.index = { array: index, itemSize: 1 };

			draco.destroy( indexArray );

		}

		draco.destroy( dracoGeometry );

		return geometry;

	}

	function decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {

		var numComponents = attribute.num_components();
		var numPoints = dracoGeometry.num_points();
		var numValues = numPoints * numComponents;
		var dracoArray;

		var array;

		switch ( attributeType ) {

			case Float32Array:
				dracoArray = new draco.DracoFloat32Array();
				decoder.GetAttributeFloatForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Float32Array( numValues );
				break;

			case Int8Array:
				dracoArray = new draco.DracoInt8Array();
				decoder.GetAttributeInt8ForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Int8Array( numValues );
				break;

			case Int16Array:
				dracoArray = new draco.DracoInt16Array();
				decoder.GetAttributeInt16ForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Int16Array( numValues );
				break;

			case Int32Array:
				dracoArray = new draco.DracoInt32Array();
				decoder.GetAttributeInt32ForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Int32Array( numValues );
				break;

			case Uint8Array:
				dracoArray = new draco.DracoUInt8Array();
				decoder.GetAttributeUInt8ForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Uint8Array( numValues );
				break;

			case Uint16Array:
				dracoArray = new draco.DracoUInt16Array();
				decoder.GetAttributeUInt16ForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Uint16Array( numValues );
				break;

			case Uint32Array:
				dracoArray = new draco.DracoUInt32Array();
				decoder.GetAttributeUInt32ForAllPoints( dracoGeometry, attribute, dracoArray );
				array = new Uint32Array( numValues );
				break;

			default:
				throw new Error( 'THREE.DRACOLoader: Unexpected attribute type.' );

		}

		for ( var i = 0; i < numValues; i ++ ) {

			array[ i ] = dracoArray.GetValue( i );

		}

		draco.destroy( dracoArray );

		return {
			name: attributeName,
			array: array,
			itemSize: numComponents
		};

	}

};

/** Deprecated static methods */

/** @deprecated */
THREE.DRACOLoader.setDecoderPath = function () {

	console.warn( 'THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.' );

};

/** @deprecated */
THREE.DRACOLoader.setDecoderConfig = function () {

	console.warn( 'THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.' );

};

/** @deprecated */
THREE.DRACOLoader.releaseDecoderModule = function () {

	console.warn( 'THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.' );

};

/** @deprecated */
THREE.DRACOLoader.getDecoderModule = function () {

	console.warn( 'THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.' );

};

},{}],39:[function(_dereq_,module,exports){
THREE.GLTFLoader=function(){function e(e){THREE.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=y.MSFT_TEXTURE_DDS,this.ddsLoader=e}function a(e){this.name=y.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[y.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function n(){this.name=y.KHR_MATERIALS_UNLIT}function s(e){this.name=y.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,A);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==L)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,A),a=0;a<r.byteLength;){var n=r.getUint32(a,!0);a+=4;var s=r.getUint32(a,!0);if(a+=4,s===H.JSON){var i=new Uint8Array(e,A+a,n);this.content=THREE.LoaderUtils.decodeText(i)}else if(s===H.BIN){var o=A+a;this.body=e.slice(o,o+n)}a+=n}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function i(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=y.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function o(){this.name=y.KHR_TEXTURE_TRANSFORM}function l(){return{name:y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,t,r){var a=t.extensions[this.name],n=THREE.ShaderLib.standard,s=THREE.UniformsUtils.clone(n.uniforms),i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),o=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),p=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),c=n.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",p).replace("#include <lights_physical_fragment>",u);delete s.roughness,delete s.metalness,delete s.roughnessMap,delete s.metalnessMap,s.specular={value:(new THREE.Color).setHex(1118481)},s.glossiness={value:.5},s.specularMap={value:null},s.glossinessMap={value:null},e.vertexShader=n.vertexShader,e.fragmentShader=c,e.uniforms=s,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;var d=[];if(Array.isArray(a.diffuseFactor)){var h=a.diffuseFactor;e.color.fromArray(h),e.opacity=h[3]}if(void 0!==a.diffuseTexture&&d.push(r.assignTexture(e,"map",a.diffuseTexture)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==a.glossinessFactor?a.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(a.specularFactor)&&e.specular.fromArray(a.specularFactor),void 0!==a.specularGlossinessTexture){var m=a.specularGlossinessTexture;d.push(r.assignTexture(e,"glossinessMap",m)),d.push(r.assignTexture(e,"specularMap",m))}return Promise.all(d)},createMaterial:function(e){var t=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var r=this.specularGlossinessParams,a=0,n=r.length;a<n;a++){var s=e[r[a]];t[r[a]]=s&&s.isColor?s.clone():s}return t},refreshUniforms:function(e,t,r,a,n){if(!0===n.isGLTFSpecularGlossinessMaterial){var s=n.uniforms,i=n.defines;s.opacity.value=n.opacity,s.diffuse.value.copy(n.color),s.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),s.map.value=n.map,s.specularMap.value=n.specularMap,s.alphaMap.value=n.alphaMap,s.lightMap.value=n.lightMap,s.lightMapIntensity.value=n.lightMapIntensity,s.aoMap.value=n.aoMap,s.aoMapIntensity.value=n.aoMapIntensity;var o;n.map?o=n.map:n.specularMap?o=n.specularMap:n.displacementMap?o=n.displacementMap:n.normalMap?o=n.normalMap:n.bumpMap?o=n.bumpMap:n.glossinessMap?o=n.glossinessMap:n.alphaMap?o=n.alphaMap:n.emissiveMap&&(o=n.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),s.uvTransform.value.copy(o.matrix)),n.envMap&&(s.envMap.value=n.envMap,s.envMapIntensity.value=n.envMapIntensity,s.flipEnvMap.value=n.envMap.isCubeTexture?-1:1,s.reflectivity.value=n.reflectivity,s.refractionRatio.value=n.refractionRatio,s.maxMipLevel.value=e.properties.get(n.envMap).__maxMipLevel),s.specular.value.copy(n.specular),s.glossiness.value=n.glossiness,s.glossinessMap.value=n.glossinessMap,s.emissiveMap.value=n.emissiveMap,s.bumpMap.value=n.bumpMap,s.normalMap.value=n.normalMap,s.displacementMap.value=n.displacementMap,s.displacementScale.value=n.displacementScale,s.displacementBias.value=n.displacementBias,null!==s.glossinessMap.value&&void 0===i.USE_GLOSSINESSMAP&&(i.USE_GLOSSINESSMAP="",i.USE_ROUGHNESSMAP=""),null===s.glossinessMap.value&&void 0!==i.USE_GLOSSINESSMAP&&(delete i.USE_GLOSSINESSMAP,delete i.USE_ROUGHNESSMAP)}}}}function p(){this.name=y.KHR_MESH_QUANTIZATION}function u(e,t,r,a){THREE.Interpolant.call(this,e,t,r,a)}function c(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e)}function d(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide})),e.DefaultMaterial}function h(e,t,r){for(var a in r.extensions)void 0===e[a]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=r.extensions[a])}function m(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function f(e,t,r){for(var a=!1,n=!1,s=0,i=t.length;s<i;s++){var o=t[s];if(void 0!==o.POSITION&&(a=!0),void 0!==o.NORMAL&&(n=!0),a&&n)break}if(!a&&!n)return Promise.resolve(e);for(var l=[],p=[],s=0,i=t.length;s<i;s++){var o=t[s];if(a){var u=void 0!==o.POSITION?r.getDependency("accessor",o.POSITION):e.attributes.position;l.push(u)}if(n){var u=void 0!==o.NORMAL?r.getDependency("accessor",o.NORMAL):e.attributes.normal;p.push(u)}}return Promise.all([Promise.all(l),Promise.all(p)]).then(function(t){var r=t[0],s=t[1];return a&&(e.morphAttributes.position=r),n&&(e.morphAttributes.normal=s),e.morphTargetsRelative=!0,e})}function E(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,a=t.weights.length;r<a;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(var r=0,a=n.length;r<a;r++)e.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function v(e){var t=e.extensions&&e.extensions[y.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+T(t.attributes):e.indices+":"+T(e.attributes)+":"+e.mode}function T(e){for(var t="",r=Object.keys(e).sort(),a=0,n=r.length;a<n;a++)t+=r[a]+":"+e[r[a]]+";";return t}function g(e,r,a){this.json=e||{},this.extensions=r||{},this.options=a||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function R(e,t,r){var a=t.attributes,n=new THREE.Box3;if(void 0!==a.POSITION){var s=r.json.accessors[a.POSITION],i=s.min,o=s.max;n.set(new THREE.Vector3(i[0],i[1],i[2]),new THREE.Vector3(o[0],o[1],o[2]));var l=t.targets;if(void 0!==l)for(var p=new THREE.Vector3,u=0,c=l.length;u<c;u++){var d=l[u];if(void 0!==d.POSITION){var s=r.json.accessors[d.POSITION],i=s.min,o=s.max;p.setX(Math.max(Math.abs(i[0]),Math.abs(o[0]))),p.setY(Math.max(Math.abs(i[1]),Math.abs(o[1]))),p.setZ(Math.max(Math.abs(i[2]),Math.abs(o[2]))),n.expandByVector(p)}}e.boundingBox=n;var h=new THREE.Sphere;n.getCenter(h.center),h.radius=n.min.distanceTo(n.max)/2,e.boundingSphere=h}}function M(e,t,r){var a=t.attributes,n=[];for(var s in a){var i=P[s]||s.toLowerCase();i in e.attributes||n.push(function(t,a){return r.getDependency("accessor",t).then(function(t){e.setAttribute(a,t)})}(a[s],i))}if(void 0!==t.indices&&!e.index){var o=r.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});n.push(o)}return m(e,t),R(e,t,r),Promise.all(n).then(function(){return void 0!==t.targets?f(e,t.targets,r):e})}function S(e,t){var r=e.getIndex();if(null===r){var a=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var s=0;s<n.count;s++)a.push(s);e.setIndex(a),r=e.getIndex()}var i=r.count-2,o=[];if(t===THREE.TriangleFanDrawMode)for(var s=1;s<=i;s++)o.push(r.getX(0)),o.push(r.getX(s)),o.push(r.getX(s+1));else for(var s=0;s<i;s++)s%2==0?(o.push(r.getX(s)),o.push(r.getX(s+1)),o.push(r.getX(s+2))):(o.push(r.getX(s+2)),o.push(r.getX(s+1)),o.push(r.getX(s)));o.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=e.clone();return l.setIndex(o),l}e.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:e,load:function(e,t,r,a){var n,s=this;n=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),s.manager.itemStart(e);var i=function(t){a?a(t):console.error(t),s.manager.itemError(e),s.manager.itemEnd(e)},o=new THREE.FileLoader(s.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===s.crossOrigin&&o.setWithCredentials(!0),o.load(e,function(r){try{s.parse(r,n,function(r){t(r),s.manager.itemEnd(e)},i)}catch(e){i(e)}},r,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,u,c){var d,h={};if("string"==typeof e)d=e;else{if(THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4))===L){try{h[y.KHR_BINARY_GLTF]=new s(e)}catch(e){return void(c&&c(e))}d=h[y.KHR_BINARY_GLTF].content}else d=THREE.LoaderUtils.decodeText(new Uint8Array(e))}var m=JSON.parse(d);if(void 0===m.asset||m.asset.version[0]<2)return void(c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));if(m.extensionsUsed)for(var f=0;f<m.extensionsUsed.length;++f){var E=m.extensionsUsed[f],v=m.extensionsRequired||[];switch(E){case y.KHR_LIGHTS_PUNCTUAL:h[E]=new a(m);break;case y.KHR_MATERIALS_UNLIT:h[E]=new n;break;case y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:h[E]=new l;break;case y.KHR_DRACO_MESH_COMPRESSION:h[E]=new i(m,this.dracoLoader);break;case y.MSFT_TEXTURE_DDS:h[E]=new r(this.ddsLoader);break;case y.KHR_TEXTURE_TRANSFORM:h[E]=new o;break;case y.KHR_MESH_QUANTIZATION:h[E]=new p;break;default:v.indexOf(E)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+E+'".')}}new g(m,h,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(u,c)}});var y={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};a.prototype.loadLight=function(e){var t,r=this.lightDefs[e],a=new THREE.Color(16777215);void 0!==r.color&&a.fromArray(r.color);var n=void 0!==r.range?r.range:0;switch(r.type){case"directional":t=new THREE.DirectionalLight(a),t.target.position.set(0,0,-1),t.add(t.target);break;case"point":t=new THREE.PointLight(a),t.distance=n;break;case"spot":t=new THREE.SpotLight(a),t.distance=n,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,t.angle=r.spot.outerConeAngle,t.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+r.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==r.intensity&&(t.intensity=r.intensity),t.name=r.name||"light_"+e,Promise.resolve(t)},n.prototype.getMaterialType=function(){return THREE.MeshBasicMaterial},n.prototype.extendParams=function(e,t,r){var a=[];e.color=new THREE.Color(1,1,1),e.opacity=1;var n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){var s=n.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}void 0!==n.baseColorTexture&&a.push(r.assignTexture(e,"map",n.baseColorTexture))}return Promise.all(a)};var L="glTF",A=12,H={JSON:1313821514,BIN:5130562};i.prototype.decodePrimitive=function(e,t){var r=this.json,a=this.dracoLoader,n=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,i={},o={},l={};for(var p in s){var u=P[p]||p.toLowerCase();i[u]=s[p]}for(p in e.attributes){var u=P[p]||p.toLowerCase();if(void 0!==s[p]){var c=r.accessors[e.attributes[p]],d=x[c.componentType];l[u]=d,o[u]=!0===c.normalized}}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t){a.decodeDracoFile(e,function(e){for(var r in e.attributes){var a=e.attributes[r],n=o[r];void 0!==n&&(a.normalized=n)}t(e)},i,l)})})},o.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},u.prototype=Object.create(THREE.Interpolant.prototype),u.prototype.constructor=u,u.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,n=e*a*3+a,s=0;s!==a;s++)t[s]=r[n+s];return t},u.prototype.beforeStart_=u.prototype.copySampleValue_,u.prototype.afterEnd_=u.prototype.copySampleValue_,u.prototype.interpolate_=function(e,t,r,a){for(var n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,o=2*i,l=3*i,p=a-t,u=(r-t)/p,c=u*u,d=c*u,h=e*l,m=h-l,f=-2*d+3*c,E=d-c,v=1-f,T=E-c+u,g=0;g!==i;g++){var R=s[m+g+i],M=s[m+g+o]*p,S=s[h+g+i],y=s[h+g]*p;n[g]=v*R+T*M+f*S+E*y}return n};var _={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},x={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},w={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipmapNearestFilter,9985:THREE.LinearMipmapNearestFilter,9986:THREE.NearestMipmapLinearFilter,9987:THREE.LinearMipmapLinearFilter},b={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},I={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},P={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},N={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},O={CUBICSPLINE:void 0,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},U={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},F={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};return g.prototype.parse=function(e,t){var r=this,a=this.json,n=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(t){var s={scene:t[0][a.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:a.asset,parser:r,userData:{}};h(n,s,a),m(s,a),e(s)}).catch(t)},g.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],a={},n={},s=0,i=t.length;s<i;s++)for(var o=t[s].joints,l=0,p=o.length;l<p;l++)e[o[l]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var d=e[u];void 0!==d.mesh&&(void 0===a[d.mesh]&&(a[d.mesh]=n[d.mesh]=0),a[d.mesh]++,void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=a,this.json.meshUses=n},g.prototype.getDependency=function(e,t){var r=e+":"+t,a=this.cache.get(r);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this.loadNode(t);break;case"mesh":a=this.loadMesh(t);break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this.loadBufferView(t);break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this.loadMaterial(t);break;case"texture":a=this.loadTexture(t);break;case"skin":a=this.loadSkin(t);break;case"animation":a=this.loadAnimation(t);break;case"camera":a=this.loadCamera(t);break;case"light":a=this.extensions[y.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,a)}return a},g.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,a=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(a.map(function(t,a){return r.getDependency(e,a)})),this.cache.add(e,t)}return t},g.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[y.KHR_BINARY_GLTF].body);var a=this.options;return new Promise(function(e,n){r.load(c(t.uri,a.path),e,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},g.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var r=t.byteLength||0,a=t.byteOffset||0;return e.slice(a,a+r)})},g.prototype.loadAccessor=function(e){var t=this,r=this.json,a=this.json.accessors[e];if(void 0===a.bufferView&&void 0===a.sparse)return Promise.resolve(null);var n=[];return void 0!==a.bufferView?n.push(this.getDependency("bufferView",a.bufferView)):n.push(null),void 0!==a.sparse&&(n.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(n).then(function(e){var n,s,i=e[0],o=I[a.type],l=x[a.componentType],p=l.BYTES_PER_ELEMENT,u=p*o,c=a.byteOffset||0,d=void 0!==a.bufferView?r.bufferViews[a.bufferView].byteStride:void 0,h=!0===a.normalized;if(d&&d!==u){var m=Math.floor(c/d),f="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+m+":"+a.count,E=t.cache.get(f);E||(n=new l(i,m*d,a.count*d/p),E=new THREE.InterleavedBuffer(n,d/p),t.cache.add(f,E)),s=new THREE.InterleavedBufferAttribute(E,o,c%d/p,h)}else n=null===i?new l(a.count*o):new l(i,c,a.count*o),s=new THREE.BufferAttribute(n,o,h);if(void 0!==a.sparse){var v=I.SCALAR,T=x[a.sparse.indices.componentType],g=a.sparse.indices.byteOffset||0,R=a.sparse.values.byteOffset||0,M=new T(e[1],g,a.sparse.count*v),S=new l(e[2],R,a.sparse.count*o);null!==i&&(s=new THREE.BufferAttribute(s.array.slice(),s.itemSize,s.normalized));for(var y=0,L=M.length;y<L;y++){var A=M[y];if(s.setX(A,S[y*o]),o>=2&&s.setY(A,S[y*o+1]),o>=3&&s.setZ(A,S[y*o+2]),o>=4&&s.setW(A,S[y*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return s})},g.prototype.loadTexture=function(e){var t,r=this,a=this.json,n=this.options,s=this.textureLoader,i=window.URL||window.webkitURL,o=a.textures[e],l=o.extensions||{};t=l[y.MSFT_TEXTURE_DDS]?a.images[l[y.MSFT_TEXTURE_DDS].source]:a.images[o.source];var p=t.uri,u=!1;return void 0!==t.bufferView&&(p=r.getDependency("bufferView",t.bufferView).then(function(e){u=!0;var r=new Blob([e],{type:t.mimeType});return p=i.createObjectURL(r)})),Promise.resolve(p).then(function(e){var t=n.manager.getHandler(e);return t||(t=l[y.MSFT_TEXTURE_DDS]?r.extensions[y.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise(function(r,a){t.load(c(e,n.path),r,void 0,a)})}).then(function(e){!0===u&&i.revokeObjectURL(p),e.flipY=!1,void 0!==o.name&&(e.name=o.name),t.mimeType in F&&(e.format=F[t.mimeType]);var r=a.samplers||{},n=r[o.sampler]||{};return e.magFilter=w[n.magFilter]||THREE.LinearFilter,e.minFilter=w[n.minFilter]||THREE.LinearMipmapLinearFilter,e.wrapS=b[n.wrapS]||THREE.RepeatWrapping,e.wrapT=b[n.wrapT]||THREE.RepeatWrapping,e})},g.prototype.assignTexture=function(e,t,r){var a=this;return this.getDependency("texture",r.index).then(function(n){if(!n.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":n.format=THREE.RGBFormat}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[y.KHR_TEXTURE_TRANSFORM]){var s=void 0!==r.extensions?r.extensions[y.KHR_TEXTURE_TRANSFORM]:void 0;s&&(n=a.extensions[y.KHR_TEXTURE_TRANSFORM].extendTexture(n,s))}e[t]=n})},g.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,a=this.extensions,n=void 0!==t.attributes.tangent,s=void 0!==t.attributes.color,i=void 0===t.attributes.normal,o=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,p=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+r.uuid,c=this.cache.get(u);c||(c=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(u,c)),r=c}else if(e.isLine){var u="LineBasicMaterial:"+r.uuid,d=this.cache.get(u);d||(d=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(d,r),d.color.copy(r.color),this.cache.add(u,d)),r=d}if(n||s||i||o||l){var u="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),o&&(u+="skinning:"),n&&(u+="vertex-tangents:"),s&&(u+="vertex-colors:"),i&&(u+="flat-shading:"),l&&(u+="morph-targets:"),p&&(u+="morph-normals:");var h=this.cache.get(u);h||(h=r.isGLTFSpecularGlossinessMaterial?a[y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(r):r.clone(),o&&(h.skinning=!0),n&&(h.vertexTangents=!0),s&&(h.vertexColors=THREE.VertexColors),i&&(h.flatShading=!0),l&&(h.morphTargets=!0),p&&(h.morphNormals=!0),this.cache.add(u,h)),r=h}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",new THREE.BufferAttribute(t.attributes.uv.array,2)),r.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=a[y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=r},g.prototype.loadMaterial=function(e){var t,r=this,a=this.json,n=this.extensions,s=a.materials[e],i={},o=s.extensions||{},l=[];if(o[y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var p=n[y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=p.getMaterialType(),l.push(p.extendParams(i,s,r))}else if(o[y.KHR_MATERIALS_UNLIT]){var u=n[y.KHR_MATERIALS_UNLIT];t=u.getMaterialType(),l.push(u.extendParams(i,s,r))}else{t=THREE.MeshStandardMaterial;var c=s.pbrMetallicRoughness||{};if(i.color=new THREE.Color(1,1,1),i.opacity=1,Array.isArray(c.baseColorFactor)){var d=c.baseColorFactor;i.color.fromArray(d),i.opacity=d[3]}void 0!==c.baseColorTexture&&l.push(r.assignTexture(i,"map",c.baseColorTexture)),i.metalness=void 0!==c.metallicFactor?c.metallicFactor:1,i.roughness=void 0!==c.roughnessFactor?c.roughnessFactor:1,void 0!==c.metallicRoughnessTexture&&(l.push(r.assignTexture(i,"metalnessMap",c.metallicRoughnessTexture)),l.push(r.assignTexture(i,"roughnessMap",c.metallicRoughnessTexture)))}!0===s.doubleSided&&(i.side=THREE.DoubleSide);var f=s.alphaMode||U.OPAQUE;return f===U.BLEND?i.transparent=!0:(i.transparent=!1,f===U.MASK&&(i.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&t!==THREE.MeshBasicMaterial&&(l.push(r.assignTexture(i,"normalMap",s.normalTexture)),i.normalScale=new THREE.Vector2(1,1),void 0!==s.normalTexture.scale&&i.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&t!==THREE.MeshBasicMaterial&&(l.push(r.assignTexture(i,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(i.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&t!==THREE.MeshBasicMaterial&&(i.emissive=(new THREE.Color).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&t!==THREE.MeshBasicMaterial&&l.push(r.assignTexture(i,"emissiveMap",s.emissiveTexture)),Promise.all(l).then(function(){var e;return e=t===THREE.ShaderMaterial?n[y.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(i):new t(i),void 0!==s.name&&(e.name=s.name),e.map&&(e.map.encoding=THREE.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=THREE.sRGBEncoding),e.specularMap&&(e.specularMap.encoding=THREE.sRGBEncoding),m(e,s),s.extensions&&h(n,e,s),e})},g.prototype.loadGeometries=function(e){for(var t=this,r=this.extensions,a=this.primitiveCache,n=[],s=0,i=e.length;s<i;s++){var o=e[s],l=v(o),p=a[l];if(p)n.push(p.promise);else{var u;u=o.extensions&&o.extensions[y.KHR_DRACO_MESH_COMPRESSION]?function(e){return r[y.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(r){return M(r,e,t)})}(o):M(new THREE.BufferGeometry,o,t),a[l]={primitive:o,promise:u},n.push(u)}}return Promise.all(n)},g.prototype.loadMesh=function(e){for(var t=this,r=this.json,a=r.meshes[e],n=a.primitives,s=[],i=0,o=n.length;i<o;i++){var l=void 0===n[i].material?d(this.cache):this.getDependency("material",n[i].material);s.push(l)}return Promise.all(s).then(function(r){return t.loadGeometries(n).then(function(s){for(var i=[],o=0,l=s.length;o<l;o++){var p,u=s[o],c=n[o],d=r[o];if(c.mode===_.TRIANGLES||c.mode===_.TRIANGLE_STRIP||c.mode===_.TRIANGLE_FAN||void 0===c.mode)p=!0===a.isSkinnedMesh?new THREE.SkinnedMesh(u,d):new THREE.Mesh(u,d),!0!==p.isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),c.mode===_.TRIANGLE_STRIP?p.geometry=S(p.geometry,THREE.TriangleStripDrawMode):c.mode===_.TRIANGLE_FAN&&(p.geometry=S(p.geometry,THREE.TriangleFanDrawMode));else if(c.mode===_.LINES)p=new THREE.LineSegments(u,d);else if(c.mode===_.LINE_STRIP)p=new THREE.Line(u,d);else if(c.mode===_.LINE_LOOP)p=new THREE.LineLoop(u,d);else{if(c.mode!==_.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);p=new THREE.Points(u,d)}Object.keys(p.geometry.morphAttributes).length>0&&E(p,a),p.name=a.name||"mesh_"+e,s.length>1&&(p.name+="_"+o),m(p,a),t.assignFinalMaterial(p),i.push(p)}if(1===i.length)return i[0];for(var h=new THREE.Group,o=0,l=i.length;o<l;o++)h.add(i[o]);return h})})},g.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],a=r[r.type];return a?("perspective"===r.type?t=new THREE.PerspectiveCamera(THREE.Math.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):"orthographic"===r.type&&(t=new THREE.OrthographicCamera(a.xmag/-2,a.xmag/2,a.ymag/2,a.ymag/-2,a.znear,a.zfar)),void 0!==r.name&&(t.name=r.name),m(t,r),Promise.resolve(t)):void console.warn("THREE.GLTFLoader: Missing camera parameters.")},g.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return r.inverseBindMatrices=e,r})},g.prototype.loadAnimation=function(e){for(var t=this.json,r=t.animations[e],a=[],n=[],s=[],i=[],o=[],l=0,p=r.channels.length;l<p;l++){var c=r.channels[l],d=r.samplers[c.sampler],h=c.target,m=void 0!==h.node?h.node:h.id,f=void 0!==r.parameters?r.parameters[d.input]:d.input,E=void 0!==r.parameters?r.parameters[d.output]:d.output;a.push(this.getDependency("node",m)),n.push(this.getDependency("accessor",f)),s.push(this.getDependency("accessor",E)),i.push(d),o.push(h)}return Promise.all([Promise.all(a),Promise.all(n),Promise.all(s),Promise.all(i),Promise.all(o)]).then(function(t){for(var a=t[0],n=t[1],s=t[2],i=t[3],o=t[4],l=[],p=0,c=a.length;p<c;p++){var d=a[p],h=n[p],m=s[p],f=i[p],E=o[p];if(void 0!==d){d.updateMatrix(),d.matrixAutoUpdate=!0;var v;switch(N[E.path]){case N.weights:v=THREE.NumberKeyframeTrack;break;case N.rotation:v=THREE.QuaternionKeyframeTrack;break;case N.position:case N.scale:default:v=THREE.VectorKeyframeTrack}var T=d.name?d.name:d.uuid,g=void 0!==f.interpolation?O[f.interpolation]:THREE.InterpolateLinear,R=[];N[E.path]===N.weights?d.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&R.push(e.name?e.name:e.uuid)}):R.push(T);var M=m.array;if(m.normalized){var S;if(M.constructor===Int8Array)S=1/127;else if(M.constructor===Uint8Array)S=1/255;else if(M.constructor==Int16Array)S=1/32767;else{if(M.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");S=1/65535}for(var y=new Float32Array(M.length),L=0,A=M.length;L<A;L++)y[L]=M[L]*S;M=y}for(var L=0,A=R.length;L<A;L++){var H=new v(R[L]+"."+N[E.path],h.array,M,g);"CUBICSPLINE"===f.interpolation&&(H.createInterpolant=function(e){return new u(this.times,this.values,this.getValueSize()/3,e)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(H)}}}var _=void 0!==r.name?r.name:"animation_"+e;return new THREE.AnimationClip(_,void 0,l)})},g.prototype.loadNode=function(e){var t=this.json,r=this.extensions,a=this,n=t.meshReferences,s=t.meshUses,i=t.nodes[e];return function(){var e=[];return void 0!==i.mesh&&e.push(a.getDependency("mesh",i.mesh).then(function(e){var t;if(n[i.mesh]>1){var r=s[i.mesh]++;t=e.clone(),t.name+="_instance_"+r,
t.onBeforeRender=e.onBeforeRender;for(var a=0,o=t.children.length;a<o;a++)t.children[a].name+="_instance_"+r,t.children[a].onBeforeRender=e.children[a].onBeforeRender}else t=e;return void 0!==i.weights&&t.traverse(function(e){if(e.isMesh)for(var t=0,r=i.weights.length;t<r;t++)e.morphTargetInfluences[t]=i.weights[t]}),t})),void 0!==i.camera&&e.push(a.getDependency("camera",i.camera)),i.extensions&&i.extensions[y.KHR_LIGHTS_PUNCTUAL]&&void 0!==i.extensions[y.KHR_LIGHTS_PUNCTUAL].light&&e.push(a.getDependency("light",i.extensions[y.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(e)}().then(function(e){var t;if((t=!0===i.isBone?new THREE.Bone:e.length>1?new THREE.Group:1===e.length?e[0]:new THREE.Object3D)!==e[0])for(var a=0,n=e.length;a<n;a++)t.add(e[a]);if(void 0!==i.name&&(t.userData.name=i.name,t.name=THREE.PropertyBinding.sanitizeNodeName(i.name)),m(t,i),i.extensions&&h(r,t,i),void 0!==i.matrix){var s=new THREE.Matrix4;s.fromArray(i.matrix),t.applyMatrix(s)}else void 0!==i.translation&&t.position.fromArray(i.translation),void 0!==i.rotation&&t.quaternion.fromArray(i.rotation),void 0!==i.scale&&t.scale.fromArray(i.scale);return t})},g.prototype.loadScene=function(){function e(t,r,a,n){var s=a.nodes[t];return n.getDependency("node",t).then(function(e){if(void 0===s.skin)return e;var t;return n.getDependency("skin",s.skin).then(function(e){t=e;for(var r=[],a=0,s=t.joints.length;a<s;a++)r.push(n.getDependency("node",t.joints[a]));return Promise.all(r)}).then(function(r){return e.traverse(function(e){if(e.isMesh){for(var a=[],n=[],s=0,i=r.length;s<i;s++){var o=r[s];if(o){a.push(o);var l=new THREE.Matrix4;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*s),n.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[s])}e.bind(new THREE.Skeleton(a,n),e.matrixWorld)}}),e})}).then(function(t){r.add(t);var i=[];if(s.children)for(var o=s.children,l=0,p=o.length;l<p;l++){var u=o[l];i.push(e(u,t,a,n))}return Promise.all(i)})}return function(t){var r=this.json,a=this.extensions,n=this.json.scenes[t],s=this,i=new THREE.Scene;void 0!==n.name&&(i.name=n.name),m(i,n),n.extensions&&h(a,i,n);for(var o=n.nodes||[],l=[],p=0,u=o.length;p<u;p++)l.push(e(o[p],i,r,s));return Promise.all(l).then(function(){return i})}}(),e}();
},{}],40:[function(_dereq_,module,exports){
THREE.MTLLoader=function(a){THREE.Loader.call(this,a)},THREE.MTLLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.MTLLoader,load:function(a,t,r,e){var s=this,i=""===this.path?THREE.LoaderUtils.extractUrlBase(a):this.path,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.load(a,function(a){t(s.parse(a,i))},r,e)},setMaterialOptions:function(a){return this.materialOptions=a,this},parse:function(a,t){for(var r=a.split("\n"),e={},s=/\s+/,i={},o=0;o<r.length;o++){var n=r[o];if(n=n.trim(),0!==n.length&&"#"!==n.charAt(0)){var p=n.indexOf(" "),l=p>=0?n.substring(0,p):n;l=l.toLowerCase();var c=p>=0?n.substring(p+1):"";if(c=c.trim(),"newmtl"===l)e={name:c},i[c]=e;else if("ka"===l||"kd"===l||"ks"===l||"ke"===l){var h=c.split(s,3);e[l]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else e[l]=c}}var u=new THREE.MTLLoader.MaterialCreator(this.resourcePath||t,this.materialOptions);return u.setCrossOrigin(this.crossOrigin),u.setManager(this.manager),u.setMaterials(i),u}}),THREE.MTLLoader.MaterialCreator=function(a,t){this.baseUrl=a||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(a){return this.crossOrigin=a,this},setManager:function(a){this.manager=a},setMaterials:function(a){this.materialsInfo=this.convert(a),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(a){if(!this.options)return a;var t={};for(var r in a){var e=a[r],s={};t[r]=s;for(var i in e){var o=!0,n=e[i],p=i.toLowerCase();switch(p){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(o=!1)}o&&(s[p]=n)}}return t},preload:function(){for(var a in this.materialsInfo)this.create(a)},getIndex:function(a){return this.nameLookup[a]},getAsArray:function(){var a=0;for(var t in this.materialsInfo)this.materialsArray[a]=this.create(t),this.nameLookup[t]=a,a++;return this.materialsArray},create:function(a){return void 0===this.materials[a]&&this.createMaterial_(a),this.materials[a]},createMaterial_:function(a){function t(a,t){return"string"!=typeof t||""===t?"":/^https?:\/\//i.test(t)?t:a+t}function r(a,r){if(!i[a]){var s=e.getTextureParams(r,i),o=e.loadTexture(t(e.baseUrl,s.url));o.repeat.copy(s.scale),o.offset.copy(s.offset),o.wrapS=e.wrap,o.wrapT=e.wrap,i[a]=o}}var e=this,s=this.materialsInfo[a],i={name:a,side:this.side};for(var o in s){var n,p=s[o];if(""!==p)switch(o.toLowerCase()){case"kd":i.color=(new THREE.Color).fromArray(p);break;case"ks":i.specular=(new THREE.Color).fromArray(p);break;case"ke":i.emissive=(new THREE.Color).fromArray(p);break;case"map_kd":r("map",p);break;case"map_ks":r("specularMap",p);break;case"map_ke":r("emissiveMap",p);break;case"norm":r("normalMap",p);break;case"map_bump":case"bump":r("bumpMap",p);break;case"map_d":r("alphaMap",p),i.transparent=!0;break;case"ns":i.shininess=parseFloat(p);break;case"d":n=parseFloat(p),n<1&&(i.opacity=n,i.transparent=!0);break;case"tr":n=parseFloat(p),this.options&&this.options.invertTrProperty&&(n=1-n),n>0&&(i.opacity=1-n,i.transparent=!0)}}return this.materials[a]=new THREE.MeshPhongMaterial(i),this.materials[a]},getTextureParams:function(a,t){var r,e={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},s=a.split(/\s+/);return r=s.indexOf("-bm"),r>=0&&(t.bumpScale=parseFloat(s[r+1]),s.splice(r,2)),r=s.indexOf("-s"),r>=0&&(e.scale.set(parseFloat(s[r+1]),parseFloat(s[r+2])),s.splice(r,4)),r=s.indexOf("-o"),r>=0&&(e.offset.set(parseFloat(s[r+1]),parseFloat(s[r+2])),s.splice(r,4)),e.url=s.join(" ").trim(),e},loadTexture:function(a,t,r,e,s){var i,o=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager,n=o.getHandler(a);return null===n&&(n=new THREE.TextureLoader(o)),n.setCrossOrigin&&n.setCrossOrigin(this.crossOrigin),i=n.load(a,r,e,s),void 0!==t&&(i.mapping=t),i}};
},{}],41:[function(_dereq_,module,exports){
THREE.OBJLoader=function(){function t(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var i={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},r&&r.name&&"function"==typeof r.clone){var i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseNormalIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseUVIndex:function(t,e){var r=parseInt(t,10);return 2*(r>=0?r-1:r+e/2)},addVertex:function(t,e,r){var i=this.vertices,s=this.object.geometry.vertices;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,r){var i=this.normals,s=this.object.geometry.normals;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[r+0],i[r+1],i[r+2])},addColor:function(t,e,r){var i=this.colors,s=this.object.geometry.colors;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[r+0],i[r+1],i[r+2])},addUV:function(t,e,r){var i=this.uvs,s=this.object.geometry.uvs;s.push(i[t+0],i[t+1]),s.push(i[e+0],i[e+1]),s.push(i[r+0],i[r+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,r,i,s,a,o,n,l){var h=this.vertices.length,c=this.parseVertexIndex(t,h),u=this.parseVertexIndex(e,h),p=this.parseVertexIndex(r,h);if(this.addVertex(c,u,p),this.colors.length>0&&this.addColor(c,u,p),void 0!==i&&""!==i){var m=this.uvs.length;c=this.parseUVIndex(i,m),u=this.parseUVIndex(s,m),p=this.parseUVIndex(a,m),this.addUV(c,u,p)}if(void 0!==o&&""!==o){var f=this.normals.length;c=this.parseNormalIndex(o,f),u=o===n?c:this.parseNormalIndex(n,f),p=o===l?c:this.parseNormalIndex(l,f),this.addNormal(c,u,p)}},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,r=0,i=t.length;r<i;r++)this.addVertexPoint(this.parseVertexIndex(t[r],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var r=this.vertices.length,i=this.uvs.length,s=0,a=t.length;s<a;s++)this.addVertexLine(this.parseVertexIndex(t[s],r));for(var o=0,a=e.length;o<a;o++)this.addUVLine(this.parseUVIndex(e[o],i))}};return t.startObject("",!1),t}function e(t){THREE.Loader.call(this,t),this.materials=null}var r=/^[og]\s*(.+)?/,i=/^mtllib /,s=/^usemtl /,a=/^usemap /;return e.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:e,load:function(t,e,r,i){var s=this,a=new THREE.FileLoader(s.manager);a.setPath(this.path),a.load(t,function(t){e(s.parse(t))},r,i)},setMaterials:function(t){return this.materials=t,this},parse:function(e){console.time("OBJLoader");var o=new t;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),l="",h="",c=[],u="function"==typeof"".trimLeft,p=0,m=n.length;p<m;p++)if(l=n[p],l=u?l.trimLeft():l.trim(),0!==l.length&&"#"!==(h=l.charAt(0)))if("v"===h){var f=l.split(/\s+/);switch(f[0]){case"v":o.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7&&o.colors.push(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6]));break;case"vn":o.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":o.uvs.push(parseFloat(f[1]),parseFloat(f[2]))}}else if("f"===h){for(var d=l.substr(1).trim(),v=d.split(/\s+/),g=[],b=0,E=v.length;b<E;b++){var j=v[b];if(j.length>0){var x=j.split("/");g.push(x)}}for(var y=g[0],b=1,E=g.length-1;b<E;b++){var T=g[b],L=g[b+1];o.addFace(y[0],T[0],L[0],y[1],T[1],L[1],y[2],T[2],L[2])}}else if("l"===h){var R=l.substring(1).trim().split(" "),H=[],w=[];if(-1===l.indexOf("/"))H=R;else for(var V=0,M=R.length;V<M;V++){var F=R[V].split("/");""!==F[0]&&H.push(F[0]),""!==F[1]&&w.push(F[1])}o.addLineGeometry(H,w)}else if("p"===h){var d=l.substr(1).trim(),I=d.split(" ");o.addPointGeometry(I)}else if(null!==(c=r.exec(l))){var A=(" "+c[0].substr(1).trim()).substr(1);o.startObject(A)}else if(s.test(l))o.object.startMaterial(l.substring(7).trim(),o.materialLibraries);else if(i.test(l))o.materialLibraries.push(l.substring(7).trim());else if(a.test(l))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else{if("s"!==h){if("\0"===l)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+l+'"')}if(c=l.split(" "),c.length>1){var B=c[1].trim().toLowerCase();o.object.smooth="0"!==B&&"off"!==B}else o.object.smooth=!0;var O=o.object.currentMaterial();O&&(O.smooth=o.object.smooth)}o.finalize();var P=new THREE.Group;P.materialLibraries=[].concat(o.materialLibraries);for(var p=0,m=o.objects.length;p<m;p++){var z=o.objects[p],C=z.geometry,U=z.materials,N="Line"===C.type,G="Points"===C.type,S=!1;if(0!==C.vertices.length){var _=new THREE.BufferGeometry;_.setAttribute("position",new THREE.Float32BufferAttribute(C.vertices,3)),C.normals.length>0?_.setAttribute("normal",new THREE.Float32BufferAttribute(C.normals,3)):_.computeVertexNormals(),C.colors.length>0&&(S=!0,_.setAttribute("color",new THREE.Float32BufferAttribute(C.colors,3))),C.uvs.length>0&&_.setAttribute("uv",new THREE.Float32BufferAttribute(C.uvs,2));for(var J=[],D=0,k=U.length;D<k;D++){var q=U[D],O=void 0;if(null!==this.materials)if(O=this.materials.create(q.name),!N||!O||O instanceof THREE.LineBasicMaterial){if(G&&O&&!(O instanceof THREE.PointsMaterial)){var K=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});THREE.Material.prototype.copy.call(K,O),K.color.copy(O.color),K.map=O.map,O=K}}else{var Q=new THREE.LineBasicMaterial;THREE.Material.prototype.copy.call(Q,O),Q.color.copy(O.color),O=Q}O||(O=N?new THREE.LineBasicMaterial:G?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial,O.name=q.name),O.flatShading=!q.smooth,O.vertexColors=S?THREE.VertexColors:THREE.NoColors,J.push(O)}var W;if(J.length>1){for(var D=0,k=U.length;D<k;D++){var q=U[D];_.addGroup(q.groupStart,q.groupCount,D)}W=N?new THREE.LineSegments(_,J):G?new THREE.Points(_,J):new THREE.Mesh(_,J)}else W=N?new THREE.LineSegments(_,J[0]):G?new THREE.Points(_,J[0]):new THREE.Mesh(_,J[0]);W.name=z.name,P.add(W)}}return console.timeEnd("OBJLoader"),P}}),e}();
},{}],42:[function(_dereq_,module,exports){
function TextGeometry(e){Base.call(this),"string"==typeof e&&(e={text:e}),this._opt=assign({},e),e&&this.update(e)}var createLayout=_dereq_("layout-bmfont-text"),inherits=_dereq_("inherits"),createIndices=_dereq_("quad-indices"),buffer=_dereq_("three-buffer-vertex-data"),assign=_dereq_("object-assign"),vertices=_dereq_("./lib/vertices"),utils=_dereq_("./lib/utils"),Base=THREE.BufferGeometry;module.exports=function(e){return new TextGeometry(e)},inherits(TextGeometry,Base),TextGeometry.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),e=assign({},this._opt,e),!e.font)throw new TypeError("must specify a { font } in options");this.layout=createLayout(e);var t=!1!==e.flipY,i=e.font,r=i.common.scaleW,o=i.common.scaleH,s=this.layout.glyphs.filter(function(e){var t=e.data;return t.width*t.height>0});this.visibleGlyphs=s;var n=vertices.positions(s),u=vertices.uvs(s,r,o,t),a=createIndices({clockwise:!0,type:"uint16",count:s.length});if(buffer.index(this,a,1,"uint16"),buffer.attr(this,"position",n,2),buffer.attr(this,"uv",u,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var h=vertices.pages(s);buffer.attr(this,"page",h,1)}},TextGeometry.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);utils.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},TextGeometry.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,i=this.attributes.position.itemSize;if(!t||!i||t.length<2)return void e.makeEmpty();utils.computeBox(t,e)};
},{"./lib/utils":43,"./lib/vertices":44,"inherits":19,"layout-bmfont-text":24,"object-assign":27,"quad-indices":35,"three-buffer-vertex-data":45}],43:[function(_dereq_,module,exports){
function bounds(x){var m=x.length/itemSize;box.min[0]=x[0],box.min[1]=x[1],box.max[0]=x[0],box.max[1]=x[1];for(var o=0;o<m;o++){var i=x[o*itemSize+0],a=x[o*itemSize+1];box.min[0]=Math.min(i,box.min[0]),box.min[1]=Math.min(a,box.min[1]),box.max[0]=Math.max(i,box.max[0]),box.max[1]=Math.max(a,box.max[1])}}var itemSize=2,box={min:[0,0],max:[0,0]};module.exports.computeBox=function(x,m){bounds(x),m.min.set(box.min[0],box.min[1],0),m.max.set(box.max[0],box.max[1],0)},module.exports.computeSphere=function(x,m){bounds(x);var o=box.min[0],i=box.min[1],a=box.max[0],n=box.max[1],b=a-o,e=n-i,t=Math.sqrt(b*b+e*e);m.center.set(o+b/2,i+e/2,0),m.radius=t/2};
},{}],44:[function(_dereq_,module,exports){
module.exports.pages=function(t){var o=new Float32Array(4*t.length*1),n=0;return t.forEach(function(t){var r=t.data.page||0;o[n++]=r,o[n++]=r,o[n++]=r,o[n++]=r}),o},module.exports.uvs=function(t,o,n,r){var a=new Float32Array(4*t.length*2),e=0;return t.forEach(function(t){var i=t.data,f=i.x+i.width,u=i.y+i.height,h=i.x/o,s=i.y/n,c=f/o,l=u/n;r&&(s=(n-i.y)/n,l=(n-u)/n),a[e++]=h,a[e++]=s,a[e++]=h,a[e++]=l,a[e++]=c,a[e++]=l,a[e++]=c,a[e++]=s}),a},module.exports.positions=function(t){var o=new Float32Array(4*t.length*2),n=0;return t.forEach(function(t){var r=t.data,a=t.position[0]+r.xoffset,e=t.position[1]+r.yoffset,i=r.width,f=r.height;o[n++]=a,o[n++]=e,o[n++]=a,o[n++]=e+f,o[n++]=a+i,o[n++]=e+f,o[n++]=a+i,o[n++]=e}),o};
},{}],45:[function(_dereq_,module,exports){
function setIndex(t,e,r,n){"number"!=typeof r&&(r=1),"string"!=typeof n&&(n="uint16");var i=!t.index&&"function"!=typeof t.setIndex,u=i?t.getAttribute("index"):t.index,a=updateAttribute(u,e,r,n);a&&(i?t.addAttribute("index",a):t.index=a)}function setAttribute(t,e,r,n,i){if("number"!=typeof n&&(n=3),"string"!=typeof i&&(i="float32"),Array.isArray(r)&&Array.isArray(r[0])&&r[0].length!==n)throw new Error("Nested vertex array has unexpected size; expected "+n+" but found "+r[0].length);var u=t.getAttribute(e),a=updateAttribute(u,r,n,i);t.setAttribute(e,a)}function updateAttribute(t,e,r,n){return e=e||[],e=flatten(e,n),t=new THREE.BufferAttribute(e,r),t.itemSize=r,t.needsUpdate=!0,t}function rebuildAttribute(t,e,r){if(t.itemSize!==r)return!0;if(!t.array)return!0;var n=t.array.length;return Array.isArray(e)&&Array.isArray(e[0])?n!==e.length*r:n!==e.length}var flatten=_dereq_("flatten-vertex-data"),warned=!1;module.exports.attr=setAttribute,module.exports.index=setIndex;
},{"flatten-vertex-data":15}],46:[function(_dereq_,module,exports){
(function (setImmediate,clearImmediate){
function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=_dereq_("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};
}).call(this,_dereq_("timers").setImmediate,_dereq_("timers").clearImmediate)

},{"process/browser.js":47,"timers":46}],47:[function(_dereq_,module,exports){
arguments[4][5][0].apply(exports,arguments)
},{"dup":5}],48:[function(_dereq_,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};
},{}],49:[function(_dereq_,module,exports){
(function (global){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.WebVRPolyfill=t()}(this,function(){"use strict";function e(e){this.config=n(n({},a),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&i())&&(this.enable(),this.getVRDisplays().then(function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()}))}var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},r=function(e,t){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]},n=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},A=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,i){!function(i,r){e.exports=function(){function e(e,t,i){if(!t)return void i(e);for(var r=[],n=null,A=0;A<t.length;++A){var s=t[A];switch(s){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var a=t[++A];if(a<e.TEXTURE0||a>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}n||(n=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(a),r.push(e.getParameter(s),null);break;case e.ACTIVE_TEXTURE:n=e.getParameter(e.ACTIVE_TEXTURE),r.push(null);break;default:r.push(e.getParameter(s))}}i(e);for(var A=0;A<t.length;++A){var s=t[A],o=r[A];switch(s){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,o);break;case e.COLOR_CLEAR_VALUE:e.clearColor(o[0],o[1],o[2],o[3]);break;case e.COLOR_WRITEMASK:e.colorMask(o[0],o[1],o[2],o[3]);break;case e.CURRENT_PROGRAM:e.useProgram(o);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,o);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,o);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,o);break;case e.TEXTURE_BINDING_2D:var a=t[++A];if(a<e.TEXTURE0||a>e.TEXTURE31)break;e.activeTexture(a),e.bindTexture(e.TEXTURE_2D,o);break;case e.TEXTURE_BINDING_CUBE_MAP:var a=t[++A];if(a<e.TEXTURE0||a>e.TEXTURE31)break;e.activeTexture(a),e.bindTexture(e.TEXTURE_CUBE_MAP,o);break;case e.VIEWPORT:e.viewport(o[0],o[1],o[2],o[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:o?e.enable(s):e.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}n&&e.activeTexture(n)}}function i(e,t,i,r){this.gl=e,this.cardboardUI=t,this.bufferScale=i,this.dirtySubmitFrameBindings=r,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,M()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=G(e,J,q,this.attribs),this.uniforms=O(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}function r(e){this.gl=e,this.attribs={position:0},this.program=G(e,$,ee,this.attribs),this.uniforms=O(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function n(e){this.coefficients=e}function A(e){this.width=e.width||x(),this.height=e.height||L(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function s(e,t){this.viewer=le.CardboardV2,this.updateDeviceParams(e),this.distortion=new n(this.viewer.distortionCoefficients);for(var i=0;i<t.length;i++){var r=t[i];le[r.id]=new a(r)}}function a(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}function o(e,t){if(this.dpdb=he,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var i=new XMLHttpRequest,r=this;i.open("GET",e,!0),i.addEventListener("load",function(){r.loading=!1,i.status>=200&&i.status<=299?(r.dpdb=JSON.parse(i.response),r.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),i.send()}}function l(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function c(e,t){this.set(e,t)}function h(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new c,this.currentGyroMeasurement=new c,this.previousGyroMeasurement=new c,M()?this.filterQ=new se(-1,0,0,1):this.filterQ=new se(1,0,0,1),this.previousFilterQ=new se,this.previousFilterQ.copy(this.filterQ),this.accelQ=new se,this.isOrientationInitialized=!1,this.estimatedGravity=new Ae,this.measuredGravity=new Ae,this.gyroIntegralQ=new se}function d(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new se,this.previousTimestampS=null,this.deltaQ=new se,this.outQ=new se}function u(e,t,i,r){this.yawOnly=i,this.accelerometer=new Ae,this.gyroscope=new Ae,this.filter=new h(e,r),this.posePredictor=new d(t,r),this.isFirefoxAndroid=T(),this.isIOS=M();var n=F();this.isDeviceMotionInRadians=!this.isIOS&&n&&n<66,this.isWithoutDeviceMotion=R(),this.filterToWorldQ=new se,M()?this.filterToWorldQ.setFromAxisAngle(new Ae(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new Ae(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new se,this.worldToScreenQ=new se,this.originalPoseAdjustQ=new se,this.originalPoseAdjustQ.setFromAxisAngle(new Ae(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),S()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new se,this.orientationOut_=new Float32Array(4),this.start()}function p(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var i=document.createElement("img");i.src=this.icon;var t=i.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(i);var r=document.createElement("div"),t=r.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",r.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(r);var n=document.createElement("div"),t=n.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(n);var A=document.createElement("div");A.style.float="left",A.innerHTML="No Cardboard viewer?";var s=document.createElement("a");s.href="https://www.google.com/get/cardboard/get-cardboard/",s.innerHTML="get one",s.target="_blank";var t=s.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",n.appendChild(A),n.appendChild(s),this.overlay=e,this.text=r,this.hide()}function f(e){try{this.selectedKey=localStorage.getItem(ve)}catch(e){console.error("Failed to load viewer profile: %s",e)}this.selectedKey||(this.selectedKey=e||me),this.dialog=this.createDialog_(s.Viewers),this.root=null,this.onChangeCallbacks_=[]}function m(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function v(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return j("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),e.hasOrientation}}})}function g(e){e=e||{};var t=!("wakelock"in e)||e.wakelock;this.isPolyfilled=!0,this.displayId=ye++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return j("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new v({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&k()&&(this.wakelock_=new we)}function w(e){var t=V({},Me);e=V(t,e||{}),g.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName="Cardboard VRDisplay",this.capabilities=new v({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new fe(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new o(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new s(this.dpdb_.getDeviceParams(),e.ADDITIONAL_VIEWERS),this.viewerSelector_=new f(e.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new p),M()&&window.addEventListener("resize",this.onResize_.bind(this))}var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),b=function(){function e(e,t){var i=[],r=!0,n=!1,A=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){n=!0,A=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw A}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(e,t){return"data:"+e+","+encodeURIComponent(t)},D=function(e,t,i){return e+(t-e)*i},M=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),B=function(){var e=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return e}}(),T=(function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}(),function(){var e=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return e}}()),F=function(){var e=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),t=e?parseInt(e[1],10):null;return function(){return t}}(),R=function(){var e=!1;if(65===F()){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var i=t[1].split("."),r=b(i,4),n=(r[0],r[1],r[2]),A=r[3];e=3325===parseInt(n,10)&&parseInt(A,10)<148}}return function(){return e}}(),C=function(){var e=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return e}}(),S=function(){var e=90==window.orientation||-90==window.orientation;return C()?!e:e},I=function(e){return!isNaN(e)&&(!(e<=.001)&&!(e>1))},x=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},L=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},P=function(e){if(B())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},N=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},Q=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},G=function(e,t,i,r){var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t),e.compileShader(n);var A=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(A,i),e.compileShader(A);var s=e.createProgram();e.attachShader(s,n),e.attachShader(s,A);for(var a in r)e.bindAttribLocation(s,r[a],a);return e.linkProgram(s),e.deleteShader(n),e.deleteShader(A),s},O=function(e,t){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n="",A=0;A<r;A++){n=e.getActiveUniform(t,A).name.replace("[0]",""),i[n]=e.getUniformLocation(t,n)}return i},U=function(e,t,i,r,n,A,s){var a=1/(t-i),o=1/(r-n),l=1/(A-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+i)*a,e[13]=(n+r)*o,e[14]=(s+A)*l,e[15]=1,e},k=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},V=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},z=function(e){if(M()){var t=e.style.width,i=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(i)+"px",setTimeout(function(){e.style.width=t,e.style.height=i},100)}window.canvas=e},H=function(){function e(e,t,i,r){var n=Math.tan(t?t.upDegrees*A:s),a=Math.tan(t?t.downDegrees*A:s),o=Math.tan(t?t.leftDegrees*A:s),l=Math.tan(t?t.rightDegrees*A:s),c=2/(o+l),h=2/(n+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-(o-l)*c*.5,e[9]=(n-a)*h*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function t(e,t,i){var r=t[0],n=t[1],A=t[2],s=t[3],a=r+r,o=n+n,l=A+A,c=r*a,h=r*o,d=r*l,u=n*o,p=n*l,f=A*l,m=s*a,v=s*o,g=s*l;return e[0]=1-(u+f),e[1]=h+g,e[2]=d-v,e[3]=0,e[4]=h-g,e[5]=1-(c+f),e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-(c+u),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function i(e,t,i){var r,n,A,s,a,o,l,c,h,d,u,p,f=i[0],m=i[1],v=i[2];return t===e?(e[12]=t[0]*f+t[4]*m+t[8]*v+t[12],e[13]=t[1]*f+t[5]*m+t[9]*v+t[13],e[14]=t[2]*f+t[6]*m+t[10]*v+t[14],e[15]=t[3]*f+t[7]*m+t[11]*v+t[15]):(r=t[0],n=t[1],A=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],h=t[8],d=t[9],u=t[10],p=t[11],e[0]=r,e[1]=n,e[2]=A,e[3]=s,e[4]=a,e[5]=o,e[6]=l,e[7]=c,e[8]=h,e[9]=d,e[10]=u,e[11]=p,e[12]=r*f+a*m+h*v+t[12],e[13]=n*f+o*m+d*v+t[13],e[14]=A*f+l*m+u*v+t[14],e[15]=s*f+c*m+p*v+t[15]),e}function r(e,t){var i=t[0],r=t[1],n=t[2],A=t[3],s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],h=t[9],d=t[10],u=t[11],p=t[12],f=t[13],m=t[14],v=t[15],g=i*a-r*s,w=i*o-n*s,y=i*l-A*s,E=r*o-n*a,b=r*l-A*a,_=n*l-A*o,D=c*f-h*p,M=c*m-d*p,B=c*v-u*p,T=h*m-d*f,F=h*v-u*f,R=d*v-u*m,C=g*R-w*F+y*T+E*B-b*M+_*D;return C?(C=1/C,e[0]=(a*R-o*F+l*T)*C,e[1]=(n*F-r*R-A*T)*C,e[2]=(f*_-m*b+v*E)*C,e[3]=(d*b-h*_-u*E)*C,e[4]=(o*B-s*R-l*M)*C,e[5]=(i*R-n*B+A*M)*C,e[6]=(m*y-p*_-v*w)*C,e[7]=(c*_-d*y+u*w)*C,e[8]=(s*F-a*B+l*D)*C,e[9]=(r*B-i*F-A*D)*C,e[10]=(p*b-f*y+v*g)*C,e[11]=(h*y-c*b-u*g)*C,e[12]=(a*M-s*T-o*D)*C,e[13]=(i*T-r*M+n*D)*C,e[14]=(f*w-p*E-m*g)*C,e[15]=(c*E-h*w+d*g)*C,e):null}function n(n,A,s,l,c,h){e(n,l||null,h.depthNear,h.depthFar),t(A,s.orientation||a,s.position||o),c&&i(A,A,c),r(A,A)}var A=Math.PI/180,s=.25*Math.PI,a=new Float32Array([0,0,0,1]),o=new Float32Array([0,0,0]);return function(e,t,i){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,n(e.leftProjectionMatrix,e.leftViewMatrix,t,i._getFieldOfView("left"),i._getEyeOffset("left"),i),n(e.rightProjectionMatrix,e.rightViewMatrix,t,i._getFieldOfView("right"),i._getEyeOffset("right"),i),!0)}}(),W=function(){var e=window.self!==window.top,t=X(document.referrer),i=X(window.location.href);return e&&t!==i},X=function(e){var t,i=e.indexOf("://");t=-1!==i?i+3:0;var r=e.indexOf("/",t);return-1===r&&(r=e.length),e.substring(0,r)},Y=function(e){return e.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(e.w)},Z=function(){var e={};return function(t,i){void 0===e[t]&&(console.warn("webvr-polyfill: "+i),e[t]=!0)}}(),j=function(e,t){Z(e,e+" has been deprecated. This may not work on native WebVR displays. "+(t?"Please use "+t+" instead.":""))},K=e,J=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),q=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");i.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},i.prototype.onResize=function(){var e=this.gl,t=this,i=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];K(e,i,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},i.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,i=this.gl;M()||(t.width=x()*this.bufferScale,t.height=L()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(i){e.bufferWidth=i,e.realCanvasWidth.set.call(t,i),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(i){e.bufferHeight=i,e.realCanvasHeight.set.call(t,i),e.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,r){e.lastBoundFramebuffer=r||e.framebuffer,e.realBindFramebuffer.call(i,t,e.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(t){switch(t){case i.CULL_FACE:e.cullFace=!0;break;case i.DEPTH_TEST:e.depthTest=!0;break;case i.BLEND:e.blend=!0;break;case i.SCISSOR_TEST:e.scissorTest=!0;break;case i.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(i,t)},i.disable=function(t){switch(t){case i.CULL_FACE:e.cullFace=!1;break;case i.DEPTH_TEST:e.depthTest=!1;break;case i.BLEND:e.blend=!1;break;case i.SCISSOR_TEST:e.scissorTest=!1;break;case i.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(i,t)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(t,r,n,A){e.colorMask[0]=t,e.colorMask[1]=r,e.colorMask[2]=n,e.colorMask[3]=A,e.realColorMask.call(i,t,r,n,A)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(t,r,n,A){e.clearColor[0]=t,e.clearColor[1]=r,e.clearColor[2]=n,e.clearColor[3]=A,e.realClearColor.call(i,t,r,n,A)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(t,r,n,A){e.viewport[0]=t,e.viewport[1]=r,e.viewport[2]=n,e.viewport[3]=A,e.realViewport.call(i,t,r,n,A)},this.isPatched=!0,z(t)}},i.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;M()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){z(t)},1)}},i.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},i.prototype.submitFrame=function(){var e=this.gl,t=this,i=[];if(this.dirtySubmitFrameBindings||i.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),K(e,i,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||M())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),M()){var r=e.canvas;r.width==t.bufferWidth&&r.height==t.bufferHeight||(t.bufferWidth=r.width,t.bufferHeight=r.height,t.onResize())}},i.prototype.updateDeviceInfo=function(e){var t=this.gl,i=this,r=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];K(t,r,function(t){var r=i.computeMeshVertices_(i.meshWidth,i.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,i.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),!i.indexCount){var n=i.computeMeshIndices_(i.meshWidth,i.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),i.indexCount=n.length}})},i.prototype.computeMeshVertices_=function(e,t,i){for(var r=new Float32Array(2*e*t*5),n=i.getLeftEyeVisibleTanAngles(),A=i.getLeftEyeNoLensTanAngles(),s=i.getLeftEyeVisibleScreenRect(A),a=0,o=0;o<2;o++){for(var l=0;l<t;l++)for(var c=0;c<e;c++,a++){var h=c/(e-1),d=l/(t-1),u=h,p=d,f=D(n[0],n[2],h),m=D(n[3],n[1],d),v=Math.sqrt(f*f+m*m),g=i.distortion.distortInverse(v),w=f*g/v,y=m*g/v;h=(w-A[0])/(A[2]-A[0]),d=(y-A[3])/(A[1]-A[3]),h=2*(s.x+h*s.width-.5),d=2*(s.y+d*s.height-.5),r[5*a+0]=h,r[5*a+1]=d,r[5*a+2]=u,r[5*a+3]=p,r[5*a+4]=o}var E=n[2]-n[0];n[0]=-(E+n[0]),n[2]=E-n[2],E=A[2]-A[0],A[0]=-(E+A[0]),A[2]=E-A[2],s.x=1-(s.x+s.width)}return r},i.prototype.computeMeshIndices_=function(e,t){for(var i=new Uint16Array(2*(e-1)*(t-1)*6),r=e/2,n=t/2,A=0,s=0,a=0;a<2;a++)for(var o=0;o<t;o++)for(var l=0;l<e;l++,A++)0!=l&&0!=o&&(l<=r==o<=n?(i[s++]=A,i[s++]=A-e-1,i[s++]=A-e,i[s++]=A-e-1,i[s++]=A,i[s++]=A-1):(i[s++]=A-1,i[s++]=A-e,i[s++]=A,i[s++]=A-e,i[s++]=A-1,i[s++]=A-e-1));return i},i.prototype.getOwnPropertyDescriptor_=function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(t)},i.set=function(e){this.setAttribute(t,e)}),i};var $=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),ee=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),te=Math.PI/180,ie=.3125;r.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},r.prototype.listen=function(e,t){var i=this.gl.canvas;this.listener=function(r){var n=i.clientWidth/2;r.clientX>n-42&&r.clientX<n+42&&r.clientY>i.clientHeight-42?e(r):r.clientX<42&&r.clientY<42&&t(r)},i.addEventListener("click",this.listener,!1)},r.prototype.onResize=function(){var e=this.gl,t=this,i=[e.ARRAY_BUFFER_BINDING];K(e,i,function(e){function i(e,t){var i=(90-e)*te,r=Math.cos(i),s=Math.sin(i);n.push(ie*r*h+A,ie*s*h+h),n.push(t*r*h+A,t*s*h+h)}function r(t,i){n.push(d+t,e.drawingBufferHeight-d-i)}var n=[],A=e.drawingBufferWidth/2,s=Math.max(screen.width,screen.height)*window.devicePixelRatio,a=e.drawingBufferWidth/s,o=a*window.devicePixelRatio,l=4*o/2,c=42*o,h=28*o/2,d=14*o;n.push(A-l,c),n.push(A-l,e.drawingBufferHeight),n.push(A+l,c),n.push(A+l,e.drawingBufferHeight),t.gearOffset=n.length/2;for(var u=0;u<=6;u++){var p=60*u;i(p,1),i(p+12,1),i(p+20,.75),i(p+40,.75),i(p+48,1)}t.gearVertexCount=n.length/2-t.gearOffset,t.arrowOffset=n.length/2;var f=l/Math.sin(45*te);r(0,h),r(h,0),r(h+f,f),r(f,h+f),r(f,h-f),r(0,h),r(h,2*h),r(h+f,2*h-f),r(f,h-f),r(0,h),r(f,h-l),r(28*o,h-l),r(f,h+l),r(28*o,h+l),t.arrowVertexCount=n.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW)})},r.prototype.render=function(){var e=this.gl,t=this,i=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];K(e,i,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},r.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),U(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),
e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},n.prototype.distortInverse=function(e){for(var t=0,i=1,r=e-this.distort(t);Math.abs(i-t)>1e-4;){var n=e-this.distort(i),A=i-n*((i-t)/(n-r));t=i,i=A,r=n}return i},n.prototype.distort=function(e){for(var t=e*e,i=0,r=0;r<this.coefficients.length;r++)i=t*(i+this.coefficients[r]);return(i+1)*e};var re=Math.PI/180,ne=180/Math.PI,Ae=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0};Ae.prototype={constructor:Ae,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,A=e.y,s=e.z,a=e.w,o=a*t+A*r-s*i,l=a*i+s*t-n*r,c=a*r+n*i-A*t,h=-n*t-A*i-s*r;return this.x=o*a+h*-n+l*-s-c*-A,this.y=l*a+h*-A+c*-n-o*-s,this.z=c*a+h*-s+o*-A-l*-n,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var i=e.x,r=e.y,n=e.z,A=t.x,s=t.y,a=t.z;return this.x=r*a-n*s,this.y=n*A-i*a,this.z=i*s-r*A,this}};var se=function(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1};se.prototype={constructor:se,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,i){var r=Math.cos(e/2),n=Math.cos(t/2),A=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),o=Math.sin(i/2);return this.x=s*n*A+r*a*o,this.y=r*a*A-s*n*o,this.z=r*n*o+s*a*A,this.w=r*n*A-s*a*o,this},setFromEulerYXZ:function(e,t,i){var r=Math.cos(e/2),n=Math.cos(t/2),A=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),o=Math.sin(i/2);return this.x=s*n*A+r*a*o,this.y=r*a*A-s*n*o,this.z=r*n*o-s*a*A,this.w=r*n*A+s*a*o,this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(i),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e.x,r=e.y,n=e.z,A=e.w,s=t.x,a=t.y,o=t.z,l=t.w;return this.x=i*l+A*s+r*o-n*a,this.y=r*l+A*a+n*s-i*o,this.z=n*l+A*o+i*a-r*s,this.w=A*l-i*s-r*a-n*o,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this.x,r=this.y,n=this.z,A=this.w,s=A*e.w+i*e.x+r*e.y+n*e.z;if(s<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,s=-s):this.copy(e),s>=1)return this.w=A,this.x=i,this.y=r,this.z=n,this;var a=Math.acos(s),o=Math.sqrt(1-s*s);if(Math.abs(o)<.001)return this.w=.5*(A+this.w),this.x=.5*(i+this.x),this.y=.5*(r+this.y),this.z=.5*(n+this.z),this;var l=Math.sin((1-t)*a)/o,c=Math.sin(t*a)/o;return this.w=A*l+this.w*c,this.x=i*l+this.x*c,this.y=r*l+this.y*c,this.z=n*l+this.z*c,this},setFromUnitVectors:function(){var e,t;return function(i,r){return void 0===e&&(e=new Ae),t=i.dot(r)+1,t<1e-6?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,r),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()};var ae=new A({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),oe=new A({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),le={CardboardV1:new a({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new a({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};s.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},s.prototype.getDevice=function(){return this.device},s.prototype.setViewer=function(e){this.viewer=e,this.distortion=new n(this.viewer.distortionCoefficients)},s.prototype.determineDevice_=function(e){if(!e)return M()?(console.warn("Using fallback iOS device measurements."),oe):(console.warn("Using fallback Android device measurements."),ae);var t=.0254/e.xdpi,i=.0254/e.ydpi;return new A({widthMeters:t*x(),heightMeters:i*L(),bevelMeters:.001*e.bevelMm})},s.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,i=this.distortion,r=e.screenLensDistance,n=(t.widthMeters-e.interLensDistance)/2,A=e.interLensDistance/2,s=e.baselineLensDistance-t.bevelMeters,a=t.heightMeters-s,o=ne*Math.atan(i.distort(n/r)),l=ne*Math.atan(i.distort(A/r)),c=ne*Math.atan(i.distort(s/r)),h=ne*Math.atan(i.distort(a/r));return{leftDegrees:Math.min(o,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(h,e.fov)}},s.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,r=Math.tan(-re*e.fov),n=Math.tan(re*e.fov),A=Math.tan(re*e.fov),s=Math.tan(-re*e.fov),a=t.widthMeters/4,o=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-o,c=e.interLensDistance/2-a,h=-l,d=e.screenLensDistance,u=i.distort((c-a)/d),p=i.distort((h+o)/d),f=i.distort((c+a)/d),m=i.distort((h-o)/d),v=new Float32Array(4);return v[0]=Math.max(r,u),v[1]=Math.min(n,p),v[2]=Math.min(A,f),v[3]=Math.max(s,m),v},s.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,r=new Float32Array(4),n=i.distortInverse(Math.tan(-re*e.fov)),A=i.distortInverse(Math.tan(re*e.fov)),s=i.distortInverse(Math.tan(re*e.fov)),a=i.distortInverse(Math.tan(-re*e.fov)),o=t.widthMeters/4,l=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-l,h=e.interLensDistance/2-o,d=-c,u=e.screenLensDistance,p=(h-o)/u,f=(d+l)/u,m=(h+o)/u,v=(d-l)/u;return r[0]=Math.max(n,p),r[1]=Math.min(A,f),r[2]=Math.min(s,m),r[3]=Math.max(a,v),r},s.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,i=this.device,r=t.screenLensDistance,n=(i.widthMeters-t.interLensDistance)/2,A=t.baselineLensDistance-i.bevelMeters,s=(e[0]*r+n)/i.widthMeters,a=(e[1]*r+A)/i.heightMeters,o=(e[2]*r+n)/i.widthMeters,l=(e[3]*r+A)/i.heightMeters;return{x:s,y:l,width:o-s,height:a-l}},s.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},s.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},s.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:ne*Math.atan(e.outerDist),rightDegrees:ne*Math.atan(e.innerDist),downDegrees:ne*Math.atan(e.bottomDist),upDegrees:ne*Math.atan(e.topDist)}},s.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,i=this.device,r=t.screenLensDistance,n=i.widthMeters/r,A=i.heightMeters/r,s=i.width/n,a=i.height/A,o=Math.round((e.eyePosX-e.outerDist)*s),l=Math.round((e.eyePosY-e.bottomDist)*a);return{x:o,y:l,width:Math.round((e.eyePosX+e.innerDist)*s)-o,height:Math.round((e.eyePosY+e.topDist)*a)-l}},s.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,i=this.distortion,r=e.screenLensDistance,n=e.interLensDistance/2/r,A=t.widthMeters/r,s=t.heightMeters/r,a=A/2-n,o=(e.baselineLensDistance-t.bevelMeters)/r,l=e.fov,c=i.distortInverse(Math.tan(re*l)),h=Math.min(a,c),d=Math.min(n,c),u=Math.min(o,c);return{outerDist:h,innerDist:d,topDist:Math.min(s-o,c),bottomDist:u,eyePosX:a,eyePosY:o}},s.Viewers=le;var ce=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}],he={format:1,last_updated:"2018-12-10T17:01:42Z",devices:ce};o.prototype.getDeviceParams=function(){return this.deviceParams},o.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},o.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,i=x(),r=L();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var n=0;n<e.devices.length;n++){var A=e.devices[n];if(A.rules)if("ios"==A.type||"android"==A.type){if(M()==("ios"==A.type)){for(var s=!1,a=0;a<A.rules.length;a++){var o=A.rules[a];if(this.ruleMatches_(o,t,i,r)){s=!0;break}}if(s){var c=A.dpi[0]||A.dpi,h=A.dpi[1]||A.dpi;return new l({xdpi:c,ydpi:h,bevelMm:A.bw})}}}else console.warn("Device["+n+"] has invalid type.");else console.warn("Device["+n+"] has no rules section.")}return console.warn("No DPDB device match."),null},o.prototype.ruleMatches_=function(e,t,i,r){if(!e.ua&&!e.res)return!1;if(e.ua&&"SM"===e.ua.substring(0,2)&&(e.ua=e.ua.substring(0,7)),e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var n=e.res[0],A=e.res[1];if(Math.min(i,r)!=Math.min(n,A)||Math.max(i,r)!=Math.max(n,A))return!1}return!0},c.prototype.set=function(e,t){this.sample=e,this.timestampS=t},c.prototype.copy=function(e){this.set(e.sample,e.timestampS)},h.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},h.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var i=t-this.previousGyroMeasurement.timestampS;I(i)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},h.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var i=new se;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new se;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",ne*Y(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var n=new se;n.copy(this.filterQ),n.multiply(r),this.filterQ.slerp(n,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},h.prototype.getOrientation=function(){return this.filterQ},h.prototype.accelToQuaternion_=function(e){var t=new Ae;t.copy(e),t.normalize();var i=new se;return i.setFromUnitVectors(new Ae(0,0,-1),t),i.inverse(),i},h.prototype.gyroToQuaternionDelta_=function(e,t){var i=new se,r=new Ae;return r.copy(e),r.normalize(),i.setFromAxisAngle(r,e.length()*t),i},d.prototype.getPrediction=function(e,t,i){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=i,e;var r=new Ae;r.copy(t),r.normalize();var n=t.length();if(n<20*re)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(ne*n).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var A=n*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,A),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=i,this.outQ},u.prototype.getPosition=function(){return null},u.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var e=(new se).setFromAxisAngle(new Ae(0,0,-1),0),t=new se;return-90===window.orientation?t.setFromAxisAngle(new Ae(0,1,0),Math.PI/-2):t.setFromAxisAngle(new Ae(0,1,0),Math.PI/2),e.multiply(t)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var e=new se;return e.setFromAxisAngle(new Ae(1,0,0),-Math.PI/2),e}(),e=this._deviceOrientationQ;var t=new se;return t.copy(e),t.multiply(this.deviceOrientationFilterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_}var i=this.filter.getOrientation();e=this.posePredictor.getPrediction(i,this.gyroscope,this.previousTimestampS);var t=new se;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(e),t.multiply(this.worldToScreenQ),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},u.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),S()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},u.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new se;var t=e.alpha,i=e.beta,r=e.gamma;t=(t||0)*Math.PI/180,i=(i||0)*Math.PI/180,r=(r||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(i,t,-r)},u.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},u.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,i=e.rotationRate,r=e.timeStamp/1e3,n=r-this.previousTimestampS;return n<0?(Z("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):n<=.001||n>1?(Z("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-t.x,-t.y,-t.z),C()?this.gyroscope.set(-i.beta,i.alpha,i.gamma):this.gyroscope.set(i.alpha,i.beta,i.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},u.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},u.prototype.onMessage_=function(e){var t=e.data;if(t&&t.type){"devicemotion"===t.type.toLowerCase()&&this.updateDeviceMotion_(t.deviceMotionEvent)}},u.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Ae(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Ae(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},u.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),M()&&W()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},u.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var de=new Ae(1,0,0),ue=new Ae(0,0,1),pe=new se;pe.setFromAxisAngle(de,-Math.PI/2),pe.multiply((new se).setFromAxisAngle(ue,Math.PI/2));var fe=function(){function e(t){y(this,e),this.config=t,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new se,this._outQ=new se,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return E(e,[{key:"init",value:function(){var e=null;try{e=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"}),e.addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e),"SecurityError"===e.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===e.name?this.useDeviceMotion():console.error(e)}e&&(this.api="sensor",this.sensor=e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new u(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(pe),t.multiply(this._sensorQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(e){this.errors.push(e.error),"NotAllowedError"===e.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===e.error.name?console.error("Sensor could not be read"):console.error(e.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),e}();p.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),i=t.style;S()?(i.width="20%",i.marginLeft="40%",i.marginTop="3%"):(i.width="50%",i.marginLeft="25%",i.marginTop="25%")},p.prototype.hide=function(){this.overlay.style.display="none"},p.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},p.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},p.prototype.update=function(){this.disableShowTemporarily(),!S()&&k()?this.show():this.hide()},p.prototype.loadIcon_=function(){
this.icon=_("image/svg+xml","<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>")};var me="CardboardV1",ve="WEBVR_CARDBOARD_VIEWER";f.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},f.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},f.prototype.getCurrentViewer=function(){return s.Viewers[this.selectedKey]},f.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},f.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},f.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},f.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!s.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.fireOnChange_(s.Viewers[this.selectedKey]);try{localStorage.setItem(ve,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()},f.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add("webvr-polyfill-viewer-selector"),t.style.display="none";var i=document.createElement("div"),r=i.style;r.position="fixed",r.left=0,r.top=0,r.width="100%",r.height="100%",r.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var n=document.createElement("div"),r=n.style;r.boxSizing="border-box",r.position="fixed",r.top="24px",r.left="50%",r.marginLeft="-140px",r.width="280px",r.padding="24px",r.overflow="hidden",r.background="#fafafa",r.fontFamily="'Roboto', sans-serif",r.boxShadow="0px 5px 20px #666",n.appendChild(this.createH1_("Select your viewer"));for(var A in e)n.appendChild(this.createChoice_(A,e[A].label));return n.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(i),t.appendChild(n),t},f.prototype.createH1_=function(e){var t=document.createElement("h1"),i=t.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",t.innerHTML=e,t},f.prototype.createChoice_=function(e,t){var i=document.createElement("div");i.style.marginTop="8px",i.style.color="black";var r=document.createElement("input");r.style.fontSize="30px",r.setAttribute("id",e),r.setAttribute("type","radio"),r.setAttribute("value",e),r.setAttribute("name","field");var n=document.createElement("label");return n.style.marginLeft="4px",n.setAttribute("for",e),n.innerHTML=t,i.appendChild(r),i.appendChild(n),i},f.prototype.createButton_=function(e,t){var i=document.createElement("button");i.innerHTML=e;var r=i.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",i.addEventListener("click",t),i};var ge=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){!function(t,i){e.exports=i()}(0,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),A=i(1),s="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,a=function(){function e(){r(this,e),s?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",A),this.noSleepVideo.addEventListener("timeupdate",function(e){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return n(e,[{key:"enable",value:function(){s?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){s?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=a},function(e,t,i){
e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})})),we=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(ge),ye=1e3,Ee=[0,0,.5,1],be=[.5,0,.5,1],_e=window.requestAnimationFrame,De=window.cancelAnimationFrame;g.prototype.getFrameData=function(e){return H(e,this._getPose(),this)},g.prototype.getPose=function(){return j("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},g.prototype.resetPose=function(){return j("VRDisplay.prototype.resetPose"),this._resetPose()},g.prototype.getImmediatePose=function(){return j("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},g.prototype.requestAnimationFrame=function(e){return _e(e)},g.prototype.cancelAnimationFrame=function(e){return De(e)},g.prototype.wrapForFullscreen=function(e){if(M())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var i=this.fullscreenElement_.parentElement;i.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),i.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var r=this;return function(){if(r.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}(),this.fullscreenWrapper_},g.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},g.prototype.requestPresent=function(e){var t=this.isPresenting,i=this;return e instanceof Array||(j("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),e=[e]),new Promise(function(r,n){if(!i.capabilities.canPresent)return void n(new Error("VRDisplay is not capable of presenting."));if(0==e.length||e.length>i.capabilities.maxLayers)return void n(new Error("Invalid number of layers."));var A=e[0];if(!A.source)return void r();var s=A.leftBounds||Ee,a=A.rightBounds||be;if(t){var o=i.layer_;o.source!==A.source&&(o.source=A.source);for(var l=0;l<4;l++)o.leftBounds[l]=s[l],o.rightBounds[l]=a[l];return i.wrapForFullscreen(i.layer_.source),i.updatePresent_(),void r()}if(i.layer_={predistorted:A.predistorted,source:A.source,leftBounds:s.slice(0),rightBounds:a.slice(0)},i.waitingForPresent_=!1,i.layer_&&i.layer_.source){var c=i.wrapForFullscreen(i.layer_.source),h=function(){var e=Q();i.isPresenting=c===e,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),i.waitingForPresent_=!1,i.beginPresent_(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.removeFullscreenWrapper(),i.disableWakeLock(),i.endPresent_(),i.removeFullscreenListeners_()),i.fireVRDisplayPresentChange_()},d=function(){i.waitingForPresent_&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.disableWakeLock(),i.waitingForPresent_=!1,i.isPresenting=!1,n(new Error("Unable to present.")))};i.addFullscreenListeners_(c,h,d),P(c)?(i.enableWakeLock(),i.waitingForPresent_=!0):(M()||B())&&(i.enableWakeLock(),i.isPresenting=!0,i.beginPresent_(),i.fireVRDisplayPresentChange_(),r())}i.waitingForPresent_||M()||(N(),n(new Error("Unable to present.")))})},g.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(i,r){e?(!N()&&M()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),B()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),i()):r(new Error("Was not presenting to VRDisplay."))})},g.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},g.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},g.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},g.prototype.addFullscreenListeners_=function(e,t,i){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=i,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),i&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",i,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",i,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",i,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",i,!1))},g.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var i=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",i,!1),e.removeEventListener("webkitfullscreenerror",i,!1),document.removeEventListener("mozfullscreenerror",i,!1),e.removeEventListener("msfullscreenerror",i,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},g.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},g.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},g.prototype.beginPresent_=function(){},g.prototype.endPresent_=function(){},g.prototype.submitFrame=function(e){},g.prototype.getEyeParameters=function(e){return null};var Me={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},Be={LEFT:"left",RIGHT:"right"};return w.prototype=Object.create(g.prototype),w.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},w.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},w.prototype._getFieldOfView=function(e){var t;if(e==Be.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=Be.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},w.prototype._getEyeOffset=function(e){var t;if(e==Be.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=Be.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},w.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),i=this._getFieldOfView(e),r={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return j("VRFieldOfView","VRFrameData's projection matrices"),i}}),r},w.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},w.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},w.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=x()*this.bufferScale_,e.canvas.height=L()*this.bufferScale_,this.cardboardUI_=new r(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new r(e)),this.distorter_=new i(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(S()&&k()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},w.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},w.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},w.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},w.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},w.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),i=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];t.canvas.setAttribute("style",i.join("; ")+";"),z(t.canvas)}},w.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},w.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},w.VRFrameData=m,w.VRDisplay=g,w}()}()}),s=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(A),a={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};e.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(i()){var e=new s({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(e)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},e.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var e=this.native.VRFrameData,t=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(n){if(n instanceof e)return void i.call(this,n);i.call(this,t),n.pose=t.pose,r(t.leftProjectionMatrix,n.leftProjectionMatrix),r(t.rightProjectionMatrix,n.rightProjectionMatrix),r(t.leftViewMatrix,n.leftViewMatrix),r(t.rightViewMatrix,n.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=s.VRDisplay,window.VRFrameData=s.VRFrameData},e.prototype.getVRDisplays=function(){var e=this;this.config;return this.hasNative?this.native.getVRDisplays.call(navigator).then(function(t){return t.length>0?t:e.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},e.version="0.10.10",e.VRFrameData=s.VRFrameData,e.VRDisplay=s.VRDisplay;var o=Object.freeze({default:e}),l=o&&e||o;return void 0!==t&&t.window&&(t.document||(t.document=t.window.document),t.navigator||(t.navigator=t.window.navigator)),l});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],50:[function(_dereq_,module,exports){
function idxOf(e,n,r,t){var i=e.indexOf(n,r);return-1===i||i>t?t:i}function isWhitespace(e){return whitespace.test(e)}function pre(e,n,r,t,i){for(var a=[],o=r,s=r;s<t&&s<n.length;s++){var h=n.charAt(s),u=newline.test(h);if(u||s===t-1){var f=u?s:s+1,p=e(n,o,f,i);a.push(p),o=s+1}}return a}function greedy(e,n,r,t,i,a){var o=[],s=i;for("nowrap"===a&&(s=Number.MAX_VALUE);r<t&&r<n.length;){for(var h=idxOf(n,newlineChar,r,t);r<h&&isWhitespace(n.charAt(r));)r++;var u=e(n,r,h,s),f=r+(u.end-u.start),p=f+newlineChar.length;if(f<h){for(;f>r&&!isWhitespace(n.charAt(f));)f--;if(f===r)p>r+newlineChar.length&&p--,f=p;else for(p=f;f>r&&isWhitespace(n.charAt(f-newlineChar.length));)f--}if(f>=r){var c=e(n,r,f,s);o.push(c)}r=p}return o}function monospace(e,n,r,t){return{start:n,end:n+Math.min(t,r-n)}}var newline=/\n/,newlineChar="\n",whitespace=/\s/;module.exports=function(e,n){return module.exports.lines(e,n).map(function(n){return e.substring(n.start,n.end)}).join("\n")},module.exports.lines=function(e,n){if(n=n||{},0===n.width&&"nowrap"!==n.mode)return[];e=e||"";var r="number"==typeof n.width?n.width:Number.MAX_VALUE,t=Math.max(0,n.start||0),i="number"==typeof n.end?n.end:e.length,a=n.mode,o=n.measure||monospace;return"pre"===a?pre(o,e,t,i,r):greedy(o,e,t,i,r,a)};
},{}],51:[function(_dereq_,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){4===i.readyState&&setTimeout(o,0)}function r(){var e=void 0;if(e=i.response?i.response:i.responseText||getXml(i),X)try{e=JSON.parse(e)}catch(e){}return e}function n(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,h)}function o(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===i.status?200:1223===i.status?204:i.status;var n=h,o=null;return 0!==t?(n={body:r(),statusCode:t,method:l,headers:{},url:p,rawRequest:i},i.getAllResponseHeaders&&(n.headers=parseHeaders(i.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),a(o,n,n.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var s=!1,a=function(t,r,n){s||(s=!0,e.callback(t,r,n))},i=e.xhr||null;i||(i=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var u,c,d,p=i.url=e.uri||e.url,l=i.method=e.method||"GET",f=e.body||e.data,m=i.headers=e.headers||{},R=!!e.sync,X=!1,h={body:void 0,headers:{},statusCode:0,method:l,url:p,rawRequest:i};if("json"in e&&!1!==e.json&&(X=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),i.onreadystatechange=t,i.onload=o,i.onerror=n,i.onprogress=function(){},i.onabort=function(){c=!0},i.ontimeout=n,i.open(l,p,!R,e.username,e.password),R||(i.withCredentials=!!e.withCredentials),!R&&e.timeout>0&&(d=setTimeout(function(){if(!c){c=!0,i.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)}},e.timeout)),i.setRequestHeader)for(u in m)m.hasOwnProperty(u)&&i.setRequestHeader(u,m[u]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(i.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(i),i.send(f||null),i}function getXml(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}function noop(){}var window=_dereq_("global/window"),isFunction=_dereq_("is-function"),parseHeaders=_dereq_("parse-headers"),xtend=_dereq_("xtend");module.exports=createXHR,module.exports.default=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});
},{"global/window":17,"is-function":22,"parse-headers":32,"xtend":53}],52:[function(_dereq_,module,exports){
module.exports=function(){return void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var n=new self.ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(e),n}:function(e){var n=document.createElement("div");return n.innerHTML=e,n}}();
},{}],53:[function(_dereq_,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],54:[function(_dereq_,module,exports){
module.exports={"name":"aframe","version":"1.0.3","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"browserify":"browserify src/index.js -s 'AFRAME' -p browserify-derequire","build":"shx mkdir -p build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js","codecov":"codecov","dev":"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"semistandard -v | snazzy","lint:fix":"semistandard --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"cross-env FOR_RELEASE=true node scripts/release.js 1.0.2 1.0.3","start":"npm run dev","start:https":"cross-env SSL=true npm run dev","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"custom-event-polyfill":"^1.0.6","debug":"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7f3744be954574caf3072a5fd260ca90","load-bmfont":"^1.2.3","object-assign":"^4.0.1","present":"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.111.5","three-bmfont-text":"dmarcos/three-bmfont-text#1babdf8507","webvr-polyfill":"^0.10.10"},"devDependencies":{"browserify":"^13.1.0","browserify-css":"^0.8.4","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0","budo":"^9.2.0","chai":"^3.5.0","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","codecov":"^1.0.1","cross-env":"^5.0.1","envify":"^3.4.1","exorcist":"^0.4.0","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^7.1.1","husky":"^0.11.7","istanbul":"^0.4.5","jsdom":"^9.11.0","karma":"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.2.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4","lolex":"^1.5.1","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","minifyify":"^7.3.3","mocha":"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3","semistandard":"^9.0.0","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"^1.17.5","sinon-chai":"2.8.0","snazzy":"^5.0.0","too-wordy":"ngokevin/too-wordy","uglifyjs":"^2.4.10","write-good":"^0.9.1"},"link":true,"browserify":{"transform":["browserify-css","envify"]},"semistandard":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{"minify":true},"engines":{"node":">= 4.6.0","npm":"^2.15.9"}}
},{}],55:[function(_dereq_,module,exports){
function getPropertyType(t,e){var i,n,o,a;return o=e.split("."),n=o[0],a=o[1],i=t.components[n]||components[n],i?a&&!i.schema[a]?null:a?i.schema[a].type:i.schema.type:null}function toRadians(t){t.x=THREE.Math.degToRad(t.x),t.y=THREE.Math.degToRad(t.y),t.z=THREE.Math.degToRad(t.z)}function addEventListeners(t,e,i){var n;for(n=0;n<e.length;n++)t.addEventListener(e[n],i)}function removeEventListeners(t,e,i){var n;for(n=0;n<e.length;n++)t.removeEventListener(e[n],i)}function getRawProperty(t,e){var i,n,o;for(n=splitDot(e),o=t,i=0;i<n.length;i++)o=o[n[i]];if(void 0===o)throw console.log(t),new Error("[animation] property ("+e+") could not be found");return o}function setRawProperty(t,e,i,n){var o,a,r,s;for(e.startsWith("object3D.rotation")&&(i=THREE.Math.degToRad(i)),a=splitDot(e),s=t,o=0;o<a.length-1;o++)s=s[a[o]];if(r=a[a.length-1],n===TYPE_COLOR)return void("r"in s[r]?(s[r].r=i.r,s[r].g=i.g,s[r].b=i.b):(s[r].x=i.r,s[r].y=i.g,s[r].z=i.b));s[r]=i}function splitDot(t){return t in splitCache?splitCache[t]:(splitCache[t]=t.split("."),splitCache[t])}function isRawProperty(t){return t.isRawProperty||t.property.startsWith(STRING_COMPONENTS)||t.property.startsWith(STRING_OBJECT3D)}var anime=_dereq_("super-animejs"),components=_dereq_("../core/component").components,registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils"),colorHelperFrom=new THREE.Color,colorHelperTo=new THREE.Color,getComponentProperty=utils.entity.getComponentProperty,setComponentProperty=utils.entity.setComponentProperty,splitCache={},TYPE_COLOR="color",PROP_POSITION="position",PROP_ROTATION="rotation",PROP_SCALE="scale",STRING_COMPONENTS="components",STRING_OBJECT3D="object3D";module.exports.Component=registerComponent("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&parseInt(t,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit("animationcomplete",t.eventDetail,!1),t.id&&t.el.emit("animationcomplete__"+t.id,t.eventDetail,!1)}}},update:function(t){var e=this.config,i=this.data;this.animationIsPlaying=!1,this.data.enabled&&i.property&&(e.autoplay=!1,e.direction=i.dir,e.duration=i.dur,e.easing=i.easing,e.elasticity=i.elasticity,e.loop=i.loop,e.round=i.round,this.createAndStartAnimation())},tick:function(t,e){this.animationIsPlaying&&(this.time+=e,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var t=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=anime(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!t.autoplay||t.startEvents&&t.startEvents.length))return t.delay?void setTimeout(this.beginAnimation,t.delay):void this.beginAnimation()},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=anime(this.config),this.data.delay)return void setTimeout(this.beginAnimation,this.data.delay);this.beginAnimation()}},updateConfigForRawColor:function(){var t,e,i,n=this.config,o=this.data,a=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){t=""===o.from?getRawProperty(a,o.property):o.from,i=o.to,this.setColorConfig(t,i),t=this.fromColor,i=this.toColor,this.targetsArray.length=0,this.targetsArray.push(t),n.targets=this.targetsArray;for(e in i)n[e]=i[e];n.update=function(){var t={};return function(e){var i;i=e.animatables[0].target,i.r===t.r&&i.g===t.g&&i.b===t.b||setRawProperty(a,o.property,i,o.type)}}()}},updateConfigForDefault:function(){var t,e,i,n,o=this.config,a=this.data,r=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(t=""===a.from?isRawProperty(a)?getRawProperty(r,a.property):getComponentProperty(r,a.property):a.from,n=a.to,i=!isNaN(t||n),i?(t=parseFloat(t),n=parseFloat(n)):(t=t?t.toString():t,n=n?n.toString():n),e="true"===a.to||"false"===a.to||!0===a.to||!1===a.to,e&&(t="true"===a.from||!0===a.from?1:0,n="true"===a.to||!0===a.to?1:0),this.targets.aframeProperty=t,o.targets=this.targets,o.aframeProperty=n,o.update=function(){var t;return function(i){var n;(n=i.animatables[0].target.aframeProperty)!==t&&(t=n,e&&(n=n>=1),isRawProperty(a)?setRawProperty(r,a.property,n,a.type):setComponentProperty(r,a.property,n))}}())},updateConfigForVector:function(){var t,e,i,n=this.config,o=this.data,a=this.el;e=""!==o.from?utils.coordinates.parse(o.from):getComponentProperty(a,o.property),i=utils.coordinates.parse(o.to),o.property===PROP_ROTATION&&(toRadians(e),toRadians(i)),this.targetsArray.length=0,this.targetsArray.push(e),n.targets=this.targetsArray;for(t in i)n[t]=i[t];if(o.property===PROP_POSITION||o.property===PROP_ROTATION||o.property===PROP_SCALE)return void(n.update=function(){var t={};return function(e){var i=e.animatables[0].target;o.property===PROP_SCALE&&(i.x=Math.max(1e-4,i.x),i.y=Math.max(1e-4,i.y),i.z=Math.max(1e-4,i.z)),i.x===t.x&&i.y===t.y&&i.z===t.z||(t.x=i.x,t.y=i.y,t.z=i.z,a.object3D[o.property].set(i.x,i.y,i.z))}}());n.update=function(){var t={};return function(e){var i=e.animatables[0].target;i.x===t.x&&i.y===t.y&&i.z===t.z||(t.x=i.x,t.y=i.y,t.z=i.z,setComponentProperty(a,o.property,i))}}()},updateConfig:function(){var t;t=getPropertyType(this.el,this.data.property),isRawProperty(this.data)&&this.data.type===TYPE_COLOR?this.updateConfigForRawColor():"vec2"===t||"vec3"===t||"vec4"===t?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(t){var e,i=this.data,n=this.el,o=this;return""===i.from&&(!!i.property.startsWith(STRING_COMPONENTS)&&(e=splitDot(i.property)[1],!n.components[e]&&(n.addEventListener("componentinitialized",function i(a){a.detail.name===e&&(t(),o.animation=anime(o.config),n.removeEventListener("componentinitialized",i))}),!0)))},stopRelatedAnimations:function(){var t,e;for(e in this.el.components)t=this.el.components[e],e!==this.attrName&&"animation"===t.name&&t.animationIsPlaying&&t.data.property===this.data.property&&(t.animationIsPlaying=!1)},addEventListeners:function(){var t=this.data,e=this.el;addEventListeners(e,t.startEvents,this.onStartEvent),addEventListeners(e,t.pauseEvents,this.pauseAnimation),addEventListeners(e,t.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var t=this.data,e=this.el;removeEventListeners(e,t.startEvents,this.onStartEvent),removeEventListeners(e,t.pauseEvents,this.pauseAnimation),removeEventListeners(e,t.resumeEvents,this.resumeAnimation)},setColorConfig:function(t,e){colorHelperFrom.set(t),colorHelperTo.set(e),t=this.fromColor,e=this.toColor,t.r=colorHelperFrom.r,t.g=colorHelperFrom.g,t.b=colorHelperFrom.b,e.r=colorHelperTo.r,e.g=colorHelperTo.g,e.b=colorHelperTo.b}});
},{"../core/component":108,"../lib/three":156,"../utils":181,"super-animejs":36}],56:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three");module.exports.Component=registerComponent("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var e,t=this.el;e=this.camera=new THREE.PerspectiveCamera,t.setObject3D("camera",e)},update:function(e){var t=this.data,a=this.camera;a.aspect=t.aspect||window.innerWidth/window.innerHeight,a.far=t.far,a.fov=t.fov,a.near=t.near,a.zoom=t.zoom,a.updateProjectionMatrix(),this.updateActiveCamera(e),this.updateSpectatorCamera(e)},updateActiveCamera:function(e){var t=this.data,a=this.el,r=this.system;e&&e.active===t.active||t.spectator||(t.active&&r.activeCameraEl!==a?r.setActiveCamera(a):t.active||r.activeCameraEl!==a||r.disableActiveCamera())},updateSpectatorCamera:function(e){var t=this.data,a=this.el,r=this.system;e&&e.spectator===t.spectator||(t.spectator&&r.spectatorCameraEl!==a?r.setSpectatorCamera(a):t.spectator||r.spectatorCameraEl!==a||r.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}});
},{"../core/component":108,"../lib/three":156}],57:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,utils=_dereq_("../utils/"),bind=utils.bind,EVENTS={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},STATES={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},CANVAS_EVENTS={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},CANVAS_HOVER_CLASS="a-mouse-cursor-hover";module.exports.Component=registerComponent("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:utils.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var e=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.updateCanvasBounds=utils.debounce(function(){e.canvasBounds=e.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=bind(this.onCursorDown,this),this.onCursorUp=bind(this.onCursorUp,this),this.onIntersection=bind(this.onIntersection,this),this.onIntersectionCleared=bind(this.onIntersectionCleared,this),this.onMouseMove=bind(this.onMouseMove,this)},update:function(e){this.data.rayOrigin!==e.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var e=this.el;e.removeState(STATES.HOVERING),e.removeState(STATES.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(STATES.HOVERED),this.removeEventListeners()},addEventListeners:function(){function e(){t=n.sceneEl.canvas,s.downEvents.length||s.upEvents.length||(CANVAS_EVENTS.DOWN.forEach(function(e){t.addEventListener(e,i.onCursorDown)}),CANVAS_EVENTS.UP.forEach(function(e){t.addEventListener(e,i.onCursorUp)}))}var t,s=this.data,n=this.el,i=this;t=n.sceneEl.canvas,t?e():n.sceneEl.addEventListener("render-target-loaded",e),s.downEvents.forEach(function(e){n.addEventListener(e,i.onCursorDown)}),s.upEvents.forEach(function(e){n.addEventListener(e,i.onCursorUp)}),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),n.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var e,t=this.data,s=this.el,n=this;e=s.sceneEl.canvas,!e||t.downEvents.length||t.upEvents.length||(CANVAS_EVENTS.DOWN.forEach(function(t){e.removeEventListener(t,n.onCursorDown)}),CANVAS_EVENTS.UP.forEach(function(t){e.removeEventListener(t,n.onCursorUp)})),t.downEvents.forEach(function(e){s.removeEventListener(e,n.onCursorDown)}),t.upEvents.forEach(function(e){s.removeEventListener(e,n.onCursorUp)}),s.removeEventListener("raycaster-intersection",this.onIntersection),s.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchstart",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),s.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var e,t=this.el;e=t.sceneEl.canvas,e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),t.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(e.addEventListener("mousemove",this.onMouseMove,!1),e.addEventListener("touchmove",this.onMouseMove,!1),t.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var e=new THREE.Vector3,t=new THREE.Vector2,s=new THREE.Vector3,n={origin:s,direction:e};return function(i){var o,r,a,u=this.canvasBounds,c=this.el.sceneEl.camera;c.parent.updateMatrixWorld(),r="touchmove"===i.type||"touchstart"===i.type?i.touches.item(0):i,o=r.clientX-u.left,a=r.clientY-u.top,t.x=o/u.width*2-1,t.y=-a/u.height*2+1,s.setFromMatrixPosition(c.matrixWorld),e.set(t.x,t.y,.5).unproject(c).sub(s).normalize(),this.el.setAttribute("raycaster",n),"touchmove"===i.type&&i.preventDefault()}}(),onCursorDown:function(e){this.isCursorDown=!0,"mouse"===this.data.rayOrigin&&"touchstart"===e.type&&(this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),e.preventDefault()),this.twoWayEmit(EVENTS.MOUSEDOWN),this.cursorDownEl=this.intersectedEl},onCursorUp:function(e){if(this.isCursorDown){this.isCursorDown=!1;var t=this.data;this.twoWayEmit(EVENTS.MOUSEUP),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(EVENTS.MOUSEUP,this.intersectedEventDetail)),t.fuse&&"mouse"!==t.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(EVENTS.CLICK),this.cursorDownEl=null,"touchend"===e.type&&e.preventDefault()}},onIntersection:function(e){var t,s,n,i,o=this.el;s=e.detail.els[0]===o?1:0,i=e.detail.intersections[s],(n=e.detail.els[s])&&this.intersectedEl!==n&&(this.intersectedEl&&(t=this.el.components.raycaster.getIntersection(this.intersectedEl))&&t.distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(n,i)))},onIntersectionCleared:function(e){-1!==e.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},setIntersection:function(e,t){var s=this.el,n=this.data,i=this;this.intersectedEl!==e&&(this.intersectedEl=e,s.addState(STATES.HOVERING),e.addState(STATES.HOVERED),this.twoWayEmit(EVENTS.MOUSEENTER),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add(CANVAS_HOVER_CLASS),0!==n.fuseTimeout&&n.fuse&&(s.addState(STATES.FUSING),this.twoWayEmit(EVENTS.FUSING),this.fuseTimeout=setTimeout(function(){s.removeState(STATES.FUSING),i.twoWayEmit(EVENTS.CLICK)},n.fuseTimeout)))},clearCurrentIntersection:function(e){var t,s,n,i=this.el;this.intersectedEl&&(this.intersectedEl.removeState(STATES.HOVERED),i.removeState(STATES.HOVERING),i.removeState(STATES.FUSING),this.twoWayEmit(EVENTS.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove(CANVAS_HOVER_CLASS),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==e&&(n=this.el.components.raycaster.intersections,0!==n.length&&(t=n[0].object.el===i?1:0,(s=n[t])&&this.setIntersection(s.object.el,s))))},twoWayEmit:function(e){var t,s=this.el,n=this.intersectedEl;t=this.el.components.raycaster.getIntersection(n),this.eventDetail.intersectedEl=n,this.eventDetail.intersection=t,s.emit(e,this.eventDetail),n&&(this.intersectedEventDetail.intersection=t,n.emit(e,this.intersectedEventDetail))}});
},{"../core/component":108,"../utils/":181}],58:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,DAYDREAM_CONTROLLER_MODEL_BASE_URL="https://cdn.aframe.io/controllers/google/",DAYDREAM_CONTROLLER_MODEL_OBJ_URL=DAYDREAM_CONTROLLER_MODEL_BASE_URL+"vr_controller_daydream.obj",DAYDREAM_CONTROLLER_MODEL_OBJ_MTL=DAYDREAM_CONTROLLER_MODEL_BASE_URL+"vr_controller_daydream.mtl",isWebXRAvailable=_dereq_("../utils/").device.isWebXRAvailable,GAMEPAD_ID_WEBXR="google-daydream",GAMEPAD_ID_WEBVR="Daydream Controller",GAMEPAD_ID_PREFIX=isWebXRAvailable?GAMEPAD_ID_WEBXR:GAMEPAD_ID_WEBVR;module.exports.Component=registerComponent("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:GAMEPAD_ID_PREFIX,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:DAYDREAM_CONTROLLER_MODEL_OBJ_URL,mtl:DAYDREAM_CONTROLLER_MODEL_OBJ_MTL})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,o=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.menu=o.getObjectByName("AppButton_AppButton_Cylinder.004"),e.system=o.getObjectByName("HomeButton_HomeButton_Cylinder.005"),e.trackpad=o.getObjectByName("TouchPad_TouchPad_Cylinder.003"),o.position.set(0,0,-.04))},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping.axes,t)},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var o=this.buttonMeshes;if(o&&o[t]){var n;switch(e){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}o[t].material.color.set(n)}}});
},{"../core/component":108,"../utils/":181,"../utils/bind":175,"../utils/tracked-controls":189}],59:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,isWebXRAvailable=_dereq_("../utils/").device.isWebXRAvailable,GEARVR_CONTROLLER_MODEL_BASE_URL="https://cdn.aframe.io/controllers/samsung/",GEARVR_CONTROLLER_MODEL_OBJ_URL=GEARVR_CONTROLLER_MODEL_BASE_URL+"gear_vr_controller.obj",GEARVR_CONTROLLER_MODEL_OBJ_MTL=GEARVR_CONTROLLER_MODEL_BASE_URL+"gear_vr_controller.mtl",GAMEPAD_ID_WEBXR="samsung-gearvr",GAMEPAD_ID_WEBVR="Gear VR",GAMEPAD_ID_PREFIX=isWebXRAvailable?GAMEPAD_ID_WEBXR:GAMEPAD_ID_WEBVR,INPUT_MAPPING_WEBVR={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},INPUT_MAPPING_WEBXR={left:{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","menu"]},right:{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","menu"]}},INPUT_MAPPING=isWebXRAvailable?INPUT_MAPPING_WEBXR:INPUT_MAPPING_WEBVR;module.exports.Component=registerComponent("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:INPUT_MAPPING,bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:GAMEPAD_ID_PREFIX,id:GAMEPAD_ID_PREFIX,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:GEARVR_CONTROLLER_MODEL_OBJ_URL,mtl:GEARVR_CONTROLLER_MODEL_OBJ_MTL})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,n=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.trigger=n.children[2],e.trackpad=n.children[1])},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var n=this.buttonMeshes;if(n&&n[t]){var o;switch(e){case"down":o=this.data.buttonHighlightColor;break;case"touchstart":o=this.data.buttonTouchedColor;break;default:o=this.data.buttonColor}n[t].material.color.set(o)}}});
},{"../core/component":108,"../utils/":181,"../utils/bind":175,"../utils/tracked-controls":189}],60:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,GAMEPAD_ID_PREFIX="generic",INPUT_MAPPING={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};module.exports.Component=registerComponent("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"}},mapping:INPUT_MAPPING,bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data,e=t.hand?t.hand:void 0;checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,{hand:e,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;this.el.components["tracked-controls"]||(t.setAttribute("tracked-controls",{hand:e.hand,idPrefix:GAMEPAD_ID_PREFIX,orientationOffset:e.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel())},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping.axes,t)},initDefaultModel:function(){var t=this.modelEl=document.createElement("a-entity");t.setAttribute("geometry",{primitive:"sphere",radius:.03}),t.setAttribute("material",{color:this.data.color}),this.el.appendChild(t)}});
},{"../core/component":108,"../utils/bind":175,"../utils/tracked-controls":189}],61:[function(_dereq_,module,exports){
var geometries=_dereq_("../core/geometry").geometries,geometryNames=_dereq_("../core/geometry").geometryNames,registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),dummyGeometry=new THREE.Geometry;module.exports.Component=registerComponent("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:geometryNames,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t,r=this.data,m=this.el,o=this.system;this.geometry&&(o.unuseGeometry(e),this.geometry=null),this.geometry=o.getOrCreateGeometry(r),t=m.getObject3D("mesh"),t?t.geometry=this.geometry:(t=new THREE.Mesh,t.geometry=this.geometry,m.setObject3D("mesh",t))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=dummyGeometry,this.geometry=null},updateSchema:function(e){var t=this.oldData&&this.oldData.primitive,r=e.primitive,m=geometries[r]&&geometries[r].schema;if(!m)throw new Error("Unknown geometry schema `"+r+"`");t&&t===r||this.extendSchema(m)}});
},{"../core/component":108,"../core/geometry":109,"../lib/three":156}],62:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),warn=utils.debug("components:gltf-model:warn");module.exports.Component=registerComponent("gltf-model",{schema:{type:"model"},init:function(){var e=this.system.getDRACOLoader();this.model=null,this.loader=new THREE.GLTFLoader,e&&this.loader.setDRACOLoader(e)},update:function(){var e=this,o=this.el,t=this.data;t&&(this.remove(),this.loader.load(t,function(t){e.model=t.scene||t.scenes[0],e.model.animations=t.animations,o.setObject3D("mesh",e.model),o.emit("model-loaded",{format:"gltf",model:e.model})},void 0,function(e){var r=e&&e.message?e.message:"Failed to load glTF model";warn(r),o.emit("model-error",{format:"gltf",src:t})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}});
},{"../core/component":108,"../lib/three":156,"../utils/":181}],63:[function(_dereq_,module,exports){
function getGestureEventName(t,e){var n;if(t)return n=EVENTS[t],"grip"===n?n+(e?"close":"open"):"point"===n?n+(e?"up":"down"):"pointing"===n||"pistol"===n?n+(e?"start":"end"):void 0}function isViveController(t){var e=t&&t.controller;return e&&(e.id&&0===e.id.indexOf("OpenVR ")||e.profiles&&e.profiles[0]&&"htc-vive-controller-mv"===e.profiles[0])}var registerComponent=_dereq_("../core/component").registerComponent,MODEL_URLS={left:"https://cdn.aframe.io/controllers/hands/leftHand.glb",right:"https://cdn.aframe.io/controllers/hands/rightHand.glb"},ANIMATIONS={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},EVENTS={};EVENTS[ANIMATIONS.fist]="grip",EVENTS[ANIMATIONS.thumbUp]="pistol",EVENTS[ANIMATIONS.point]="pointing",module.exports.Component=registerComponent("hand-controls",{schema:{default:"left"},init:function(){var t=this,e=this.el;this.gesture=ANIMATIONS.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){t.handleButton("grip","down")},this.onGripUp=function(){t.handleButton("grip","up")},this.onTrackpadDown=function(){t.handleButton("trackpad","down")},this.onTrackpadUp=function(){t.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){t.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){t.handleButton("trackpad","touchend")},this.onTriggerDown=function(){t.handleButton("trigger","down")},this.onTriggerUp=function(){t.handleButton("trigger","up")},this.onTriggerTouchStart=function(){t.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){t.handleButton("trigger","touchend")},this.onGripTouchStart=function(){t.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){t.handleButton("grip","touchend")},this.onThumbstickDown=function(){t.handleButton("thumbstick","down")},this.onThumbstickUp=function(){t.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){t.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){t.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){t.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){t.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){t.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){t.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected),e.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(t,e){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(e/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var t=this.el;t.addEventListener("gripdown",this.onGripDown),t.addEventListener("gripup",this.onGripUp),t.addEventListener("trackpaddown",this.onTrackpadDown),t.addEventListener("trackpadup",this.onTrackpadUp),t.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.addEventListener("triggerdown",this.onTriggerDown),t.addEventListener("triggerup",this.onTriggerUp),t.addEventListener("triggertouchstart",this.onTriggerTouchStart),t.addEventListener("triggertouchend",this.onTriggerTouchEnd),t.addEventListener("griptouchstart",this.onGripTouchStart),t.addEventListener("griptouchend",this.onGripTouchEnd),t.addEventListener("thumbstickdown",this.onThumbstickDown),t.addEventListener("thumbstickup",this.onThumbstickUp),t.addEventListener("abuttontouchstart",this.onAorXTouchStart),t.addEventListener("abuttontouchend",this.onAorXTouchEnd),t.addEventListener("bbuttontouchstart",this.onBorYTouchStart),t.addEventListener("bbuttontouchend",this.onBorYTouchEnd),t.addEventListener("xbuttontouchstart",this.onAorXTouchStart),t.addEventListener("xbuttontouchend",this.onAorXTouchEnd),t.addEventListener("ybuttontouchstart",this.onBorYTouchStart),t.addEventListener("ybuttontouchend",this.onBorYTouchEnd),t.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var t=this.el;t.removeEventListener("gripdown",this.onGripDown),t.removeEventListener("gripup",this.onGripUp),t.removeEventListener("trackpaddown",this.onTrackpadDown),t.removeEventListener("trackpadup",this.onTrackpadUp),t.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),t.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),t.removeEventListener("triggerdown",this.onTriggerDown),t.removeEventListener("triggerup",this.onTriggerUp),t.removeEventListener("triggertouchstart",this.onTriggerTouchStart),t.removeEventListener("triggertouchend",this.onTriggerTouchEnd),t.removeEventListener("griptouchstart",this.onGripTouchStart),t.removeEventListener("griptouchend",this.onGripTouchEnd),t.removeEventListener("thumbstickdown",this.onThumbstickDown),t.removeEventListener("thumbstickup",this.onThumbstickUp),t.removeEventListener("abuttontouchstart",this.onAorXTouchStart),t.removeEventListener("abuttontouchend",this.onAorXTouchEnd),t.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),t.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),t.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),t.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),t.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),t.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),t.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),t.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(t){var e,n=this.el,o=this.data,i=this;e={hand:o,model:!1,orientationOffset:{x:0,y:0,z:"left"===o?90:-90}},o!==t&&this.loader.load(MODEL_URLS[o],function(t){var o=t.scene.children[0];o.mixer=new THREE.AnimationMixer(o),i.clips=t.animations,n.setObject3D("mesh",o),o.position.set(0,0,0),o.rotation.set(0,0,0),n.setAttribute("vive-controls",e),n.setAttribute("oculus-touch-controls",e),n.setAttribute("windows-motion-controls",e)})},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(t,e){var n,o="down"===e,i="touchstart"===e;if(0===e.indexOf("touch")){if(i===this.touchedButtons[t])return;this.touchedButtons[t]=i}else{if(o===this.pressedButtons[t])return;this.pressedButtons[t]=o}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var t,e=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,o=this.pressedButtons.trackpad||this.touchedButtons.trackpad,i=this.pressedButtons.trigger||this.touchedButtons.trigger,r=this.touchedButtons.AorX||this.touchedButtons.BorY;return isViveController(this.el.components["tracked-controls"])?e||i?t=ANIMATIONS.fist:o&&(t=ANIMATIONS.point):e?t=n||r||o?i?ANIMATIONS.fist:ANIMATIONS.point:i?ANIMATIONS.thumbUp:ANIMATIONS.pointThumb:i&&(t=ANIMATIONS.hold),t},getClip:function(t){var e,n;for(n=0;n<this.clips.length;n++)if(e=this.clips[n],e.name===t)return e},animateGesture:function(t,e){if(t)return void this.playAnimation(t||ANIMATIONS.open,e,!1);this.playAnimation(e,e,!0)},emitGestureEvents:function(t,e){var n,o=this.el;e!==t&&(n=getGestureEventName(e,!1),n&&o.emit(n),(n=getGestureEventName(t,!0))&&o.emit(n))},playAnimation:function(t,e,n){var o,i,r,s=this.el.getObject3D("mesh");if(s){if(s.mixer.stopAllAction(),o=this.getClip(t),r=s.mixer.clipAction(o),r.clampWhenFinished=!0,r.loop=THREE.LoopRepeat,r.repetitions=0,r.timeScale=n?-1:1,r.time=n?o.duration:0,r.weight=1,!e||t===e)return s.mixer.stopAllAction(),void r.play();o=this.getClip(e),i=s.mixer.clipAction(o),i.weight=.15,i.play(),r.play(),i.crossFadeTo(r,.15,!0)}}});
},{"../core/component":108}],64:[function(_dereq_,module,exports){
_dereq_("./animation"),_dereq_("./camera"),_dereq_("./cursor"),_dereq_("./daydream-controls"),_dereq_("./gearvr-controls"),_dereq_("./geometry"),_dereq_("./generic-tracked-controller-controls"),_dereq_("./gltf-model"),_dereq_("./hand-controls"),_dereq_("./laser-controls"),_dereq_("./light"),_dereq_("./line"),_dereq_("./link"),_dereq_("./look-controls"),_dereq_("./material"),_dereq_("./obj-model"),_dereq_("./oculus-go-controls"),_dereq_("./oculus-touch-controls"),_dereq_("./position"),_dereq_("./raycaster"),_dereq_("./rotation"),_dereq_("./scale"),_dereq_("./shadow"),_dereq_("./sound"),_dereq_("./text"),_dereq_("./tracked-controls"),_dereq_("./tracked-controls-webvr"),_dereq_("./tracked-controls-webxr"),_dereq_("./visible"),_dereq_("./vive-controls"),_dereq_("./vive-focus-controls"),_dereq_("./wasd-controls"),_dereq_("./windows-motion-controls"),_dereq_("./scene/background"),_dereq_("./scene/debug"),_dereq_("./scene/device-orientation-permission-ui"),_dereq_("./scene/embedded"),_dereq_("./scene/inspector"),_dereq_("./scene/fog"),_dereq_("./scene/keyboard-shortcuts"),_dereq_("./scene/pool"),_dereq_("./scene/screenshot"),_dereq_("./scene/stats"),_dereq_("./scene/vr-mode-ui");
},{"./animation":55,"./camera":56,"./cursor":57,"./daydream-controls":58,"./gearvr-controls":59,"./generic-tracked-controller-controls":60,"./geometry":61,"./gltf-model":62,"./hand-controls":63,"./laser-controls":65,"./light":66,"./line":67,"./link":68,"./look-controls":69,"./material":70,"./obj-model":71,"./oculus-go-controls":72,"./oculus-touch-controls":73,"./position":74,"./raycaster":75,"./rotation":76,"./scale":77,"./scene/background":78,"./scene/debug":79,"./scene/device-orientation-permission-ui":80,"./scene/embedded":81,"./scene/fog":82,"./scene/inspector":83,"./scene/keyboard-shortcuts":84,"./scene/pool":85,"./scene/screenshot":86,"./scene/stats":87,"./scene/vr-mode-ui":88,"./shadow":89,"./sound":90,"./text":91,"./tracked-controls":94,"./tracked-controls-webvr":92,"./tracked-controls-webxr":93,"./visible":95,"./vive-controls":96,"./vive-focus-controls":97,"./wasd-controls":98,"./windows-motion-controls":99}],65:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,utils=_dereq_("../utils/");registerComponent("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){function t(t){var r=e[t.detail.name];if(r){var o=utils.extend({showLine:!0},r.raycaster||{});t.detail.rayOrigin&&(o.origin=t.detail.rayOrigin.origin,o.direction=t.detail.rayOrigin.direction,o.showLine=!0),t.detail.rayOrigin||!i.modelReady?n.setAttribute("raycaster",o):n.setAttribute("raycaster","showLine",!0),n.setAttribute("cursor",utils.extend({fuse:!1},r.cursor))}}function r(){n.setAttribute("raycaster","showLine",!1)}var e=this.config,o=this.data,n=this.el,i=this,s={hand:o.hand,model:o.model};n.setAttribute("daydream-controls",s),n.setAttribute("gearvr-controls",s),n.setAttribute("oculus-go-controls",s),n.setAttribute("oculus-touch-controls",s),n.setAttribute("vive-controls",s),n.setAttribute("vive-focus-controls",s),n.setAttribute("windows-motion-controls",s),n.setAttribute("generic-tracked-controller-controls",s),n.addEventListener("controllerconnected",t),n.addEventListener("controllerdisconnected",r),n.addEventListener("controllermodelready",function(r){t(r),i.modelReady=!0})},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:.001,z:0}}},"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}});
},{"../core/component":108,"../utils/":181}],66:[function(_dereq_,module,exports){
var bind=_dereq_("../utils/bind"),diff=_dereq_("../utils").diff,debug=_dereq_("../utils/debug"),registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad,warn=debug("components:light:warn");module.exports.Component=registerComponent("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(e)},update:function(e){var a=this.data,t=diff(a,e),o=this.light,r=this.rendererSystem,i=this;if(o&&!("type"in t)){var s=!1;return void Object.keys(t).forEach(function(e){var t=a[e];switch(e){case"color":o.color.set(t),r.applyColorCorrection(o.color);break;case"groundColor":o.groundColor.set(t),r.applyColorCorrection(o.groundColor);break;case"angle":o.angle=degToRad(t);break;case"target":null===t?"spot"!==a.type&&"directional"!==a.type||(o.target=i.defaultTarget):t.hasLoaded?i.onSetTarget(t,o):t.addEventListener("loaded",bind(i.onSetTarget,i,t,o));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":s||(i.updateShadow(),s=!0);break;default:o[e]=t}})}this.setLight(this.data),this.updateShadow()},setLight:function(e){var a=this.el,t=this.getLight(e);t&&(this.light&&a.removeObject3D("light"),this.light=t,this.light.el=a,a.setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||a.getObject3D("light").translateY(-1),"spot"===e.type&&(a.setObject3D("light-target",this.defaultTarget),a.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var e=this.el,a=this.data,t=this.light;t.castShadow=a.castShadow;var o=e.getObject3D("cameraHelper");if(a.shadowCameraVisible&&!o?e.setObject3D("cameraHelper",new THREE.CameraHelper(t.shadow.camera)):!a.shadowCameraVisible&&o&&e.removeObject3D("cameraHelper"),!a.castShadow)return t;t.shadow.bias=a.shadowBias,t.shadow.radius=a.shadowRadius,t.shadow.mapSize.height=a.shadowMapHeight,t.shadow.mapSize.width=a.shadowMapWidth,t.shadow.camera.near=a.shadowCameraNear,t.shadow.camera.far=a.shadowCameraFar,t.shadow.camera instanceof THREE.OrthographicCamera?(t.shadow.camera.top=a.shadowCameraTop,t.shadow.camera.right=a.shadowCameraRight,t.shadow.camera.bottom=a.shadowCameraBottom,t.shadow.camera.left=a.shadowCameraLeft):t.shadow.camera.fov=a.shadowCameraFov,t.shadow.camera.updateProjectionMatrix(),o&&o.update()},getLight:function(e){var a=e.angle,t=new THREE.Color(e.color);this.rendererSystem.applyColorCorrection(t),t=t.getHex();var o=e.decay,r=e.distance,i=new THREE.Color(e.groundColor);this.rendererSystem.applyColorCorrection(i),i=i.getHex();var s=e.intensity,d=e.type,h=e.target,n=null;switch(d.toLowerCase()){case"ambient":return new THREE.AmbientLight(t,s);case"directional":return n=new THREE.DirectionalLight(t,s),this.defaultTarget=n.target,h&&(h.hasLoaded?this.onSetTarget(h,n):h.addEventListener("loaded",bind(this.onSetTarget,this,h,n))),n;case"hemisphere":return new THREE.HemisphereLight(t,i,s);case"point":return new THREE.PointLight(t,s,r,o);case"spot":return n=new THREE.SpotLight(t,s,r,degToRad(a),e.penumbra,o),this.defaultTarget=n.target,h&&(h.hasLoaded?this.onSetTarget(h,n):h.addEventListener("loaded",bind(this.onSetTarget,this,h,n))),n;default:warn("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",d)}},onSetTarget:function(e,a){a.target=e.object3D},remove:function(){var e=this.el;e.removeObject3D("light"),e.getObject3D("cameraHelper")&&e.removeObject3D("cameraHelper")}});
},{"../core/component":108,"../lib/three":156,"../utils":181,"../utils/bind":175,"../utils/debug":177}],67:[function(_dereq_,module,exports){
function isEqualVec3(e,t){return!(!e||!t)&&(e.x===t.x&&e.y===t.y&&e.z===t.z)}var registerComponent=_dereq_("../core/component").registerComponent;module.exports.Component=registerComponent("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var e,t,r=this.data;this.rendererSystem=this.el.sceneEl.systems.renderer,t=this.material=new THREE.LineBasicMaterial({color:r.color,opacity:r.opacity,transparent:r.opacity<1,visible:r.visible}),e=this.geometry=new THREE.BufferGeometry,e.addAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(t.color),this.line=new THREE.Line(e,t),this.el.setObject3D(this.attrName,this.line)},update:function(e){var t=this.data,r=this.geometry,i=!1,o=this.material,n=r.attributes.position.array;isEqualVec3(t.start,e.start)||(n[0]=t.start.x,n[1]=t.start.y,n[2]=t.start.z,i=!0),isEqualVec3(t.end,e.end)||(n[3]=t.end.x,n[4]=t.end.y,n[5]=t.end.z,i=!0),i&&(r.attributes.position.needsUpdate=!0,r.computeBoundingSphere()),o.color.setStyle(t.color),this.rendererSystem.applyColorCorrection(o.color),o.opacity=t.opacity,o.transparent=t.opacity<1,o.visible=t.visible},remove:function(){this.el.removeObject3D("line",this.line)}});
},{"../core/component":108}],68:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,registerShader=_dereq_("../core/shader").registerShader,THREE=_dereq_("../lib/three");module.exports.Component=registerComponent("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new THREE.Quaternion,this.hiddenEls=[]},update:function(e){var t,i,r=this.data,o=this.el;r.visualAspectEnabled&&(this.initVisualAspect(),t=r.highlighted?r.highlightedColor:r.backgroundColor,i=r.highlighted?r.highlightedColor:r.borderColor,o.setAttribute("material","backgroundColor",t),o.setAttribute("material","strokeColor",i),r.on!==e.on&&this.updateEventListener(),void 0!==e.peekMode&&r.peekMode!==e.peekMode&&this.updatePeekMode(),r.image&&e.image!==r.image&&o.setAttribute("material","pano","string"==typeof r.image?r.image:r.image.src))},updatePeekMode:function(){var e=this.el,t=this.sphereEl;this.data.peekMode?(this.hideAll(),e.getObject3D("mesh").visible=!1,t.setAttribute("visible",!0)):(this.showAll(),e.getObject3D("mesh").visible=!0,t.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var e=this.el;e.isPlaying&&(this.removeEventListener(),e.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var e=this.data.on;e&&this.el.removeEventListener(e,this.navigate)},initVisualAspect:function(){var e,t,i,r=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(i=this.textEl=this.textEl||document.createElement("a-entity"),t=this.sphereEl=this.sphereEl||document.createElement("a-entity"),e=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),r.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),r.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),i.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),i.setAttribute("position","0 1.5 0"),r.appendChild(i),e.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("rotation","0 180 0"),e.setAttribute("position","0 0 0"),e.setAttribute("visible",!1),r.appendChild(e),t.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("visible",!1),r.appendChild(t),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Quaternion,r=new THREE.Vector3;return function(){var o,a,n=this.el,s=n.object3D,l=n.sceneEl.camera,d=this.textEl;if(this.data.visualAspectEnabled)if(s.updateMatrixWorld(),l.parent.updateMatrixWorld(),l.updateMatrixWorld(),s.matrix.decompose(t,i,r),t.setFromMatrixPosition(s.matrixWorld),e.setFromMatrixPosition(l.matrixWorld),(a=t.distanceTo(e))>20)this.previousQuaternion||(this.quaternionClone.copy(i),this.previousQuaternion=this.quaternionClone),s.lookAt(e);else{if(o=this.calculateCameraPortalOrientation(),a<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;d.setAttribute("text","width",1.5),o<=0?(d.setAttribute("position","0 0 0.75"),d.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(d.setAttribute("position","0 0 -0.75"),d.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),n.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=o}else o<=0?d.setAttribute("rotation","0 180 0"):d.setAttribute("rotation","0 0 0"),d.setAttribute("text","width",5),d.setAttribute("position","0 1.5 0"),n.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(s.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var e=this.el,t=this.hiddenEls,i=this;t.length>0||e.sceneEl.object3D.traverse(function(r){r&&r.el&&r.el.hasAttribute("link-controls")||r.el&&r!==e.sceneEl.object3D&&r.el!==e&&r.el!==i.sphereEl&&r.el!==e.sceneEl.cameraEl&&!1!==r.el.getAttribute("visible")&&r.el!==i.textEl&&r.el!==i.semiSphereEl&&(r.el.setAttribute("visible",!1),t.push(r.el))})},showAll:function(){this.hiddenEls.forEach(function(e){e.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var e=new THREE.Matrix4,t=new THREE.Vector3,i=new THREE.Vector3(0,0,1),r=new THREE.Vector3(0,0,0);return function(){var o=this.el,a=o.sceneEl.camera;return t.set(0,0,0),i.set(0,0,1),r.set(0,0,0),o.object3D.matrixWorld.extractRotation(e),i.applyMatrix4(e),o.object3D.updateMatrixWorld(),o.object3D.localToWorld(r),a.parent.parent.updateMatrixWorld(),a.parent.updateMatrixWorld(),a.updateMatrixWorld(),a.localToWorld(t),t.sub(r).normalize(),i.normalize(),Math.sign(i.dot(t))}}(),remove:function(){this.removeEventListener()}}),registerShader("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = saturate(direction.y * 0.5  + 0.5);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")});
},{"../core/component":108,"../core/shader":118,"../lib/three":156}],69:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),bind=utils.bind,PI_2=Math.PI/2;module.exports.Component=registerComponent("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new THREE.Vector3,this.hmdQuaternion=new THREE.Quaternion,this.magicWindowAbsoluteEuler=new THREE.Euler,this.magicWindowDeltaEuler=new THREE.Euler,this.position=new THREE.Vector3,this.savedRotation=new THREE.Vector3,this.savedPosition=new THREE.Vector3,this.magicWindowObject=new THREE.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix(),this.setupMagicWindowControls(),this.savedPose={position:new THREE.Vector3,rotation:new THREE.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},setupMagicWindowControls:function(){var e;utils.device.isMobile()&&(e=this.magicWindowControls=new THREE.DeviceOrientationControls(this.magicWindowObject),"undefined"!=typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&(e.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?e.enabled=!0:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){e.enabled=!0})))},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),!e||t.hmdEnabled||e.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(e){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=bind(this.onMouseDown,this),this.onMouseMove=bind(this.onMouseMove,this),this.onMouseUp=bind(this.onMouseUp,this),this.onTouchStart=bind(this.onTouchStart,this),this.onTouchMove=bind(this.onTouchMove,this),this.onTouchEnd=bind(this.onTouchEnd,this),this.onEnterVR=bind(this.onEnterVR,this),this.onExitVR=bind(this.onExitVR,this),this.onPointerLockChange=bind(this.onPointerLockChange,this),this.onPointerLockError=bind(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new THREE.Object3D,this.yawObject=new THREE.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;if(!t)return void e.addEventListener("render-target-loaded",bind(this.addEventListeners,this));t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var e=new THREE.Matrix4;return function(){var t,o=this.el.object3D,n=this.pitchObject,i=this.yawObject,s=this.el.sceneEl;if(s.is("vr-mode")&&s.checkHeadsetConnected())return void(s.hasWebXR&&(t=s.renderer.xr.getCameraPose())&&(e.elements=t.transform.matrix,e.decompose(o.position,o.rotation,o.scale)));o.updateMatrix(),this.updateMagicWindowOrientation(),o.rotation.x=this.magicWindowDeltaEuler.x+n.rotation.x,o.rotation.y=this.magicWindowDeltaEuler.y+i.rotation.y,o.rotation.z=this.magicWindowDeltaEuler.z}}(),updateMagicWindowOrientation:function(){var e=this.magicWindowAbsoluteEuler,t=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),e.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),this.previousMagicWindowYaw||0===e.y||(this.previousMagicWindowYaw=e.y),this.previousMagicWindowYaw&&(t.x=e.x,t.y+=e.y-this.previousMagicWindowYaw,t.z=e.z,this.previousMagicWindowYaw=e.y))},onMouseMove:function(e){var t,o,n,i=this.pitchObject,s=this.previousMouseEvent,r=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(o=e.movementX||e.mozMovementX||0,n=e.movementY||e.mozMovementY||0):(o=e.screenX-s.screenX,n=e.screenY-s.screenY),this.previousMouseEvent=e,t=this.data.reverseMouseDrag?1:-1,r.rotation.y+=.002*o*t,i.rotation.x+=.002*n*t,i.rotation.x=Math.max(-PI_2,Math.min(PI_2,i.rotation.x)))},onMouseDown:function(e){var t=this.el.sceneEl;if(this.data.enabled&&!t.is("vr-mode")&&0===e.button){var o=t&&t.canvas;this.mouseDown=!0,this.previousMouseEvent=e,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(o.requestPointerLock?o.requestPointerLock():o.mozRequestPointerLock&&o.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(e){1===e.touches.length&&this.data.touchEnabled&&!this.el.sceneEl.is("vr-mode")&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,o,n=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(o=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/n.clientWidth,t=this.data.reverseTouchDrag?1:-1,i.rotation.y-=.5*o*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),this.el.object3D.updateMatrix())},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0))},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(e){function t(){n.canvas.classList.add("a-grab-cursor")}function o(){n.canvas.classList.remove("a-grab-cursor")}var n=this.el.sceneEl;return n.canvas?e?void t():void o():void(e?n.addEventListener("render-target-loaded",t):n.addEventListener("render-target-loaded",o))},saveCameraPose:function(){var e=this.el;this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var e=this.el,t=this.savedPose;this.hasSavedPose&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}});
},{"../core/component":108,"../lib/three":156,"../utils/":181}],70:[function(_dereq_,module,exports){
function parseSide(e){switch(e){case"back":return THREE.BackSide;case"double":return THREE.DoubleSide;default:return THREE.FrontSide}}function parseVertexColors(e){switch(e){case"face":return THREE.FaceColors;case"vertex":return THREE.VertexColors;default:return THREE.NoColors}}function parseBlending(e){switch(e){case"none":return THREE.NoBlending;case"additive":return THREE.AdditiveBlending;case"subtractive":return THREE.SubtractiveBlending;case"multiply":return THREE.MultiplyBlending;default:return THREE.NormalBlending}}function disposeMaterial(e,t){e.dispose(),t.unregisterMaterial(e)}var utils=_dereq_("../utils/"),component=_dereq_("../core/component"),THREE=_dereq_("../lib/three"),shader=_dereq_("../core/shader"),error=utils.debug("components:material:error"),registerComponent=component.registerComponent,shaders=shader.shaders,shaderNames=shader.shaderNames;module.exports.Component=registerComponent("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:shaderNames,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial(e)},updateSchema:function(e){var t,a,r,i;a=e&&e.shader,t=this.oldData&&this.oldData.shader,i=a||t,r=shaders[i]&&shaders[i].schema,r||error("Unknown shader schema "+i),t&&a===t||(this.extendSchema(r),this.updateBehavior())},updateBehavior:function(){function e(e,t){var r;for(r in a)a[r]=e;s.shader.update(a)}var t,a,r=this.el.sceneEl,i=this.schema,s=this;this.tick=void 0,a={};for(t in i)"time"===i[t].type&&(this.tick=e,a[t]=!0);r&&(this.tick?r.addBehavior(this):r.removeBehavior(this))},updateShader:function(e){var t,a=this.data,r=shaders[e]&&shaders[e].Shader;if(!r)throw new Error("Unknown shader "+e);t=this.shader=new r,t.el=this.el,t.init(a),this.setMaterial(t.material),this.updateSchema(a)},updateMaterial:function(e){var t,a=this.data,r=this.material;r.alphaTest=a.alphaTest,r.depthTest=!1!==a.depthTest,r.depthWrite=!1!==a.depthWrite,r.opacity=a.opacity,r.flatShading=a.flatShading,r.side=parseSide(a.side),r.transparent=!1!==a.transparent||a.opacity<1,r.vertexColors=parseVertexColors(a.vertexColors),r.visible=a.visible,r.blending=parseBlending(a.blending);for(t in e)break;!t||e.alphaTest===a.alphaTest&&e.side===a.side&&e.vertexColors===a.vertexColors||(r.needsUpdate=!0)},remove:function(){var e=new THREE.MeshBasicMaterial,t=this.material,a=this.el.getObject3D("mesh");a&&(a.material=e),disposeMaterial(t,this.system)},setMaterial:function(e){var t,a=this.el,r=this.system;this.material&&disposeMaterial(this.material,r),this.material=e,r.registerMaterial(e),t=a.getObject3D("mesh"),t?t.material=e:a.addEventListener("object3dset",function t(r){"mesh"===r.detail.type&&r.target===a&&(a.getObject3D("mesh").material=e,a.removeEventListener("object3dset",t))})}});
},{"../core/component":108,"../core/shader":118,"../lib/three":156,"../utils/":181}],71:[function(_dereq_,module,exports){
var debug=_dereq_("../utils/debug"),registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),warn=debug("components:obj-model:warn");module.exports.Component=registerComponent("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var e=this;this.model=null,this.objLoader=new THREE.OBJLoader,this.mtlLoader=new THREE.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(o){e.model&&"material"===o.detail.name&&e.applyMaterial()})},update:function(){var e=this.data;e.obj&&(this.resetMesh(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(e,o){var t=this,r=this.el,i=this.mtlLoader,a=this.objLoader,s=this.el.sceneEl.systems.renderer,n=o.substr(0,o.lastIndexOf("/")+1);if(o)return r.hasAttribute("material")&&warn("Material component properties are ignored when a .MTL is provided"),i.setResourcePath(n),void i.load(o,function(o){o.preload(),a.setMaterials(o),a.load(e,function(e){t.model=e,t.model.traverse(function(e){if(e.isMesh){var o=e.material;o.color&&s.applyColorCorrection(o.color),o.map&&s.applyColorCorrection(o.map),o.emissive&&s.applyColorCorrection(o.emissive),o.emissiveMap&&s.applyColorCorrection(o.emissiveMap)}}),r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})})});a.load(e,function(e){t.model=e,t.applyMaterial(),r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})})},applyMaterial:function(){var e=this.el.components.material;e&&this.model.traverse(function(o){o instanceof THREE.Mesh&&(o.material=e.material)})}});
},{"../core/component":108,"../lib/three":156,"../utils/debug":177}],72:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,isWebXRAvailable=_dereq_("../utils/").device.isWebXRAvailable,GAMEPAD_ID_WEBXR="oculus-go",GAMEPAD_ID_WEBVR="Oculus Go",OCULUS_GO_CONTROLLER_MODEL_URL="https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf",GAMEPAD_ID_PREFIX=isWebXRAvailable?GAMEPAD_ID_WEBXR:GAMEPAD_ID_WEBVR,INPUT_MAPPING_WEBVR={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},INPUT_MAPPING_WEBXR={left:{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},right:{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]}},INPUT_MAPPING=isWebXRAvailable?INPUT_MAPPING_WEBXR:INPUT_MAPPING_WEBVR;module.exports.Component=registerComponent("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:INPUT_MAPPING,bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,hand:e.hand,idPrefix:GAMEPAD_ID_PREFIX,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",OCULUS_GO_CONTROLLER_MODEL_URL)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,o=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.trigger=o.getObjectByName("oculus_go_button_trigger"),e.trackpad=o.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var o=this.buttonMeshes;if(o&&o[t]){var n,i;switch(e){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}i=o[t],i.material.color.set(n),this.rendererSystem.applyColorCorrection(i.material.color)}}});
},{"../core/component":108,"../utils/":181,"../utils/bind":175,"../utils/tracked-controls":189}],73:[function(_dereq_,module,exports){
var bind=_dereq_("../utils/bind"),registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,isOculusBrowser=_dereq_("../utils/").device.isOculusBrowser(),isWebXRAvailable=_dereq_("../utils/").device.isWebXRAvailable,GAMEPAD_ID_WEBXR="oculus-touch",GAMEPAD_ID_WEBVR="Oculus Touch",GAMEPAD_ID_PREFIX=isWebXRAvailable?GAMEPAD_ID_WEBXR:GAMEPAD_ID_WEBVR,TOUCH_CONTROLLER_MODEL_BASE_URL="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",TOUCH_GEN2_CONTROLLER_MODEL_BASE_URL=TOUCH_CONTROLLER_MODEL_BASE_URL,OCULUS_TOUCH_WEBVR={left:{modelUrl:TOUCH_CONTROLLER_MODEL_BASE_URL+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new THREE.Vector3(-.005,.003,-.055),modelPivotRotation:new THREE.Euler(0,0,0)},right:{modelUrl:TOUCH_CONTROLLER_MODEL_BASE_URL+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new THREE.Vector3(.005,.003,-.055),modelPivotRotation:new THREE.Euler(0,0,0)}},OCULUS_TOUCH_WEBXR={left:{modelUrl:TOUCH_CONTROLLER_MODEL_BASE_URL+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new THREE.Vector3(-.005,.036,-.037),modelPivotRotation:new THREE.Euler(Math.PI/4.5,0,0)},right:{modelUrl:TOUCH_CONTROLLER_MODEL_BASE_URL+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new THREE.Vector3(.005,.036,-.037),modelPivotRotation:new THREE.Euler(Math.PI/4.5,0,0)}},OCULUS_TOUCH_CONFIG=isWebXRAvailable?OCULUS_TOUCH_WEBXR:OCULUS_TOUCH_WEBVR,CONTROLLER_DEFAULT="oculus-touch",CONTROLLER_PROPERTIES={"oculus-touch":OCULUS_TOUCH_CONFIG,"oculus-touch-v2":{left:{modelUrl:TOUCH_GEN2_CONTROLLER_MODEL_BASE_URL+"gen2-left.gltf",rayOrigin:{origin:{x:-.01,y:0,z:-.02},direction:{x:0,y:-.5,z:-1}},modelPivotOffset:new THREE.Vector3(0,0,0),modelPivotRotation:new THREE.Euler(0,0,0)},right:{modelUrl:TOUCH_GEN2_CONTROLLER_MODEL_BASE_URL+"gen2-right.gltf",rayOrigin:{origin:{x:.01,y:0,z:-.02},direction:{x:0,y:-.5,z:-1}},modelPivotOffset:new THREE.Vector3(0,0,0),modelPivotRotation:new THREE.Euler(0,0,0)}}},INPUT_MAPPING_WEBVR={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},INPUT_MAPPING_WEBXR={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},INPUT_MAPPING=isWebXRAvailable?INPUT_MAPPING_WEBXR:INPUT_MAPPING_WEBVR;module.exports.Component=registerComponent("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:INPUT_MAPPING,bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t,t.data.hand)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t,t.data.hand)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t,t.data.hand)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t,t.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("axismove",this.onAxisMoved),t.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("axismove",this.onAxisMoved),t.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(){var t=this.data;if(t.model){if(this.displayModel=CONTROLLER_PROPERTIES[t.controllerType]||CONTROLLER_PROPERTIES[CONTROLLER_DEFAULT],"auto"===t.controllerType){var e=this.el.sceneEl.systems["tracked-controls-webvr"];if(e&&e.vrDisplay){/^Oculus Quest$/.test(e.vrDisplay.displayName)&&(this.displayModel=CONTROLLER_PROPERTIES["oculus-touch-v2"])}isOculusBrowser&&(this.displayModel=CONTROLLER_PROPERTIES["oculus-touch-v2"])}var o=this.displayModel[t.hand].modelUrl;this.el.setAttribute("gltf-model",o)}},injectTrackedControls:function(){var t=this.data,e=GAMEPAD_ID_WEBXR,o="right"===t.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",n=isWebXRAvailable?e:o;this.el.setAttribute("tracked-controls",{id:n,hand:t.hand,orientationOffset:t.orientationOffset}),this.loadModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,o=this.mapping[this.data.hand].buttons[t.detail.id],n=this.buttonMeshes;o&&("trigger"!==o&&"grip"!==o||(e=t.detail.state.value),n&&("trigger"===o&&n.trigger&&(n.trigger.rotation.x=this.originalXRotationTrigger-e*(Math.PI/26)),"grip"===o&&n.grip&&(n.grip.position.x=this.originalXPositionGrip+("left"===this.data.hand?-1:1)*e*.004)),this.el.emit(o+"changed",t.detail.state))},onModelLoaded:function(t){var e,o=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.grip=o.getObjectByName("buttonHand"),this.originalXPositionGrip=e.grip.position.x,e.thumbstick=o.getObjectByName("stick"),e.trigger=o.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=e.trigger.rotation.x,e.xbutton=o.getObjectByName("buttonX"),e.abutton=o.getObjectByName("buttonA"),e.ybutton=o.getObjectByName("buttonY"),e.bbutton=o.getObjectByName("buttonB"),o.position.copy(this.displayModel[this.data.hand].modelPivotOffset),o.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin}))},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping[this.data.hand].axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var o,n="up"===e||"touchend"===e?this.data.buttonColor:"touchstart"===e?this.data.buttonTouchColor:this.data.buttonHighlightColor,i=this.buttonMeshes;this.data.model&&i&&i[t]&&(o=i[t],o.material.color.set(n),this.rendererSystem.applyColorCorrection(o.material.color))}});
},{"../core/component":108,"../lib/three":156,"../utils/":181,"../utils/bind":175,"../utils/tracked-controls":189}],74:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent;module.exports.Component=registerComponent("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,o=this.data;e.position.set(o.x,o.y,o.z)},remove:function(){this.el.object3D.position.set(0,0,0)}});
},{"../core/component":108}],75:[function(_dereq_,module,exports){
function copyArray(e,t){var i;for(e.length=t.length,i=0;i<t.length;i++)e[i]=t[i]}var registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),warn=utils.debug("components:raycaster:warn"),OBSERVER_SELECTOR_RE=/^[\w\s-.,[\]#]*$/,OBSERVER_CONFIG={childList:!0,attributes:!0,subtree:!0},EVENTS={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared"};module.exports.Component=registerComponent("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new THREE.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new THREE.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new THREE.Vector3,this.otherLineEndVec3=new THREE.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(e){var t=this.data,i=this.el,s=this.raycaster;s.far=t.far,s.near=t.near,!t.showLine||t.far===e.far&&t.origin===e.origin&&t.direction===e.direction&&e.showLine||(this.unitLineEndVec3.copy(t.origin).add(t.direction).normalize(),this.drawLine()),!t.showLine&&e.showLine&&i.removeAttribute("line"),t.objects===e.objects||OBSERVER_SELECTOR_RE.test(t.objects)||warn('[raycaster] Selector "'+t.objects+'" may not update automatically with DOM changes.'),t.objects||warn('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),t.autoRefresh!==e.autoRefresh&&i.isPlaying&&(t.autoRefresh?this.addEventListeners():this.removeEventListeners()),e.enabled&&!t.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,OBSERVER_CONFIG),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var e,t=this.data;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(e),this.dirty=!1},tick:function(e){var t=this.data,i=this.prevCheckTime;t.enabled&&(i&&e-i<t.interval||(this.prevCheckTime=e,this.checkIntersections()))},checkIntersections:function(){var e,t,i=this.clearedIntersectedEls,s=this.el,n=this.data,r=this.intersectedEls,c=this.intersections,o=this.newIntersectedEls,a=this.newIntersections,h=this.prevIntersectedEls,l=this.rawIntersections;for(this.dirty&&this.refreshObjects(),copyArray(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),l.length=0,this.raycaster.intersectObjects(this.objects,!0,l),c.length=0,r.length=0,e=0;e<l.length;e++)t=l[e],n.showLine&&t.object===s.getObject3D("line")||t.object.el&&(c.push(t),r.push(t.object.el));for(a.length=0,o.length=0,e=0;e<c.length;e++)-1===h.indexOf(c[e].object.el)&&(a.push(c[e]),o.push(c[e].object.el));for(i.length=0,e=0;e<h.length;e++)-1===r.indexOf(h[e])&&(h[e].emit(EVENTS.INTERSECT_CLEAR,this.intersectedClearedDetail),i.push(h[e]));for(i.length&&s.emit(EVENTS.INTERSECTION_CLEAR,this.intersectionClearedDetail),e=0;e<o.length;e++)o[e].emit(EVENTS.INTERSECT,this.intersectedDetail);a.length&&(this.intersectionDetail.els=o,this.intersectionDetail.intersections=a,s.emit(EVENTS.INTERSECTION,this.intersectionDetail)),n.showLine&&setTimeout(this.updateLine)},updateLine:function(){var e,t=this.el,i=this.intersections;i.length&&(e=i[0].object.el===t&&i[1]?i[1].distance:i[0].distance),this.drawLine(e)},getIntersection:function(e){var t,i;for(t=0;t<this.intersections.length;t++)if(i=this.intersections[t],i.object.el===e)return i;return null},updateOriginDirection:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){var i=this.el,s=this.data;if(s.useWorldCoordinates)return void this.raycaster.set(s.origin,s.direction);i.object3D.getWorldPosition(t),0===s.origin.x&&0===s.origin.y&&0===s.origin.z||(t=i.object3D.localToWorld(t.copy(s.origin))),e.copy(s.direction).transformDirection(i.object3D.matrixWorld).normalize(),this.raycaster.set(t,e)}}(),drawLine:function(e){var t,i=this.data,s=this.el;t=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===e&&(e=i.far===1/0?1e3:i.far),this.lineData.start=i.origin,this.lineData.end=t.copy(this.unitLineEndVec3).multiplyScalar(e),s.setAttribute("line",this.lineData)},flattenObject3DMaps:function(e){var t,i,s=this.objects;for(s.length=0,i=0;i<e.length;i++)if(e[i].isEntity&&e[i].object3D)for(t in e[i].object3DMap)s.push(e[i].getObject3D(t));return s},clearAllIntersections:function(){var e;for(e=0;e<this.intersectedEls.length;e++)this.intersectedEls[e].emit(EVENTS.INTERSECT_CLEAR,this.intersectedClearedDetail);copyArray(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(EVENTS.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});
},{"../core/component":108,"../lib/three":156,"../utils/":181}],76:[function(_dereq_,module,exports){
var degToRad=_dereq_("../lib/three").Math.degToRad,registerComponent=_dereq_("../core/component").registerComponent;module.exports.Component=registerComponent("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,o=this.el.object3D;o.rotation.set(degToRad(e.x),degToRad(e.y),degToRad(e.z)),o.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}});
},{"../core/component":108,"../lib/three":156}],77:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,zeroScale=1e-5;module.exports.Component=registerComponent("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,o=this.el.object3D,t=0===e.x?zeroScale:e.x,r=0===e.y?zeroScale:e.y,c=0===e.z?zeroScale:e.z;o.scale.set(t,r,c)},remove:function(){this.el.object3D.scale.set(1,1,1)}});
},{"../core/component":108}],78:[function(_dereq_,module,exports){
var register=_dereq_("../../core/component").registerComponent;module.exports.Component=register("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var e=this.data,r=this.el.object3D;if(e.transparent)return void(r.background=null);r.background=new THREE.Color(e.color)}});
},{"../../core/component":108}],79:[function(_dereq_,module,exports){
var register=_dereq_("../../core/component").registerComponent;module.exports.Component=register("debug",{schema:{default:!0}});
},{"../../core/component":108}],80:[function(_dereq_,module,exports){
function createPermissionDialog(e,t,i){var n,o,s;return n=document.createElement("div"),n.classList.add(DIALOG_BUTTONS_CONTAINER_CLASS),o=document.createElement("button"),o.classList.add(DIALOG_BUTTON_CLASS,DIALOG_DENY_BUTTON_CLASS),o.setAttribute(constants.AFRAME_INJECTED,""),o.innerHTML="Deny",n.appendChild(o),s=document.createElement("button"),s.classList.add(DIALOG_BUTTON_CLASS,DIALOG_ALLOW_BUTTON_CLASS),s.setAttribute(constants.AFRAME_INJECTED,""),s.innerHTML="Allow",n.appendChild(s),s.addEventListener("click",function(e){e.stopPropagation(),t()}),o.addEventListener("click",function(e){e.stopPropagation(),i()}),createDialog(e,n)}function createAlertDialog(e,t){var i,n;return i=document.createElement("div"),i.classList.add(DIALOG_BUTTONS_CONTAINER_CLASS),n=document.createElement("button"),n.classList.add(DIALOG_BUTTON_CLASS,DIALOG_OK_BUTTON_CLASS),n.setAttribute(constants.AFRAME_INJECTED,""),n.innerHTML="Close",i.appendChild(n),n.addEventListener("click",function(e){e.stopPropagation(),t()}),createDialog(e,i)}function createDialog(e,t){var i,n,o,s;return i=document.createElement("div"),i.classList.add(MODAL_CLASS),i.setAttribute(constants.AFRAME_INJECTED,""),n=document.createElement("div"),n.className=DIALOG_CLASS,n.setAttribute(constants.AFRAME_INJECTED,""),i.appendChild(n),o=document.createElement("div"),o.classList.add(DIALOG_TEXT_CONTAINER_CLASS),n.appendChild(o),s=document.createElement("div"),s.classList.add(DIALOG_TEXT_CLASS),s.innerHTML=e,o.appendChild(s),n.appendChild(t),i}var registerComponent=_dereq_("../../core/component").registerComponent,utils=_dereq_("../../utils/"),bind=utils.bind,constants=_dereq_("../../constants/"),MODAL_CLASS="a-modal",DIALOG_CLASS="a-dialog",DIALOG_TEXT_CLASS="a-dialog-text",DIALOG_TEXT_CONTAINER_CLASS="a-dialog-text-container",DIALOG_BUTTONS_CONTAINER_CLASS="a-dialog-buttons-container",DIALOG_BUTTON_CLASS="a-dialog-button",DIALOG_ALLOW_BUTTON_CLASS="a-dialog-allow-button",DIALOG_DENY_BUTTON_CLASS="a-dialog-deny-button",DIALOG_OK_BUTTON_CLASS="a-dialog-ok-button";module.exports.Component=registerComponent("device-orientation-permission-ui",{schema:{enabled:{default:!0}},init:function(){var e=this;if(this.data.enabled){if("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"http:"===location.protocol&&this.showHTTPAlert(),utils.device.isMobileDeviceRequestingDesktopSite())return void this.showMobileDesktopModeAlert();if("undefined"==typeof DeviceOrientationEvent||!DeviceOrientationEvent.requestPermission)return void(this.permissionGranted=!0);this.onDeviceMotionDialogAllowClicked=bind(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=bind(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().catch(function(){e.devicePermissionDialogEl=createPermissionDialog("This immersive website requires access to your device motion sensors.",e.onDeviceMotionDialogAllowClicked,e.onDeviceMotionDialogDenyClicked),e.el.appendChild(e.devicePermissionDialogEl)}).then(function(){e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showMobileDesktopModeAlert:function(){var e=this,t=createAlertDialog("Set your browser to request the mobile version of the site and reload the page to enjoy immersive mode.",function(){e.el.removeChild(t)});this.el.appendChild(t)},showHTTPAlert:function(){var e=this,t=createAlertDialog("Access this site over HTTPS to enter VR mode and grant access to the device sensors.",function(){e.el.removeChild(t)});this.el.appendChild(t)},onDeviceMotionDialogAllowClicked:function(){var e=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t?(e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0):e.el.emit("deviceorientationpermissionrejected"),e.remove()}).catch(console.error)}});
},{"../../constants/":100,"../../core/component":108,"../../utils/":181}],81:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../../core/component").registerComponent;module.exports.Component=registerComponent("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,r=e.querySelector(".a-enter-vr");!0===this.data?(r&&r.classList.add("embedded"),e.removeFullScreenStyles()):(r&&r.classList.remove("embedded"),e.addFullScreenStyles())}});
},{"../../core/component":108}],82:[function(_dereq_,module,exports){
function getFog(e){var o;return o="exponential"===e.type?new THREE.FogExp2(e.color,e.density):new THREE.Fog(e.color,e.near,e.far),o.name=e.type,o}var register=_dereq_("../../core/component").registerComponent,THREE=_dereq_("../../lib/three"),debug=_dereq_("../../utils/debug"),warn=debug("components:fog:warn");module.exports.Component=register("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var e=this.data,o=this.el,t=this.el.object3D.fog;return o.isScene?t&&e.type===t.name?void Object.keys(this.schema).forEach(function(o){var n=e[o];"color"===o&&(n=new THREE.Color(n)),t[o]=n}):(o.object3D.fog=getFog(e),void o.systems.material.updateMaterials()):void warn("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}});
},{"../../core/component":108,"../../lib/three":156,"../../utils/debug":177}],83:[function(_dereq_,module,exports){
(function (process){
function getFuzzyPatchVersion(e){var n=e.split(".");return n[2]="x",n.join(".")}var AFRAME_INJECTED=_dereq_("../../constants").AFRAME_INJECTED,pkg=_dereq_("../../../package"),registerComponent=_dereq_("../../core/component").registerComponent,utils=_dereq_("../../utils/"),INSPECTOR_DEV_URL="https://aframe.io/aframe-inspector/dist/aframe-inspector.js",INSPECTOR_RELEASE_URL="https://unpkg.com/aframe-inspector@"+getFuzzyPatchVersion(pkg.version)+"/dist/aframe-inspector.min.js",INSPECTOR_URL="dev"===process.env.INSPECTOR_VERSION?INSPECTOR_DEV_URL:INSPECTOR_RELEASE_URL,LOADING_MESSAGE="Loading Inspector",LOADING_ERROR_MESSAGE="Error loading Inspector";module.exports.Component=registerComponent("inspector",{schema:{url:{default:INSPECTOR_URL}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var e;this.firstPlay&&"false"!==(e=utils.getUrlParameter("inspector"))&&e&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=LOADING_MESSAGE+'<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(e){73===e.keyCode&&e.ctrlKey&&e.altKey&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.openInspector()},openInspector:function(e){var n,t=this;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected)return void AFRAME.INSPECTOR.open(e);this.showLoader(),n=document.createElement("script"),n.src=this.data.url,n.setAttribute("data-name","aframe-inspector"),n.setAttribute(AFRAME_INJECTED,""),n.onload=function(){AFRAME.INSPECTOR.open(e),t.hideLoader(),t.removeEventListeners()},n.onerror=function(){t.loadingMessageEl.innerHTML=LOADING_ERROR_MESSAGE},document.head.appendChild(n),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}});
}).call(this,_dereq_('_process'))

},{"../../../package":54,"../../constants":100,"../../core/component":108,"../../utils/":181,"_process":5}],84:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../../core/component").registerComponent,shouldCaptureKeyEvent=_dereq_("../../utils/").shouldCaptureKeyEvent;module.exports.Component=registerComponent("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(e){var t=this.el;shouldCaptureKeyEvent(e)&&(this.enterVREnabled&&70===e.keyCode&&t.enterVR(),this.enterVREnabled&&27===e.keyCode&&t.exitVR())}});
},{"../../core/component":108,"../../utils/":181}],85:[function(_dereq_,module,exports){
var debug=_dereq_("../../utils/debug"),registerComponent=_dereq_("../../core/component").registerComponent,warn=debug("components:pool:warn");module.exports.Component=registerComponent("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var t;for(this.availableEls=[],this.usedEls=[],this.data.mixin||warn("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||warn("Container "+this.data.container+" not found.")),this.container=this.container||this.el,t=0;t<this.data.size;++t)this.createEntity()},update:function(t){var i=this.data;t.mixin===i.mixin&&t.size===i.size||this.initPool()},createEntity:function(){var t;t=document.createElement("a-entity"),t.play=this.wrapPlay(t.play),t.setAttribute("mixin",this.data.mixin),t.object3D.visible=!1,t.pause(),this.container.appendChild(t),this.availableEls.push(t)},wrapPlay:function(t){var i=this.usedEls;return function(){-1!==i.indexOf(this)&&t.call(this)}},requestEntity:function(){var t;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void warn("Requested entity from empty pool: "+this.attrName);warn("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return t=this.availableEls.shift(),this.usedEls.push(t),t.object3D.visible=!0,t},returnEntity:function(t){var i=this.usedEls.indexOf(t);return-1===i?void warn("The returned entity was not previously pooled from "+this.attrName):(this.usedEls.splice(i,1),this.availableEls.push(t),t.object3D.visible=!1,t.pause(),t)}});
},{"../../core/component":108,"../../utils/debug":177}],86:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../../core/component").registerComponent,THREE=_dereq_("../../lib/three"),VERTEX_SHADER=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),FRAGMENT_SHADER=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");module.exports.Component=registerComponent("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){function e(){var e=t.renderer.getContext();e&&(a.cubeMapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),a.material=new THREE.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:VERTEX_SHADER,fragmentShader:FRAGMENT_SHADER,side:THREE.DoubleSide}),a.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),a.material),a.quad.visible=!1,a.camera=new THREE.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),a.canvas=document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),t.object3D.add(a.quad),a.onKeyDown=a.onKeyDown.bind(a))}var t=this.el,a=this;t.renderer?e():t.addEventListener("render-target-loaded",e)},getRenderTarget:function(e,t){return new THREE.WebGLRenderTarget(e,t,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,format:THREE.RGBAFormat,type:THREE.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var a=e.shiftKey?"equirectangular":"perspective";this.capture(a)}},setCapture:function(e){var t,a,r,i=this.el;return"perspective"===e?(this.quad.visible=!1,a=this.data.camera&&this.data.camera.components.camera.camera||i.camera,t={width:this.data.width,height:this.data.height}):(a=this.camera,r=new THREE.CubeCamera(i.camera.near,i.camera.far,Math.min(this.cubeMapSize,2048)),i.camera.getWorldPosition(r.position),i.camera.getWorldQuaternion(r.quaternion),r.update(i.renderer,i.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:a,size:t,projection:e}},capture:function(e){var t,a=this.el.renderer.xr.enabled,r=this.el.renderer;r.xr.enabled=!1,t=this.setCapture(e),this.renderCapture(t.camera,t.size,t.projection),this.saveCapture(),r.xr.enabled=a},getCanvas:function(e){var t=this.el.renderer.xr.enabled,a=this.el.renderer,r=this.setCapture(e);return a.xr.enabled=!1,this.renderCapture(r.camera,r.size,r.projection),a.xr.enabled=t,this.canvas},renderCapture:function(e,t,a){var r,i,n,o=this.el.renderer.autoClear,d=this.el,s=d.renderer;i=this.getRenderTarget(t.width,t.height),n=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),s.autoClear=!0,s.clear(),s.setRenderTarget(i),s.render(d.object3D,e),s.autoClear=o,s.readRenderTargetPixels(i,0,0,t.width,t.height,n),s.setRenderTarget(null),"perspective"===a&&(n=this.flipPixelsVertically(n,t.width,t.height)),r=new ImageData(new Uint8ClampedArray(n),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(e,t,a){for(var r=e.slice(0),i=0;i<t;++i)for(var n=0;n<a;++n)r[4*i+n*t*4]=e[4*i+(a-n)*t*4],r[4*i+1+n*t*4]=e[4*i+1+(a-n)*t*4],r[4*i+2+n*t*4]=e[4*i+2+(a-n)*t*4],r[4*i+3+n*t*4]=e[4*i+3+(a-n)*t*4];return r},saveCapture:function(){this.canvas.toBlob(function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",a=document.createElement("a"),r=URL.createObjectURL(e);a.href=r,a.setAttribute("download",t),a.innerHTML="downloading...",a.style.display="none",document.body.appendChild(a),setTimeout(function(){a.click(),document.body.removeChild(a)},1)},"image/png")}});
},{"../../core/component":108,"../../lib/three":156}],87:[function(_dereq_,module,exports){
function createStats(t){var e=new ThreeStats(t.renderer),s=new AFrameStats(t),i=t.isMobile?[]:[e,s];return new RStats({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:i})}var registerComponent=_dereq_("../../core/component").registerComponent,RStats=_dereq_("../../../vendor/rStats"),utils=_dereq_("../../utils");_dereq_("../../../vendor/rStats.extras"),_dereq_("../../lib/rStatsAframe");var AFrameStats=window.aframeStats,bind=utils.bind,HIDDEN_CLASS="a-hidden",ThreeStats=window.threeStats;module.exports.Component=registerComponent("stats",{schema:{default:!0},init:function(){var t=this.el;"false"!==utils.getUrlParameter("stats")&&(this.stats=createStats(t),this.statsEl=document.querySelector(".rs-base"),this.hideBound=bind(this.hide,this),this.showBound=bind(this.show,this),t.addEventListener("enter-vr",this.hideBound),t.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var t=this.stats;t&&(t("rAF").tick(),t("FPS").frame(),t().update())},hide:function(){this.statsEl.classList.add(HIDDEN_CLASS)},show:function(){this.statsEl.classList.remove(HIDDEN_CLASS)}});
},{"../../../vendor/rStats":192,"../../../vendor/rStats.extras":191,"../../core/component":108,"../../lib/rStatsAframe":155,"../../utils":181}],88:[function(_dereq_,module,exports){
function createEnterVRButton(t){var e,n;return n=document.createElement("div"),n.classList.add(ENTER_VR_CLASS),n.setAttribute(constants.AFRAME_INJECTED,""),e=document.createElement("button"),e.className=ENTER_VR_BTN_CLASS,e.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(constants.AFRAME_INJECTED,""),utils.device.isMobile()&&applyStickyHoverFix(e),n.appendChild(e),e.addEventListener("click",function(e){t(),e.stopPropagation()}),n}function createEnterARButton(t){var e,n;return n=document.createElement("div"),n.classList.add(ENTER_AR_CLASS),n.setAttribute(constants.AFRAME_INJECTED,""),e=document.createElement("button"),e.className=ENTER_AR_BTN_CLASS,e.setAttribute("title","Enter AR mode with a headset or handheld device. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(constants.AFRAME_INJECTED,""),utils.device.isMobile()&&applyStickyHoverFix(e),n.appendChild(e),e.addEventListener("click",function(e){t(),e.stopPropagation()}),n}function createOrientationModal(t){var e=document.createElement("div");e.className=ORIENTATION_MODAL_CLASS,e.classList.add(HIDDEN_CLASS),e.setAttribute(constants.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(constants.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",t),e.appendChild(n),e}function applyStickyHoverFix(t){t.addEventListener("touchstart",function(){t.classList.remove("resethover")}),t.addEventListener("touchend",function(){t.classList.add("resethover")})}var registerComponent=_dereq_("../../core/component").registerComponent,constants=_dereq_("../../constants/"),utils=_dereq_("../../utils/"),bind=utils.bind,ENTER_VR_CLASS="a-enter-vr",ENTER_AR_CLASS="a-enter-ar",ENTER_VR_BTN_CLASS="a-enter-vr-button",ENTER_AR_BTN_CLASS="a-enter-ar-button",HIDDEN_CLASS="a-hidden",ORIENTATION_MODAL_CLASS="a-orientation-modal";module.exports.Component=registerComponent("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var t=this,e=this.el;"false"!==utils.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),e.addEventListener("enter-vr",this.updateEnterInterfaces),e.addEventListener("exit-vr",this.updateEnterInterfaces),e.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(e){"loaderReady"===e.data.type&&(t.insideLoader=!0,t.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=bind(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=bind(this.onEnterARButtonClick,this),this.onModalClick=bind(this.onModalClick,this),this.toggleOrientationModalIfNeeded=bind(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=bind(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var t=this.data,e=this.el;if(!t.enabled||this.insideLoader||"false"===utils.getUrlParameter("ui"))return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(t.enterVRButton?(this.enterVREl=document.querySelector(t.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=createEnterVRButton(this.onEnterVRButtonClick),e.appendChild(this.enterVREl)),t.enterARButton?(this.enterAREl=document.querySelector(t.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=createEnterARButton(this.onEnterARButtonClick),e.appendChild(this.enterAREl)),this.orientationModalEl=createOrientationModal(this.onModalClick),e.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)})},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var t=this.el;this.enterVREl&&(t.is("vr-mode")?this.enterVREl.classList.add(HIDDEN_CLASS):this.enterVREl.classList.remove(HIDDEN_CLASS))},toggleEnterARButtonIfNeeded:function(){var t=this.el;this.enterAREl&&(t.is("vr-mode")||!utils.device.checkARSupport()?this.enterAREl.classList.add(HIDDEN_CLASS):this.enterAREl.classList.remove(HIDDEN_CLASS))},toggleOrientationModalIfNeeded:function(){var t=this.el,e=this.orientationModalEl;e&&t.isMobile&&(!utils.device.isLandscape()&&t.is("vr-mode")?e.classList.remove(HIDDEN_CLASS):e.classList.add(HIDDEN_CLASS))}});
},{"../../constants/":100,"../../core/component":108,"../../utils/":181}],89:[function(_dereq_,module,exports){
var component=_dereq_("../core/component"),THREE=_dereq_("../lib/three"),bind=_dereq_("../utils/bind"),registerComponent=component.registerComponent;module.exports.Component=registerComponent("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=bind(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var e=this.data;this.updateDescendants(e.cast,e.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(e,t){var n=this.el.sceneEl;this.el.object3D.traverse(function(s){if(s instanceof THREE.Mesh&&(s.castShadow=e,s.receiveShadow=t,n.hasLoaded&&s.material))for(var a=Array.isArray(s.material)?s.material:[s.material],i=0;i<a.length;i++)a[i].needsUpdate=!0})}});
},{"../core/component":108,"../lib/three":156,"../utils/bind":175}],90:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,debug=_dereq_("../utils/debug"),THREE=_dereq_("../lib/three"),warn=debug("components:sound:warn");module.exports.Component=registerComponent("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var e=this;this.listener=null,this.audioLoader=new THREE.AudioLoader,this.pool=new THREE.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){e.playSound()}},update:function(e){var t,o,i=this.data,n=i.src!==e.src;if(n){if(!i.src)return;this.setupSound()}for(t=0;t<this.pool.children.length;t++)o=this.pool.children[t],i.positional&&(o.setDistanceModel(i.distanceModel),o.setMaxDistance(i.maxDistance),o.setRefDistance(i.refDistance),o.setRolloffFactor(i.rolloffFactor)),o.setLoop(i.loop),o.setVolume(i.volume),o.isPaused=!1;if(i.on!==e.on&&this.updateEventListener(e.on),n){var s=this;this.loaded=!1,this.audioLoader.load(i.src,function(e){for(t=0;t<s.pool.children.length;t++)o=s.pool.children[t],o.setBuffer(e);s.loaded=!0,THREE.Cache.remove(i.src),(s.data.autoplay||s.mustPlay)&&s.playSound(),s.el.emit("sound-loaded",s.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var e,t;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(e=0;e<this.pool.children.length;e++)t=this.pool.children[e],t.disconnect()}catch(e){warn("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSoundBound),t.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var e,t,o=this.el,i=o.sceneEl,n=this;this.pool.children.length>0&&(this.stopSound(),o.removeObject3D("sound"));var s=this.listener=i.audioListener||new THREE.AudioListener;for(i.audioListener=s,i.camera&&i.camera.add(s),i.addEventListener("camera-set-active",function(e){e.detail.cameraEl.getObject3D("camera").add(s)}),this.pool=new THREE.Group,e=0;e<this.data.poolSize;e++)t=this.data.positional?new THREE.PositionalAudio(s):new THREE.Audio(s),this.pool.add(t);for(o.setObject3D(this.attrName,this.pool),e=0;e<this.pool.children.length;e++)t=this.pool.children[e],t.onEnded=function(){this.isPlaying=!1,n.el.emit("sound-ended",n.evtDetail,!1)}},pauseSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++)t=this.pool.children[e],t.source&&t.source.buffer&&t.isPlaying&&!t.isPaused&&(t.isPaused=!0,t.pause())},playSound:function(e){var t,o,i;if(!this.loaded)return warn("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);for(t=!1,this.isPlaying=!0,o=0;o<this.pool.children.length;o++)i=this.pool.children[o],i.isPlaying||!i.buffer||t||(e&&e(i),i.play(),i.isPaused=!1,t=!0);if(!t)return void warn("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);this.mustPlay=!1},stopSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++){if(t=this.pool.children[e],!t.source||!t.source.buffer)return;t.stop()}}});
},{"../core/component":108,"../lib/three":156,"../utils/debug":177}],91:[function(_dereq_,module,exports){
function parseSide(t){switch(t){case"back":return THREE.FrontSide;case"double":return THREE.DoubleSide;default:return THREE.BackSide}}function loadFont(t,e){return new Promise(function(r,n){loadBMFont(t,function(o,a){if(o)return error("Error loading font",t),void n(o);t.indexOf("/Roboto-msdf.json")>=0&&(e=30),e&&a.chars.map(function(t){t.yoffset+=e}),r(a)})})}function loadTexture(t){return new Promise(function(e,r){(new THREE.ImageLoader).load(t,function(t){e(t)},void 0,function(){error("Error loading font image",t),r(null)})})}function createShader(t,e,r){var n,o;return o=new shaders[e].Shader,o.el=t,o.init(r),o.update(r),n=o.material,n.transparent=r.transparent,{material:n,shader:o}}function computeWidth(t,e,r){return t||(.5+e)*r}function computeFontWidthFactor(t){var e=0,r=0,n=0;return t.chars.map(function(t){e+=t.xadvance,t.id>=48&&t.id<=57&&(n++,r+=t.xadvance)}),n?r/n:e/t.chars.length}function PromiseCache(){var t=this.cache={};this.get=function(e,r){return e in t?t[e]:(t[e]=r(),t[e])}}var createTextGeometry=_dereq_("three-bmfont-text"),loadBMFont=_dereq_("load-bmfont"),registerComponent=_dereq_("../core/component").registerComponent,coreShader=_dereq_("../core/shader"),THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),error=utils.debug("components:text:error"),shaders=coreShader.shaders,warn=utils.debug("components:text:warn"),DEFAULT_WIDTH=1,MAX_ANISOTROPY=16,FONT_BASE_URL="https://cdn.aframe.io/fonts/",FONTS={aileronsemibold:FONT_BASE_URL+"Aileron-Semibold.fnt",dejavu:FONT_BASE_URL+"DejaVu-sdf.fnt",exo2bold:FONT_BASE_URL+"Exo2Bold.fnt",exo2semibold:FONT_BASE_URL+"Exo2SemiBold.fnt",kelsonsans:FONT_BASE_URL+"KelsonSans.fnt",monoid:FONT_BASE_URL+"Monoid.fnt",mozillavr:FONT_BASE_URL+"mozillavr.fnt",roboto:FONT_BASE_URL+"Roboto-msdf.json",sourcecodepro:FONT_BASE_URL+"SourceCodePro.fnt"},MSDF_FONTS=["roboto"],DEFAULT_FONT="roboto";module.exports.FONTS=FONTS;var cache=new PromiseCache,fontWidthFactors={},textures={},protocolRe=/^\w+:/;module.exports.Component=registerComponent("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:DEFAULT_FONT},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:shaders},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=createTextGeometry(),this.createOrUpdateMaterial(),this.mesh=new THREE.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(t){var e=this.data,r=this.currentFont;if(textures[e.font]?this.texture=textures[e.font]:(this.texture=textures[e.font]=new THREE.Texture,this.texture.anisotropy=MAX_ANISOTROPY),this.createOrUpdateMaterial(),t.font!==e.font)return void this.updateFont();r&&(this.updateGeometry(this.geometry,r),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var t,e,r,n=this.data,o=this.material,a=this.shaderData;if(r=n.shader,-1!==MSDF_FONTS.indexOf(n.font)||n.font.indexOf("-msdf.")>=0?r="msdf":n.font in FONTS&&-1===MSDF_FONTS.indexOf(n.font)&&(r="sdf"),t=(this.shaderObject&&this.shaderObject.name)!==r,a.alphaTest=n.alphaTest,a.color=n.color,a.map=this.texture,a.opacity=n.opacity,a.side=parseSide(n.side),a.transparent=n.transparent,a.negate=n.negate,!t)return this.shaderObject.update(a),o.transparent=a.transparent,void(o.side=a.side);e=createShader(this.el,r,a),this.material=e.material,this.shaderObject=e.shader,this.material.side=a.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var t,e=this.data,r=this.el,n=this.geometry,o=this;e.font||warn("No font specified. Using the default font."),this.mesh.visible=!1,t=this.lookupFont(e.font||DEFAULT_FONT)||e.font,cache.get(t,function(){return loadFont(t,e.yOffset)}).then(function(a){var i;if(1!==a.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");fontWidthFactors[t]||(a.widthFactor=fontWidthFactors[a]=computeFontWidthFactor(a)),o.updateGeometry(n,a),o.currentFont=a,o.updateLayout(),i=o.getFontImageSrc(),cache.get(i,function(){return loadTexture(i)}).then(function(t){var n=o.texture;n.image=t,n.needsUpdate=!0,textures[e.font]=n,o.texture=n,o.mesh.visible=!0,r.emit("textfontset",{font:e.font,fontObj:a})}).catch(function(t){error(t.message),error(t.stack)})}).catch(function(t){error(t.message),error(t.stack)})},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var t=this.lookupFont(this.data.font||DEFAULT_FONT)||this.data.font,e=this.currentFont.pages[0];return e.match(protocolRe)&&0!==e.indexOf("http")?t.replace(/(\.fnt)|(\.json)/,".png"):THREE.LoaderUtils.extractUrlBase(t)+e},updateLayout:function(){var t,e,r,n,o,a,i,s,h,u,d=this.el,l=this.data,f=this.geometry,c=this.mesh;if(f.layout){if(r=d.getAttribute("geometry"),s=l.width||r&&r.width||DEFAULT_WIDTH,a=computeWidth(l.wrapPixels,l.wrapCount,this.currentFont.widthFactor),i=s/a,o=f.layout,n=i*(o.height+o.descender),r&&"plane"===r.primitive&&(r.width||d.setAttribute("geometry","width",s),r.height||d.setAttribute("geometry","height",n)),"left"===(t="align"===l.anchor?l.align:l.anchor))h=0;else if("right"===t)h=-1*o.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);h=-1*o.width/2}if("bottom"===(e=l.baseline))u=0;else if("top"===e)u=-1*o.height+o.ascender;else{if("center"!==e)throw new TypeError("Invalid text.baseline property value",e);u=-1*o.height/2}c.position.x=h*i+l.xOffset,c.position.y=u*i,c.position.z=l.zOffset,c.scale.set(i,-1*i,i)}},lookupFont:function(t){return FONTS[t]},updateGeometry:function(){var t={},e={},r=/\\n/g,n=/\\t/g;return function(o,a){var i=this.data;e.font=a,e.lineHeight=i.lineHeight&&isFinite(i.lineHeight)?i.lineHeight:a.common.lineHeight,e.text=i.value.toString().replace(r,"\n").replace(n,"\t"),e.width=computeWidth(i.wrapPixels,i.wrapCount,a.widthFactor),o.update(utils.extend(t,i,e))}}()});
},{"../core/component":108,"../core/shader":118,"../lib/three":156,"../utils/":181,"load-bmfont":25,"three-bmfont-text":42}],92:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,controllerUtils=_dereq_("../utils/tracked-controls"),DEFAULT_CAMERA_HEIGHT=_dereq_("../constants").DEFAULT_CAMERA_HEIGHT,THREE=_dereq_("../lib/three"),DEFAULT_HANDEDNESS=_dereq_("../constants").DEFAULT_HANDEDNESS,EYES_TO_ELBOW={x:.175,y:-.3,z:-.03},FOREARM={x:0,y:0,z:-.175},EMPTY_DAYDREAM_TOUCHES={touches:[]},EVENTS={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};module.exports.Component=registerComponent("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new THREE.Vector3,this.controllerQuaternion=new THREE.Quaternion,this.controllerEuler=new THREE.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(t,e){var o=this.el.getObject3D("mesh");o&&o.update&&o.update(e/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return DEFAULT_CAMERA_HEIGHT},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var t=this.data,e=controllerUtils.findMatchingControllerWebVR(this.system.controllers,t.id,t.idPrefix,t.hand,t.controller);this.controller=e,this.el.components["tracked-controls"].controller=e,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(t){var e,o,i,n,s,r=this.controller,a=this.controllerEuler,l=this.controllerQuaternion,h=this.deltaControllerPosition;o=this.getHeadElement(),i=o.object3D,s=this.defaultUserHeight(),n=r.pose,e=(r?r.hand:void 0)||DEFAULT_HANDEDNESS,t.copy(i.position),h.set(EYES_TO_ELBOW.x*("left"===e?-1:"right"===e?1:0),EYES_TO_ELBOW.y,EYES_TO_ELBOW.z),h.multiplyScalar(s),h.applyAxisAngle(i.up,i.rotation.y),t.add(h),h.set(FOREARM.x,FOREARM.y,FOREARM.z),h.multiplyScalar(s),n.orientation?l.fromArray(n.orientation):l.copy(i.quaternion),a.setFromQuaternion(l),a.set(a.x,a.y,0),h.applyEuler(a),t.add(h)},updatePose:function(){var t,e,o=this.controller,i=this.data,n=this.el.object3D,s=this.system.vrDisplay;o&&(t=o.pose,t.position?n.position.fromArray(t.position):i.armModel&&this.applyArmModel(n.position),t.orientation&&n.quaternion.fromArray(t.orientation),s&&t.position&&(e=this.el.sceneEl.renderer.xr.getStandingMatrix(),n.matrix.compose(n.position,n.quaternion,n.scale),n.matrix.multiplyMatrices(e,n.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale)),n.rotateX(this.data.orientationOffset.x*THREE.Math.DEG2RAD),n.rotateY(this.data.orientationOffset.y*THREE.Math.DEG2RAD),n.rotateZ(this.data.orientationOffset.z*THREE.Math.DEG2RAD))},updateButtons:function(){var t,e,o=this.controller;if(o){for(e=0;e<o.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=o.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(EVENTS.BUTTONCHANGED,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var t,e=!1,o=this.controller.axes,i=this.axis,n=this.changedAxes;for(this.changedAxes.length=0,t=0;t<o.length;++t)n.push(i[t]!==o[t]),n[t]&&(e=!0);if(!e)return!1;for(this.axis.length=0,t=0;t<o.length;t++)this.axis.push(o[t]);return this.el.emit(EVENTS.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var o,i=this.buttonStates[t];return e.pressed!==i.pressed&&(o=e.pressed?EVENTS.BUTTONDOWN:EVENTS.BUTTONUP,this.el.emit(o,this.buttonEventDetails[t],!1),i.pressed=e.pressed,!0)},handleTouch:function(t,e){var o,i=this.buttonStates[t];return e.touched!==i.touched&&(o=e.touched?EVENTS.TOUCHSTART:EVENTS.TOUCHEND,this.el.emit(o,this.buttonEventDetails[t],!1,EMPTY_DAYDREAM_TOUCHES),i.touched=e.touched,!0)},handleValue:function(t,e){var o=this.buttonStates[t];return e.value!==o.value&&(o.value=e.value,!0)}});
},{"../constants":100,"../core/component":108,"../lib/three":156,"../utils/tracked-controls":189}],93:[function(_dereq_,module,exports){
var controllerUtils=_dereq_("../utils/tracked-controls"),registerComponent=_dereq_("../core/component").registerComponent,EVENTS={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};module.exports.Component=registerComponent("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1}},init:function(){this.addSessionEventListeners=this.addSessionEventListeners.bind(this),this.updateController=this.updateController.bind(this),this.emitButtonUpEvent=this.emitButtonUpEvent.bind(this),this.emitButtonDownEvent=this.emitButtonDownEvent.bind(this),this.selectEventDetails={id:"trigger",state:{pressed:!1}},this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},play:function(){var t=this.el.sceneEl;this.updateController(),this.addSessionEventListeners(),t.addEventListener("enter-vr",this.addSessionEventListeners),t.addEventListener("controllersupdated",this.updateController)},pause:function(){var t=this.el.sceneEl;this.removeSessionEventListeners(),t.removeEventListener("enter-vr",this.addSessionEventListeners),t.removeEventListener("controllersupdated",this.updateController)},addSessionEventListeners:function(){var t=this.el.sceneEl;t.xrSession&&(t.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),t.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},removeSessionEventListeners:function(){var t=this.el.sceneEl;t.xrSession&&(t.xrSession.addEventListener("selectstart",this.emitButtonDownEvent),t.xrSession.addEventListener("selectend",this.emitButtonUpEvent))},emitButtonDownEvent:function(t){this.controller&&t.inputSource.handedness===this.data.hand&&(this.controller.gamepad||(this.selectEventDetails.state.pressed=!0,this.el.emit("buttondown",this.selectEventDetails),this.el.emit("buttonchanged",this.selectEventDetails),this.el.emit("triggerdown")))},emitButtonUpEvent:function(t){this.controller&&t.inputSource.handedness===this.data.hand&&(this.controller.gamepad||(this.selectEventDetails.state.pressed=!1,this.el.emit("buttonup",this.selectEventDetails),this.el.emit("buttonchanged",this.selectEventDetails),this.el.emit("triggerup")))},updateController:function(){this.controller=controllerUtils.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var t=this.el.sceneEl;this.controller&&t.frame&&(this.pose=t.frame.getPose(this.controller.targetRaySpace,this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var t=this.el.object3D,e=this.pose;e&&(t.matrix.elements=e.transform.matrix,t.matrix.decompose(t.position,t.rotation,t.scale))},updateButtons:function(){var t,e,s,n=this.controller;if(n&&n.gamepad){for(s=n.gamepad,e=0;e<s.buttons.length;++e)this.buttonStates[e]||(this.buttonStates[e]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[e]||(this.buttonEventDetails[e]={id:e,state:this.buttonStates[e]}),t=s.buttons[e],this.handleButton(e,t);this.handleAxes()}},handleButton:function(t,e){return!!(this.handlePress(t,e)|this.handleTouch(t,e)|this.handleValue(t,e))&&(this.el.emit(EVENTS.BUTTONCHANGED,this.buttonEventDetails[t],!1),!0)},handleAxes:function(){var t,e=!1,s=this.controller.gamepad.axes,n=this.axis,i=this.changedAxes;for(this.changedAxes.length=0,t=0;t<s.length;++t)i.push(n[t]!==s[t]),i[t]&&(e=!0);if(!e)return!1;for(this.axis.length=0,t=0;t<s.length;t++)this.axis.push(s[t]);return this.el.emit(EVENTS.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(t,e){var s,n=this.buttonStates[t];return e.pressed!==n.pressed&&(s=e.pressed?EVENTS.BUTTONDOWN:EVENTS.BUTTONUP,this.el.emit(s,this.buttonEventDetails[t],!1),n.pressed=e.pressed,!0)},handleTouch:function(t,e){var s,n=this.buttonStates[t];return e.touched!==n.touched&&(s=e.touched?EVENTS.TOUCHSTART:EVENTS.TOUCHEND,this.el.emit(s,this.buttonEventDetails[t],!1),n.touched=e.touched,!0)},handleValue:function(t,e){var s=this.buttonStates[t];return e.value!==s.value&&(s.value=e.value,!0)}});
},{"../core/component":108,"../utils/tracked-controls":189}],94:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent;module.exports.Component=registerComponent("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"},iterateControllerProfiles:{default:!1}},update:function(){var e=this.data,t=this.el;t.sceneEl.hasWebXR?t.setAttribute("tracked-controls-webxr",{id:e.id,hand:e.hand,index:e.controller,iterateControllerProfiles:e.iterateControllerProfiles}):t.setAttribute("tracked-controls-webvr",e)}});
},{"../core/component":108}],95:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent;module.exports.Component=registerComponent("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}});
},{"../core/component":108}],96:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,VIVE_CONTROLLER_MODEL_OBJ_URL="https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",VIVE_CONTROLLER_MODEL_OBJ_MTL="https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl",isWebXRAvailable=_dereq_("../utils/").device.isWebXRAvailable,GAMEPAD_ID_WEBXR="htc-vive-controller-mv",GAMEPAD_ID_WEBVR="OpenVR ",GAMEPAD_ID_PREFIX=isWebXRAvailable?GAMEPAD_ID_WEBXR:GAMEPAD_ID_WEBVR,INPUT_MAPPING_WEBVR={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},INPUT_MAPPING_WEBXR={axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]},INPUT_MAPPING=isWebXRAvailable?INPUT_MAPPING_WEBXR:INPUT_MAPPING_WEBVR;module.exports.Component=registerComponent("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:INPUT_MAPPING,init:function(){var t=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var t=this.data;this.controllerIndex="right"===t.hand?0:"left"===t.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onAxisMoved=bind(this.onAxisMoved,this)},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var t=this.data;checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,{index:this.controllerIndex,hand:t.hand})},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{idPrefix:GAMEPAD_ID_PREFIX,hand:e.hand,controller:this.controllerIndex,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:VIVE_CONTROLLER_MODEL_OBJ_URL,mtl:VIVE_CONTROLLER_MODEL_OBJ_MTL})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(t){var e,o=this.mapping.buttons[t.detail.id],n=this.buttonMeshes;o&&("trigger"===o&&(e=t.detail.state.value,n&&n.trigger&&(n.trigger.rotation.x=-e*(Math.PI/12))),this.el.emit(o+"changed",t.detail.state))},onModelLoaded:function(t){var e,o=t.detail.model,n=this;this.data.model&&(e=this.buttonMeshes={},e.grip={left:o.getObjectByName("leftgrip"),right:o.getObjectByName("rightgrip")},e.menu=o.getObjectByName("menubutton"),e.system=o.getObjectByName("systembutton"),e.trackpad=o.getObjectByName("touchpad"),e.trigger=o.getObjectByName("trigger"),Object.keys(e).forEach(function(t){n.setButtonColor(t,n.data.buttonColor)}),o.position.set(0,-.015,.04))},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping.axes,t)},updateModel:function(t,e){var o;this.data.model&&(-1!==e.indexOf("touch")||(o="up"===e?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(t,o)))},setButtonColor:function(t,e){var o=this.buttonMeshes,n=this.rendererSystem;if(o){if("grip"===t)return o.grip.left.material.color.set(e),o.grip.right.material.color.set(e),n.applyColorCorrection(o.grip.left.material.color),void n.applyColorCorrection(o.grip.right.material.color);o[t].material.color.set(e),n.applyColorCorrection(o[t].material.color)}}});
},{"../core/component":108,"../utils/":181,"../utils/bind":175,"../utils/tracked-controls":189}],97:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,GAMEPAD_ID_PREFIX="HTC Vive Focus",VIVE_FOCUS_CONTROLLER_MODEL_URL="https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf";module.exports.Component=registerComponent("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=bind(this.removeControllersUpdateListener,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(e){onButtonEvent(e.detail.id,"down",t)},this.onButtonUp=function(e){onButtonEvent(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){onButtonEvent(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){onButtonEvent(e.detail.id,"touchend",t)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var t=this.el;t.addEventListener("buttonchanged",this.onButtonChanged),t.addEventListener("buttondown",this.onButtonDown),t.addEventListener("buttonup",this.onButtonUp),t.addEventListener("touchstart",this.onButtonTouchStart),t.addEventListener("touchend",this.onButtonTouchEnd),t.addEventListener("model-loaded",this.onModelLoaded),t.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var t=this.el;t.removeEventListener("buttonchanged",this.onButtonChanged),t.removeEventListener("buttondown",this.onButtonDown),t.removeEventListener("buttonup",this.onButtonUp),t.removeEventListener("touchstart",this.onButtonTouchStart),t.removeEventListener("touchend",this.onButtonTouchEnd),t.removeEventListener("model-loaded",this.onModelLoaded),t.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var t=this.el,e=this.data;t.setAttribute("tracked-controls",{armModel:e.armModel,idPrefix:GAMEPAD_ID_PREFIX,orientationOffset:e.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",VIVE_FOCUS_CONTROLLER_MODEL_URL)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(t){var e,o=t.detail.model;this.data.model&&(e=this.buttonMeshes={},e.trigger=o.getObjectByName("BumperKey"),e.triggerPressed=o.getObjectByName("BumperKey_Press"),e.triggerPressed&&(e.triggerPressed.visible=!1),e.trackpad=o.getObjectByName("TouchPad"),e.trackpadPressed=o.getObjectByName("TouchPad_Press"),e.trackpadPressed&&(e.trackpadPressed.visible=!1))},onButtonChanged:function(t){var e=this.mapping.buttons[t.detail.id];e&&this.el.emit(e+"changed",t.detail.state)},onAxisMoved:function(t){emitIfAxesChanged(this,this.mapping.axes,t)},updateModel:function(t,e){this.data.model&&this.updateButtonModel(t,e)},updateButtonModel:function(t,e){var o=this.buttonMeshes,n=t+"Pressed";if(o&&o[t]&&o[n]){var s;switch(e){case"down":s=this.data.buttonHighlightColor;break;case"touchstart":s=this.data.buttonTouchedColor}s&&o[n].material.color.set(s),o[n].visible=!!s,o[t].visible=!s}}});
},{"../core/component":108,"../utils/bind":175,"../utils/tracked-controls":189}],98:[function(_dereq_,module,exports){
function isEmptyObject(e){var t;for(t in e)return!1;return!0}var KEYCODE_TO_CODE=_dereq_("../constants").keyboardevent.KEYCODE_TO_CODE,registerComponent=_dereq_("../core/component").registerComponent,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),bind=utils.bind,shouldCaptureKeyEvent=utils.shouldCaptureKeyEvent,CLAMP_VELOCITY=1e-5,MAX_DELTA=.2,KEYS=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];module.exports.Component=registerComponent("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new THREE.Vector3,this.onBlur=bind(this.onBlur,this),this.onFocus=bind(this.onFocus,this),this.onKeyDown=bind(this.onKeyDown,this),this.onKeyUp=bind(this.onKeyUp,this),this.onVisibilityChange=bind(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var i=this.data,n=this.el,s=this.velocity;(s[i.adAxis]||s[i.wsAxis]||!isEmptyObject(this.keys))&&(t/=1e3,this.updateVelocity(t),(s[i.adAxis]||s[i.wsAxis])&&n.object3D.position.add(this.getMovementVector(t)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,i,n,s,o,r=this.data,a=this.keys,d=this.velocity;if(i=r.adAxis,s=r.wsAxis,e>MAX_DELTA)return d[i]=0,void(d[s]=0);var h=Math.pow(1/this.easing,60*e);0!==d[i]&&(d[i]-=d[i]*h),0!==d[s]&&(d[s]-=d[s]*h),Math.abs(d[i])<CLAMP_VELOCITY&&(d[i]=0),Math.abs(d[s])<CLAMP_VELOCITY&&(d[s]=0),r.enabled&&(t=r.acceleration,r.adEnabled&&(n=r.adInverted?-1:1,(a.KeyA||a.ArrowLeft)&&(d[i]-=n*t*e),(a.KeyD||a.ArrowRight)&&(d[i]+=n*t*e)),r.wsEnabled&&(o=r.wsInverted?-1:1,(a.KeyW||a.ArrowUp)&&(d[s]-=o*t*e),(a.KeyS||a.ArrowDown)&&(d[s]+=o*t*e)))},getMovementVector:function(){var e=new THREE.Vector3(0,0,0),t=new THREE.Euler(0,0,0,"YXZ");return function(i){var n,s=this.el.getAttribute("rotation"),o=this.velocity;return e.copy(o),e.multiplyScalar(i),s?(n=this.data.fly?s.x:0,t.set(THREE.Math.degToRad(n),THREE.Math.degToRad(s.y),0),e.applyEuler(t),e):e}}(),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;shouldCaptureKeyEvent(e)&&(t=e.code||KEYCODE_TO_CODE[e.keyCode],-1!==KEYS.indexOf(t)&&(this.keys[t]=!0))},onKeyUp:function(e){var t;t=e.code||KEYCODE_TO_CODE[e.keyCode],delete this.keys[t]}});
},{"../constants":100,"../core/component":108,"../lib/three":156,"../utils/":181}],99:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../core/component").registerComponent,bind=_dereq_("../utils/bind"),trackedControlsUtils=_dereq_("../utils/tracked-controls"),checkControllerPresentAndSetup=trackedControlsUtils.checkControllerPresentAndSetup,emitIfAxesChanged=trackedControlsUtils.emitIfAxesChanged,onButtonEvent=trackedControlsUtils.onButtonEvent,utils=_dereq_("../utils/"),debug=utils.debug("components:windows-motion-controls:debug"),warn=utils.debug("components:windows-motion-controls:warn"),DEFAULT_HANDEDNESS=_dereq_("../constants").DEFAULT_HANDEDNESS,MODEL_BASE_URL="https://cdn.aframe.io/controllers/microsoft/",MODEL_FILENAMES={left:"left.glb",right:"right.glb",default:"universal.glb"},isWebXRAvailable=_dereq_("../utils/").device.isWebXRAvailable,GAMEPAD_ID_WEBXR="windows-mixed-reality",GAMEPAD_ID_WEBVR="Spatial Controller (Spatial Interaction Source) ",GAMEPAD_ID_PATTERN=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,GAMEPAD_ID_PREFIX=isWebXRAvailable?GAMEPAD_ID_WEBXR:GAMEPAD_ID_WEBVR,INPUT_MAPPING_WEBVR={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},INPUT_MAPPING_WEBXR={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},INPUT_MAPPING=isWebXRAvailable?INPUT_MAPPING_WEBXR:INPUT_MAPPING_WEBVR;module.exports.Component=registerComponent("windows-motion-controls",{schema:{hand:{default:DEFAULT_HANDEDNESS},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:INPUT_MAPPING,bindMethods:function(){this.onModelError=bind(this.onModelError,this),this.onModelLoaded=bind(this.onModelLoaded,this),this.onControllersUpdate=bind(this.onControllersUpdate,this),this.checkIfControllerPresent=bind(this.checkIfControllerPresent,this),this.onAxisMoved=bind(this.onAxisMoved,this)},init:function(){var e=this,t=this.el;this.onButtonChanged=bind(this.onButtonChanged,this),this.onButtonDown=function(t){onButtonEvent(t.detail.id,"down",e)},this.onButtonUp=function(t){onButtonEvent(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){onButtonEvent(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){onButtonEvent(t.detail.id,"touchend",e)},this.onControllerConnected=function(){e.setModelVisibility(!0)},this.onControllerDisconnected=function(){e.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-error",this.onModelError),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-error",this.onModelError),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){checkControllerPresentAndSetup(this,GAMEPAD_ID_PREFIX,{hand:this.data.hand,index:this.data.pair})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh)return void this.modelReady();var e=this.createControllerModelUrl();this.loadModel(e)},createControllerModelUrl:function(e){var t,n=this.el.components["tracked-controls"],o=n?n.controller:null,i="default",s=this.data.hand;if(o&&!window.hasNativeWebXRImplementation&&(s=o.hand,!e)){var r=o.id.match(GAMEPAD_ID_PATTERN);i=r&&r[0]||i}return t=MODEL_FILENAMES[s]||MODEL_FILENAMES.default,MODEL_BASE_URL+i+"/"+t},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{idPrefix:GAMEPAD_ID_PREFIX,controller:e.pair,hand:e.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(e){var t=this.createControllerModelUrl(!0);e.detail.src!==t?(warn("Failed to load controller model for device, attempting to load default."),this.loadModel(t)):warn("Failed to load default controller model.")},loadModel:function(e){this.el.setAttribute("gltf-model","url("+e+")")},onModelLoaded:function(e){function t(e,t){for(var n=0,o=e.children.length;n<o;n++){var i=e.children[n];if(i&&i.name===t)return i}}var n,o,i,s,r=this.controllerModel=e.detail.model,a=this.loadedMeshInfo;if(debug("Processing model"),a.buttonMeshes={},a.axisMeshes={},r){for(n=0;n<this.mapping.buttons.length;n++)o=this.mapping.buttonMeshNames[this.mapping.buttons[n]],o?(i=r.getObjectByName(o),i?(s={index:n,value:t(i,"VALUE"),pressed:t(i,"PRESSED"),unpressed:t(i,"UNPRESSED")},s.value&&s.pressed&&s.unpressed?a.buttonMeshes[this.mapping.buttons[n]]=s:warn("Missing button submesh under mesh with name: "+o+"(VALUE: "+!!s.value+", PRESSED: "+!!s.pressed+", UNPRESSED:"+!!s.unpressed+")")):warn("Missing button mesh with name: "+o)):debug("Skipping unknown button at index: "+n+" with mapped name: "+this.mapping.buttons[n]);for(n=0;n<this.mapping.axisMeshNames.length;n++)o=this.mapping.axisMeshNames[n],o?(i=r.getObjectByName(o),i?(s={index:n,value:t(i,"VALUE"),min:t(i,"MIN"),max:t(i,"MAX")},s.value&&s.min&&s.max?a.axisMeshes[n]=s:warn("Missing axis submesh under mesh with name: "+o+"(VALUE: "+!!s.value+", MIN: "+!!s.min+", MAX:"+!!s.max+")")):warn("Missing axis mesh with name: "+o)):debug("Skipping unknown axis at index: "+n);this.calculateRayOriginFromMesh(r),this.setModelVisibility()}debug("Model load complete.")},calculateRayOriginFromMesh:function(){var e=new THREE.Quaternion;return function(t){var n;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,n=t.getObjectByName(this.mapping.pointingPoseMeshName)){var o=t.parent;o&&(t.parent=null,t.updateMatrixWorld(!0),t.parent=o),n.getWorldPosition(this.rayOrigin.origin),n.getWorldQuaternion(e),this.rayOrigin.direction.applyQuaternion(e),o&&t.updateMatrixWorld(!0)}else debug("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var e=new THREE.Quaternion;return function(t,n){var o=this.loadedMeshInfo.axisMeshes[t];if(o){var i=o.min,s=o.max,r=o.value,a=.5*n+.5;r.setRotationFromQuaternion(e.copy(i.quaternion).slerp(s.quaternion,a)),r.position.lerpVectors(i.position,s.position,a)}}}(),lerpButtonTransform:function(){var e=new THREE.Quaternion;return function(t,n){var o=this.loadedMeshInfo.buttonMeshes[t];if(o){var i=o.unpressed,s=o.pressed,r=o.value;r.setRotationFromQuaternion(e.copy(i.quaternion).slerp(s.quaternion,n)),r.position.lerpVectors(i.position,s.position,n)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(t,e.detail.state.value),this.el.emit(t+"changed",e.detail.state))},onAxisMoved:function(e){var t=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<t;n++)this.lerpAxisTransform(n,e.detail.axis[n]||0);emitIfAxesChanged(this,this.mapping.axes,e)},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");e=void 0!==e?e:this.modelVisible,this.modelVisible=e,t&&(t.visible=e)}});
},{"../constants":100,"../core/component":108,"../utils/":181,"../utils/bind":175,"../utils/tracked-controls":189}],100:[function(_dereq_,module,exports){
module.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:_dereq_("./keyboardevent")};
},{"./keyboardevent":101}],101:[function(_dereq_,module,exports){
module.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}};
},{}],102:[function(_dereq_,module,exports){
function mediaElementLoaded(e){if(e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload"))return new Promise(function(t,r){function i(){for(var r=0,i=0;i<e.buffered.length;i++)r+=e.buffered.end(i)-e.buffered.start(i);r>=e.duration&&("VIDEO"===e.tagName&&(THREE.Cache.files[e.getAttribute("src")]=e),t())}return 4===e.readyState?t():e.error?r():(e.addEventListener("loadeddata",i,!1),e.addEventListener("progress",i,!1),void e.addEventListener("error",r,!1))})}function fixUpMediaElement(e){var t=setCrossOrigin(e);return t.tagName&&"video"===t.tagName.toLowerCase()&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function setCrossOrigin(e){var t;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if(extractDomain(t)===window.location.host)return e}return warn('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',t),e.crossOrigin="anonymous",e.cloneNode(!0)}function extractDomain(e){var t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];return t.substring(0,t.indexOf(":"))}function inferResponseType(e){var t=getFileNameFromURL(e),r=t.lastIndexOf(".");if(r>=0){if(".glb"===t.slice(r,e.search(/\?|#|$/)))return"arraybuffer"}return"text"}function getFileNameFromURL(e){var t=document.createElement("a");t.href=e;var r=t.search.replace(/^\?/,""),i=e.replace(r,"").replace("?","");return i.substring(i.lastIndexOf("/")+1)}var ANode=_dereq_("./a-node"),bind=_dereq_("../utils/bind"),debug=_dereq_("../utils/debug"),registerElement=_dereq_("./a-register-element").registerElement,THREE=_dereq_("../lib/three"),fileLoader=new THREE.FileLoader,warn=debug("core:a-assets:warn");module.exports=registerElement("a-assets",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=fileLoader,this.timeout=null}},attachedCallback:{value:function(){var e,t,r,i,o,s,a=this,n=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(o=this.querySelectorAll("img"),e=0;e<o.length;e++)i=fixUpMediaElement(o[e]),n.push(new Promise(function(t,r){THREE.Cache.files[o[e].getAttribute("src")]=i,i.onload=t,i.onerror=r}));for(r=this.querySelectorAll("audio, video"),e=0;e<r.length;e++)t=fixUpMediaElement(r[e]),t.src||t.srcObject||warn("Audio/video asset has neither `src` nor `srcObject` attributes."),n.push(mediaElementLoaded(t));Promise.all(n).then(bind(this.load,this)),s=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){a.hasLoaded||(warn("Asset loading timed out in ",s,"ms"),a.emit("timeout"),a.load())},s)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){ANode.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute("src")})}}})}),registerElement("a-asset-item",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute("src");fileLoader.setResponseType(this.getAttribute("response-type")||inferResponseType(t)),fileLoader.load(t,function(t){e.data=t,setTimeout(function(){ANode.prototype.load.call(e)})},function(t){e.emit("progress",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})},function(t){e.emit("error",{xhr:t})})}}})}),module.exports.inferResponseType=inferResponseType,module.exports.getFileNameFromURL=getFileNameFromURL;
},{"../lib/three":156,"../utils/bind":175,"../utils/debug":177,"./a-node":106,"./a-register-element":107}],103:[function(_dereq_,module,exports){
var debug=_dereq_("../utils/debug"),registerElement=_dereq_("./a-register-element").registerElement,warn=debug("core:cubemap:warn");module.exports=registerElement("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),r=[];if(6===t.length){for(e=0;e<t.length;e++)r.push(t[e].getAttribute("src"));return r}warn("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})});
},{"../utils/debug":177,"./a-register-element":107}],104:[function(_dereq_,module,exports){
function checkComponentDefined(t,e){return!(!t.components[e]||!t.components[e].attrValue)||isComponentMixedIn(e,t.mixinEls)}function isComponentMixedIn(t,e){var i,n=!1;for(i=0;i<e.length&&!(n=e[i].hasAttribute(t));++i);return n}function mergeComponentData(t,e){return e?e.constructor===Object?utils.extend(e,utils.styleParser.parse(t||{})):t||e:t}function isComponent(t){return-1!==t.indexOf(MULTIPLE_COMPONENT_DELIMITER)&&(t=utils.split(t,MULTIPLE_COMPONENT_DELIMITER)[0]),!!COMPONENTS[t]}function getRotation(t){var e=THREE.Math.radToDeg,i=t.object3D.rotation,n=t.rotationObj;return n.x=e(i.x),n.y=e(i.y),n.z=e(i.z),n}var ANode=_dereq_("./a-node"),COMPONENTS=_dereq_("./component").components,registerElement=_dereq_("./a-register-element").registerElement,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),AEntity,debug=utils.debug("core:a-entity:debug"),warn=utils.debug("core:a-entity:warn"),MULTIPLE_COMPONENT_DELIMITER="__",OBJECT3D_COMPONENTS=["position","rotation","scale","visible"],ONCE={once:!0},proto=Object.create(ANode.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new THREE.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(t,e,i){var n=this.components[t];if(n&&n.justInitialized&&""===i)return void delete n.justInitialized;(n||null!==i)&&this.setEntityAttribute(t,e,i)}},attachedCallback:{value:function(){var t,e=this.sceneEl,i=this;if(this.addToParent(),!this.isScene){if(!e)return void this.load();if((t=e.querySelector("a-assets"))&&!t.hasLoaded)return void t.addEventListener("loaded",function(){i.load()});this.load()}}},detachedCallback:{value:function(){var t;if(this.parentEl){for(t in this.components)this.removeComponent(t,!1);this.isScene||(this.removeFromParent(),ANode.prototype.detachedCallback.call(this),this.object3D.el=null)}}},getObject3D:{value:function(t){return this.object3DMap[t]}},setObject3D:{value:function(t,e){var i,n=this;if(!(e instanceof THREE.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");i=this.getObject3D(t),i&&this.object3D.remove(i),e.el=this,e.children.length&&e.traverse(function(t){t.el=n}),this.object3D.add(e),this.object3DMap[t]=e,this.emit("object3dset",{object:e,type:t})}},removeObject3D:{value:function(t){var e=this.getObject3D(t);if(!e)return void warn("Tried to remove `Object3D` of type:",t,"which was not defined.");this.object3D.remove(e),delete this.object3DMap[t],this.emit("object3dremove",{type:t})}},getOrCreateObject3D:{value:function(t,e){var i=this.getObject3D(t);return!i&&e&&(i=new e,this.setObject3D(t,i)),warn("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),i}},add:{value:function(t){if(!t.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(t.object3D),this.emit("child-attached",{el:t})}},addToParent:{value:function(){var t=this.parentEl=this.parentNode;t&&t.add&&!this.attachedToParent&&(t.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var t=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,t.emit("child-detached",{el:this})}},load:{value:function(){var t=this;!this.hasLoaded&&this.parentEl&&ANode.prototype.load.call(this,function(){t.parentEl&&(t.updateComponents(),(t.isScene||t.parentEl.isPlaying)&&t.play())})},writable:window.debug},remove:{value:function(t){t?this.object3D.remove(t.object3D):this.parentNode.removeChild(this)}},getChildEntities:{value:function(){for(var t=this.children,e=[],i=0;i<t.length;i++){var n=t[i];n instanceof AEntity&&e.push(n)}return e}},initComponent:{value:function(t,e,i){var n,o,s,a;if(s=utils.split(t,MULTIPLE_COMPONENT_DELIMITER),a=s[0],o=s.length>2?s.slice(1).join("__"):s[1],COMPONENTS[a]&&(checkComponentDefined(this,t)||void 0!==e||i)&&!(t in this.components)){if(this.initComponentDependencies(a),o&&!COMPONENTS[a].multiple)throw new Error("Trying to initialize multiple components of type `"+a+"`. There can only be one component of this type per entity.");n=new COMPONENTS[a].Component(this,e,o),this.isPlaying&&n.play(),this.hasAttribute(t)||(n.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,t,"")),debug("Component initialized: %s",t)}},writable:window.debug},initComponentDependencies:{value:function(t){var e,i,n=this,o=COMPONENTS[t];if(o&&(e=COMPONENTS[t].dependencies))for(i=0;i<e.length;i++)n.initComponent(e[i],window.HTMLElement.prototype.getAttribute.call(n,e[i])||void 0,!0)}},removeComponent:{value:function(t,e){var i;if(i=this.components[t]){if(!i.initialized)return void this.addEventListener("componentinitialized",function i(n){n.detail.name===t&&(this.removeComponent(t,e),this.removeEventListener("componentinitialized",i))});i.pause(),i.remove(),e&&(i.destroy(),delete this.components[t]),this.emit("componentremoved",i.evtDetail,!1)}},writable:window.debug},updateComponents:{value:function(){var t,e,i,n,o=this.componentsToUpdate;if(this.hasLoaded){for(i=0;i<this.mixinEls.length;i++)for(n in this.mixinEls[i].componentCache)isComponent(n)&&(o[n]=!0);if(this.getExtraComponents){e=this.getExtraComponents();for(n in e)isComponent(n)&&(o[n]=!0)}for(i=0;i<this.attributes.length;++i)n=this.attributes[i].name,-1===OBJECT3D_COMPONENTS.indexOf(n)&&isComponent(n)&&(o[n]=!0);for(i=0;i<OBJECT3D_COMPONENTS.length;i++)n=OBJECT3D_COMPONENTS[i],this.hasAttribute(n)&&this.updateComponent(n,this.getDOMAttribute(n));for(n in o)t=mergeComponentData(this.getDOMAttribute(n),e&&e[n]),this.updateComponent(n,t),delete o[n]}},writable:window.debug},updateComponent:{value:function(t,e,i){var n=this.components[t];if(n)return null!==e||checkComponentDefined(this,t)?void n.updateProperties(e,i):void this.removeComponent(t,!0);this.initComponent(t,e,!1)}},removeAttribute:{value:function(t,e){var i=this.components[t];if(i&&void 0===e&&this.removeComponent(t,!0),i&&void 0!==e)return void i.resetProperty(e);"mixin"===t&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,t)}},play:{value:function(){var t,e,i;if(!this.isPlaying&&this.hasLoaded){this.isPlaying=!0;for(i in this.components)this.components[i].play();for(t=this.getChildEntities(),e=0;e<t.length;e++)t[e].play();this.emit("play")}},writable:!0},pause:{value:function(){var t,e,i;if(this.isPlaying){this.isPlaying=!1;for(i in this.components)this.components[i].pause();for(t=this.getChildEntities(),e=0;e<t.length;e++)t[e].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(t,e,i){if(COMPONENTS[t]||this.components[t])return void this.updateComponent(t,i);if("mixin"===t){if(i===this.computedMixinStr)return;this.mixinUpdate(i,e)}}},mixinUpdate:{value:function(){var t=[];return function(e,i){var n,o,s,a,r=this;if(!this.hasLoaded)return void this.addEventListener("loaded",function(){r.mixinUpdate(e,i)},ONCE);for(i=i||this.getAttribute("mixin"),s=this.updateMixins(e,i),t.length=0,a=0;a<this.mixinEls.length;a++)for(n in this.mixinEls[a].componentCache)-1===t.indexOf(n)&&(this.components[n]?this.components[n].handleMixinUpdate():this.initComponent(n,null),t.push(n));for(a=0;a<s.oldMixinIds.length;a++)if(o=document.getElementById(s.oldMixinIds[a]))for(n in o.componentCache)-1===t.indexOf(n)&&this.components[n]&&(this.getDOMAttribute(n)?this.components[n].handleMixinUpdate():this.removeComponent(n,!0))}}()},setAttribute:{value:function(){var t={};return function(e,i,n){var o,s,a,r,h,l;if(r=e.indexOf(MULTIPLE_COMPONENT_DELIMITER),a=r>0?e.substring(0,r):e,!COMPONENTS[a])return"mixin"===e&&this.mixinUpdate(i),void ANode.prototype.setAttribute.call(this,e,i);if(!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),void 0!==n&&"string"==typeof i&&i.length>0&&"string"==typeof utils.styleParser.parse(i)){for(l in t)delete t[l];o=t,o[i]=n,s=!1}else o=i,s=!0===n;this.updateComponent(e,o,s),(h=this.sceneEl&&this.sceneEl.getAttribute("debug"))&&this.components[e].flushToDOM()}}(),writable:window.debug},flushToDOM:{value:function(t){var e,i,n,o=this.components,s=this.children;for(n in o)o[n].flushToDOM();if(t)for(i=0;i<s.length;++i)e=s[i],e.flushToDOM&&e.flushToDOM(t)}},getAttribute:{value:function(t){var e;return"position"===t?this.object3D.position:"rotation"===t?getRotation(this):"scale"===t?this.object3D.scale:"visible"===t?this.object3D.visible:(e=this.components[t],e?e.data:window.HTMLElement.prototype.getAttribute.call(this,t))},writable:window.debug},getDOMAttribute:{value:function(t){var e=this.components[t];return e?e.attrValue:window.HTMLElement.prototype.getAttribute.call(this,t)},writable:window.debug},addState:{value:function(t){this.is(t)||(this.states.push(t),this.emit("stateadded",t))}},removeState:{value:function(t){var e=this.states.indexOf(t);-1!==e&&(this.states.splice(e,1),this.emit("stateremoved",t))}},is:{value:function(t){return-1!==this.states.indexOf(t)}},inspect:{value:function(){this.sceneEl.components.inspector.openInspector(this)}},destroy:{value:function(){var t;if(this.parentNode)return void warn("Entity can only be destroyed if detached from scenegraph.");for(t in this.components)this.components[t].destroy()}}});AEntity=registerElement("a-entity",{prototype:proto}),module.exports=AEntity;
},{"../lib/three":156,"../utils/":181,"./a-node":106,"./a-register-element":107,"./component":108}],105:[function(_dereq_,module,exports){
var ANode=_dereq_("./a-node"),registerElement=_dereq_("./a-register-element").registerElement,components=_dereq_("./component").components,utils=_dereq_("../utils"),MULTIPLE_COMPONENT_DELIMITER="__";module.exports=registerElement("a-mixin",{prototype:Object.create(ANode.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:function(t,e,i){this.cacheAttribute(t,i),this.updateEntities()}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(t,e){window.HTMLElement.prototype.setAttribute.call(this,t,e),this.cacheAttribute(t,e)}},cacheAttribute:{value:function(t,e){var i,n;n=utils.split(t,MULTIPLE_COMPONENT_DELIMITER)[0],(i=components[n])&&(void 0===e&&(e=window.HTMLElement.prototype.getAttribute.call(this,t)),this.componentCache[t]=i.parseAttrValueForCache(e))}},getAttribute:{value:function(t){return this.componentCache[t]||window.HTMLElement.prototype.getAttribute.call(this,t)}},cacheAttributes:{value:function(){var t,e,i=this.attributes;for(e=0;e<i.length;e++)t=i[e].name,this.cacheAttribute(t)}},updateEntities:{value:function(){var t,e,i;if(this.sceneEl)for(e=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),i=0;i<e.length;i++)t=e[i],t.hasLoaded&&!t.isMixin&&t.mixinUpdate(this.id)}}})});
},{"../utils":181,"./a-node":106,"./a-register-element":107,"./component":108}],106:[function(_dereq_,module,exports){
var registerElement=_dereq_("./a-register-element").registerElement,isNode=_dereq_("./a-register-element").isNode,utils=_dereq_("../utils/"),warn=utils.debug("core:a-node:warn"),error=utils.debug("core:a-node:error");module.exports=registerElement("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:function(){this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]},writable:window.debug},attachedCallback:{value:function(){var t;this.sceneEl=this.closestScene(),this.sceneEl||warn("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(t=this.getAttribute("mixin"))&&this.updateMixins(t)},writable:window.debug},attributeChangedCallback:{value:function(t,e,i){i!==this.computedMixinStr&&("mixin"!==t||this.isMixin||this.updateMixins(i,e))}},closestScene:{value:function(){for(var t=this;t&&!t.isScene;)t=t.parentElement;return t}},closest:{value:function(t){for(var e=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,i=this;i&&!e.call(i,t);)i=i.parentElement;return i}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(t,e){var i,n,s=this;this.hasLoaded||(e=e||isNode,i=this.getChildren(),n=i.filter(e).map(function(t){return new Promise(function(e){if(t.hasLoaded)return e();t.addEventListener("loaded",e)})}),Promise.all(n).then(function(){s.hasLoaded=!0,t&&t(),s.emit("loaded",void 0,!1)}).catch(function(t){error("Failure loading node: ",t)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:function(){var t=[],e=[],i={};return function(n,s){var r,a,o;for(t.length=0,e.length=0,a=n?utils.split(n.trim(),/\s+/):t,o=s?utils.split(s.trim(),/\s+/):e,i.newMixinIds=a,i.oldMixinIds=o,r=0;r<o.length;r++)-1===a.indexOf(o[r])&&this.unregisterMixin(o[r]);for(this.computedMixinStr="",this.mixinEls.length=0,r=0;r<a.length;r++)this.registerMixin(document.getElementById(a[r]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),i}}()},registerMixin:{value:function(t){var e,i,n;if(t){if(n=t.getAttribute("mixin"))for(e=utils.split(n.trim(),/\s+/),i=0;i<e.length;i++)this.registerMixin(document.getElementById(e[i]));this.computedMixinStr=this.computedMixinStr+" "+t.id,this.mixinEls.push(t)}}},setAttribute:{value:function(t,e){"mixin"===t&&this.updateMixins(e),window.HTMLElement.prototype.setAttribute.call(this,t,e)}},unregisterMixin:{value:function(t){var e,i,n=this.mixinEls;for(e=0;e<n.length;++e)if(i=n[e],t===i.id){n.splice(e,1);break}}},emit:{value:function(){var t={};return function(e,i,n,s){void 0===n&&(n=!0),t.bubbles=!!n,t.detail=i,s&&(t=utils.extend({},s,t)),this.dispatchEvent(new CustomEvent(e,t))}}(),writable:window.debug}})});
},{"../utils/":181,"./a-register-element":107}],107:[function(_dereq_,module,exports){
function addTagName(e){knownTags[e.toLowerCase()]=!0}function wrapANodeMethods(e){var t={};return wrapMethods(t,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],e,ANode.prototype),copyProperties(e,t),t}function wrapAEntityMethods(e){var t={},o=["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],a=["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"];return wrapMethods(t,o,e,ANode.prototype),wrapMethods(t,a,e,AEntity.prototype),copyProperties(e,t),t}function wrapMethods(e,t,o,a){t.forEach(function(t){wrapMethod(e,t,o,a)})}function wrapMethod(e,t,o,a){var r=o[t],n=a[t];r&&n&&r!==n&&(e[t]={value:function(){return n.apply(this,arguments),r.apply(this,arguments)},writable:window.debug})}function copyProperties(e,t){Object.getOwnPropertyNames(e).forEach(function(o){var a;t[o]||(a=Object.getOwnPropertyDescriptor(e,o),t[o]={value:e[o],writable:a.writable})})}_dereq_("document-register-element");var ANode,AEntity,knownTags=module.exports.knownTags={};module.exports.isNode=function(e){return e.tagName.toLowerCase()in knownTags||e.isNode},module.exports.registerElement=function(e,t){var o=Object.getPrototypeOf(t.prototype),a=t,r=ANode&&o===ANode.prototype,n=AEntity&&o===AEntity.prototype;return(r||n)&&addTagName(e),r&&(a=wrapANodeMethods(t.prototype),a={prototype:Object.create(o,a)}),n&&(a=wrapAEntityMethods(t.prototype),a={prototype:Object.create(o,a)}),Object.getOwnPropertyNames(a.prototype).forEach(function(e){var t=a.prototype[e];"function"==typeof t&&(t.displayName=e)}),document.registerElement(e,a)},module.exports.wrapMethods=wrapMethods,ANode=_dereq_("./a-node"),AEntity=_dereq_("./a-entity");
},{"./a-entity":104,"./a-node":106,"document-register-element":13}],108:[function(_dereq_,module,exports){
function eventsBind(t,e){var i;for(i in e)t.events[i]=e[i].bind(t)}function copyData(t,e){var i,s;for(s in e)void 0!==e[s]&&(i=e[s],t[s]=isObjectOrArray(i)?utils.clone(i):i);return t}function extendProperties(t,e,i){var s;if(i&&e.constructor===Object){for(s in e)void 0!==e[s]&&(e[s]&&e[s].constructor===Object?t[s]=utils.clone(e[s]):t[s]=e[s]);return t}return e}function hasBehavior(t){return t.tick||t.tock}function wrapPause(t){return function(){var e=this.el.sceneEl;this.isPlaying&&(t.call(this),this.isPlaying=!1,this.eventsDetach(),hasBehavior(this)&&e.removeBehavior(this))}}function wrapPlay(t){return function(){var e=this.el.sceneEl,i=this.el.isPlaying&&!this.isPlaying;this.initialized&&i&&(t.call(this),this.isPlaying=!0,this.eventsAttach(),hasBehavior(this)&&e.addBehavior(this))}}function isObject(t){return t&&t.constructor===Object&&!(t instanceof window.HTMLElement)}function isObjectOrArray(t){return t&&(t.constructor===Object||t.constructor===Array)&&!(t instanceof window.HTMLElement)}var schema=_dereq_("./schema"),scenes=_dereq_("./scene/scenes"),systems=_dereq_("./system"),utils=_dereq_("../utils/"),components=module.exports.components={},parseProperties=schema.parseProperties,parseProperty=schema.parseProperty,processSchema=schema.process,isSingleProp=schema.isSingleProperty,stringifyProperties=schema.stringifyProperties,stringifyProperty=schema.stringifyProperty,styleParser=utils.styleParser,warn=utils.debug("core:component:warn"),aframeScript=document.currentScript,upperCaseRegExp=new RegExp("[A-Z]+"),objectPools={},Component=module.exports.Component=function(t,e,i){var s=this;this.el=t,this.id=i,this.attrName=this.name+(i?"__"+i:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.isSingleProperty=isSingleProp(this.schema),this.isSinglePropertyObject=this.isSingleProperty&&isObject(parseProperty(void 0,this.schema))&&!(this.schema.default instanceof window.HTMLElement),this.isObjectBased=!this.isSingleProperty||this.isSinglePropertyObject,this.el.components[this.attrName]=this,this.objectPool=objectPools[this.name];const a=this.events;this.events={},eventsBind(this,a),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),utils.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),utils.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),utils.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),utils.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=utils.throttle(function(){t.emit("componentchanged",s.evtDetail,!1)},200),this.updateProperties(e)};if(Component.prototype={schema:{},init:function(){},events:{},update:function(t){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(t,e){var i=this.schema;return this.isSingleProperty?parseProperty(t,i):parseProperties(styleParser.parse(t),i,!0,this.name,e)},stringify:function(t){var e=this.schema;return"string"==typeof t?t:this.isSingleProperty?stringifyProperty(t,e):(t=stringifyProperties(t,e),styleParser.stringify(t))},updateCachedAttrValue:function(t,e){var i,s,a;if(void 0!==t){if(null===t)return this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),void(this.attrValue=void 0);if(t instanceof Object&&!(t instanceof window.HTMLElement)?(s=this.objectPool.use(),i=utils.extend(s,t)):i=this.parseAttrValueForCache(t),this.isObjectBased&&!e&&this.attrValue)for(a in this.attrValue)void 0===i[a]&&(i[a]=this.attrValue[a]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),utils.objectPool.clearObject(this.attrValue),this.attrValue=extendProperties(this.attrValue,i,this.isObjectBased),utils.objectPool.clearObject(s)}},parseAttrValueForCache:function(t){var e;return"string"!=typeof t?t:(this.isSingleProperty?"string"==typeof(e=this.schema.parse(t))&&(e=t):(utils.objectPool.clearObject(this.parsingAttrValue),e=styleParser.parse(t,this.parsingAttrValue)),e)},flushToDOM:function(t){var e=t?this.data:this.attrValue;null!==e&&void 0!==e&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(e))},updateProperties:function(t,e){if(!this.el.hasLoaded)return void this.updateCachedAttrValue(t);null!==t&&(t=this.parseAttrValueForCache(t)),this.updateCachedAttrValue(t,e),this.initialized?(this.updateComponent(t,e),this.callUpdateHandler()):this.initComponent()},initComponent:function(){var t,e=this.el;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),e.initializingComponents[this.name]||(e.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete e.initializingComponents[this.name],this.oldData=extendProperties(this.oldData,this.data,this.isObjectBased),t=this.isObjectBased?this.objectPool.use():void 0,this.update(t),this.isObjectBased&&this.objectPool.recycle(t),e.isPlaying&&this.play(),e.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(t,e){var i,s;if(e)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));if(this.isSingleProperty)return this.isObjectBased&&parseProperty(t,this.schema),void(this.data=t);if(parseProperties(t,this.schema,!0,this.name),this.schemaChangeKeys.length)for(i in t)if(this.schema[i].schemaChange){s=!0;break}if(s)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));for(i in t)void 0!==t[i]&&(this.data[i]=t[i])},callUpdateHandler:function(){var t;this.previousOldData instanceof Object&&utils.objectPool.clearObject(this.previousOldData),this.isObjectBased?copyData(this.previousOldData,this.oldData):this.previousOldData=this.oldData,t=!utils.deepEqual(this.oldData,this.data),(this.isPositionRotationScale||t)&&(this.oldData instanceof Object&&utils.objectPool.clearObject(this.oldData),this.oldData=extendProperties(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(t){if(this.isObjectBased){if(!(t in this.attrValue))return;delete this.attrValue[t],this.data[t]=this.schema[t].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(t){var e;e=utils.extend({},components[this.name].schema),utils.extend(e,t),this.schema=processSchema(e),this.el.emit("schemachanged",this.evtDetail)},buildData:function(t,e,i){var s,a,o,r,n,h,c,l=this.nextData,p=this.schema,u=this.el.mixinEls;if(s=t&&t.constructor===Array?t.length:void 0!==t&&null!==t,this.isObjectBased&&utils.objectPool.clearObject(l),this.isSingleProperty)a=this.isObjectBased?copyData(l,p.default):isObjectOrArray(p.default)?utils.clone(p.default):p.default;else{c=!e&&this.attrValue,a=c instanceof Object?copyData(l,c):l;for(r in p)o=p[r].default,void 0===a[r]&&(a[r]=isObjectOrArray(o)?utils.clone(o):o)}for(h=0;h<u.length;h++)(n=u[h].getAttribute(this.attrName))&&(a=extendProperties(a,n,this.isObjectBased));if(s){if(this.isSingleProperty)return isObject(t)?(copyData(this.parsingAttrValue,t),parseProperty(this.parsingAttrValue,p)):parseProperty(t,p);a=extendProperties(a,t,this.isObjectBased)}else if(this.isSingleProperty)return parseProperty(a,p);return parseProperties(a,p,void 0,this.name,i)},eventsAttach:function(){var t;this.eventsDetach();for(t in this.events)this.el.addEventListener(t,this.events[t])},eventsDetach:function(){var t;for(t in this.events)this.el.removeEventListener(t,this.events[t])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}},window.debug)var registrationOrderWarnings=module.exports.registrationOrderWarnings={};module.exports.registerComponent=function(t,e){var i,s,a,o,r={};if(document.currentScript&&document.currentScript!==aframeScript&&scenes.forEach(function(e){e.hasLoaded||document.currentScript.compareDocumentPosition(e)!==Node.DOCUMENT_POSITION_FOLLOWING&&(warn("The component `"+t+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(registrationOrderWarnings[t]=!0))}),!0===upperCaseRegExp.test(t)&&warn("The component name `"+t+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+t.toLowerCase()+"`"),-1!==t.indexOf("__"))throw new Error("The component name `"+t+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(e).forEach(function(t){r[t]={value:e[t],writable:!0}}),components[t])throw new Error("The component `"+t+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(i=function(t,e,i){Component.call(this,t,e,i)},i.prototype=Object.create(Component.prototype,r),i.prototype.name=t,i.prototype.isPositionRotationScale="position"===t||"rotation"===t||"scale"===t,i.prototype.constructor=i,i.prototype.system=systems&&systems.systems[t],i.prototype.play=wrapPlay(i.prototype.play),i.prototype.pause=wrapPause(i.prototype.pause),a=utils.extend(processSchema(i.prototype.schema,i.prototype.name)),!(o=isSingleProp(i.prototype.schema))){i.prototype.schemaChangeKeys=[];for(s in a)a[s].schemaChange&&i.prototype.schemaChangeKeys.push(s)}return objectPools[t]=utils.objectPool.createPool(),components[t]={Component:i,dependencies:i.prototype.dependencies,isSingleProp:o,multiple:i.prototype.multiple,name:t,parse:i.prototype.parse,parseAttrValueForCache:i.prototype.parseAttrValueForCache,schema:a,stringify:i.prototype.stringify,type:i.prototype.type},i};
},{"../utils/":181,"./scene/scenes":115,"./schema":117,"./system":119}],109:[function(_dereq_,module,exports){
var schema=_dereq_("./schema"),processSchema=schema.process,geometries=module.exports.geometries={},geometryNames=module.exports.geometryNames=[],THREE=_dereq_("../lib/three"),Geometry=module.exports.Geometry=function(){};Geometry.prototype={schema:{},init:function(e){return this.geometry=new THREE.Geometry,this.geometry},update:function(e){}},module.exports.registerGeometry=function(e,t){var r,o={};if(Object.keys(t).forEach(function(e){o[e]={value:t[e],writable:!0}}),geometries[e])throw new Error("The geometry `"+e+"` has been already registered");return r=function(){Geometry.call(this)},r.prototype=Object.create(Geometry.prototype,o),r.prototype.name=e,r.prototype.constructor=r,geometries[e]={Geometry:r,schema:processSchema(r.prototype.schema)},geometryNames.push(e),r};
},{"../lib/three":156,"./schema":117}],110:[function(_dereq_,module,exports){
function registerPropertyType(e,r,t,n){if("type"in propertyTypes)return void error("Property type "+e+" is already registered.");propertyTypes[e]={default:r,parse:t||defaultParse,stringify:n||defaultStringify}}function arrayParse(e){function r(e){return e.trim()}return Array.isArray(e)?e:e&&"string"==typeof e?e.split(",").map(r):[]}function arrayStringify(e){return e.join(", ")}function assetParse(e){var r,t;return"string"!=typeof e?e:(t=e.match(urlRegex),t?t[1]:"#"===e.charAt(0)?(r=document.getElementById(e.substring(1)))?"CANVAS"===r.tagName||"VIDEO"===r.tagName||"IMG"===r.tagName?r:r.getAttribute("src"):void warn('"'+e+'" asset not found.'):e)}function defaultParse(e){return e}function defaultStringify(e){return null===e?"null":e.toString()}function boolParse(e){return"false"!==e&&!1!==e}function intParse(e){return parseInt(e,10)}function numberParse(e){return parseFloat(e,10)}function selectorParse(e){return e?"string"!=typeof e?e:"#"!==e[0]||nonCharRegex.test(e)?document.querySelector(e):document.getElementById(e.substring(1)):null}function selectorAllParse(e){return e?"string"!=typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null}function selectorStringify(e){return e.getAttribute?"#"+e.getAttribute("id"):defaultStringify(e)}function selectorAllStringify(e){return e instanceof Array?e.map(function(e){return"#"+e.getAttribute("id")}).join(", "):defaultStringify(e)}function srcParse(e){return warn("`src` property type is deprecated. Use `asset` instead."),assetParse(e)}function vecParse(e){return coordinates.parse(e,this.default)}function isValidDefaultValue(e,r){return("audio"!==e||"string"==typeof r)&&(!("array"===e&&!Array.isArray(r))&&(("asset"!==e||"string"==typeof r)&&(("boolean"!==e||"boolean"==typeof r)&&(("color"!==e||"string"==typeof r)&&(("int"!==e||"number"==typeof r)&&(("number"!==e||"number"==typeof r)&&(("map"!==e||"string"==typeof r)&&(("model"!==e||"string"==typeof r)&&(("selector"!==e||"string"==typeof r||null===r)&&(("selectorAll"!==e||"string"==typeof r||null===r)&&(("src"!==e||"string"==typeof r)&&(("string"!==e||"string"==typeof r)&&(("time"!==e||"number"==typeof r)&&("vec2"===e?isValidDefaultCoordinate(r,2):"vec3"===e?isValidDefaultCoordinate(r,3):"vec4"!==e||isValidDefaultCoordinate(r,4)))))))))))))))}function isValidDefaultCoordinate(e,r){if(null===e)return!0;if("object"!=typeof e)return!1;if(Object.keys(e).length!==r)return!1;var t=e.x,n=e.y,i=e.z,o=e.w;return"number"==typeof t&&"number"==typeof n&&(!(r>2&&"number"!=typeof i)&&!(r>3&&"number"!=typeof o))}var coordinates=_dereq_("../utils/coordinates"),debug=_dereq_("debug"),error=debug("core:propertyTypes:warn"),warn=debug("core:propertyTypes:warn"),propertyTypes=module.exports.propertyTypes={},nonCharRegex=/[,> .[\]:]/,urlRegex=/\url\((.+)\)/;registerPropertyType("audio","",assetParse),registerPropertyType("array",[],arrayParse,arrayStringify),registerPropertyType("asset","",assetParse),registerPropertyType("boolean",!1,boolParse),registerPropertyType("color","#FFF",defaultParse,defaultStringify),registerPropertyType("int",0,intParse),registerPropertyType("number",0,numberParse),registerPropertyType("map","",assetParse),registerPropertyType("model","",assetParse),registerPropertyType("selector",null,selectorParse,selectorStringify),registerPropertyType("selectorAll",null,selectorAllParse,selectorAllStringify),registerPropertyType("src","",srcParse),registerPropertyType("string","",defaultParse,defaultStringify),registerPropertyType("time",0,intParse),registerPropertyType("vec2",{x:0,y:0},vecParse,coordinates.stringify),registerPropertyType("vec3",{x:0,y:0,z:0},vecParse,coordinates.stringify),registerPropertyType("vec4",{x:0,y:0,z:0,w:1},vecParse,coordinates.stringify),module.exports.registerPropertyType=registerPropertyType,module.exports.isValidDefaultValue=isValidDefaultValue,module.exports.isValidDefaultCoordinate=isValidDefaultCoordinate;
},{"../utils/coordinates":176,"debug":10}],111:[function(_dereq_,module,exports){
function getCanvasSize(e,t,i,s){return t?{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth}:getMaxSize(i,s)}function getMaxSize(e,t){var i,s,n=window.devicePixelRatio;return s={height:document.body.offsetHeight,width:document.body.offsetWidth},!e||t||-1===e.width&&-1===e.height?s:s.width*n<e.width&&s.height*n<e.height?s:(i=s.width/s.height,s.width*n>e.width&&-1!==e.width&&(s.width=Math.round(e.width/n),s.height=Math.round(e.width/i/n)),s.height*n>e.height&&-1!==e.height&&(s.height=Math.round(e.height/n),s.width=Math.round(e.height*i/n)),s)}function requestFullscreen(e){(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).apply(e,[{navigationUI:"hide"}])}function exitFullscreen(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function setupCanvas(e){function t(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||e.exitVR(),document.activeElement.blur(),document.body.focus()}var i;i=document.createElement("canvas"),i.classList.add("a-canvas"),i.dataset.aframeCanvas=!0,e.appendChild(i),document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),i.addEventListener("touchmove",function(e){e.preventDefault()}),e.canvas=i,e.emit("render-target-loaded",{target:i}),setTimeout(bind(e.resize,e),0)}var initMetaTags=_dereq_("./metaTags").inject,initWakelock=_dereq_("./wakelock"),loadingScreen=_dereq_("./loadingScreen"),re=_dereq_("../a-register-element"),scenes=_dereq_("./scenes"),systems=_dereq_("../system").systems,THREE=_dereq_("../../lib/three"),utils=_dereq_("../../utils/"),AEntity=_dereq_("../a-entity"),ANode=_dereq_("../a-node"),initPostMessageAPI=_dereq_("./postMessage"),bind=utils.bind,isIOS=utils.device.isIOS(),isMobile=utils.device.isMobile(),isWebXRAvailable=utils.device.isWebXRAvailable,registerElement=re.registerElement,warn=utils.debug("core:a-scene:warn");module.exports.AScene=registerElement("a-scene",{prototype:Object.create(AEntity.prototype,{createdCallback:{value:function(){this.clock=new THREE.Clock,this.isIOS=isIOS,this.isMobile=isMobile,this.hasWebXR=isWebXRAvailable,this.isAR=!1,this.isScene=!0,this.object3D=new THREE.Scene;var e=this;this.object3D.onAfterRender=function(t,i,s){e.isPlaying&&e.tock(e.time,e.delta,s)},this.render=bind(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui","")}},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-fullscreen")}},attachedCallback:{value:function(){var e=this,t=this.hasAttribute("embedded");setupCanvas(this),this.setupRenderer(),this.resize(),t||this.addFullScreenStyles(),initPostMessageAPI(this),initMetaTags(this),initWakelock(this),this.onVRPresentChangeBound=bind(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){e.enterVR()},this.exitVRBound=function(){e.exitVR()},this.exitVRTrueBound=function(){e.exitVR(!0)},this.pointerRestrictedBound=function(){e.pointerRestricted()},this.pointerUnrestrictedBound=function(){e.pointerUnrestricted()},isWebXRAvailable||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),this.addEventListener("cameraready",function(){e.attachedCallbackPostCamera()}),this.initSystems()}},attachedCallbackPostCamera:{value:function(){var e,t=this;e=bind(this.resize,this),window.addEventListener("load",e),window.addEventListener("resize",function(){t.isIOS?setTimeout(e,100):e()}),this.play(),scenes.push(this)},writable:window.debug},initSystems:{value:function(){var e;this.initSystem("camera");for(e in systems)"camera"!==e&&this.initSystem(e)}},initSystem:{value:function(e){this.systems[e]||(this.systems[e]=new systems[e](this),this.systemNames.push(e))}},detachedCallback:{value:function(){var e=scenes.indexOf(this);scenes.splice(e,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)}},addBehavior:{value:function(e){var t,i,s=this.behaviors;for(i in s)e[i]&&(t=this.behaviors[i],-1===t.indexOf(e)&&t.push(e))}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:utils.device.checkHeadsetConnected,writable:window.debug},enterAR:{value:function(){if(!this.hasWebXR)throw new Error("Failed to enter AR mode, WebXR not supported.");this.enterVR(!0)}},enterVR:{value:function(e){function t(){var e;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(e=new CustomEvent("vrdisplaypresentchange",{detail:{display:utils.device.getVRDisplay()}}),window.dispatchEvent(e)),n.addState("vr-mode"),n.emit("enter-vr",{target:n}),!isWebXRAvailable&&n.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),n.addFullScreenStyles(),n.isMobile||n.checkHeadsetConnected()||requestFullscreen(n.canvas),n.renderer.setAnimationLoop(n.render),n.resize()}function i(e){throw e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")}var s,n=this,r=n.renderer.xr;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(r.enabled=!0,!this.hasWebXR){if(s=utils.device.getVRDisplay(),r.setDevice(s),s.isPresenting&&!window.hasNativeWebVRImplementation)return t(),Promise.resolve();var a=this.getAttribute("renderer"),o={highRefreshRate:a.highRefreshRate,foveationLevel:a.foveationLevel};return s.requestPresent([{source:this.canvas,attributes:o}]).then(t,i)}return this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound),navigator.xr.requestSession(e?"immersive-ar":"immersive-vr",{requiredFeatures:["local-floor"],optionalFeatures:["bounded-floor"]}).then(function(i){n.xrSession=i,r.setSession(i),i.addEventListener("end",n.exitVRBound),e&&n.addState("ar-mode"),t()}),Promise.resolve()}return t(),Promise.resolve()},writable:!0},exitVR:{value:function(){function e(){s.removeState("vr-mode"),s.removeState("ar-mode"),s.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),s.hasAttribute("embedded")&&s.removeFullScreenStyles(),s.resize(),s.isIOS&&utils.forceCanvasResizeSafariMobile(s.canvas),s.renderer.setPixelRatio(window.devicePixelRatio),s.emit("exit-vr",{target:s})}function t(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")}var i,s=this,n=this.renderer.xr;if(!this.is("vr-mode"))return Promise.resolve("Not in VR.");if(this.checkHeadsetConnected()||this.isMobile){if(n.enabled=!1,i=utils.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0,n.setSession(null);else if(i.isPresenting)return i.exitPresent().then(e,t)}else exitFullscreen();return e(),Promise.resolve()},writable:!0},pointerRestricted:{value:function(){if(this.canvas){var e=this.getPointerLockElement();e&&e!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},pointerUnrestricted:{value:function(){var e=this.getPointerLockElement();e&&e===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(e){var t=e.display||e.detail.display;if(t&&t.isPresenting)return void this.enterVR();this.exitVR()}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:AEntity.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){warn("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:AEntity.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,i){var s=this.systems[e];if(s)return ANode.prototype.setAttribute.call(this,e,t),void s.updateProperties(t);AEntity.prototype.setAttribute.call(this,e,t,i)}},removeBehavior:{value:function(e){var t,i,s,n=this.behaviors;for(i in n)e[i]&&(t=this.behaviors[i],-1!==(s=t.indexOf(e))&&t.splice(s,1))}},resize:{value:function(){var e,t,i,s=this.camera,n=this.canvas,r=this.renderer.xr.isPresenting();t=this.renderer.xr.enabled&&r,!s||!n||this.is("vr-mode")&&(this.isMobile||t)||(e=this.getAttribute("embedded")&&!this.is("vr-mode"),i=getCanvasSize(n,e,this.maxCanvasSize,this.is("vr-mode")),s.aspect=i.width/i.height,s.updateProjectionMatrix(),this.renderer.setSize(i.width,i.height,!1),this.emit("rendererresize",null,!1))},writable:!0},setupRenderer:{value:function(){var e,t,i,s,n=this;s={alpha:!0,antialias:!isMobile,canvas:this.canvas,logarithmicDepthBuffer:!1},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(i=this.getAttribute("renderer"),t=utils.styleParser.parse(i),t.precision&&(s.precision=t.precision+"p"),t.antialias&&"auto"!==t.antialias&&(s.antialias="true"===t.antialias),t.logarithmicDepthBuffer&&"auto"!==t.logarithmicDepthBuffer&&(s.logarithmicDepthBuffer="true"===t.logarithmicDepthBuffer),t.alpha&&(s.alpha="true"===t.alpha),this.maxCanvasSize={width:t.maxCanvasWidth?parseInt(t.maxCanvasWidth):this.maxCanvasSize.width,height:t.maxCanvasHeight?parseInt(t.maxCanvasHeight):this.maxCanvasSize.height}),e=this.renderer=new THREE.WebGLRenderer(s),e.setPixelRatio(window.devicePixelRatio),e.sortObjects=!1,this.camera&&e.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){e.xr.setPoseTarget(n.camera.el.object3D)}),loadingScreen.setup(this,getCanvasSize)},writable:window.debug},play:{value:function(){var e=this,t=this;if(this.renderStarted)return void AEntity.prototype.play.call(this);this.addEventListener("loaded",function(){var e,i=this.renderer,s=this.renderer.xr;AEntity.prototype.play.call(this),t.renderStarted||(t.resize(),t.renderer&&(window.performance&&window.performance.mark("render-started"),loadingScreen.remove(),e=utils.device.getVRDisplay(),e&&e.isPresenting&&(s.setDevice(e),s.enabled=!0,t.enterVR()),i.setAnimationLoop(this.render),t.renderStarted=!0,t.emit("renderstart")))}),setTimeout(function(){AEntity.prototype.load.call(e)})}},updateComponent:{value:function(e){e in systems||AEntity.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(e,t){var i,s=this.systems;for(i=0;i<this.behaviors.tick.length;i++)this.behaviors.tick[i].el.isPlaying&&this.behaviors.tick[i].tick(e,t);for(i=0;i<this.systemNames.length;i++)s[this.systemNames[i]].tick&&s[this.systemNames[i]].tick(e,t)}},tock:{value:function(e,t,i){var s,n=this.systems;for(s=0;s<this.behaviors.tock.length;s++)this.behaviors.tock[s].el.isPlaying&&this.behaviors.tock[s].tock(e,t,i);for(s=0;s<this.systemNames.length;s++)n[this.systemNames[s]].tock&&n[this.systemNames[s]].tock(e,t,i)}},render:{value:function(e,t){var i=this.renderer;this.frame=t,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta);var s=null;this.is("ar-mode")&&(s=this.object3D.background,this.object3D.background=null),i.render(this.object3D,this.camera),s&&(this.object3D.background=s)},writable:!0}})}),module.exports.setupCanvas=setupCanvas;
},{"../../lib/three":156,"../../utils/":181,"../a-entity":104,"../a-node":106,"../a-register-element":107,"../system":119,"./loadingScreen":112,"./metaTags":113,"./postMessage":114,"./scenes":115,"./wakelock":116}],112:[function(_dereq_,module,exports){
function resize(e){var t=sceneEl.hasAttribute("embedded"),i=getSceneCanvasSize(sceneEl.canvas,t,sceneEl.maxCanvasSize,sceneEl.is("vr-mode"));e.aspect=i.width/i.height,e.updateProjectionMatrix(),sceneEl.renderer.setSize(i.width,i.height,!1)}function setupTitle(){titleEl=document.createElement("div"),titleEl.className=LOADER_TITLE_CLASS,titleEl.innerHTML=document.title,titleEl.style.display="none",sceneEl.appendChild(titleEl)}var utils=_dereq_("../../utils/"),styleParser=utils.styleParser,sceneEl,titleEl,getSceneCanvasSize,ATTR_NAME="loading-screen",LOADER_TITLE_CLASS="a-loader-title";module.exports.setup=function(e,t){sceneEl=e,getSceneCanvasSize=t;var i,n,s,l,r,o,a,d,E,c,u=sceneEl.hasAttribute(ATTR_NAME)?styleParser.parse(sceneEl.getAttribute(ATTR_NAME)):void 0,T=u&&u.dotsColor||"white",v=u&&u.backgroundColor||"#24CAFF",p=void 0===u||"true"===u.enabled||void 0===u.enabled;p&&(i=new THREE.Scene,n=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),s=new THREE.MeshBasicMaterial({color:T}),l=new THREE.Mesh(n,s),r=l.clone(),o=l.clone(),a=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),d=new THREE.Clock,E=0,c=function(){sceneEl.renderer.render(i,a),E=d.getElapsedTime()%4,l.visible=E>=1,r.visible=E>=2,o.visible=E>=3},i.background=new THREE.Color(v),i.add(a),l.position.set(-1,0,-15),r.position.set(0,0,-15),o.position.set(1,0,-15),a.add(l),a.add(r),a.add(o),setupTitle(),setTimeout(function(){sceneEl.hasLoaded||(resize(a),titleEl.style.display="block",window.addEventListener("resize",function(){resize(a)}),sceneEl.renderer.setAnimationLoop(c))},200))},module.exports.remove=function(){window.removeEventListener("resize",resize),titleEl&&(titleEl.style.display="none")};
},{"../../utils/":181}],113:[function(_dereq_,module,exports){
function Meta(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}function Link(e){return{tagName:"link",attributes:e,exists:function(){return document.querySelector('link[rel="'+e.rel+'"]')}}}function createTag(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(constants.AFRAME_INJECTED,""),extend(t,e.attributes)}}var constants=_dereq_("../../constants/"),extend=_dereq_("../../utils").extend,MOBILE_HEAD_TAGS=module.exports.MOBILE_HEAD_TAGS=[Meta({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),Meta({name:"mobile-web-app-capable",content:"yes"}),Meta({name:"theme-color",content:"black"})],MOBILE_IOS_HEAD_TAGS=[Meta({name:"apple-mobile-web-app-capable",content:"yes"}),Meta({name:"apple-mobile-web-app-status-bar-style",content:"black"}),Link({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];module.exports.inject=function(e){function t(e){e&&!e.exists()&&(a=createTag(e))&&(r?r.parentNode.insertBefore(a,r):n.appendChild(a),i.push(a))}var a,n=document.head,r=n.querySelector("script"),i=[];return MOBILE_HEAD_TAGS.forEach(t),e.isIOS&&MOBILE_IOS_HEAD_TAGS.forEach(t),i};
},{"../../constants/":100,"../../utils":181}],114:[function(_dereq_,module,exports){
function postMessageAPIHandler(e){var a=this;if(e.data)switch(e.data.type){case"vr":switch(e.data.data){case"enter":a.enterVR();break;case"exit":a.exitVR()}}}var bind=_dereq_("../../utils/bind"),isIframed=_dereq_("../../utils/").isIframed;module.exports=function(e){isIframed()&&window.addEventListener("message",bind(postMessageAPIHandler,e))};
},{"../../utils/":181,"../../utils/bind":175}],115:[function(_dereq_,module,exports){
module.exports=[];
},{}],116:[function(_dereq_,module,exports){
var Wakelock=_dereq_("../../../vendor/wakelock/wakelock");module.exports=function(e){if(e.isMobile){var n=e.wakelock=new Wakelock;e.addEventListener("enter-vr",function(){n.request()}),e.addEventListener("exit-vr",function(){n.release()})}};
},{"../../../vendor/wakelock/wakelock":195}],117:[function(_dereq_,module,exports){
function isSingleProperty(r){return"type"in r?"string"==typeof r.type:"default"in r}function processPropertyDefinition(r,e){var t,o,n=r.default,p=r.type;return r.type?"bool"===r.type?p="boolean":"float"===r.type&&(p="number"):p=void 0===n||"boolean"!=typeof n&&"number"!=typeof n?Array.isArray(n)?"array":"string":typeof n,o=propertyTypes[p],o||warn("Unknown property type for component `"+e+"`: "+p),t=!!r.parse,r.parse=r.parse||o.parse,r.stringify=r.stringify||o.stringify,r.type=p,"default"in r?t||isValidDefaultValue(p,n)||warn("Default value `"+n+"` does not match type `"+p+"` in component `"+e+"`"):r.default=o.default,r}function parseProperty(r,e){return void 0!==r&&null!==r&&""!==r||(r=e.default,Array.isArray(r)&&(r=r.slice())),e.parse(r,e.default)}function stringifyProperty(r,e){return"object"!=typeof r?r:e&&null!==r?e.stringify(r):JSON.stringify(r)}var utils=_dereq_("../utils/"),PropertyTypes=_dereq_("./propertyTypes"),debug=utils.debug,isValidDefaultValue=PropertyTypes.isValidDefaultValue,propertyTypes=PropertyTypes.propertyTypes,warn=debug("core:schema:warn");module.exports.isSingleProperty=isSingleProperty,module.exports.process=function(r,e){var t;if(isSingleProperty(r))return processPropertyDefinition(r,e);for(t in r)r[t]=processPropertyDefinition(r[t],e);return r},module.exports.processPropertyDefinition=processPropertyDefinition,module.exports.parseProperties=function(){var r=[];return function(e,t,o,n,p){var i,s,y,u;r.length=0;for(s in o?e:t)o&&void 0===e[s]||r.push(s);if(null===e||"object"!=typeof e)return e;for(s in e)void 0===e[s]||t[s]||p||warn("Unknown property `"+s+"` for component/system `"+n+"`.");for(i=0;i<r.length;i++){if(s=r[i],y=t[s],u=e[s],!t[s])return;e[s]=parseProperty(u,y)}return e}}(),module.exports.parseProperty=parseProperty,module.exports.stringifyProperties=function(r,e){var t,o,n,p,i={};for(t in r)o=e[t],n=r[t],p=n,"object"==typeof p&&(p=stringifyProperty(n,o),o||warn("Unknown component property: "+t)),i[t]=p;return i},module.exports.stringifyProperty=stringifyProperty;
},{"../utils/":181,"./propertyTypes":110}],118:[function(_dereq_,module,exports){
var schema=_dereq_("./schema"),processSchema=schema.process,shaders=module.exports.shaders={},shaderNames=module.exports.shaderNames=[],THREE=_dereq_("../lib/three"),utils=_dereq_("../utils"),propertyToThreeMapping={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},Shader=module.exports.Shader=function(){};Shader.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?THREE.RawShaderMaterial:THREE.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,r){var t,a,i=this.schema,s={};for(t in i)i[t].is===r&&(a=propertyToThreeMapping[i[t].type],s[t]={type:a,value:void 0});return s},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,r){var t,a,i,s=this.schema;i="uniform"===r?this.uniforms:this.attributes;for(t in e)if(s[t]&&s[t].is===r)if("map"!==s[t].type)i[t].value=this.parseValue(s[t].type,e[t]),i[t].needsUpdate=!0;else{if(!i[t]||i[t].value===e[t])continue;a="_texture_"+t,this.setMapOnTextureLoad(i,t,a),utils.material.updateMapMaterialFromData(a,t,this,e)}},parseValue:function(e,r){var t;switch(e){case"vec2":return new THREE.Vector2(r.x,r.y);case"vec3":return new THREE.Vector3(r.x,r.y,r.z);case"vec4":return new THREE.Vector4(r.x,r.y,r.z,r.w);case"color":return t=new THREE.Color(r),new THREE.Vector3(t.r,t.g,t.b);case"map":return THREE.ImageUtils.loadTexture(r);default:return r}},setMapOnTextureLoad:function(e,r,t){var a=this;this.el.addEventListener("materialtextureloaded",function(){e[r].value=a.material[t],e[r].needsUpdate=!0})}},module.exports.registerShader=function(e,r){var t,a={};if(Object.keys(r).forEach(function(e){a[e]={value:r[e],writable:!0}}),shaders[e])throw new Error("The shader "+e+" has been already registered");return t=function(){Shader.call(this)},t.prototype=Object.create(Shader.prototype,a),t.prototype.name=e,t.prototype.constructor=t,shaders[e]={Shader:t,schema:processSchema(t.prototype.schema)},shaderNames.push(e),t};
},{"../lib/three":156,"../utils":181,"./schema":117}],119:[function(_dereq_,module,exports){
var components=_dereq_("./component"),schema=_dereq_("./schema"),utils=_dereq_("../utils/"),parseProperties=schema.parseProperties,parseProperty=schema.parseProperty,processSchema=schema.process,isSingleProp=schema.isSingleProperty,styleParser=utils.styleParser,systems=module.exports.systems={},System=module.exports.System=function(e){var t=components&&components.components[this.name];this.el=e,this.sceneEl=e,t&&(t.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};System.prototype={schema:{},init:function(){},update:function(e){},updateProperties:function(e){var t=this.data;Object.keys(schema).length&&(this.buildData(e),this.update(t))},buildData:function(e){var t=this.schema;Object.keys(t).length&&(e=e||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),isSingleProp(t)?this.data=parseProperty(e,t):this.data=parseProperties(styleParser.parse(e)||{},t))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},module.exports.registerSystem=function(e,t){var s,o,r={},i=utils.findAllScenes(document);if(Object.keys(t).forEach(function(e){r[e]={value:t[e],writable:!0}}),systems[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(o=function(e){System.call(this,e)},o.prototype=Object.create(System.prototype,r),o.prototype.name=e,o.prototype.constructor=o,o.prototype.schema=utils.extend(processSchema(o.prototype.schema)),systems[e]=o,s=0;s<i.length;s++)i[s].initSystem(e)};
},{"../utils/":181,"./component":108,"./schema":117}],120:[function(_dereq_,module,exports){
_dereq_("./pivot");
},{"./pivot":121}],121:[function(_dereq_,module,exports){
var registerComponent=_dereq_("../../core/component").registerComponent,THREE=_dereq_("../../lib/three"),originalPosition=new THREE.Vector3,originalRotation=new THREE.Vector3;registerComponent("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var o=this.data,i=this.el,t=i.object3D.parent,e=i.object3D,n=new THREE.Group;originalPosition.copy(e.position),originalRotation.copy(e.rotation),t.remove(e),n.add(e),t.add(n),i.object3D=n,e.position.set(-1*o.x,-1*o.y,-1*o.z),n.position.set(o.x+originalPosition.x,o.y+originalPosition.y,o.z+originalPosition.z),n.rotation.copy(e.rotation),e.rotation.set(0,0,0)}});
},{"../../core/component":108,"../../lib/three":156}],122:[function(_dereq_,module,exports){
function addMapping(e){var a=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(a="material-fog"),"visible"===e&&(a="material-visible"),materialMappings[a]="material."+e}var components=_dereq_("../../core/component").components,shaders=_dereq_("../../core/shader").shaders,utils=_dereq_("../../utils/"),materialMappings={};Object.keys(components.material.schema).forEach(addMapping),Object.keys(shaders.standard.schema).forEach(addMapping),module.exports=function(){return{defaultComponents:{material:{}},mappings:utils.extend({},materialMappings)}};
},{"../../core/component":108,"../../core/shader":118,"../../utils/":181}],123:[function(_dereq_,module,exports){
_dereq_("./primitives/a-camera"),_dereq_("./primitives/a-cursor"),_dereq_("./primitives/a-curvedimage"),_dereq_("./primitives/a-gltf-model"),_dereq_("./primitives/a-image"),_dereq_("./primitives/a-light"),_dereq_("./primitives/a-link"),_dereq_("./primitives/a-obj-model"),_dereq_("./primitives/a-sky"),_dereq_("./primitives/a-sound"),_dereq_("./primitives/a-text"),_dereq_("./primitives/a-video"),_dereq_("./primitives/a-videosphere"),_dereq_("./primitives/meshPrimitives");
},{"./primitives/a-camera":125,"./primitives/a-cursor":126,"./primitives/a-curvedimage":127,"./primitives/a-gltf-model":128,"./primitives/a-image":129,"./primitives/a-light":130,"./primitives/a-link":131,"./primitives/a-obj-model":132,"./primitives/a-sky":133,"./primitives/a-sound":134,"./primitives/a-text":135,"./primitives/a-video":136,"./primitives/a-videosphere":137,"./primitives/meshPrimitives":138}],124:[function(_dereq_,module,exports){
function addComponentMapping(e,t){var i=components[e].schema;Object.keys(i).map(function(i){var n=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==t[n]&&(n=e+"-"+i),t[n]=e+"."+i})}function definePrimitive(e,t,i){i=i||{},Object.keys(t).map(function(e){addComponentMapping(e,i)}),module.exports.registerPrimitive(e,utils.extendDeep({},null,{defaultComponents:t,mappings:i}))}var AEntity=_dereq_("../../core/a-entity"),components=_dereq_("../../core/component").components,registerElement=_dereq_("../../core/a-register-element").registerElement,utils=_dereq_("../../utils/"),debug=utils.debug,setComponentProperty=utils.entity.setComponentProperty,log=debug("extras:primitives:debug"),warn=debug("extras:primitives:warn"),primitives=module.exports.primitives={};module.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),log("Registering <%s>",e),t.defaultAttributes&&warn("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var i=registerElement(e,{prototype:Object.create(AEntity.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var e=this.mappings,t=this;Object.keys(e).forEach(function(i){var n;i!==i.toLowerCase()&&warn("Mapping keys should be specified in lower case. The mapping key "+i+" may not be recognized"),components[i]&&(n=e[i].replace(".","-"),e[n]=e[i],delete e[i],console.warn("The primitive "+t.tagName.toLowerCase()+" has a mapping collision. The attribute "+i+" has the same name as a registered component and has been renamed to "+n))})}},getExtraComponents:{value:function(){function e(e,r){return t(e)?i(r):t(r)?i(e):n(e)&&n(r)?utils.extendDeep(e,r):i(r)}function t(e){return void 0===e}function i(e){return n(e)?utils.extendDeep({},e):e}function n(e){return null!==e&&e.constructor===Object}var r,o,a,s,p,u,l=this;for(o=utils.clone(this.defaultComponentsFromPrimitive),p=this.getAttribute("mixin"),p&&(p=p.trim().split(" "),p.forEach(function(t){var i=l.sceneEl.querySelector("#"+t).componentCache;Object.keys(i).forEach(function(t){o[t]=e(o[t],i[t])})})),a=0;a<this.attributes.length;a++)r=this.attributes[a],(s=this.mappings[r.name])&&(u=utils.entity.getComponentPropertyPath(s),u.constructor===Array?(o[u[0]]=o[u[0]]||{},o[u[0]][u[1]]=r.value.trim()):o[u]=r.value.trim());return o}},attributeChangedCallback:{value:function(e,t,i){var n=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&n&&setComponentProperty(this,n,i)}}})});return primitives[e]=i,i},module.exports.definePrimitive=definePrimitive;
},{"../../core/a-entity":104,"../../core/a-register-element":107,"../../core/component":108,"../../utils/":181}],125:[function(_dereq_,module,exports){
var registerPrimitive=_dereq_("../primitives").registerPrimitive;registerPrimitive("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}});
},{"../primitives":124}],126:[function(_dereq_,module,exports){
var getMeshMixin=_dereq_("../getMeshMixin"),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/");registerPrimitive("a-cursor",utils.extendDeep({},getMeshMixin(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],127:[function(_dereq_,module,exports){
var getMeshMixin=_dereq_("../getMeshMixin"),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/");registerPrimitive("a-curvedimage",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],128:[function(_dereq_,module,exports){
var registerPrimitive=_dereq_("../primitives").registerPrimitive;registerPrimitive("a-gltf-model",{mappings:{src:"gltf-model"}});
},{"../primitives":124}],129:[function(_dereq_,module,exports){
var getMeshMixin=_dereq_("../getMeshMixin"),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/");registerPrimitive("a-image",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],130:[function(_dereq_,module,exports){
var registerPrimitive=_dereq_("../primitives").registerPrimitive;registerPrimitive("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}});
},{"../primitives":124}],131:[function(_dereq_,module,exports){
var registerPrimitive=_dereq_("../primitives").registerPrimitive;registerPrimitive("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}});
},{"../primitives":124}],132:[function(_dereq_,module,exports){
var meshMixin=_dereq_("../getMeshMixin")(),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/");registerPrimitive("a-obj-model",utils.extendDeep({},meshMixin,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],133:[function(_dereq_,module,exports){
var getMeshMixin=_dereq_("../getMeshMixin"),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/"),meshPrimitives=_dereq_("./meshPrimitives");registerPrimitive("a-sky",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:utils.extendDeep({},meshPrimitives["a-sphere"].prototype.mappings)}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124,"./meshPrimitives":138}],134:[function(_dereq_,module,exports){
var registerPrimitive=_dereq_("../primitives").registerPrimitive;registerPrimitive("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}});
},{"../primitives":124}],135:[function(_dereq_,module,exports){
var definePrimitive=_dereq_("../primitives").definePrimitive;definePrimitive("a-text",{text:{anchor:"align",width:5}});
},{"../primitives":124}],136:[function(_dereq_,module,exports){
var getMeshMixin=_dereq_("../getMeshMixin"),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/");registerPrimitive("a-video",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],137:[function(_dereq_,module,exports){
var getMeshMixin=_dereq_("../getMeshMixin"),registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/");registerPrimitive("a-videosphere",utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}));
},{"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],138:[function(_dereq_,module,exports){
function unCamelCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var getMeshMixin=_dereq_("../getMeshMixin"),geometries=_dereq_("../../../core/geometry").geometries,geometryNames=_dereq_("../../../core/geometry").geometryNames,registerPrimitive=_dereq_("../primitives").registerPrimitive,utils=_dereq_("../../../utils/"),meshPrimitives=module.exports={};geometryNames.forEach(function(e){var i=geometries[e],r=unCamelCase(e),t={};Object.keys(i.schema).forEach(function(e){t[unCamelCase(e)]="geometry."+e});var m="a-"+r,s=registerPrimitive(m,utils.extendDeep({},getMeshMixin(),{defaultComponents:{geometry:{primitive:e}},mappings:t}));meshPrimitives[m]=s});
},{"../../../core/geometry":109,"../../../utils/":181,"../getMeshMixin":122,"../primitives":124}],139:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new THREE.BoxGeometry(e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth)}});
},{"../core/geometry":109,"../lib/three":156}],140:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad;registerGeometry("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CircleGeometry(e.radius,e.segments,degToRad(e.thetaStart),degToRad(e.thetaLength))}});
},{"../core/geometry":109,"../lib/three":156}],141:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad;registerGeometry("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,degToRad(e.thetaStart),degToRad(e.thetaLength))}});
},{"../core/geometry":109,"../lib/three":156}],142:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad;registerGeometry("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,degToRad(e.thetaStart),degToRad(e.thetaLength))}});
},{"../core/geometry":109,"../lib/three":156}],143:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.DodecahedronGeometry(e.radius,e.detail)}});
},{"../core/geometry":109,"../lib/three":156}],144:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.IcosahedronGeometry(e.radius,e.detail)}});
},{"../core/geometry":109,"../lib/three":156}],145:[function(_dereq_,module,exports){
_dereq_("./box.js"),_dereq_("./circle.js"),_dereq_("./cone.js"),_dereq_("./cylinder.js"),_dereq_("./dodecahedron.js"),_dereq_("./icosahedron.js"),_dereq_("./octahedron.js"),_dereq_("./plane.js"),_dereq_("./ring.js"),_dereq_("./sphere.js"),_dereq_("./tetrahedron.js"),_dereq_("./torus.js"),_dereq_("./torusKnot.js"),_dereq_("./triangle.js");
},{"./box.js":139,"./circle.js":140,"./cone.js":141,"./cylinder.js":142,"./dodecahedron.js":143,"./icosahedron.js":144,"./octahedron.js":146,"./plane.js":147,"./ring.js":148,"./sphere.js":149,"./tetrahedron.js":150,"./torus.js":151,"./torusKnot.js":152,"./triangle.js":153}],146:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.OctahedronGeometry(e.radius,e.detail)}});
},{"../core/geometry":109,"../lib/three":156}],147:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new THREE.PlaneGeometry(e.width,e.height,e.segmentsWidth,e.segmentsHeight)}});
},{"../core/geometry":109,"../lib/three":156}],148:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad;registerGeometry("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new THREE.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,degToRad(e.thetaStart),degToRad(e.thetaLength))}});
},{"../core/geometry":109,"../lib/three":156}],149:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad;registerGeometry("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new THREE.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,degToRad(e.phiStart),degToRad(e.phiLength),degToRad(e.thetaStart),degToRad(e.thetaLength))}});
},{"../core/geometry":109,"../lib/three":156}],150:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new THREE.TetrahedronGeometry(e.radius,e.detail)}});
},{"../core/geometry":109,"../lib/three":156}],151:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),degToRad=THREE.Math.degToRad;registerGeometry("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new THREE.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,degToRad(e.arc))}});
},{"../core/geometry":109,"../lib/three":156}],152:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three");registerGeometry("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new THREE.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}});
},{"../core/geometry":109,"../lib/three":156}],153:[function(_dereq_,module,exports){
var registerGeometry=_dereq_("../core/geometry").registerGeometry,THREE=_dereq_("../lib/three"),quaternion=new THREE.Quaternion,rotateVector=new THREE.Vector3(0,0,1),uvMinVector=new THREE.Vector2,uvMaxVector=new THREE.Vector2,uvScaleVector=new THREE.Vector2;registerGeometry("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(e){var t,r,o,c,n,a;o=new THREE.Triangle,o.a.set(e.vertexA.x,e.vertexA.y,e.vertexA.z),o.b.set(e.vertexB.x,e.vertexB.y,e.vertexB.z),o.c.set(e.vertexC.x,e.vertexC.y,e.vertexC.z),r=o.getNormal(new THREE.Vector3),quaternion.setFromUnitVectors(r,rotateVector),c=o.a.clone().applyQuaternion(quaternion),n=o.b.clone().applyQuaternion(quaternion),a=o.c.clone().applyQuaternion(quaternion),uvMinVector.set(Math.min(c.x,n.x,a.x),Math.min(c.y,n.y,a.y)),uvMaxVector.set(Math.max(c.x,n.x,a.x),Math.max(c.y,n.y,a.y)),uvScaleVector.set(0,0).subVectors(uvMaxVector,uvMinVector),c=(new THREE.Vector2).subVectors(c,uvMinVector).divide(uvScaleVector),n=(new THREE.Vector2).subVectors(n,uvMinVector).divide(uvScaleVector),a=(new THREE.Vector2).subVectors(a,uvMinVector).divide(uvScaleVector),t=this.geometry=new THREE.Geometry,t.vertices.push(o.a),t.vertices.push(o.b),t.vertices.push(o.c),t.faces.push(new THREE.Face3(0,1,2,r)),t.faceVertexUvs[0]=[[c,n,a]]}});
},{"../core/geometry":109,"../lib/three":156}],154:[function(_dereq_,module,exports){
if(window.Promise=window.Promise||_dereq_("promise-polyfill"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=void 0!==navigator.xr,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var isIOSOlderThan10=_dereq_("./utils/isIOSOlderThan10"),bufferScale=isIOSOlderThan10(window.navigator.userAgent)?1/window.devicePixelRatio:1,WebVRPolyfill=_dereq_("webvr-polyfill"),polyfillConfig={BUFFER_SCALE:bufferScale,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0};window.webvrpolyfill=new WebVRPolyfill(polyfillConfig)}var utils=_dereq_("./utils/"),debug=utils.debug;utils.isIE11&&(_dereq_("custom-event-polyfill"),_dereq_("../vendor/starts-with-polyfill"));var error=debug("A-Frame:error"),warn=debug("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&warn("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),"file:"===window.location.protocol&&error("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),_dereq_("present"),utils.device.isBrowserEnvironment&&(_dereq_("./style/aframe.css"),_dereq_("./style/rStats.css"));var AScene=_dereq_("./core/scene/a-scene").AScene,components=_dereq_("./core/component").components,registerComponent=_dereq_("./core/component").registerComponent,registerGeometry=_dereq_("./core/geometry").registerGeometry,registerPrimitive=_dereq_("./extras/primitives/primitives").registerPrimitive,registerShader=_dereq_("./core/shader").registerShader,registerSystem=_dereq_("./core/system").registerSystem,shaders=_dereq_("./core/shader").shaders,systems=_dereq_("./core/system").systems,THREE=window.THREE=_dereq_("./lib/three"),pkg=_dereq_("../package");_dereq_("./components/index"),_dereq_("./geometries/index"),_dereq_("./shaders/index"),_dereq_("./systems/index");var ANode=_dereq_("./core/a-node"),AEntity=_dereq_("./core/a-entity");_dereq_("./core/a-assets"),_dereq_("./core/a-cubemap"),_dereq_("./core/a-mixin"),_dereq_("./extras/components/"),_dereq_("./extras/primitives/"),console.log("A-Frame Version: 1.0.3 (Date 2019-12-29, Commit #583574f0)"),console.log("three Version (https://github.com/supermedium/three.js):",pkg.dependencies["super-three"]),console.log("WebVR Polyfill Version:",pkg.dependencies["webvr-polyfill"]),module.exports=window.AFRAME={AComponent:_dereq_("./core/component").Component,AEntity:AEntity,ANode:ANode,ANIME:_dereq_("super-animejs"),AScene:AScene,components:components,coreComponents:Object.keys(components),geometries:_dereq_("./core/geometry").geometries,registerComponent:registerComponent,registerElement:_dereq_("./core/a-register-element").registerElement,registerGeometry:registerGeometry,registerPrimitive:registerPrimitive,registerShader:registerShader,registerSystem:registerSystem,primitives:{getMeshMixin:_dereq_("./extras/primitives/getMeshMixin"),primitives:_dereq_("./extras/primitives/primitives").primitives},scenes:_dereq_("./core/scene/scenes"),schema:_dereq_("./core/schema"),shaders:shaders,systems:systems,THREE:THREE,utils:utils,version:pkg.version};
},{"../package":54,"../vendor/starts-with-polyfill":193,"./components/index":64,"./core/a-assets":102,"./core/a-cubemap":103,"./core/a-entity":104,"./core/a-mixin":105,"./core/a-node":106,"./core/a-register-element":107,"./core/component":108,"./core/geometry":109,"./core/scene/a-scene":111,"./core/scene/scenes":115,"./core/schema":117,"./core/shader":118,"./core/system":119,"./extras/components/":120,"./extras/primitives/":123,"./extras/primitives/getMeshMixin":122,"./extras/primitives/primitives":124,"./geometries/index":145,"./lib/three":156,"./shaders/index":158,"./style/aframe.css":163,"./style/rStats.css":164,"./systems/index":168,"./utils/":181,"./utils/isIOSOlderThan10":183,"custom-event-polyfill":9,"present":33,"promise-polyfill":34,"super-animejs":36,"webvr-polyfill":49}],155:[function(_dereq_,module,exports){
window.aframeStats=function(t){function e(){i("te").set(n()),window.performance.getEntriesByName&&i("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function n(){var t=c.querySelectorAll("*");return Array.prototype.slice.call(t).filter(function(t){return t.isEntity}),t.length}function r(){}function a(){}function o(t){i=t}var i=null,c=t;return{update:e,start:r,end:a,attach:o,values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"==typeof module&&(module.exports={aframeStats:window.aframeStats});
},{}],156:[function(_dereq_,module,exports){
(function (global){
var THREE=global.THREE=_dereq_("super-three");THREE.TextureLoader&&(THREE.TextureLoader.prototype.crossOrigin="anonymous"),THREE.ImageLoader&&(THREE.ImageLoader.prototype.crossOrigin="anonymous"),THREE.Cache&&(THREE.Cache.enabled=!0),_dereq_("../../vendor/DeviceOrientationControls"),_dereq_("super-three/examples/js/loaders/DRACOLoader"),_dereq_("super-three/examples/js/loaders/GLTFLoader"),_dereq_("super-three/examples/js/loaders/OBJLoader"),_dereq_("super-three/examples/js/loaders/MTLLoader"),THREE.DRACOLoader.prototype.crossOrigin="anonymous",THREE.GLTFLoader.prototype.crossOrigin="anonymous",THREE.MTLLoader.prototype.crossOrigin="anonymous",THREE.OBJLoader.prototype.crossOrigin="anonymous",module.exports=THREE;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../vendor/DeviceOrientationControls":190,"super-three":37,"super-three/examples/js/loaders/DRACOLoader":38,"super-three/examples/js/loaders/GLTFLoader":39,"super-three/examples/js/loaders/MTLLoader":40,"super-three/examples/js/loaders/OBJLoader":41}],157:[function(_dereq_,module,exports){
function getMaterialData(e,t){return t.color.set(e.color),t.fog=e.fog,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t}var registerShader=_dereq_("../core/shader").registerShader,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/");module.exports.Shader=registerShader("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new THREE.Color},this.textureSrc=null,getMaterialData(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new THREE.MeshBasicMaterial(this.materialData),utils.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),utils.material.updateMap(this,e)},updateMaterial:function(e){var t;getMaterialData(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color);for(t in this.materialData)this.material[t]=this.materialData[t]}});
},{"../core/shader":118,"../lib/three":156,"../utils/":181}],158:[function(_dereq_,module,exports){
_dereq_("./flat"),_dereq_("./standard"),_dereq_("./sdf"),_dereq_("./msdf"),_dereq_("./ios10hls");
},{"./flat":157,"./ios10hls":159,"./msdf":160,"./sdf":161,"./standard":162}],159:[function(_dereq_,module,exports){
var registerShader=_dereq_("../core/shader").registerShader;module.exports.Shader=registerShader("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")});
},{"../core/shader":118}],160:[function(_dereq_,module,exports){
var registerShader=_dereq_("../core/shader").registerShader;module.exports.Shader=registerShader("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sample = texture2D(map, vUV).rgb;","  if (negate) { sample = 1.0 - sample; }","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n")});
},{"../core/shader":118}],161:[function(_dereq_,module,exports){
var registerShader=_dereq_("../core/shader").registerShader;module.exports.Shader=registerShader("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")});
},{"../core/shader":118}],162:[function(_dereq_,module,exports){
function getMaterialData(e,t){return t.color.set(e.color),t.emissive.set(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.fog=e.fog,t.metalness=e.metalness,t.roughness=e.roughness,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}var registerShader=_dereq_("../core/shader").registerShader,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),CubeLoader=new THREE.CubeTextureLoader,texturePromises={};module.exports.Shader=registerShader("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new THREE.Color,emissive:new THREE.Color},getMaterialData(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new THREE.MeshStandardMaterial(this.materialData),utils.material.updateMap(this,e),e.normalMap&&utils.material.updateDistortionMap("normal",this,e),e.displacementMap&&utils.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&utils.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&utils.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&utils.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),utils.material.updateMap(this,e),e.normalMap&&utils.material.updateDistortionMap("normal",this,e),e.displacementMap&&utils.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&utils.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&utils.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&utils.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var t,a=this.material;getMaterialData(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive);for(t in this.materialData)a[t]=this.materialData[t]},updateEnvMap:function(e){var t=this,a=this.material,i=e.envMap,s=e.sphericalEnvMap;return!i&&!s||this.isLoadingEnvMap?(a.envMap=null,void(a.needsUpdate=!0)):(this.isLoadingEnvMap=!0,s?void this.el.sceneEl.systems.material.loadTexture(s,{src:s},function(e){t.isLoadingEnvMap=!1,e.mapping=THREE.SphericalReflectionMapping,a.envMap=e,utils.material.handleTextureEvents(t.el,e),a.needsUpdate=!0}):texturePromises[i]?void texturePromises[i].then(function(e){t.isLoadingEnvMap=!1,a.envMap=e,utils.material.handleTextureEvents(t.el,e),a.needsUpdate=!0}):void(texturePromises[i]=new Promise(function(e){utils.srcLoader.validateCubemapSrc(i,function(i){CubeLoader.load(i,function(i){t.isLoadingEnvMap=!1,a.envMap=i,utils.material.handleTextureEvents(t.el,i),e(i)})})})))}});
},{"../core/shader":118,"../lib/three":156,"../utils/":181}],163:[function(_dereq_,module,exports){
var css = "html.a-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0}html.a-fullscreen body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}html.a-fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}html:not(.a-fullscreen) .a-enter-ar,html:not(.a-fullscreen) .a-enter-vr{right:5px;bottom:5px}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}canvas.a-canvas.a-mouse-cursor-hover:hover{cursor:pointer}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-ar,.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-ar{right:80px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff;user-select:none;outline:0}.a-enter-vr-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.35)}.a-enter-ar-button{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat rgba(0,0,0,.2)}.a-enter-ar-button,.a-enter-vr-button{background-size:90% 90%;border:0;bottom:0;cursor:pointer;min-width:58px;min-height:34px;padding-right:0;padding-top:0;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999;border-radius:8px;touch-action:manipulation}.a-enter-ar-button{background-size:100% 90%;margin-right:10px;border-radius:7px}.a-enter-ar-button:active,.a-enter-ar-button:hover,.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#ef2d5e}.a-enter-vr-button.resethover{background-color:rgba(0,0,0,.35)}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}.a-loader-title{background-color:rgba(0,0,0,.6);font-family:sans-serif,monospace;text-align:center;font-size:20px;height:50px;font-weight:300;line-height:50px;position:absolute;right:0;left:0;top:0;color:#fff}.a-modal{background:0 0/50% 50% rgba(0,0,0,.6);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-dialog{position:relative;left:50%;top:50%;transform:translate(-50%,-50%);z-index:199995;width:300px;height:200px;background-size:contain;background-color:#fff;font-family:sans-serif,monospace;font-size:20px;border-radius:3px;padding:6px}.a-dialog-text-container{width:100%;height:70%;align-self:flex-start;display:flex;justify-content:center;align-content:center;flex-direction:column}.a-dialog-text{display:inline-block;font-weight:400;font-size:14pt;margin:8px}.a-dialog-buttons-container{display:inline-flex;align-self:flex-end;width:100%;height:30%}.a-dialog-button{cursor:pointer;align-self:center;opacity:.9;height:80%;width:50%;font-size:12pt;margin:4px;border-radius:2px;text-align:center;border:none;display:inline-block;-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;box-shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.2);user-select:none}.a-dialog-permission-button:hover{box-shadow:0 7px 14px rgba(0,0,0,.2),0 2px 2px rgba(0,0,0,.2)}.a-dialog-allow-button{background-color:#00ceff}.a-dialog-deny-button{background-color:#ff005b}.a-dialog-ok-button{background-color:#00ceff;width:100%}"; (_dereq_("browserify-css").createStyle(css, { "href": "src\\style\\aframe.css"})); module.exports = css;
},{"browserify-css":4}],164:[function(_dereq_,module,exports){
var css = ".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}"; (_dereq_("browserify-css").createStyle(css, { "href": "src\\style\\rStats.css"})); module.exports = css;
},{"browserify-css":4}],165:[function(_dereq_,module,exports){
function removeDefaultCamera(e){var t;e.camera&&(t=e.querySelector("["+DEFAULT_CAMERA_ATTR+"]"))&&e.removeChild(t)}var constants=_dereq_("../constants/"),registerSystem=_dereq_("../core/system").registerSystem,DEFAULT_CAMERA_ATTR="data-aframe-default-camera";module.exports.System=registerSystem("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var e,t,a=this.sceneEl,r=this;if(a.camera&&!a.camera.el.getAttribute("camera").spectator)return void a.emit("cameraready",{cameraEl:a.camera.el});if(e=a.querySelectorAll("a-camera, [camera]"),!e.length)return void this.createDefaultCamera();for(this.numUserCameras=e.length,t=0;t<e.length;t++)e[t].addEventListener("object3dset",function(e){"camera"===e.detail.type&&r.checkUserCamera(this)}),e[t].isNode?e[t].load():e[t].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(e){var t,a=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(t=e.getAttribute("camera"),!t.active||t.spectator)return void(this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera());this.initialCameraFound=!0,a.camera=e.getObject3D("camera"),a.emit("cameraready",{cameraEl:e})}},createDefaultCamera:function(){var e,t=this.sceneEl;e=document.createElement("a-entity"),e.setAttribute("camera",{active:!0}),e.setAttribute("position",{x:0,y:constants.DEFAULT_CAMERA_HEIGHT,z:0}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(constants.AFRAME_INJECTED,""),e.addEventListener("object3dset",function(a){"camera"===a.detail.type&&(t.camera=a.detail.object,t.emit("cameraready",{cameraEl:e}))}),t.appendChild(e)},disableActiveCamera:function(){var e,t;e=this.sceneEl.querySelectorAll("[camera]"),t=e[e.length-1],t.setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,a,r,i,s=this.activeCameraEl,n=this.sceneEl;if((i=e.getObject3D("camera"))&&e!==this.activeCameraEl){var c=n.querySelector("["+DEFAULT_CAMERA_ATTR+"]"),m=c&&c.querySelector("[camera]");for(e!==m&&removeDefaultCamera(n),this.activeCameraEl=e,this.activeCameraEl.play(),n.camera=i,s&&s.setAttribute("camera","active",!1),a=n.querySelectorAll("[camera]"),r=0;r<a.length;r++)t=a[r],t.isEntity&&e!==t&&(t.setAttribute("camera","active",!1),t.pause());n.emit("camera-set-active",{cameraEl:e})}},setSpectatorCamera:function(e){var t,a,r=this.spectatorCameraEl,i=this.sceneEl;(t=e.getObject3D("camera"))&&e!==this.spectatorCameraEl&&(r&&r.setAttribute("camera","spectator",!1),a=this.spectatorCameraEl=e,i.addEventListener("enter-vr",this.wrapRender),i.addEventListener("exit-vr",this.unwrapRender),a.setAttribute("camera","active",!1),a.play(),i.emit("camera-set-spectator",{cameraEl:e}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){this.spectatorCameraEl&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(e,t){var a,r,i=this.sceneEl;a=i.renderer.xr.enabled,this.originalRender.call(i.renderer,e,t),this.spectatorCameraEl&&!i.isMobile&&a&&(r=this.spectatorCameraEl.components.camera.camera,i.renderer.xr.enabled=!1,this.originalRender.call(i.renderer,e,r),i.renderer.xr.enabled=a)}});
},{"../constants/":100,"../core/system":119}],166:[function(_dereq_,module,exports){
function createGeometry(e){var t=e.primitive,r=geometries[t]&&geometries[t].Geometry,o=new r;if(!r)throw new Error("Unknown geometry `"+t+"`");return o.init(e),toBufferGeometry(o.geometry,e.buffer)}function decrementCacheCount(e,t){e[t]--}function incrementCacheCount(e,t){e[t]=void 0===e[t]?1:e[t]+1}function toBufferGeometry(e,t){var r;return t?(r=(new THREE.BufferGeometry).fromGeometry(e),r.metadata={type:e.type,parameters:e.parameters||{}},e.dispose(),r):e}var geometries=_dereq_("../core/geometry").geometries,registerSystem=_dereq_("../core/system").registerSystem,THREE=_dereq_("../lib/three");module.exports.System=registerSystem("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,r,o=this.cache;return e.skipCache?createGeometry(e):(r=this.hash(e),t=o[r],incrementCacheCount(this.cacheCount,r),t||(t=createGeometry(e),o[r]=t,t))},unuseGeometry:function(e){var t,r,o=this.cache,i=this.cacheCount;e.skipCache||(r=this.hash(e),o[r]&&(decrementCacheCount(i,r),i[r]>0||(t=o[r],t.dispose(),delete o[r],delete i[r])))},hash:function(e){return JSON.stringify(e)}});
},{"../core/geometry":109,"../core/system":119,"../lib/three":156}],167:[function(_dereq_,module,exports){
var registerSystem=_dereq_("../core/system").registerSystem,THREE=_dereq_("../lib/three");module.exports.System=registerSystem("gltf-model",{schema:{dracoDecoderPath:{default:""}},init:function(){var e=this.data.dracoDecoderPath;this.dracoLoader=new THREE.DRACOLoader,this.dracoLoader.setDecoderPath(e)},update:function(){var e;this.dracoLoader||(e=this.data.dracoDecoderPath,this.dracoLoader=new THREE.DRACOLoader,this.dracoLoader.setDecoderPath(e))},getDRACOLoader:function(){return this.dracoLoader}});
},{"../core/system":119,"../lib/three":156}],168:[function(_dereq_,module,exports){
_dereq_("./camera"),_dereq_("./geometry"),_dereq_("./gltf-model"),_dereq_("./light"),_dereq_("./material"),_dereq_("./renderer"),_dereq_("./shadow"),_dereq_("./tracked-controls-webvr"),_dereq_("./tracked-controls-webxr");
},{"./camera":165,"./geometry":166,"./gltf-model":167,"./light":169,"./material":170,"./renderer":171,"./shadow":172,"./tracked-controls-webvr":173,"./tracked-controls-webxr":174}],169:[function(_dereq_,module,exports){
var registerSystem=_dereq_("../core/system").registerSystem,bind=_dereq_("../utils/bind"),constants=_dereq_("../constants/"),DEFAULT_LIGHT_ATTR="data-aframe-default-light";module.exports.System=registerSystem("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",bind(this.setupDefaultLights,this))},registerLight:function(t){t.hasAttribute(DEFAULT_LIGHT_ATTR)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var t,e=this.sceneEl;if(this.defaultLights){t=document.querySelectorAll("["+DEFAULT_LIGHT_ATTR+"]");for(var i=0;i<t.length;i++)e.removeChild(t[i]);this.defaultLights=!1}},setupDefaultLights:function(){var t,e,i=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(t=document.createElement("a-entity"),t.setAttribute("light",{color:"#BBB",type:"ambient"}),t.setAttribute(DEFAULT_LIGHT_ATTR,""),t.setAttribute(constants.AFRAME_INJECTED,""),i.appendChild(t),e=document.createElement("a-entity"),e.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),e.setAttribute("position",{x:-.5,y:1,z:1}),e.setAttribute(DEFAULT_LIGHT_ATTR,""),e.setAttribute(constants.AFRAME_INJECTED,""),i.appendChild(e),this.defaultLights=!0)}});
},{"../constants/":100,"../core/system":119,"../utils/bind":175}],170:[function(_dereq_,module,exports){
function calculateVideoCacheHash(e,t){var r,i,n,a=t.getAttribute("id");if(a)return a;for(i="",n=e||{},r=0;r<t.attributes.length;r++)n[t.attributes[r].name]=t.attributes[r].value;return Object.keys(n).sort().forEach(function(e){i+=e+":"+n[e]+";"}),i}function loadImageTexture(e,t){function r(r,i){function n(e){setTextureProperties(e,t),e.needsUpdate=!0,r(e)}if("string"!=typeof e)return void n(new THREE.Texture(e));TextureLoader.load(e,n,function(){},function(e){error("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)})}return new Promise(r)}function setTextureProperties(e,t){var r=t.offset||{x:0,y:0},i=t.repeat||{x:1,y:1};(t.npot||!1)&&(e.wrapS=THREE.ClampToEdgeWrapping,e.wrapT=THREE.ClampToEdgeWrapping,e.magFilter=THREE.LinearFilter,e.minFilter=THREE.LinearFilter),1===i.x&&1===i.y||(e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,e.repeat.set(i.x,i.y)),0===r.x&&0===r.y||e.offset.set(r.x,r.y)}function createVideoEl(e,t,r){var i=document.createElement("video");return i.width=t,i.height=r,i.setAttribute("playsinline",""),i.setAttribute("webkit-playsinline",""),i.autoplay=!0,i.loop=!0,i.crossOrigin="anonymous",i.addEventListener("error",function(){warn("`$s` is not a valid video",e)},!0),i.src=e,i}function fixVideoAttributes(e){return e.autoplay=e.hasAttribute("autoplay")&&"false"!==e.getAttribute("autoplay"),e.controls=e.hasAttribute("controls")&&"false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e}var registerSystem=_dereq_("../core/system").registerSystem,THREE=_dereq_("../lib/three"),utils=_dereq_("../utils/"),isHLS=_dereq_("../utils/material").isHLS,bind=utils.bind,debug=utils.debug,error=debug("components:texture:error"),TextureLoader=new THREE.TextureLoader,warn=debug("components:texture:warn");TextureLoader.setCrossOrigin("anonymous"),module.exports.System=registerSystem("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",bind(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,r){function i(e){a.loadImage(e,t,r)}function n(e){a.loadVideo(e,t,r)}var a=this;return"CANVAS"===e.tagName?void this.loadCanvas(e,t,r):"VIDEO"===e.tagName?(e.src||e.srcObject||e.childElementCount||warn("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(e,t,r)):void utils.srcLoader.validateSrc(e,i,n)},loadImage:function(e,t,r){var i=this.hash(t),n=this.textureCache;if(n[i])return void n[i].then(r);n[i]=loadImageTexture(e,t),n[i].then(r)},loadCanvas:function(e,t,r){var i;i=new THREE.CanvasTexture(e),setTextureProperties(i,t),r(i)},loadVideo:function(e,t,r){function i(e){e.texture.needsUpdate=!0,r(e.texture,e.videoEl)}var n,a,s,o,u=this.textureCache;if("string"!=typeof e){if(s=e,n=this.hashVideo(t,s),u[n])return void u[n].then(i);fixVideoAttributes(s)}if(s=s||createVideoEl(e,t.width,t.height),n=this.hashVideo(t,s),u[n])return void u[n].then(i);a=new THREE.VideoTexture(s),a.minFilter=THREE.LinearFilter,setTextureProperties(a,t),this.sceneEl.isIOS&&isHLS(s.src||s.getAttribute("src"),s.type||s.getAttribute("type"))&&(a.format=THREE.RGBAFormat,a.needsCorrectionBGRA=!0,a.flipY=!1,a.needsCorrectionFlipY=!0),o={texture:a,videoEl:s},u[n]=Promise.resolve(o),i(o)},hash:function(e){return e.src.tagName&&(e=utils.extendDeep({},e),e.src=e.src.src),JSON.stringify(e)},hashVideo:function(e,t){return calculateVideoCacheHash(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid];var t=this.textureCounts;Object.keys(e).filter(function(t){return e[t]&&e[t].isTexture}).forEach(function(r){--t[e[r].uuid]<=0&&e[r].dispose()})},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})},onMaterialTextureLoaded:function(e){this.textureCounts[e.detail.texture.uuid]||(this.textureCounts[e.detail.texture.uuid]=0),this.textureCounts[e.detail.texture.uuid]++}});
},{"../core/system":119,"../lib/three":156,"../utils/":181,"../utils/material":184}],171:[function(_dereq_,module,exports){
var registerSystem=_dereq_("../core/system").registerSystem,utils=_dereq_("../utils/"),THREE=_dereq_("../lib/three"),debug=utils.debug,warn=debug("components:renderer:warn");module.exports.System=registerSystem("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:utils.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:0}},init:function(){var e=this.data,t=this.el,a=t.renderer;a.sortObjects=e.sortObjects,a.physicallyCorrectLights=e.physicallyCorrectLights,(e.colorManagement||e.gammaOutput)&&(a.gammaOutput=!0,a.gammaFactor=2.2,e.gammaOutput&&warn('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),t.hasAttribute("antialias")&&warn('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),t.hasAttribute("logarithmicDepthBuffer")&&warn('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},applyColorCorrection:function(e){this.data.colorManagement&&e&&(e.isColor?e.convertSRGBToLinear():e.isTexture&&(e.encoding=THREE.sRGBEncoding))}});
},{"../core/system":119,"../lib/three":156,"../utils/":181}],172:[function(_dereq_,module,exports){
var registerSystem=_dereq_("../core/system").registerSystem,THREE=_dereq_("../lib/three"),SHADOW_MAP_TYPE_MAP={basic:THREE.BasicShadowMap,pcf:THREE.PCFShadowMap,pcfsoft:THREE.PCFSoftShadowMap};module.exports.System=registerSystem("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var e=this.sceneEl,a=this.data;this.shadowMapEnabled=!1,e.renderer&&(e.renderer.shadowMap.type=SHADOW_MAP_TYPE_MAP[a.type],e.renderer.shadowMap.autoUpdate=a.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(e){e.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(e){var a=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&e,a&&(a.shadowMap.enabled=this.shadowMapEnabled)}});
},{"../core/system":119,"../lib/three":156}],173:[function(_dereq_,module,exports){
var registerSystem=_dereq_("../core/system").registerSystem,utils=_dereq_("../utils"),isWebXRAvailable=utils.device.isWebXRAvailable;module.exports.System=registerSystem("tracked-controls-webvr",{init:function(){var t=this;this.controllers=[],this.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),this.updateControllerList(),this.throttledUpdateControllerList=utils.throttle(this.updateControllerList,500,this),isWebXRAvailable||navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(e){e.length&&(t.vrDisplay=e[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var t,e,i,s,r=this.controllers;if(e=navigator.getGamepads&&navigator.getGamepads()){for(s=r.length,r.length=0,i=0;i<e.length;++i)(t=e[i])&&t.pose&&r.push(t);r.length!==s&&this.el.emit("controllersupdated",void 0,!1)}}});
},{"../core/system":119,"../utils":181}],174:[function(_dereq_,module,exports){
var registerSystem=_dereq_("../core/system").registerSystem,utils=_dereq_("../utils");module.exports.System=registerSystem("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=utils.throttle(this.updateControllerList,500,this)},tick:function(){this.throttledUpdateControllerList()},updateControllerList:function(){var t=this.el.xrSession,e=this;t&&(this.controllers=this.el.xrSession.inputSources,this.oldControllersLength!==this.controllers.length&&(this.oldControllersLength=this.controllers.length,t.requestReferenceSpace("local-floor").then(function(t){e.referenceSpace=t}),this.el.emit("controllersupdated",void 0,!1)))}});
},{"../core/system":119,"../utils":181}],175:[function(_dereq_,module,exports){
module.exports=function(r,t){return function(n){return function(){var o=n.concat(Array.prototype.slice.call(arguments,0));return r.apply(t,o)}}(Array.prototype.slice.call(arguments,2))};
},{}],176:[function(_dereq_,module,exports){
function parse(e,r){var t,i,n,o,s,u,d,a,l;if(e&&e instanceof Object)return u=void 0===e.x?r&&r.x:e.x,d=void 0===e.y?r&&r.y:e.y,a=void 0===e.z?r&&r.z:e.z,l=void 0===e.w?r&&r.w:e.w,void 0!==u&&null!==u&&(e.x=parseIfString(u)),void 0!==d&&null!==d&&(e.y=parseIfString(d)),void 0!==a&&null!==a&&(e.z=parseIfString(a)),void 0!==l&&null!==l&&(e.w=parseIfString(l)),e;if(null===e||void 0===e)return typeof r===OBJECT?extend({},r):r;for(t=e.trim().split(whitespaceRegex),s={},o=0;o<COORDINATE_KEYS.length;o++)if(n=COORDINATE_KEYS[o],t[o])s[n]=parseFloat(t[o],10);else{if(void 0===(i=r&&r[n]))continue;s[n]=parseIfString(i)}return s}function stringify(e){var r;return typeof e!==OBJECT?e:(r=e.x+" "+e.y,null!=e.z&&(r+=" "+e.z),null!=e.w&&(r+=" "+e.w),r)}function isCoordinates(e){return regex.test(e)}function parseIfString(e){return null!==e&&void 0!==e&&e.constructor===String?parseFloat(e,10):e}var debug=_dereq_("./debug"),extend=_dereq_("object-assign"),warn=debug("utils:coordinates:warn"),COORDINATE_KEYS=["x","y","z","w"],regex=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;module.exports.regex=regex;var OBJECT="object",whitespaceRegex=/\s+/g;module.exports.parse=parse,module.exports.stringify=stringify,module.exports.isCoordinates=isCoordinates,module.exports.isCoordinate=function(e){return warn("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),isCoordinates(e)},module.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)};
},{"./debug":177,"object-assign":27}],177:[function(_dereq_,module,exports){
(function (process){
function getDebugNamespaceType(e){var r=e.split(":");return r[r.length-1]}function getDebugNamespaceColor(e){var r=getDebugNamespaceType(e);return settings.colors&&settings.colors[r]||null}function storage(){try{return window.localStorage}catch(e){}}var debugLib=_dereq_("debug"),extend=_dereq_("object-assign"),settings={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},debug=function(e){var r=debugLib(e);return r.color=getDebugNamespaceColor(e),r};extend(debug,debugLib);var ls=storage();ls&&(parseInt(ls.logs,10)||"true"===ls.logs)?debug.enable("*"):debug.enable("*:error,*:info,*:warn"),process.browser&&(window.logs=debug),module.exports=debug;
}).call(this,_dereq_('_process'))

},{"_process":5,"debug":10,"object-assign":27}],178:[function(_dereq_,module,exports){
(function (process){
function getVRDisplay(){return vrDisplay}function checkHeadsetConnected(){return supportsVRSession||supportsARSession||!!getVRDisplay()}function checkARSupport(){return supportsARSession}function isTablet(e){return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(e||window.navigator.userAgent)}function isIOS(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function isMobileDeviceRequestingDesktopSite(){return!isMobile()&&!isMobileVR()&&void 0!==window.orientation}function isOculusBrowser(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}function isFirefoxReality(){return/(Mobile VR)/i.test(window.navigator.userAgent)}function isMobileVR(){return isOculusBrowser()||isFirefoxReality()}function isR7(){return/R7 Build/.test(window.navigator.userAgent)}var error=_dereq_("debug")("device:error"),vrDisplay,supportsVRSession=!1,supportsARSession=!1,isWebXRAvailable=module.exports.isWebXRAvailable=!window.debug&&void 0!==navigator.xr;if(window.addEventListener("vrdisplayactivate",function(e){var i;isWebXRAvailable||(i=document.createElement("canvas"),vrDisplay=e.display,i.getContext("webgl",{}),vrDisplay.requestPresent([{source:i}]).then(function(){},function(){}))}),isWebXRAvailable){var updateEnterInterfaces=function(){var e=document.querySelector("a-scene");if(!e)return void window.addEventListener("DOMContentLoaded",updateEnterInterfaces);e.hasLoaded?e.components["vr-mode-ui"].updateEnterInterfaces():e.addEventListener("loaded",updateEnterInterfaces)},errorHandler=function(e){error("WebXR session support error: "+e.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(e){supportsVRSession=e,updateEnterInterfaces()}).catch(errorHandler),navigator.xr.isSessionSupported("immersive-ar").then(function(e){supportsARSession=e,updateEnterInterfaces()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){supportsVRSession=!0,updateEnterInterfaces()}).catch(errorHandler),navigator.xr.supportsSession("immersive-ar").then(function(){supportsARSession=!0,updateEnterInterfaces()}).catch(function(){})):error("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){var i=document.querySelector("a-scene");vrDisplay=e.length&&e[0],i&&i.emit("displayconnected",{vrDisplay:vrDisplay})});module.exports.getVRDisplay=getVRDisplay,module.exports.checkHeadsetConnected=checkHeadsetConnected,module.exports.checkARSupport=checkARSupport;var isMobile=function(){var e=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(e=!0),(isIOS()||isTablet()||isR7())&&(e=!0),isMobileVR()&&(e=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return e}}();module.exports.isMobile=isMobile,module.exports.isTablet=isTablet,module.exports.isIOS=isIOS,module.exports.isMobileDeviceRequestingDesktopSite=isMobileDeviceRequestingDesktopSite,module.exports.isOculusBrowser=isOculusBrowser,module.exports.isFirefoxReality=isFirefoxReality,module.exports.isMobileVR=isMobileVR,module.exports.isR7=isR7,module.exports.isLandscape=function(){var e=window.orientation;return isR7()&&(e+=90),90===e||-90===e},module.exports.isBrowserEnvironment=!(process&&!process.browser),module.exports.isNodeEnvironment=!module.exports.isBrowserEnvironment;
}).call(this,_dereq_('_process'))

},{"_process":5,"debug":10}],179:[function(_dereq_,module,exports){
function getComponentPropertyPath(t,e){return e=e||".",propertyPathCache[e]||(propertyPathCache[e]={}),-1!==t.indexOf(e)?propertyPathCache[e][t]=t.split(e):propertyPathCache[e][t]=t,propertyPathCache[e][t]}var propertyPathCache={};module.exports.getComponentPropertyPath=getComponentPropertyPath,module.exports.propertyPathCache=propertyPathCache,module.exports.getComponentProperty=function(t,e,r){var o;return r=r||".",-1!==e.indexOf(r)?(o=getComponentPropertyPath(e,r),o.constructor===String?t.getAttribute(o):t.getAttribute(o[0])[o[1]]):t.getAttribute(e)},module.exports.setComponentProperty=function(t,e,r,o){var p;if(o=o||".",-1!==e.indexOf(o))return p=getComponentPropertyPath(e,o),void(p.constructor===String?t.setAttribute(p,r):t.setAttribute(p[0],p[1],r));t.setAttribute(e,r)};
},{}],180:[function(_dereq_,module,exports){
module.exports=function(t){var e=t.style.width,s=t.style.height;t.style.width=parseInt(e,10)+1+"px",t.style.height=parseInt(s,10)+1+"px",setTimeout(function(){t.style.width=e,t.style.height=s},200)};
},{}],181:[function(_dereq_,module,exports){
var debug=_dereq_("./debug"),deepAssign=_dereq_("deep-assign"),device=_dereq_("./device"),objectAssign=_dereq_("object-assign"),objectPool=_dereq_("./object-pool"),warn=debug("utils:warn");module.exports.bind=_dereq_("./bind"),module.exports.coordinates=_dereq_("./coordinates"),module.exports.debug=debug,module.exports.device=device,module.exports.entity=_dereq_("./entity"),module.exports.forceCanvasResizeSafariMobile=_dereq_("./forceCanvasResizeSafariMobile"),module.exports.isIE11=_dereq_("./is-ie11"),module.exports.material=_dereq_("./material"),module.exports.objectPool=objectPool,module.exports.split=_dereq_("./split").split,module.exports.styleParser=_dereq_("./styleParser"),module.exports.trackedControls=_dereq_("./tracked-controls"),module.exports.checkHeadsetConnected=function(){return warn("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),device.checkHeadsetConnected(arguments)},module.exports.isGearVR=module.exports.device.isGearVR=function(){warn("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},module.exports.isIOS=function(){return warn("`utils.isIOS` has moved to `utils.device.isIOS`"),device.isIOS(arguments)},module.exports.isOculusGo=module.exports.device.isOculusGo=function(){warn("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},module.exports.isMobile=function(){return warn("`utils.isMobile has moved to `utils.device.isMobile`"),device.isMobile(arguments)},module.exports.throttle=function(e,r,t){var o;return t&&(e=module.exports.bind(e,t)),function(){var t=Date.now(),i=void 0===o?r:t-o;(void 0===o||i>=r)&&(o=t,e.apply(null,arguments))}},module.exports.throttleTick=function(e,r,t){var o;return t&&(e=module.exports.bind(e,t)),function(t,i){var n=void 0===o?i:t-o;(void 0===o||n>=r)&&(o=t,e(t,n))}},module.exports.debounce=function(e,r,t){var o;return function(){var i=this,n=arguments,u=function(){o=null,t||e.apply(i,n)},s=t&&!o;clearTimeout(o),o=setTimeout(u,r),s&&e.apply(i,n)}},module.exports.extend=objectAssign,module.exports.extendDeep=deepAssign,module.exports.clone=function(e){return JSON.parse(JSON.stringify(e))};var deepEqual=function(){var e=objectPool.createPool(function(){return[]});return function(r,t){var o,i,n,u,s,c;if(void 0===r||void 0===t||null===r||null===t||!(r&&t&&r.constructor===Object&&t.constructor===Object||r.constructor===Array&&t.constructor===Array))return r===t;i=e.use(),n=e.use(),i.length=0,n.length=0;for(o in r)i.push(o);for(o in t)n.push(o);if(i.length!==n.length)return e.recycle(i),e.recycle(n),!1;for(u=0;u<i.length;++u)if(s=r[i[u]],c=t[i[u]],"object"==typeof s||"object"==typeof c||Array.isArray(s)&&Array.isArray(c)){if(s===c)continue;if(!deepEqual(s,c))return e.recycle(i),e.recycle(n),!1}else if(s!==c)return e.recycle(i),e.recycle(n),!1;return e.recycle(i),e.recycle(n),!0}}();module.exports.deepEqual=deepEqual,module.exports.diff=function(){var e=[];return function(r,t,o){var i,n,u,s,c,l,d;s=o||{},e.length=0;for(c in r)e.push(c);if(!t)return s;for(u in t)-1===e.indexOf(u)&&e.push(u);for(l=0;l<e.length;l++)c=e[l],i=r[c],n=t[c],((d=i&&n&&i.constructor===Object&&n.constructor===Object)&&!deepEqual(i,n)||!d&&i!==n)&&(s[c]=n);return s}}(),module.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},module.exports.splitString=function(e,r){void 0===r&&(r=" ");var t=new RegExp(r,"g");return e=(e||"").replace(t,r),e.split(r)},module.exports.getElData=function(e,r){function t(r){e.hasAttribute(r)&&(o[r]=e.getAttribute(r))}r=r||{};var o={};return Object.keys(r).forEach(t),o},module.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=r.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},module.exports.isIframed=function(){return window.top!==window.self},module.exports.findAllScenes=function(e){for(var r=[],t=e.getElementsByTagName("*"),o=0,i=t.length;o<i;o++)t[o].isScene&&r.push(t[o]);return r},module.exports.srcLoader=_dereq_("./src-loader");
},{"./bind":175,"./coordinates":176,"./debug":177,"./device":178,"./entity":179,"./forceCanvasResizeSafariMobile":180,"./is-ie11":182,"./material":184,"./object-pool":185,"./split":186,"./src-loader":187,"./styleParser":188,"./tracked-controls":189,"deep-assign":12,"object-assign":27}],182:[function(_dereq_,module,exports){
function getInternetExplorerVersion(){var e,r=-1,n=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?(e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!=e.exec(n)&&(r=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(e=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!=e.exec(n)&&(r=parseFloat(RegExp.$1))),r}module.exports=11===getInternetExplorerVersion();
},{}],183:[function(_dereq_,module,exports){
module.exports=function(o){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(o)};
},{}],184:[function(_dereq_,module,exports){
function handleTextureEvents(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",function(){e.components&&e.components.material&&(t.needsCorrectionBGRA&&t.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(e.components.material.data.shader)&&e.setAttribute("material","shader","ios10hls"),e.emit("materialvideoloadeddata",{src:t.image,texture:t}))}),t.image.addEventListener("ended",function(){e.emit("materialvideoended",{src:t.image,texture:t})})))}var THREE=_dereq_("../lib/three"),HLS_MIMETYPES=["application/x-mpegurl","application/vnd.apple.mpegurl"],COLOR_MAPS=new Set(["emissiveMap","envMap","map","specularMap"]);module.exports.updateMapMaterialFromData=function(e,t,a,r){function n(t){a.materialSrcs[e]===d&&i(t)}function i(t){o[e]=t,t&&COLOR_MAPS.has(e)&&l.applyColorCorrection(t),o.needsUpdate=!0,handleTextureEvents(s,t)}var s=a.el,o=a.material,l=s.sceneEl.systems.renderer,d=r[t];if(a.materialSrcs||(a.materialSrcs={}),!d)return delete a.materialSrcs[e],void i(null);d!==a.materialSrcs[e]&&(a.materialSrcs[e]=d,d instanceof THREE.Texture?i(d):s.sceneEl.systems.material.loadTexture(d,{src:d,repeat:r.repeat,offset:r.offset,npot:r.npot},n))},module.exports.updateMap=function(e,t){return module.exports.updateMapMaterialFromData("map","src",e,t)},module.exports.updateDistortionMap=function(e,t,a){function r(e){var t=n+"Map";s[t]=e,e&&COLOR_MAPS.has(t)&&o.applyColorCorrection(e),s.needsUpdate=!0,handleTextureEvents(i,e)}var n=e;"ambientOcclusion"===e&&(n="ao");var i=t.el,s=t.material,o=i.sceneEl.systems.renderer,l=a[e+"Map"],d={};if(d.src=l,d.offset=a[e+"TextureOffset"],d.repeat=a[e+"TextureRepeat"],d.wrap=a[e+"TextureWrap"],l){if(l===t[e+"TextureSrc"])return;return t[e+"TextureSrc"]=l,void i.sceneEl.systems.material.loadTexture(l,d,r)}s.map&&r(null)},module.exports.handleTextureEvents=handleTextureEvents,module.exports.isHLS=function(e,t){return!(!t||!HLS_MIMETYPES.includes(t.toLowerCase()))||!!(e&&e.toLowerCase().indexOf(".m3u8")>0)};
},{"../lib/three":156}],185:[function(_dereq_,module,exports){
function defaultObjectFactory(){return{}}function clearObject(e){var t;if(e&&e.constructor===Object)for(t in e)e[t]=void 0}function removeUnusedKeys(e,t){var n;if(e&&e.constructor===Object)for(n in e)n in t||delete e[n]}var EMPTY_SLOT=Object.freeze(Object.create(null));module.exports.createPool=function(e){function t(){var e;return null!==l&&l!==c.length||r(c.length||5),e=c[l],c[l++]=EMPTY_SLOT,clearObject(e),e}function n(e){if(e instanceof Object)return null===l||-1===l?void(c[c.length]=e):void(c[--l]=e)}function r(t){var n,r;if(t=void 0===t?c.length:t,t>0&&null==l&&(l=0),t>0)for(n=c.length,c.length+=Number(t),r=n;r<c.length;r++)c[r]=e();return c.length}function o(){return c.length}var c=[],l=null;return e=e||defaultObjectFactory,{grow:r,pool:c,recycle:n,size:o,use:t}},module.exports.clearObject=clearObject,module.exports.removeUnusedKeys=removeUnusedKeys;
},{}],186:[function(_dereq_,module,exports){
module.exports.split=function(){var n={};return function(t,i){return i in n||(n[i]={}),t in n[i]?n[i][t]:(n[i][t]=t.split(i),n[i][t])}}();
},{}],187:[function(_dereq_,module,exports){
function validateSrc(e,a,t){checkIsImage(e,function(r){if(r)return void a(e);t(e)})}function validateCubemapSrc(e,a){function t(e){o.push(e),6===o.length&&a(o)}var r,n,c,s="",o=[];for(n=0;n<5;n++)s+="(url\\((?:[^\\)]+)\\),\\s*)";if(s+="(url\\((?:[^\\)]+)\\)\\s*)",c=e.match(new RegExp(s)))for(n=1;n<7;n++)validateSrc(parseUrl(c[n]),t);else if(r=validateAndGetQuerySelector(e))return"A-CUBEMAP"===r.tagName&&r.srcs?a(r.srcs):void warn('Selector "%s" does not point to <a-cubemap>',e)}function parseUrl(e){var a=e.match(/\url\((.+)\)/);if(a)return a[1]}function checkIsImage(e,a){var t;if(e.tagName)return void a("IMG"===e.tagName);t=new XMLHttpRequest,t.open("HEAD",e),t.addEventListener("load",function(r){var n;t.status>=200&&t.status<300?(n=t.getResponseHeader("Content-Type"),null==n?checkIsImageFallback(e,a):a(n.startsWith("image")?!0:!1)):checkIsImageFallback(e,a),t.abort()}),t.send()}function checkIsImageFallback(e,a){function t(){a(!0)}function r(){a(!1)}var n=new Image;n.addEventListener("load",t),n.addEventListener("error",r),n.src=e}function validateAndGetQuerySelector(e){try{var a=document.querySelector(e);return a||warn('No element was found matching the selector: "%s"',e),a}catch(a){return void warn('"%s" is not a valid selector',e)}}var debug=_dereq_("./debug"),warn=debug("utils:src-loader:warn");module.exports={parseUrl:parseUrl,validateSrc:validateSrc,validateCubemapSrc:validateCubemapSrc};
},{"./debug":177}],188:[function(_dereq_,module,exports){
function toCamelCase(e){return e.replace(DASH_REGEX,upperCase)}function transformKeysToCamelCase(e){var r,t;for(t in e)r=toCamelCase(t),t!==r&&(e[r]=e[t],delete e[t]);return e}function styleParse(e,r){var t,n,s,a,o,u;for(r=r||{},t=getKeyValueChunks(e),n=0;n<t.length;n++)(s=t[n])&&(a=s.indexOf(":"),o=s.substr(0,a).trim(),u=s.substr(a+1).trim(),r[o]=u);return r}function styleStringify(e){var r,t=0,n=0,s="";for(r in e)t++;for(r in e)s+=r+": "+e[r],n<t-1&&(s+="; "),n++;return s}function upperCase(e){return e[1].toUpperCase()}var DASH_REGEX=/-([a-z])/g;module.exports.parse=function(e,r){var t;return"string"!=typeof e?e:(t=styleParse(e,r),t[""]?e:transformKeysToCamelCase(t))},module.exports.stringify=function(e){return"string"==typeof e?e:styleStringify(e)},module.exports.toCamelCase=toCamelCase,module.exports.transformKeysToCamelCase=transformKeysToCamelCase;var getKeyValueChunks=function(){var e=[],r=/url\([^)]+$/;return function(t){var n,s="",a=0;for(e.length=0;a<t.length;)n=t.indexOf(";",a),-1===n&&(n=t.length),s+=t.substring(a,n),r.test(s)?(s+=";",a=n+1):(e.push(s.trim()),s="",a=n+1);return e}}();
},{}],189:[function(_dereq_,module,exports){
function isControllerPresentWebVR(e,n,t){var r,o,l=e.el.sceneEl,i=t.index||0;return!!n&&(!!(o=l&&l.systems["tracked-controls-webvr"])&&(r=o.controllers,!!r.length&&!!findMatchingControllerWebVR(r,null,n,t.hand,i)))}function isControllerPresentWebXR(e,n,t){var r,o=e.el.sceneEl,l=o&&o.systems["tracked-controls-webxr"];return!!l&&(!(!(r=l.controllers)||!r.length)&&findMatchingControllerWebXR(r,n,t.hand,t.index,t.iterateControllerProfiles))}function findMatchingControllerWebVR(e,n,t,r,o){var l,i,s=0,d=o>=0?o:0;for(i=0;i<e.length;i++)if(l=e[i],(!t||l.id.startsWith(t))&&(t||l.id===n)&&(!r||!l.hand||r===l.hand)){if(!r||l.hand)return l;if(d=NUM_HANDS*o+(r===DEFAULT_HANDEDNESS?0:1),s===d)return l;++s}}function findMatchingControllerWebXR(e,n,t,r,o){var l,i,s,d,a=!1;for(l=0;l<e.length;l++){if(s=e[l],d=s.profiles,0===d.length)return;if(o)for(i=0;i<d.length&&!(a=d[i].startsWith(n));i++);else a=d[0].startsWith(n);if(a)if("right"===s.handedness||"left"===s.handedness){if(s.handedness===t)return e[l]}else if(l===r)return e[l]}}var DEFAULT_HANDEDNESS=_dereq_("../constants").DEFAULT_HANDEDNESS,AXIS_LABELS=["x","y","z","w"],NUM_HANDS=2;module.exports.checkControllerPresentAndSetup=function(e,n,t){var r,o,l=e.el,i=l.sceneEl.hasWebXR,s=i?isControllerPresentWebXR:isControllerPresentWebVR;if(r=s(e,n,t),o=!!r,!e.controllerPresent||e.controllerEventsActive||i||e.addEventListeners(),o===e.controllerPresent)return o;e.controllerPresent=o,o?(e.injectTrackedControls(),e.addEventListeners(),l.emit("controllerconnected",{name:e.name,component:e})):(e.removeEventListeners(),l.emit("controllerdisconnected",{name:e.name,component:e}))},module.exports.isControllerPresentWebVR=isControllerPresentWebVR,module.exports.isControllerPresentWebXR=isControllerPresentWebXR,module.exports.findMatchingControllerWebVR=findMatchingControllerWebVR,module.exports.findMatchingControllerWebXR=findMatchingControllerWebXR,module.exports.emitIfAxesChanged=function(e,n,t){var r,o,l,i,s;for(o in n){for(r=n[o],l=!1,s=0;s<r.length;s++)t.detail.changed[r[s]]&&(l=!0);if(l){for(i={},s=0;s<r.length;s++)i[AXIS_LABELS[s]]=t.detail.axis[r[s]];e.el.emit(o+"moved",i)}}},module.exports.onButtonEvent=function(e,n,t,r){var o=r?t.mapping[r]:t.mapping,l=o.buttons[e];t.el.emit(l+n),t.updateModel&&t.updateModel(l,n)};
},{"../constants":100}],190:[function(_dereq_,module,exports){
THREE.DeviceOrientationControls=function(e){var n=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var t=function(e){n.deviceOrientation=e},i=function(){n.screenOrientation=window.orientation||0},o=function(){var e=new THREE.Vector3(0,0,1),n=new THREE.Euler,t=new THREE.Quaternion,i=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(o,a,r,c,s){n.set(r,a,-c,"YXZ"),o.setFromEuler(n),o.multiply(i),o.multiply(t.setFromAxisAngle(e,-s))}}();this.connect=function(){i(),window.addEventListener("orientationchange",i,!1),window.addEventListener("deviceorientation",t,!1),n.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",i,!1),window.removeEventListener("deviceorientation",t,!1),n.enabled=!1},this.update=function(){if(!1!==n.enabled){var e=n.deviceOrientation;if(e){var t=e.alpha?THREE.Math.degToRad(e.alpha)+n.alphaOffset:0,i=e.beta?THREE.Math.degToRad(e.beta):0,a=e.gamma?THREE.Math.degToRad(e.gamma):0,r=n.screenOrientation?THREE.Math.degToRad(n.screenOrientation):0;o(n.object.quaternion,t,i,a,r)}}},this.dispose=function(){n.disconnect()},this.connect()};
},{}],191:[function(_dereq_,module,exports){
window.glStats=function(){function e(e,r){return function(){r.apply(this,arguments),e.apply(this,arguments)}}function r(){a("allcalls").set(s+i),a("drawElements").set(i),a("drawArrays").set(s),a("bindTexture").set(c),a("useProgram").set(l),a("glfaces").set(d),a("glvertices").set(m),a("glpoints").set(p)}function t(){s=0,i=0,l=0,d=0,m=0,p=0,c=0}function n(){}function o(e){a=e}var a=null,s=0,i=0,l=0,d=0,m=0,p=0,c=0;return WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){s++,arguments[0]==this.POINTS?p+=arguments[2]:m+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){i++,d+=arguments[1]/3,m+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){l++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){c++}),{update:r,start:t,end:n,attach:o,values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){function r(){a("renderer.info.memory.geometries").set(e.info.memory.geometries),a("renderer.info.programs").set(e.info.programs.length),a("renderer.info.memory.textures").set(e.info.memory.textures),a("renderer.info.render.calls").set(e.info.render.calls),a("renderer.info.render.triangles").set(e.info.render.triangles),a("renderer.info.render.points").set(e.info.render.points)}function t(){}function n(){}function o(e){a=e}var a=null;return{update:r,start:t,end:n,attach:o,values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){function e(e){var r=Math.floor(Math.log(e)/p);return Math.round(100*e/Math.pow(1024,r))/100}function r(){s=e(performance.memory.usedJSHeapSize),i=e(performance.memory.totalJSHeapSize),a("memory").set(s),a("total").set(i)}function t(){s=0}function n(){}function o(e){a=e}var a=null,s=0,i=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var l={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},d=[{caption:"Browser",values:["memory","total"]}],m=[{base:"total",steps:["memory"]}],p=Math.log(1024);return{update:r,start:t,end:n,attach:o,values:l,groups:d,fractions:m}},"object"==typeof module&&(module.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats});
},{}],192:[function(_dereq_,module,exports){
"use strict";!function(){"performance"in window==0&&(window.performance={});var e=window.performance;if("now"in e==0){var t=Date.now();e.timing&&e.timing.navigationStart&&(t=e.timing.navigationStart),e.now=function(){return Date.now()-t}}e.mark||(e.mark=function(){}),e.measure||(e.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),a=0,r=n.length;a<r;a++)t(n[a])}function n(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}function a(e,t,n){function a(e,t){l+=.1*(e-l),c*=.99,l>c&&(c=l),o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?o.drawImage(f,i.width-1,i.height-l*i.height/c-p):o.drawImage(u,i.width-1,i.height-l*i.height/c-p)}var r=n||{},i=document.createElement("canvas"),o=i.getContext("2d"),c=0,l=0,s=r.color?r.color:"#666666",u=document.createElement("canvas"),d=u.getContext("2d");u.width=1,u.height=2*p,d.fillStyle="#444444",d.fillRect(0,0,1,2*p),d.fillStyle=s,d.fillRect(0,p,1,p),d.fillStyle="#ffffff",d.globalAlpha=.5,d.fillRect(0,p,1,1),d.globalAlpha=1;var f=document.createElement("canvas"),m=f.getContext("2d");return f.width=1,f.height=2*p,m.fillStyle="#444444",m.fillRect(0,0,1,2*p),m.fillStyle="#b70000",m.fillRect(0,p,1,p),m.globalAlpha=.5,m.fillStyle="#ffffff",m.fillRect(0,p,1,1),m.globalAlpha=1,function(){i.width=h,i.height=p,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height)}(),{draw:a}}function r(e,n){function a(e){i.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height);var n=0;t(e,function(t){var a=e[t]*r.height;i.fillStyle=s[t],i.fillRect(r.width-1,n,1,a),n+=a})}var r=document.createElement("canvas"),i=r.getContext("2d");return function(){r.width=h,r.height=p*n,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),i.fillStyle="#444444",i.fillRect(0,0,r.width,r.height)}(),{draw:a}}function i(e,t){function n(e){if(x&&x.average){v+=e,C++;var t=performance.now();t-w>=(x.avgMs||1e3)&&(g=v/C,v=0,w=t,C=0)}}function r(){d=performance.now(),l.userTimingAPI&&performance.mark(p+"-start"),I=!0}function i(){h=performance.now()-d,l.userTimingAPI&&(performance.mark(p+"-end"),I&&performance.measure(p,p+"-start",p+"-end")),n(h)}function o(){i(),r()}function c(){var e=x&&x.average?g:h;b.nodeValue=Math.round(100*e)/100;var t=x&&(x.below&&h<x.below||x.over&&h>x.over);N.draw(h,t),y.className=t?"rs-counter-base alarm":"rs-counter-base"}function s(){var e=performance.now(),t=e-d;m++,t>1e3&&(h=x&&!1===x.interpolate?m:1e3*m/t,m=0,d=e,n(h))}function u(e){h=e,n(h)}var d,p=e,h=0,m=0,g=0,v=0,w=performance.now(),C=0,y=document.createElement("div"),E=document.createElement("span"),S=document.createElement("div"),b=document.createTextNode(""),x=l?l.values[p.toLowerCase()]:null,N=new a(y,p,x),I=!1;return E.className="rs-counter-id",E.textContent=x&&x.caption?x.caption:p,S.className="rs-counter-value",S.appendChild(b),y.appendChild(E),y.appendChild(S),t?t.div.appendChild(y):f.appendChild(y),d=performance.now(),{set:u,start:r,tick:o,end:i,frame:s,value:function(){return h},draw:c}}function o(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),m[n])return m[n];var a=null;l&&l.groups&&t(l.groups,function(e){var t=l.groups[parseInt(e,10)];a||-1===t.values.indexOf(n.toLowerCase())||(a=t)});var r=new i(n,a);return m[n]=r,r}function c(){t(l.plugins,function(e){l.plugins[e].update()}),t(m,function(e){m[e].draw()}),l&&l.fractions&&t(l.fractions,function(e){var n=l.fractions[parseInt(e,10)],a=[],r=m[n.base.toLowerCase()];r&&(r=r.value(),t(l.fractions[e].steps,function(t){var n=l.fractions[e].steps[parseInt(t,10)].toLowerCase(),i=m[n];i&&a.push(i.value()/r)})),n.graph.draw(a)})}var l=e||{},s=l.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],u=(l.CSSPath?l.CSSPath:"")+"rStats.css";(l.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",u]).forEach(function(e){n(e)}),l.values||(l.values={});var d,f,p=10,h=200,m={};return function(){if(l.plugins){l.values||(l.values={}),l.groups||(l.groups=[]),l.fractions||(l.fractions=[]);for(var e=0;e<l.plugins.length;e++)l.plugins[e].attach(o),t(l.plugins[e].values,function(t){l.values[t]=l.plugins[e].values[t]}),l.groups=l.groups.concat(l.plugins[e].groups),l.fractions=l.fractions.concat(l.plugins[e].fractions)}else l.plugins={};d=document.createElement("div"),d.className="rs-base",f=document.createElement("div"),f.className="rs-container",f.style.height="auto",d.appendChild(f),document.body.appendChild(d),l&&(l.groups&&t(l.groups,function(e){var t=l.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var a=document.createElement("h1");a.textContent=t.caption,a.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),f.appendChild(a),f.appendChild(n)}),l.fractions&&t(l.fractions,function(e){var n=l.fractions[parseInt(e,10)],a=document.createElement("div");a.className="rs-fraction";var i=document.createElement("div");i.className="rs-legend";var o=0;t(l.fractions[e].steps,function(t){var n=document.createElement("p");n.textContent=l.fractions[e].steps[t],n.style.color=s[o],i.appendChild(n),o++}),a.appendChild(i),a.style.height=o*p+"px",n.div=a;var c=new r(a,o);n.graph=c,f.appendChild(a)}))}(),function(e){return e?o(e):{element:d,update:c}}},"object"==typeof module&&(module.exports=window.rStats);
},{}],193:[function(_dereq_,module,exports){
String.prototype.startsWith||(String.prototype.startsWith=function(t,r){return r=r||0,this.substr(r,t.length)===t});
},{}],194:[function(_dereq_,module,exports){
var Util={};Util.base64=function(e,i){return"data:"+e+";base64,"+i},Util.isMobile=function(){var e=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},Util.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},Util.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},Util.appendQueryParameter=function(e,i,t){return e+=(e.indexOf("?")<0?"?":"&")+i+"="+t},Util.getQueryParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=i.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},Util.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},module.exports=Util;
},{}],195:[function(_dereq_,module,exports){
function AndroidWakeLock(){var A=document.createElement("video");A.addEventListener("ended",function(){A.play()}),this.request=function(){A.paused&&(A.src=Util.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),A.play())},this.release=function(){A.pause(),A.src=""}}function iOSWakeLock(){var A=null;this.request=function(){A||(A=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){A&&(clearInterval(A),A=null)}}function getWakeLock(){var A=navigator.userAgent||navigator.vendor||window.opera;return A.match(/iPhone/i)||A.match(/iPod/i)?iOSWakeLock:AndroidWakeLock}var Util=_dereq_("./util.js");module.exports=getWakeLock();
},{"./util.js":194}]},{},[154])(154)
});



/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

	/* global AFRAME */
	var styleParser = AFRAME.utils.styleParser;
	
	if (typeof AFRAME === 'undefined') {
	  throw new Error('Component attempted to register before AFRAME was available.');
	}
	
	AFRAME.registerComponent('event-set', {
	  schema: {
	    default: '',
	    parse: function (value) {
	      return styleParser.parse(value);
	    }
	  },
	
	  multiple: true,
	
	  init: function () {
	    this.eventHandler = null;
	    this.eventName = null;
	  },
	
	  update: function (oldData) {
	    this.removeEventListener();
	    this.updateEventListener();
	    this.addEventListener();
	  },
	
	  remove: function () {
	    this.removeEventListener();
	  },
	
	  pause: function () {
	    this.removeEventListener();
	  },
	
	  play: function () {
	    this.addEventListener();
	  },
	
	  /**
	   * Update source-of-truth event listener registry.
	   * Does not actually attach event listeners yet.
	   */
	  updateEventListener: function () {
	    var data = this.data;
	    var el = this.el;
	    var event;
	    var target;
	    var targetEl;
	
	    // Set event listener using `_event`.
	    event = data._event || this.id;
	    target = data._target;
	
	    // Decide the target to `setAttribute` on.
	    targetEl = target ? el.sceneEl.querySelector(target) : el;
	
	    this.eventName = event;
	
	    const handler = () => {
	      var propName;
	      // Set attributes.
	      for (propName in data) {
	        if (propName === '_event' || propName === '_target') { continue; }
	        AFRAME.utils.entity.setComponentProperty.call(this, targetEl, propName,
	                                                      data[propName]);
	      }
	    };
	
	    if (!isNaN(data._delay)) {
	      // Delay.
	      this.eventHandler = () => { setTimeout(handler, parseFloat(data._delay)); };
	    } else {
	      this.eventHandler = handler;
	    }
	  },
	
	  addEventListener: function () {
	    this.el.addEventListener(this.eventName, this.eventHandler);
	  },
	
	  removeEventListener: function () {
	    this.el.removeEventListener(this.eventName, this.eventHandler);
	  }
	});


/***/ })
/******/ ]);
!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e){var o=AFRAME.utils.debug,n=AFRAME.utils.coordinates,r=o("components:look-at:warn"),i=n.isCoordinates||n.isCoordinate;delete AFRAME.components["look-at"],AFRAME.registerComponent("look-at",{schema:{default:"",parse:function(t){return i(t)||"object"==typeof t?n.parse(t):t},stringify:function(t){return"object"==typeof t?n.stringify(t):t}},init:function(){this.target3D=null,this.vector=new THREE.Vector3},update:function(){var t,e=this,o=e.data,n=e.el.object3D;return!o||"object"==typeof o&&!Object.keys(o).length?e.remove():"object"==typeof o?n.lookAt(new THREE.Vector3(o.x,o.y,o.z)):(t=e.el.sceneEl.querySelector(o),t?t.hasLoaded?e.beginTracking(t):t.addEventListener("loaded",function(){e.beginTracking(t)}):void r('"'+o+'" does not point to a valid entity to look-at'))},tick:function(){var t=new THREE.Vector3;return function(e){var o=this.target3D,n=this.el.object3D,r=this.vector;o&&(o.getWorldPosition(t),this.el.getObject3D("camera")||(r=t),n.lookAt(r))}}(),beginTracking:function(t){this.target3D=t.object3D}})}]);
!function(){var n=Handlebars.template,e=Handlebars.templates=Handlebars.templates||{};e.annotation_window=n({compiler:[8,">= 4.3.0"],main:function(n,e,l,o,t){return'<div class="popup" id="annotation_window" > \r\n    <div id="current_edited"></div>\r\n    <form name="change_annotation" action="javascript:void(0);">\r\n        <div>\r\n        <label for="position_inp">Pozice: </label>\r\n        <input type="text" name="position" id="position_inp">\r\n        </div>\r\n        <div>\r\n        <label for="no_inp">slo anotace: </label>\r\n        <input type="number" name="no" id="no_inp">\r\n        </div>\r\n        <div>\r\n        <label for="heading_inp">Nadpis: </label>\r\n        <input type="text" name="heading" id="heading_inp">\r\n        </div>\r\n        <div id="editor"></div>\r\n        <div>\r\n        <button id="copy_html" class="button">Koprovat HTML</button>\r\n        <button id="paste_html" class="button">Vloit HTML</button>\r\n        </div>\r\n        <div>\r\n            <button id="save_change" class="button" onclick="save_changes()">Provst zmny</button>\r\n            <button id="discard_change" class="button" onclick="discard_changes()">Zahodit zmny</button>\r\n        </div>\r\n    </form>\r\n</div>'},useData:!0}),e.gallery=n({compiler:[8,">= 4.3.0"],main:function(n,e,l,o,t){var a,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,c="function",s=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="gallery_wrapper" id="gal_wrapper'+s(typeof(a=null!=(a=u(l,"parent_id")||(null!=e?u(e,"parent_id"):e))?a:i)==c?a.call(r,{name:"parent_id",hash:{},data:t,loc:{start:{line:1,column:44},end:{line:1,column:57}}}):a)+'">\r\n    <img class="gal_left_click" id="glc'+s(typeof(a=null!=(a=u(l,"parent_id")||(null!=e?u(e,"parent_id"):e))?a:i)==c?a.call(r,{name:"parent_id",hash:{},data:t,loc:{start:{line:3,column:39},end:{line:3,column:52}}}):a)+'" src="../control_graphic/back_icon.png" onclick="left_click()">\r\n    <img class="gal_right_click" id="grc'+s(typeof(a=null!=(a=u(l,"parent_id")||(null!=e?u(e,"parent_id"):e))?a:i)==c?a.call(r,{name:"parent_id",hash:{},data:t,loc:{start:{line:4,column:40},end:{line:4,column:53}}}):a)+'" src="../control_graphic/right.png" onclick="right_click()">\r\n    <div class="gall_num" id="g_num'+s(typeof(a=null!=(a=u(l,"parent_id")||(null!=e?u(e,"parent_id"):e))?a:i)==c?a.call(r,{name:"parent_id",hash:{},data:t,loc:{start:{line:5,column:35},end:{line:5,column:48}}}):a)+'" >\r\n        <span class="current_img"></span>\r\n        <span class="total"></span>\r\n    </div>\r\n</div>'},useData:!0}),e.model_choice=n({1:function(n,e,l,o,t){var a,r,i=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,s="function",u=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'    <div class="model_choice">\r\n        <input type="radio" id="model_choice'+u(typeof(r=null!=(r=p(l,"index")||t&&p(t,"index"))?r:c)==s?r.call(i,{name:"index",hash:{},data:t,loc:{start:{line:6,column:44},end:{line:6,column:54}}}):r)+'" name="model" value="'+u(typeof(r=null!=(r=p(l,"model_sr")||(null!=e?p(e,"model_sr"):e))?r:c)==s?r.call(i,{name:"model_sr",hash:{},data:t,loc:{start:{line:6,column:76},end:{line:6,column:88}}}):r)+'">\r\n        <label for="model_choice'+u(typeof(r=null!=(r=p(l,"index")||t&&p(t,"index"))?r:c)==s?r.call(i,{name:"index",hash:{},data:t,loc:{start:{line:7,column:32},end:{line:7,column:42}}}):r)+'">'+u((p(l,"increment")||e&&p(e,"increment")||c).call(i,t&&p(t,"index"),{name:"increment",hash:{},data:t,loc:{start:{line:7,column:44},end:{line:7,column:64}}}))+". model</label>\r\n"+(null!=(a=(p(l,"if_equals")||e&&p(e,"if_equals")||c).call(i,null!=e?p(e,"file_size"):e,"",{name:"if_equals",hash:{},fn:n.program(2,t,0),inverse:n.program(4,t,0),data:t,loc:{start:{line:8,column:8},end:{line:13,column:22}}}))?a:"")+"        <p>\r\n            "+u(typeof(r=null!=(r=p(l,"short_comment")||(null!=e?p(e,"short_comment"):e))?r:c)==s?r.call(i,{name:"short_comment",hash:{},data:t,loc:{start:{line:15,column:12},end:{line:15,column:29}}}):r)+"\r\n        </p>\r\n    </div>\r\n"},2:function(n,e,l,o,t){return""},4:function(n,e,l,o,t){var a,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"        <p>\r\n            <b>Velikost:</b> "+n.escapeExpression("function"==typeof(a=null!=(a=r(l,"file_size")||(null!=e?r(e,"file_size"):e))?a:n.hooks.helperMissing)?a.call(null!=e?e:n.nullContext||{},{name:"file_size",hash:{},data:t,loc:{start:{line:11,column:29},end:{line:11,column:42}}}):a)+"\r\n        </p>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,o,t){var a,r,i=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,s="function",u=n.escapeExpression,p=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div id="model_choices">\r\n    <h3>Zvolte kvalitu modelu</h3>\r\n<form name="selection_form" action="javascript:void(0);" onsubmit="choose_model(event, '+u(typeof(r=null!=(r=p(l,"model_scale")||(null!=e?p(e,"model_scale"):e))?r:c)==s?r.call(i,{name:"model_scale",hash:{},data:t,loc:{start:{line:3,column:87},end:{line:3,column:102}}}):r)+", '"+u(typeof(r=null!=(r=p(l,"model_rotation")||(null!=e?p(e,"model_rotation"):e))?r:c)==s?r.call(i,{name:"model_rotation",hash:{},data:t,loc:{start:{line:3,column:105},end:{line:3,column:123}}}):r)+"')\">\r\n"+(null!=(a=p(l,"each").call(i,null!=e?p(e,"qualities"):e,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:4,column:4},end:{line:18,column:13}}}))?a:"")+'\r\n    <input type="submit" value="OK">\r\n</form>\r\n</div>'},useData:!0}),e.player=n({1:function(n,e,l,o,t){var a,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'        \r\n        <a-entity id="camera" camera=" active: true" look-controls orbit-controls=" target: 0 0 0; minDistance: 1; maxDistance: 50; initialPosition: '+n.escapeExpression("function"==typeof(a=null!=(a=r(l,"camera_position")||(null!=e?r(e,"camera_position"):e))?a:n.hooks.helperMissing)?a.call(null!=e?e:n.nullContext||{},{name:"camera_position",hash:{},data:t,loc:{start:{line:4,column:149},end:{line:4,column:168}}}):a)+'; maxPolarAngle: 180"></a-entity>\r\n          \r\n'},3:function(n,e,l,o,t){var a,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,c="function",s=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'        <a-entity id="camera_rig">\r\n            <a-entity id="camera" camera position="'+s(typeof(a=null!=(a=u(l,"camera_position")||(null!=e?u(e,"camera_position"):e))?a:i)==c?a.call(r,{name:"camera_position",hash:{},data:t,loc:{start:{line:8,column:51},end:{line:8,column:70}}}):a)+'" default-position="'+s(typeof(a=null!=(a=u(l,"camera_position")||(null!=e?u(e,"camera_position"):e))?a:i)==c?a.call(r,{name:"camera_position",hash:{},data:t,loc:{start:{line:8,column:90},end:{line:8,column:109}}}):a)+'" touch-controls="gyroEnabled:false" wasd-controls=" fly:true; acceleration:40"></a-entity>\r\n        </a-entity>\r\n'},5:function(n,e,l,o,t){return""},7:function(n,e,l,o,t){var a,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'        <a-asset-item id="main_model" src="'+n.escapeExpression("function"==typeof(a=null!=(a=r(l,"model_src")||(null!=e?r(e,"model_src"):e))?a:n.hooks.helperMissing)?a.call(null!=e?e:n.nullContext||{},{name:"model_src",hash:{},data:t,loc:{start:{line:16,column:43},end:{line:16,column:56}}}):a)+'"></a-asset-item>\r\n'},9:function(n,e,l,o,t){var a,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,c="function",s=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'    <a-entity my-gltf-model="#main_model" id="gltf_model" big_model autoscale=" scale:'+s(typeof(a=null!=(a=u(l,"model_scale")||(null!=e?u(e,"model_scale"):e))?a:i)==c?a.call(r,{name:"model_scale",hash:{},data:t,loc:{start:{line:21,column:86},end:{line:21,column:101}}}):a)+"; rotation: "+s(typeof(a=null!=(a=u(l,"model_rotation")||(null!=e?u(e,"model_rotation"):e))?a:i)==c?a.call(r,{name:"model_rotation",hash:{},data:t,loc:{start:{line:21,column:113},end:{line:21,column:131}}}):a)+'"></a-entity>\r\n'},11:function(n,e,l,o,t){return"<p>Vtejte ve webovm prohlei 3D objekt. Snad Vm tato npovda usnadn jeho pouvn.</p>\r\n<p><b>Ovldn: </b>v tto variant pouze oten pohledu my.</p>\r\n<p>\r\n    V bonm panelu, kde se nachz tato npovda, najdete tak tlatko anotace, kterm mete vypnout zobrazovn anotac,\r\n    pokud si chcete neruen prohlet model.\r\n</p>\r\n</div>\r\n</div>\r\n\r\n"},13:function(n,e,l,o,t){return'<p>Vtejte ve webovm prohlei 3D objekt. Snad Vm tato npovda usnadn jeho pouvn.</p>\r\n<p><b>Ovldn: </b>pomoc ipek nebo WASD a my oten pohledu. Na dotykovm zazen joystickem.</p>\r\n<p>\r\n    Pokud byste zabloudili, tlatkem <b>domeku</b> se mete navrtit zpt na <b>poten pozici.</b></p>\r\n<p>\r\n    V bonm panelu, kde se nachz tato npovda, najdete dal uiten funkce. <br>Mete <b>vypnout zobrazovn \r\n    anotac,</b> pokud si chcete neruen prohldnout model. Tak se zde nachz monost nastaven rychlosti pohybu.\r\n</p>\r\n<p>\r\n    Dvojic tlatek <b>Koprovat pozici</b> a <b>Pejt na pozici</b> si mete uschovat svoji aktuln polohu a nsledn se na \r\n    ni kdykoliv vrtit. <br>Tlatko <b>Koprovat pozici</b> ji zkopruje do schrnky.\r\n</p>\r\n</div>\r\n</div>\r\n\r\n<img id="home_button" title="Return back to origin." src="../../control_graphic/home.png"></img>\r\n\r\n\r\n'},compiler:[8,">= 4.3.0"],main:function(n,e,l,o,t){var a,r,i=null!=e?e:n.nullContext||{},c=n.hooks.helperMissing,s=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<a-scene  gltf-model="dracoDecoderPath: ../draco/;" background=" color: '+n.escapeExpression("function"==typeof(r=null!=(r=s(l,"background_color")||(null!=e?s(e,"background_color"):e))?r:c)?r.call(i,{name:"background_color",hash:{},data:t,loc:{start:{line:1,column:133},end:{line:1,column:153}}}):r)+'" joystick>\r\n'+(null!=(a=s(l,"if").call(i,null!=e?s(e,"orbit_control"):e,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t,loc:{start:{line:2,column:4},end:{line:10,column:11}}}))?a:"")+'\r\n    <a-entity raycaster="objects: [data-clickable]" id="raycaster" cursor="rayOrigin:mouse"></a-entity>\r\n    <a-assets timeout="100000000">\r\n'+(null!=(a=(s(l,"if_equals")||e&&s(e,"if_equals")||c).call(i,null!=e?s(e,"model_src"):e,"",{name:"if_equals",hash:{},fn:n.program(5,t,0),inverse:n.program(7,t,0),data:t,loc:{start:{line:14,column:8},end:{line:17,column:22}}}))?a:"")+"    </a-assets>\r\n"+(null!=(a=(s(l,"if_equals")||e&&s(e,"if_equals")||c).call(i,null!=e?s(e,"model_src"):e,"",{name:"if_equals",hash:{},fn:n.program(5,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:19,column:4},end:{line:22,column:18}}}))?a:"")+'    <a-entity light="type: point; intensity: 1; distance: 100; decay: 2" position="0 0 0"></a-entity>\r\n    <a-entity light="type: ambient; color: #CCC"></a-entity>\r\n</a-scene>\r\n\r\n<div class="popup" id="help_popup">\r\n<div class="popup_heading"> <span class="back_icon"><img src="../control_graphic/back_icon.png"></span>Npovda</div>\r\n<div class="popup_body">\r\n'+(null!=(a=s(l,"if").call(i,null!=e?s(e,"orbit_control"):e,{name:"if",hash:{},fn:n.program(11,t,0),inverse:n.program(13,t,0),data:t,loc:{start:{line:30,column:0},end:{line:59,column:7}}}))?a:"")},useData:!0}),e.popup=n({1:function(n,e,l,o,t,a,r){var i,c,s=null!=e?e:n.nullContext||{},u=n.hooks.helperMissing,p="function",d=n.escapeExpression,m=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div class="popup" id="'+d(typeof(c=null!=(c=m(l,"key")||t&&m(t,"key"))?c:u)==p?c.call(s,{name:"key",hash:{},data:t,loc:{start:{line:2,column:23},end:{line:2,column:31}}}):c)+'">\r\n    <div class="popup_heading"> <span class="back_icon" onclick="close_windows()"><img src="../../control_graphic/back_icon.png"></span><span class="heading_span" >'+d(typeof(c=null!=(c=m(l,"heading")||(null!=e?m(e,"heading"):e))?c:u)==p?c.call(s,{name:"heading",hash:{},data:t,loc:{start:{line:3,column:164},end:{line:3,column:175}}}):c)+'</span></div>\r\n    <div class="popup_body"> <span class="popup_text"> '+(null!=(i=typeof(c=null!=(c=m(l,"text")||(null!=e?m(e,"text"):e))?c:u)==p?c.call(s,{name:"text",hash:{},data:t,loc:{start:{line:4,column:55},end:{line:4,column:65}}}):c)?i:"")+"</span> </div>\r\n"+(null!=(i=m(l,"if").call(s,null!=r[1]?m(r[1],"edit_mode"):r[1],{name:"if",hash:{},fn:n.program(2,t,0,a,r),inverse:n.noop,data:t,loc:{start:{line:5,column:4},end:{line:7,column:11}}}))?i:"")+"</div>\r\n"},2:function(n,e,l,o,t){var a,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'        <button class="button ed_button" id="edit'+n.escapeExpression("function"==typeof(a=null!=(a=r(l,"key")||t&&r(t,"key"))?a:n.hooks.helperMissing)?a.call(null!=e?e:n.nullContext||{},{name:"key",hash:{},data:t,loc:{start:{line:6,column:49},end:{line:6,column:57}}}):a)+'">Upravit</button>\r\n'},compiler:[8,">= 4.3.0"],main:function(n,e,l,o,t,a,r){var i,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return null!=(i=c(l,"each").call(null!=e?e:n.nullContext||{},null!=e?c(e,"annotations"):e,{name:"each",hash:{},fn:n.program(1,t,0,a,r),inverse:n.noop,data:t,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?i:""},useData:!0,useDepths:!0}),e.popup_button=n({1:function(n,e,l,o,t){var a,r=null!=e?e:n.nullContext||{},i=n.hooks.helperMissing,c=n.escapeExpression,s="function",u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<a-text \r\n    value="'+c((u(l,"get_number")||e&&u(e,"get_number")||i).call(r,t&&u(t,"key"),{name:"get_number",hash:{},data:t,loc:{start:{line:3,column:11},end:{line:3,column:30}}}))+'" width="6" align="center"\r\n    look-at="[camera]" color="white" id="rendered'+c(typeof(a=null!=(a=u(l,"key")||t&&u(t,"key"))?a:i)==s?a.call(r,{name:"key",hash:{},data:t,loc:{start:{line:4,column:49},end:{line:4,column:57}}}):a)+'"\r\n    class="clickable" info-window=" window_id:'+c(typeof(a=null!=(a=u(l,"key")||t&&u(t,"key"))?a:i)==s?a.call(r,{name:"key",hash:{},data:t,loc:{start:{line:5,column:46},end:{line:5,column:54}}}):a)+'" position="'+c(typeof(a=null!=(a=u(l,"position")||(null!=e?u(e,"position"):e))?a:i)==s?a.call(r,{name:"position",hash:{},data:t,loc:{start:{line:5,column:66},end:{line:5,column:78}}}):a)+'" data-clickable\r\n></a-text>\r\n'},compiler:[8,">= 4.3.0"],main:function(n,e,l,o,t){var a,r=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return null!=(a=r(l,"each").call(null!=e?e:n.nullContext||{},null!=e?r(e,"annotations"):e,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:1,column:0},end:{line:7,column:9}}}))?a:""},useData:!0})}();
/**
 * CUSTOM version of a-control with better support for joystick and Z axis movement
 */

function bind(fn, ctx/* , arg1, arg2 */) {
    return (function (prependedArgs) {
        return function bound() {
            // Concat the bound function arguments with those passed to original bind
            var args = prependedArgs.concat(Array.prototype.slice.call(arguments, 0));
            return fn.apply(ctx, args);
        };
    })(Array.prototype.slice.call(arguments, 2));
};

function PolyfillControls(object) {
    var frameData;
    var vrDisplay = window.webvrpolyfill && window.webvrpolyfill.getPolyfillDisplays()[0];
    if (window.VRFrameData) { frameData = new window.VRFrameData(); }
    this.update = function () {
        var pose;
        if (!vrDisplay) { return; }
        vrDisplay.getFrameData(frameData);
        pose = frameData.pose;
        if (pose.orientation !== null) {
            object.quaternion.fromArray(pose.orientation);
        }
        if (pose.position !== null) {
            object.position.fromArray(pose.position);
        } else {
            object.position.set(0, 0, 0);
        }
    };
}


// To avoid recalculation at every mouse movement tick
var PI_2 = Math.PI / 2;


/**
 * look-controls. Update entity pose, factoring mouse, touch, and WebVR API data.
 */
AFRAME.registerComponent('touch-controls', {
    dependencies: ['position', 'rotation'],

    schema: {
        enabled: { default: true },
        hmdEnabled: { default: true },
        pointerLockEnabled: { default: false },
        reverseMouseDrag: { default: false },
        reverseTouchDrag: { default: false },
        touchEnabled: { default: true },
        gyroEnabled: { default: true }
    },

    init: function () {
        this.previousHMDPosition = new THREE.Vector3();
        this.hmdQuaternion = new THREE.Quaternion();
        this.hmdEuler = new THREE.Euler();
        this.position = new THREE.Vector3();
        // To save / restore camera pose
        this.savedRotation = new THREE.Vector3();
        this.savedPosition = new THREE.Vector3();
        this.polyfillObject = new THREE.Object3D();
        this.polyfillControls = new PolyfillControls(this.polyfillObject);
        this.rotation = {};
        this.deltaRotation = {};
        this.savedPose = null;
        this.pointerLocked = false;
        this.setupMouseControls();
        this.bindMethods();
        this.el.object3D.matrixAutoUpdate = false;
        this.el.object3D.updateMatrix();

        this.savedPose = {
            position: new THREE.Vector3(),
            rotation: new THREE.Euler()
        };

        // Call enter VR handler if the scene has entered VR before the event listeners attached.
        if (this.el.sceneEl.is('vr-mode')) { this.onEnterVR(); }
    },

    update: function (oldData) {
        var data = this.data;

        // Disable grab cursor classes if no longer enabled.
        if (data.enabled !== oldData.enabled) {
            this.updateGrabCursor(data.enabled);
        }

        // Reset pitch and yaw if disabling HMD.
        if (oldData && !data.hmdEnabled && !oldData.hmdEnabled) {
            this.pitchObject.rotation.set(0, 0, 0);
            this.yawObject.rotation.set(0, 0, 0);
        }

        if (oldData && !data.pointerLockEnabled !== oldData.pointerLockEnabled) {
            this.removeEventListeners();
            this.addEventListeners();
            if (this.pointerLocked) { this.exitPointerLock(); }
        }
    },

    tick: function (t) {
        var data = this.data;
        if (!data.enabled) { return; }
        this.updateOrientation();
    },

    play: function () {
        this.addEventListeners();
    },

    pause: function () {
        this.removeEventListeners();
        if (this.pointerLocked) { this.exitPointerLock(); }
    },

    remove: function () {
        this.removeEventListeners();
        if (this.pointerLocked) { this.exitPointerLock(); }
    },

    bindMethods: function () {
        this.onMouseDown = bind(this.onMouseDown, this);
        this.onMouseMove = bind(this.onMouseMove, this);
        this.onMouseUp = bind(this.onMouseUp, this);
        this.onTouchStart = bind(this.onTouchStart, this);
        this.onTouchMove = bind(this.onTouchMove, this);
        this.onTouchEnd = bind(this.onTouchEnd, this);
        this.onEnterVR = bind(this.onEnterVR, this);
        this.onExitVR = bind(this.onExitVR, this);
        this.onPointerLockChange = bind(this.onPointerLockChange, this);
        this.onPointerLockError = bind(this.onPointerLockError, this);
    },

    /**
     * Set up states and Object3Ds needed to store rotation data.
     */
    setupMouseControls: function () {
        this.mouseDown = false;
        this.pitchObject = new THREE.Object3D();
        this.yawObject = new THREE.Object3D();
        this.yawObject.position.y = 10;
        this.yawObject.add(this.pitchObject);
    },

    /**
     * Add mouse and touch event listeners to canvas.
     */
    addEventListeners: function () {
        var sceneEl = this.el.sceneEl;
        var canvasEl = sceneEl.canvas;

        // Wait for canvas to load.
        if (!canvasEl) {
            sceneEl.addEventListener('render-target-loaded', bind(this.addEventListeners, this));
            return;
        }

        // Mouse events.
        canvasEl.addEventListener('mousedown', this.onMouseDown, false);
        window.addEventListener('mousemove', this.onMouseMove, false);
        window.addEventListener('mouseup', this.onMouseUp, false);

        // Touch events.
        canvasEl.addEventListener('touchstart', this.onTouchStart);
        window.addEventListener('touchmove', this.onTouchMove);
        window.addEventListener('touchend', this.onTouchEnd);

        // sceneEl events.
        sceneEl.addEventListener('enter-vr', this.onEnterVR);
        sceneEl.addEventListener('exit-vr', this.onExitVR);

        // Pointer Lock events.
        if (this.data.pointerLockEnabled) {
            document.addEventListener('pointerlockchange', this.onPointerLockChange, false);
            document.addEventListener('mozpointerlockchange', this.onPointerLockChange, false);
            document.addEventListener('pointerlockerror', this.onPointerLockError, false);
        }
    },

    /**
     * Remove mouse and touch event listeners from canvas.
     */
    removeEventListeners: function () {
        var sceneEl = this.el.sceneEl;
        var canvasEl = sceneEl && sceneEl.canvas;

        if (!canvasEl) { return; }

        // Mouse events.
        canvasEl.removeEventListener('mousedown', this.onMouseDown);
        window.removeEventListener('mousemove', this.onMouseMove);
        window.removeEventListener('mouseup', this.onMouseUp);

        // Touch events.
        canvasEl.removeEventListener('touchstart', this.onTouchStart);
        window.removeEventListener('touchmove', this.onTouchMove);
        window.removeEventListener('touchend', this.onTouchEnd);

        // sceneEl events.
        sceneEl.removeEventListener('enter-vr', this.onEnterVR);
        sceneEl.removeEventListener('exit-vr', this.onExitVR);

        // Pointer Lock events.
        document.removeEventListener('pointerlockchange', this.onPointerLockChange, false);
        document.removeEventListener('mozpointerlockchange', this.onPointerLockChange, false);
        document.removeEventListener('pointerlockerror', this.onPointerLockError, false);
    },

    /**
     * Update orientation for mobile, mouse drag, and headset.
     * Mouse-drag only enabled if HMD is not active.
     */
    updateOrientation: (function () {
        var poseMatrix = new THREE.Matrix4();

        return function () {
            var hmdEuler = this.hmdEuler;
            var object3D = this.el.object3D;
            var pitchObject = this.pitchObject;
            var yawObject = this.yawObject;
            var pose;
            var sceneEl = this.el.sceneEl;

            // WebXR API updates applies headset pose to the object3D matrixWorld internally.
            // Reflect values back on position, rotation, scale so setAttribute returns expected values.
            if (sceneEl.is('vr-mode') && sceneEl.hasWebXR) {
                pose = sceneEl.renderer.vr.getCameraPose();
                if (pose) {
                    poseMatrix.elements = pose.poseModelMatrix;
                    poseMatrix.decompose(object3D.position, object3D.rotation, object3D.scale);
                }
            } else {
                object3D.updateMatrix();
            }

            // In VR mode, THREE is in charge of updating the camera rotation.
            if (sceneEl.is('vr-mode') && sceneEl.checkHeadsetConnected()) { return; }
            // Calculate polyfilled HMD quaternion.
            this.polyfillControls.update();
            hmdEuler.setFromQuaternion(this.polyfillObject.quaternion, 'YXZ');

            // On mobile, do camera rotation with touch events and sensors.
            if (this.data.gyroEnabled) {
                object3D.rotation.x = hmdEuler.x + pitchObject.rotation.x;
                object3D.rotation.y = hmdEuler.y + yawObject.rotation.y;
            } else {
                object3D.rotation.x = pitchObject.rotation.x;
                object3D.rotation.y = yawObject.rotation.y;
            }

        };
    })(),

    /**
     * Translate mouse drag into rotation.
     *
     * Dragging up and down rotates the camera around the X-axis (yaw).
     * Dragging left and right rotates the camera around the Y-axis (pitch).
     */
    onMouseMove: function (event) {
        var direction;
        var movementX;
        var movementY;
        var pitchObject = this.pitchObject;
        var previousMouseEvent = this.previousMouseEvent;
        var yawObject = this.yawObject;

        // Not dragging or not enabled.
        if (!this.data.enabled || (!this.mouseDown && !this.pointerLocked)) { return; }

        // Calculate delta.
        if (this.pointerLocked) {
            movementX = event.movementX || event.mozMovementX || 0;
            movementY = event.movementY || event.mozMovementY || 0;
        } else {
            movementX = event.screenX - previousMouseEvent.screenX;
            movementY = event.screenY - previousMouseEvent.screenY;
        }
        this.previousMouseEvent = event;

        // Calculate rotation.
        direction = this.data.reverseMouseDrag ? 1 : -1;
        yawObject.rotation.y += movementX * 0.002 * direction;
        pitchObject.rotation.x += movementY * 0.002 * direction;
        pitchObject.rotation.x = Math.max(-PI_2, Math.min(PI_2, pitchObject.rotation.x));
    },

    /**
     * Register mouse down to detect mouse drag.
     */
    onMouseDown: function (evt) {
        if (!this.data.enabled) { return; }
        // Handle only primary button.
        if (evt.button !== 0) { return; }

        var sceneEl = this.el.sceneEl;
        var canvasEl = sceneEl && sceneEl.canvas;

        this.mouseDown = true;
        this.previousMouseEvent = evt;
        this.showGrabbingCursor();

        if (this.data.pointerLockEnabled && !this.pointerLocked) {
            if (canvasEl.requestPointerLock) {
                canvasEl.requestPointerLock();
            } else if (canvasEl.mozRequestPointerLock) {
                canvasEl.mozRequestPointerLock();
            }
        }
    },

    /**
     * Shows grabbing cursor on scene
     */
    showGrabbingCursor: function () {
        this.el.sceneEl.canvas.style.cursor = 'grabbing';
    },

    /**
     * Hides grabbing cursor on scene
     */
    hideGrabbingCursor: function () {
        this.el.sceneEl.canvas.style.cursor = '';
    },

    /**
     * Register mouse up to detect release of mouse drag.
     */
    onMouseUp: function () {
        this.mouseDown = false;
        this.hideGrabbingCursor();
    },

    /**
     * Register touch down to detect touch drag.
     */
    onTouchStart: function (evt) {
        if (evt.touches.length !== 1 || !this.data.touchEnabled) { return; }
        this.touchStart = {
            x: evt.touches[0].pageX,
            y: evt.touches[0].pageY
        };
        this.touchStarted = true;
    },

    /**
     * Translate touch move to Y-axis rotation.
     */
    onTouchMove: function (evt) {
        var direction;
        var canvas = this.el.sceneEl.canvas;
        var deltaY;
        var yawObject = this.yawObject;
        var pitchObject = this.pitchObject;

        if (!this.touchStarted || !this.data.touchEnabled) { return; }

        deltaY = 2 * Math.PI * (evt.touches[0].pageX - this.touchStart.x) / canvas.clientWidth;
        deltaX = 2 * Math.PI * (evt.touches[0].pageY - this.touchStart.y) / this.el.sceneEl.canvas.clientHeight;

        direction = this.data.reverseTouchDrag ? 1 : -1;
        yawObject.rotation.y -= deltaY * 0.5 * direction;
        pitchObject.rotation.x -= deltaX * 0.5 * direction;
        this.touchStart = {
            x: evt.touches[0].pageX,
            y: evt.touches[0].pageY
        };
    },

    /**
     * Register touch end to detect release of touch drag.
     */
    onTouchEnd: function () {
        this.touchStarted = false;
    },

    /**
     * Save pose.
     */
    onEnterVR: function () {
        if (!this.el.sceneEl.checkHeadsetConnected()) { return; }
        this.saveCameraPose();
        this.el.object3D.position.set(0, 0, 0);
        this.el.object3D.updateMatrix();
    },

    /**
     * Restore the pose.
     */
    onExitVR: function () {
        if (!this.el.sceneEl.checkHeadsetConnected()) { return; }
        this.restoreCameraPose();
        this.previousHMDPosition.set(0, 0, 0);
    },

    /**
     * Update Pointer Lock state.
     */
    onPointerLockChange: function () {
        this.pointerLocked = !!(document.pointerLockElement || document.mozPointerLockElement);
    },

    /**
     * Recover from Pointer Lock error.
     */
    onPointerLockError: function () {
        this.pointerLocked = false;
    },

    // Exits pointer-locked mode.
    exitPointerLock: function () {
        document.exitPointerLock();
        this.pointerLocked = false;
    },

    /**
     * Toggle the feature of showing/hiding the grab cursor.
     */
    updateGrabCursor: function (enabled) {
        var sceneEl = this.el.sceneEl;

        function enableGrabCursor() { sceneEl.canvas.classList.add('a-grab-cursor'); }
        function disableGrabCursor() { sceneEl.canvas.classList.remove('a-grab-cursor'); }

        if (!sceneEl.canvas) {
            if (enabled) {
                sceneEl.addEventListener('render-target-loaded', enableGrabCursor);
            } else {
                sceneEl.addEventListener('render-target-loaded', disableGrabCursor);
            }
            return;
        }

        if (enabled) {
            enableGrabCursor();
            return;
        }
        disableGrabCursor();
    },

    /**
     * Save camera pose before entering VR to restore later if exiting.
     */
    saveCameraPose: function () {
        var el = this.el;

        this.savedPose.position.copy(el.object3D.position);
        this.savedPose.rotation.copy(el.object3D.rotation);
        this.hasSavedPose = true;
    },

    /**
     * Reset camera pose to before entering VR.
     */
    restoreCameraPose: function () {
        var el = this.el;
        var savedPose = this.savedPose;

        if (!this.hasSavedPose) { return; }

        // Reset camera orientation.
        el.object3D.position.copy(savedPose.position);
        el.object3D.rotation.copy(savedPose.rotation);
        this.hasSavedPose = false;
    }
});
/**
 * My custom glTF model loader.
 */
AFRAME.registerComponent('my-gltf-model', {
    schema: {type: 'model'},
  
    init: function () {
      var dracoLoader = new THREE.DRACOLoader;
      dracoLoader.setDecoderPath( "../draco/" );
      this.model = null;
      this.loader = new THREE.GLTFLoader();
      if (dracoLoader) {
        this.loader.setDRACOLoader(dracoLoader);
      }
    },
  
    update: function () {
      var self = this;
      var el = this.el;
      var src = this.data;
  
      if (!src) { return; }
  
      this.remove();
  
      this.loader.load(src, 
        function gltfLoaded (gltfModel) {
            self.model = gltfModel.scene || gltfModel.scenes[0];
            self.model.animations = gltfModel.animations;
            el.setObject3D('mesh', self.model);
            el.emit('model-loaded', {format: 'gltf', model: self.model});
      },
      function (xhr) {
        console.log("Hello");
        el.emit("model-progress", {progress: ( xhr.loaded / xhr.total * 100 ) })
     },
     function gltfFailed (error) {
        var message = (error && error.message) ? error.message : 'Failed to load glTF model';
        el.emit('model-error', {format: 'gltf', src: src});
      });
    },
  
    remove: function () {
      if (!this.model) { return; }
      this.el.removeObject3D('mesh');
    }
  });
(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=1)})([function(module,exports){THREE.OrbitControls=function(object,domElement){this.object=object;this.domElement=domElement!==undefined?domElement:document;this.enabled=true;this.target=new THREE.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=false;this.dampingFactor=.25;this.enableZoom=true;this.zoomSpeed=1;this.enableRotate=true;this.rotateSpeed=1;this.enablePan=true;this.keyPanSpeed=7;this.autoRotate=false;this.autoRotateSpeed=2;this.enableKeys=true;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return spherical.phi};this.getAzimuthalAngle=function(){return spherical.theta};this.saveState=function(){scope.target0.copy(scope.target);scope.position0.copy(scope.object.position);scope.zoom0=scope.object.zoom};this.reset=function(){scope.target.copy(scope.target0);scope.object.position.copy(scope.position0);scope.object.zoom=scope.zoom0;scope.object.updateProjectionMatrix();scope.dispatchEvent(changeEvent);scope.update();state=STATE.NONE};this.update=function(){var offset=new THREE.Vector3;var quat=(new THREE.Quaternion).setFromUnitVectors(object.up,new THREE.Vector3(0,1,0));var quatInverse=quat.clone().inverse();var lastPosition=new THREE.Vector3;var lastQuaternion=new THREE.Quaternion;return function update(){var position=scope.object.position;offset.copy(position).sub(scope.target);offset.applyQuaternion(quat);spherical.setFromVector3(offset);if(scope.autoRotate&&state===STATE.NONE){rotateLeft(getAutoRotationAngle())}spherical.theta+=sphericalDelta.theta;spherical.phi+=sphericalDelta.phi;spherical.theta=Math.max(scope.minAzimuthAngle,Math.min(scope.maxAzimuthAngle,spherical.theta));spherical.phi=Math.max(scope.minPolarAngle,Math.min(scope.maxPolarAngle,spherical.phi));spherical.makeSafe();spherical.radius*=scale;spherical.radius=Math.max(scope.minDistance,Math.min(scope.maxDistance,spherical.radius));scope.target.add(panOffset);offset.setFromSpherical(spherical);offset.applyQuaternion(quatInverse);position.copy(scope.target).add(offset);scope.object.lookAt(scope.target);if(scope.enableDamping===true){sphericalDelta.theta*=1-scope.dampingFactor;sphericalDelta.phi*=1-scope.dampingFactor}else{sphericalDelta.set(0,0,0)}scale=1;panOffset.set(0,0,0);if(zoomChanged||lastPosition.distanceToSquared(scope.object.position)>EPS||8*(1-lastQuaternion.dot(scope.object.quaternion))>EPS){scope.dispatchEvent(changeEvent);lastPosition.copy(scope.object.position);lastQuaternion.copy(scope.object.quaternion);zoomChanged=false;return true}return false}}();this.dispose=function(){scope.domElement.removeEventListener("contextmenu",onContextMenu,false);scope.domElement.removeEventListener("mousedown",onMouseDown,false);scope.domElement.removeEventListener("wheel",onMouseWheel,false);scope.domElement.removeEventListener("touchstart",onTouchStart,false);scope.domElement.removeEventListener("touchend",onTouchEnd,false);scope.domElement.removeEventListener("touchmove",onTouchMove,false);document.removeEventListener("mousemove",onMouseMove,false);document.removeEventListener("mouseup",onMouseUp,false);window.removeEventListener("keydown",onKeyDown,false)};var scope=this;var changeEvent={type:"change"};var startEvent={type:"start"};var endEvent={type:"end"};var STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5};var state=STATE.NONE;var EPS=1e-6;var spherical=new THREE.Spherical;var sphericalDelta=new THREE.Spherical;var scale=1;var panOffset=new THREE.Vector3;var zoomChanged=false;var rotateStart=new THREE.Vector2;var rotateEnd=new THREE.Vector2;var rotateDelta=new THREE.Vector2;var panStart=new THREE.Vector2;var panEnd=new THREE.Vector2;var panDelta=new THREE.Vector2;var dollyStart=new THREE.Vector2;var dollyEnd=new THREE.Vector2;var dollyDelta=new THREE.Vector2;function getAutoRotationAngle(){return 2*Math.PI/60/60*scope.autoRotateSpeed}function getZoomScale(){return Math.pow(.95,scope.zoomSpeed)}function rotateLeft(angle){sphericalDelta.theta-=angle}function rotateUp(angle){sphericalDelta.phi-=angle}var panLeft=function(){var v=new THREE.Vector3;return function panLeft(distance,objectMatrix){v.setFromMatrixColumn(objectMatrix,0);v.multiplyScalar(-distance);panOffset.add(v)}}();var panUp=function(){var v=new THREE.Vector3;return function panUp(distance,objectMatrix){v.setFromMatrixColumn(objectMatrix,1);v.multiplyScalar(distance);panOffset.add(v)}}();var pan=function(){var offset=new THREE.Vector3;return function pan(deltaX,deltaY){var element=scope.domElement===document?scope.domElement.body:scope.domElement;if(scope.object.isPerspectiveCamera){var position=scope.object.position;offset.copy(position).sub(scope.target);var targetDistance=offset.length();targetDistance*=Math.tan(scope.object.fov/2*Math.PI/180);panLeft(2*deltaX*targetDistance/element.clientHeight,scope.object.matrix);panUp(2*deltaY*targetDistance/element.clientHeight,scope.object.matrix)}else if(scope.object.isOrthographicCamera){panLeft(deltaX*(scope.object.right-scope.object.left)/scope.object.zoom/element.clientWidth,scope.object.matrix);panUp(deltaY*(scope.object.top-scope.object.bottom)/scope.object.zoom/element.clientHeight,scope.object.matrix)}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.");scope.enablePan=false}}}();function dollyIn(dollyScale){if(scope.object.isPerspectiveCamera){scale/=dollyScale}else if(scope.object.isOrthographicCamera){scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom*dollyScale));scope.object.updateProjectionMatrix();zoomChanged=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");scope.enableZoom=false}}function dollyOut(dollyScale){if(scope.object.isPerspectiveCamera){scale*=dollyScale}else if(scope.object.isOrthographicCamera){scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom/dollyScale));scope.object.updateProjectionMatrix();zoomChanged=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");scope.enableZoom=false}}function handleMouseDownRotate(event){rotateStart.set(event.clientX,event.clientY)}function handleMouseDownDolly(event){dollyStart.set(event.clientX,event.clientY)}function handleMouseDownPan(event){panStart.set(event.clientX,event.clientY)}function handleMouseMoveRotate(event){rotateEnd.set(event.clientX,event.clientY);rotateDelta.subVectors(rotateEnd,rotateStart);var element=scope.domElement===document?scope.domElement.body:scope.domElement;rotateLeft(2*Math.PI*rotateDelta.x/element.clientWidth*scope.rotateSpeed);rotateUp(2*Math.PI*rotateDelta.y/element.clientHeight*scope.rotateSpeed);rotateStart.copy(rotateEnd);scope.update()}function handleMouseMoveDolly(event){dollyEnd.set(event.clientX,event.clientY);dollyDelta.subVectors(dollyEnd,dollyStart);if(dollyDelta.y>0){dollyIn(getZoomScale())}else if(dollyDelta.y<0){dollyOut(getZoomScale())}dollyStart.copy(dollyEnd);scope.update()}function handleMouseMovePan(event){panEnd.set(event.clientX,event.clientY);panDelta.subVectors(panEnd,panStart);pan(panDelta.x,panDelta.y);panStart.copy(panEnd);scope.update()}function handleMouseUp(event){}function handleMouseWheel(event){if(event.deltaY<0){dollyOut(getZoomScale())}else if(event.deltaY>0){dollyIn(getZoomScale())}scope.update()}function handleKeyDown(event){switch(event.keyCode){case scope.keys.UP:pan(0,scope.keyPanSpeed);scope.update();break;case scope.keys.BOTTOM:pan(0,-scope.keyPanSpeed);scope.update();break;case scope.keys.LEFT:pan(scope.keyPanSpeed,0);scope.update();break;case scope.keys.RIGHT:pan(-scope.keyPanSpeed,0);scope.update();break}}function handleTouchStartRotate(event){rotateStart.set(event.touches[0].pageX,event.touches[0].pageY)}function handleTouchStartDolly(event){var dx=event.touches[0].pageX-event.touches[1].pageX;var dy=event.touches[0].pageY-event.touches[1].pageY;var distance=Math.sqrt(dx*dx+dy*dy);dollyStart.set(0,distance)}function handleTouchStartPan(event){panStart.set(event.touches[0].pageX,event.touches[0].pageY)}function handleTouchMoveRotate(event){rotateEnd.set(event.touches[0].pageX,event.touches[0].pageY);rotateDelta.subVectors(rotateEnd,rotateStart);var element=scope.domElement===document?scope.domElement.body:scope.domElement;rotateLeft(2*Math.PI*rotateDelta.x/element.clientWidth*scope.rotateSpeed);rotateUp(2*Math.PI*rotateDelta.y/element.clientHeight*scope.rotateSpeed);rotateStart.copy(rotateEnd);scope.update()}function handleTouchMoveDolly(event){var dx=event.touches[0].pageX-event.touches[1].pageX;var dy=event.touches[0].pageY-event.touches[1].pageY;var distance=Math.sqrt(dx*dx+dy*dy);dollyEnd.set(0,distance);dollyDelta.subVectors(dollyEnd,dollyStart);if(dollyDelta.y>0){dollyOut(getZoomScale())}else if(dollyDelta.y<0){dollyIn(getZoomScale())}dollyStart.copy(dollyEnd);scope.update()}function handleTouchMovePan(event){panEnd.set(event.touches[0].pageX,event.touches[0].pageY);panDelta.subVectors(panEnd,panStart);pan(panDelta.x,panDelta.y);panStart.copy(panEnd);scope.update()}function handleTouchEnd(event){}function onMouseDown(event){if(scope.enabled===false)return;event.preventDefault();switch(event.button){case scope.mouseButtons.ORBIT:if(scope.enableRotate===false)return;handleMouseDownRotate(event);state=STATE.ROTATE;break;case scope.mouseButtons.ZOOM:if(scope.enableZoom===false)return;handleMouseDownDolly(event);state=STATE.DOLLY;break;case scope.mouseButtons.PAN:if(scope.enablePan===false)return;handleMouseDownPan(event);state=STATE.PAN;break}if(state!==STATE.NONE){document.addEventListener("mousemove",onMouseMove,false);document.addEventListener("mouseup",onMouseUp,false);scope.dispatchEvent(startEvent)}}function onMouseMove(event){if(scope.enabled===false)return;event.preventDefault();switch(state){case STATE.ROTATE:if(scope.enableRotate===false)return;handleMouseMoveRotate(event);break;case STATE.DOLLY:if(scope.enableZoom===false)return;handleMouseMoveDolly(event);break;case STATE.PAN:if(scope.enablePan===false)return;handleMouseMovePan(event);break}}function onMouseUp(event){if(scope.enabled===false)return;handleMouseUp(event);document.removeEventListener("mousemove",onMouseMove,false);document.removeEventListener("mouseup",onMouseUp,false);scope.dispatchEvent(endEvent);state=STATE.NONE}function onMouseWheel(event){if(scope.enabled===false||scope.enableZoom===false||state!==STATE.NONE&&state!==STATE.ROTATE)return;event.preventDefault();event.stopPropagation();scope.dispatchEvent(startEvent);handleMouseWheel(event);scope.dispatchEvent(endEvent)}function onKeyDown(event){if(scope.enabled===false||scope.enableKeys===false||scope.enablePan===false)return;handleKeyDown(event)}function onTouchStart(event){if(scope.enabled===false)return;switch(event.touches.length){case 1:if(scope.enableRotate===false)return;handleTouchStartRotate(event);state=STATE.TOUCH_ROTATE;break;case 2:if(scope.enableZoom===false)return;handleTouchStartDolly(event);state=STATE.TOUCH_DOLLY;break;case 3:if(scope.enablePan===false)return;handleTouchStartPan(event);state=STATE.TOUCH_PAN;break;default:state=STATE.NONE}if(state!==STATE.NONE){scope.dispatchEvent(startEvent)}}function onTouchMove(event){if(scope.enabled===false)return;event.preventDefault();event.stopPropagation();switch(event.touches.length){case 1:if(scope.enableRotate===false)return;if(state!==STATE.TOUCH_ROTATE)return;handleTouchMoveRotate(event);break;case 2:if(scope.enableZoom===false)return;if(state!==STATE.TOUCH_DOLLY)return;handleTouchMoveDolly(event);break;case 3:if(scope.enablePan===false)return;if(state!==STATE.TOUCH_PAN)return;handleTouchMovePan(event);break;default:state=STATE.NONE}}function onTouchEnd(event){if(scope.enabled===false)return;handleTouchEnd(event);scope.dispatchEvent(endEvent);state=STATE.NONE}function onContextMenu(event){if(scope.enabled===false)return;event.preventDefault()}scope.domElement.addEventListener("contextmenu",onContextMenu,false);scope.domElement.addEventListener("mousedown",onMouseDown,false);scope.domElement.addEventListener("wheel",onMouseWheel,false);scope.domElement.addEventListener("touchstart",onTouchStart,false);scope.domElement.addEventListener("touchend",onTouchEnd,false);scope.domElement.addEventListener("touchmove",onTouchMove,false);window.addEventListener("keydown",onKeyDown,false);this.update()};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE.OrbitControls;Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(value){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!value}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");return!this.enableRotate},set:function(value){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!value}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(value){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!value}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");return!this.enableKeys},set:function(value){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!value}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(value){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!value}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");return this.dampingFactor},set:function(value){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=value}}})},function(module,exports,__webpack_require__){__webpack_require__(0);AFRAME.registerComponent("orbit-controls",{dependencies:["camera"],schema:{autoRotate:{type:"boolean"},autoRotateSpeed:{default:2},dampingFactor:{default:.1},enabled:{default:true},enableDamping:{default:true},enableKeys:{default:true},enablePan:{default:true},enableRotate:{default:true},enableZoom:{default:true},initialPosition:{type:"vec3"},keyPanSpeed:{default:7},minAzimuthAngle:{type:"number",default:Infinity},maxAzimuthAngle:{type:"number",default:Infinity},maxDistance:{default:1e3},maxPolarAngle:{default:AFRAME.utils.device.isMobile()?90:120},minDistance:{default:1},minPolarAngle:{default:0},minZoom:{default:0},panSpeed:{default:1},rotateSpeed:{default:.05},screenSpacePanning:{default:false},target:{type:"vec3"},zoomSpeed:{default:.5}},init:function(){var el=this.el;this.controls=new THREE.OrbitControls(el.getObject3D("camera"),el.sceneEl.renderer.domElement);el.sceneEl.addEventListener("enter-vr",()=>{if(!AFRAME.utils.device.checkHeadsetConnected()&&!AFRAME.utils.device.isMobile()){return}this.controls.enabled=false;if(el.hasAttribute("look-controls")){el.setAttribute("look-controls","enabled",false)}});el.sceneEl.addEventListener("exit-vr",()=>{if(!AFRAME.utils.device.checkHeadsetConnected()&&!AFRAME.utils.device.isMobile()){return}this.controls.enabled=true;if(el.hasAttribute("look-controls")){el.setAttribute("look-controls","enabled",false)}});document.body.style.cursor="grab";document.addEventListener("mousedown",()=>{document.body.style.cursor="grabbing"});document.addEventListener("mouseup",()=>{document.body.style.cursor="grab"});this.target=new THREE.Vector3;el.getObject3D("camera").position.copy(this.data.initialPosition);if(el.hasAttribute("look-controls")){el.setAttribute("look-controls","enabled",false)}},update:function(oldData){var controls=this.controls;var data=this.data;controls.target=this.target.copy(data.target);controls.autoRotate=data.autoRotate;controls.autoRotateSpeed=data.autoRotateSpeed;controls.dampingFactor=data.dampingFactor;controls.enabled=data.enabled;controls.enableDamping=data.enableDamping;controls.enableKeys=data.enableKeys;controls.enablePan=data.enablePan;controls.enableRotate=data.enableRotate;controls.enableZoom=data.enableZoom;controls.keyPanSpeed=data.keyPanSpeed;controls.maxPolarAngle=THREE.Math.degToRad(data.maxPolarAngle);controls.maxDistance=data.maxDistance;controls.minDistance=data.minDistance;controls.minPolarAngle=THREE.Math.degToRad(data.minPolarAngle);controls.minZoom=data.minZoom;controls.panSpeed=data.panSpeed;controls.rotateSpeed=data.rotateSpeed;controls.screenSpacePanning=data.screenSpacePanning;controls.zoomSpeed=data.zoomSpeed},tick:function(){var controls=this.controls;var data=this.data;if(!data.enabled){return}if(controls.enableDamping||controls.autoRotate){this.controls.update()}}})}]);

document.addEventListener("template_done", function() {
    // HOME button functionality
    var camera = document.getElementById("camera");
    var homeButton = document.getElementById("home_button");
    if (homeButton != null) {
        homeButton.addEventListener("click", function() {
            camera.setAttribute("position", "0 0 0");
        });
    }

/**
 * My first component, it changes the sky
 */
AFRAME.registerComponent ('cursor-listener', {
    init: function() {
        this.el.addEventListener('click', function(event) {
            var sky = document.getElementById("sky");
            if (sky.getAttribute('src') == "#home") {
                sky.setAttribute('src', '#everest');
            } else {
                sky.setAttribute('src', '#home');
            }
        });
    }
});

/**
 * this component is used to change camera position, allowing for movement around the world
 * syntax in HTML: <a-sth change-position=' position : x y z' > </a-sth>
 * when the position atttribute is left out, the camera position will be changed to that of element
 */
AFRAME.registerComponent ('change-position', {
    schema: {
        position: {type: 'string', default: ''}
    },
    init: function() {
        var data = this.data;
        var el = this.el;
        position = el.getAttribute('position');
        this.el.addEventListener('click', function(event) {
            var camera = document.getElementById('camera');
            var desired_position;
            if (data.position != "") {
                desired_position = data.position;
            } else { // action when no coordinates provided
                desired_position = el.getAttribute("position");
            }
            if (desired_position == camera.getAttribute('position')) {
                return;
            }

            var blinkTeleportationEls = document.querySelectorAll('[change-position]');
            for (var i = 0; i < blinkTeleportationEls.length; i++) {
                // RESET THE CLICKABLE VALUE FOR ALL THE BLINK-TELEPORTATION ELEMENTS
                blinkTeleportationEls[i].setAttribute('class', 'clickable');
                // THEN MAKE ONLY THE SELECTED BLINK-TELEPORTATION ELEMENT NOT-CLICKABLE
                el.setAttribute('class', 'not-clickable');
            }

            camera.setAttribute('position', desired_position);

            // TRYING ANIMATION TODO
            var animation = document.createElement("a-animation");
            animation.setAttribute("attribute","position");
            animation.setAttribute("to",desired_position);
            animation.setAttribute("dur","2000");
            animation.setAttribute("easing","linear");
            camera.appendChild(animation);
        });
    }
});

/** 
 * clickable component for popup window
*/
AFRAME.registerComponent ('info-window', {
    schema: {
        window_id: {type: 'string', default: ''}
    },
    update: function() {
        if (!this.el.classList.contains("clickable")) this.el.classList.toggle('clickable');
        //var raycasterEl = document.getElementById("a-scene").querySelector('[raycaster]');
        //raycasterEl.components.raycaster.refreshObjects();
        // SIMPLY WILL NOT WORK !!! :D
        //var raycaster = document.getElementById("raycaster");
        //if (raycaster != null) {
            //document.querySelector("a-scene").removeChild(raycaster);
            //raycaster.setAttribute("raycaster", "objects: .clickable");
            //document.querySelector("a-scene").appendChild(raycaster);
        //}
        var window_id = this.data.window_id;
        this.el.addEventListener('click', function() {
            if (document.getElementById(window_id) == null) return;
            open_popup(window_id, false);
            // find out if there is gallery
            var window = document.getElementById(window_id);
            var galleries = window.getElementsByClassName("popup_body")[0].getElementsByClassName("gallery_wrapper");
            for (const gallery of galleries) {
                init_gallery(gallery); // function in gallery control
            }
        });
    }
});

/**
 * For loading screen to know when to end.
 */
AFRAME.registerComponent('big_model', {
    init: function() {
       this.el.addEventListener('model-loaded', e => {
           document.querySelector("#loading_screen").remove();
           console.log("Should see model");
       });
       this.el.addEventListener("model-progress", e => {
        console.log(e.progress)
      });
       this.el.addEventListener('model-error', e => {
        //document.querySelector("#loading_screen").remove();
        console.log("Error in loading model");
        });
    }
 });



/**
 * Autoscaling component - centers gltf model and scales it.
 * If you use it, note that rotation has to be inserted via this component.
 */
AFRAME.registerComponent('autoscale', {
    schema: {
        scale: {
            type: 'number', default: 1
        },
        rotation: {
            type: 'vec3', default: "0 0 0"
        }
    },
    init: function () {
      this.scale();
      this.el.addEventListener('object3dset', () => this.scale());
    },
    scale: function () {
      const el = this.el;
      const span = this.data.scale;
      const rotation = this.data.rotation;
      const mesh = el.getObject3D('mesh');
  
      if (!mesh) return;
      // Rotation - IN RADIANS!!
      mesh.rotation.set(degToRad(rotation.x), degToRad(rotation.y), degToRad(rotation.z));
      //mesh.rotation.set(-Math.PI/2, 0, Math.PI*0.61);
      // Compute bounds.
      const bbox = new THREE.Box3().setFromObject(mesh);
  
      // Normalize scale.
      const scale = span / bbox.getSize().length();
      mesh.scale.set(scale, scale, scale);
      //mesh.rotation.set(90, 0, 35);
  
      // Recenter.
      const offset = bbox.getCenter().multiplyScalar(scale);
      mesh.position.sub(offset);
    }
  });

});

function degToRad(degrees)
{
  return degrees * (Math.PI/180);
}


/**
 * Gets the string representing position and rotation if specified of given aframe entity.
 * @param {*} entity aframe entity
 * @param {Boolean} rotation if you want to get rotation
 */
function get_entity_position_string(entity, rotation) {
    var posrot = "";
    var pos = entity.getAttribute("position");
    if (pos == null) return posrot;
    posrot = toFixedTruncate(pos.x, 3) + " " + toFixedTruncate(pos.y, 3) + " " + toFixedTruncate(pos.z, 3);
    if (rotation) {
        var rot_x = entity.components['touch-controls'].pitchObject.rotation.x;
        var rot_y = entity.components['touch-controls'].yawObject.rotation.y;
        posrot += " " + toFixedTruncate(rot_x, 3) + " " + toFixedTruncate(rot_y, 3);
    }
    return posrot;
}
function choose_model(event, model_scale, model_rotation) {
    var model_src = document.forms["selection_form"]["model"].value;
    if (model_src == "") return false;
    //var model = '<a-entity gltf-model="'+ model_src +'" id="gltf_model" big_model autoscale=" scale:'+ model_scale + '; rotation: '+ model_rotation +'"></a-entity>';
    var model = document.createElement("a-entity"); // TODO
    model.setAttribute("gltf-model", model_src);
    model.setAttribute("id", "gltf_model");
    model.setAttribute("big_model", "");
    model.setAttribute("autoscale", 'scale:'+ model_scale + '; rotation: '+ model_rotation);
    document.querySelector("a-scene").appendChild(model);
    // hide away
    var form = document.getElementById("model_choices");
    form.parentElement.removeChild(form);
    return false;
}
// copy of nippleJS library
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.nipplejs=t()}}(function(){function t(){}function e(t,i){return this.identifier=i.identifier,this.position=i.position,this.frontPosition=i.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body},this.config(i),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=e.id,e.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}function i(t,e){var n=this;return n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=t,n.id=i.id,i.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5},n.config(e),"static"!==n.options.mode&&"semi"!==n.options.mode||(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}function n(t){var e=this;e.ids={},e.index=0,e.collections=[],e.config(t),e.prepareCollections();var i;return c.bindEvt(window,"resize",function(t){clearTimeout(i),i=setTimeout(function(){var t,i=c.getScroll();e.collections.forEach(function(e){e.forEach(function(e){t=e.el.getBoundingClientRect(),e.position={x:i.x+t.left,y:i.y+t.top}})})},100)}),e.collections}var o,r=!!("ontouchstart"in window),s=!!window.PointerEvent,d=!!window.MSPointerEvent,a={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},p={};s?o=a.pointer:d?o=a.MSPointer:r?(o=a.touch,p=a.mouse):o=a.mouse;var c={};c.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},c.angle=function(t,e){var i=e.x-t.x,n=e.y-t.y;return c.degrees(Math.atan2(n,i))},c.findCoord=function(t,e,i){var n={x:0,y:0};return i=c.radians(i),n.x=t.x-e*Math.cos(i),n.y=t.y-e*Math.sin(i),n},c.radians=function(t){return t*(Math.PI/180)},c.degrees=function(t){return t*(180/Math.PI)},c.bindEvt=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent(n,i)},c.unbindEvt=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.removeEventListener?t.removeEventListener(n,i):t.detachEvent&&t.detachEvent(n,i)},c.trigger=function(t,e,i){var n=new CustomEvent(e,i);t.dispatchEvent(n)},c.prepareEvent=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},c.getScroll=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},c.applyPosition=function(t,e){e.x&&e.y?(t.style.left=e.x+"px",t.style.top=e.y+"px"):(e.top||e.right||e.bottom||e.left)&&(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left)},c.getTransitionStyle=function(t,e,i){var n=c.configStylePropertyObject(t);for(var o in n)if(n.hasOwnProperty(o))if("string"==typeof e)n[o]=e+" "+i;else{for(var r="",s=0,d=e.length;s<d;s+=1)r+=e[s]+" "+i+", ";n[o]=r.slice(0,-2)}return n},c.getVendorStyle=function(t,e){var i=c.configStylePropertyObject(t);for(var n in i)i.hasOwnProperty(n)&&(i[n]=e);return i},c.configStylePropertyObject=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach(function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""}),e},c.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},c.safeExtend=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)?i[n]=e[n]:t.hasOwnProperty(n)&&(i[n]=t[n]);return i},c.map=function(t,e){if(t.length)for(var i=0,n=t.length;i<n;i+=1)e(t[i]);else e(t)},t.prototype.on=function(t,e){var i,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var r=0;r<o.length;r+=1)i=o[r],n._handlers_[i]=n._handlers_[i]||[],n._handlers_[i].push(e);return n},t.prototype.off=function(t,e){var i=this;return i._handlers_=i._handlers_||{},void 0===t?i._handlers_={}:void 0===e?i._handlers_[t]=null:i._handlers_[t]&&i._handlers_[t].indexOf(e)>=0&&i._handlers_[t].splice(i._handlers_[t].indexOf(e),1),i},t.prototype.trigger=function(t,e){var i,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var r=0;r<o.length;r+=1)i=o[r],n._handlers_[i]&&n._handlers_[i].length&&n._handlers_[i].forEach(function(t){t.call(n,{type:i,target:n},e)})},t.prototype.config=function(t){var e=this;e.options=e.defaults||{},t&&(e.options=c.safeExtend(e.options,t))},t.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},c.bindEvt(t,o[e],i._domHandlers_[e]),p[e]&&c.bindEvt(t,p[e],i._domHandlers_[e]),i},t.prototype.unbindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},c.unbindEvt(t,o[e],i._domHandlers_[e]),p[e]&&c.unbindEvt(t,p[e],i._domHandlers_[e]),delete i._domHandlers_[e],this},e.prototype=new t,e.constructor=e,e.id=0,e.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},e.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=c.getVendorStyle("borderRadius","50%"),i=c.getTransitionStyle("transition","opacity",t),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},c.extend(n.el,i),c.extend(n.back,e),c.extend(n.front,e),this.applyStyles(n),this},e.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},e.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},e.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},e.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},e.prototype.show=function(t){var e=this;return e.options.dataOnly?e:(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout(function(){e.ui.el.style.opacity=1},0),e.showTimeout=setTimeout(function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)},e.options.fadeTime),e)},e.prototype.hide=function(t){var e=this;return e.options.dataOnly?e:(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout(function(){var i="dynamic"===e.options.mode?"none":"block";e.ui.el.style.display=i,"function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)},e.options.fadeTime),e.options.restJoystick&&e.restPosition(),e)},e.prototype.restPosition=function(t){var e=this;e.frontPosition={x:0,y:0};var i=e.options.fadeTime+"ms",n={};n.front=c.getTransitionStyle("transition",["top","left"],i);var o={front:{}};o.front={left:e.frontPosition.x+"px",top:e.frontPosition.y+"px"},e.applyStyles(n),e.applyStyles(o),e.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},e.prototype.restCallback=function(){var t=this,e={};e.front=c.getTransitionStyle("transition","none",""),t.applyStyles(e),t.trigger("rested",t.instance)},e.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},e.prototype.computeDirection=function(t){var e,i,n,o=t.angle.radian,r=Math.PI/4,s=Math.PI/2;if(e=o>r&&o<3*r?"up":o>-r&&o<=r?"left":o>3*-r&&o<=-r?"down":"right",i=o>-s&&o<s?"left":"right",n=o>0?"up":"down",t.force>this.options.threshold){var d={};for(var a in this.direction)this.direction.hasOwnProperty(a)&&(d[a]=this.direction[a]);var p={};this.direction={x:i,y:n,angle:e},t.direction=this.direction;for(var a in d)d[a]===this.direction[a]&&(p[a]=!0);if(p.x&&p.y&&p.angle)return t;p.x&&p.y||this.trigger("plain",t),p.x||this.trigger("plain:"+i,t),p.y||this.trigger("plain:"+n,t),p.angle||this.trigger("dir dir:"+e,t)}return t},i.prototype=new t,i.constructor=i,i.id=0,i.prototype.prepareNipples=function(){var t=this,e=t.nipples;e.on=t.on.bind(t),e.off=t.off.bind(t),e.options=t.options,e.destroy=t.destroy.bind(t),e.ids=t.ids,e.id=t.id,e.processOnMove=t.processOnMove.bind(t),e.processOnEnd=t.processOnEnd.bind(t),e.get=function(t){if(void 0===t)return e[0];for(var i=0,n=e.length;i<n;i+=1)if(e[i].identifier===t)return e[i];return!1}},i.prototype.bindings=function(){var t=this;t.bindEvt(t.options.zone,"start"),t.options.zone.style.touchAction="none",t.options.zone.style.msTouchAction="none"},i.prototype.begin=function(){var t=this,e=t.options;if("static"===e.mode){var i=t.createNipple(e.position,t.manager.getIdentifier());i.add(),t.idles.push(i)}},i.prototype.createNipple=function(t,i){var n=this,o=c.getScroll(),r={},s=n.options;if(t.x&&t.y)r={x:t.x-(o.x+n.box.left),y:t.y-(o.y+n.box.top)};else if(t.top||t.right||t.bottom||t.left){var d=document.createElement("DIV");d.style.display="hidden",d.style.top=t.top,d.style.right=t.right,d.style.bottom=t.bottom,d.style.left=t.left,d.style.position="absolute",s.zone.appendChild(d);var a=d.getBoundingClientRect();s.zone.removeChild(d),r=t,t={x:a.left+o.x,y:a.top+o.y}}var p=new e(n,{color:s.color,size:s.size,threshold:s.threshold,fadeTime:s.fadeTime,dataOnly:s.dataOnly,restJoystick:s.restJoystick,restOpacity:s.restOpacity,mode:s.mode,identifier:i,position:t,zone:s.zone,frontPosition:{x:0,y:0}});return s.dataOnly||(c.applyPosition(p.ui.el,r),c.applyPosition(p.ui.front,p.frontPosition)),n.nipples.push(p),n.trigger("added "+p.identifier+":added",p),n.manager.trigger("added "+p.identifier+":added",p),n.bindNipple(p),p},i.prototype.updateBox=function(){var t=this;t.box=t.options.zone.getBoundingClientRect()},i.prototype.bindNipple=function(t){var e,i=this,n=function(t,n){e=t.type+" "+n.id+":"+t.type,i.trigger(e,n)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},i.prototype.pressureFn=function(t,e,i){var n=this,o=0;clearInterval(n.pressureIntervals[i]),n.pressureIntervals[i]=setInterval(function(){var i=t.force||t.pressure||t.webkitForce||0;i!==o&&(e.trigger("pressure",i),n.trigger("pressure "+e.identifier+":pressure",i),o=i)}.bind(n),100)},i.prototype.onstart=function(t){var e=this,i=e.options;t=c.prepareEvent(t),e.updateBox();var n=function(t){e.actives.length<i.maxNumberOfNipples&&e.processOnStart(t)};return c.map(t,n),e.manager.bindDocument(),!1},i.prototype.processOnStart=function(t){var e,i=this,n=i.options,o=i.manager.getIdentifier(t),r=t.force||t.pressure||t.webkitForce||0,s={x:t.pageX,y:t.pageY},d=i.getOrCreate(o,s);d.identifier!==o&&i.manager.removeIdentifier(d.identifier),d.identifier=o;var a=function(e){e.trigger("start",e),i.trigger("start "+e.id+":start",e),e.show(),r>0&&i.pressureFn(t,e,e.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(d))>=0&&i.idles.splice(e,1),i.actives.push(d),i.ids.push(d.identifier),"semi"!==n.mode)a(d);else{if(!(c.distance(s,d.position)<=n.catchDistance))return d.destroy(),void i.processOnStart(t);a(d)}return d},i.prototype.getOrCreate=function(t,e){var i,n=this,o=n.options;return/(semi|static)/.test(o.mode)?(i=n.idles[0])?(n.idles.splice(0,1),i):"semi"===o.mode?n.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=n.createNipple(e,t)},i.prototype.processOnMove=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),o=e.nipples.get(n);if(!o)return console.error("Found zombie joystick with ID "+n),void e.manager.removeIdentifier(n);o.identifier=n;var r=o.options.size/2,s={x:t.pageX,y:t.pageY},d=c.distance(s,o.position),a=c.angle(s,o.position),p=c.radians(a),l=d/r;d>r&&(d=r,s=c.findCoord(o.position,d,a)),o.frontPosition={x:s.x-o.position.x,y:s.y-o.position.y},i.dataOnly||c.applyPosition(o.ui.front,o.frontPosition);var u={identifier:o.identifier,position:s,force:l,pressure:t.force||t.pressure||t.webkitForce||0,distance:d,angle:{radian:p,degree:a},instance:o};u=o.computeDirection(u),u.angle={radian:c.radians(180-a),degree:180-a},o.trigger("move",u),e.trigger("move "+o.id+":move",u)},i.prototype.processOnEnd=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),o=e.nipples.get(n),r=e.manager.removeIdentifier(o.identifier);o&&(i.dataOnly||o.hide(function(){"dynamic"===i.mode&&(o.trigger("removed",o),e.trigger("removed "+o.id+":removed",o),e.manager.trigger("removed "+o.id+":removed",o),o.destroy())}),clearInterval(e.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),e.trigger("end "+o.id+":end",o),e.ids.indexOf(o.identifier)>=0&&e.ids.splice(e.ids.indexOf(o.identifier),1),e.actives.indexOf(o)>=0&&e.actives.splice(e.actives.indexOf(o),1),/(semi|static)/.test(i.mode)?e.idles.push(o):e.nipples.indexOf(o)>=0&&e.nipples.splice(e.nipples.indexOf(o),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[r.id]=r.identifier))},i.prototype.onDestroyed=function(t,e){var i=this;i.nipples.indexOf(e)>=0&&i.nipples.splice(i.nipples.indexOf(e),1),i.actives.indexOf(e)>=0&&i.actives.splice(i.actives.indexOf(e),1),i.idles.indexOf(e)>=0&&i.idles.splice(i.idles.indexOf(e),1),i.ids.indexOf(e.identifier)>=0&&i.ids.splice(i.ids.indexOf(e.identifier),1),i.manager.removeIdentifier(e.identifier),i.manager.unbindDocument()},i.prototype.destroy=function(){var t=this;t.unbindEvt(t.options.zone,"start"),t.nipples.forEach(function(t){t.destroy()});for(var e in t.pressureIntervals)t.pressureIntervals.hasOwnProperty(e)&&clearInterval(t.pressureIntervals[e]);t.trigger("destroyed",t.nipples),t.manager.unbindDocument(),t.off()},n.prototype=new t,n.constructor=n,n.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every(function(t){return!(i=t.get(e))}),i}},n.prototype.create=function(t){return this.createCollection(t)},n.prototype.createCollection=function(t){var e=this,n=new i(e,t);return e.bindCollection(n),e.collections.push(n),n},n.prototype.bindCollection=function(t){var e,i=this,n=function(t,n){e=t.type+" "+n.id+":"+t.type,i.trigger(e,n)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",n),t.on("dir:up dir:right dir:down dir:left",n),t.on("plain:up plain:right plain:down plain:left",n)},n.prototype.bindDocument=function(){var t=this;t.binded||(t.bindEvt(document,"move").bindEvt(document,"end"),t.binded=!0)},n.prototype.unbindDocument=function(t){var e=this;Object.keys(e.ids).length&&!0!==t||(e.unbindEvt(document,"move").unbindEvt(document,"end"),e.binded=!1)},n.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},n.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},n.prototype.onmove=function(t){return this.onAny("move",t),!1},n.prototype.onend=function(t){return this.onAny("end",t),!1},n.prototype.onAny=function(t,e){var i,n=this,o="processOn"+t.charAt(0).toUpperCase()+t.slice(1);e=c.prepareEvent(e);var r=function(t,e,i){i.ids.indexOf(e)>=0&&(i[o](t),t._found_=!0)},s=function(t){i=n.getIdentifier(t),c.map(n.collections,r.bind(null,t,i)),t._found_||n.removeIdentifier(i)};return c.map(e,s),!1},n.prototype.destroy=function(){var t=this;t.unbindDocument(!0),t.ids={},t.index=0,t.collections.forEach(function(t){t.destroy()}),t.off()},n.prototype.onDestroyed=function(t,e){var i=this;if(i.collections.indexOf(e)<0)return!1;i.collections.splice(i.collections.indexOf(e),1)};var l=new n;return{create:function(t){return l.create(t)},factory:l}});

const style = "position:fixed;display:block;width:100px;height:100px;right:1rem;bottom:4rem;background-color:#c8c8c880;z-index:20"

function initJoystick() {
  // create element
  let d = document.createElement("DIV");
  d.setAttribute("id","joystick");
  //d.setAttribute("style",style)
  document.querySelector("body").appendChild(d)

  // create text overlay
  var p = document.createElement("p")
  p.setAttribute("style","text-align: center;margin-top:45px;font-size:12px; font-family:Arial; opacity:.5;");
  p.innerHTML="Joystick"
  d.appendChild(p)
  var joystickEvent = new CustomEvent("joystick-created", { "detail": "Joystick has been created" });
  // Dispatch/Trigger/Fire the event
  document.dispatchEvent(joystickEvent);

}

var moveData ="";

// create standard NipplesJS joystick
function createJoystick() {
  initJoystick()
  var options= {
    mode: 'dynamic',
    zone: document.getElementById('joystick'),
    color: "#0F0000",
    fadeTime: 10
  }

   var manager = nipplejs.create(options);
   bindNipple();

   function bindNipple () {
               manager.on('move', function (evt, data) {
                   moveData = data;
               });
               manager.on('end', function (evt, data) {
                   moveData = "";
               });
             }

  }
  
  //KEYS
  var keys = {
    up: {
      "code" : "ArrowUp",
      "keyCode" : 38
    },
    down: {
      "code" : "ArrowDown",
      "keyCode" : 40
    },
    right : {
      "code" : "ArrowRight",
      "keyCode" : 39
    },
    left : {
      "code" : "ArrowLeft",
      "keyCode" : 37
    }
  }

  var previous; // control variable -- for avoiding too many listeners

  function updatePosition(data) {
    f = data.force;
    ang = data.angle.radian
    cam = document.getElementById("camera");
    // switch by angles -- emiting events
    
    if (ang >= 7*Math.PI/4 || ang <= Math.PI/4) {
      if (previous != "right") {
        previous = "right";
        myKeyEvent("keydown", keys.right); // right
        keyupOtherKeys("ArrowRight");
      }
      
    } else if (ang <= 3*Math.PI/4) { 
      if (previous != "up") {
        previous = "up";
        myKeyEvent("keydown", keys.up); // up
        keyupOtherKeys("ArrowUp");
      }
    } else if (ang <= Math.PI*(5/4)) {
      if (previous != "left") {
        previous = "left";
        myKeyEvent("keydown", keys.left); // left
        keyupOtherKeys("ArrowLeft");
      }
      
    } else {
      if (previous != "down") {
        previous = "down";
        myKeyEvent("keydown", keys.down); // down
        keyupOtherKeys("ArrowDown");
      }
      
    }

    

    /*x_vec = Math.cos(ang + 3.14/180*cam.getAttribute('rotation')['y']) ;
    y_vec = Math.sin(ang + 3.14/180*cam.getAttribute('rotation')['y']) ;

    x = cam.getAttribute("position")["x"] + f/15*(x_vec ) ;
    y = cam.getAttribute("position")["y"]
    z = cam.getAttribute("position")["z"] - f/15*(y_vec ) ;

    cam.setAttribute("position",`${x} ${y} ${z}`)*/
  }


  var switc = false;

  AFRAME.registerComponent('joystick', {
    init: function() { 
      createJoystick();
    },
    tick: function (time, timeDelta) {
      if (moveData != "") {
        switc = true
        updatePosition(moveData)
      } else {
        if (switc) {
          switc = false;
          keyupOtherKeys("none");
          previous = "none";
        }
        
      }
    }
  });

  /**
   * 
   * @param {*} type of key event - keyup or keydown
   * @param {*} key {code: "", keyCode: ""}
   */
  function myKeyEvent(type, key) {
    document.dispatchEvent(new KeyboardEvent(type, {altKey:false,
      bubbles: true,
      cancelBubble: false, 
      cancelable: true,
      charCode: 0,
      code: key.code,
      composed: true,
      ctrlKey: false,
      currentTarget: null,
      defaultPrevented: true,
      detail: 0,
      eventPhase: 0,
      isComposing: false,
      isTrusted: true,
      key: "Enter",
      keyCode: key.keyCode,
      location: 0,
      metaKey: false,
      repeat: false,
      returnValue: false,
      shiftKey: false,
      type: type,
      which: key.keyCode}));
  }

  /**
   * Keys up all the keys from var keys apart for the one specified
   * @param {*} thisKey code of key
   */
  function keyupOtherKeys(thisKey) {
    Object.keys(keys).forEach(function(key) {
      if (keys[key].code != thisKey)
        myKeyEvent("keyup", keys[key]);
    });
  }
/* MAIN */
/*document.addEventListener("template_done", function () {

    // listen for click of gallery button
    // to the right click
    var buttons = document.getElementsByClassName("gal_right_click");
    for (var i = 0; i < buttons.length; ++i) {
        buttons[i].addEventListener("click", right_click, false);
    }
    // to the left
    var buttons = document.getElementsByClassName("gal_left_click");
    for (var i = 0; i < buttons.length; ++i) {
        buttons[i].addEventListener("click", left_click, false);
    }

    // listen for buttons swipes (hammer.js) etc --  TODO after the whole gallery is working

    var enlarge_icons = document.getElementsByClassName("enlarge_icon");
    
    for (var i = 0; i < enlarge_icons.length; ++i) {
        enlarge_icons[i].addEventListener("click", enlarge);
    }
});*/

function build_gallery(gallery_obj) {
    var oReq = new XMLHttpRequest();
    var json;
    oReq.onload = function () {
        json = JSON.parse(this.responseText);
        //console.log("json length " + json.length);
        if (Object.values(json).length == 0) {
            console.log("Empty gallery " + gallery_obj.json_gallery_src);
            return;
        }
        put_template_to_html(gallery_obj, "#"+gallery_obj.parent_id + " .popup_body", Handlebars.templates.gallery);
        create_gallery(gallery_obj.parent_id, json, gallery_obj.json_gallery_src, gallery_obj.has_full_size_version);
    }
    oReq.onerror = function () { console.log('Fetch Error', err); };
    oReq.open('get', gallery_obj.json_gallery_src + '/dir_list.json', true);
    oReq.send();
}

/**
 * Creates gallery. It takes care of creating HTML representation of it, loading json, setting everything up.
 * Note: the gallery representation in A-Frame is done by create_popup() function -- below
 * @param {*} gal_id
 * @param {*} gal_json 
 */
function create_gallery(gal_id, gal_json, json_gallery_src, has_full_size_version) {
    let i = 0;
    let gal_count = 0; // do not know if correct
    var main_gal_div = document.getElementById("gal_wrapper" + gal_id);
    for (var src in gal_json) {
        ++gal_count;
        // make div wrapping the image -- should be numbered - variable for incrementing
        var wrap_div = document.createElement("div");

        // number will be in format 001 010 100 etc.
        prepend = calc_prepend(i);
        wrap_div.setAttribute("id", "gal_wrapper" + gal_id + prepend + i); // numbered id
        wrap_div.setAttribute("class", "image_wrapper");
        // make image with lazy loading stuff
        var image = document.createElement("img");
        var lazy_src = json_gallery_src + "/" +src;
        image.setAttribute("lazy-src", lazy_src);

        //for image enlarging upon click
        // find out if full sized
        var a = document.createElement("a");
        a.setAttribute("target", "_blank");
        if (has_full_size_version) {
            a.setAttribute("href", json_gallery_src + "/full/" +src);
        } else {
            a.setAttribute("href", lazy_src);
        }

        // make description
        var description = document.createElement("p");
        description.innerHTML = gal_json[src];
        // append wrapping div to main wrapping div, append image and description to it
        a.appendChild(image);
        wrap_div.appendChild(a);
        wrap_div.appendChild(description);
        try {
            main_gal_div.appendChild(wrap_div);
        } catch (Error) { console.log("Trying to append gallery to a yet nonexistent element"); return;}
        
        // lazy loading itself handled in right click function
        ++i;
    }
    // set gallery counter
    let count_vis = document.getElementById("g_num" + gal_id);
    count_vis.querySelector('.total').innerHTML = "/" + gal_count;

    // listeners
}

/**
 * Initialises the gallery when user clicks on button in Aframe.
 * If you intend to use the gallery on its own you have to call this function manually
 * @param {*} gallery_wrapper 
 */
function init_gallery(gallery_wrapper) {
    // WHAT I CALL IMG ARE ACTUALLY WRAPPERS OF IMG
    // load first two images
    var img_wrapper1 = document.getElementById(gallery_wrapper.id + "000");
    var img_wrapper2 = document.getElementById(gallery_wrapper.id + "001");
    
    set_src(img_wrapper1);
    if (img_wrapper2 != null) set_src(img_wrapper2);
    // deactivate image before
    try {
        (document.getElementsByClassName("active_img"))[0].classList.remove("active_img");
    } catch (error) {}
    
    // add active class to the currently visible picture (number 0)
    img_wrapper1.classList.add("active_img");
    document.onkeydown = track_keys;

    // set counter to one
    gallery_wrapper.querySelector(".current_img").innerHTML = "1";
}

/**
 * For sliding images using arrows.
 * @param {*} event 
 */
function track_keys(event) {
    event.stopPropagation();
    switch (event.key) {
        case "ArrowLeft":
            left_click();
            break;
        case "ArrowRight":
            right_click();
            break;
    }
}

/**
 * Sets src to image and loads it
 * @param {*} img_wrapper 
 */
function set_src(img_wrapper) {
    var lazy_src = img_wrapper.children[0].children[0].getAttribute("lazy-src");
    img_wrapper.children[0].children[0].setAttribute("src", lazy_src);
}

/**
 * Takes care of sliding images and lazy loading new ones.
 * @param {Event} e 
 */
function right_click() {
    // get current active image
    var previous_active = document.getElementsByClassName("active_img")[0];
    var id = previous_active.id;
    var clean_id = id.slice(0, -3);
    var no_id = id.slice(-3, id.length);
    var no = parseInt(no_id, 10);
    // check if this is the last image
    if (document.getElementById(clean_id + int2prepString((++no))) == undefined) {
        return;
    }
    // chage, what is displayed on the image count
    previous_active.parentElement.querySelector(".current_img").innerHTML = no + 1;
    // set new active
    previous_active.classList.remove("active_img");
    document.getElementById(clean_id + int2prepString((no))).classList.add("active_img");
    // load new image if it exists
    if (document.getElementById(clean_id + int2prepString((++no))) == undefined) {
        return;
    }
    set_src(document.getElementById(clean_id + int2prepString((no))));
}

/**
 * The other way to right click
 */
function left_click() {
    // get current active image
    var previous_active = document.getElementsByClassName("active_img")[0];
    
    var id = previous_active.id;
    var clean_id = id.slice(0, -3);
    var no_id = id.slice(-3, id.length);
    var no = parseInt(no_id, 10);
    // set new active if exists
    if (document.getElementById(clean_id + int2prepString((--no))) == undefined) {
        return;
    }
    // chage, what is displayed on the image count
    previous_active.parentElement.querySelector(".current_img").innerHTML = no + 1;
    previous_active.classList.remove("active_img");
    document.getElementById(clean_id + int2prepString((no))).classList.add("active_img");
}

/**
 * Enlarges gallery
 */
function enlarge() {
    var galleries = document.getElementsByClassName("gallery_wrapper");
    for (var i = 0; i < galleries.length; ++i) {
        var popup = galleries[i].parentElement.parentElement;
        var icon = document.getElementsByClassName("enlarge_icon");
        if (popup.classList.contains("enlarged")) {
            popup.classList.remove("enlarged");
            // make icon small
            
            //for (var l = 0; l < icon.length; ++l)
            icon[i].src = "../../control_graphic/maximize.png";
        } else {
            popup.classList.add("enlarged");
            //for (var l = 0; l < icon.length; ++l)
            icon[i].src =  "../../control_graphic/minimize.png";
        }
    }
}

/* SMALL UTILITY FUNCTIONS */

/**
 * Simple function that determines how many zeroes to prepend before 
 * a number to get it in format: 001 010 100 etc.
 * @param {Integer} i 
 */
function calc_prepend(i) {
    if (i < 10) {
        return "00";
    } else if (i < 100) {
        return "0";
    }
    return "";
}
/**
 * Takes in integer and returns string in format 001 010 100
 * @param {Integer} i 
 * @returns String
 */
function int2prepString(i) {
    return calc_prepend(i) + i;
}

/**
 * Makes roman number out of an integer. I am using it for counting descriptions
 * @param {*} num 
 */
function romanize(num) {
    var lookup = {M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}, roman = '', i;
    for ( i in lookup ) {
        while ( num >= lookup[i] ) {
            roman += i;
            num -= lookup[i];
        }
    }
    return roman + ".";
}

/**
 * Functions used in control panel.
 */

// event listeners for reading values of the control panel
document.addEventListener("template_done", function () {
    document.getElementById("control_trigger").addEventListener("click", trigger_menu);
    document.getElementById("change_visibility").addEventListener("change", change_popup_visibility);
    document.getElementById("switch_gyro").addEventListener("change", switch_gyroscope);
    //document.getElementById(); TODO -- change velocity
    document.getElementById("copy_pos").addEventListener("click", copy_position_rotation);
    document.getElementById("goto_pos").addEventListener("click", go_to_position);
    register_enter();
    register_help();
});

/**
 * Menu sliding
 */
function trigger_menu() {
    var trigger = document.getElementById("control_trigger");
    var panel = document.getElementById("control_panel");
    if (panel.classList.contains("triggered")) {
        trigger.classList.remove("triggered");
        panel.classList.remove("triggered");
        trigger.setAttribute("src", "../../control_graphic/right.png");
    } else {
        trigger.classList.add("triggered");
        panel.classList.add("triggered");
        trigger.setAttribute("src", "../../control_graphic/back_icon.png");
    }
}

/**
 * Implements the functionality of making descriptions in A-Frame invisible/visible
 */
function change_popup_visibility() {
    var popups = document.getElementsByClassName("clickable");
    if (popups[0].getAttribute("visible") == false) {
        for (var i = 0; i < popups.length; ++i) {
            popups[i].setAttribute("visible", true);
        }
    } else {
        for (var i = 0; i < popups.length; ++i) {
            popups[i].setAttribute("visible", false);
        }
    }
}

/**
 * Turns gyroscope on mobile on or off. 
 */
function switch_gyroscope() {
    var camera = document.getElementById("camera");
    var properties = camera.getAttribute("touch-controls");
    if (properties.gyroEnabled == true) {
        properties.gyroEnabled = false;
    } else {
       properties.gyroEnabled = true
    }
    camera.setAttribute("touch-controls", properties);
}

/**
 * For changing the velocity of camera.
 * Should be listening to change of speed slider
 */
function change_acceleration(input) {
    var acceleration = input.value;
    document.getElementById("speed_val").innerHTML = acceleration;
    var camera = document.getElementById("camera");
    //var acceleration = camera.getAttribute("wasd-controls");
    //acceleration = parseInt(acceleration.match(/\d+/)[0] );
    //acceleration += delta;
    camera.setAttribute("wasd-controls", " fly:true; acceleration:" + acceleration);
}

/**
 * Copies current camera position.
 * Will be in a listener.
 */
function copy_position_rotation() {
    var posrot = get_entity_position_string(document.getElementById("camera"), true);
    // for copying text into clipboard
    const el = document.createElement('textarea');
    el.value = posrot;
    document.body.appendChild(el);
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
}

/**
 * Helper function for cutting off too long floats.
 * Shortens them to precision and truncates trailing zeroes.
 * @param {*} no 
 * @param {*} precision 
 */
function toFixedTruncate(no, precision) {
    return parseFloat(no.toFixed(precision));
}

/**
 * Enables jump to position specified in a form field
 */
function go_to_position() {
    var camera = document.getElementById("camera");
    var posrot = document.getElementById("user_pos").value;
    var pos_array = posrot.split(" ");
    if (pos_array.length != 5) {
        // wrong input
        // TODO -- upon wrong input tell the user
        return;
    }
    var pos = camera.getAttribute("position");
    newX = parseFloat(pos_array[0]);
    newY = parseFloat(pos_array[1]);
    newZ = parseFloat(pos_array[2]);
    rotX = parseFloat(pos_array[3]);
    rotY = parseFloat(pos_array[4]);
    if (isNaN(newX) || isNaN(newY) || isNaN(newZ) || isNaN(rotX) || isNaN(rotY)) {
        // wrong input
        return;
    }
    pos.x = newX;
    pos.y = newY;
    pos.z = newZ;

    camera.components['touch-controls'].pitchObject.rotation.x = rotX;
    camera.components['touch-controls'].yawObject.rotation.y = rotY;
}

function register_enter() {
    var input = document.getElementById("user_pos");

    // Execute a function when the user releases a key on the keyboard
    input.addEventListener("keyup", function(event) {
        // Number 13 is the "Enter" key on the keyboard
        if (event.keyCode === 13) {
            // Cancel the default action, if needed
            event.preventDefault();
            // Trigger the button element with a click
            document.getElementById("goto_pos").click();
        }
    });
}

/**
 * Adds event listeners to help
 */
function register_help() {
    var help_button = document.getElementById("help");
    help_button.addEventListener("click", function(e) {
        var help = document.getElementById("help_popup");
        if (help.classList.contains("visible")) help.classList.remove("visible");
        else help.classList.add("visible");
    });
}
/**
 * Creates A-frame representation of popup 
 * @param {*} id 
 * @param {*} position in A-Frame
 * @param {*} gallery specifies if it is gallery or simple text popup
 */
function create_popup(id, position, gallery) {
    var ascene = document.querySelector("a-scene");
    var without_number = false;
    var regex = /\d+/;
    var popup_no = id.match(regex);
    if (popup_no == null) {
        without_number = true;
    } else {
        var popup_visual = document.createElement("a-text");
        //popup_no = gallery ? popup_no + "." : romanize(popup_no); // let descriptions have roman numbers
        popup_no = popup_no + ".";
        popup_visual.setAttribute("value", popup_no);
        popup_visual.setAttribute("width", "6");
        popup_visual.setAttribute("align", "center");
        popup_visual.setAttribute("xOffset", "10");
    }
    if (without_number) {
        var popup_visual = document.createElement("a-image");
        popup_visual.setAttribute("width", "0.4");
        popup_visual.setAttribute("height", "0.4");
    }
    popup_visual.setAttribute("look-at", "[camera]");
    popup_visual.setAttribute("color", "white");
    
    popup_visual.setAttribute("id", "rendered" + id);
    popup_visual.setAttribute("class", "clickable");
    popup_visual.setAttribute("info-window", " window_id:" + id);
    popup_visual.setAttribute("position", position);
    
    if (!gallery && without_number)
        popup_visual.setAttribute("src", "../../control_graphic/info_logo.png"); 
    else if  (without_number)
        popup_visual.setAttribute("src", "../../control_graphic/gallery_logo.png");
    ascene.appendChild(popup_visual);
}

function open_popup(window_id, do_not_close) {
    if (!do_not_close) {
        var previous = document.querySelector(".visible .popup");
        if (previous != undefined) {
            previous.classList.remove("visible");
        }
    }
    var window = document.getElementById(window_id);
    window.classList.add("visible");
}

function close_windows() {
    var popup = document.getElementsByClassName('popup');
    for (var l = 0; l < popup.length; l++) {
        popup[l].classList.remove('visible');
    }
    document.onkeydown = null;
}

/**
 * For minimizing windows
 */
document.addEventListener("template_done", function() {
    var back_icon = document.getElementsByClassName('back_icon');
    for (var i = 0; i < back_icon.length; i++) {
        back_icon[i].addEventListener('click', close_windows);
    }
});


/**
 * Functions called when editation mode is allowed and user presses ctrl + alt + e.
 * Enables buttons for editing
 */
function make_edit_buttons_apear() {
    var edit_buttons = document.getElementsByClassName("ed_button");
    for (let button of edit_buttons) {
        button.classList.add("visible");
        //console.log("visible");
        if(button.parentNode == document.getElementById("control_panel")) continue;
        button.addEventListener("click", function () {
            build_annotation_window(button.id.slice(4), json_obj.annotations[button.id.slice(4)]); // slice gets the ID of annotation
        });
    }
}

/**
 * Assembles annotation window and makes it visible.
 * @param {object} annotation_object 
 */
function build_annotation_window(annotation_id, annotation_info) {
    // put data into annotation window
    //var annotation_info = json_obj.annotations[annotation_id];
    try {
        document.getElementById("position_inp").setAttribute(
            "value", get_entity_position_string(document.getElementById("rendered" + annotation_id), false)
        );
    } catch(e) {}
    document.getElementById("no_inp").setAttribute("value", get_number_from_string(annotation_id));
    document.getElementById("heading_inp").setAttribute("value", annotation_info.heading);
    document.getElementById("current_edited").innerHTML = annotation_id;
    open_popup("annotation_window", false);
    // put into editor
    append_html(annotation_info.text);
}

function get_number_from_string(string) {
    var r = /\d+/;
    return string.match(r);
}

/** FOR EDITOR */

/**
 * Upon trumbowyg editor creation.
 * Sets up the editor and adds event listeners to editor buttons.
 */
function init_editor() {
    $('#editor').trumbowyg({
        btns: [
            ['viewHTML'],
            ['undo', 'redo'], // Only supported in Blink browsers
            ['formatting'],
            ['strong', 'em', 'del'],
            ['fontfamily'],
            ['fontsize'],
            ['foreColor', 'backColor'],
            ['superscript', 'subscript'],
            ['link'],
            ['insertImage'],
            ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
            ['unorderedList', 'orderedList'],
            ['horizontalRule'],
            ['removeformat'],
            ['fullscreen'],
        ],
        plugins: {
            allowTagsFromPaste: {
                allowedTags: ['h1', 'h2', 'h3', 'h4', 'p', 'span', 'br', 'strong', 'em', 'del']
            }
        }
    });
    // buttons EVENT LISTENERS
    document.addEventListener("template_done", function () {
        document.getElementById("copy_html").addEventListener("click", copy_html);
        document.getElementById("paste_html").addEventListener("click", paste_html);
    });

}

/**
 * Gets HTML contained in trumbowyg editor and puts it into clipboar.
 */
function copy_html() {
    var htm = $('#editor').trumbowyg('html');
    htm = htm.replace(/\r?\n|\r/g, " ");
    // for copying text into clipboard
    const el = document.createElement('textarea');
    el.value = htm;
    document.body.appendChild(el);
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
}

/**
 * Puts given html into trumbowyg editor.
 * @param {string} html_to_append 
 */
function append_html(html_to_append) {
    var html = $('#editor').trumbowyg('html');
    html += html_to_append;
    $('#editor').trumbowyg('html', html);
}

/**
 * Reads text from clipboard and puts it into trumbowyg
 */
function paste_html() {
    navigator.clipboard.readText()
    .then(text => {
        append_html(text);
    })
    .catch(err => {
        console.error('Failed to read clipboard contents: ', err);
    });
}

/**
 * Easy input checking function for annotation form
 * @param {*} new_position 
 * @param {*} input_number 
 */
function check_if_valid(new_position, input_number) {
    if (!(cond1 = new_position.split(" ").length == 3)) {
        // wrong position
        color_input_red(document.getElementById("position_inp"));
    }
    if (!(cond2 = Number.isInteger(input_number))) {
        // is not number
        color_input_red(document.getElementById("no_inp"));
    }
    return cond1 && cond2;
}

function color_input_red(input_node) {
    input_node.classList.add("wrong_input");
    input_node.addEventListener("focus", function () {
        input_node.classList.remove("wrong_input");
    });
}

/**
 * Writes changes into json_obj after closing the annotation window.
 */
function save_changes() {
    var current_annotation = document.getElementById("current_edited").innerHTML;
    var new_position = document.getElementById("position_inp").value;
    var new_number = document.getElementById("no_inp").value;
    new_number = parseInt(new_number);
    //console.log(current_annotation);
    if (!check_if_valid(new_position, new_number)) {
        // write msg
        return;
    }
    // number change handling
    var new_id = "uniqueID" + new_number;
    //if (new_id != current_annotation) {
    if (new_id in json_obj.annotations) {
        if (new_id != current_annotation) {
            // SWAP
            json_obj.annotations[current_annotation] = json_obj.annotations[new_id];
            change_popup(current_annotation, json_obj.annotations[new_id]);
            current_annotation = new_id; 
        }
    } else {
        delete json_obj.annotations[current_annotation];
        var rendered_annot = document.getElementById("rendered" + current_annotation);
        // if I have new annotation
        if (rendered_annot == null) {
            // TODO -- new annotation
            make_new_annotation(new_position, new_id);
            $('#editor').trumbowyg('empty');
            close_windows();
            return;
        } else {
            // just putting new number
            rendered_annot.setAttribute("id", "rendered"+new_id);
            rendered_annot.setAttribute("info-window", {window_id: new_id});
            rendered_annot.setAttribute("value", new_number + ".");
            document.getElementById(current_annotation).setAttribute("id", new_id); 
            document.getElementById("edit" + current_annotation).setAttribute("id", "edit" + new_id);
            json_obj.annotations[new_id] = {};
            current_annotation = new_id;
        }
    }
    //}

    json_obj.annotations[current_annotation].heading = document.getElementById("heading_inp").value;
    json_obj.annotations[current_annotation].text = $('#editor').trumbowyg('html');
    json_obj.annotations[current_annotation].position = new_position;
    // manipulate actual annotation
    change_popup(current_annotation, json_obj.annotations[current_annotation]);
    //$('#editor').trumbowyg('html', '');
    $('#editor').trumbowyg('empty');

    close_windows();
}

/**
 * For building brand new annotation
 * @param {*} new_position 
 * @param {*} new_id 
 */
function make_new_annotation(new_position, new_id) {
    var template_info = {
        "annotations" : {
            [new_id] : {
                "heading" : document.getElementById("heading_inp").value,
                "text" : $('#editor').trumbowyg('html'),
                "position" : new_position,
            }
        }
    }
    //put_template_to_html(template_info, "a-scene", Handlebars.templates.popup_button);
    put_template_to_html(template_info, "body", Handlebars.templates.popup);
    create_popup(new_id, new_position, false);
    //console.log("#"+new_id+" .back_icon");
    //document.querySelector("#"+new_id+" .back_icon").addEventListener('click', close_windows);
}


/**
 * Makes the changes in the actual popup
 * @param {string} popup_id 
 * @param {object} annotation_info data
 */
function change_popup(popup_id, annotation_info) {
    document.querySelector("#" + popup_id + " span.heading_span").innerHTML = annotation_info.heading;
    document.querySelector("#" + popup_id + " span.popup_text").innerHTML = annotation_info.text;
    document.getElementById("rendered" + popup_id).setAttribute("position", annotation_info.position);
}

function create_new_popup() {
    var id = document.getElementsByClassName("clickable").length + 1;
    // non elegant solution :D
    while (document.getElementById("uniqueID" + id) != null) {
        ++id;
    }
    build_annotation_window("uniqueID" + id, {});
}

/**
 * Discards changes and closest the annotation window.
 */
function discard_changes() {
    if (!confirm("Opravdu chcete zahodit zmny?")) return;
    $('#editor').trumbowyg('empty');
    close_windows();
}

/**
 * Function that lets user save json_obj into a json file on his device
 */
function save_json() {
    var a = document.createElement("a");
    var file = new Blob([JSON.stringify(json_obj)], {type: "text/json"});
    a.href = URL.createObjectURL(file);
    a.download = "info.json";
    a.click();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFmcmFtZS5taW4uanMiLCJhZnJhbWUtZXZlbnQtc2V0LWNvbXBvbmVudC5taW4uanMiLCJhZnJhbWUtbG9vay1hdC1jb21wb25lbnQubWluLmpzIiwiY29tcGlsZWRfdGVtcGxhdGVzLmpzIiwiYS10b3VjaC1jb250cm9scy5qcyIsIm15LWdsdGYtbW9kZWwuanMiLCJhZnJhbWUtb3JiaXQtY29udHJvbHMubWluLmpzIiwiY29udHJvbC5qcyIsIm1vZGVsX2Nob2ljZS5qcyIsImpveXN0aWNrLmpzIiwiZ2FsbGVyeV9jb250cm9sLmpzIiwiY29udHJvbC1wYW5lbC5qcyIsInBvcHVwX2NvbnRyb2wuanMiLCJhbm5vdGF0aW9uX3dpbmRvdy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoa0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdklBO0FDQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcmRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5Q0E7QUFDQTtBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiM2RfcGxheWVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLkFGUkFNRSA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gYW5BcnJheShyKXtyZXR1cm4gci5CWVRFU19QRVJfRUxFTUVOVCYmXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09c3RyLmNhbGwoci5idWZmZXIpfHxBcnJheS5pc0FycmF5KHIpfXZhciBzdHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzttb2R1bGUuZXhwb3J0cz1hbkFycmF5O1xufSx7fV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlLG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2U6XCJudW1iZXJcIj09dHlwZW9mIG4/bjowfTtcbn0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZ2V0TGVucyhvKXt2YXIgcj1vLmxlbmd0aDtpZihyJTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciBlPW8uaW5kZXhPZihcIj1cIik7cmV0dXJuLTE9PT1lJiYoZT1yKSxbZSxlPT09cj8wOjQtZSU0XX1mdW5jdGlvbiBieXRlTGVuZ3RoKG8pe3ZhciByPWdldExlbnMobyksZT1yWzBdLHQ9clsxXTtyZXR1cm4gMyooZSt0KS80LXR9ZnVuY3Rpb24gX2J5dGVMZW5ndGgobyxyLGUpe3JldHVybiAzKihyK2UpLzQtZX1mdW5jdGlvbiB0b0J5dGVBcnJheShvKXtmb3IodmFyIHIsZT1nZXRMZW5zKG8pLHQ9ZVswXSxuPWVbMV0sdT1uZXcgQXJyKF9ieXRlTGVuZ3RoKG8sdCxuKSkscD0wLGE9bj4wP3QtNDp0LGg9MDtoPGE7aCs9NClyPXJldkxvb2t1cFtvLmNoYXJDb2RlQXQoaCldPDwxOHxyZXZMb29rdXBbby5jaGFyQ29kZUF0KGgrMSldPDwxMnxyZXZMb29rdXBbby5jaGFyQ29kZUF0KGgrMildPDw2fHJldkxvb2t1cFtvLmNoYXJDb2RlQXQoaCszKV0sdVtwKytdPXI+PjE2JjI1NSx1W3ArK109cj4+OCYyNTUsdVtwKytdPTI1NSZyO3JldHVybiAyPT09biYmKHI9cmV2TG9va3VwW28uY2hhckNvZGVBdChoKV08PDJ8cmV2TG9va3VwW28uY2hhckNvZGVBdChoKzEpXT4+NCx1W3ArK109MjU1JnIpLDE9PT1uJiYocj1yZXZMb29rdXBbby5jaGFyQ29kZUF0KGgpXTw8MTB8cmV2TG9va3VwW28uY2hhckNvZGVBdChoKzEpXTw8NHxyZXZMb29rdXBbby5jaGFyQ29kZUF0KGgrMildPj4yLHVbcCsrXT1yPj44JjI1NSx1W3ArK109MjU1JnIpLHV9ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0KG8pe3JldHVybiBsb29rdXBbbz4+MTgmNjNdK2xvb2t1cFtvPj4xMiY2M10rbG9va3VwW28+PjYmNjNdK2xvb2t1cFs2MyZvXX1mdW5jdGlvbiBlbmNvZGVDaHVuayhvLHIsZSl7Zm9yKHZhciB0LG49W10sdT1yO3U8ZTt1Kz0zKXQ9KG9bdV08PDE2JjE2NzExNjgwKSsob1t1KzFdPDw4JjY1MjgwKSsoMjU1Jm9bdSsyXSksbi5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0KSk7cmV0dXJuIG4uam9pbihcIlwiKX1mdW5jdGlvbiBmcm9tQnl0ZUFycmF5KG8pe2Zvcih2YXIgcixlPW8ubGVuZ3RoLHQ9ZSUzLG49W10sdT0wLHA9ZS10O3U8cDt1Kz0xNjM4MyluLnB1c2goZW5jb2RlQ2h1bmsobyx1LHUrMTYzODM+cD9wOnUrMTYzODMpKTtyZXR1cm4gMT09PXQ/KHI9b1tlLTFdLG4ucHVzaChsb29rdXBbcj4+Ml0rbG9va3VwW3I8PDQmNjNdK1wiPT1cIikpOjI9PT10JiYocj0ob1tlLTJdPDw4KStvW2UtMV0sbi5wdXNoKGxvb2t1cFtyPj4xMF0rbG9va3VwW3I+PjQmNjNdK2xvb2t1cFtyPDwyJjYzXStcIj1cIikpLG4uam9pbihcIlwiKX1leHBvcnRzLmJ5dGVMZW5ndGg9Ynl0ZUxlbmd0aCxleHBvcnRzLnRvQnl0ZUFycmF5PXRvQnl0ZUFycmF5LGV4cG9ydHMuZnJvbUJ5dGVBcnJheT1mcm9tQnl0ZUFycmF5O2Zvcih2YXIgbG9va3VwPVtdLHJldkxvb2t1cD1bXSxBcnI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxjb2RlPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGk9MCxsZW49Y29kZS5sZW5ndGg7aTxsZW47KytpKWxvb2t1cFtpXT1jb2RlW2ldLHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldPWk7cmV2TG9va3VwW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLHJldkxvb2t1cFtcIl9cIi5jaGFyQ29kZUF0KDApXT02Mztcbn0se31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9e2NyZWF0ZUxpbms6ZnVuY3Rpb24oZSx0KXt2YXIgYT1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0sbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtuLmhyZWY9ZSxuLnJlbD1cInN0eWxlc2hlZXRcIjtmb3IodmFyIGQgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGQpKXt2YXIgcj10W2RdO24uc2V0QXR0cmlidXRlKFwiZGF0YS1cIitkLHIpfWEuYXBwZW5kQ2hpbGQobil9LGNyZWF0ZVN0eWxlOmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO24udHlwZT1cInRleHQvY3NzXCI7Zm9yKHZhciBkIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShkKSl7dmFyIHI9dFtkXTtuLnNldEF0dHJpYnV0ZShcImRhdGEtXCIrZCxyKX1uLnNoZWV0PyhuLmlubmVySFRNTD1lLG4uc2hlZXQuY3NzVGV4dD1lLGEuYXBwZW5kQ2hpbGQobikpOm4uc3R5bGVTaGVldD8oYS5hcHBlbmRDaGlsZChuKSxuLnN0eWxlU2hlZXQuY3NzVGV4dD1lKToobi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSksYS5hcHBlbmRDaGlsZChuKSl9fTtcbn0se31dLDU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBydW5UaW1lb3V0KGUpe2lmKGNhY2hlZFNldFRpbWVvdXQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKGNhY2hlZFNldFRpbWVvdXQ9PT1kZWZhdWx0U2V0VGltb3V0fHwhY2FjaGVkU2V0VGltZW91dCkmJnNldFRpbWVvdXQpcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQ9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0KGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcyxlLDApfX19ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KGUpe2lmKGNhY2hlZENsZWFyVGltZW91dD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChjYWNoZWRDbGVhclRpbWVvdXQ9PT1kZWZhdWx0Q2xlYXJUaW1lb3V0fHwhY2FjaGVkQ2xlYXJUaW1lb3V0KSYmY2xlYXJUaW1lb3V0KXJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQ9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKXtkcmFpbmluZyYmY3VycmVudFF1ZXVlJiYoZHJhaW5pbmc9ITEsY3VycmVudFF1ZXVlLmxlbmd0aD9xdWV1ZT1jdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTpxdWV1ZUluZGV4PS0xLHF1ZXVlLmxlbmd0aCYmZHJhaW5RdWV1ZSgpKX1mdW5jdGlvbiBkcmFpblF1ZXVlKCl7aWYoIWRyYWluaW5nKXt2YXIgZT1ydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7ZHJhaW5pbmc9ITA7Zm9yKHZhciB0PXF1ZXVlLmxlbmd0aDt0Oyl7Zm9yKGN1cnJlbnRRdWV1ZT1xdWV1ZSxxdWV1ZT1bXTsrK3F1ZXVlSW5kZXg8dDspY3VycmVudFF1ZXVlJiZjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7cXVldWVJbmRleD0tMSx0PXF1ZXVlLmxlbmd0aH1jdXJyZW50UXVldWU9bnVsbCxkcmFpbmluZz0hMSxydW5DbGVhclRpbWVvdXQoZSl9fWZ1bmN0aW9uIEl0ZW0oZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBub29wKCl7fXZhciBwcm9jZXNzPW1vZHVsZS5leHBvcnRzPXt9LGNhY2hlZFNldFRpbWVvdXQsY2FjaGVkQ2xlYXJUaW1lb3V0OyFmdW5jdGlvbigpe3RyeXtjYWNoZWRTZXRUaW1lb3V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpkZWZhdWx0U2V0VGltb3V0fWNhdGNoKGUpe2NhY2hlZFNldFRpbWVvdXQ9ZGVmYXVsdFNldFRpbW91dH10cnl7Y2FjaGVkQ2xlYXJUaW1lb3V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6ZGVmYXVsdENsZWFyVGltZW91dH1jYXRjaChlKXtjYWNoZWRDbGVhclRpbWVvdXQ9ZGVmYXVsdENsZWFyVGltZW91dH19KCk7dmFyIHF1ZXVlPVtdLGRyYWluaW5nPSExLGN1cnJlbnRRdWV1ZSxxdWV1ZUluZGV4PS0xO3Byb2Nlc3MubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtxdWV1ZS5wdXNoKG5ldyBJdGVtKGUsdCkpLDEhPT1xdWV1ZS5sZW5ndGh8fGRyYWluaW5nfHxydW5UaW1lb3V0KGRyYWluUXVldWUpfSxJdGVtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxwcm9jZXNzLnRpdGxlPVwiYnJvd3NlclwiLHByb2Nlc3MuYnJvd3Nlcj0hMCxwcm9jZXNzLmVudj17fSxwcm9jZXNzLmFyZ3Y9W10scHJvY2Vzcy52ZXJzaW9uPVwiXCIscHJvY2Vzcy52ZXJzaW9ucz17fSxwcm9jZXNzLm9uPW5vb3AscHJvY2Vzcy5hZGRMaXN0ZW5lcj1ub29wLHByb2Nlc3Mub25jZT1ub29wLHByb2Nlc3Mub2ZmPW5vb3AscHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcj1ub29wLHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzPW5vb3AscHJvY2Vzcy5lbWl0PW5vb3AscHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXI9bm9vcCxwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXI9bm9vcCxwcm9jZXNzLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0scHJvY2Vzcy5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxwcm9jZXNzLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxwcm9jZXNzLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfTtcbn0se31dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIEJ1ZmZlcj1fZGVyZXFfKFwiYnVmZmVyXCIpLkJ1ZmZlcjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihmLGUpe2lmKEJ1ZmZlci5pc0J1ZmZlcihmKSYmQnVmZmVyLmlzQnVmZmVyKGUpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLmVxdWFscylyZXR1cm4gZi5lcXVhbHMoZSk7aWYoZi5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGYubGVuZ3RoO3IrKylpZihmW3JdIT09ZVtyXSlyZXR1cm4hMTtyZXR1cm4hMH19O1xufSx7XCJidWZmZXJcIjo3fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCgpe3RyeXt2YXIgdD1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gdC5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PXQuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuc3ViYXJyYXkmJjA9PT10LnN1YmFycmF5KDEsMSkuYnl0ZUxlbmd0aH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24ga01heExlbmd0aCgpe3JldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gY3JlYXRlQnVmZmVyKHQsZSl7aWYoa01heExlbmd0aCgpPGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aFwiKTtyZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHQ9bmV3IFVpbnQ4QXJyYXkoZSksdC5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZSk6KG51bGw9PT10JiYodD1uZXcgQnVmZmVyKGUpKSx0Lmxlbmd0aD1lKSx0fWZ1bmN0aW9uIEJ1ZmZlcih0LGUscil7aWYoIShCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpcmV0dXJuIG5ldyBCdWZmZXIodCxlLHIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gYWxsb2NVbnNhZmUodGhpcyx0KX1yZXR1cm4gZnJvbSh0aGlzLHQsZSxyKX1mdW5jdGlvbiBmcm9tKHQsZSxyLG4pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2Zyb21BcnJheUJ1ZmZlcih0LGUscixuKTpcInN0cmluZ1wiPT10eXBlb2YgZT9mcm9tU3RyaW5nKHQsZSxyKTpmcm9tT2JqZWN0KHQsZSl9ZnVuY3Rpb24gYXNzZXJ0U2l6ZSh0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJyk7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpfWZ1bmN0aW9uIGFsbG9jKHQsZSxyLG4pe3JldHVybiBhc3NlcnRTaXplKGUpLGU8PTA/Y3JlYXRlQnVmZmVyKHQsZSk6dm9pZCAwIT09cj9cInN0cmluZ1wiPT10eXBlb2Ygbj9jcmVhdGVCdWZmZXIodCxlKS5maWxsKHIsbik6Y3JlYXRlQnVmZmVyKHQsZSkuZmlsbChyKTpjcmVhdGVCdWZmZXIodCxlKX1mdW5jdGlvbiBhbGxvY1Vuc2FmZSh0LGUpe2lmKGFzc2VydFNpemUoZSksdD1jcmVhdGVCdWZmZXIodCxlPDA/MDowfGNoZWNrZWQoZSkpLCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIHI9MDtyPGU7KytyKXRbcl09MDtyZXR1cm4gdH1mdW5jdGlvbiBmcm9tU3RyaW5nKHQsZSxyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmXCJcIiE9PXJ8fChyPVwidXRmOFwiKSwhQnVmZmVyLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgbj0wfGJ5dGVMZW5ndGgoZSxyKTt0PWNyZWF0ZUJ1ZmZlcih0LG4pO3ZhciBmPXQud3JpdGUoZSxyKTtyZXR1cm4gZiE9PW4mJih0PXQuc2xpY2UoMCxmKSksdH1mdW5jdGlvbiBmcm9tQXJyYXlMaWtlKHQsZSl7dmFyIHI9ZS5sZW5ndGg8MD8wOjB8Y2hlY2tlZChlLmxlbmd0aCk7dD1jcmVhdGVCdWZmZXIodCxyKTtmb3IodmFyIG49MDtuPHI7bis9MSl0W25dPTI1NSZlW25dO3JldHVybiB0fWZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlcih0LGUscixuKXtpZihlLmJ5dGVMZW5ndGgscjwwfHxlLmJ5dGVMZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHNcIik7aWYoZS5ieXRlTGVuZ3RoPHIrKG58fDApKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kc1wiKTtyZXR1cm4gZT12b2lkIDA9PT1yJiZ2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KGUpOnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkoZSxyKTpuZXcgVWludDhBcnJheShlLHIsbiksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHQ9ZSx0Ll9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlKTp0PWZyb21BcnJheUxpa2UodCxlKSx0fWZ1bmN0aW9uIGZyb21PYmplY3QodCxlKXtpZihCdWZmZXIuaXNCdWZmZXIoZSkpe3ZhciByPTB8Y2hlY2tlZChlLmxlbmd0aCk7cmV0dXJuIHQ9Y3JlYXRlQnVmZmVyKHQsciksMD09PXQubGVuZ3RoP3Q6KGUuY29weSh0LDAsMCxyKSx0KX1pZihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJmUuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fFwibGVuZ3RoXCJpbiBlKXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlLmxlbmd0aHx8aXNuYW4oZS5sZW5ndGgpP2NyZWF0ZUJ1ZmZlcih0LDApOmZyb21BcnJheUxpa2UodCxlKTtpZihcIkJ1ZmZlclwiPT09ZS50eXBlJiZpc0FycmF5KGUuZGF0YSkpcmV0dXJuIGZyb21BcnJheUxpa2UodCxlLmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuXCIpfWZ1bmN0aW9uIGNoZWNrZWQodCl7aWYodD49a01heExlbmd0aCgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2tNYXhMZW5ndGgoKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8dH1mdW5jdGlvbiBTbG93QnVmZmVyKHQpe3JldHVybit0IT10JiYodD0wKSxCdWZmZXIuYWxsb2MoK3QpfWZ1bmN0aW9uIGJ5dGVMZW5ndGgodCxlKXtpZihCdWZmZXIuaXNCdWZmZXIodCkpcmV0dXJuIHQubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0PVwiXCIrdCk7dmFyIHI9dC5sZW5ndGg7aWYoMD09PXIpcmV0dXJuIDA7Zm9yKHZhciBuPSExOzspc3dpdGNoKGUpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHI7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZSB2b2lkIDA6cmV0dXJuIHV0ZjhUb0J5dGVzKHQpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipyO2Nhc2VcImhleFwiOnJldHVybiByPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0VG9CeXRlcyh0KS5sZW5ndGg7ZGVmYXVsdDppZihuKXJldHVybiB1dGY4VG9CeXRlcyh0KS5sZW5ndGg7ZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLG49ITB9fWZ1bmN0aW9uIHNsb3dUb1N0cmluZyh0LGUscil7dmFyIG49ITE7aWYoKHZvaWQgMD09PWV8fGU8MCkmJihlPTApLGU+dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtpZigodm9pZCAwPT09cnx8cj50aGlzLmxlbmd0aCkmJihyPXRoaXMubGVuZ3RoKSxyPD0wKXJldHVyblwiXCI7aWYocj4+Pj0wLGU+Pj49MCxyPD1lKXJldHVyblwiXCI7Zm9yKHR8fCh0PVwidXRmOFwiKTs7KXN3aXRjaCh0KXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4U2xpY2UodGhpcyxlLHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4U2xpY2UodGhpcyxlLHIpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpU2xpY2UodGhpcyxlLHIpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFTbGljZSh0aGlzLGUscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsZSxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsZSxyKTtkZWZhdWx0OmlmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3QpO3Q9KHQrXCJcIikudG9Mb3dlckNhc2UoKSxuPSEwfX1mdW5jdGlvbiBzd2FwKHQsZSxyKXt2YXIgbj10W2VdO3RbZV09dFtyXSx0W3JdPW59ZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YodCxlLHIsbixmKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHI/KG49cixyPTApOnI+MjE0NzQ4MzY0Nz9yPTIxNDc0ODM2NDc6cjwtMjE0NzQ4MzY0OCYmKHI9LTIxNDc0ODM2NDgpLHI9K3IsaXNOYU4ocikmJihyPWY/MDp0Lmxlbmd0aC0xKSxyPDAmJihyPXQubGVuZ3RoK3IpLHI+PXQubGVuZ3RoKXtpZihmKXJldHVybi0xO3I9dC5sZW5ndGgtMX1lbHNlIGlmKHI8MCl7aWYoIWYpcmV0dXJuLTE7cj0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1CdWZmZXIuZnJvbShlLG4pKSxCdWZmZXIuaXNCdWZmZXIoZSkpcmV0dXJuIDA9PT1lLmxlbmd0aD8tMTphcnJheUluZGV4T2YodCxlLHIsbixmKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZSY9MjU1LEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Y/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHQsZSxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKHQsZSxyKTphcnJheUluZGV4T2YodCxbZV0scixuLGYpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gYXJyYXlJbmRleE9mKHQsZSxyLG4sZil7ZnVuY3Rpb24gaSh0LGUpe3JldHVybiAxPT09bz90W2VdOnQucmVhZFVJbnQxNkJFKGUqbyl9dmFyIG89MSx1PXQubGVuZ3RoLHM9ZS5sZW5ndGg7aWYodm9pZCAwIT09biYmKFwidWNzMlwiPT09KG49U3RyaW5nKG4pLnRvTG93ZXJDYXNlKCkpfHxcInVjcy0yXCI9PT1ufHxcInV0ZjE2bGVcIj09PW58fFwidXRmLTE2bGVcIj09PW4pKXtpZih0Lmxlbmd0aDwyfHxlLmxlbmd0aDwyKXJldHVybi0xO289Mix1Lz0yLHMvPTIsci89Mn12YXIgYTtpZihmKXt2YXIgaD0tMTtmb3IoYT1yO2E8dTthKyspaWYoaSh0LGEpPT09aShlLC0xPT09aD8wOmEtaCkpe2lmKC0xPT09aCYmKGg9YSksYS1oKzE9PT1zKXJldHVybiBoKm99ZWxzZS0xIT09aCYmKGEtPWEtaCksaD0tMX1lbHNlIGZvcihyK3M+dSYmKHI9dS1zKSxhPXI7YT49MDthLS0pe2Zvcih2YXIgYz0hMCxsPTA7bDxzO2wrKylpZihpKHQsYStsKSE9PWkoZSxsKSl7Yz0hMTticmVha31pZihjKXJldHVybiBhfXJldHVybi0xfWZ1bmN0aW9uIGhleFdyaXRlKHQsZSxyLG4pe3I9TnVtYmVyKHIpfHwwO3ZhciBmPXQubGVuZ3RoLXI7bj8obj1OdW1iZXIobikpPmYmJihuPWYpOm49Zjt2YXIgaT1lLmxlbmd0aDtpZihpJTIhPTApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZ1wiKTtuPmkvMiYmKG49aS8yKTtmb3IodmFyIG89MDtvPG47KytvKXt2YXIgdT1wYXJzZUludChlLnN1YnN0cigyKm8sMiksMTYpO2lmKGlzTmFOKHUpKXJldHVybiBvO3RbcitvXT11fXJldHVybiBvfWZ1bmN0aW9uIHV0ZjhXcml0ZSh0LGUscixuKXtyZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhlLHQubGVuZ3RoLXIpLHQscixuKX1mdW5jdGlvbiBhc2NpaVdyaXRlKHQsZSxyLG4pe3JldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhlKSx0LHIsbil9ZnVuY3Rpb24gbGF0aW4xV3JpdGUodCxlLHIsbil7cmV0dXJuIGFzY2lpV3JpdGUodCxlLHIsbil9ZnVuY3Rpb24gYmFzZTY0V3JpdGUodCxlLHIsbil7cmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhlKSx0LHIsbil9ZnVuY3Rpb24gdWNzMldyaXRlKHQsZSxyLG4pe3JldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKGUsdC5sZW5ndGgtciksdCxyLG4pfWZ1bmN0aW9uIGJhc2U2NFNsaWNlKHQsZSxyKXtyZXR1cm4gMD09PWUmJnI9PT10Lmxlbmd0aD9iYXNlNjQuZnJvbUJ5dGVBcnJheSh0KTpiYXNlNjQuZnJvbUJ5dGVBcnJheSh0LnNsaWNlKGUscikpfWZ1bmN0aW9uIHV0ZjhTbGljZSh0LGUscil7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIG49W10sZj1lO2Y8cjspe3ZhciBpPXRbZl0sbz1udWxsLHU9aT4yMzk/NDppPjIyMz8zOmk+MTkxPzI6MTtpZihmK3U8PXIpe3ZhciBzLGEsaCxjO3N3aXRjaCh1KXtjYXNlIDE6aTwxMjgmJihvPWkpO2JyZWFrO2Nhc2UgMjpzPXRbZisxXSwxMjg9PSgxOTImcykmJihjPSgzMSZpKTw8Nnw2MyZzKT4xMjcmJihvPWMpO2JyZWFrO2Nhc2UgMzpzPXRbZisxXSxhPXRbZisyXSwxMjg9PSgxOTImcykmJjEyOD09KDE5MiZhKSYmKGM9KDE1JmkpPDwxMnwoNjMmcyk8PDZ8NjMmYSk+MjA0NyYmKGM8NTUyOTZ8fGM+NTczNDMpJiYobz1jKTticmVhaztjYXNlIDQ6cz10W2YrMV0sYT10W2YrMl0saD10W2YrM10sMTI4PT0oMTkyJnMpJiYxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZoKSYmKGM9KDE1JmkpPDwxOHwoNjMmcyk8PDEyfCg2MyZhKTw8Nnw2MyZoKT42NTUzNSYmYzwxMTE0MTEyJiYobz1jKX19bnVsbD09PW8/KG89NjU1MzMsdT0xKTpvPjY1NTM1JiYoby09NjU1MzYsbi5wdXNoKG8+Pj4xMCYxMDIzfDU1Mjk2KSxvPTU2MzIwfDEwMjMmbyksbi5wdXNoKG8pLGYrPXV9cmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShuKX1mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkodCl7dmFyIGU9dC5sZW5ndGg7aWYoZTw9TUFYX0FSR1VNRU5UU19MRU5HVEgpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQpO2Zvcih2YXIgcj1cIlwiLG49MDtuPGU7KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQuc2xpY2UobixuKz1NQVhfQVJHVU1FTlRTX0xFTkdUSCkpO3JldHVybiByfWZ1bmN0aW9uIGFzY2lpU2xpY2UodCxlLHIpe3ZhciBuPVwiXCI7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIGY9ZTtmPHI7KytmKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JnRbZl0pO3JldHVybiBufWZ1bmN0aW9uIGxhdGluMVNsaWNlKHQsZSxyKXt2YXIgbj1cIlwiO3I9TWF0aC5taW4odC5sZW5ndGgscik7Zm9yKHZhciBmPWU7ZjxyOysrZiluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbZl0pO3JldHVybiBufWZ1bmN0aW9uIGhleFNsaWNlKHQsZSxyKXt2YXIgbj10Lmxlbmd0aDsoIWV8fGU8MCkmJihlPTApLCghcnx8cjwwfHxyPm4pJiYocj1uKTtmb3IodmFyIGY9XCJcIixpPWU7aTxyOysraSlmKz10b0hleCh0W2ldKTtyZXR1cm4gZn1mdW5jdGlvbiB1dGYxNmxlU2xpY2UodCxlLHIpe2Zvcih2YXIgbj10LnNsaWNlKGUsciksZj1cIlwiLGk9MDtpPG4ubGVuZ3RoO2krPTIpZis9U3RyaW5nLmZyb21DaGFyQ29kZShuW2ldKzI1NipuW2krMV0pO3JldHVybiBmfWZ1bmN0aW9uIGNoZWNrT2Zmc2V0KHQsZSxyKXtpZih0JTEhPTB8fHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZih0K2U+cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gY2hlY2tJbnQodCxlLHIsbixmLGkpe2lmKCFCdWZmZXIuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYoZT5mfHxlPGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYocituPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2KHQsZSxyLG4pe2U8MCYmKGU9NjU1MzUrZSsxKTtmb3IodmFyIGY9MCxpPU1hdGgubWluKHQubGVuZ3RoLXIsMik7ZjxpOysrZil0W3IrZl09KGUmMjU1PDw4KihuP2Y6MS1mKSk+Pj44KihuP2Y6MS1mKX1mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMih0LGUscixuKXtlPDAmJihlPTQyOTQ5NjcyOTUrZSsxKTtmb3IodmFyIGY9MCxpPU1hdGgubWluKHQubGVuZ3RoLXIsNCk7ZjxpOysrZil0W3IrZl09ZT4+PjgqKG4/ZjozLWYpJjI1NX1mdW5jdGlvbiBjaGVja0lFRUU3NTQodCxlLHIsbixmLGkpe2lmKHIrbj50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gd3JpdGVGbG9hdCh0LGUscixuLGYpe3JldHVybiBmfHxjaGVja0lFRUU3NTQodCxlLHIsNCwzLjQwMjgyMzQ2NjM4NTI4ODZlMzgsLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCksaWVlZTc1NC53cml0ZSh0LGUscixuLDIzLDQpLHIrNH1mdW5jdGlvbiB3cml0ZURvdWJsZSh0LGUscixuLGYpe3JldHVybiBmfHxjaGVja0lFRUU3NTQodCxlLHIsOCwxLjc5NzY5MzEzNDg2MjMxNTdlMzA4LC0xLjc5NzY5MzEzNDg2MjMxNTdlMzA4KSxpZWVlNzU0LndyaXRlKHQsZSxyLG4sNTIsOCkscis4fWZ1bmN0aW9uIGJhc2U2NGNsZWFuKHQpe2lmKHQ9c3RyaW5ndHJpbSh0KS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLFwiXCIpLHQubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO3QubGVuZ3RoJTQhPTA7KXQrPVwiPVwiO3JldHVybiB0fWZ1bmN0aW9uIHN0cmluZ3RyaW0odCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9ZnVuY3Rpb24gdG9IZXgodCl7cmV0dXJuIHQ8MTY/XCIwXCIrdC50b1N0cmluZygxNik6dC50b1N0cmluZygxNil9ZnVuY3Rpb24gdXRmOFRvQnl0ZXModCxlKXtlPWV8fDEvMDtmb3IodmFyIHIsbj10Lmxlbmd0aCxmPW51bGwsaT1bXSxvPTA7bzxuOysrbyl7aWYoKHI9dC5jaGFyQ29kZUF0KG8pKT41NTI5NSYmcjw1NzM0NCl7aWYoIWYpe2lmKHI+NTYzMTkpeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihvKzE9PT1uKXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9Zj1yO2NvbnRpbnVlfWlmKHI8NTYzMjApeyhlLT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxmPXI7Y29udGludWV9cj02NTUzNisoZi01NTI5Njw8MTB8ci01NjMyMCl9ZWxzZSBmJiYoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYoZj1udWxsLHI8MTI4KXtpZigoZS09MSk8MClicmVhaztpLnB1c2gocil9ZWxzZSBpZihyPDIwNDgpe2lmKChlLT0yKTwwKWJyZWFrO2kucHVzaChyPj42fDE5Miw2MyZyfDEyOCl9ZWxzZSBpZihyPDY1NTM2KXtpZigoZS09Myk8MClicmVhaztpLnB1c2gocj4+MTJ8MjI0LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX1lbHNle2lmKCEocjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKGUtPTQpPDApYnJlYWs7aS5wdXNoKHI+PjE4fDI0MCxyPj4xMiY2M3wxMjgscj4+NiY2M3wxMjgsNjMmcnwxMjgpfX1yZXR1cm4gaX1mdW5jdGlvbiBhc2NpaVRvQnl0ZXModCl7Zm9yKHZhciBlPVtdLHI9MDtyPHQubGVuZ3RoOysrcillLnB1c2goMjU1JnQuY2hhckNvZGVBdChyKSk7cmV0dXJuIGV9ZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXModCxlKXtmb3IodmFyIHIsbixmLGk9W10sbz0wO288dC5sZW5ndGgmJiEoKGUtPTIpPDApOysrbylyPXQuY2hhckNvZGVBdChvKSxuPXI+PjgsZj1yJTI1NixpLnB1c2goZiksaS5wdXNoKG4pO3JldHVybiBpfWZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXModCl7cmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbih0KSl9ZnVuY3Rpb24gYmxpdEJ1ZmZlcih0LGUscixuKXtmb3IodmFyIGY9MDtmPG4mJiEoZityPj1lLmxlbmd0aHx8Zj49dC5sZW5ndGgpOysrZillW2Yrcl09dFtmXTtyZXR1cm4gZn1mdW5jdGlvbiBpc25hbih0KXtyZXR1cm4gdCE9PXR9dmFyIGJhc2U2ND1fZGVyZXFfKFwiYmFzZTY0LWpzXCIpLGllZWU3NTQ9X2RlcmVxXyhcImllZWU3NTRcIiksaXNBcnJheT1fZGVyZXFfKFwiaXNhcnJheVwiKTtleHBvcnRzLkJ1ZmZlcj1CdWZmZXIsZXhwb3J0cy5TbG93QnVmZmVyPVNsb3dCdWZmZXIsZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUz01MCxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD12b2lkIDAhPT1nbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVD9nbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVDp0eXBlZEFycmF5U3VwcG9ydCgpLGV4cG9ydHMua01heExlbmd0aD1rTWF4TGVuZ3RoKCksQnVmZmVyLnBvb2xTaXplPTgxOTIsQnVmZmVyLl9hdWdtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlLHR9LEJ1ZmZlci5mcm9tPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZnJvbShudWxsLHQsZSxyKX0sQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxCdWZmZXIuX19wcm90b19fPVVpbnQ4QXJyYXksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJkJ1ZmZlcltTeW1ib2wuc3BlY2llc109PT1CdWZmZXImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLEJ1ZmZlci5hbGxvYz1mdW5jdGlvbih0LGUscil7cmV0dXJuIGFsbG9jKG51bGwsdCxlLHIpfSxCdWZmZXIuYWxsb2NVbnNhZmU9ZnVuY3Rpb24odCl7cmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsdCl9LEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7cmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsdCl9LEJ1ZmZlci5pc0J1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4hKG51bGw9PXR8fCF0Ll9pc0J1ZmZlcil9LEJ1ZmZlci5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoIUJ1ZmZlci5pc0J1ZmZlcih0KXx8IUJ1ZmZlci5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVyc1wiKTtpZih0PT09ZSlyZXR1cm4gMDtmb3IodmFyIHI9dC5sZW5ndGgsbj1lLmxlbmd0aCxmPTAsaT1NYXRoLm1pbihyLG4pO2Y8aTsrK2YpaWYodFtmXSE9PWVbZl0pe3I9dFtmXSxuPWVbZl07YnJlYWt9cmV0dXJuIHI8bj8tMTpuPHI/MTowfSxCdWZmZXIuaXNFbmNvZGluZz1mdW5jdGlvbih0KXtzd2l0Y2goU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LEJ1ZmZlci5jb25jYXQ9ZnVuY3Rpb24odCxlKXtpZighaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIEJ1ZmZlci5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT1lKWZvcihlPTAscj0wO3I8dC5sZW5ndGg7KytyKWUrPXRbcl0ubGVuZ3RoO3ZhciBuPUJ1ZmZlci5hbGxvY1Vuc2FmZShlKSxmPTA7Zm9yKHI9MDtyPHQubGVuZ3RoOysrcil7dmFyIGk9dFtyXTtpZighQnVmZmVyLmlzQnVmZmVyKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2kuY29weShuLGYpLGYrPWkubGVuZ3RofXJldHVybiBufSxCdWZmZXIuYnl0ZUxlbmd0aD1ieXRlTGVuZ3RoLEJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLEJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTIpc3dhcCh0aGlzLGUsZSsxKTtyZXR1cm4gdGhpc30sQnVmZmVyLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9NClzd2FwKHRoaXMsZSxlKzMpLHN3YXAodGhpcyxlKzEsZSsyKTtyZXR1cm4gdGhpc30sQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9OClzd2FwKHRoaXMsZSxlKzcpLHN3YXAodGhpcyxlKzEsZSs2KSxzd2FwKHRoaXMsZSsyLGUrNSksc3dhcCh0aGlzLGUrMyxlKzQpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PXQ/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD91dGY4U2xpY2UodGhpcywwLHQpOnNsb3dUb1N0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCFCdWZmZXIuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT10fHwwPT09QnVmZmVyLmNvbXBhcmUodGhpcyx0KX0sQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9XCJcIixlPWV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJih0PXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLGUpLm1hdGNoKC8uezJ9L2cpLmpvaW4oXCIgXCIpLHRoaXMubGVuZ3RoPmUmJih0Kz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrdCtcIj5cIn0sQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSxyLG4sZil7aWYoIUJ1ZmZlci5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj10P3QubGVuZ3RoOjApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PWYmJihmPXRoaXMubGVuZ3RoKSxlPDB8fHI+dC5sZW5ndGh8fG48MHx8Zj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihuPj1mJiZlPj1yKXJldHVybiAwO2lmKG4+PWYpcmV0dXJuLTE7aWYoZT49cilyZXR1cm4gMTtpZihlPj4+PTAscj4+Pj0wLG4+Pj49MCxmPj4+PTAsdGhpcz09PXQpcmV0dXJuIDA7Zm9yKHZhciBpPWYtbixvPXItZSx1PU1hdGgubWluKGksbykscz10aGlzLnNsaWNlKG4sZiksYT10LnNsaWNlKGUsciksaD0wO2g8dTsrK2gpaWYoc1toXSE9PWFbaF0pe2k9c1toXSxvPWFbaF07YnJlYWt9cmV0dXJuIGk8bz8tMTpvPGk/MTowfSxCdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZih0LGUscil9LEJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUscil7cmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsdCxlLHIsITApfSxCdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyx0LGUsciwhMSl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLHIsbil7aWYodm9pZCAwPT09ZSluPVwidXRmOFwiLHI9dGhpcy5sZW5ndGgsZT0wO2Vsc2UgaWYodm9pZCAwPT09ciYmXCJzdHJpbmdcIj09dHlwZW9mIGUpbj1lLHI9dGhpcy5sZW5ndGgsZT0wO2Vsc2V7aWYoIWlzRmluaXRlKGUpKXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkXCIpO2V8PTAsaXNGaW5pdGUocik/KHJ8PTAsdm9pZCAwPT09biYmKG49XCJ1dGY4XCIpKToobj1yLHI9dm9pZCAwKX12YXIgZj10aGlzLmxlbmd0aC1lO2lmKCh2b2lkIDA9PT1yfHxyPmYpJiYocj1mKSx0Lmxlbmd0aD4wJiYocjwwfHxlPDApfHxlPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7bnx8KG49XCJ1dGY4XCIpO2Zvcih2YXIgaT0hMTs7KXN3aXRjaChuKXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4V3JpdGUodGhpcyx0LGUscik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHV0ZjhXcml0ZSh0aGlzLHQsZSxyKTtjYXNlXCJhc2NpaVwiOnJldHVybiBhc2NpaVdyaXRlKHRoaXMsdCxlLHIpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFXcml0ZSh0aGlzLHQsZSxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0V3JpdGUodGhpcyx0LGUscik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHVjczJXcml0ZSh0aGlzLHQsZSxyKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pO249KFwiXCIrbikudG9Mb3dlckNhc2UoKSxpPSEwfX0sQnVmZmVyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIPTQwOTY7QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3Q9fn50LGU9dm9pZCAwPT09ZT9yOn5+ZSx0PDA/KHQrPXIpPDAmJih0PTApOnQ+ciYmKHQ9ciksZTwwPyhlKz1yKTwwJiYoZT0wKTplPnImJihlPXIpLGU8dCYmKGU9dCk7dmFyIG47aWYoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpbj10aGlzLnN1YmFycmF5KHQsZSksbi5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZTtlbHNle3ZhciBmPWUtdDtuPW5ldyBCdWZmZXIoZix2b2lkIDApO2Zvcih2YXIgaT0wO2k8ZjsrK2kpbltpXT10aGlzW2krdF19cmV0dXJuIG59LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbih0LGUscil7dHw9MCxlfD0wLHJ8fGNoZWNrT2Zmc2V0KHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXRoaXNbdF0sZj0xLGk9MDsrK2k8ZSYmKGYqPTI1Nik7KW4rPXRoaXNbdCtpXSpmO3JldHVybiBufSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24odCxlLHIpe3R8PTAsZXw9MCxyfHxjaGVja09mZnNldCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW3QrLS1lXSxmPTE7ZT4wJiYoZio9MjU2KTspbis9dGhpc1t0Ky0tZV0qZjtyZXR1cm4gbn0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Y2hlY2tPZmZzZXQodCwxLHRoaXMubGVuZ3RoKSx0aGlzW3RdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxjaGVja09mZnNldCh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxjaGVja09mZnNldCh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDh8dGhpc1t0KzFdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxjaGVja09mZnNldCh0LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsxNjc3NzIxNip0aGlzW3QrM119LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fGNoZWNrT2Zmc2V0KHQsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1t0XSsodGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdKX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odCxlLHIpe3R8PTAsZXw9MCxyfHxjaGVja09mZnNldCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW3RdLGY9MSxpPTA7KytpPGUmJihmKj0yNTYpOyluKz10aGlzW3QraV0qZjtyZXR1cm4gZio9MTI4LG4+PWYmJihuLT1NYXRoLnBvdygyLDgqZSkpLG59LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKHQsZSxyKXt0fD0wLGV8PTAscnx8Y2hlY2tPZmZzZXQodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIG49ZSxmPTEsaT10aGlzW3QrLS1uXTtuPjAmJihmKj0yNTYpOylpKz10aGlzW3QrLS1uXSpmO3JldHVybiBmKj0xMjgsaT49ZiYmKGktPU1hdGgucG93KDIsOCplKSksaX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxjaGVja09mZnNldCh0LDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW3RdPy0xKigyNTUtdGhpc1t0XSsxKTp0aGlzW3RdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7ZXx8Y2hlY2tPZmZzZXQodCwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW3RdfHRoaXNbdCsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbih0LGUpe2V8fGNoZWNrT2Zmc2V0KHQsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1t0KzFdfHRoaXNbdF08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Y2hlY2tPZmZzZXQodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2fHRoaXNbdCszXTw8MjR9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Y2hlY2tPZmZzZXQodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdPDwyNHx0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM119LEJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Y2hlY2tPZmZzZXQodCw0LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyx0LCEwLDIzLDQpfSxCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fGNoZWNrT2Zmc2V0KHQsNCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsdCwhMSwyMyw0KX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZXx8Y2hlY2tPZmZzZXQodCw4LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyx0LCEwLDUyLDgpfSxCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbih0LGUpe3JldHVybiBlfHxjaGVja09mZnNldCh0LDgsdGhpcy5sZW5ndGgpLGllZWU3NTQucmVhZCh0aGlzLHQsITEsNTIsOCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odCxlLHIsbil7aWYodD0rdCxlfD0wLHJ8PTAsIW4pe2NoZWNrSW50KHRoaXMsdCxlLHIsTWF0aC5wb3coMiw4KnIpLTEsMCl9dmFyIGY9MSxpPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytpPHImJihmKj0yNTYpOyl0aGlzW2UraV09dC9mJjI1NTtyZXR1cm4gZStyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHQ9K3QsZXw9MCxyfD0wLCFuKXtjaGVja0ludCh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApfXZhciBmPXItMSxpPTE7Zm9yKHRoaXNbZStmXT0yNTUmdDstLWY+PTAmJihpKj0yNTYpOyl0aGlzW2UrZl09dC9pJjI1NTtyZXR1cm4gZStyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGV8PTAscnx8Y2hlY2tJbnQodGhpcyx0LGUsMSwyNTUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh0PU1hdGguZmxvb3IodCkpLHRoaXNbZV09MjU1JnQsZSsxfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGV8PTAscnx8Y2hlY2tJbnQodGhpcyx0LGUsMiw2NTUzNSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsdCxlLCEwKSxlKzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZXw9MCxyfHxjaGVja0ludCh0aGlzLHQsZSwyLDY1NTM1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx0LGUsITEpLGUrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlfD0wLHJ8fGNoZWNrSW50KHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlKzNdPXQ+Pj4yNCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2VdPTI1NSZ0KTpvYmplY3RXcml0ZVVJbnQzMih0aGlzLHQsZSwhMCksZSs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGV8PTAscnx8Y2hlY2tJbnQodGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdCxlLCExKSxlKzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih0LGUscixuKXtpZih0PSt0LGV8PTAsIW4pe3ZhciBmPU1hdGgucG93KDIsOCpyLTEpO2NoZWNrSW50KHRoaXMsdCxlLHIsZi0xLC1mKX12YXIgaT0wLG89MSx1PTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytpPHImJihvKj0yNTYpOyl0PDAmJjA9PT11JiYwIT09dGhpc1tlK2ktMV0mJih1PTEpLHRoaXNbZStpXT0odC9vPj4wKS11JjI1NTtyZXR1cm4gZStyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odCxlLHIsbil7aWYodD0rdCxlfD0wLCFuKXt2YXIgZj1NYXRoLnBvdygyLDgqci0xKTtjaGVja0ludCh0aGlzLHQsZSxyLGYtMSwtZil9dmFyIGk9ci0xLG89MSx1PTA7Zm9yKHRoaXNbZStpXT0yNTUmdDstLWk+PTAmJihvKj0yNTYpOyl0PDAmJjA9PT11JiYwIT09dGhpc1tlK2krMV0mJih1PTEpLHRoaXNbZStpXT0odC9vPj4wKS11JjI1NTtyZXR1cm4gZStyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZXw9MCxyfHxjaGVja0ludCh0aGlzLHQsZSwxLDEyNywtMTI4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVHx8KHQ9TWF0aC5mbG9vcih0KSksdDwwJiYodD0yNTUrdCsxKSx0aGlzW2VdPTI1NSZ0LGUrMX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGV8PTAscnx8Y2hlY2tJbnQodGhpcyx0LGUsMiwzMjc2NywtMzI3NjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx0LGUsITApLGUrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGV8PTAscnx8Y2hlY2tJbnQodGhpcyx0LGUsMiwzMjc2NywtMzI3NjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx0LGUsITEpLGUrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGV8PTAscnx8Y2hlY2tJbnQodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrM109dD4+PjI0KTpvYmplY3RXcml0ZVVJbnQzMih0aGlzLHQsZSwhMCksZSs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZXw9MCxyfHxjaGVja0ludCh0aGlzLHQsZSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHQ8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdCxlLCExKSxlKzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLHQsZSwhMCxyKX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB3cml0ZUZsb2F0KHRoaXMsdCxlLCExLHIpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLHQsZSwhMCxyKX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyx0LGUsITEscil9LEJ1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUscixuKXtpZihyfHwocj0wKSxufHwwPT09bnx8KG49dGhpcy5sZW5ndGgpLGU+PXQubGVuZ3RoJiYoZT10Lmxlbmd0aCksZXx8KGU9MCksbj4wJiZuPHImJihuPXIpLG49PT1yKXJldHVybiAwO2lmKDA9PT10Lmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7bj50aGlzLmxlbmd0aCYmKG49dGhpcy5sZW5ndGgpLHQubGVuZ3RoLWU8bi1yJiYobj10Lmxlbmd0aC1lK3IpO3ZhciBmLGk9bi1yO2lmKHRoaXM9PT10JiZyPGUmJmU8bilmb3IoZj1pLTE7Zj49MDstLWYpdFtmK2VdPXRoaXNbZityXTtlbHNlIGlmKGk8MWUzfHwhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKGY9MDtmPGk7KytmKXRbZitlXT10aGlzW2Yrcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCh0LHRoaXMuc3ViYXJyYXkocixyK2kpLGUpO3JldHVybiBpfSxCdWZmZXIucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLHIsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlPyhuPWUsZT0wLHI9dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiByJiYobj1yLHI9dGhpcy5sZW5ndGgpLDE9PT10Lmxlbmd0aCl7dmFyIGY9dC5jaGFyQ29kZUF0KDApO2Y8MjU2JiYodD1mKX1pZih2b2lkIDAhPT1uJiZcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgbiYmIUJ1ZmZlci5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIituKX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIHQmJih0Jj0yNTUpO2lmKGU8MHx8dGhpcy5sZW5ndGg8ZXx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPD1lKXJldHVybiB0aGlzO2U+Pj49MCxyPXZvaWQgMD09PXI/dGhpcy5sZW5ndGg6cj4+PjAsdHx8KHQ9MCk7dmFyIGk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpZm9yKGk9ZTtpPHI7KytpKXRoaXNbaV09dDtlbHNle3ZhciBvPUJ1ZmZlci5pc0J1ZmZlcih0KT90OnV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodCxuKS50b1N0cmluZygpKSx1PW8ubGVuZ3RoO2ZvcihpPTA7aTxyLWU7KytpKXRoaXNbaStlXT1vW2kldV19cmV0dXJuIHRoaXN9O3ZhciBJTlZBTElEX0JBU0U2NF9SRT0vW14rXFwvMC05QS1aYS16LV9dL2c7XG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCJiYXNlNjQtanNcIjozLFwiaWVlZTc1NFwiOjE4LFwiaXNhcnJheVwiOjh9XSw4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciB0b1N0cmluZz17fS50b1N0cmluZzttb2R1bGUuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihyKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PXRvU3RyaW5nLmNhbGwocil9O1xufSx7fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4hZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXRyeXt2YXIgZT1uZXcgd2luZG93LkN1c3RvbUV2ZW50KFwidGVzdFwiLHtjYW5jZWxhYmxlOiEwfSk7aWYoZS5wcmV2ZW50RGVmYXVsdCgpLCEwIT09ZS5kZWZhdWx0UHJldmVudGVkKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBwcmV2ZW50IGRlZmF1bHRcIil9Y2F0Y2goZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiB0PXR8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH0sbj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLG4uaW5pdEN1c3RvbUV2ZW50KGUsdC5idWJibGVzLHQuY2FuY2VsYWJsZSx0LmRldGFpbCkscj1uLnByZXZlbnREZWZhdWx0LG4ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtyLmNhbGwodGhpcyk7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGVmYXVsdFByZXZlbnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19KX1jYXRjaChlKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9fSxufTt0LnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlLHdpbmRvdy5DdXN0b21FdmVudD10fX0oKTtcbn0se31dLDEwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHVzZUNvbG9ycygpe3JldHVyblwiV2Via2l0QXBwZWFyYW5jZVwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlfHx3aW5kb3cuY29uc29sZSYmKGNvbnNvbGUuZmlyZWJ1Z3x8Y29uc29sZS5leGNlcHRpb24mJmNvbnNvbGUudGFibGUpfHxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF9ZnVuY3Rpb24gZm9ybWF0QXJncygpe3ZhciBvPWFyZ3VtZW50cyxlPXRoaXMudXNlQ29sb3JzO2lmKG9bMF09KGU/XCIlY1wiOlwiXCIpK3RoaXMubmFtZXNwYWNlKyhlP1wiICVjXCI6XCIgXCIpK29bMF0rKGU/XCIlYyBcIjpcIiBcIiksIWUpcmV0dXJuIG87dmFyIHI9XCJjb2xvcjogXCIrdGhpcy5jb2xvcjtvPVtvWzBdLHIsXCJjb2xvcjogaW5oZXJpdFwiXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobywxKSk7dmFyIHQ9MCxzPTA7cmV0dXJuIG9bMF0ucmVwbGFjZSgvJVthLXolXS9nLGZ1bmN0aW9uKG8pe1wiJSVcIiE9PW8mJih0KyssXCIlY1wiPT09byYmKHM9dCkpfSksby5zcGxpY2UocywwLHIpLG99ZnVuY3Rpb24gbG9nKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc2F2ZShvKXt0cnl7bnVsbD09bz9leHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbShcImRlYnVnXCIpOmV4cG9ydHMuc3RvcmFnZS5kZWJ1Zz1vfWNhdGNoKG8pe319ZnVuY3Rpb24gbG9hZCgpe3ZhciBvO3RyeXtvPWV4cG9ydHMuc3RvcmFnZS5kZWJ1Z31jYXRjaChvKXt9cmV0dXJuIG99ZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCl7dHJ5e3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKG8pe319ZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1fZGVyZXFfKFwiLi9kZWJ1Z1wiKSxleHBvcnRzLmxvZz1sb2csZXhwb3J0cy5mb3JtYXRBcmdzPWZvcm1hdEFyZ3MsZXhwb3J0cy5zYXZlPXNhdmUsZXhwb3J0cy5sb2FkPWxvYWQsZXhwb3J0cy51c2VDb2xvcnM9dXNlQ29sb3JzLGV4cG9ydHMuc3RvcmFnZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZ2b2lkIDAhPT1jaHJvbWUuc3RvcmFnZT9jaHJvbWUuc3RvcmFnZS5sb2NhbDpsb2NhbHN0b3JhZ2UoKSxleHBvcnRzLmNvbG9ycz1bXCJsaWdodHNlYWdyZWVuXCIsXCJmb3Jlc3RncmVlblwiLFwiZ29sZGVucm9kXCIsXCJkb2RnZXJibHVlXCIsXCJkYXJrb3JjaGlkXCIsXCJjcmltc29uXCJdLGV4cG9ydHMuZm9ybWF0dGVycy5qPWZ1bmN0aW9uKG8pe3JldHVybiBKU09OLnN0cmluZ2lmeShvKX0sZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcbn0se1wiLi9kZWJ1Z1wiOjExfV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gc2VsZWN0Q29sb3IoKXtyZXR1cm4gZXhwb3J0cy5jb2xvcnNbcHJldkNvbG9yKyslZXhwb3J0cy5jb2xvcnMubGVuZ3RoXX1mdW5jdGlvbiBkZWJ1ZyhlKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG8oKXt2YXIgZT1vO251bGw9PWUudXNlQ29sb3JzJiYoZS51c2VDb2xvcnM9ZXhwb3J0cy51c2VDb2xvcnMoKSksbnVsbD09ZS5jb2xvciYmZS51c2VDb2xvcnMmJihlLmNvbG9yPXNlbGVjdENvbG9yKCkpO3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7clswXT1leHBvcnRzLmNvZXJjZShyWzBdKSxcInN0cmluZ1wiIT10eXBlb2YgclswXSYmKHI9W1wiJW9cIl0uY29uY2F0KHIpKTt2YXIgcz0wO3JbMF09clswXS5yZXBsYWNlKC8lKFthLXolXSkvZyxmdW5jdGlvbihvLHQpe2lmKFwiJSVcIj09PW8pcmV0dXJuIG87cysrO3ZhciBuPWV4cG9ydHMuZm9ybWF0dGVyc1t0XTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXt2YXIgbD1yW3NdO289bi5jYWxsKGUsbCksci5zcGxpY2UocywxKSxzLS19cmV0dXJuIG99KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBleHBvcnRzLmZvcm1hdEFyZ3MmJihyPWV4cG9ydHMuZm9ybWF0QXJncy5hcHBseShlLHIpKSwoby5sb2d8fGV4cG9ydHMubG9nfHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKS5hcHBseShlLHIpfXIuZW5hYmxlZD0hMSxvLmVuYWJsZWQ9ITA7dmFyIHM9ZXhwb3J0cy5lbmFibGVkKGUpP286cjtyZXR1cm4gcy5uYW1lc3BhY2U9ZSxzfWZ1bmN0aW9uIGVuYWJsZShlKXtleHBvcnRzLnNhdmUoZSk7Zm9yKHZhciByPShlfHxcIlwiKS5zcGxpdCgvW1xccyxdKy8pLG89ci5sZW5ndGgscz0wO3M8bztzKyspcltzXSYmKGU9cltzXS5yZXBsYWNlKC9cXCovZyxcIi4qP1wiKSxcIi1cIj09PWVbMF0/ZXhwb3J0cy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrZS5zdWJzdHIoMSkrXCIkXCIpKTpleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cChcIl5cIitlK1wiJFwiKSkpfWZ1bmN0aW9uIGRpc2FibGUoKXtleHBvcnRzLmVuYWJsZShcIlwiKX1mdW5jdGlvbiBlbmFibGVkKGUpe3ZhciByLG87Zm9yKHI9MCxvPWV4cG9ydHMuc2tpcHMubGVuZ3RoO3I8bztyKyspaWYoZXhwb3J0cy5za2lwc1tyXS50ZXN0KGUpKXJldHVybiExO2ZvcihyPTAsbz1leHBvcnRzLm5hbWVzLmxlbmd0aDtyPG87cisrKWlmKGV4cG9ydHMubmFtZXNbcl0udGVzdChlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjb2VyY2UoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvcj9lLnN0YWNrfHxlLm1lc3NhZ2U6ZX1leHBvcnRzPW1vZHVsZS5leHBvcnRzPWRlYnVnLGV4cG9ydHMuY29lcmNlPWNvZXJjZSxleHBvcnRzLmRpc2FibGU9ZGlzYWJsZSxleHBvcnRzLmVuYWJsZT1lbmFibGUsZXhwb3J0cy5lbmFibGVkPWVuYWJsZWQsZXhwb3J0cy5uYW1lcz1bXSxleHBvcnRzLnNraXBzPVtdLGV4cG9ydHMuZm9ybWF0dGVycz17fTt2YXIgcHJldkNvbG9yPTA7XG59LHt9XSwxMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0b09iamVjdChyKXtpZihudWxsPT09cnx8dm9pZCAwPT09cil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU291cmNlcyBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdChyKX1mdW5jdGlvbiBhc3NpZ25LZXkocixlLG4pe3ZhciB0PWVbbl07aWYodm9pZCAwIT09dCYmbnVsbCE9PXQpe2lmKGhhc093blByb3BlcnR5LmNhbGwocixuKSYmKHZvaWQgMD09PXJbbl18fG51bGw9PT1yW25dKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0IChcIituK1wiKVwiKTtoYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJmlzT2JqKHQpP3Jbbl09YXNzaWduKE9iamVjdChyW25dKSxlW25dKTpyW25dPXR9fWZ1bmN0aW9uIGFzc2lnbihyLGUpe2lmKHI9PT1lKXJldHVybiByO2U9T2JqZWN0KGUpO2Zvcih2YXIgbiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmYXNzaWduS2V5KHIsZSxuKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKWZvcih2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpLG89MDtvPHQubGVuZ3RoO28rKylwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZSx0W29dKSYmYXNzaWduS2V5KHIsZSx0W29dKTtyZXR1cm4gcn12YXIgaXNPYmo9X2RlcmVxXyhcImlzLW9ialwiKSxoYXNPd25Qcm9wZXJ0eT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHByb3BJc0VudW1lcmFibGU9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyKXtyPXRvT2JqZWN0KHIpO2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspYXNzaWduKHIsYXJndW1lbnRzW2VdKTtyZXR1cm4gcn07XG59LHtcImlzLW9ialwiOjIzfV0sMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuIWZ1bmN0aW9uKHQscixuLGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGwoZSx0KXtmb3IodmFyIHI9MCxuPWUubGVuZ3RoO3I8bjtyKyspbShlW3JdLHQpfWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0LHI9MCxuPWUubGVuZ3RoO3I8bjtyKyspdD1lW3JdLHkodCxIW3UodCldKX1mdW5jdGlvbiBvKGUpe3JldHVybiBmdW5jdGlvbih0KXthZSh0KSYmKG0odCxlKSxsKHQucXVlcnlTZWxlY3RvckFsbCh4KSxlKSl9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9b2UuY2FsbChlLFwiaXNcIikscj1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCksbj1HLmNhbGwoVSx0P2srdC50b1VwcGVyQ2FzZSgpOl8rcik7cmV0dXJuIHQmJi0xPG4mJiFjKHIsdCk/LTE6bn1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuLTE8eC5pbmRleE9mKGUrJ1tpcz1cIicrdCsnXCJdJyl9ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLmN1cnJlbnRUYXJnZXQscj1lLmF0dHJDaGFuZ2Usbj1lLmF0dHJOYW1lLGE9ZS50YXJnZXQ7bWUmJighYXx8YT09PXQpJiZ0LmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmXCJzdHlsZVwiIT09biYmZS5wcmV2VmFsdWUhPT1lLm5ld1ZhbHVlJiZ0LmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuLHI9PT1lW0ZdP251bGw6ZS5wcmV2VmFsdWUscj09PWVbSV0/bnVsbDplLm5ld1ZhbHVlKX1mdW5jdGlvbiBkKGUpe3ZhciB0PW8oZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe2cucHVzaCh0LGUudGFyZ2V0KX19ZnVuY3Rpb24gZihlKXtiZSYmKGJlPSExLGUuY3VycmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFAsZikpLGwoKGUudGFyZ2V0fHxyKS5xdWVyeVNlbGVjdG9yQWxsKHgpLGUuZGV0YWlsPT09VD9UOkwpLG5lJiZwKCl9ZnVuY3Rpb24gaChlLHQpe3ZhciByPXRoaXM7dWUuY2FsbChyLGUsdCksQy5jYWxsKHIse3RhcmdldDpyfSl9ZnVuY3Rpb24gdihlLHQpe2VlKGUsdCksTz9PLm9ic2VydmUoZSxkZSk6KHBlJiYoZS5zZXRBdHRyaWJ1dGU9aCxlW3ddPUUoZSksZS5hZGRFdmVudExpc3RlbmVyKFIsQykpLGUuYWRkRXZlbnRMaXN0ZW5lcihELHMpKSxlLmNyZWF0ZWRDYWxsYmFjayYmbWUmJihlLmNyZWF0ZWQ9ITAsZS5jcmVhdGVkQ2FsbGJhY2soKSxlLmNyZWF0ZWQ9ITEpfWZ1bmN0aW9uIHAoKXtmb3IodmFyIGUsdD0wLHI9bGUubGVuZ3RoO3Q8cjt0KyspZT1sZVt0XSxaLmNvbnRhaW5zKGUpfHwoci0tLGxlLnNwbGljZSh0LS0sMSksbShlLFQpKX1mdW5jdGlvbiBiKGUpe3Rocm93IG5ldyBFcnJvcihcIkEgXCIrZStcIiB0eXBlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKX1mdW5jdGlvbiBtKGUsdCl7dmFyIHIsbj11KGUpOy0xPG4mJihOKGUsSFtuXSksbj0wLHQhPT1MfHxlW0xdP3Q9PT1UJiYhZVtUXSYmKGVbTF09ITEsZVtUXT0hMCxuPTEpOihlW1RdPSExLGVbTF09ITAsbj0xLG5lJiZHLmNhbGwobGUsZSk8MCYmbGUucHVzaChlKSksbiYmKHI9ZVt0K1wiQ2FsbGJhY2tcIl0pJiZyLmNhbGwoZSkpfWlmKCEoYSBpbiByKSl7dmFyIGcsQyxBLEUsTyxOLHksdz1cIl9fXCIrYSsoMWU1Kk1hdGgucmFuZG9tKCk+PjApLEw9XCJhdHRhY2hlZFwiLFQ9XCJkZXRhY2hlZFwiLE09XCJleHRlbmRzXCIsRj1cIkFERElUSU9OXCIsVj1cIk1PRElGSUNBVElPTlwiLEk9XCJSRU1PVkFMXCIsRD1cIkRPTUF0dHJNb2RpZmllZFwiLFA9XCJET01Db250ZW50TG9hZGVkXCIsUj1cIkRPTVN1YnRyZWVNb2RpZmllZFwiLF89XCI8XCIsaz1cIj1cIixxPS9eW0EtWl1bQS1aMC05XSooPzotW0EtWjAtOV0rKSskLyxTPVtcIkFOTk9UQVRJT04tWE1MXCIsXCJDT0xPUi1QUk9GSUxFXCIsXCJGT05ULUZBQ0VcIixcIkZPTlQtRkFDRS1TUkNcIixcIkZPTlQtRkFDRS1VUklcIixcIkZPTlQtRkFDRS1GT1JNQVRcIixcIkZPTlQtRkFDRS1OQU1FXCIsXCJNSVNTSU5HLUdMWVBIXCJdLFU9W10sSD1bXSx4PVwiXCIsWj1yLmRvY3VtZW50RWxlbWVudCxHPVUuaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoO3QtLSYmdGhpc1t0XSE9PWU7KTtyZXR1cm4gdH0saj1uLnByb3RvdHlwZSx6PWouaGFzT3duUHJvcGVydHksSz1qLmlzUHJvdG90eXBlT2YsVz1uLmRlZmluZVByb3BlcnR5LFg9bi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsWT1uLmdldE93blByb3BlcnR5TmFtZXMsJD1uLmdldFByb3RvdHlwZU9mLEI9bi5zZXRQcm90b3R5cGVPZixKPSEhbi5fX3Byb3RvX18sUT1uLmNyZWF0ZXx8ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8oZS5wcm90b3R5cGU9dCxuZXcgZSk6dGhpc30sZWU9Qnx8KEo/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfTpZJiZYP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcixuPVkodCksYT0wLGw9bi5sZW5ndGg7YTxsO2ErKylyPW5bYV0sei5jYWxsKGUscil8fFcoZSxyLFgodCxyKSl9cmV0dXJuIGZ1bmN0aW9uKHQscil7ZG97ZSh0LHIpfXdoaWxlKChyPSQocikpJiYhSy5jYWxsKHIsdCkpO3JldHVybiB0fX0oKTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX0pLHRlPXQuTXV0YXRpb25PYnNlcnZlcnx8dC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHJlPSh0LkhUTUxFbGVtZW50fHx0LkVsZW1lbnR8fHQuTm9kZSkucHJvdG90eXBlLG5lPSFLLmNhbGwocmUsWiksYWU9bmU/ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfTpmdW5jdGlvbihlKXtyZXR1cm4gSy5jYWxsKHJlLGUpfSxsZT1uZSYmW10saWU9cmUuY2xvbmVOb2RlLG9lPXJlLmdldEF0dHJpYnV0ZSx1ZT1yZS5zZXRBdHRyaWJ1dGUsY2U9cmUucmVtb3ZlQXR0cmlidXRlLHNlPXIuY3JlYXRlRWxlbWVudCxkZT10ZSYme2F0dHJpYnV0ZXM6ITAsY2hhcmFjdGVyRGF0YTohMCxhdHRyaWJ1dGVPbGRWYWx1ZTohMH0sZmU9dGV8fGZ1bmN0aW9uKGUpe3BlPSExLFoucmVtb3ZlRXZlbnRMaXN0ZW5lcihELGZlKX0saGU9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDEwKX0sdmU9ITEscGU9ITAsYmU9ITAsbWU9ITA7Qnx8Sj8oTj1mdW5jdGlvbihlLHQpe0suY2FsbCh0LGUpfHx2KGUsdCl9LHk9dik6KE49ZnVuY3Rpb24oZSx0KXtlW3ddfHwoZVt3XT1uKCEwKSx2KGUsdCkpfSx5PU4pLG5lPyhwZT0hMSxmdW5jdGlvbigpe3ZhciB0PVgocmUsXCJhZGRFdmVudExpc3RlbmVyXCIpLHI9dC52YWx1ZSxuPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBDdXN0b21FdmVudChELHtidWJibGVzOiEwfSk7dC5hdHRyTmFtZT1lLHQucHJldlZhbHVlPW9lLmNhbGwodGhpcyxlKSx0Lm5ld1ZhbHVlPW51bGwsdFtJXT10LmF0dHJDaGFuZ2U9MixjZS5jYWxsKHRoaXMsZSksdGhpcy5kaXNwYXRjaEV2ZW50KHQpfSxhPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5oYXNBdHRyaWJ1dGUodCksYT1uJiZvZS5jYWxsKHRoaXMsdCk7ZT1uZXcgQ3VzdG9tRXZlbnQoRCx7YnViYmxlczohMH0pLHVlLmNhbGwodGhpcyx0LHIpLGUuYXR0ck5hbWU9dCxlLnByZXZWYWx1ZT1uP2E6bnVsbCxlLm5ld1ZhbHVlPXIsbj9lW1ZdPWUuYXR0ckNoYW5nZT0xOmVbRl09ZS5hdHRyQ2hhbmdlPTAsdGhpcy5kaXNwYXRjaEV2ZW50KGUpfSxsPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5jdXJyZW50VGFyZ2V0LG49clt3XSxhPWUucHJvcGVydHlOYW1lO24uaGFzT3duUHJvcGVydHkoYSkmJihuPW5bYV0sdD1uZXcgQ3VzdG9tRXZlbnQoRCx7YnViYmxlczohMH0pLHQuYXR0ck5hbWU9bi5uYW1lLHQucHJldlZhbHVlPW4udmFsdWV8fG51bGwsdC5uZXdWYWx1ZT1uLnZhbHVlPXJbYV18fG51bGwsbnVsbD09dC5wcmV2VmFsdWU/dFtGXT10LmF0dHJDaGFuZ2U9MDp0W1ZdPXQuYXR0ckNoYW5nZT0xLHIuZGlzcGF0Y2hFdmVudCh0KSl9O3QudmFsdWU9ZnVuY3Rpb24oZSx0LGkpe2U9PT1EJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayYmdGhpcy5zZXRBdHRyaWJ1dGUhPT1hJiYodGhpc1t3XT17Y2xhc3NOYW1lOntuYW1lOlwiY2xhc3NcIix2YWx1ZTp0aGlzLmNsYXNzTmFtZX19LHRoaXMuc2V0QXR0cmlidXRlPWEsdGhpcy5yZW1vdmVBdHRyaWJ1dGU9bixyLmNhbGwodGhpcyxcInByb3BlcnR5Y2hhbmdlXCIsbCkpLHIuY2FsbCh0aGlzLGUsdCxpKX0sVyhyZSxcImFkZEV2ZW50TGlzdGVuZXJcIix0KX0oKSk6dGV8fChaLmFkZEV2ZW50TGlzdGVuZXIoRCxmZSksWi5zZXRBdHRyaWJ1dGUodywxKSxaLnJlbW92ZUF0dHJpYnV0ZSh3KSxwZSYmKEM9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGE9dGhpcztpZihhPT09ZS50YXJnZXQpe3Q9YVt3XSxhW3ddPXI9RShhKTtmb3IobiBpbiByKXtpZighKG4gaW4gdCkpcmV0dXJuIEEoMCxhLG4sdFtuXSxyW25dLEYpO2lmKHJbbl0hPT10W25dKXJldHVybiBBKDEsYSxuLHRbbl0scltuXSxWKX1mb3IobiBpbiB0KWlmKCEobiBpbiByKSlyZXR1cm4gQSgyLGEsbix0W25dLHJbbl0sSSl9fSxBPWZ1bmN0aW9uKGUsdCxyLG4sYSxsKXt2YXIgaT17YXR0ckNoYW5nZTplLGN1cnJlbnRUYXJnZXQ6dCxhdHRyTmFtZTpyLHByZXZWYWx1ZTpuLG5ld1ZhbHVlOmF9O2lbbF09ZSxzKGkpfSxFPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49e30sYT1lLmF0dHJpYnV0ZXMsbD0wLGk9YS5sZW5ndGg7bDxpO2wrKyl0PWFbbF0sXCJzZXRBdHRyaWJ1dGVcIiE9PShyPXQubmFtZSkmJihuW3JdPXQudmFsdWUpO3JldHVybiBufSkpLHJbYV09ZnVuY3Rpb24oZSx0KXtpZihuPWUudG9VcHBlckNhc2UoKSx2ZXx8KHZlPSEwLHRlPyhPPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgcj0wLG49ZS5sZW5ndGg7cjxuO3QoZVtyKytdKSk7fXJldHVybiBuZXcgdGUoZnVuY3Rpb24obil7Zm9yKHZhciBhLGwsaSxvPTAsdT1uLmxlbmd0aDtvPHU7bysrKWE9bltvXSxcImNoaWxkTGlzdFwiPT09YS50eXBlPyhyKGEuYWRkZWROb2RlcyxlKSxyKGEucmVtb3ZlZE5vZGVzLHQpKToobD1hLnRhcmdldCxtZSYmbC5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJlwic3R5bGVcIiE9PWEuYXR0cmlidXRlTmFtZSYmKGk9b2UuY2FsbChsLGEuYXR0cmlidXRlTmFtZSkpIT09YS5vbGRWYWx1ZSYmbC5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYS5hdHRyaWJ1dGVOYW1lLGEub2xkVmFsdWUsaSkpfSl9KG8oTCksbyhUKSksTy5vYnNlcnZlKHIse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSkpOihnPVtdLGhlKGZ1bmN0aW9uIGUoKXtmb3IoO2cubGVuZ3RoOylnLnNoaWZ0KCkuY2FsbChudWxsLGcuc2hpZnQoKSk7aGUoZSl9KSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIixkKEwpKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLGQoVCkpKSxyLmFkZEV2ZW50TGlzdGVuZXIoUCxmKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsZiksci5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49c2UuYXBwbHkocixhcmd1bWVudHMpLGE9XCJcIitlLGw9Ry5jYWxsKFUsKHQ/azpfKSsodHx8YSkudG9VcHBlckNhc2UoKSksaT0tMTxsO3JldHVybiB0JiYobi5zZXRBdHRyaWJ1dGUoXCJpc1wiLHQ9dC50b0xvd2VyQ2FzZSgpKSxpJiYoaT1jKGEudG9VcHBlckNhc2UoKSx0KSkpLG1lPSFyLmNyZWF0ZUVsZW1lbnQuaW5uZXJIVE1MSGVscGVyLGkmJnkobixIW2xdKSxufSxyZS5jbG9uZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9aWUuY2FsbCh0aGlzLCEhZSkscj11KHQpO3JldHVybi0xPHImJnkodCxIW3JdKSxlJiZpKHQucXVlcnlTZWxlY3RvckFsbCh4KSksdH0pLC0yPEcuY2FsbChVLGsrbikrRy5jYWxsKFUsXytuKSYmYihlKSwhcS50ZXN0KG4pfHwtMTxHLmNhbGwoUyxuKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdHlwZSBcIitlK1wiIGlzIGludmFsaWRcIik7dmFyIG4sYSxzPWZ1bmN0aW9uKCl7cmV0dXJuIHY/ci5jcmVhdGVFbGVtZW50KHAsbik6ci5jcmVhdGVFbGVtZW50KHApfSxoPXR8fGosdj16LmNhbGwoaCxNKSxwPXY/dFtNXS50b1VwcGVyQ2FzZSgpOm47cmV0dXJuIHYmJi0xPEcuY2FsbChVLF8rcCkmJmIocCksYT1VLnB1c2goKHY/azpfKStuKS0xLHg9eC5jb25jYXQoeC5sZW5ndGg/XCIsXCI6XCJcIix2P3ArJ1tpcz1cIicrZS50b0xvd2VyQ2FzZSgpKydcIl0nOnApLHMucHJvdG90eXBlPUhbYV09ei5jYWxsKGgsXCJwcm90b3R5cGVcIik/aC5wcm90b3R5cGU6UShyZSksbChyLnF1ZXJ5U2VsZWN0b3JBbGwoeCksTCksc319fSh3aW5kb3csZG9jdW1lbnQsT2JqZWN0LFwicmVnaXN0ZXJFbGVtZW50XCIpO1xufSx7fV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ocil7c3dpdGNoKHIpe2Nhc2VcImludDhcIjpyZXR1cm4gSW50OEFycmF5O2Nhc2VcImludDE2XCI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZVwiaW50MzJcIjpyZXR1cm4gSW50MzJBcnJheTtjYXNlXCJ1aW50OFwiOnJldHVybiBVaW50OEFycmF5O2Nhc2VcInVpbnQxNlwiOnJldHVybiBVaW50MTZBcnJheTtjYXNlXCJ1aW50MzJcIjpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZVwiZmxvYXQzMlwiOnJldHVybiBGbG9hdDMyQXJyYXk7Y2FzZVwiZmxvYXQ2NFwiOnJldHVybiBGbG9hdDY0QXJyYXk7Y2FzZVwiYXJyYXlcIjpyZXR1cm4gQXJyYXk7Y2FzZVwidWludDhfY2xhbXBlZFwiOnJldHVybiBVaW50OENsYW1wZWRBcnJheX19O1xufSx7fV0sMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gZmxhdHRlblZlcnRleERhdGEoZSx0LHIpe2lmKCFlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtdXN0IHNwZWNpZnkgZGF0YSBhcyBmaXJzdCBwYXJhbWV0ZXJcIik7aWYocj0wfCsocnx8MCksQXJyYXkuaXNBcnJheShlKSYmZVswXSYmXCJudW1iZXJcIj09dHlwZW9mIGVbMF1bMF0pe3ZhciBuLGEsbCxvLGY9ZVswXS5sZW5ndGgscz1lLmxlbmd0aCpmO3QmJlwic3RyaW5nXCIhPXR5cGVvZiB0fHwodD1uZXcoZHR5cGUodHx8XCJmbG9hdDMyXCIpKShzK3IpKTt2YXIgaT10Lmxlbmd0aC1yO2lmKHMhPT1pKXRocm93IG5ldyBFcnJvcihcInNvdXJjZSBsZW5ndGggXCIrcytcIiAoXCIrZitcInhcIitlLmxlbmd0aCtcIikgZG9lcyBub3QgbWF0Y2ggZGVzdGluYXRpb24gbGVuZ3RoIFwiK2kpO2ZvcihuPTAsbD1yO248ZS5sZW5ndGg7bisrKWZvcihhPTA7YTxmO2ErKyl0W2wrK109bnVsbD09PWVbbl1bYV0/TmFOOmVbbl1bYV19ZWxzZSBpZih0JiZcInN0cmluZ1wiIT10eXBlb2YgdCl0LnNldChlLHIpO2Vsc2V7dmFyIHk9ZHR5cGUodHx8XCJmbG9hdDMyXCIpO2lmKEFycmF5LmlzQXJyYXkoZSl8fFwiYXJyYXlcIj09PXQpZm9yKHQ9bmV3IHkoZS5sZW5ndGgrciksbj0wLGw9cixvPXQubGVuZ3RoO2w8bztsKyssbisrKXRbbF09bnVsbD09PWVbbl0/TmFOOmVbbl07ZWxzZSAwPT09cj90PW5ldyB5KGUpOih0PW5ldyB5KGUubGVuZ3RoK3IpLHQuc2V0KGUscikpfXJldHVybiB0fXZhciBkdHlwZT1fZGVyZXFfKFwiZHR5cGVcIik7bW9kdWxlLmV4cG9ydHM9ZmxhdHRlblZlcnRleERhdGE7XG59LHtcImR0eXBlXCI6MTR9XSwxNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjt2YXIgaXNDYWxsYWJsZT1fZGVyZXFfKFwiaXMtY2FsbGFibGVcIiksdG9TdHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoYXNPd25Qcm9wZXJ0eT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGZvckVhY2hBcnJheT1mdW5jdGlvbihyLHQsYSl7Zm9yKHZhciBvPTAsbD1yLmxlbmd0aDtvPGw7bysrKWhhc093blByb3BlcnR5LmNhbGwocixvKSYmKG51bGw9PWE/dChyW29dLG8scik6dC5jYWxsKGEscltvXSxvLHIpKX0sZm9yRWFjaFN0cmluZz1mdW5jdGlvbihyLHQsYSl7Zm9yKHZhciBvPTAsbD1yLmxlbmd0aDtvPGw7bysrKW51bGw9PWE/dChyLmNoYXJBdChvKSxvLHIpOnQuY2FsbChhLHIuY2hhckF0KG8pLG8scil9LGZvckVhY2hPYmplY3Q9ZnVuY3Rpb24ocix0LGEpe2Zvcih2YXIgbyBpbiByKWhhc093blByb3BlcnR5LmNhbGwocixvKSYmKG51bGw9PWE/dChyW29dLG8scik6dC5jYWxsKGEscltvXSxvLHIpKX0sZm9yRWFjaD1mdW5jdGlvbihyLHQsYSl7aWYoIWlzQ2FsbGFibGUodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvblwiKTt2YXIgbzthcmd1bWVudHMubGVuZ3RoPj0zJiYobz1hKSxcIltvYmplY3QgQXJyYXldXCI9PT10b1N0ci5jYWxsKHIpP2ZvckVhY2hBcnJheShyLHQsbyk6XCJzdHJpbmdcIj09dHlwZW9mIHI/Zm9yRWFjaFN0cmluZyhyLHQsbyk6Zm9yRWFjaE9iamVjdChyLHQsbyl9O21vZHVsZS5leHBvcnRzPWZvckVhY2g7XG59LHtcImlzLWNhbGxhYmxlXCI6MjF9XSwxNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG52YXIgd2luO3dpbj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LG1vZHVsZS5leHBvcnRzPXdpbjtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSwxODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5leHBvcnRzLnJlYWQ9ZnVuY3Rpb24oYSxvLHQscixoKXt2YXIgTSxwLHc9OCpoLXItMSxmPSgxPDx3KS0xLGU9Zj4+MSxpPS03LE49dD9oLTE6MCxuPXQ/LTE6MSxzPWFbbytOXTtmb3IoTis9bixNPXMmKDE8PC1pKS0xLHM+Pj0taSxpKz13O2k+MDtNPTI1NipNK2FbbytOXSxOKz1uLGktPTgpO2ZvcihwPU0mKDE8PC1pKS0xLE0+Pj0taSxpKz1yO2k+MDtwPTI1NipwK2FbbytOXSxOKz1uLGktPTgpO2lmKDA9PT1NKU09MS1lO2Vsc2V7aWYoTT09PWYpcmV0dXJuIHA/TmFOOjEvMCoocz8tMToxKTtwKz1NYXRoLnBvdygyLHIpLE0tPWV9cmV0dXJuKHM/LTE6MSkqcCpNYXRoLnBvdygyLE0tcil9LGV4cG9ydHMud3JpdGU9ZnVuY3Rpb24oYSxvLHQscixoLE0pe3ZhciBwLHcsZixlPTgqTS1oLTEsaT0oMTw8ZSktMSxOPWk+PjEsbj0yMz09PWg/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLHM9cj8wOk0tMSx1PXI/MTotMSxsPW88MHx8MD09PW8mJjEvbzwwPzE6MDtmb3Iobz1NYXRoLmFicyhvKSxpc05hTihvKXx8bz09PTEvMD8odz1pc05hTihvKT8xOjAscD1pKToocD1NYXRoLmZsb29yKE1hdGgubG9nKG8pL01hdGguTE4yKSxvKihmPU1hdGgucG93KDIsLXApKTwxJiYocC0tLGYqPTIpLG8rPXArTj49MT9uL2Y6bipNYXRoLnBvdygyLDEtTiksbypmPj0yJiYocCsrLGYvPTIpLHArTj49aT8odz0wLHA9aSk6cCtOPj0xPyh3PShvKmYtMSkqTWF0aC5wb3coMixoKSxwKz1OKToodz1vKk1hdGgucG93KDIsTi0xKSpNYXRoLnBvdygyLGgpLHA9MCkpO2g+PTg7YVt0K3NdPTI1NSZ3LHMrPXUsdy89MjU2LGgtPTgpO2ZvcihwPXA8PGh8dyxlKz1oO2U+MDthW3Qrc109MjU1JnAscys9dSxwLz0yNTYsZS09OCk7YVt0K3MtdV18PTEyOCpsfTtcbn0se31dLDE5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt0LnN1cGVyXz1lLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTptb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3Quc3VwZXJfPWU7dmFyIG89ZnVuY3Rpb24oKXt9O28ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBvLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9O1xufSx7fV0sMjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNCdWZmZXIoZil7cmV0dXJuISFmLmNvbnN0cnVjdG9yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLmNvbnN0cnVjdG9yLmlzQnVmZmVyJiZmLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGYpfWZ1bmN0aW9uIGlzU2xvd0J1ZmZlcihmKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnJlYWRGbG9hdExFJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnNsaWNlJiZpc0J1ZmZlcihmLnNsaWNlKDAsMCkpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGYpe3JldHVybiBudWxsIT1mJiYoaXNCdWZmZXIoZil8fGlzU2xvd0J1ZmZlcihmKXx8ISFmLl9pc0J1ZmZlcil9O1xufSx7fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIGZuVG9TdHI9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLGNvbnN0cnVjdG9yUmVnZXg9L15cXHMqY2xhc3NcXGIvLGlzRVM2Q2xhc3NGbj1mdW5jdGlvbih0KXt0cnl7dmFyIG49Zm5Ub1N0ci5jYWxsKHQpO3JldHVybiBjb25zdHJ1Y3RvclJlZ2V4LnRlc3Qobil9Y2F0Y2godCl7cmV0dXJuITF9fSx0cnlGdW5jdGlvbk9iamVjdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIWlzRVM2Q2xhc3NGbih0KSYmKGZuVG9TdHIuY2FsbCh0KSwhMCl9Y2F0Y2godCl7cmV0dXJuITF9fSx0b1N0cj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGZuQ2xhc3M9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLGdlbkNsYXNzPVwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIixoYXNUb1N0cmluZ1RhZz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWc7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmIXQucHJvdG90eXBlKXJldHVybiEwO2lmKGhhc1RvU3RyaW5nVGFnKXJldHVybiB0cnlGdW5jdGlvbk9iamVjdCh0KTtpZihpc0VTNkNsYXNzRm4odCkpcmV0dXJuITE7dmFyIG49dG9TdHIuY2FsbCh0KTtyZXR1cm4gbj09PWZuQ2xhc3N8fG49PT1nZW5DbGFzc307XG59LHt9XSwyMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG8pe3ZhciB0PXRvU3RyaW5nLmNhbGwobyk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09dHx8XCJmdW5jdGlvblwiPT10eXBlb2YgbyYmXCJbb2JqZWN0IFJlZ0V4cF1cIiE9PXR8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihvPT09d2luZG93LnNldFRpbWVvdXR8fG89PT13aW5kb3cuYWxlcnR8fG89PT13aW5kb3cuY29uZmlybXx8bz09PXdpbmRvdy5wcm9tcHQpfW1vZHVsZS5leHBvcnRzPWlzRnVuY3Rpb247dmFyIHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG59LHt9XSwyMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gbnVsbCE9PXQmJihcIm9iamVjdFwiPT09ZXx8XCJmdW5jdGlvblwiPT09ZSl9O1xufSx7fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gVGV4dExheW91dCh0KXt0aGlzLmdseXBocz1bXSx0aGlzLl9tZWFzdXJlPXRoaXMuY29tcHV0ZU1ldHJpY3MuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZSh0KX1mdW5jdGlvbiBhZGRHZXR0ZXIodCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRMYXlvdXQucHJvdG90eXBlLHQse2dldDp3cmFwcGVyKHQpLGNvbmZpZ3VyYWJsZTohMH0pfWZ1bmN0aW9uIHdyYXBwZXIodCl7cmV0dXJuIG5ldyBGdW5jdGlvbihbXCJyZXR1cm4gZnVuY3Rpb24gXCIrdCtcIigpIHtcIixcIiAgcmV0dXJuIHRoaXMuX1wiK3QsXCJ9XCJdLmpvaW4oXCJcXG5cIikpKCl9ZnVuY3Rpb24gZ2V0R2x5cGhCeUlkKHQsZSl7aWYoIXQuY2hhcnN8fDA9PT10LmNoYXJzLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgcj1maW5kQ2hhcih0LmNoYXJzLGUpO3JldHVybiByPj0wP3QuY2hhcnNbcl06bnVsbH1mdW5jdGlvbiBnZXRYSGVpZ2h0KHQpe2Zvcih2YXIgZT0wO2U8WF9IRUlHSFRTLmxlbmd0aDtlKyspe3ZhciByPVhfSEVJR0hUU1tlXS5jaGFyQ29kZUF0KDApLG49ZmluZENoYXIodC5jaGFycyxyKTtpZihuPj0wKXJldHVybiB0LmNoYXJzW25dLmhlaWdodH1yZXR1cm4gMH1mdW5jdGlvbiBnZXRNR2x5cGgodCl7Zm9yKHZhciBlPTA7ZTxNX1dJRFRIUy5sZW5ndGg7ZSsrKXt2YXIgcj1NX1dJRFRIU1tlXS5jaGFyQ29kZUF0KDApLG49ZmluZENoYXIodC5jaGFycyxyKTtpZihuPj0wKXJldHVybiB0LmNoYXJzW25dfXJldHVybiAwfWZ1bmN0aW9uIGdldENhcEhlaWdodCh0KXtmb3IodmFyIGU9MDtlPENBUF9IRUlHSFRTLmxlbmd0aDtlKyspe3ZhciByPUNBUF9IRUlHSFRTW2VdLmNoYXJDb2RlQXQoMCksbj1maW5kQ2hhcih0LmNoYXJzLHIpO2lmKG4+PTApcmV0dXJuIHQuY2hhcnNbbl0uaGVpZ2h0fXJldHVybiAwfWZ1bmN0aW9uIGdldEtlcm5pbmcodCxlLHIpe2lmKCF0Lmtlcm5pbmdzfHwwPT09dC5rZXJuaW5ncy5sZW5ndGgpcmV0dXJuIDA7Zm9yKHZhciBuPXQua2VybmluZ3MsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgYT1uW2ldO2lmKGEuZmlyc3Q9PT1lJiZhLnNlY29uZD09PXIpcmV0dXJuIGEuYW1vdW50fXJldHVybiAwfWZ1bmN0aW9uIGdldEFsaWduVHlwZSh0KXtyZXR1cm5cImNlbnRlclwiPT09dD9BTElHTl9DRU5URVI6XCJyaWdodFwiPT09dD9BTElHTl9SSUdIVDpBTElHTl9MRUZUfWZ1bmN0aW9uIGZpbmRDaGFyKHQsZSxyKXtyPXJ8fDA7Zm9yKHZhciBuPXI7bjx0Lmxlbmd0aDtuKyspaWYodFtuXS5pZD09PWUpcmV0dXJuIG47cmV0dXJuLTF9dmFyIHdvcmRXcmFwPV9kZXJlcV8oXCJ3b3JkLXdyYXBwZXJcIikseHRlbmQ9X2RlcmVxXyhcInh0ZW5kXCIpLG51bWJlcj1fZGVyZXFfKFwiYXMtbnVtYmVyXCIpLFhfSEVJR0hUUz1bXCJ4XCIsXCJlXCIsXCJhXCIsXCJvXCIsXCJuXCIsXCJzXCIsXCJyXCIsXCJjXCIsXCJ1XCIsXCJtXCIsXCJ2XCIsXCJ3XCIsXCJ6XCJdLE1fV0lEVEhTPVtcIm1cIixcIndcIl0sQ0FQX0hFSUdIVFM9W1wiSFwiLFwiSVwiLFwiTlwiLFwiRVwiLFwiRlwiLFwiS1wiLFwiTFwiLFwiVFwiLFwiVVwiLFwiVlwiLFwiV1wiLFwiWFwiLFwiWVwiLFwiWlwiXSxUQUJfSUQ9XCJcXHRcIi5jaGFyQ29kZUF0KDApLFNQQUNFX0lEPVwiIFwiLmNoYXJDb2RlQXQoMCksQUxJR05fTEVGVD0wLEFMSUdOX0NFTlRFUj0xLEFMSUdOX1JJR0hUPTI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBUZXh0TGF5b3V0KHQpfSxUZXh0TGF5b3V0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYodD14dGVuZCh7bWVhc3VyZTp0aGlzLl9tZWFzdXJlfSx0KSx0aGlzLl9vcHQ9dCx0aGlzLl9vcHQudGFiU2l6ZT1udW1iZXIodGhpcy5fb3B0LnRhYlNpemUsNCksIXQuZm9udCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IHByb3ZpZGUgYSB2YWxpZCBiaXRtYXAgZm9udFwiKTt2YXIgZT10aGlzLmdseXBocyxyPXQudGV4dHx8XCJcIixuPXQuZm9udDt0aGlzLl9zZXR1cFNwYWNlR2x5cGhzKG4pO3ZhciBpPXdvcmRXcmFwLmxpbmVzKHIsdCksYT10LndpZHRofHwwO2UubGVuZ3RoPTA7dmFyIGg9aS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXgodCxlLndpZHRoLGEpfSwwKSxvPTAscz0wLGM9bnVtYmVyKHQubGluZUhlaWdodCxuLmNvbW1vbi5saW5lSGVpZ2h0KSx1PW4uY29tbW9uLmJhc2UsbD1jLXUscD10LmxldHRlclNwYWNpbmd8fDAsZj1jKmkubGVuZ3RoLWwsZD1nZXRBbGlnblR5cGUodGhpcy5fb3B0LmFsaWduKTtzLT1mLHRoaXMuX3dpZHRoPWgsdGhpcy5faGVpZ2h0PWYsdGhpcy5fZGVzY2VuZGVyPWMtdSx0aGlzLl9iYXNlbGluZT11LHRoaXMuX3hIZWlnaHQ9Z2V0WEhlaWdodChuKSx0aGlzLl9jYXBIZWlnaHQ9Z2V0Q2FwSGVpZ2h0KG4pLHRoaXMuX2xpbmVIZWlnaHQ9Yyx0aGlzLl9hc2NlbmRlcj1jLWwtdGhpcy5feEhlaWdodDt2YXIgZz10aGlzO2kuZm9yRWFjaChmdW5jdGlvbih0LGkpe2Zvcih2YXIgYSx1PXQuc3RhcnQsbD10LmVuZCxmPXQud2lkdGgsXz11O188bDtfKyspe3ZhciB5PXIuY2hhckNvZGVBdChfKSxHPWcuZ2V0R2x5cGgobix5KTtpZihHKXthJiYobys9Z2V0S2VybmluZyhuLGEuaWQsRy5pZCkpO3ZhciBUPW87ZD09PUFMSUdOX0NFTlRFUj9UKz0oaC1mKS8yOmQ9PT1BTElHTl9SSUdIVCYmKFQrPWgtZiksZS5wdXNoKHtwb3NpdGlvbjpbVCxzXSxkYXRhOkcsaW5kZXg6XyxsaW5lOml9KSxvKz1HLnhhZHZhbmNlK3AsYT1HfX1zKz1jLG89MH0pLHRoaXMuX2xpbmVzVG90YWw9aS5sZW5ndGh9LFRleHRMYXlvdXQucHJvdG90eXBlLl9zZXR1cFNwYWNlR2x5cGhzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2ZhbGxiYWNrU3BhY2VHbHlwaD1udWxsLHRoaXMuX2ZhbGxiYWNrVGFiR2x5cGg9bnVsbCx0LmNoYXJzJiYwIT09dC5jaGFycy5sZW5ndGgpe3ZhciBlPWdldEdseXBoQnlJZCh0LFNQQUNFX0lEKXx8Z2V0TUdseXBoKHQpfHx0LmNoYXJzWzBdLHI9dGhpcy5fb3B0LnRhYlNpemUqZS54YWR2YW5jZTt0aGlzLl9mYWxsYmFja1NwYWNlR2x5cGg9ZSx0aGlzLl9mYWxsYmFja1RhYkdseXBoPXh0ZW5kKGUse3g6MCx5OjAseGFkdmFuY2U6cixpZDpUQUJfSUQseG9mZnNldDowLHlvZmZzZXQ6MCx3aWR0aDowLGhlaWdodDowfSl9fSxUZXh0TGF5b3V0LnByb3RvdHlwZS5nZXRHbHlwaD1mdW5jdGlvbih0LGUpe3ZhciByPWdldEdseXBoQnlJZCh0LGUpO3JldHVybiByfHwoZT09PVRBQl9JRD90aGlzLl9mYWxsYmFja1RhYkdseXBoOmU9PT1TUEFDRV9JRD90aGlzLl9mYWxsYmFja1NwYWNlR2x5cGg6bnVsbCl9LFRleHRMYXlvdXQucHJvdG90eXBlLmNvbXB1dGVNZXRyaWNzPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpLGEsaD10aGlzLl9vcHQubGV0dGVyU3BhY2luZ3x8MCxvPXRoaXMuX29wdC5mb250LHM9MCxjPTAsdT0wO2lmKCFvLmNoYXJzfHwwPT09by5jaGFycy5sZW5ndGgpcmV0dXJue3N0YXJ0OmUsZW5kOmUsd2lkdGg6MH07cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIGw9ZTtsPHI7bCsrKXt2YXIgcD10LmNoYXJDb2RlQXQobCksaT10aGlzLmdldEdseXBoKG8scCk7aWYoaSl7aS54b2Zmc2V0O3MrPWE/Z2V0S2VybmluZyhvLGEuaWQsaS5pZCk6MDt2YXIgZj1zK2kueGFkdmFuY2UraCxkPXMraS53aWR0aDtpZihkPj1ufHxmPj1uKWJyZWFrO3M9ZixjPWQsYT1pfXUrK31yZXR1cm4gYSYmKGMrPWEueG9mZnNldCkse3N0YXJ0OmUsZW5kOmUrdSx3aWR0aDpjfX0sW1wid2lkdGhcIixcImhlaWdodFwiLFwiZGVzY2VuZGVyXCIsXCJhc2NlbmRlclwiLFwieEhlaWdodFwiLFwiYmFzZWxpbmVcIixcImNhcEhlaWdodFwiLFwibGluZUhlaWdodFwiXS5mb3JFYWNoKGFkZEdldHRlcik7XG59LHtcImFzLW51bWJlclwiOjIsXCJ3b3JkLXdyYXBwZXJcIjo1MCxcInh0ZW5kXCI6NTN9XSwyNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKEJ1ZmZlcil7XG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHIpe3JldHVyblwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKX1mdW5jdGlvbiBnZXRCaW5hcnlPcHRzKHIpe2lmKHhtbDIpcmV0dXJuIHh0ZW5kKHIse3Jlc3BvbnNlVHlwZTpcImFycmF5YnVmZmVyXCJ9KTtpZih2b2lkIDA9PT1zZWxmLlhNTEh0dHBSZXF1ZXN0KXRocm93IG5ldyBFcnJvcihcInlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFhIUiBsb2FkaW5nXCIpO3ZhciBlPW5ldyBzZWxmLlhNTEh0dHBSZXF1ZXN0O3JldHVybiBlLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpLHh0ZW5kKHt4aHI6ZX0scil9dmFyIHhocj1fZGVyZXFfKFwieGhyXCIpLG5vb3A9ZnVuY3Rpb24oKXt9LHBhcnNlQVNDSUk9X2RlcmVxXyhcInBhcnNlLWJtZm9udC1hc2NpaVwiKSxwYXJzZVhNTD1fZGVyZXFfKFwicGFyc2UtYm1mb250LXhtbFwiKSxyZWFkQmluYXJ5PV9kZXJlcV8oXCJwYXJzZS1ibWZvbnQtYmluYXJ5XCIpLGlzQmluYXJ5Rm9ybWF0PV9kZXJlcV8oXCIuL2xpYi9pcy1iaW5hcnlcIikseHRlbmQ9X2RlcmVxXyhcInh0ZW5kXCIpLHhtbDI9ZnVuY3Rpb24oKXtyZXR1cm4gc2VsZi5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBYTUxIdHRwUmVxdWVzdH0oKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyLGUpe2U9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm5vb3AsXCJzdHJpbmdcIj09dHlwZW9mIHI/cj17dXJpOnJ9OnJ8fChyPXt9KSxyLmJpbmFyeSYmKHI9Z2V0QmluYXJ5T3B0cyhyKSkseGhyKHIsZnVuY3Rpb24odCxuLGkpe2lmKHQpcmV0dXJuIGUodCk7aWYoIS9eMi8udGVzdChuLnN0YXR1c0NvZGUpKXJldHVybiBlKG5ldyBFcnJvcihcImh0dHAgc3RhdHVzIGNvZGU6IFwiK24uc3RhdHVzQ29kZSkpO2lmKCFpKXJldHVybiBlKG5ldyBFcnJvcihcIm5vIGJvZHkgcmVzdWx0XCIpKTt2YXIgbz0hMTtpZihpc0FycmF5QnVmZmVyKGkpKXt2YXIgYT1uZXcgVWludDhBcnJheShpKTtpPW5ldyBCdWZmZXIoYSxcImJpbmFyeVwiKX1pc0JpbmFyeUZvcm1hdChpKSYmKG89ITAsXCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPW5ldyBCdWZmZXIoaSxcImJpbmFyeVwiKSkpLG98fChCdWZmZXIuaXNCdWZmZXIoaSkmJihpPWkudG9TdHJpbmcoci5lbmNvZGluZykpLGk9aS50cmltKCkpO3ZhciBzO3RyeXt2YXIgdT1uLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl07cz1vP3JlYWRCaW5hcnkoaSk6L2pzb24vLnRlc3QodSl8fFwie1wiPT09aS5jaGFyQXQoMCk/SlNPTi5wYXJzZShpKToveG1sLy50ZXN0KHUpfHxcIjxcIj09PWkuY2hhckF0KDApP3BhcnNlWE1MKGkpOnBhcnNlQVNDSUkoaSl9Y2F0Y2gocil7ZShuZXcgRXJyb3IoXCJlcnJvciBwYXJzaW5nIGZvbnQgXCIrci5tZXNzYWdlKSksZT1ub29wfWUobnVsbCxzKX0pfTtcbn0pLmNhbGwodGhpcyxfZGVyZXFfKFwiYnVmZmVyXCIpLkJ1ZmZlcilcblxufSx7XCIuL2xpYi9pcy1iaW5hcnlcIjoyNixcImJ1ZmZlclwiOjcsXCJwYXJzZS1ibWZvbnQtYXNjaWlcIjoyOCxcInBhcnNlLWJtZm9udC1iaW5hcnlcIjoyOSxcInBhcnNlLWJtZm9udC14bWxcIjozMCxcInhoclwiOjUxLFwieHRlbmRcIjo1M31dLDI2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBlcXVhbD1fZGVyZXFfKFwiYnVmZmVyLWVxdWFsXCIpLEhFQURFUj1uZXcgQnVmZmVyKFs2Niw3Nyw3MCwzXSk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJCTUZcIj09PWUuc3Vic3RyaW5nKDAsMyk6ZS5sZW5ndGg+NCYmZXF1YWwoZS5zbGljZSgwLDQpLEhFQURFUil9O1xufSkuY2FsbCh0aGlzLF9kZXJlcV8oXCJidWZmZXJcIikuQnVmZmVyKVxuXG59LHtcImJ1ZmZlclwiOjcsXCJidWZmZXItZXF1YWxcIjo2fV0sMjc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdG9PYmplY3QoZSl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9ZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCl7dHJ5e2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO3ZhciBlPW5ldyBTdHJpbmcoXCJhYmNcIik7aWYoZVs1XT1cImRlXCIsXCI1XCI9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKVswXSlyZXR1cm4hMTtmb3IodmFyIHI9e30sdD0wO3Q8MTA7dCsrKXJbXCJfXCIrU3RyaW5nLmZyb21DaGFyQ29kZSh0KV09dDtpZihcIjAxMjM0NTY3ODlcIiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pLmpvaW4oXCJcIikpcmV0dXJuITE7dmFyIG49e307cmV0dXJuXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24oZSl7bltlXT1lfSksXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiPT09T2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSxuKSkuam9pbihcIlwiKX1jYXRjaChlKXtyZXR1cm4hMX19dmFyIGdldE93blByb3BlcnR5U3ltYm9scz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscHJvcElzRW51bWVyYWJsZT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO21vZHVsZS5leHBvcnRzPXNob3VsZFVzZU5hdGl2ZSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oZSxyKXtmb3IodmFyIHQsbixvPXRvT2JqZWN0KGUpLGE9MTthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKXt0PU9iamVjdChhcmd1bWVudHNbYV0pO2Zvcih2YXIgcyBpbiB0KWhhc093blByb3BlcnR5LmNhbGwodCxzKSYmKG9bc109dFtzXSk7aWYoZ2V0T3duUHJvcGVydHlTeW1ib2xzKXtuPWdldE93blByb3BlcnR5U3ltYm9scyh0KTtmb3IodmFyIGM9MDtjPG4ubGVuZ3RoO2MrKylwcm9wSXNFbnVtZXJhYmxlLmNhbGwodCxuW2NdKSYmKG9bbltjXV09dFtuW2NdXSl9fXJldHVybiBvfTtcbn0se31dLDI4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHNwbGl0TGluZShlLHIpe2lmKCEoZT1lLnJlcGxhY2UoL1xcdCsvZyxcIiBcIikudHJpbSgpKSlyZXR1cm4gbnVsbDt2YXIgdD1lLmluZGV4T2YoXCIgXCIpO2lmKC0xPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJubyBuYW1lZCByb3cgYXQgbGluZSBcIityKTt2YXIgYT1lLnN1YnN0cmluZygwLHQpO2U9ZS5zdWJzdHJpbmcodCsxKSxlPWUucmVwbGFjZSgvbGV0dGVyPVtcXCdcXFwiXVxcUytbXFwnXFxcIl0vZ2ksXCJcIiksZT1lLnNwbGl0KFwiPVwiKSxlPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKS5tYXRjaCgvKFwiLio/XCJ8W15cIlxcc10rKSsoPz1cXHMqfFxccyokKS9nKX0pO2Zvcih2YXIgbj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzPWVbaV07MD09PWk/bi5wdXNoKHtrZXk6c1swXSxkYXRhOlwiXCJ9KTppPT09ZS5sZW5ndGgtMT9uW24ubGVuZ3RoLTFdLmRhdGE9cGFyc2VEYXRhKHNbMF0pOihuW24ubGVuZ3RoLTFdLmRhdGE9cGFyc2VEYXRhKHNbMF0pLG4ucHVzaCh7a2V5OnNbMV0sZGF0YTpcIlwifSkpfXZhciBvPXtrZXk6YSxkYXRhOnt9fTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe28uZGF0YVtlLmtleV09ZS5kYXRhfSksb31mdW5jdGlvbiBwYXJzZURhdGEoZSl7cmV0dXJuIGUmJjAhPT1lLmxlbmd0aD8wPT09ZS5pbmRleE9mKCdcIicpfHwwPT09ZS5pbmRleE9mKFwiJ1wiKT9lLnN1YnN0cmluZygxLGUubGVuZ3RoLTEpOi0xIT09ZS5pbmRleE9mKFwiLFwiKT9wYXJzZUludExpc3QoZSk6cGFyc2VJbnQoZSwxMCk6XCJcIn1mdW5jdGlvbiBwYXJzZUludExpc3QoZSl7cmV0dXJuIGUuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KX1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJubyBkYXRhIHByb3ZpZGVkXCIpO2U9ZS50b1N0cmluZygpLnRyaW0oKTt2YXIgcj17cGFnZXM6W10sY2hhcnM6W10sa2VybmluZ3M6W119LHQ9ZS5zcGxpdCgvXFxyXFxuP3xcXG4vZyk7aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm5vIGRhdGEgaW4gQk1Gb250IGZpbGVcIik7Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBuPXNwbGl0TGluZSh0W2FdLGEpO2lmKG4paWYoXCJwYWdlXCI9PT1uLmtleSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG4uZGF0YS5pZCl0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZmlsZSBhdCBsaW5lIFwiK2ErXCIgLS0gbmVlZHMgcGFnZSBpZD1OXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuLmRhdGEuZmlsZSl0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZmlsZSBhdCBsaW5lIFwiK2ErJyAtLSBuZWVkcyBwYWdlIGZpbGU9XCJwYXRoXCInKTtyLnBhZ2VzW24uZGF0YS5pZF09bi5kYXRhLmZpbGV9ZWxzZVwiY2hhcnNcIj09PW4ua2V5fHxcImtlcm5pbmdzXCI9PT1uLmtleXx8KFwiY2hhclwiPT09bi5rZXk/ci5jaGFycy5wdXNoKG4uZGF0YSk6XCJrZXJuaW5nXCI9PT1uLmtleT9yLmtlcm5pbmdzLnB1c2gobi5kYXRhKTpyW24ua2V5XT1uLmRhdGEpfXJldHVybiByfTtcbn0se31dLDI5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHJlYWRCbG9jayhyLGUsbil7aWYobj5lLmxlbmd0aC0xKXJldHVybiAwO3ZhciBhPWUucmVhZFVJbnQ4KG4rKyksdD1lLnJlYWRJbnQzMkxFKG4pO3N3aXRjaChuKz00LGEpe2Nhc2UgMTpyLmluZm89cmVhZEluZm8oZSxuKTticmVhaztjYXNlIDI6ci5jb21tb249cmVhZENvbW1vbihlLG4pO2JyZWFrO2Nhc2UgMzpyLnBhZ2VzPXJlYWRQYWdlcyhlLG4sdCk7YnJlYWs7Y2FzZSA0OnIuY2hhcnM9cmVhZENoYXJzKGUsbix0KTticmVhaztjYXNlIDU6ci5rZXJuaW5ncz1yZWFkS2VybmluZ3MoZSxuLHQpfXJldHVybiA1K3R9ZnVuY3Rpb24gcmVhZEluZm8ocixlKXt2YXIgbj17fTtuLnNpemU9ci5yZWFkSW50MTZMRShlKTt2YXIgYT1yLnJlYWRVSW50OChlKzIpO3JldHVybiBuLnNtb290aD1hPj43JjEsbi51bmljb2RlPWE+PjYmMSxuLml0YWxpYz1hPj41JjEsbi5ib2xkPWE+PjQmMSxhPj4zJjEmJihuLmZpeGVkSGVpZ2h0PTEpLG4uY2hhcnNldD1yLnJlYWRVSW50OChlKzMpfHxcIlwiLG4uc3RyZXRjaEg9ci5yZWFkVUludDE2TEUoZSs0KSxuLmFhPXIucmVhZFVJbnQ4KGUrNiksbi5wYWRkaW5nPVtyLnJlYWRJbnQ4KGUrNyksci5yZWFkSW50OChlKzgpLHIucmVhZEludDgoZSs5KSxyLnJlYWRJbnQ4KGUrMTApXSxuLnNwYWNpbmc9W3IucmVhZEludDgoZSsxMSksci5yZWFkSW50OChlKzEyKV0sbi5vdXRsaW5lPXIucmVhZFVJbnQ4KGUrMTMpLG4uZmFjZT1yZWFkU3RyaW5nTlQocixlKzE0KSxufWZ1bmN0aW9uIHJlYWRDb21tb24ocixlKXt2YXIgbj17fTtuLmxpbmVIZWlnaHQ9ci5yZWFkVUludDE2TEUoZSksbi5iYXNlPXIucmVhZFVJbnQxNkxFKGUrMiksbi5zY2FsZVc9ci5yZWFkVUludDE2TEUoZSs0KSxuLnNjYWxlSD1yLnJlYWRVSW50MTZMRShlKzYpLG4ucGFnZXM9ci5yZWFkVUludDE2TEUoZSs4KTtyLnJlYWRVSW50OChlKzEwKTtyZXR1cm4gbi5wYWNrZWQ9MCxuLmFscGhhQ2hubD1yLnJlYWRVSW50OChlKzExKSxuLnJlZENobmw9ci5yZWFkVUludDgoZSsxMiksbi5ncmVlbkNobmw9ci5yZWFkVUludDgoZSsxMyksbi5ibHVlQ2hubD1yLnJlYWRVSW50OChlKzE0KSxufWZ1bmN0aW9uIHJlYWRQYWdlcyhyLGUsbil7Zm9yKHZhciBhPVtdLHQ9cmVhZE5hbWVOVChyLGUpLGQ9dC5sZW5ndGgrMSxvPW4vZCxpPTA7aTxvO2krKylhW2ldPXIuc2xpY2UoZSxlK3QubGVuZ3RoKS50b1N0cmluZyhcInV0ZjhcIiksZSs9ZDtyZXR1cm4gYX1mdW5jdGlvbiByZWFkQ2hhcnMocixlLG4pe2Zvcih2YXIgYT1bXSx0PW4vMjAsZD0wO2Q8dDtkKyspe3ZhciBvPXt9LGk9MjAqZDtvLmlkPXIucmVhZFVJbnQzMkxFKGUrMCtpKSxvLng9ci5yZWFkVUludDE2TEUoZSs0K2kpLG8ueT1yLnJlYWRVSW50MTZMRShlKzYraSksby53aWR0aD1yLnJlYWRVSW50MTZMRShlKzgraSksby5oZWlnaHQ9ci5yZWFkVUludDE2TEUoZSsxMCtpKSxvLnhvZmZzZXQ9ci5yZWFkSW50MTZMRShlKzEyK2kpLG8ueW9mZnNldD1yLnJlYWRJbnQxNkxFKGUrMTQraSksby54YWR2YW5jZT1yLnJlYWRJbnQxNkxFKGUrMTYraSksby5wYWdlPXIucmVhZFVJbnQ4KGUrMTgraSksby5jaG5sPXIucmVhZFVJbnQ4KGUrMTkraSksYVtkXT1vfXJldHVybiBhfWZ1bmN0aW9uIHJlYWRLZXJuaW5ncyhyLGUsbil7Zm9yKHZhciBhPVtdLHQ9bi8xMCxkPTA7ZDx0O2QrKyl7dmFyIG89e30saT0xMCpkO28uZmlyc3Q9ci5yZWFkVUludDMyTEUoZSswK2kpLG8uc2Vjb25kPXIucmVhZFVJbnQzMkxFKGUrNCtpKSxvLmFtb3VudD1yLnJlYWRJbnQxNkxFKGUrOCtpKSxhW2RdPW99cmV0dXJuIGF9ZnVuY3Rpb24gcmVhZE5hbWVOVChyLGUpe2Zvcih2YXIgbj1lO248ci5sZW5ndGgmJjAhPT1yW25dO24rKyk7cmV0dXJuIHIuc2xpY2UoZSxuKX1mdW5jdGlvbiByZWFkU3RyaW5nTlQocixlKXtyZXR1cm4gcmVhZE5hbWVOVChyLGUpLnRvU3RyaW5nKFwidXRmOFwiKX12YXIgSEVBREVSPVs2Niw3Nyw3MF07bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ocil7aWYoci5sZW5ndGg8Nil0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGJ1ZmZlciBsZW5ndGggZm9yIEJNRm9udFwiKTtpZighSEVBREVSLmV2ZXJ5KGZ1bmN0aW9uKGUsbil7cmV0dXJuIHIucmVhZFVJbnQ4KG4pPT09ZX0pKXRocm93IG5ldyBFcnJvcihcIkJNRm9udCBtaXNzaW5nIEJNRiBieXRlIGhlYWRlclwiKTt2YXIgZT0zO2lmKHIucmVhZFVJbnQ4KGUrKyk+Myl0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IHN1cHBvcnRzIEJNRm9udCBCaW5hcnkgdjMgKEJNRm9udCBBcHAgdjEuMTApXCIpO2Zvcih2YXIgbj17a2VybmluZ3M6W10sY2hhcnM6W119LGE9MDthPDU7YSsrKWUrPXJlYWRCbG9jayhuLHIsZSk7cmV0dXJuIG59O1xufSx7fV0sMzA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gZ2V0QXR0cmlicyhlKXtyZXR1cm4gZ2V0QXR0cmliTGlzdChlKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVttYXBOYW1lKHQubm9kZU5hbWUpXT10Lm5vZGVWYWx1ZSxlfSx7fSl9ZnVuY3Rpb24gZ2V0QXR0cmliTGlzdChlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5hdHRyaWJ1dGVzLmxlbmd0aDtyKyspdC5wdXNoKGUuYXR0cmlidXRlc1tyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gbWFwTmFtZShlKXtyZXR1cm4gTkFNRV9NQVBbZS50b0xvd2VyQ2FzZSgpXXx8ZX12YXIgcGFyc2VBdHRyaWJ1dGVzPV9kZXJlcV8oXCIuL3BhcnNlLWF0dHJpYnNcIikscGFyc2VGcm9tU3RyaW5nPV9kZXJlcV8oXCJ4bWwtcGFyc2UtZnJvbS1zdHJpbmdcIiksTkFNRV9NQVA9e3NjYWxlaDpcInNjYWxlSFwiLHNjYWxldzpcInNjYWxlV1wiLHN0cmV0Y2hoOlwic3RyZXRjaEhcIixsaW5laGVpZ2h0OlwibGluZUhlaWdodFwiLGFscGhhY2hubDpcImFscGhhQ2hubFwiLHJlZGNobmw6XCJyZWRDaG5sXCIsZ3JlZW5jaG5sOlwiZ3JlZW5DaG5sXCIsYmx1ZWNobmw6XCJibHVlQ2hubFwifTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlKXtlPWUudG9TdHJpbmcoKTt2YXIgdD1wYXJzZUZyb21TdHJpbmcoZSkscj17cGFnZXM6W10sY2hhcnM6W10sa2VybmluZ3M6W119O1tcImluZm9cIixcImNvbW1vblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSlbMF07YSYmKHJbZV09cGFyc2VBdHRyaWJ1dGVzKGdldEF0dHJpYnMoYSkpKX0pO3ZhciBhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYWdlc1wiKVswXTtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgZmlsZSAtLSBubyA8cGFnZXM+IGVsZW1lbnRcIik7Zm9yKHZhciBuPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYWdlXCIpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHM9bltpXSxnPXBhcnNlSW50KHMuZ2V0QXR0cmlidXRlKFwiaWRcIiksMTApLGw9cy5nZXRBdHRyaWJ1dGUoXCJmaWxlXCIpO2lmKGlzTmFOKGcpKXRocm93IG5ldyBFcnJvcignbWFsZm9ybWVkIGZpbGUgLS0gcGFnZSBcImlkXCIgYXR0cmlidXRlIGlzIE5hTicpO2lmKCFsKXRocm93IG5ldyBFcnJvcignbWFsZm9ybWVkIGZpbGUgLS0gbmVlZHMgcGFnZSBcImZpbGVcIiBhdHRyaWJ1dGUnKTtyLnBhZ2VzW3BhcnNlSW50KGcsMTApXT1sfXJldHVybltcImNoYXJzXCIsXCJrZXJuaW5nc1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSlbMF07aWYoYSlmb3IodmFyIG49ZS5zdWJzdHJpbmcoMCxlLmxlbmd0aC0xKSxpPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUobikscz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgZz1pW3NdO3JbZV0ucHVzaChwYXJzZUF0dHJpYnV0ZXMoZ2V0QXR0cmlicyhnKSkpfX0pLHJ9O1xufSx7XCIuL3BhcnNlLWF0dHJpYnNcIjozMSxcInhtbC1wYXJzZS1mcm9tLXN0cmluZ1wiOjUyfV0sMzE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gcGFyc2VJbnRMaXN0KHQpe3JldHVybiB0LnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSl9dmFyIEdMWVBIX0RFU0lHTkVSX0VSUk9SPVwiY2hhc3JzZXRcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih0KXtHTFlQSF9ERVNJR05FUl9FUlJPUiBpbiB0JiYodC5jaGFyc2V0PXRbR0xZUEhfREVTSUdORVJfRVJST1JdLGRlbGV0ZSB0W0dMWVBIX0RFU0lHTkVSX0VSUk9SXSk7Zm9yKHZhciBuIGluIHQpXCJmYWNlXCIhPT1uJiZcImNoYXJzZXRcIiE9PW4mJih0W25dPVwicGFkZGluZ1wiPT09bnx8XCJzcGFjaW5nXCI9PT1uP3BhcnNlSW50TGlzdCh0W25dKTpwYXJzZUludCh0W25dLDEwKSk7cmV0dXJuIHR9O1xufSx7fV0sMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHRyaW09X2RlcmVxXyhcInRyaW1cIiksZm9yRWFjaD1fZGVyZXFfKFwiZm9yLWVhY2hcIiksaXNBcnJheT1mdW5jdGlvbihyKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocil9O21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHIpe2lmKCFyKXJldHVybnt9O3ZhciB0PXt9O3JldHVybiBmb3JFYWNoKHRyaW0ocikuc3BsaXQoXCJcXG5cIiksZnVuY3Rpb24ocil7dmFyIGk9ci5pbmRleE9mKFwiOlwiKSxlPXRyaW0oci5zbGljZSgwLGkpKS50b0xvd2VyQ2FzZSgpLG89dHJpbShyLnNsaWNlKGkrMSkpO3ZvaWQgMD09PXRbZV0/dFtlXT1vOmlzQXJyYXkodFtlXSk/dFtlXS5wdXNoKG8pOnRbZV09W3RbZV0sb119KSx0fTtcbn0se1wiZm9yLWVhY2hcIjoxNixcInRyaW1cIjo0OH1dLDMzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbnZhciBwZXJmb3JtYW5jZT1nbG9iYWwucGVyZm9ybWFuY2V8fHt9LHByZXNlbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W1wibm93XCIsXCJ3ZWJraXROb3dcIixcIm1zTm93XCIsXCJtb3pOb3dcIixcIm9Ob3dcIl07ZS5sZW5ndGg7KXt2YXIgbj1lLnNoaWZ0KCk7aWYobiBpbiBwZXJmb3JtYW5jZSlyZXR1cm4gcGVyZm9ybWFuY2Vbbl0uYmluZChwZXJmb3JtYW5jZSl9dmFyIHI9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LG89KHBlcmZvcm1hbmNlLnRpbWluZ3x8e30pLm5hdmlnYXRpb25TdGFydHx8cigpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiByKCktb319KCk7cHJlc2VudC5wZXJmb3JtYW5jZU5vdz1wZXJmb3JtYW5jZS5ub3cscHJlc2VudC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cGVyZm9ybWFuY2Uubm93PXByZXNlbnQucGVyZm9ybWFuY2VOb3d9LHByZXNlbnQuY29uZmxpY3Q9ZnVuY3Rpb24oKXtwZXJmb3JtYW5jZS5ub3c9cHJlc2VudH0scHJlc2VudC5jb25mbGljdCgpLG1vZHVsZS5leHBvcnRzPXByZXNlbnQ7XG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sMzQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChzZXRJbW1lZGlhdGUpe1xuIWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gbih0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuX3N0YXRlPW51bGwsdGhpcy5fdmFsdWU9bnVsbCx0aGlzLl9kZWZlcnJlZHM9W10sZih0LGUocix0aGlzKSxlKGksdGhpcykpfWZ1bmN0aW9uIG8odCl7dmFyIGU9dGhpcztpZihudWxsPT09dGhpcy5fc3RhdGUpcmV0dXJuIHZvaWQgdGhpcy5fZGVmZXJyZWRzLnB1c2godCk7bChmdW5jdGlvbigpe3ZhciBuPWUuX3N0YXRlP3Qub25GdWxmaWxsZWQ6dC5vblJlamVjdGVkO2lmKG51bGw9PT1uKXJldHVybiB2b2lkKGUuX3N0YXRlP3QucmVzb2x2ZTp0LnJlamVjdCkoZS5fdmFsdWUpO3ZhciBvO3RyeXtvPW4oZS5fdmFsdWUpfWNhdGNoKGUpe3JldHVybiB2b2lkIHQucmVqZWN0KGUpfXQucmVzb2x2ZShvKX0pfWZ1bmN0aW9uIHIodCl7dHJ5e2lmKHQ9PT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTtpZih0JiYoXCJvYmplY3RcIj09dHlwZW9mIHR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpKXt2YXIgbj10LnRoZW47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gdm9pZCBmKGUobix0KSxlKHIsdGhpcyksZShpLHRoaXMpKX10aGlzLl9zdGF0ZT0hMCx0aGlzLl92YWx1ZT10LHUuY2FsbCh0aGlzKX1jYXRjaCh0KXtpLmNhbGwodGhpcyx0KX19ZnVuY3Rpb24gaSh0KXt0aGlzLl9zdGF0ZT0hMSx0aGlzLl92YWx1ZT10LHUuY2FsbCh0aGlzKX1mdW5jdGlvbiB1KCl7Zm9yKHZhciB0PTAsZT10aGlzLl9kZWZlcnJlZHMubGVuZ3RoO3Q8ZTt0Kyspby5jYWxsKHRoaXMsdGhpcy5fZGVmZXJyZWRzW3RdKTt0aGlzLl9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBjKHQsZSxuLG8pe3RoaXMub25GdWxmaWxsZWQ9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om51bGwsdGhpcy5vblJlamVjdGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpudWxsLHRoaXMucmVzb2x2ZT1uLHRoaXMucmVqZWN0PW99ZnVuY3Rpb24gZih0LGUsbil7dmFyIG89ITE7dHJ5e3QoZnVuY3Rpb24odCl7b3x8KG89ITAsZSh0KSl9LGZ1bmN0aW9uKHQpe298fChvPSEwLG4odCkpfSl9Y2F0Y2godCl7aWYobylyZXR1cm47bz0hMCxuKHQpfX12YXIgcz1zZXRUaW1lb3V0LGw9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0SW1tZWRpYXRlJiZzZXRJbW1lZGlhdGV8fGZ1bmN0aW9uKHQpe3ModCwxKX0saD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9O24ucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4obnVsbCx0KX0sbi5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBuKGZ1bmN0aW9uKG4saSl7by5jYWxsKHIsbmV3IGModCxlLG4saSkpfSl9LG4uYWxsPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoMT09PWFyZ3VtZW50cy5sZW5ndGgmJmgoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF06YXJndW1lbnRzKTtyZXR1cm4gbmV3IG4oZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBvKGksdSl7dHJ5e2lmKHUmJihcIm9iamVjdFwiPT10eXBlb2YgdXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdSkpe3ZhciBjPXUudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjKXJldHVybiB2b2lkIGMuY2FsbCh1LGZ1bmN0aW9uKHQpe28oaSx0KX0sbil9dFtpXT11LDA9PS0tciYmZSh0KX1jYXRjaCh0KXtuKHQpfX1pZigwPT09dC5sZW5ndGgpcmV0dXJuIGUoW10pO2Zvcih2YXIgcj10Lmxlbmd0aCxpPTA7aTx0Lmxlbmd0aDtpKyspbyhpLHRbaV0pfSl9LG4ucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT1uP3Q6bmV3IG4oZnVuY3Rpb24oZSl7ZSh0KX0pfSxuLnJlamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG4oZnVuY3Rpb24oZSxuKXtuKHQpfSl9LG4ucmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG4oZnVuY3Rpb24oZSxuKXtmb3IodmFyIG89MCxyPXQubGVuZ3RoO288cjtvKyspdFtvXS50aGVuKGUsbil9KX0sbi5fc2V0SW1tZWRpYXRlRm49ZnVuY3Rpb24odCl7bD10fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uOnQuUHJvbWlzZXx8KHQuUHJvbWlzZT1uKX0odGhpcyk7XG59KS5jYWxsKHRoaXMsX2RlcmVxXyhcInRpbWVyc1wiKS5zZXRJbW1lZGlhdGUpXG5cbn0se1widGltZXJzXCI6NDZ9XSwzNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgZHR5cGU9X2RlcmVxXyhcImR0eXBlXCIpLGFuQXJyYXk9X2RlcmVxXyhcImFuLWFycmF5XCIpLGlzQnVmZmVyPV9kZXJlcV8oXCJpcy1idWZmZXJcIiksQ1c9WzAsMiwzXSxDQ1c9WzIsMSwzXTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihyLGUpe3ImJihhbkFycmF5KHIpfHxpc0J1ZmZlcihyKSl8fChlPXJ8fHt9LHI9bnVsbCksZT1cIm51bWJlclwiPT10eXBlb2YgZT97Y291bnQ6ZX06ZXx8e307Zm9yKHZhciB0PVwic3RyaW5nXCI9PXR5cGVvZiBlLnR5cGU/ZS50eXBlOlwidWludDE2XCIsdT1cIm51bWJlclwiPT10eXBlb2YgZS5jb3VudD9lLmNvdW50OjEsbj1lLnN0YXJ0fHwwLGE9ITEhPT1lLmNsb2Nrd2lzZT9DVzpDQ1csZj1hWzBdLG89YVsxXSx5PWFbMl0saT02KnUscD1yfHxuZXcoZHR5cGUodCkpKGkpLHM9MCxjPTA7czxpO3MrPTYsYys9NCl7dmFyIEM9cytuO3BbQyswXT1jKzAscFtDKzFdPWMrMSxwW0MrMl09YysyLHBbQyszXT1jK2YscFtDKzRdPWMrbyxwW0MrNV09Yyt5fXJldHVybiBwfTtcbn0se1wiYW4tYXJyYXlcIjoxLFwiZHR5cGVcIjoxNCxcImlzLWJ1ZmZlclwiOjIwfV0sMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbWluTWF4KGUsdCxuKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxuKX1mdW5jdGlvbiBzdHJpbmdDb250YWlucyhlLHQpe3JldHVybiBlLmluZGV4T2YodCk+LTF9ZnVuY3Rpb24gYXBwbHlBcmd1bWVudHMoZSx0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfWZ1bmN0aW9uIHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlKXt2YXIgdD1lYXNpbmdGdW5jdGlvblJlZ2V4LmV4ZWMoZSk7cmV0dXJuIHQ/dFsxXS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUZsb2F0KGUpfSk6W119ZnVuY3Rpb24gc3ByaW5nKGUsdCl7ZnVuY3Rpb24gbihlKXt2YXIgbj10P3QqZS8xZTM6ZTtyZXR1cm4gbj1sPDE/TWF0aC5leHAoLW4qbCpjKSooZipNYXRoLmNvcyhnKm4pK3AqTWF0aC5zaW4oZypuKSk6KGYrcCpuKSpNYXRoLmV4cCgtbipjKSwwPT09ZXx8MT09PWU/ZToxLW59ZnVuY3Rpb24gcigpe3ZhciB0PWNhY2hlLnNwcmluZ3NbZV07aWYodClyZXR1cm4gdDtmb3IodmFyIHI9MCxhPTA7OylpZihyKz0xLzYsMT09PW4ocikpe2lmKCsrYT49MTYpYnJlYWt9ZWxzZSBhPTA7dmFyIGk9ciooMS82KSoxZTM7cmV0dXJuIGNhY2hlLnNwcmluZ3NbZV09aSxpfXZhciBhPXBhcnNlRWFzaW5nUGFyYW1ldGVycyhlKSxpPW1pbk1heChpcy51bmQoYVswXSk/MTphWzBdLC4xLDEwMCkscz1taW5NYXgoaXMudW5kKGFbMV0pPzEwMDphWzFdLC4xLDEwMCksbz1taW5NYXgoaXMudW5kKGFbMl0pPzEwOmFbMl0sLjEsMTAwKSx1PW1pbk1heChpcy51bmQoYVszXSk/MDphWzNdLC4xLDEwMCksYz1NYXRoLnNxcnQocy9pKSxsPW8vKDIqTWF0aC5zcXJ0KHMqaSkpLGc9bDwxP2MqTWF0aC5zcXJ0KDEtbCpsKTowLGY9MSxwPWw8MT8obCpjLXUpL2c6LXUrYztyZXR1cm4gdD9uOnJ9ZnVuY3Rpb24gZWxhc3RpYyhlLHQpe3ZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PXQmJih0PS41KTt2YXIgbj1taW5NYXgoZSwxLDEwKSxyPW1pbk1heCh0LC4xLDIpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMD09PWV8fDE9PT1lP2U6LW4qTWF0aC5wb3coMiwxMCooZS0xKSkqTWF0aC5zaW4oKGUtMS1yLygyKk1hdGguUEkpKk1hdGguYXNpbigxL24pKSooMipNYXRoLlBJKS9yKX19ZnVuY3Rpb24gc3RlcHMoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEwKSxmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0KmUpKigxL2UpfX1mdW5jdGlvbiBwYXJzZUVhc2luZ3MoZSx0KXtpZihpcy5mbmMoZSkpcmV0dXJuIGU7dmFyIG49ZS5zcGxpdChcIihcIilbMF0scj1wZW5uZXJbbl0sYT1wYXJzZUVhc2luZ1BhcmFtZXRlcnMoZSk7c3dpdGNoKG4pe2Nhc2VcInNwcmluZ1wiOnJldHVybiBzcHJpbmcoZSx0KTtjYXNlXCJjdWJpY0JlemllclwiOnJldHVybiBhcHBseUFyZ3VtZW50cyhiZXppZXIsYSk7Y2FzZVwic3RlcHNcIjpyZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsYSk7ZGVmYXVsdDpyZXR1cm4gaXMuZm5jKHIpP2FwcGx5QXJndW1lbnRzKHIsYSk6YXBwbHlBcmd1bWVudHMoYmV6aWVyLHIpfX1mdW5jdGlvbiBzZWxlY3RTdHJpbmcoZSl7dHJ5e3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUpfWNhdGNoKGUpe3JldHVybn19ZnVuY3Rpb24gZmlsdGVyQXJyYXkoZSx0KXtmb3IodmFyIG49YXV4QXJyYXlGaWx0ZXIscj1lLmxlbmd0aCxhPWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzFdOnZvaWQgMCxpPTA7aTxyO2krKylpZihpIGluIGUpe3ZhciBzPWVbaV07dC5jYWxsKGEscyxpLGUpJiZuLnB1c2gocyl9cmV0dXJuIGF1eEFycmF5RmlsdGVyPWUsYXV4QXJyYXlGaWx0ZXIubGVuZ3RoPTAsbn1mdW5jdGlvbiBmbGF0dGVuQXJyYXkoZSx0KXt0fHwodD1bXSk7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgYT1lW25dO0FycmF5LmlzQXJyYXkoYSk/ZmxhdHRlbkFycmF5KGEsdCk6dC5wdXNoKGEpfXJldHVybiB0fWZ1bmN0aW9uIHRvQXJyYXkoZSl7cmV0dXJuIGlzLmFycihlKT9lOihpcy5zdHIoZSkmJihlPXNlbGVjdFN0cmluZyhlKXx8ZSksZSBpbnN0YW5jZW9mIE5vZGVMaXN0fHxlIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24/W10uc2xpY2UuY2FsbChlKTpbZV0pfWZ1bmN0aW9uIGFycmF5Q29udGFpbnMoZSx0KXtyZXR1cm4gZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pfWZ1bmN0aW9uIGNsb25lT2JqZWN0KGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gdH1mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMoZSx0KXt2YXIgbj1jbG9uZU9iamVjdChlKTtmb3IodmFyIHIgaW4gZSluW3JdPXQuaGFzT3duUHJvcGVydHkocik/dFtyXTplW3JdO3JldHVybiBufWZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhlLHQpe3ZhciBuPWNsb25lT2JqZWN0KGUpO2Zvcih2YXIgciBpbiB0KW5bcl09aXMudW5kKGVbcl0pP3Rbcl06ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiByZ2JUb1JnYmEoZSl7dmFyIHQ9cmdiUmVnZXguZXhlYyhlKTtyZXR1cm4gdD9cInJnYmEoXCIrdFsxXStcIiwxKVwiOmV9ZnVuY3Rpb24gaGV4VG9SZ2JhKGUpe3ZhciB0PWUucmVwbGFjZShoZXhUb1JnYmFIZXhSZWdleCxmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdCt0K24rbityK3J9KSxuPWhleFRvUmdiYVJnYlJlZ2V4LmV4ZWModCk7cmV0dXJuXCJyZ2JhKFwiK3BhcnNlSW50KG5bMV0sMTYpK1wiLFwiK3BhcnNlSW50KG5bMl0sMTYpK1wiLFwiK3BhcnNlSW50KG5bM10sMTYpK1wiLDEpXCJ9ZnVuY3Rpb24gaHNsVG9SZ2JhKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3JldHVybiBuPDAmJihuKz0xKSxuPjEmJihuLT0xKSxuPDEvNj9lKzYqKHQtZSkqbjpuPC41P3Q6bjwyLzM/ZSsodC1lKSooMi8zLW4pKjY6ZX12YXIgbixyLGEsaT1oc2xUb1JnYmFIc2wxUmVnZXguZXhlYyhlKXx8aHNsVG9SZ2JhSHNsMlJlZ2V4LmV4ZWMoZSkscz1wYXJzZUludChpWzFdLDEwKS8zNjAsbz1wYXJzZUludChpWzJdLDEwKS8xMDAsdT1wYXJzZUludChpWzNdLDEwKS8xMDAsYz1pWzRdfHwxO2lmKDA9PW8pbj1yPWE9dTtlbHNle3ZhciBsPXU8LjU/dSooMStvKTp1K28tdSpvLGc9Mip1LWw7bj10KGcsbCxzKzEvMykscj10KGcsbCxzKSxhPXQoZyxsLHMtMS8zKX1yZXR1cm5cInJnYmEoXCIrMjU1Km4rXCIsXCIrMjU1KnIrXCIsXCIrMjU1KmErXCIsXCIrYytcIilcIn1mdW5jdGlvbiBjb2xvclRvUmdiKGUpe3JldHVybiBpcy5yZ2IoZSk/cmdiVG9SZ2JhKGUpOmlzLmhleChlKT9oZXhUb1JnYmEoZSk6aXMuaHNsKGUpP2hzbFRvUmdiYShlKTp2b2lkIDB9ZnVuY3Rpb24gZ2V0VW5pdChlKXt2YXIgdD11bml0UmVnZXguZXhlYyhlKTtpZih0KXJldHVybiB0WzJdfWZ1bmN0aW9uIGdldFRyYW5zZm9ybVVuaXQoZSl7cmV0dXJuIHN0cmluZ0NvbnRhaW5zKGUsXCJ0cmFuc2xhdGVcIil8fFwicGVyc3BlY3RpdmVcIj09PWU/XCJweFwiOnN0cmluZ0NvbnRhaW5zKGUsXCJyb3RhdGVcIil8fHN0cmluZ0NvbnRhaW5zKGUsXCJza2V3XCIpP1wiZGVnXCI6dm9pZCAwfWZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUoZSx0KXtyZXR1cm4gaXMuZm5jKGUpP2UodC50YXJnZXQsdC5pZCx0LnRvdGFsKTplfWZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlLHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX1mdW5jdGlvbiBjb252ZXJ0UHhUb1VuaXQoZSx0LG4pe2lmKGFycmF5Q29udGFpbnMoW24sXCJkZWdcIixcInJhZFwiLFwidHVyblwiXSxnZXRVbml0KHQpKSlyZXR1cm4gdDt2YXIgcj1jYWNoZS5DU1NbdCtuXTtpZighaXMudW5kKHIpKXJldHVybiByO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZS50YWdOYW1lKSxpPWUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlIT09ZG9jdW1lbnQ/ZS5wYXJlbnROb2RlOmRvY3VtZW50LmJvZHk7aS5hcHBlbmRDaGlsZChhKSxhLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixhLnN0eWxlLndpZHRoPTEwMCtuO3ZhciBzPTEwMC9hLm9mZnNldFdpZHRoO2kucmVtb3ZlQ2hpbGQoYSk7dmFyIG89cypwYXJzZUZsb2F0KHQpO3JldHVybiBjYWNoZS5DU1NbdCtuXT1vLG99ZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZSx0LG4pe2lmKHQgaW4gZS5zdHlsZSl7dmFyIHI9dC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKSxhPWUuc3R5bGVbdF18fGdldENvbXB1dGVkU3R5bGUoZSkuZ2V0UHJvcGVydHlWYWx1ZShyKXx8XCIwXCI7cmV0dXJuIG4/Y29udmVydFB4VG9Vbml0KGUsYSxuKTphfX1mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGUsdCl7cmV0dXJuIGlzLmRvbShlKSYmIWlzLmlucChlKSYmKGdldEF0dHJpYnV0ZShlLHQpfHxpcy5zdmcoZSkmJmVbdF0pP1wiYXR0cmlidXRlXCI6aXMuZG9tKGUpJiZhcnJheUNvbnRhaW5zKHZhbGlkVHJhbnNmb3Jtcyx0KT9cInRyYW5zZm9ybVwiOmlzLmRvbShlKSYmXCJ0cmFuc2Zvcm1cIiE9PXQmJmdldENTU1ZhbHVlKGUsdCk/XCJjc3NcIjpudWxsIT1lW3RdP1wib2JqZWN0XCI6dm9pZCAwfWZ1bmN0aW9uIGdldEVsZW1lbnRUcmFuc2Zvcm1zKGUpe2lmKGlzLmRvbShlKSl7Zm9yKHZhciB0LG49ZS5zdHlsZS50cmFuc2Zvcm18fFwiXCIscj1uZXcgTWFwO3Q9dHJhbnNmb3JtUmVnZXguZXhlYyhuKTspci5zZXQodFsxXSx0WzJdKTtyZXR1cm4gcn19ZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVmFsdWUoZSx0LG4scil7dmFyIGE9c3RyaW5nQ29udGFpbnModCxcInNjYWxlXCIpPzE6MCtnZXRUcmFuc2Zvcm1Vbml0KHQpLGk9Z2V0RWxlbWVudFRyYW5zZm9ybXMoZSkuZ2V0KHQpfHxhO3JldHVybiBuJiYobi50cmFuc2Zvcm1zLmxpc3Quc2V0KHQsaSksbi50cmFuc2Zvcm1zLmxhc3Q9dCkscj9jb252ZXJ0UHhUb1VuaXQoZSxpLHIpOml9ZnVuY3Rpb24gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShlLHQsbixyKXtzd2l0Y2goZ2V0QW5pbWF0aW9uVHlwZShlLHQpKXtjYXNlXCJ0cmFuc2Zvcm1cIjpyZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUoZSx0LHIsbik7Y2FzZVwiY3NzXCI6cmV0dXJuIGdldENTU1ZhbHVlKGUsdCxuKTtjYXNlXCJhdHRyaWJ1dGVcIjpyZXR1cm4gZ2V0QXR0cmlidXRlKGUsdCk7ZGVmYXVsdDpyZXR1cm4gZVt0XXx8MH19ZnVuY3Rpb24gZ2V0UmVsYXRpdmVWYWx1ZShlLHQpe3ZhciBuPW9wZXJhdG9yUmVnZXguZXhlYyhlKTtpZighbilyZXR1cm4gZTt2YXIgcj1nZXRVbml0KGUpfHwwLGE9cGFyc2VGbG9hdCh0KSxpPXBhcnNlRmxvYXQoZS5yZXBsYWNlKG5bMF0sXCJcIikpO3N3aXRjaChuWzBdWzBdKXtjYXNlXCIrXCI6cmV0dXJuIGEraStyO2Nhc2VcIi1cIjpyZXR1cm4gYS1pK3I7Y2FzZVwiKlwiOnJldHVybiBhKmkrcn19ZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZShlLHQpe2lmKGlzLmNvbChlKSlyZXR1cm4gY29sb3JUb1JnYihlKTt2YXIgbj1nZXRVbml0KGUpLHI9bj9lLnN1YnN0cigwLGUubGVuZ3RoLW4ubGVuZ3RoKTplO3JldHVybiB0JiYhd2hpdGVzcGFjZVJlZ2V4LnRlc3QoZSk/cit0OnJ9ZnVuY3Rpb24gZ2V0RGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHQueC1lLngsMikrTWF0aC5wb3codC55LWUueSwyKSl9ZnVuY3Rpb24gZ2V0Q2lyY2xlTGVuZ3RoKGUpe3JldHVybiAyKk1hdGguUEkqZ2V0QXR0cmlidXRlKGUsXCJyXCIpfWZ1bmN0aW9uIGdldFJlY3RMZW5ndGgoZSl7cmV0dXJuIDIqZ2V0QXR0cmlidXRlKGUsXCJ3aWR0aFwiKSsyKmdldEF0dHJpYnV0ZShlLFwiaGVpZ2h0XCIpfWZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZSl7cmV0dXJuIGdldERpc3RhbmNlKHt4OmdldEF0dHJpYnV0ZShlLFwieDFcIikseTpnZXRBdHRyaWJ1dGUoZSxcInkxXCIpfSx7eDpnZXRBdHRyaWJ1dGUoZSxcIngyXCIpLHk6Z2V0QXR0cmlidXRlKGUsXCJ5MlwiKX0pfWZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGUpe2Zvcih2YXIgdCxuPWUucG9pbnRzLHI9MCxhPTA7YTxuLm51bWJlck9mSXRlbXM7YSsrKXt2YXIgaT1uLmdldEl0ZW0oYSk7YT4wJiYocis9Z2V0RGlzdGFuY2UodCxpKSksdD1pfXJldHVybiByfWZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZSl7dmFyIHQ9ZS5wb2ludHM7cmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGUpK2dldERpc3RhbmNlKHQuZ2V0SXRlbSh0Lm51bWJlck9mSXRlbXMtMSksdC5nZXRJdGVtKDApKX1mdW5jdGlvbiBnZXRUb3RhbExlbmd0aChlKXtpZihlLmdldFRvdGFsTGVuZ3RoKXJldHVybiBlLmdldFRvdGFsTGVuZ3RoKCk7c3dpdGNoKGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJjaXJjbGVcIjpyZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGUpO2Nhc2VcInJlY3RcIjpyZXR1cm4gZ2V0UmVjdExlbmd0aChlKTtjYXNlXCJsaW5lXCI6cmV0dXJuIGdldExpbmVMZW5ndGgoZSk7Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZSk7Y2FzZVwicG9seWdvblwiOnJldHVybiBnZXRQb2x5Z29uTGVuZ3RoKGUpfX1mdW5jdGlvbiBzZXREYXNob2Zmc2V0KGUpe3ZhciB0PWdldFRvdGFsTGVuZ3RoKGUpO3JldHVybiBlLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIix0KSx0fWZ1bmN0aW9uIGdldFBhcmVudFN2Z0VsKGUpe2Zvcih2YXIgdD1lLnBhcmVudE5vZGU7aXMuc3ZnKHQpJiYodD10LnBhcmVudE5vZGUsaXMuc3ZnKHQucGFyZW50Tm9kZSkpOyk7cmV0dXJuIHR9ZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKGUsdCl7dmFyIG49dHx8e30scj1uLmVsfHxnZXRQYXJlbnRTdmdFbChlKSxhPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1nZXRBdHRyaWJ1dGUocixcInZpZXdCb3hcIikscz1hLndpZHRoLG89YS5oZWlnaHQsdT1uLnZpZXdCb3h8fChpP2kuc3BsaXQoXCIgXCIpOlswLDAscyxvXSk7cmV0dXJue2VsOnIsdmlld0JveDp1LHg6dVswXS8xLHk6dVsxXS8xLHc6cy91WzJdLGg6by91WzNdfX1mdW5jdGlvbiBnZXRQYXRoKGUsdCl7dmFyIG49aXMuc3RyKGUpP3NlbGVjdFN0cmluZyhlKVswXTplLHI9dHx8MTAwO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm57cHJvcGVydHk6ZSxlbDpuLHN2ZzpnZXRQYXJlbnRTdmcobiksdG90YWxMZW5ndGg6Z2V0VG90YWxMZW5ndGgobikqKHIvMTAwKX19fWZ1bmN0aW9uIGdldFBhdGhQcm9ncmVzcyhlLHQpe2Z1bmN0aW9uIG4obil7dm9pZCAwPT09biYmKG49MCk7dmFyIHI9dCtuPj0xP3QrbjowO3JldHVybiBlLmVsLmdldFBvaW50QXRMZW5ndGgocil9dmFyIHI9Z2V0UGFyZW50U3ZnKGUuZWwsZS5zdmcpLGE9bigpLGk9bigtMSkscz1uKDEpO3N3aXRjaChlLnByb3BlcnR5KXtjYXNlXCJ4XCI6cmV0dXJuKGEueC1yLngpKnIudztjYXNlXCJ5XCI6cmV0dXJuKGEueS1yLnkpKnIuaDtjYXNlXCJhbmdsZVwiOnJldHVybiAxODAqTWF0aC5hdGFuMihzLnktaS55LHMueC1pLngpL01hdGguUEl9fWZ1bmN0aW9uIGRlY29tcG9zZVZhbHVlKGUsdCl7dmFyIG49dmFsaWRhdGVWYWx1ZShpcy5wdGgoZSk/ZS50b3RhbExlbmd0aDplLHQpK1wiXCI7cmV0dXJue29yaWdpbmFsOm4sbnVtYmVyczpuLm1hdGNoKHZhbHVlUmVnZXgpP24ubWF0Y2godmFsdWVSZWdleCkubWFwKE51bWJlcik6WzBdLHN0cmluZ3M6aXMuc3RyKGUpfHx0P24uc3BsaXQodmFsdWVSZWdleCk6W119fWZ1bmN0aW9uIHBhcnNlVGFyZ2V0cyhlKXtyZXR1cm4gZmlsdGVyQXJyYXkoZT9mbGF0dGVuQXJyYXkoaXMuYXJyKGUpP2UubWFwKHRvQXJyYXkpOnRvQXJyYXkoZSkpOltdLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbi5pbmRleE9mKGUpPT09dH0pfWZ1bmN0aW9uIGdldEFuaW1hdGFibGVzKGUpe3ZhciB0PXBhcnNlVGFyZ2V0cyhlKTtyZXR1cm4gdC5tYXAoZnVuY3Rpb24oZSxuKXtyZXR1cm57dGFyZ2V0OmUsaWQ6bix0b3RhbDp0Lmxlbmd0aCx0cmFuc2Zvcm1zOntsaXN0OmdldEVsZW1lbnRUcmFuc2Zvcm1zKGUpfX19KX1mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyhlLHQpe3ZhciBuPWNsb25lT2JqZWN0KHQpO2lmKHNwcmluZ1JlZ2V4LnRlc3Qobi5lYXNpbmcpJiYobi5kdXJhdGlvbj1zcHJpbmcobi5lYXNpbmcpKSxpcy5hcnIoZSkpe3ZhciByPWUubGVuZ3RoOzI9PT1yJiYhaXMub2JqKGVbMF0pP2U9e3ZhbHVlOmV9OmlzLmZuYyh0LmR1cmF0aW9uKXx8KG4uZHVyYXRpb249dC5kdXJhdGlvbi9yKX12YXIgYT1pcy5hcnIoZSk/ZTpbZV07cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGUsbil7dmFyIHI9aXMub2JqKGUpJiYhaXMucHRoKGUpP2U6e3ZhbHVlOmV9O3JldHVybiBpcy51bmQoci5kZWxheSkmJihyLmRlbGF5PW4/MDp0LmRlbGF5KSxpcy51bmQoci5lbmREZWxheSkmJihyLmVuZERlbGF5PW49PT1hLmxlbmd0aC0xP3QuZW5kRGVsYXk6MCkscn0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbWVyZ2VPYmplY3RzKGUsbil9KX1mdW5jdGlvbiBmbGF0dGVuS2V5ZnJhbWVzKGUpe2Zvcih2YXIgdD1maWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpfSkpLGZ1bmN0aW9uKGUpe3JldHVybiBpcy5rZXkoZSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQpPDAmJmUucHVzaCh0KSxlfSxbXSksbj17fSxyPTA7cjx0Lmxlbmd0aDtyKyspIWZ1bmN0aW9uKHIpe3ZhciBhPXRbcl07blthXT1lLm1hcChmdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlpcy5rZXkobik/bj09YSYmKHQudmFsdWU9ZVtuXSk6dFtuXT1lW25dO3JldHVybiB0fSl9KHIpO3JldHVybiBufWZ1bmN0aW9uIGdldFByb3BlcnRpZXMoZSx0KXt2YXIgbj1bXSxyPXQua2V5ZnJhbWVzO3ImJih0PW1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKHIpLHQpKTtmb3IodmFyIGEgaW4gdClpcy5rZXkoYSkmJm4ucHVzaCh7bmFtZTphLHR3ZWVuczpub3JtYWxpemVQcm9wZXJ0eVR3ZWVucyh0W2FdLGUpfSk7cmV0dXJuIG59ZnVuY3Rpb24gbm9ybWFsaXplVHdlZW5WYWx1ZXMoZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSl7dmFyIGE9Z2V0RnVuY3Rpb25WYWx1ZShlW3JdLHQpO2lzLmFycihhKSYmKGE9YS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUoZSx0KX0pLDE9PT1hLmxlbmd0aCYmKGE9YVswXSkpLG5bcl09YX1yZXR1cm4gbi5kdXJhdGlvbj1wYXJzZUZsb2F0KG4uZHVyYXRpb24pLG4uZGVsYXk9cGFyc2VGbG9hdChuLmRlbGF5KSxufWZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVucyhlLHQpe3ZhciBuO3JldHVybiBlLnR3ZWVucy5tYXAoZnVuY3Rpb24ocil7dmFyIGE9bm9ybWFsaXplVHdlZW5WYWx1ZXMocix0KSxpPWEudmFsdWUscz1pcy5hcnIoaSk/aVsxXTppLG89Z2V0VW5pdChzKSx1PWdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodC50YXJnZXQsZS5uYW1lLG8sdCksYz1uP24udG8ub3JpZ2luYWw6dSxsPWlzLmFycihpKT9pWzBdOmMsZz1nZXRVbml0KGwpfHxnZXRVbml0KHUpLGY9b3x8ZztyZXR1cm4gaXMudW5kKHMpJiYocz1jKSxhLmZyb209ZGVjb21wb3NlVmFsdWUobCxmKSxhLnRvPWRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUocyxsKSxmKSxhLnN0YXJ0PW4/bi5lbmQ6MCxhLmVuZD1hLnN0YXJ0K2EuZGVsYXkrYS5kdXJhdGlvbithLmVuZERlbGF5LGEuZWFzaW5nPXBhcnNlRWFzaW5ncyhhLmVhc2luZyxhLmR1cmF0aW9uKSxhLmlzUGF0aD1pcy5wdGgoaSksYS5pc0NvbG9yPWlzLmNvbChhLmZyb20ub3JpZ2luYWwpLGEuaXNDb2xvciYmKGEucm91bmQ9MSksbj1hLGF9KX1mdW5jdGlvbiBzZXRUYXJnZXRzVmFsdWUoZSx0KXtmb3IodmFyIG49Z2V0QW5pbWF0YWJsZXMoZSkscj0wLGE9bi5sZW5ndGg7cjxhO3IrKyl7dmFyIGk9bltyXTtmb3IodmFyIHMgaW4gdCl7dmFyIG89Z2V0RnVuY3Rpb25WYWx1ZSh0W3NdLGkpLHU9aS50YXJnZXQsYz1nZXRVbml0KG8pLGw9Z2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh1LHMsYyxpKSxnPWN8fGdldFVuaXQobCksZj1nZXRSZWxhdGl2ZVZhbHVlKHZhbGlkYXRlVmFsdWUobyxnKSxsKSxwPWdldEFuaW1hdGlvblR5cGUodSxzKTtzZXRQcm9ncmVzc1ZhbHVlW3BdKHUscyxmLGkudHJhbnNmb3JtcywhMCl9fX1mdW5jdGlvbiBjcmVhdGVBbmltYXRpb24oZSx0KXt2YXIgbj1nZXRBbmltYXRpb25UeXBlKGUudGFyZ2V0LHQubmFtZSk7aWYobil7dmFyIHI9bm9ybWFsaXplVHdlZW5zKHQsZSksYT1yW3IubGVuZ3RoLTFdO3JldHVybnt0eXBlOm4scHJvcGVydHk6dC5uYW1lLGFuaW1hdGFibGU6ZSx0d2VlbnM6cixkdXJhdGlvbjphLmVuZCxkZWxheTpyWzBdLmRlbGF5LGVuZERlbGF5OmEuZW5kRGVsYXl9fX1mdW5jdGlvbiBnZXRBbmltYXRpb25zKGUsdCl7cmV0dXJuIGZpbHRlckFycmF5KGZsYXR0ZW5BcnJheShlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGNyZWF0ZUFuaW1hdGlvbihlLHQpfSl9KSksZnVuY3Rpb24oZSl7cmV0dXJuIWlzLnVuZChlKX0pfWZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhlLHQpe3ZhciBuPWUubGVuZ3RoLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZWxpbmVPZmZzZXQ/ZS50aW1lbGluZU9mZnNldDowfSxhPXt9O3JldHVybiBhLmR1cmF0aW9uPW4/TWF0aC5tYXguYXBwbHkoTWF0aCxlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcihlKStlLmR1cmF0aW9ufSkpOnQuZHVyYXRpb24sYS5kZWxheT1uP01hdGgubWluLmFwcGx5KE1hdGgsZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSkrZS5kZWxheX0pKTp0LmRlbGF5LGEuZW5kRGVsYXk9bj9hLmR1cmF0aW9uLU1hdGgubWF4LmFwcGx5KE1hdGgsZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSkrZS5kdXJhdGlvbi1lLmVuZERlbGF5fSkpOnQuZW5kRGVsYXksYX1mdW5jdGlvbiBjcmVhdGVOZXdJbnN0YW5jZShlKXt2YXIgdD1yZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MsZSksbj1yZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsZSkscj1nZXRQcm9wZXJ0aWVzKG4sZSksYT1nZXRBbmltYXRhYmxlcyhlLnRhcmdldHMpLGk9Z2V0QW5pbWF0aW9ucyhhLHIpLHM9Z2V0SW5zdGFuY2VUaW1pbmdzKGksbiksbz1pbnN0YW5jZUlEO3JldHVybiBpbnN0YW5jZUlEKyssbWVyZ2VPYmplY3RzKHQse2lkOm8sY2hpbGRyZW46W10sYW5pbWF0YWJsZXM6YSxhbmltYXRpb25zOmksZHVyYXRpb246cy5kdXJhdGlvbixkZWxheTpzLmRlbGF5LGVuZERlbGF5OnMuZW5kRGVsYXl9KX1mdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCl7aWYoZG9jdW1lbnQuaGlkZGVuKXtmb3IodmFyIGU9MCx0PWFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7ZTx0O2UrKylhY3RpdmVJbnN0YW5jZVtlXS5wYXVzZSgpO3BhdXNlZEluc3RhbmNlcz1hY3RpdmVJbnN0YW5jZXMuc2xpY2UoMCksYWN0aXZlSW5zdGFuY2VzPVtdfWVsc2UgZm9yKHZhciBuPTAscj1wYXVzZWRJbnN0YW5jZXMubGVuZ3RoO248cjtuKyspcGF1c2VkSW5zdGFuY2VzW25dLnBsYXkoKX1mdW5jdGlvbiBhbmltZShlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHdpbmRvdy5Qcm9taXNlJiZuZXcgUHJvbWlzZShmdW5jdGlvbihlKXtyZXR1cm4gdj1lfSl9ZnVuY3Rpb24gbigpe3kucmV2ZXJzZWQ9IXkucmV2ZXJzZWQ7Zm9yKHZhciBlPTAsdD1nLmxlbmd0aDtlPHQ7ZSsrKWdbZV0ucmV2ZXJzZWQ9eS5yZXZlcnNlZH1mdW5jdGlvbiByKGUpe3JldHVybiB5LnJldmVyc2VkP3kuZHVyYXRpb24tZTplfWZ1bmN0aW9uIGEoKXtmPTAscD1yKHkuY3VycmVudFRpbWUpKigxL2FuaW1lLnNwZWVkKX1mdW5jdGlvbiBpKGUsdCl7dCYmdC5zZWVrKGUtdC50aW1lbGluZU9mZnNldCl9ZnVuY3Rpb24gcyhlKXtpZih5LnJldmVyc2VQbGF5YmFjaylmb3IodmFyIHQ9ZDt0LS07KWkoZSxnW3RdKTtlbHNlIGZvcih2YXIgbj0wO248ZDtuKyspaShlLGdbbl0pfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PTAsbj15LmFuaW1hdGlvbnMscj1uLmxlbmd0aDt0PHI7KXt2YXIgYT1uW3RdLGk9YS5hbmltYXRhYmxlLHM9YS50d2VlbnMsbz1zLmxlbmd0aC0xLHU9c1tvXTtvJiYodT1maWx0ZXJBcnJheShzLGZ1bmN0aW9uKHQpe3JldHVybiBlPHQuZW5kfSlbMF18fHUpO2Zvcih2YXIgYz1taW5NYXgoZS11LnN0YXJ0LXUuZGVsYXksMCx1LmR1cmF0aW9uKS91LmR1cmF0aW9uLGw9aXNOYU4oYyk/MTp1LmVhc2luZyhjKSxnPXUudG8uc3RyaW5ncyxmPXUucm91bmQscD1bXSxtPXUudG8ubnVtYmVycy5sZW5ndGgsZD12b2lkIDAsdj0wO3Y8bTt2Kyspe3ZhciBoPXZvaWQgMCxiPXUudG8ubnVtYmVyc1t2XSx4PXUuZnJvbS5udW1iZXJzW3ZdfHwwO2g9dS5pc1BhdGg/Z2V0UGF0aFByb2dyZXNzKHUudmFsdWUsbCpiKTp4K2wqKGIteCksZiYmKHUuaXNDb2xvciYmdj4yfHwoaD1NYXRoLnJvdW5kKGgqZikvZikpLHAucHVzaChoKX12YXIgVD1nLmxlbmd0aDtpZihUKXtkPWdbMF07Zm9yKHZhciBBPTA7QTxUO0ErKyl7dmFyIFI9KGdbQV0sZ1tBKzFdKSxQPXBbQV07aXNOYU4oUCl8fChkKz1SP1ArUjpQK1wiIFwiKX19ZWxzZSBkPXBbMF07c2V0UHJvZ3Jlc3NWYWx1ZVthLnR5cGVdKGkudGFyZ2V0LGEucHJvcGVydHksZCxpLnRyYW5zZm9ybXMpLGEuY3VycmVudFZhbHVlPWQsdCsrfX1mdW5jdGlvbiB1KGUpe3lbZV0mJiF5LnBhc3NUaHJvdWdoJiZ5W2VdKHkpfWZ1bmN0aW9uIGMoKXt5LnJlbWFpbmluZyYmITAhPT15LnJlbWFpbmluZyYmeS5yZW1haW5pbmctLX1mdW5jdGlvbiBsKGUpe3ZhciBhPXkuZHVyYXRpb24saT15LmRlbGF5LGw9YS15LmVuZERlbGF5LGQ9cihlKTt5LnByb2dyZXNzPW1pbk1heChkL2EqMTAwLDAsMTAwKSx5LnJldmVyc2VQbGF5YmFjaz1kPHkuY3VycmVudFRpbWUsZyYmcyhkKSwheS5iZWdhbiYmeS5jdXJyZW50VGltZT4wJiYoeS5iZWdhbj0hMCx1KFwiYmVnaW5cIiksdShcImxvb3BCZWdpblwiKSksZDw9aSYmMCE9PXkuY3VycmVudFRpbWUmJm8oMCksKGQ+PWwmJnkuY3VycmVudFRpbWUhPT1hfHwhYSkmJm8oYSksZD5pJiZkPGw/KHkuY2hhbmdlQmVnYW58fCh5LmNoYW5nZUJlZ2FuPSEwLHkuY2hhbmdlQ29tcGxldGVkPSExLHUoXCJjaGFuZ2VCZWdpblwiKSksdShcImNoYW5nZVwiKSxvKGQpKTp5LmNoYW5nZUJlZ2FuJiYoeS5jaGFuZ2VDb21wbGV0ZWQ9ITAseS5jaGFuZ2VCZWdhbj0hMSx1KFwiY2hhbmdlQ29tcGxldGVcIikpLHkuY3VycmVudFRpbWU9bWluTWF4KGQsMCxhKSx5LmJlZ2FuJiZ1KFwidXBkYXRlXCIpLGU+PWEmJihwPTAsYygpLHkucmVtYWluaW5nPyhmPW0sdShcImxvb3BDb21wbGV0ZVwiKSx1KFwibG9vcEJlZ2luXCIpLFwiYWx0ZXJuYXRlXCI9PT15LmRpcmVjdGlvbiYmbigpKTooeS5wYXVzZWQ9ITAseS5jb21wbGV0ZWR8fCh5LmNvbXBsZXRlZD0hMCx1KFwibG9vcENvbXBsZXRlXCIpLHUoXCJjb21wbGV0ZVwiKSxcIlByb21pc2VcImluIHdpbmRvdyYmKHYoKSxoPXQoKSkpKSl9dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBnLGY9MCxwPTAsbT0wLGQ9MCx2PW51bGwsaD10KCkseT1jcmVhdGVOZXdJbnN0YW5jZShlKTtyZXR1cm4geS5yZXNldD1mdW5jdGlvbigpe3ZhciBlPXkuZGlyZWN0aW9uO3kucGFzc1Rocm91Z2g9ITEseS5jdXJyZW50VGltZT0wLHkucHJvZ3Jlc3M9MCx5LnBhdXNlZD0hMCx5LmJlZ2FuPSExLHkuY2hhbmdlQmVnYW49ITEseS5jb21wbGV0ZWQ9ITEseS5jaGFuZ2VDb21wbGV0ZWQ9ITEseS5yZXZlcnNlUGxheWJhY2s9ITEseS5yZXZlcnNlZD1cInJldmVyc2VcIj09PWUseS5yZW1haW5pbmc9eS5sb29wLGc9eS5jaGlsZHJlbixkPWcubGVuZ3RoO2Zvcih2YXIgdD1kO3QtLTspeS5jaGlsZHJlblt0XS5yZXNldCgpOyh5LnJldmVyc2VkJiYhMCE9PXkubG9vcHx8XCJhbHRlcm5hdGVcIj09PWUmJjE9PT15Lmxvb3ApJiZ5LnJlbWFpbmluZysrLG8oMCl9LHkuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHNldFRhcmdldHNWYWx1ZShlLHQpLHl9LHkudGljaz1mdW5jdGlvbihlKXttPWUsZnx8KGY9bSksbCgobSsocC1mKSkqYW5pbWUuc3BlZWQpfSx5LnNlZWs9ZnVuY3Rpb24oZSl7bChyKGUpKX0seS5wYXVzZT1mdW5jdGlvbigpe3kucGF1c2VkPSEwLGEoKX0seS5wbGF5PWZ1bmN0aW9uKCl7eS5wYXVzZWQmJih5LnBhdXNlZD0hMSxhY3RpdmVJbnN0YW5jZXMucHVzaCh5KSxhKCkscmFmfHxlbmdpbmUoKSl9LHkucmV2ZXJzZT1mdW5jdGlvbigpe24oKSxhKCl9LHkucmVzdGFydD1mdW5jdGlvbigpe3kucmVzZXQoKSx5LnBsYXkoKX0seS5maW5pc2hlZD1oLHkucmVzZXQoKSx5LmF1dG9wbGF5JiZ5LnBsYXkoKSx5fWZ1bmN0aW9uIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyhlLHQpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWFycmF5Q29udGFpbnMoZSx0W25dLmFuaW1hdGFibGUudGFyZ2V0KSYmdC5zcGxpY2UobiwxKX1mdW5jdGlvbiByZW1vdmVUYXJnZXRzKGUpe2Zvcih2YXIgdD1wYXJzZVRhcmdldHMoZSksbj1hY3RpdmVJbnN0YW5jZXMubGVuZ3RoO24tLTspe3ZhciByPWFjdGl2ZUluc3RhbmNlc1tuXSxhPXIuYW5pbWF0aW9ucyxpPXIuY2hpbGRyZW47cmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHQsYSk7Zm9yKHZhciBzPWkubGVuZ3RoO3MtLTspe3ZhciBvPWlbc10sdT1vLmFuaW1hdGlvbnM7cmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHQsdSksdS5sZW5ndGh8fG8uY2hpbGRyZW4ubGVuZ3RofHxpLnNwbGljZShzLDEpfWEubGVuZ3RofHxpLmxlbmd0aHx8ci5wYXVzZSgpfX1mdW5jdGlvbiBzdGFnZ2VyKGUsdCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBuPXQuZGlyZWN0aW9ufHxcIm5vcm1hbFwiLHI9dC5lYXNpbmc/cGFyc2VFYXNpbmdzKHQuZWFzaW5nKTpudWxsLGE9dC5ncmlkLGk9dC5heGlzLHM9dC5mcm9tfHwwLG89XCJmaXJzdFwiPT09cyx1PVwiY2VudGVyXCI9PT1zLGM9XCJsYXN0XCI9PT1zLGw9aXMuYXJyKGUpLGc9bD9wYXJzZUZsb2F0KGVbMF0pOnBhcnNlRmxvYXQoZSksZj1sP3BhcnNlRmxvYXQoZVsxXSk6MCxwPWdldFVuaXQobD9lWzFdOmUpfHwwLG09dC5zdGFydHx8MCsobD9nOjApLGQ9W10sdj0wO3JldHVybiBmdW5jdGlvbihlLHQsaCl7aWYobyYmKHM9MCksdSYmKHM9KGgtMSkvMiksYyYmKHM9aC0xKSwhZC5sZW5ndGgpe2Zvcih2YXIgeT0wO3k8aDt5Kyspe2lmKGEpe3ZhciBiPXU/KGFbMF0tMSkvMjpzJWFbMF0seD11PyhhWzFdLTEpLzI6TWF0aC5mbG9vcihzL2FbMF0pLFQ9eSVhWzBdLEE9TWF0aC5mbG9vcih5L2FbMF0pLFI9Yi1ULFA9eC1BLHc9TWF0aC5zcXJ0KFIqUitQKlApO1wieFwiPT09aSYmKHc9LVIpLFwieVwiPT09aSYmKHc9LVApLGQucHVzaCh3KX1lbHNlIGQucHVzaChNYXRoLmFicyhzLXkpKTt2PU1hdGgubWF4LmFwcGx5KE1hdGgsZCl9ciYmKGQ9ZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZS92KSp2fSkpLFwicmV2ZXJzZVwiPT09biYmKGQ9ZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGk/ZTwwPy0xKmU6LWU6TWF0aC5hYnModi1lKX0pKX1yZXR1cm4gbSsobD8oZi1nKS92OmcpKihNYXRoLnJvdW5kKDEwMCpkW3RdKS8xMDApK3B9fWZ1bmN0aW9uIHRpbWVsaW5lKGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgdD1hbmltZShlKTtyZXR1cm4gdC5kdXJhdGlvbj0wLHQuYWRkPWZ1bmN0aW9uKG4scil7ZnVuY3Rpb24gYShlKXtlLnBhc3NUaHJvdWdoPSEwfXZhciBpPWFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKHQpLHM9dC5jaGlsZHJlbjtpPi0xJiZhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGksMSk7Zm9yKHZhciBvPTA7bzxzLmxlbmd0aDtvKyspYShzW29dKTt2YXIgdT1tZXJnZU9iamVjdHMobixyZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdFR3ZWVuU2V0dGluZ3MsZSkpO3UudGFyZ2V0cz11LnRhcmdldHN8fGUudGFyZ2V0czt2YXIgYz10LmR1cmF0aW9uO3UuYXV0b3BsYXk9ITEsdS5kaXJlY3Rpb249dC5kaXJlY3Rpb24sdS50aW1lbGluZU9mZnNldD1pcy51bmQocik/YzpnZXRSZWxhdGl2ZVZhbHVlKHIsYyksYSh0KSx0LnNlZWsodS50aW1lbGluZU9mZnNldCk7dmFyIGw9YW5pbWUodSk7YShsKSxzLnB1c2gobCk7dmFyIGc9Z2V0SW5zdGFuY2VUaW1pbmdzKHMsZSk7cmV0dXJuIHQuZGVsYXk9Zy5kZWxheSx0LmVuZERlbGF5PWcuZW5kRGVsYXksdC5kdXJhdGlvbj1nLmR1cmF0aW9uLHQuc2VlaygwKSx0LnJlc2V0KCksdC5hdXRvcGxheSYmdC5wbGF5KCksdH0sdH12YXIgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3M9e3VwZGF0ZTpudWxsLGJlZ2luOm51bGwsbG9vcEJlZ2luOm51bGwsY2hhbmdlQmVnaW46bnVsbCxjaGFuZ2U6bnVsbCxjaGFuZ2VDb21wbGV0ZTpudWxsLGxvb3BDb21wbGV0ZTpudWxsLGNvbXBsZXRlOm51bGwsbG9vcDoxLGRpcmVjdGlvbjpcIm5vcm1hbFwiLGF1dG9wbGF5OiEwLHRpbWVsaW5lT2Zmc2V0OjB9LGRlZmF1bHRUd2VlblNldHRpbmdzPXtkdXJhdGlvbjoxZTMsZGVsYXk6MCxlbmREZWxheTowLGVhc2luZzpcImVhc2VPdXRFbGFzdGljKDEsIC41KVwiLHJvdW5kOjB9LHZhbGlkVHJhbnNmb3Jtcz1bXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCIsXCJ0cmFuc2xhdGVaXCIsXCJyb3RhdGVcIixcInJvdGF0ZVhcIixcInJvdGF0ZVlcIixcInJvdGF0ZVpcIixcInNjYWxlXCIsXCJzY2FsZVhcIixcInNjYWxlWVwiLFwic2NhbGVaXCIsXCJza2V3XCIsXCJza2V3WFwiLFwic2tld1lcIixcInBlcnNwZWN0aXZlXCJdLGNhY2hlPXtDU1M6e30sc3ByaW5nczp7fX0saGV4UmVnZXg9LyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLHJnYlByZWZpeFJlZ2V4PS9ecmdiLyxoc2xSZWdleD0vXmhzbC8saXM9e2FycjpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX0sb2JqOmZ1bmN0aW9uKGUpe3JldHVybiBzdHJpbmdDb250YWlucyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSksXCJPYmplY3RcIil9LHB0aDpmdW5jdGlvbihlKXtyZXR1cm4gaXMub2JqKGUpJiZlLmhhc093blByb3BlcnR5KFwidG90YWxMZW5ndGhcIil9LHN2ZzpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnR9LGlucDpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnR9LGRvbTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlVHlwZXx8aXMuc3ZnKGUpfSxzdHI6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LGZuYzpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfSx1bmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9LGhleDpmdW5jdGlvbihlKXtyZXR1cm4gaGV4UmVnZXgudGVzdChlKX0scmdiOmZ1bmN0aW9uKGUpe3JldHVybiByZ2JQcmVmaXhSZWdleC50ZXN0KGUpfSxoc2w6ZnVuY3Rpb24oZSl7cmV0dXJuIGhzbFJlZ2V4LnRlc3QoZSl9LGNvbDpmdW5jdGlvbihlKXtyZXR1cm4gaXMuaGV4KGUpfHxpcy5yZ2IoZSl8fGlzLmhzbChlKX0sa2V5OmZ1bmN0aW9uKGUpe3JldHVybiFkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShlKSYmIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGUpJiZcInRhcmdldHNcIiE9PWUmJlwia2V5ZnJhbWVzXCIhPT1lfX0sZWFzaW5nRnVuY3Rpb25SZWdleD0vXFwoKFteKV0rKVxcKS8sYmV6aWVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiAxLTMqdCszKmV9ZnVuY3Rpb24gdChlLHQpe3JldHVybiAzKnQtNiplfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIDMqZX1mdW5jdGlvbiByKHIsYSxpKXtyZXR1cm4oKGUoYSxpKSpyK3QoYSxpKSkqcituKGEpKSpyfWZ1bmN0aW9uIGEocixhLGkpe3JldHVybiAzKmUoYSxpKSpyKnIrMip0KGEsaSkqcituKGEpfWZ1bmN0aW9uIGkoZSx0LG4sYSxpKXt2YXIgcyxvLHU9MDtkb3tvPXQrKG4tdCkvMixzPXIobyxhLGkpLWUscz4wP249bzp0PW99d2hpbGUoTWF0aC5hYnMocyk+MWUtNyYmKyt1PDEwKTtyZXR1cm4gb31mdW5jdGlvbiBzKGUsdCxuLGkpe2Zvcih2YXIgcz0wO3M8NDsrK3Mpe3ZhciBvPWEodCxuLGkpO2lmKDA9PT1vKXJldHVybiB0O3QtPShyKHQsbixpKS1lKS9vfXJldHVybiB0fWZ1bmN0aW9uIG8oZSx0LG4sbyl7ZnVuY3Rpb24gbCh0KXtmb3IodmFyIHI9MCxvPTEsbD11LTE7byE9PWwmJmdbb108PXQ7KytvKXIrPWM7LS1vO3ZhciBmPSh0LWdbb10pLyhnW28rMV0tZ1tvXSkscD1yK2YqYyxtPWEocCxlLG4pO3JldHVybiBtPj0uMDAxP3ModCxwLGUsbik6MD09PW0/cDppKHQscixyK2MsZSxuKX1pZigwPD1lJiZlPD0xJiYwPD1uJiZuPD0xKXt2YXIgZz1uZXcgRmxvYXQzMkFycmF5KHUpO2lmKGUhPT10fHxuIT09bylmb3IodmFyIGY9MDtmPHU7KytmKWdbZl09cihmKmMsZSxuKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGU9PT10JiZuPT09bz9hOjA9PT1hfHwxPT09YT9hOnIobChhKSx0LG8pfX19dmFyIHU9MTEsYz0xLyh1LTEpO3JldHVybiBvfSgpLHBlbm5lcj1mdW5jdGlvbigpe3ZhciBlPVtcIlF1YWRcIixcIkN1YmljXCIsXCJRdWFydFwiLFwiUXVpbnRcIixcIlNpbmVcIixcIkV4cG9cIixcIkNpcmNcIixcIkJhY2tcIixcIkVsYXN0aWNcIl0sdD17SW46W1suNTUsLjA4NSwuNjgsLjUzXSxbLjU1LC4wNTUsLjY3NSwuMTldLFsuODk1LC4wMywuNjg1LC4yMl0sWy43NTUsLjA1LC44NTUsLjA2XSxbLjQ3LDAsLjc0NSwuNzE1XSxbLjk1LC4wNSwuNzk1LC4wMzVdLFsuNiwuMDQsLjk4LC4zMzVdLFsuNiwtLjI4LC43MzUsLjA0NV0sZWxhc3RpY10sT3V0OltbLjI1LC40NiwuNDUsLjk0XSxbLjIxNSwuNjEsLjM1NSwxXSxbLjE2NSwuODQsLjQ0LDFdLFsuMjMsMSwuMzIsMV0sWy4zOSwuNTc1LC41NjUsMV0sWy4xOSwxLC4yMiwxXSxbLjA3NSwuODIsLjE2NSwxXSxbLjE3NSwuODg1LC4zMiwxLjI3NV0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIDEtZWxhc3RpYyhlLHQpKDEtbil9fV0sSW5PdXQ6W1suNDU1LC4wMywuNTE1LC45NTVdLFsuNjQ1LC4wNDUsLjM1NSwxXSxbLjc3LDAsLjE3NSwxXSxbLjg2LDAsLjA3LDFdLFsuNDQ1LC4wNSwuNTUsLjk1XSxbMSwwLDAsMV0sWy43ODUsLjEzNSwuMTUsLjg2XSxbLjY4LC0uNTUsLjI2NSwxLjU1XSxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbjwuNT9lbGFzdGljKGUsdCkoMipuKS8yOjEtZWxhc3RpYyhlLHQpKC0yKm4rMikvMn19XX0sbj17bGluZWFyOlsuMjUsLjI1LC43NSwuNzVdfTtmb3IodmFyIHIgaW4gdClmb3IodmFyIGE9MCxpPXRbcl0ubGVuZ3RoO2E8aTthKyspbltcImVhc2VcIityK2VbYV1dPXRbcl1bYV07cmV0dXJuIG59KCksYXV4QXJyYXlGaWx0ZXI9W10scmdiUmVnZXg9L3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZyxoZXhUb1JnYmFIZXhSZWdleD0vXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLGhleFRvUmdiYVJnYlJlZ2V4PS9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2ksaHNsVG9SZ2JhSHNsMVJlZ2V4PS9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZyxoc2xUb1JnYmFIc2wyUmVnZXg9L2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLHVuaXRSZWdleD0vKFtcXCtcXC1dP1swLTkjXFwuXSspKCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLHRyYW5zZm9ybVJlZ2V4PS8oXFx3KylcXCgoW14pXSopXFwpL2csb3BlcmF0b3JSZWdleD0vXihcXCo9fFxcKz18LT0pLyx3aGl0ZXNwYWNlUmVnZXg9L1xccy9nLHZhbHVlUmVnZXg9Ly0/XFxkKlxcLj9cXGQrL2csc3ByaW5nUmVnZXg9L15zcHJpbmcvLHNldFByb2dyZXNzVmFsdWU9e2NzczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuc3R5bGVbdF09bn0sYXR0cmlidXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUodCxuKX0sb2JqZWN0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufSx0cmFuc2Zvcm06ZnVuY3Rpb24oZSx0LG4scixhKXtpZihyLmxpc3Quc2V0KHQsbiksdD09PXIubGFzdHx8YSl7dmFyIGk9XCJcIjtyLmxpc3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe2krPXQrXCIoXCIrZStcIikgXCJ9KSxlLnN0eWxlLnRyYW5zZm9ybT1pfX19LGluc3RhbmNlSUQ9MCxhY3RpdmVJbnN0YW5jZXM9W10scGF1c2VkSW5zdGFuY2VzPVtdLHJhZixlbmdpbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cmFmPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0KX1mdW5jdGlvbiB0KHQpe3ZhciBuPWFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7aWYobil7Zm9yKHZhciByPTA7cjxuOyl7dmFyIGE9YWN0aXZlSW5zdGFuY2VzW3JdO2lmKGEucGF1c2VkKXt2YXIgaT1hY3RpdmVJbnN0YW5jZXMuaW5kZXhPZihhKTtpPi0xJiYoYWN0aXZlSW5zdGFuY2VzLnNwbGljZShpLDEpLG49YWN0aXZlSW5zdGFuY2VzLmxlbmd0aCl9ZWxzZSBhLnRpY2sodCk7cisrfWUoKX1lbHNlIHJhZj1jYW5jZWxBbmltYXRpb25GcmFtZShyYWYpfXJldHVybiBlfSgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSksYW5pbWUudmVyc2lvbj1cIjMuMC4wXCIsYW5pbWUuc3BlZWQ9MSxhbmltZS5ydW5uaW5nPWFjdGl2ZUluc3RhbmNlcyxhbmltZS5yZW1vdmU9cmVtb3ZlVGFyZ2V0cyxhbmltZS5nZXQ9Z2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSxhbmltZS5zZXQ9c2V0VGFyZ2V0c1ZhbHVlLGFuaW1lLmNvbnZlcnRQeD1jb252ZXJ0UHhUb1VuaXQsYW5pbWUucGF0aD1nZXRQYXRoLGFuaW1lLnNldERhc2hvZmZzZXQ9c2V0RGFzaG9mZnNldCxhbmltZS5zdGFnZ2VyPXN0YWdnZXIsYW5pbWUudGltZWxpbmU9dGltZWxpbmUsYW5pbWUuZWFzaW5nPXBhcnNlRWFzaW5ncyxhbmltZS5wZW5uZXI9cGVubmVyLGFuaW1lLnJhbmRvbT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHQtZSsxKSkrZX0sbW9kdWxlLmV4cG9ydHM9YW5pbWU7XG59LHt9XSwzNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT90KGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSx0KTooZT1lfHxzZWxmLHQoZS5USFJFRT17fSkpfSh0aGlzLGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gbihlLHQpe3RoaXMueD1lfHwwLHRoaXMueT10fHwwfWZ1bmN0aW9uIHIoZSx0LG4scil7dGhpcy5feD1lfHwwLHRoaXMuX3k9dHx8MCx0aGlzLl96PW58fDAsdGhpcy5fdz12b2lkIDAhPT1yP3I6MX1mdW5jdGlvbiBpKGUsdCxuKXt0aGlzLng9ZXx8MCx0aGlzLnk9dHx8MCx0aGlzLno9bnx8MH1mdW5jdGlvbiBhKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwxLDAsMCwwLDFdLGFyZ3VtZW50cy5sZW5ndGg+MCYmY29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDM6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuXCIpfWZ1bmN0aW9uIG8oZSx0LHIsaSxzLGMsbCxoLHUscCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTptbCsrfSksdGhpcy51dWlkPWxsLmdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT1cIlwiLHRoaXMuaW1hZ2U9dm9pZCAwIT09ZT9lOm8uREVGQVVMVF9JTUFHRSx0aGlzLm1pcG1hcHM9W10sdGhpcy5tYXBwaW5nPXZvaWQgMCE9PXQ/dDpvLkRFRkFVTFRfTUFQUElORyx0aGlzLndyYXBTPXZvaWQgMCE9PXI/cjpxcyx0aGlzLndyYXBUPXZvaWQgMCE9PWk/aTpxcyx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1zP3M6UXMsdGhpcy5taW5GaWx0ZXI9dm9pZCAwIT09Yz9jOiRzLHRoaXMuYW5pc290cm9weT12b2lkIDAhPT11P3U6MSx0aGlzLmZvcm1hdD12b2lkIDAhPT1sP2w6ZmMsdGhpcy50eXBlPXZvaWQgMCE9PWg/aDplYyx0aGlzLm9mZnNldD1uZXcgbigwLDApLHRoaXMucmVwZWF0PW5ldyBuKDEsMSksdGhpcy5jZW50ZXI9bmV3IG4oMCwwKSx0aGlzLnJvdGF0aW9uPTAsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSEwLHRoaXMubWF0cml4PW5ldyBhLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSEwLHRoaXMucHJlbXVsdGlwbHlBbHBoYT0hMSx0aGlzLmZsaXBZPSEwLHRoaXMudW5wYWNrQWxpZ25tZW50PTQsdGhpcy5lbmNvZGluZz12b2lkIDAhPT1wP3A6cWMsdGhpcy52ZXJzaW9uPTAsdGhpcy5vblVwZGF0ZT1udWxsfWZ1bmN0aW9uIHMoZSx0LG4scil7dGhpcy54PWV8fDAsdGhpcy55PXR8fDAsdGhpcy56PW58fDAsdGhpcy53PXZvaWQgMCE9PXI/cjoxfWZ1bmN0aW9uIGMoZSx0LG4pe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMuc2Npc3Nvcj1uZXcgcygwLDAsZSx0KSx0aGlzLnNjaXNzb3JUZXN0PSExLHRoaXMudmlld3BvcnQ9bmV3IHMoMCwwLGUsdCksbj1ufHx7fSx0aGlzLnRleHR1cmU9bmV3IG8odm9pZCAwLHZvaWQgMCxuLndyYXBTLG4ud3JhcFQsbi5tYWdGaWx0ZXIsbi5taW5GaWx0ZXIsbi5mb3JtYXQsbi50eXBlLG4uYW5pc290cm9weSxuLmVuY29kaW5nKSx0aGlzLnRleHR1cmUuaW1hZ2U9e30sdGhpcy50ZXh0dXJlLmltYWdlLndpZHRoPWUsdGhpcy50ZXh0dXJlLmltYWdlLmhlaWdodD10LHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9dm9pZCAwIT09bi5nZW5lcmF0ZU1pcG1hcHMmJm4uZ2VuZXJhdGVNaXBtYXBzLHRoaXMudGV4dHVyZS5taW5GaWx0ZXI9dm9pZCAwIT09bi5taW5GaWx0ZXI/bi5taW5GaWx0ZXI6UXMsdGhpcy5kZXB0aEJ1ZmZlcj12b2lkIDA9PT1uLmRlcHRoQnVmZmVyfHxuLmRlcHRoQnVmZmVyLHRoaXMuc3RlbmNpbEJ1ZmZlcj12b2lkIDA9PT1uLnN0ZW5jaWxCdWZmZXJ8fG4uc3RlbmNpbEJ1ZmZlcix0aGlzLmRlcHRoVGV4dHVyZT12b2lkIDAhPT1uLmRlcHRoVGV4dHVyZT9uLmRlcHRoVGV4dHVyZTpudWxsfWZ1bmN0aW9uIGwoZSx0LG4pe2MuY2FsbCh0aGlzLGUsdCxuKSx0aGlzLnNhbXBsZXM9NH1mdW5jdGlvbiBoKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sYXJndW1lbnRzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC5cIil9ZnVuY3Rpb24gdShlLHQsbixyKXt0aGlzLl94PWV8fDAsdGhpcy5feT10fHwwLHRoaXMuX3o9bnx8MCx0aGlzLl9vcmRlcj1yfHx1LkRlZmF1bHRPcmRlcn1mdW5jdGlvbiBwKCl7dGhpcy5tYXNrPTF9ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIGUoKXtzLnNldEZyb21FdWxlcihvLCExKX1mdW5jdGlvbiB0KCl7by5zZXRGcm9tUXVhdGVybmlvbihzLHZvaWQgMCwhMSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTpUbCsrfSksdGhpcy51dWlkPWxsLmdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT1cIlwiLHRoaXMudHlwZT1cIk9iamVjdDNEXCIsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmNoaWxkcmVuPVtdLHRoaXMudXA9ZC5EZWZhdWx0VXAuY2xvbmUoKTt2YXIgbj1uZXcgaSxvPW5ldyB1LHM9bmV3IHIsYz1uZXcgaSgxLDEsMSk7by5fb25DaGFuZ2UoZSkscy5fb25DaGFuZ2UodCksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cG9zaXRpb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm59LHJvdGF0aW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpvfSxxdWF0ZXJuaW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpzfSxzY2FsZTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Y30sbW9kZWxWaWV3TWF0cml4Ont2YWx1ZTpuZXcgaH0sbm9ybWFsTWF0cml4Ont2YWx1ZTpuZXcgYX19KSx0aGlzLm1hdHJpeD1uZXcgaCx0aGlzLm1hdHJpeFdvcmxkPW5ldyBoLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1kLkRlZmF1bHRNYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMSx0aGlzLmxheWVycz1uZXcgcCx0aGlzLnZpc2libGU9ITAsdGhpcy5jYXN0U2hhZG93PSExLHRoaXMucmVjZWl2ZVNoYWRvdz0hMSx0aGlzLmZydXN0dW1DdWxsZWQ9ITAsdGhpcy5yZW5kZXJPcmRlcj0wLHRoaXMudXNlckRhdGE9e319ZnVuY3Rpb24gZigpe2QuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTY2VuZVwiLHRoaXMuYmFja2dyb3VuZD1udWxsLHRoaXMuZm9nPW51bGwsdGhpcy5vdmVycmlkZU1hdGVyaWFsPW51bGwsdGhpcy5hdXRvVXBkYXRlPSEwLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9ic2VydmVcIix7ZGV0YWlsOnRoaXN9KSl9ZnVuY3Rpb24gbShlLHQpe3RoaXMubWluPXZvaWQgMCE9PWU/ZTpuZXcgaSgxLzAsMS8wLDEvMCksdGhpcy5tYXg9dm9pZCAwIT09dD90Om5ldyBpKC0xLzAsLTEvMCwtMS8wKX1mdW5jdGlvbiB2KGUsdCxuLHIsaSl7dmFyIGEsbztmb3IoYT0wLG89ZS5sZW5ndGgtMzthPD1vO2ErPTMpe0psLmZyb21BcnJheShlLGEpO3ZhciBzPWkueCpNYXRoLmFicyhKbC54KStpLnkqTWF0aC5hYnMoSmwueSkraS56Kk1hdGguYWJzKEpsLnopLGM9dC5kb3QoSmwpLGw9bi5kb3QoSmwpLGg9ci5kb3QoSmwpO2lmKE1hdGgubWF4KC1NYXRoLm1heChjLGwsaCksTWF0aC5taW4oYyxsLGgpKT5zKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmNlbnRlcj12b2lkIDAhPT1lP2U6bmV3IGksdGhpcy5yYWRpdXM9dm9pZCAwIT09dD90OjB9ZnVuY3Rpb24geShlLHQpe3RoaXMub3JpZ2luPXZvaWQgMCE9PWU/ZTpuZXcgaSx0aGlzLmRpcmVjdGlvbj12b2lkIDAhPT10P3Q6bmV3IGkoMCwwLC0xKX1mdW5jdGlvbiB4KGUsdCl7dGhpcy5ub3JtYWw9dm9pZCAwIT09ZT9lOm5ldyBpKDEsMCwwKSx0aGlzLmNvbnN0YW50PXZvaWQgMCE9PXQ/dDowfWZ1bmN0aW9uIGIoZSx0LG4pe3RoaXMuYT12b2lkIDAhPT1lP2U6bmV3IGksdGhpcy5iPXZvaWQgMCE9PXQ/dDpuZXcgaSx0aGlzLmM9dm9pZCAwIT09bj9uOm5ldyBpfWZ1bmN0aW9uIHcoZSx0LG4pe3JldHVybiB2b2lkIDA9PT10JiZ2b2lkIDA9PT1uP3RoaXMuc2V0KGUpOnRoaXMuc2V0UkdCKGUsdCxuKX1mdW5jdGlvbiBfKGUsdCxuKXtyZXR1cm4gbjwwJiYobis9MSksbj4xJiYobi09MSksbjwxLzY/ZSs2Kih0LWUpKm46bjwuNT90Om48Mi8zP2UrNioodC1lKSooMi8zLW4pOmV9ZnVuY3Rpb24gTShlKXtyZXR1cm4gZTwuMDQwNDU/LjA3NzM5OTM4MDgqZTpNYXRoLnBvdyguOTQ3ODY3Mjk4NiplKy4wNTIxMzI3MDE0LDIuNCl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZTwuMDAzMTMwOD8xMi45MiplOjEuMDU1Kk1hdGgucG93KGUsLjQxNjY2KS0uMDU1fWZ1bmN0aW9uIFQoZSx0LG4scixhLG8pe3RoaXMuYT1lLHRoaXMuYj10LHRoaXMuYz1uLHRoaXMubm9ybWFsPXImJnIuaXNWZWN0b3IzP3I6bmV3IGksdGhpcy52ZXJ0ZXhOb3JtYWxzPUFycmF5LmlzQXJyYXkocik/cjpbXSx0aGlzLmNvbG9yPWEmJmEuaXNDb2xvcj9hOm5ldyB3LHRoaXMudmVydGV4Q29sb3JzPUFycmF5LmlzQXJyYXkoYSk/YTpbXSx0aGlzLm1hdGVyaWFsSW5kZXg9dm9pZCAwIT09bz9vOjB9ZnVuY3Rpb24gRSgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRcIix7dmFsdWU6d2grK30pLHRoaXMudXVpZD1sbC5nZW5lcmF0ZVVVSUQoKSx0aGlzLm5hbWU9XCJcIix0aGlzLnR5cGU9XCJNYXRlcmlhbFwiLHRoaXMuZm9nPSEwLHRoaXMuYmxlbmRpbmc9ZXMsdGhpcy5zaWRlPVhvLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy52ZXJ0ZXhUYW5nZW50cz0hMSx0aGlzLnZlcnRleENvbG9ycz1Kbyx0aGlzLm9wYWNpdHk9MSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYmxlbmRTcmM9ZnMsdGhpcy5ibGVuZERzdD1tcyx0aGlzLmJsZW5kRXF1YXRpb249YXMsdGhpcy5ibGVuZFNyY0FscGhhPW51bGwsdGhpcy5ibGVuZERzdEFscGhhPW51bGwsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9bnVsbCx0aGlzLmRlcHRoRnVuYz1Tcyx0aGlzLmRlcHRoVGVzdD0hMCx0aGlzLmRlcHRoV3JpdGU9ITAsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGdW5jPWFsLHRoaXMuc3RlbmNpbFJlZj0wLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGYWlsPWlsLHRoaXMuc3RlbmNpbFpGYWlsPWlsLHRoaXMuc3RlbmNpbFpQYXNzPWlsLHRoaXMuc3RlbmNpbFdyaXRlPSExLHRoaXMuY2xpcHBpbmdQbGFuZXM9bnVsbCx0aGlzLmNsaXBJbnRlcnNlY3Rpb249ITEsdGhpcy5jbGlwU2hhZG93cz0hMSx0aGlzLnNoYWRvd1NpZGU9bnVsbCx0aGlzLmNvbG9yV3JpdGU9ITAsdGhpcy5wcmVjaXNpb249bnVsbCx0aGlzLnBvbHlnb25PZmZzZXQ9ITEsdGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPTAsdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9MCx0aGlzLmRpdGhlcmluZz0hMSx0aGlzLmFscGhhVGVzdD0wLHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSExLHRoaXMudmlzaWJsZT0hMCx0aGlzLnRvbmVNYXBwZWQ9ITAsdGhpcy51c2VyRGF0YT17fSx0aGlzLnZlcnNpb249MH1mdW5jdGlvbiBBKGUpe0UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJNZXNoQmFzaWNNYXRlcmlhbFwiLHRoaXMuY29sb3I9bmV3IHcoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuc3BlY3VsYXJNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmNvbWJpbmU9UnMsdGhpcy5yZWZsZWN0aXZpdHk9MSx0aGlzLnJlZnJhY3Rpb25SYXRpbz0uOTgsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9XCJyb3VuZFwiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49XCJyb3VuZFwiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9ZnVuY3Rpb24gTChlLHQsbil7aWYoQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiBhcnJheSBzaG91bGQgYmUgYSBUeXBlZCBBcnJheS5cIik7dGhpcy5uYW1lPVwiXCIsdGhpcy5hcnJheT1lLHRoaXMuaXRlbVNpemU9dCx0aGlzLmNvdW50PXZvaWQgMCE9PWU/ZS5sZW5ndGgvdDowLHRoaXMubm9ybWFsaXplZD0hMD09PW4sdGhpcy51c2FnZT1vbCx0aGlzLnVwZGF0ZVJhbmdlPXtvZmZzZXQ6MCxjb3VudDotMX0sdGhpcy52ZXJzaW9uPTB9ZnVuY3Rpb24gUihlLHQsbil7TC5jYWxsKHRoaXMsbmV3IEludDhBcnJheShlKSx0LG4pfWZ1bmN0aW9uIFAoZSx0LG4pe0wuY2FsbCh0aGlzLG5ldyBVaW50OEFycmF5KGUpLHQsbil9ZnVuY3Rpb24gQyhlLHQsbil7TC5jYWxsKHRoaXMsbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGUpLHQsbil9ZnVuY3Rpb24gTyhlLHQsbil7TC5jYWxsKHRoaXMsbmV3IEludDE2QXJyYXkoZSksdCxuKX1mdW5jdGlvbiBEKGUsdCxuKXtMLmNhbGwodGhpcyxuZXcgVWludDE2QXJyYXkoZSksdCxuKX1mdW5jdGlvbiBJKGUsdCxuKXtMLmNhbGwodGhpcyxuZXcgSW50MzJBcnJheShlKSx0LG4pfWZ1bmN0aW9uIE4oZSx0LG4pe0wuY2FsbCh0aGlzLG5ldyBVaW50MzJBcnJheShlKSx0LG4pfWZ1bmN0aW9uIHooZSx0LG4pe0wuY2FsbCh0aGlzLG5ldyBGbG9hdDMyQXJyYXkoZSksdCxuKX1mdW5jdGlvbiBCKGUsdCxuKXtMLmNhbGwodGhpcyxuZXcgRmxvYXQ2NEFycmF5KGUpLHQsbil9ZnVuY3Rpb24gVSgpe3RoaXMudmVydGljZXM9W10sdGhpcy5ub3JtYWxzPVtdLHRoaXMuY29sb3JzPVtdLHRoaXMudXZzPVtdLHRoaXMudXZzMj1bXSx0aGlzLmdyb3Vwcz1bXSx0aGlzLm1vcnBoVGFyZ2V0cz17fSx0aGlzLnNraW5XZWlnaHRzPVtdLHRoaXMuc2tpbkluZGljZXM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLnZlcnRpY2VzTmVlZFVwZGF0ZT0hMSx0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSExLHRoaXMuY29sb3JzTmVlZFVwZGF0ZT0hMSx0aGlzLnV2c05lZWRVcGRhdGU9ITEsdGhpcy5ncm91cHNOZWVkVXBkYXRlPSExfWZ1bmN0aW9uIEYoZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xLzA7Zm9yKHZhciB0PWVbMF0sbj0xLHI9ZS5sZW5ndGg7bjxyOysrbillW25dPnQmJih0PWVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIEcoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOk1oKz0yfSksdGhpcy51dWlkPWxsLmdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT1cIlwiLHRoaXMudHlwZT1cIkJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5pbmRleD1udWxsLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm1vcnBoQXR0cmlidXRlcz17fSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSExLHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGwsdGhpcy5kcmF3UmFuZ2U9e3N0YXJ0OjAsY291bnQ6MS8wfSx0aGlzLnVzZXJEYXRhPXt9fWZ1bmN0aW9uIEgoZSx0KXtkLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTWVzaFwiLHRoaXMuZ2VvbWV0cnk9dm9pZCAwIT09ZT9lOm5ldyBHLHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09dD90Om5ldyBBKHtjb2xvcjoxNjc3NzIxNSpNYXRoLnJhbmRvbSgpfSksdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1mdW5jdGlvbiBWKGUsdCxuLHIsaSxhLG8scyl7aWYobnVsbD09PSh0LnNpZGU9PT1Zbz9yLmludGVyc2VjdFRyaWFuZ2xlKG8sYSxpLCEwLHMpOnIuaW50ZXJzZWN0VHJpYW5nbGUoaSxhLG8sdC5zaWRlIT09Wm8scykpKXJldHVybiBudWxsO3FoLmNvcHkocykscWguYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpO3ZhciBjPW4ucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHFoKTtyZXR1cm4gYzxuLm5lYXJ8fGM+bi5mYXI/bnVsbDp7ZGlzdGFuY2U6Yyxwb2ludDpxaC5jbG9uZSgpLG9iamVjdDplfX1mdW5jdGlvbiBqKGUsdCxyLGksYSxvLHMsYyxsLGgsdSxwKXtEaC5mcm9tQnVmZmVyQXR0cmlidXRlKGEsaCksSWguZnJvbUJ1ZmZlckF0dHJpYnV0ZShhLHUpLE5oLmZyb21CdWZmZXJBdHRyaWJ1dGUoYSxwKTt2YXIgZD1lLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztpZih0Lm1vcnBoVGFyZ2V0cyYmbyYmZCl7Rmguc2V0KDAsMCwwKSxHaC5zZXQoMCwwLDApLEhoLnNldCgwLDAsMCk7Zm9yKHZhciBmPTAsbT1vLmxlbmd0aDtmPG07ZisrKXt2YXIgdj1kW2ZdLGc9b1tmXTswIT09diYmKHpoLmZyb21CdWZmZXJBdHRyaWJ1dGUoZyxoKSxCaC5mcm9tQnVmZmVyQXR0cmlidXRlKGcsdSksVWguZnJvbUJ1ZmZlckF0dHJpYnV0ZShnLHApLHM/KEZoLmFkZFNjYWxlZFZlY3Rvcih6aCx2KSxHaC5hZGRTY2FsZWRWZWN0b3IoQmgsdiksSGguYWRkU2NhbGVkVmVjdG9yKFVoLHYpKTooRmguYWRkU2NhbGVkVmVjdG9yKHpoLnN1YihEaCksdiksR2guYWRkU2NhbGVkVmVjdG9yKEJoLnN1YihJaCksdiksSGguYWRkU2NhbGVkVmVjdG9yKFVoLnN1YihOaCksdikpKX1EaC5hZGQoRmgpLEloLmFkZChHaCksTmguYWRkKEhoKX12YXIgeT1WKGUsdCxyLGksRGgsSWgsTmgsV2gpO2lmKHkpe2MmJihWaC5mcm9tQnVmZmVyQXR0cmlidXRlKGMsaCksamguZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLHUpLGtoLmZyb21CdWZmZXJBdHRyaWJ1dGUoYyxwKSx5LnV2PWIuZ2V0VVYoV2gsRGgsSWgsTmgsVmgsamgsa2gsbmV3IG4pKSxsJiYoVmguZnJvbUJ1ZmZlckF0dHJpYnV0ZShsLGgpLGpoLmZyb21CdWZmZXJBdHRyaWJ1dGUobCx1KSxraC5mcm9tQnVmZmVyQXR0cmlidXRlKGwscCkseS51djI9Yi5nZXRVVihXaCxEaCxJaCxOaCxWaCxqaCxraCxuZXcgbikpO3ZhciB4PW5ldyBUKGgsdSxwKTtiLmdldE5vcm1hbChEaCxJaCxOaCx4Lm5vcm1hbCkseS5mYWNlPXh9cmV0dXJuIHl9ZnVuY3Rpb24gaygpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRcIix7dmFsdWU6WGgrPTJ9KSx0aGlzLnV1aWQ9bGwuZ2VuZXJhdGVVVUlEKCksdGhpcy5uYW1lPVwiXCIsdGhpcy50eXBlPVwiR2VvbWV0cnlcIix0aGlzLnZlcnRpY2VzPVtdLHRoaXMuY29sb3JzPVtdLHRoaXMuZmFjZXM9W10sdGhpcy5mYWNlVmVydGV4VXZzPVtbXV0sdGhpcy5tb3JwaFRhcmdldHM9W10sdGhpcy5tb3JwaE5vcm1hbHM9W10sdGhpcy5za2luV2VpZ2h0cz1bXSx0aGlzLnNraW5JbmRpY2VzPVtdLHRoaXMubGluZURpc3RhbmNlcz1bXSx0aGlzLmJvdW5kaW5nQm94PW51bGwsdGhpcy5ib3VuZGluZ1NwaGVyZT1udWxsLHRoaXMuZWxlbWVudHNOZWVkVXBkYXRlPSExLHRoaXMudmVydGljZXNOZWVkVXBkYXRlPSExLHRoaXMudXZzTmVlZFVwZGF0ZT0hMSx0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSExLHRoaXMuY29sb3JzTmVlZFVwZGF0ZT0hMSx0aGlzLmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPSExLHRoaXMuZ3JvdXBzTmVlZFVwZGF0ZT0hMX1mdW5jdGlvbiBXKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXt0W25dPXt9O2Zvcih2YXIgciBpbiBlW25dKXt2YXIgaT1lW25dW3JdO2kmJihpLmlzQ29sb3J8fGkuaXNNYXRyaXgzfHxpLmlzTWF0cml4NHx8aS5pc1ZlY3RvcjJ8fGkuaXNWZWN0b3IzfHxpLmlzVmVjdG9yNHx8aS5pc1RleHR1cmUpP3Rbbl1bcl09aS5jbG9uZSgpOkFycmF5LmlzQXJyYXkoaSk/dFtuXVtyXT1pLnNsaWNlKCk6dFtuXVtyXT1pfX1yZXR1cm4gdH1mdW5jdGlvbiBxKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPVcoZVtuXSk7Zm9yKHZhciBpIGluIHIpdFtpXT1yW2ldfXJldHVybiB0fWZ1bmN0aW9uIFgoZSl7RS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlNoYWRlck1hdGVyaWFsXCIsdGhpcy5kZWZpbmVzPXt9LHRoaXMudW5pZm9ybXM9e30sdGhpcy52ZXJ0ZXhTaGFkZXI9ZXUsdGhpcy5mcmFnbWVudFNoYWRlcj10dSx0aGlzLmxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy5mb2c9ITEsdGhpcy5saWdodHM9ITEsdGhpcy5jbGlwcGluZz0hMSx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZXh0ZW5zaW9ucz17ZGVyaXZhdGl2ZXM6ITEsZnJhZ0RlcHRoOiExLGRyYXdCdWZmZXJzOiExLHNoYWRlclRleHR1cmVMT0Q6ITF9LHRoaXMuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcz17Y29sb3I6WzEsMSwxXSx1djpbMCwwXSx1djI6WzAsMF19LHRoaXMuaW5kZXgwQXR0cmlidXRlTmFtZT12b2lkIDAsdGhpcy51bmlmb3Jtc05lZWRVcGRhdGU9ITEsdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuYXR0cmlidXRlcyYmY29uc29sZS5lcnJvcihcIlRIUkVFLlNoYWRlck1hdGVyaWFsOiBhdHRyaWJ1dGVzIHNob3VsZCBub3cgYmUgZGVmaW5lZCBpbiBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLlwiKSx0aGlzLnNldFZhbHVlcyhlKSl9ZnVuY3Rpb24gWSgpe2QuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDYW1lcmFcIix0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZT1uZXcgaCx0aGlzLnByb2plY3Rpb25NYXRyaXg9bmV3IGgsdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZT1uZXcgaH1mdW5jdGlvbiBaKGUsdCxuLHIpe1kuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJQZXJzcGVjdGl2ZUNhbWVyYVwiLHRoaXMuZm92PXZvaWQgMCE9PWU/ZTo1MCx0aGlzLnpvb209MSx0aGlzLm5lYXI9dm9pZCAwIT09bj9uOi4xLHRoaXMuZmFyPXZvaWQgMCE9PXI/cjoyZTMsdGhpcy5mb2N1cz0xMCx0aGlzLmFzcGVjdD12b2lkIDAhPT10P3Q6MSx0aGlzLnZpZXc9bnVsbCx0aGlzLmZpbG1HYXVnZT0zNSx0aGlzLmZpbG1PZmZzZXQ9MCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1mdW5jdGlvbiBKKGUsdCxuLHIpe2QuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDdWJlQ2FtZXJhXCI7dmFyIGE9bmV3IFoobnUscnUsZSx0KTthLnVwLnNldCgwLC0xLDApLGEubG9va0F0KG5ldyBpKDEsMCwwKSksdGhpcy5hZGQoYSk7dmFyIG89bmV3IFoobnUscnUsZSx0KTtvLnVwLnNldCgwLC0xLDApLG8ubG9va0F0KG5ldyBpKC0xLDAsMCkpLHRoaXMuYWRkKG8pO3ZhciBzPW5ldyBaKG51LHJ1LGUsdCk7cy51cC5zZXQoMCwwLDEpLHMubG9va0F0KG5ldyBpKDAsMSwwKSksdGhpcy5hZGQocyk7dmFyIGM9bmV3IFoobnUscnUsZSx0KTtjLnVwLnNldCgwLDAsLTEpLGMubG9va0F0KG5ldyBpKDAsLTEsMCkpLHRoaXMuYWRkKGMpO3ZhciBsPW5ldyBaKG51LHJ1LGUsdCk7bC51cC5zZXQoMCwtMSwwKSxsLmxvb2tBdChuZXcgaSgwLDAsMSkpLHRoaXMuYWRkKGwpO3ZhciBoPW5ldyBaKG51LHJ1LGUsdCk7aC51cC5zZXQoMCwtMSwwKSxoLmxvb2tBdChuZXcgaSgwLDAsLTEpKSx0aGlzLmFkZChoKSxyPXJ8fHtmb3JtYXQ6ZGMsbWFnRmlsdGVyOlFzLG1pbkZpbHRlcjpRc30sdGhpcy5yZW5kZXJUYXJnZXQ9bmV3IFEobixuLHIpLHRoaXMucmVuZGVyVGFyZ2V0LnRleHR1cmUubmFtZT1cIkN1YmVDYW1lcmFcIix0aGlzLnVwZGF0ZT1mdW5jdGlvbihlLHQpe251bGw9PT10aGlzLnBhcmVudCYmdGhpcy51cGRhdGVNYXRyaXhXb3JsZCgpO3ZhciBuPWUuZ2V0UmVuZGVyVGFyZ2V0KCkscj10aGlzLnJlbmRlclRhcmdldCxpPXIudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM7ci50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz0hMSxlLnNldFJlbmRlclRhcmdldChyLDApLGUucmVuZGVyKHQsYSksZS5zZXRSZW5kZXJUYXJnZXQociwxKSxlLnJlbmRlcih0LG8pLGUuc2V0UmVuZGVyVGFyZ2V0KHIsMiksZS5yZW5kZXIodCxzKSxlLnNldFJlbmRlclRhcmdldChyLDMpLGUucmVuZGVyKHQsYyksZS5zZXRSZW5kZXJUYXJnZXQociw0KSxlLnJlbmRlcih0LGwpLHIudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9aSxlLnNldFJlbmRlclRhcmdldChyLDUpLGUucmVuZGVyKHQsaCksZS5zZXRSZW5kZXJUYXJnZXQobil9LHRoaXMuY2xlYXI9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPWUuZ2V0UmVuZGVyVGFyZ2V0KCksYT10aGlzLnJlbmRlclRhcmdldCxvPTA7bzw2O28rKyllLnNldFJlbmRlclRhcmdldChhLG8pLGUuY2xlYXIodCxuLHIpO2Uuc2V0UmVuZGVyVGFyZ2V0KGkpfX1mdW5jdGlvbiBRKGUsdCxuKXtjLmNhbGwodGhpcyxlLHQsbil9ZnVuY3Rpb24gSyhlLHQsbixyLGksYSxzLGMsbCxoLHUscCl7by5jYWxsKHRoaXMsbnVsbCxhLHMsYyxsLGgscixpLHUscCksdGhpcy5pbWFnZT17ZGF0YTplfHxudWxsLHdpZHRoOnR8fDEsaGVpZ2h0Om58fDF9LHRoaXMubWFnRmlsdGVyPXZvaWQgMCE9PWw/bDpZcyx0aGlzLm1pbkZpbHRlcj12b2lkIDAhPT1oP2g6WXMsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLnVucGFja0FsaWdubWVudD0xLHRoaXMubmVlZHNVcGRhdGU9ITB9ZnVuY3Rpb24gJChlLHQsbixyLGksYSl7dGhpcy5wbGFuZXM9W3ZvaWQgMCE9PWU/ZTpuZXcgeCx2b2lkIDAhPT10P3Q6bmV3IHgsdm9pZCAwIT09bj9uOm5ldyB4LHZvaWQgMCE9PXI/cjpuZXcgeCx2b2lkIDAhPT1pP2k6bmV3IHgsdm9pZCAwIT09YT9hOm5ldyB4XX1mdW5jdGlvbiBlZSgpe2Z1bmN0aW9uIGUoaSxhKXshMSE9PW4mJihyKGksYSksdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSkpfXZhciB0PW51bGwsbj0hMSxyPW51bGw7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7ITAhPT1uJiZudWxsIT09ciYmKHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpLG49ITApfSxzdG9wOmZ1bmN0aW9uKCl7bj0hMX0sc2V0QW5pbWF0aW9uTG9vcDpmdW5jdGlvbihlKXtyPWV9LHNldENvbnRleHQ6ZnVuY3Rpb24oZSl7dD1lfX19ZnVuY3Rpb24gdGUoZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPXQuYXJyYXksaT10LnVzYWdlLGE9ZS5jcmVhdGVCdWZmZXIoKTtlLmJpbmRCdWZmZXIobixhKSxlLmJ1ZmZlckRhdGEobixyLGkpLHQub25VcGxvYWRDYWxsYmFjaygpO3ZhciBvPTUxMjY7cmV0dXJuIHIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/bz01MTI2OnIgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVbnN1cHBvcnRlZCBkYXRhIGJ1ZmZlciBmb3JtYXQ6IEZsb2F0NjRBcnJheS5cIik6ciBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P289NTEyMzpyIGluc3RhbmNlb2YgSW50MTZBcnJheT9vPTUxMjI6ciBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P289NTEyNTpyIGluc3RhbmNlb2YgSW50MzJBcnJheT9vPTUxMjQ6ciBpbnN0YW5jZW9mIEludDhBcnJheT9vPTUxMjA6ciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihvPTUxMjEpLHtidWZmZXI6YSx0eXBlOm8sYnl0ZXNQZXJFbGVtZW50OnIuQllURVNfUEVSX0VMRU1FTlQsdmVyc2lvbjp0LnZlcnNpb259fWZ1bmN0aW9uIG4odCxuLHIpe3ZhciBpPW4uYXJyYXksYT1uLnVwZGF0ZVJhbmdlO2UuYmluZEJ1ZmZlcihyLHQpLC0xPT09YS5jb3VudD9lLmJ1ZmZlclN1YkRhdGEociwwLGkpOihlLmJ1ZmZlclN1YkRhdGEocixhLm9mZnNldCppLkJZVEVTX1BFUl9FTEVNRU5ULGkuc3ViYXJyYXkoYS5vZmZzZXQsYS5vZmZzZXQrYS5jb3VudCkpLGEuY291bnQ9LTEpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKSxvLmdldChlKX1mdW5jdGlvbiBpKHQpe3QuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKHQ9dC5kYXRhKTt2YXIgbj1vLmdldCh0KTtuJiYoZS5kZWxldGVCdWZmZXIobi5idWZmZXIpLG8uZGVsZXRlKHQpKX1mdW5jdGlvbiBhKGUscil7ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlJiYoZT1lLmRhdGEpO3ZhciBpPW8uZ2V0KGUpO3ZvaWQgMD09PWk/by5zZXQoZSx0KGUscikpOmkudmVyc2lvbjxlLnZlcnNpb24mJihuKGkuYnVmZmVyLGUsciksaS52ZXJzaW9uPWUudmVyc2lvbil9dmFyIG89bmV3IFdlYWtNYXA7cmV0dXJue2dldDpyLHJlbW92ZTppLHVwZGF0ZTphfX1mdW5jdGlvbiBuZShlLHQsbixyKXtrLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUGxhbmVHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17d2lkdGg6ZSxoZWlnaHQ6dCx3aWR0aFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IHJlKGUsdCxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiByZShlLHQsbixyKXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUGxhbmVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17d2lkdGg6ZSxoZWlnaHQ6dCx3aWR0aFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6cn0sZT1lfHwxLHQ9dHx8MTt2YXIgaSxhLG89ZS8yLHM9dC8yLGM9TWF0aC5mbG9vcihuKXx8MSxsPU1hdGguZmxvb3Iocil8fDEsaD1jKzEsdT1sKzEscD1lL2MsZD10L2wsZj1bXSxtPVtdLHY9W10sZz1bXTtmb3IoYT0wO2E8dTthKyspe3ZhciB5PWEqZC1zO2ZvcihpPTA7aTxoO2krKyl7dmFyIHg9aSpwLW87bS5wdXNoKHgsLXksMCksdi5wdXNoKDAsMCwxKSxnLnB1c2goaS9jKSxnLnB1c2goMS1hL2wpfX1mb3IoYT0wO2E8bDthKyspZm9yKGk9MDtpPGM7aSsrKXt2YXIgYj1pK2gqYSx3PWkraCooYSsxKSxfPWkrMStoKihhKzEpLE09aSsxK2gqYTtmLnB1c2goYix3LE0pLGYucHVzaCh3LF8sTSl9dGhpcy5zZXRJbmRleChmKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoobSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgeih2LDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IHooZywyKSl9ZnVuY3Rpb24gaWUoZSx0LG4scil7ZnVuY3Rpb24gaSh0LHIsaSxwKXt2YXIgZD1yLmJhY2tncm91bmQsZj1lLnhyLG09Zi5nZXRTZXNzaW9uJiZmLmdldFNlc3Npb24oKTtpZihtJiZcImFkZGl0aXZlXCI9PT1tLmVudmlyb25tZW50QmxlbmRNb2RlJiYoZD1udWxsKSxudWxsPT09ZD8oYShjLGwpLGg9bnVsbCx1PTApOmQmJmQuaXNDb2xvciYmKGEoZCwxKSxwPSEwLGg9bnVsbCx1PTApLChlLmF1dG9DbGVhcnx8cCkmJmUuY2xlYXIoZS5hdXRvQ2xlYXJDb2xvcixlLmF1dG9DbGVhckRlcHRoLGUuYXV0b0NsZWFyU3RlbmNpbCksZCYmKGQuaXNDdWJlVGV4dHVyZXx8ZC5pc1dlYkdMUmVuZGVyVGFyZ2V0Q3ViZXx8ZC5tYXBwaW5nPT09anMpKXt2b2lkIDA9PT1zJiYocz1uZXcgSChuZXcgS2goMSwxLDEpLG5ldyBYKHt0eXBlOlwiQmFja2dyb3VuZEN1YmVNYXRlcmlhbFwiLHVuaWZvcm1zOlcoY3UuY3ViZS51bmlmb3JtcyksdmVydGV4U2hhZGVyOmN1LmN1YmUudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOmN1LmN1YmUuZnJhZ21lbnRTaGFkZXIsc2lkZTpZbyxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMSxmb2c6ITF9KSkscy5nZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoXCJub3JtYWxcIikscy5nZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoXCJ1dlwiKSxzLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHlQb3NpdGlvbihuLm1hdHJpeFdvcmxkKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMubWF0ZXJpYWwsXCJtYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW52TWFwLnZhbHVlfX0pLG4udXBkYXRlKHMpKTt2YXIgdj1kLmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlP2QudGV4dHVyZTpkO3MubWF0ZXJpYWwuZW52TWFwPXYsaD09PWQmJnU9PT12LnZlcnNpb258fChzLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGg9ZCx1PXYudmVyc2lvbiksdC51bnNoaWZ0KHMscy5nZW9tZXRyeSxzLm1hdGVyaWFsLDAsMCxudWxsKX1lbHNlIGQmJmQuaXNUZXh0dXJlJiYodm9pZCAwPT09byYmKG89bmV3IEgobmV3IHJlKDIsMiksbmV3IFgoe3R5cGU6XCJCYWNrZ3JvdW5kTWF0ZXJpYWxcIix1bmlmb3JtczpXKGN1LmJhY2tncm91bmQudW5pZm9ybXMpLHZlcnRleFNoYWRlcjpjdS5iYWNrZ3JvdW5kLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpjdS5iYWNrZ3JvdW5kLmZyYWdtZW50U2hhZGVyLHNpZGU6WG8sZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLG8uZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKFwibm9ybWFsXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLm1hdGVyaWFsLFwibWFwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnQyRC52YWx1ZX19KSxuLnVwZGF0ZShvKSksby5tYXRlcmlhbC51bmlmb3Jtcy50MkQudmFsdWU9ZCwhMD09PWQubWF0cml4QXV0b1VwZGF0ZSYmZC51cGRhdGVNYXRyaXgoKSxvLm1hdGVyaWFsLnVuaWZvcm1zLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkoZC5tYXRyaXgpLGg9PT1kJiZ1PT09ZC52ZXJzaW9ufHwoby5tYXRlcmlhbC5uZWVkc1VwZGF0ZT0hMCxoPWQsdT1kLnZlcnNpb24pLHQudW5zaGlmdChvLG8uZ2VvbWV0cnksby5tYXRlcmlhbCwwLDAsbnVsbCkpfWZ1bmN0aW9uIGEoZSxuKXt0LmJ1ZmZlcnMuY29sb3Iuc2V0Q2xlYXIoZS5yLGUuZyxlLmIsbixyKX12YXIgbyxzLGM9bmV3IHcoMCksbD0wLGg9bnVsbCx1PTA7cmV0dXJue2dldENsZWFyQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0Q2xlYXJDb2xvcjpmdW5jdGlvbihlLHQpe2Muc2V0KGUpLGw9dm9pZCAwIT09dD90OjEsYShjLGwpfSxnZXRDbGVhckFscGhhOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LHNldENsZWFyQWxwaGE6ZnVuY3Rpb24oZSl7bD1lLGEoYyxsKX0scmVuZGVyOml9fWZ1bmN0aW9uIGFlKGUsdCxuLHIpe2Z1bmN0aW9uIGkoZSl7cz1lfWZ1bmN0aW9uIGEodCxyKXtlLmRyYXdBcnJheXMocyx0LHIpLG4udXBkYXRlKHIscyl9ZnVuY3Rpb24gbyhyLGksYSxvKXtpZigwIT09byl7dmFyIGwsaDtpZihjKWw9ZSxoPVwiZHJhd0FycmF5c0luc3RhbmNlZFwiO2Vsc2UgaWYobD10LmdldChcIkFOR0xFX2luc3RhbmNlZF9hcnJheXNcIiksaD1cImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRVwiLG51bGw9PT1sKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy5cIik7bFtoXShzLGksYSxvKSxuLnVwZGF0ZShhLHMsbyl9fXZhciBzLGM9ci5pc1dlYkdMMjt0aGlzLnNldE1vZGU9aSx0aGlzLnJlbmRlcj1hLHRoaXMucmVuZGVySW5zdGFuY2VzPW99ZnVuY3Rpb24gb2UoZSx0LG4pe2Z1bmN0aW9uIHIoKXtpZih2b2lkIDAhPT1hKXJldHVybiBhO3ZhciBuPXQuZ2V0KFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpO3JldHVybiBhPW51bGwhPT1uP2UuZ2V0UGFyYW1ldGVyKG4uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTowfWZ1bmN0aW9uIGkodCl7aWYoXCJoaWdocFwiPT09dCl7aWYoZS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzMsMzYzMzgpLnByZWNpc2lvbj4wJiZlLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMiwzNjMzOCkucHJlY2lzaW9uPjApcmV0dXJuXCJoaWdocFwiO3Q9XCJtZWRpdW1wXCJ9cmV0dXJuXCJtZWRpdW1wXCI9PT10JiZlLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzNykucHJlY2lzaW9uPjAmJmUuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM3KS5wcmVjaXNpb24+MD9cIm1lZGl1bXBcIjpcImxvd3BcIn12YXIgYSxvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0JiZlIGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0JiZlIGluc3RhbmNlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQscz12b2lkIDAhPT1uLnByZWNpc2lvbj9uLnByZWNpc2lvbjpcImhpZ2hwXCIsYz1pKHMpO2MhPT1zJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjpcIixzLFwibm90IHN1cHBvcnRlZCwgdXNpbmdcIixjLFwiaW5zdGVhZC5cIikscz1jKTt2YXIgbD0hMD09PW4ubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcixoPWUuZ2V0UGFyYW1ldGVyKDM0OTMwKSx1PWUuZ2V0UGFyYW1ldGVyKDM1NjYwKSxwPWUuZ2V0UGFyYW1ldGVyKDMzNzkpLGQ9ZS5nZXRQYXJhbWV0ZXIoMzQwNzYpLGY9ZS5nZXRQYXJhbWV0ZXIoMzQ5MjEpLG09ZS5nZXRQYXJhbWV0ZXIoMzYzNDcpLHY9ZS5nZXRQYXJhbWV0ZXIoMzYzNDgpLGc9ZS5nZXRQYXJhbWV0ZXIoMzYzNDkpLHk9dT4wLHg9b3x8ISF0LmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO3JldHVybntpc1dlYkdMMjpvLGdldE1heEFuaXNvdHJvcHk6cixnZXRNYXhQcmVjaXNpb246aSxwcmVjaXNpb246cyxsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmwsbWF4VGV4dHVyZXM6aCxtYXhWZXJ0ZXhUZXh0dXJlczp1LG1heFRleHR1cmVTaXplOnAsbWF4Q3ViZW1hcFNpemU6ZCxtYXhBdHRyaWJ1dGVzOmYsbWF4VmVydGV4VW5pZm9ybXM6bSxtYXhWYXJ5aW5nczp2LG1heEZyYWdtZW50VW5pZm9ybXM6Zyx2ZXJ0ZXhUZXh0dXJlczp5LGZsb2F0RnJhZ21lbnRUZXh0dXJlczp4LGZsb2F0VmVydGV4VGV4dHVyZXM6eSYmeCxtYXhTYW1wbGVzOm8/ZS5nZXRQYXJhbWV0ZXIoMzYxODMpOjB9fWZ1bmN0aW9uIHNlKCl7ZnVuY3Rpb24gZSgpe2gudmFsdWUhPT1yJiYoaC52YWx1ZT1yLGgubmVlZHNVcGRhdGU9aT4wKSxuLm51bVBsYW5lcz1pLG4ubnVtSW50ZXJzZWN0aW9uPTB9ZnVuY3Rpb24gdChlLHQscixpKXt2YXIgYT1udWxsIT09ZT9lLmxlbmd0aDowLG89bnVsbDtpZigwIT09YSl7aWYobz1oLnZhbHVlLCEwIT09aXx8bnVsbD09PW8pe3ZhciBzPXIrNCphLHU9dC5tYXRyaXhXb3JsZEludmVyc2U7bC5nZXROb3JtYWxNYXRyaXgodSksKG51bGw9PT1vfHxvLmxlbmd0aDxzKSYmKG89bmV3IEZsb2F0MzJBcnJheShzKSk7Zm9yKHZhciBwPTAsZD1yO3AhPT1hOysrcCxkKz00KWMuY29weShlW3BdKS5hcHBseU1hdHJpeDQodSxsKSxjLm5vcm1hbC50b0FycmF5KG8sZCksb1tkKzNdPWMuY29uc3RhbnR9aC52YWx1ZT1vLGgubmVlZHNVcGRhdGU9ITB9cmV0dXJuIG4ubnVtUGxhbmVzPWEsb312YXIgbj10aGlzLHI9bnVsbCxpPTAsbz0hMSxzPSExLGM9bmV3IHgsbD1uZXcgYSxoPXt2YWx1ZTpudWxsLG5lZWRzVXBkYXRlOiExfTt0aGlzLnVuaWZvcm09aCx0aGlzLm51bVBsYW5lcz0wLHRoaXMubnVtSW50ZXJzZWN0aW9uPTAsdGhpcy5pbml0PWZ1bmN0aW9uKGUsbixhKXt2YXIgcz0wIT09ZS5sZW5ndGh8fG58fDAhPT1pfHxvO3JldHVybiBvPW4scj10KGUsYSwwKSxpPWUubGVuZ3RoLHN9LHRoaXMuYmVnaW5TaGFkb3dzPWZ1bmN0aW9uKCl7cz0hMCx0KG51bGwpfSx0aGlzLmVuZFNoYWRvd3M9ZnVuY3Rpb24oKXtzPSExLGUoKX0sdGhpcy5zZXRTdGF0ZT1mdW5jdGlvbihuLGEsYyxsLHUscCl7aWYoIW98fG51bGw9PT1ufHwwPT09bi5sZW5ndGh8fHMmJiFjKXM/dChudWxsKTplKCk7ZWxzZXt2YXIgZD1zPzA6aSxmPTQqZCxtPXUuY2xpcHBpbmdTdGF0ZXx8bnVsbDtoLnZhbHVlPW0sbT10KG4sbCxmLHApO2Zvcih2YXIgdj0wO3YhPT1mOysrdiltW3ZdPXJbdl07dS5jbGlwcGluZ1N0YXRlPW0sdGhpcy5udW1JbnRlcnNlY3Rpb249YT90aGlzLm51bVBsYW5lczowLHRoaXMubnVtUGxhbmVzKz1kfX19ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9e307cmV0dXJue2dldDpmdW5jdGlvbihuKXtpZih2b2lkIDAhPT10W25dKXJldHVybiB0W25dO3ZhciByO3N3aXRjaChuKXtjYXNlXCJXRUJHTF9kZXB0aF90ZXh0dXJlXCI6cj1lLmdldEV4dGVuc2lvbihcIldFQkdMX2RlcHRoX3RleHR1cmVcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiTU9aX1dFQkdMX2RlcHRoX3RleHR1cmVcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmVcIik7YnJlYWs7Y2FzZVwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCI6cj1lLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7YnJlYWs7Y2FzZVwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIjpyPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiTU9aX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKTticmVhaztjYXNlXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIjpyPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIik7YnJlYWs7ZGVmYXVsdDpyPWUuZ2V0RXh0ZW5zaW9uKG4pfXJldHVybiBudWxsPT09ciYmY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogXCIrbitcIiBleHRlbnNpb24gbm90IHN1cHBvcnRlZC5cIiksdFtuXT1yLHJ9fX1mdW5jdGlvbiBsZShlLHQsbil7ZnVuY3Rpb24gcihlKXt2YXIgaT1lLnRhcmdldCxhPWMuZ2V0KGkpO251bGwhPT1hLmluZGV4JiZ0LnJlbW92ZShhLmluZGV4KTtmb3IodmFyIG8gaW4gYS5hdHRyaWJ1dGVzKXQucmVtb3ZlKGEuYXR0cmlidXRlc1tvXSk7aS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLHIpLGMuZGVsZXRlKGkpO3ZhciBzPWwuZ2V0KGEpO3MmJih0LnJlbW92ZShzKSxsLmRlbGV0ZShhKSksbi5tZW1vcnkuZ2VvbWV0cmllcy0tfWZ1bmN0aW9uIGkoZSx0KXt2YXIgaT1jLmdldCh0KTtyZXR1cm4gaXx8KHQuYWRkRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixyKSx0LmlzQnVmZmVyR2VvbWV0cnk/aT10OnQuaXNHZW9tZXRyeSYmKHZvaWQgMD09PXQuX2J1ZmZlckdlb21ldHJ5JiYodC5fYnVmZmVyR2VvbWV0cnk9KG5ldyBHKS5zZXRGcm9tT2JqZWN0KGUpKSxpPXQuX2J1ZmZlckdlb21ldHJ5KSxjLnNldCh0LGkpLG4ubWVtb3J5Lmdlb21ldHJpZXMrKyxpKX1mdW5jdGlvbiBhKGUpe3ZhciBuPWUuaW5kZXgscj1lLmF0dHJpYnV0ZXM7bnVsbCE9PW4mJnQudXBkYXRlKG4sMzQ5NjMpO2Zvcih2YXIgaSBpbiByKXQudXBkYXRlKHJbaV0sMzQ5NjIpO3ZhciBhPWUubW9ycGhBdHRyaWJ1dGVzO2Zvcih2YXIgaSBpbiBhKWZvcih2YXIgbz1hW2ldLHM9MCxjPW8ubGVuZ3RoO3M8YztzKyspdC51cGRhdGUob1tzXSwzNDk2Mil9ZnVuY3Rpb24gbyhlKXt2YXIgbj1bXSxyPWUuaW5kZXgsaT1lLmF0dHJpYnV0ZXMucG9zaXRpb24sYT0wO2lmKG51bGwhPT1yKXt2YXIgbz1yLmFycmF5O2E9ci52ZXJzaW9uO2Zvcih2YXIgcz0wLGM9by5sZW5ndGg7czxjO3MrPTMpe3ZhciBoPW9bcyswXSx1PW9bcysxXSxwPW9bcysyXTtuLnB1c2goaCx1LHUscCxwLGgpfX1lbHNle3ZhciBvPWkuYXJyYXk7YT1pLnZlcnNpb247Zm9yKHZhciBzPTAsYz1vLmxlbmd0aC8zLTE7czxjO3MrPTMpe3ZhciBoPXMrMCx1PXMrMSxwPXMrMjtuLnB1c2goaCx1LHUscCxwLGgpfX12YXIgZD1uZXcoRihuKT42NTUzNT9OOkQpKG4sMSk7ZC52ZXJzaW9uPWEsdC51cGRhdGUoZCwzNDk2Myk7dmFyIGY9bC5nZXQoZSk7ZiYmdC5yZW1vdmUoZiksbC5zZXQoZSxkKX1mdW5jdGlvbiBzKGUpe3ZhciB0PWwuZ2V0KGUpO2lmKHQpe3ZhciBuPWUuaW5kZXg7bnVsbCE9PW4mJnQudmVyc2lvbjxuLnZlcnNpb24mJm8oZSl9ZWxzZSBvKGUpO3JldHVybiBsLmdldChlKX12YXIgYz1uZXcgV2Vha01hcCxsPW5ldyBXZWFrTWFwO3JldHVybntnZXQ6aSx1cGRhdGU6YSxnZXRXaXJlZnJhbWVBdHRyaWJ1dGU6c319ZnVuY3Rpb24gaGUoZSx0LG4scil7ZnVuY3Rpb24gaShlKXtjPWV9ZnVuY3Rpb24gYShlKXtsPWUudHlwZSxoPWUuYnl0ZXNQZXJFbGVtZW50fWZ1bmN0aW9uIG8odCxyKXtlLmRyYXdFbGVtZW50cyhjLHIsbCx0KmgpLG4udXBkYXRlKHIsYyl9ZnVuY3Rpb24gcyhyLGksYSxvKXtpZigwIT09byl7dmFyIHMscDtpZih1KXM9ZSxwPVwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkXCI7ZWxzZSBpZihzPXQuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSxwPVwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEVcIixudWxsPT09cylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xJbmRleGVkQnVmZmVyUmVuZGVyZXI6IHVzaW5nIFRIUkVFLkluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5IGJ1dCBoYXJkd2FyZSBkb2VzIG5vdCBzdXBwb3J0IGV4dGVuc2lvbiBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzLlwiKTtzW3BdKGMsYSxsLGkqaCxvKSxuLnVwZGF0ZShhLGMsbyl9fXZhciBjLGwsaCx1PXIuaXNXZWJHTDI7dGhpcy5zZXRNb2RlPWksdGhpcy5zZXRJbmRleD1hLHRoaXMucmVuZGVyPW8sdGhpcy5yZW5kZXJJbnN0YW5jZXM9c31mdW5jdGlvbiB1ZShlKXtmdW5jdGlvbiB0KGUsdCxuKXtzd2l0Y2gobj1ufHwxLGkuY2FsbHMrKyx0KXtjYXNlIDQ6aS50cmlhbmdsZXMrPW4qKGUvMyk7YnJlYWs7Y2FzZSAxOmkubGluZXMrPW4qKGUvMik7YnJlYWs7Y2FzZSAzOmkubGluZXMrPW4qKGUtMSk7YnJlYWs7Y2FzZSAyOmkubGluZXMrPW4qZTticmVhaztjYXNlIDA6aS5wb2ludHMrPW4qZTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTEluZm86IFVua25vd24gZHJhdyBtb2RlOlwiLHQpfX1mdW5jdGlvbiBuKCl7aS5mcmFtZSsrLGkuY2FsbHM9MCxpLnRyaWFuZ2xlcz0wLGkucG9pbnRzPTAsaS5saW5lcz0wfXZhciByPXtnZW9tZXRyaWVzOjAsdGV4dHVyZXM6MH0saT17ZnJhbWU6MCxjYWxsczowLHRyaWFuZ2xlczowLHBvaW50czowLGxpbmVzOjB9O3JldHVybnttZW1vcnk6cixyZW5kZXI6aSxwcm9ncmFtczpudWxsLGF1dG9SZXNldDohMCxyZXNldDpuLHVwZGF0ZTp0fX1mdW5jdGlvbiBwZShlLHQpe3JldHVybiBNYXRoLmFicyh0WzFdKS1NYXRoLmFicyhlWzFdKX1mdW5jdGlvbiBkZShlKXtmdW5jdGlvbiB0KHQsaSxhLG8pe3ZhciBzPXQubW9ycGhUYXJnZXRJbmZsdWVuY2VzLGM9dm9pZCAwPT09cz8wOnMubGVuZ3RoLGw9bltpLmlkXTtpZih2b2lkIDA9PT1sKXtsPVtdO2Zvcih2YXIgaD0wO2g8YztoKyspbFtoXT1baCwwXTtuW2kuaWRdPWx9Zm9yKHZhciB1PWEubW9ycGhUYXJnZXRzJiZpLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixwPWEubW9ycGhOb3JtYWxzJiZpLm1vcnBoQXR0cmlidXRlcy5ub3JtYWwsaD0wO2g8YztoKyspe3ZhciBkPWxbaF07MCE9PWRbMV0mJih1JiZpLmRlbGV0ZUF0dHJpYnV0ZShcIm1vcnBoVGFyZ2V0XCIraCkscCYmaS5kZWxldGVBdHRyaWJ1dGUoXCJtb3JwaE5vcm1hbFwiK2gpKX1mb3IodmFyIGg9MDtoPGM7aCsrKXt2YXIgZD1sW2hdO2RbMF09aCxkWzFdPXNbaF19bC5zb3J0KHBlKTtmb3IodmFyIGY9MCxoPTA7aDw4O2grKyl7dmFyIGQ9bFtoXTtpZihkKXt2YXIgbT1kWzBdLHY9ZFsxXTtpZih2KXt1JiZpLnNldEF0dHJpYnV0ZShcIm1vcnBoVGFyZ2V0XCIraCx1W21dKSxwJiZpLnNldEF0dHJpYnV0ZShcIm1vcnBoTm9ybWFsXCIraCxwW21dKSxyW2hdPXYsZis9djtjb250aW51ZX19cltoXT0wfXZhciBnPWkubW9ycGhUYXJnZXRzUmVsYXRpdmU/MToxLWY7by5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGUsXCJtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2VcIixnKSxvLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoZSxcIm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1wiLHIpfXZhciBuPXt9LHI9bmV3IEZsb2F0MzJBcnJheSg4KTtyZXR1cm57dXBkYXRlOnR9fWZ1bmN0aW9uIGZlKGUsdCxuLHIpe2Z1bmN0aW9uIGkoZSl7dmFyIGk9ci5yZW5kZXIuZnJhbWUsYT1lLmdlb21ldHJ5LHM9dC5nZXQoZSxhKTtyZXR1cm4gb1tzLmlkXSE9PWkmJihhLmlzR2VvbWV0cnkmJnMudXBkYXRlRnJvbU9iamVjdChlKSx0LnVwZGF0ZShzKSxvW3MuaWRdPWkpLGUuaXNJbnN0YW5jZWRNZXNoJiZuLnVwZGF0ZShlLmluc3RhbmNlTWF0cml4LDM0OTYyKSxzfWZ1bmN0aW9uIGEoKXtvPXt9fXZhciBvPXt9O3JldHVybnt1cGRhdGU6aSxkaXNwb3NlOmF9fWZ1bmN0aW9uIG1lKGUsdCxuLHIsaSxhLHMsYyxsLGgpe2U9dm9pZCAwIT09ZT9lOltdLHQ9dm9pZCAwIT09dD90OlVzLHM9dm9pZCAwIT09cz9zOmRjLG8uY2FsbCh0aGlzLGUsdCxuLHIsaSxhLHMsYyxsLGgpLHRoaXMuZmxpcFk9ITF9ZnVuY3Rpb24gdmUoZSx0LG4scil7by5jYWxsKHRoaXMsbnVsbCksdGhpcy5pbWFnZT17ZGF0YTplfHxudWxsLHdpZHRoOnR8fDEsaGVpZ2h0Om58fDEsZGVwdGg6cnx8MX0sdGhpcy5tYWdGaWx0ZXI9WXMsdGhpcy5taW5GaWx0ZXI9WXMsdGhpcy53cmFwUj1xcyx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMubmVlZHNVcGRhdGU9ITB9ZnVuY3Rpb24gZ2UoZSx0LG4scil7by5jYWxsKHRoaXMsbnVsbCksdGhpcy5pbWFnZT17ZGF0YTplfHxudWxsLHdpZHRoOnR8fDEsaGVpZ2h0Om58fDEsZGVwdGg6cnx8MX0sdGhpcy5tYWdGaWx0ZXI9WXMsdGhpcy5taW5GaWx0ZXI9WXMsdGhpcy53cmFwUj1xcyx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMubmVlZHNVcGRhdGU9ITB9ZnVuY3Rpb24geWUoZSx0LG4pe3ZhciByPWVbMF07aWYocjw9MHx8cj4wKXJldHVybiBlO3ZhciBpPXQqbixhPWR1W2ldO2lmKHZvaWQgMD09PWEmJihhPW5ldyBGbG9hdDMyQXJyYXkoaSksZHVbaV09YSksMCE9PXQpe3IudG9BcnJheShhLDApO2Zvcih2YXIgbz0xLHM9MDtvIT09dDsrK28pcys9bixlW29dLnRvQXJyYXkoYSxzKX1yZXR1cm4gYX1mdW5jdGlvbiB4ZShlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl0hPT10W25dKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGJlKGUsdCl7Zm9yKHZhciBuPTAscj10Lmxlbmd0aDtuPHI7bisrKWVbbl09dFtuXX1mdW5jdGlvbiB3ZShlLHQpe3ZhciBuPWZ1W3RdO3ZvaWQgMD09PW4mJihuPW5ldyBJbnQzMkFycmF5KHQpLGZ1W3RdPW4pO2Zvcih2YXIgcj0wO3IhPT10OysrciluW3JdPWUuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JldHVybiBufWZ1bmN0aW9uIF9lKGUsdCl7dmFyIG49dGhpcy5jYWNoZTtuWzBdIT09dCYmKGUudW5pZm9ybTFmKHRoaXMuYWRkcix0KSxuWzBdPXQpfWZ1bmN0aW9uIE1lKGUsdCl7dmFyIG49dGhpcy5jYWNoZTtpZih2b2lkIDAhPT10LngpblswXT09PXQueCYmblsxXT09PXQueXx8KGUudW5pZm9ybTJmKHRoaXMuYWRkcix0LngsdC55KSxuWzBdPXQueCxuWzFdPXQueSk7ZWxzZXtpZih4ZShuLHQpKXJldHVybjtlLnVuaWZvcm0yZnYodGhpcy5hZGRyLHQpLGJlKG4sdCl9fWZ1bmN0aW9uIFNlKGUsdCl7dmFyIG49dGhpcy5jYWNoZTtpZih2b2lkIDAhPT10LngpblswXT09PXQueCYmblsxXT09PXQueSYmblsyXT09PXQuenx8KGUudW5pZm9ybTNmKHRoaXMuYWRkcix0LngsdC55LHQueiksblswXT10LngsblsxXT10LnksblsyXT10LnopO2Vsc2UgaWYodm9pZCAwIT09dC5yKW5bMF09PT10LnImJm5bMV09PT10LmcmJm5bMl09PT10LmJ8fChlLnVuaWZvcm0zZih0aGlzLmFkZHIsdC5yLHQuZyx0LmIpLG5bMF09dC5yLG5bMV09dC5nLG5bMl09dC5iKTtlbHNle2lmKHhlKG4sdCkpcmV0dXJuO2UudW5pZm9ybTNmdih0aGlzLmFkZHIsdCksYmUobix0KX19ZnVuY3Rpb24gVGUoZSx0KXt2YXIgbj10aGlzLmNhY2hlO2lmKHZvaWQgMCE9PXQueCluWzBdPT09dC54JiZuWzFdPT09dC55JiZuWzJdPT09dC56JiZuWzNdPT09dC53fHwoZS51bmlmb3JtNGYodGhpcy5hZGRyLHQueCx0LnksdC56LHQudyksblswXT10LngsblsxXT10LnksblsyXT10LnosblszXT10LncpO2Vsc2V7aWYoeGUobix0KSlyZXR1cm47ZS51bmlmb3JtNGZ2KHRoaXMuYWRkcix0KSxiZShuLHQpfX1mdW5jdGlvbiBFZShlLHQpe3ZhciBuPXRoaXMuY2FjaGUscj10LmVsZW1lbnRzO2lmKHZvaWQgMD09PXIpe2lmKHhlKG4sdCkpcmV0dXJuO2UudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsdCksYmUobix0KX1lbHNle2lmKHhlKG4scikpcmV0dXJuO2d1LnNldChyKSxlLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLGd1KSxiZShuLHIpfX1mdW5jdGlvbiBBZShlLHQpe3ZhciBuPXRoaXMuY2FjaGUscj10LmVsZW1lbnRzO2lmKHZvaWQgMD09PXIpe2lmKHhlKG4sdCkpcmV0dXJuO2UudW5pZm9ybU1hdHJpeDNmdih0aGlzLmFkZHIsITEsdCksYmUobix0KX1lbHNle2lmKHhlKG4scikpcmV0dXJuO3Z1LnNldChyKSxlLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLCExLHZ1KSxiZShuLHIpfX1mdW5jdGlvbiBMZShlLHQpe3ZhciBuPXRoaXMuY2FjaGUscj10LmVsZW1lbnRzO2lmKHZvaWQgMD09PXIpe2lmKHhlKG4sdCkpcmV0dXJuO2UudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsdCksYmUobix0KX1lbHNle2lmKHhlKG4scikpcmV0dXJuO211LnNldChyKSxlLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLG11KSxiZShuLHIpfX1mdW5jdGlvbiBSZShlLHQsbil7dmFyIHI9dGhpcy5jYWNoZSxpPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JbMF0hPT1pJiYoZS51bmlmb3JtMWkodGhpcy5hZGRyLGkpLHJbMF09aSksbi5zYWZlU2V0VGV4dHVyZTJEKHR8fGx1LGkpfWZ1bmN0aW9uIFBlKGUsdCxuKXt2YXIgcj10aGlzLmNhY2hlLGk9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PWkmJihlLnVuaWZvcm0xaSh0aGlzLmFkZHIsaSksclswXT1pKSxuLnNldFRleHR1cmUyREFycmF5KHR8fGh1LGkpfWZ1bmN0aW9uIENlKGUsdCxuKXt2YXIgcj10aGlzLmNhY2hlLGk9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7clswXSE9PWkmJihlLnVuaWZvcm0xaSh0aGlzLmFkZHIsaSksclswXT1pKSxuLnNldFRleHR1cmUzRCh0fHx1dSxpKX1mdW5jdGlvbiBPZShlLHQsbil7dmFyIHI9dGhpcy5jYWNoZSxpPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JbMF0hPT1pJiYoZS51bmlmb3JtMWkodGhpcy5hZGRyLGkpLHJbMF09aSksbi5zYWZlU2V0VGV4dHVyZUN1YmUodHx8cHUsaSl9ZnVuY3Rpb24gRGUoZSx0KXt2YXIgbj10aGlzLmNhY2hlO25bMF0hPT10JiYoZS51bmlmb3JtMWkodGhpcy5hZGRyLHQpLG5bMF09dCl9ZnVuY3Rpb24gSWUoZSx0KXt2YXIgbj10aGlzLmNhY2hlO3hlKG4sdCl8fChlLnVuaWZvcm0yaXYodGhpcy5hZGRyLHQpLGJlKG4sdCkpfWZ1bmN0aW9uIE5lKGUsdCl7dmFyIG49dGhpcy5jYWNoZTt4ZShuLHQpfHwoZS51bmlmb3JtM2l2KHRoaXMuYWRkcix0KSxiZShuLHQpKX1mdW5jdGlvbiB6ZShlLHQpe3ZhciBuPXRoaXMuY2FjaGU7eGUobix0KXx8KGUudW5pZm9ybTRpdih0aGlzLmFkZHIsdCksYmUobix0KSl9ZnVuY3Rpb24gQmUoZSl7c3dpdGNoKGUpe2Nhc2UgNTEyNjpyZXR1cm4gX2U7Y2FzZSAzNTY2NDpyZXR1cm4gTWU7Y2FzZSAzNTY2NTpyZXR1cm4gU2U7Y2FzZSAzNTY2NjpyZXR1cm4gVGU7Y2FzZSAzNTY3NDpyZXR1cm4gRWU7Y2FzZSAzNTY3NTpyZXR1cm4gQWU7Y2FzZSAzNTY3NjpyZXR1cm4gTGU7Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OnJldHVybiBSZTtjYXNlIDM1Njc5OnJldHVybiBDZTtjYXNlIDM1NjgwOnJldHVybiBPZTtjYXNlIDM2Mjg5OnJldHVybiBQZTtjYXNlIDUxMjQ6Y2FzZSAzNTY3MDpyZXR1cm4gRGU7Y2FzZSAzNTY2NzpjYXNlIDM1NjcxOnJldHVybiBJZTtjYXNlIDM1NjY4OmNhc2UgMzU2NzI6cmV0dXJuIE5lO2Nhc2UgMzU2Njk6Y2FzZSAzNTY3MzpyZXR1cm4gemV9fWZ1bmN0aW9uIFVlKGUsdCl7ZS51bmlmb3JtMWZ2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBGZShlLHQpe2UudW5pZm9ybTFpdih0aGlzLmFkZHIsdCl9ZnVuY3Rpb24gR2UoZSx0KXtlLnVuaWZvcm0yaXYodGhpcy5hZGRyLHQpfWZ1bmN0aW9uIEhlKGUsdCl7ZS51bmlmb3JtM2l2KHRoaXMuYWRkcix0KX1mdW5jdGlvbiBWZShlLHQpe2UudW5pZm9ybTRpdih0aGlzLmFkZHIsdCl9ZnVuY3Rpb24gamUoZSx0KXt2YXIgbj15ZSh0LHRoaXMuc2l6ZSwyKTtlLnVuaWZvcm0yZnYodGhpcy5hZGRyLG4pfWZ1bmN0aW9uIGtlKGUsdCl7dmFyIG49eWUodCx0aGlzLnNpemUsMyk7ZS51bmlmb3JtM2Z2KHRoaXMuYWRkcixuKX1mdW5jdGlvbiBXZShlLHQpe3ZhciBuPXllKHQsdGhpcy5zaXplLDQpO2UudW5pZm9ybTRmdih0aGlzLmFkZHIsbil9ZnVuY3Rpb24gcWUoZSx0KXt2YXIgbj15ZSh0LHRoaXMuc2l6ZSw0KTtlLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLG4pfWZ1bmN0aW9uIFhlKGUsdCl7dmFyIG49eWUodCx0aGlzLnNpemUsOSk7ZS51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxuKX1mdW5jdGlvbiBZZShlLHQpe3ZhciBuPXllKHQsdGhpcy5zaXplLDE2KTtlLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLG4pfWZ1bmN0aW9uIFplKGUsdCxuKXt2YXIgcj10Lmxlbmd0aCxpPXdlKG4scik7ZS51bmlmb3JtMWl2KHRoaXMuYWRkcixpKTtmb3IodmFyIGE9MDthIT09cjsrK2Epbi5zYWZlU2V0VGV4dHVyZTJEKHRbYV18fGx1LGlbYV0pfWZ1bmN0aW9uIEplKGUsdCxuKXt2YXIgcj10Lmxlbmd0aCxpPXdlKG4scik7ZS51bmlmb3JtMWl2KHRoaXMuYWRkcixpKTtmb3IodmFyIGE9MDthIT09cjsrK2Epbi5zYWZlU2V0VGV4dHVyZUN1YmUodFthXXx8cHUsaVthXSl9ZnVuY3Rpb24gUWUoZSl7c3dpdGNoKGUpe2Nhc2UgNTEyNjpyZXR1cm4gVWU7Y2FzZSAzNTY2NDpyZXR1cm4gamU7Y2FzZSAzNTY2NTpyZXR1cm4ga2U7Y2FzZSAzNTY2NjpyZXR1cm4gV2U7Y2FzZSAzNTY3NDpyZXR1cm4gcWU7Y2FzZSAzNTY3NTpyZXR1cm4gWGU7Y2FzZSAzNTY3NjpyZXR1cm4gWWU7Y2FzZSAzNTY3ODpyZXR1cm4gWmU7Y2FzZSAzNTY4MDpyZXR1cm4gSmU7Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIEZlO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gR2U7Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBIZTtjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuIFZlfX1mdW5jdGlvbiBLZShlLHQsbil7dGhpcy5pZD1lLHRoaXMuYWRkcj1uLHRoaXMuY2FjaGU9W10sdGhpcy5zZXRWYWx1ZT1CZSh0LnR5cGUpfWZ1bmN0aW9uICRlKGUsdCxuKXt0aGlzLmlkPWUsdGhpcy5hZGRyPW4sdGhpcy5jYWNoZT1bXSx0aGlzLnNpemU9dC5zaXplLHRoaXMuc2V0VmFsdWU9UWUodC50eXBlKX1mdW5jdGlvbiBldChlKXt0aGlzLmlkPWUsdGhpcy5zZXE9W10sdGhpcy5tYXA9e319ZnVuY3Rpb24gdHQoZSx0KXtlLnNlcS5wdXNoKHQpLGUubWFwW3QuaWRdPXR9ZnVuY3Rpb24gbnQoZSx0LG4pe3ZhciByPWUubmFtZSxpPXIubGVuZ3RoO2Zvcih5dS5sYXN0SW5kZXg9MDs7KXt2YXIgYT15dS5leGVjKHIpLG89eXUubGFzdEluZGV4LHM9YVsxXSxjPVwiXVwiPT09YVsyXSxsPWFbM107aWYoYyYmKHN8PTApLHZvaWQgMD09PWx8fFwiW1wiPT09bCYmbysyPT09aSl7dHQobix2b2lkIDA9PT1sP25ldyBLZShzLGUsdCk6bmV3ICRlKHMsZSx0KSk7YnJlYWt9dmFyIGg9bi5tYXAsdT1oW3NdO3ZvaWQgMD09PXUmJih1PW5ldyBldChzKSx0dChuLHUpKSxuPXV9fWZ1bmN0aW9uIHJ0KGUsdCl7dGhpcy5zZXE9W10sdGhpcy5tYXA9e307Zm9yKHZhciBuPWUuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LDM1NzE4KSxyPTA7cjxuOysrcil7dmFyIGk9ZS5nZXRBY3RpdmVVbmlmb3JtKHQscik7bnQoaSxlLmdldFVuaWZvcm1Mb2NhdGlvbih0LGkubmFtZSksdGhpcyl9fWZ1bmN0aW9uIGl0KGUsdCxuKXt2YXIgcj1lLmNyZWF0ZVNoYWRlcih0KTtyZXR1cm4gZS5zaGFkZXJTb3VyY2UocixuKSxlLmNvbXBpbGVTaGFkZXIocikscn1mdW5jdGlvbiBhdChlKXtmb3IodmFyIHQ9ZS5zcGxpdChcIlxcblwiKSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXT1uKzErXCI6IFwiK3Rbbl07cmV0dXJuIHQuam9pbihcIlxcblwiKX1mdW5jdGlvbiBvdChlKXtzd2l0Y2goZSl7Y2FzZSBxYzpyZXR1cm5bXCJMaW5lYXJcIixcIiggdmFsdWUgKVwiXTtjYXNlIFhjOnJldHVybltcInNSR0JcIixcIiggdmFsdWUgKVwiXTtjYXNlIFpjOnJldHVybltcIlJHQkVcIixcIiggdmFsdWUgKVwiXTtjYXNlIFFjOnJldHVybltcIlJHQk1cIixcIiggdmFsdWUsIDcuMCApXCJdO2Nhc2UgS2M6cmV0dXJuW1wiUkdCTVwiLFwiKCB2YWx1ZSwgMTYuMCApXCJdO2Nhc2UgJGM6cmV0dXJuW1wiUkdCRFwiLFwiKCB2YWx1ZSwgMjU2LjAgKVwiXTtjYXNlIFljOnJldHVybltcIkdhbW1hXCIsXCIoIHZhbHVlLCBmbG9hdCggR0FNTUFfRkFDVE9SICkgKVwiXTtjYXNlIEpjOnJldHVybltcIkxvZ0x1dlwiLFwiKCB2YWx1ZSApXCJdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK2UpfX1mdW5jdGlvbiBzdChlLHQsbil7dmFyIHI9ZS5nZXRTaGFkZXJQYXJhbWV0ZXIodCwzNTcxMyksaT1lLmdldFNoYWRlckluZm9Mb2codCkudHJpbSgpO3JldHVybiByJiZcIlwiPT09aT9cIlwiOlwiVEhSRUUuV2ViR0xTaGFkZXI6IGdsLmdldFNoYWRlckluZm9Mb2coKSBcIituK1wiXFxuXCIraSthdChlLmdldFNoYWRlclNvdXJjZSh0KSl9ZnVuY3Rpb24gY3QoZSx0KXt2YXIgbj1vdCh0KTtyZXR1cm5cInZlYzQgXCIrZStcIiggdmVjNCB2YWx1ZSApIHsgcmV0dXJuIFwiK25bMF0rXCJUb0xpbmVhclwiK25bMV0rXCI7IH1cIn1mdW5jdGlvbiBsdChlLHQpe3ZhciBuPW90KHQpO3JldHVyblwidmVjNCBcIitlK1wiKCB2ZWM0IHZhbHVlICkgeyByZXR1cm4gTGluZWFyVG9cIituWzBdK25bMV0rXCI7IH1cIn1mdW5jdGlvbiBodChlLHQpe3ZhciBuO3N3aXRjaCh0KXtjYXNlIERzOm49XCJMaW5lYXJcIjticmVhaztjYXNlIElzOm49XCJSZWluaGFyZFwiO2JyZWFrO2Nhc2UgTnM6bj1cIlVuY2hhcnRlZDJcIjticmVhaztjYXNlIHpzOm49XCJPcHRpbWl6ZWRDaW5lb25cIjticmVhaztjYXNlIEJzOm49XCJBQ0VTRmlsbWljXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB0b25lTWFwcGluZzogXCIrdCl9cmV0dXJuXCJ2ZWMzIFwiK2UrXCIoIHZlYzMgY29sb3IgKSB7IHJldHVybiBcIituK1wiVG9uZU1hcHBpbmcoIGNvbG9yICk7IH1cIn1mdW5jdGlvbiB1dChlLHQsbil7cmV0dXJuIGU9ZXx8e30sW2UuZGVyaXZhdGl2ZXN8fHQuZW52TWFwQ3ViZVVWfHx0LmJ1bXBNYXB8fHQudGFuZ2VudFNwYWNlTm9ybWFsTWFwfHx0LmNsZWFyY29hdE5vcm1hbE1hcHx8dC5mbGF0U2hhZGluZz9cIiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlXCI6XCJcIiwoZS5mcmFnRGVwdGh8fHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcikmJm4uZ2V0KFwiRVhUX2ZyYWdfZGVwdGhcIik/XCIjZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlXCI6XCJcIixlLmRyYXdCdWZmZXJzJiZuLmdldChcIldFQkdMX2RyYXdfYnVmZmVyc1wiKT9cIiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcIjpcIlwiLChlLnNoYWRlclRleHR1cmVMT0R8fHQuZW52TWFwKSYmbi5nZXQoXCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kXCIpP1wiI2V4dGVuc2lvbiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kIDogZW5hYmxlXCI6XCJcIl0uZmlsdGVyKGZ0KS5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIHB0KGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dOyExIT09ciYmdC5wdXNoKFwiI2RlZmluZSBcIituK1wiIFwiK3IpfXJldHVybiB0LmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gZHQoZSx0KXtmb3IodmFyIG49e30scj1lLmdldFByb2dyYW1QYXJhbWV0ZXIodCwzNTcyMSksaT0wO2k8cjtpKyspe3ZhciBhPWUuZ2V0QWN0aXZlQXR0cmliKHQsaSksbz1hLm5hbWU7bltvXT1lLmdldEF0dHJpYkxvY2F0aW9uKHQsbyl9cmV0dXJuIG59ZnVuY3Rpb24gZnQoZSl7cmV0dXJuXCJcIiE9PWV9ZnVuY3Rpb24gbXQoZSx0KXtcbnJldHVybiBlLnJlcGxhY2UoL05VTV9ESVJfTElHSFRTL2csdC5udW1EaXJMaWdodHMpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUUy9nLHQubnVtU3BvdExpZ2h0cykucmVwbGFjZSgvTlVNX1JFQ1RfQVJFQV9MSUdIVFMvZyx0Lm51bVJlY3RBcmVhTGlnaHRzKS5yZXBsYWNlKC9OVU1fUE9JTlRfTElHSFRTL2csdC5udW1Qb2ludExpZ2h0cykucmVwbGFjZSgvTlVNX0hFTUlfTElHSFRTL2csdC5udW1IZW1pTGlnaHRzKS5yZXBsYWNlKC9OVU1fRElSX0xJR0hUX1NIQURPV1MvZyx0Lm51bURpckxpZ2h0U2hhZG93cykucmVwbGFjZSgvTlVNX1NQT1RfTElHSFRfU0hBRE9XUy9nLHQubnVtU3BvdExpZ2h0U2hhZG93cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MvZyx0Lm51bVBvaW50TGlnaHRTaGFkb3dzKX1mdW5jdGlvbiB2dChlLHQpe3JldHVybiBlLnJlcGxhY2UoL05VTV9DTElQUElOR19QTEFORVMvZyx0Lm51bUNsaXBwaW5nUGxhbmVzKS5yZXBsYWNlKC9VTklPTl9DTElQUElOR19QTEFORVMvZyx0Lm51bUNsaXBwaW5nUGxhbmVzLXQubnVtQ2xpcEludGVyc2VjdGlvbil9ZnVuY3Rpb24gZ3QoZSl7cmV0dXJuIGUucmVwbGFjZShidSx5dCl9ZnVuY3Rpb24geXQoZSx0KXt2YXIgbj1vdVt0XTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgcmVzb2x2ZSAjaW5jbHVkZSA8XCIrdCtcIj5cIik7cmV0dXJuIGd0KG4pfWZ1bmN0aW9uIHh0KGUpe3JldHVybiBlLnJlcGxhY2Uod3UsYnQpfWZ1bmN0aW9uIGJ0KGUsdCxuLHIpe2Zvcih2YXIgaT1cIlwiLGE9cGFyc2VJbnQodCk7YTxwYXJzZUludChuKTthKyspaSs9ci5yZXBsYWNlKC9cXFsgaSBcXF0vZyxcIlsgXCIrYStcIiBdXCIpLnJlcGxhY2UoL1VOUk9MTEVEX0xPT1BfSU5ERVgvZyxhKTtyZXR1cm4gaX1mdW5jdGlvbiB3dChlKXt2YXIgdD1cInByZWNpc2lvbiBcIitlLnByZWNpc2lvbitcIiBmbG9hdDtcXG5wcmVjaXNpb24gXCIrZS5wcmVjaXNpb24rXCIgaW50O1wiO3JldHVyblwiaGlnaHBcIj09PWUucHJlY2lzaW9uP3QrPVwiXFxuI2RlZmluZSBISUdIX1BSRUNJU0lPTlwiOlwibWVkaXVtcFwiPT09ZS5wcmVjaXNpb24/dCs9XCJcXG4jZGVmaW5lIE1FRElVTV9QUkVDSVNJT05cIjpcImxvd3BcIj09PWUucHJlY2lzaW9uJiYodCs9XCJcXG4jZGVmaW5lIExPV19QUkVDSVNJT05cIiksdH1mdW5jdGlvbiBfdChlKXt2YXIgdD1cIlNIQURPV01BUF9UWVBFX0JBU0lDXCI7cmV0dXJuIGUuc2hhZG93TWFwVHlwZT09PWtvP3Q9XCJTSEFET1dNQVBfVFlQRV9QQ0ZcIjplLnNoYWRvd01hcFR5cGU9PT1Xbz90PVwiU0hBRE9XTUFQX1RZUEVfUENGX1NPRlRcIjplLnNoYWRvd01hcFR5cGU9PT1xbyYmKHQ9XCJTSEFET1dNQVBfVFlQRV9WU01cIiksdH1mdW5jdGlvbiBNdChlKXt2YXIgdD1cIkVOVk1BUF9UWVBFX0NVQkVcIjtpZihlLmVudk1hcClzd2l0Y2goZS5lbnZNYXBNb2RlKXtjYXNlIFVzOmNhc2UgRnM6dD1cIkVOVk1BUF9UWVBFX0NVQkVcIjticmVhaztjYXNlIGpzOmNhc2Uga3M6dD1cIkVOVk1BUF9UWVBFX0NVQkVfVVZcIjticmVhaztjYXNlIEdzOmNhc2UgSHM6dD1cIkVOVk1BUF9UWVBFX0VRVUlSRUNcIjticmVhaztjYXNlIFZzOnQ9XCJFTlZNQVBfVFlQRV9TUEhFUkVcIn1yZXR1cm4gdH1mdW5jdGlvbiBTdChlKXt2YXIgdD1cIkVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cIjtpZihlLmVudk1hcClzd2l0Y2goZS5lbnZNYXBNb2RlKXtjYXNlIEZzOmNhc2UgSHM6dD1cIkVOVk1BUF9NT0RFX1JFRlJBQ1RJT05cIn1yZXR1cm4gdH1mdW5jdGlvbiBUdChlKXt2YXIgdD1cIkVOVk1BUF9CTEVORElOR19OT05FXCI7aWYoZS5lbnZNYXApc3dpdGNoKGUuY29tYmluZSl7Y2FzZSBSczp0PVwiRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZXCI7YnJlYWs7Y2FzZSBQczp0PVwiRU5WTUFQX0JMRU5ESU5HX01JWFwiO2JyZWFrO2Nhc2UgQ3M6dD1cIkVOVk1BUF9CTEVORElOR19BRERcIn1yZXR1cm4gdH1mdW5jdGlvbiBFdChlLHQsbixyLGksYSl7dmFyIG8scyxjPWUuZ2V0Q29udGV4dCgpLGw9ci5kZWZpbmVzLGg9aS52ZXJ0ZXhTaGFkZXIsdT1pLmZyYWdtZW50U2hhZGVyLHA9X3QoYSksZD1NdChhKSxmPVN0KGEpLG09VHQoYSksdj1lLmdhbW1hRmFjdG9yPjA/ZS5nYW1tYUZhY3RvcjoxLGc9YS5pc1dlYkdMMj9cIlwiOnV0KHIuZXh0ZW5zaW9ucyxhLHQpLHk9cHQobCkseD1jLmNyZWF0ZVByb2dyYW0oKSxiPWEubnVtTXVsdGl2aWV3Vmlld3M7aWYoci5pc1Jhd1NoYWRlck1hdGVyaWFsPyhvPVt5XS5maWx0ZXIoZnQpLmpvaW4oXCJcXG5cIiksby5sZW5ndGg+MCYmKG8rPVwiXFxuXCIpLHM9W2cseV0uZmlsdGVyKGZ0KS5qb2luKFwiXFxuXCIpLHMubGVuZ3RoPjAmJihzKz1cIlxcblwiKSk6KG89W3d0KGEpLFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIitpLm5hbWUseSxhLmluc3RhbmNpbmc/XCIjZGVmaW5lIFVTRV9JTlNUQU5DSU5HXCI6XCJcIixhLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/XCIjZGVmaW5lIFZFUlRFWF9URVhUVVJFU1wiOlwiXCIsXCIjZGVmaW5lIEdBTU1BX0ZBQ1RPUiBcIit2LFwiI2RlZmluZSBNQVhfQk9ORVMgXCIrYS5tYXhCb25lcyxhLnVzZUZvZyYmYS5mb2c/XCIjZGVmaW5lIFVTRV9GT0dcIjpcIlwiLGEudXNlRm9nJiZhLmZvZ0V4cDI/XCIjZGVmaW5lIEZPR19FWFAyXCI6XCJcIixhLm1hcD9cIiNkZWZpbmUgVVNFX01BUFwiOlwiXCIsYS5lbnZNYXA/XCIjZGVmaW5lIFVTRV9FTlZNQVBcIjpcIlwiLGEuZW52TWFwP1wiI2RlZmluZSBcIitmOlwiXCIsYS5saWdodE1hcD9cIiNkZWZpbmUgVVNFX0xJR0hUTUFQXCI6XCJcIixhLmFvTWFwP1wiI2RlZmluZSBVU0VfQU9NQVBcIjpcIlwiLGEuZW1pc3NpdmVNYXA/XCIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUFwiOlwiXCIsYS5idW1wTWFwP1wiI2RlZmluZSBVU0VfQlVNUE1BUFwiOlwiXCIsYS5ub3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9OT1JNQUxNQVBcIjpcIlwiLGEubm9ybWFsTWFwJiZhLm9iamVjdFNwYWNlTm9ybWFsTWFwP1wiI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcIjpcIlwiLGEubm9ybWFsTWFwJiZhLnRhbmdlbnRTcGFjZU5vcm1hbE1hcD9cIiNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUFwiOlwiXCIsYS5jbGVhcmNvYXROb3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXCI6XCJcIixhLmRpc3BsYWNlbWVudE1hcCYmYS5zdXBwb3J0c1ZlcnRleFRleHR1cmVzP1wiI2RlZmluZSBVU0VfRElTUExBQ0VNRU5UTUFQXCI6XCJcIixhLnNwZWN1bGFyTWFwP1wiI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVBcIjpcIlwiLGEucm91Z2huZXNzTWFwP1wiI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQXCI6XCJcIixhLm1ldGFsbmVzc01hcD9cIiNkZWZpbmUgVVNFX01FVEFMTkVTU01BUFwiOlwiXCIsYS5hbHBoYU1hcD9cIiNkZWZpbmUgVVNFX0FMUEhBTUFQXCI6XCJcIixhLnZlcnRleFRhbmdlbnRzP1wiI2RlZmluZSBVU0VfVEFOR0VOVFwiOlwiXCIsYS52ZXJ0ZXhDb2xvcnM/XCIjZGVmaW5lIFVTRV9DT0xPUlwiOlwiXCIsYS52ZXJ0ZXhVdnM/XCIjZGVmaW5lIFVTRV9VVlwiOlwiXCIsYS51dnNWZXJ0ZXhPbmx5P1wiI2RlZmluZSBVVlNfVkVSVEVYX09OTFlcIjpcIlwiLGEuZmxhdFNoYWRpbmc/XCIjZGVmaW5lIEZMQVRfU0hBREVEXCI6XCJcIixhLnNraW5uaW5nP1wiI2RlZmluZSBVU0VfU0tJTk5JTkdcIjpcIlwiLGEudXNlVmVydGV4VGV4dHVyZT9cIiNkZWZpbmUgQk9ORV9URVhUVVJFXCI6XCJcIixhLm1vcnBoVGFyZ2V0cz9cIiNkZWZpbmUgVVNFX01PUlBIVEFSR0VUU1wiOlwiXCIsYS5tb3JwaE5vcm1hbHMmJiExPT09YS5mbGF0U2hhZGluZz9cIiNkZWZpbmUgVVNFX01PUlBITk9STUFMU1wiOlwiXCIsYS5kb3VibGVTaWRlZD9cIiNkZWZpbmUgRE9VQkxFX1NJREVEXCI6XCJcIixhLmZsaXBTaWRlZD9cIiNkZWZpbmUgRkxJUF9TSURFRFwiOlwiXCIsYS5zaGFkb3dNYXBFbmFibGVkP1wiI2RlZmluZSBVU0VfU0hBRE9XTUFQXCI6XCJcIixhLnNoYWRvd01hcEVuYWJsZWQ/XCIjZGVmaW5lIFwiK3A6XCJcIixhLnNpemVBdHRlbnVhdGlvbj9cIiNkZWZpbmUgVVNFX1NJWkVBVFRFTlVBVElPTlwiOlwiXCIsYS5sb2dhcml0aG1pY0RlcHRoQnVmZmVyP1wiI2RlZmluZSBVU0VfTE9HREVQVEhCVUZcIjpcIlwiLGEubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmKGEuaXNXZWJHTDJ8fHQuZ2V0KFwiRVhUX2ZyYWdfZGVwdGhcIikpP1wiI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUXCI6XCJcIixcInVuaWZvcm0gbWF0NCBtb2RlbE1hdHJpeDtcIixcInVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7XCIsXCJ1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDtcIixcInVuaWZvcm0gbWF0NCB2aWV3TWF0cml4O1wiLFwidW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpeDtcIixcInVuaWZvcm0gdmVjMyBjYW1lcmFQb3NpdGlvbjtcIixcInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYztcIixcIiNpZmRlZiBVU0VfSU5TVEFOQ0lOR1wiLFwiIGF0dHJpYnV0ZSBtYXQ0IGluc3RhbmNlTWF0cml4O1wiLFwiI2VuZGlmXCIsXCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDtcIixcImF0dHJpYnV0ZSB2ZWMyIHV2O1wiLFwiI2lmZGVmIFVTRV9UQU5HRU5UXCIsXCJcXHRhdHRyaWJ1dGUgdmVjNCB0YW5nZW50O1wiLFwiI2VuZGlmXCIsXCIjaWZkZWYgVVNFX0NPTE9SXCIsXCJcXHRhdHRyaWJ1dGUgdmVjMyBjb2xvcjtcIixcIiNlbmRpZlwiLFwiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MDtcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MTtcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MjtcIixcIlxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MztcIixcIlxcdCNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTXCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7XCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDE7XCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDI7XCIsXCJcXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7XCIsXCJcXHQjZWxzZVwiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ0O1wiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ1O1wiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ2O1wiLFwiXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ3O1wiLFwiXFx0I2VuZGlmXCIsXCIjZW5kaWZcIixcIiNpZmRlZiBVU0VfU0tJTk5JTkdcIixcIlxcdGF0dHJpYnV0ZSB2ZWM0IHNraW5JbmRleDtcIixcIlxcdGF0dHJpYnV0ZSB2ZWM0IHNraW5XZWlnaHQ7XCIsXCIjZW5kaWZcIixcIlxcblwiXS5maWx0ZXIoZnQpLmpvaW4oXCJcXG5cIikscz1bZyx3dChhKSxcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIraS5uYW1lLHksYS5hbHBoYVRlc3Q/XCIjZGVmaW5lIEFMUEhBVEVTVCBcIithLmFscGhhVGVzdCsoYS5hbHBoYVRlc3QlMT9cIlwiOlwiLjBcIik6XCJcIixcIiNkZWZpbmUgR0FNTUFfRkFDVE9SIFwiK3YsYS51c2VGb2cmJmEuZm9nP1wiI2RlZmluZSBVU0VfRk9HXCI6XCJcIixhLnVzZUZvZyYmYS5mb2dFeHAyP1wiI2RlZmluZSBGT0dfRVhQMlwiOlwiXCIsYS5tYXA/XCIjZGVmaW5lIFVTRV9NQVBcIjpcIlwiLGEubWF0Y2FwP1wiI2RlZmluZSBVU0VfTUFUQ0FQXCI6XCJcIixhLmVudk1hcD9cIiNkZWZpbmUgVVNFX0VOVk1BUFwiOlwiXCIsYS5lbnZNYXA/XCIjZGVmaW5lIFwiK2Q6XCJcIixhLmVudk1hcD9cIiNkZWZpbmUgXCIrZjpcIlwiLGEuZW52TWFwP1wiI2RlZmluZSBcIittOlwiXCIsYS5saWdodE1hcD9cIiNkZWZpbmUgVVNFX0xJR0hUTUFQXCI6XCJcIixhLmFvTWFwP1wiI2RlZmluZSBVU0VfQU9NQVBcIjpcIlwiLGEuZW1pc3NpdmVNYXA/XCIjZGVmaW5lIFVTRV9FTUlTU0lWRU1BUFwiOlwiXCIsYS5idW1wTWFwP1wiI2RlZmluZSBVU0VfQlVNUE1BUFwiOlwiXCIsYS5ub3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9OT1JNQUxNQVBcIjpcIlwiLGEubm9ybWFsTWFwJiZhLm9iamVjdFNwYWNlTm9ybWFsTWFwP1wiI2RlZmluZSBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcIjpcIlwiLGEubm9ybWFsTWFwJiZhLnRhbmdlbnRTcGFjZU5vcm1hbE1hcD9cIiNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUFwiOlwiXCIsYS5jbGVhcmNvYXROb3JtYWxNYXA/XCIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXCI6XCJcIixhLnNwZWN1bGFyTWFwP1wiI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVBcIjpcIlwiLGEucm91Z2huZXNzTWFwP1wiI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQXCI6XCJcIixhLm1ldGFsbmVzc01hcD9cIiNkZWZpbmUgVVNFX01FVEFMTkVTU01BUFwiOlwiXCIsYS5hbHBoYU1hcD9cIiNkZWZpbmUgVVNFX0FMUEhBTUFQXCI6XCJcIixhLnNoZWVuP1wiI2RlZmluZSBVU0VfU0hFRU5cIjpcIlwiLGEudmVydGV4VGFuZ2VudHM/XCIjZGVmaW5lIFVTRV9UQU5HRU5UXCI6XCJcIixhLnZlcnRleENvbG9ycz9cIiNkZWZpbmUgVVNFX0NPTE9SXCI6XCJcIixhLnZlcnRleFV2cz9cIiNkZWZpbmUgVVNFX1VWXCI6XCJcIixhLnV2c1ZlcnRleE9ubHk/XCIjZGVmaW5lIFVWU19WRVJURVhfT05MWVwiOlwiXCIsYS5ncmFkaWVudE1hcD9cIiNkZWZpbmUgVVNFX0dSQURJRU5UTUFQXCI6XCJcIixhLmZsYXRTaGFkaW5nP1wiI2RlZmluZSBGTEFUX1NIQURFRFwiOlwiXCIsYS5kb3VibGVTaWRlZD9cIiNkZWZpbmUgRE9VQkxFX1NJREVEXCI6XCJcIixhLmZsaXBTaWRlZD9cIiNkZWZpbmUgRkxJUF9TSURFRFwiOlwiXCIsYS5zaGFkb3dNYXBFbmFibGVkP1wiI2RlZmluZSBVU0VfU0hBRE9XTUFQXCI6XCJcIixhLnNoYWRvd01hcEVuYWJsZWQ/XCIjZGVmaW5lIFwiK3A6XCJcIixhLnByZW11bHRpcGxpZWRBbHBoYT9cIiNkZWZpbmUgUFJFTVVMVElQTElFRF9BTFBIQVwiOlwiXCIsYS5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cz9cIiNkZWZpbmUgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1wiOlwiXCIsYS5sb2dhcml0aG1pY0RlcHRoQnVmZmVyP1wiI2RlZmluZSBVU0VfTE9HREVQVEhCVUZcIjpcIlwiLGEubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmKGEuaXNXZWJHTDJ8fHQuZ2V0KFwiRVhUX2ZyYWdfZGVwdGhcIikpP1wiI2RlZmluZSBVU0VfTE9HREVQVEhCVUZfRVhUXCI6XCJcIiwoci5leHRlbnNpb25zJiZyLmV4dGVuc2lvbnMuc2hhZGVyVGV4dHVyZUxPRHx8YS5lbnZNYXApJiYoYS5pc1dlYkdMMnx8dC5nZXQoXCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kXCIpKT9cIiNkZWZpbmUgVEVYVFVSRV9MT0RfRVhUXCI6XCJcIixcInVuaWZvcm0gbWF0NCB2aWV3TWF0cml4O1wiLFwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uO1wiLFwidW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljO1wiLGEudG9uZU1hcHBpbmchPT1Pcz9cIiNkZWZpbmUgVE9ORV9NQVBQSU5HXCI6XCJcIixhLnRvbmVNYXBwaW5nIT09T3M/b3UudG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudDpcIlwiLGEudG9uZU1hcHBpbmchPT1Pcz9odChcInRvbmVNYXBwaW5nXCIsYS50b25lTWFwcGluZyk6XCJcIixhLmRpdGhlcmluZz9cIiNkZWZpbmUgRElUSEVSSU5HXCI6XCJcIixhLm91dHB1dEVuY29kaW5nfHxhLm1hcEVuY29kaW5nfHxhLm1hdGNhcEVuY29kaW5nfHxhLmVudk1hcEVuY29kaW5nfHxhLmVtaXNzaXZlTWFwRW5jb2Rpbmd8fGEubGlnaHRNYXBFbmNvZGluZz9vdS5lbmNvZGluZ3NfcGFyc19mcmFnbWVudDpcIlwiLGEubWFwRW5jb2Rpbmc/Y3QoXCJtYXBUZXhlbFRvTGluZWFyXCIsYS5tYXBFbmNvZGluZyk6XCJcIixhLm1hdGNhcEVuY29kaW5nP2N0KFwibWF0Y2FwVGV4ZWxUb0xpbmVhclwiLGEubWF0Y2FwRW5jb2RpbmcpOlwiXCIsYS5lbnZNYXBFbmNvZGluZz9jdChcImVudk1hcFRleGVsVG9MaW5lYXJcIixhLmVudk1hcEVuY29kaW5nKTpcIlwiLGEuZW1pc3NpdmVNYXBFbmNvZGluZz9jdChcImVtaXNzaXZlTWFwVGV4ZWxUb0xpbmVhclwiLGEuZW1pc3NpdmVNYXBFbmNvZGluZyk6XCJcIixhLmxpZ2h0TWFwRW5jb2Rpbmc/Y3QoXCJsaWdodE1hcFRleGVsVG9MaW5lYXJcIixhLmxpZ2h0TWFwRW5jb2RpbmcpOlwiXCIsYS5vdXRwdXRFbmNvZGluZz9sdChcImxpbmVhclRvT3V0cHV0VGV4ZWxcIixhLm91dHB1dEVuY29kaW5nKTpcIlwiLGEuZGVwdGhQYWNraW5nP1wiI2RlZmluZSBERVBUSF9QQUNLSU5HIFwiK3IuZGVwdGhQYWNraW5nOlwiXCIsXCJcXG5cIl0uZmlsdGVyKGZ0KS5qb2luKFwiXFxuXCIpKSxoPWd0KGgpLGg9bXQoaCxhKSxoPXZ0KGgsYSksdT1ndCh1KSx1PW10KHUsYSksdT12dCh1LGEpLGg9eHQoaCksdT14dCh1KSxhLmlzV2ViR0wyJiYhci5pc1Jhd1NoYWRlck1hdGVyaWFsKXt2YXIgdz0hMSxfPS9eXFxzKiN2ZXJzaW9uXFxzKzMwMFxccytlc1xccypcXG4vO3IuaXNTaGFkZXJNYXRlcmlhbCYmbnVsbCE9PWgubWF0Y2goXykmJm51bGwhPT11Lm1hdGNoKF8pJiYodz0hMCxoPWgucmVwbGFjZShfLFwiXCIpLHU9dS5yZXBsYWNlKF8sXCJcIikpLG89W1wiI3ZlcnNpb24gMzAwIGVzXFxuXCIsXCIjZGVmaW5lIGF0dHJpYnV0ZSBpblwiLFwiI2RlZmluZSB2YXJ5aW5nIG91dFwiLFwiI2RlZmluZSB0ZXh0dXJlMkQgdGV4dHVyZVwiXS5qb2luKFwiXFxuXCIpK1wiXFxuXCIrbyxzPVtcIiN2ZXJzaW9uIDMwMCBlc1xcblwiLFwiI2RlZmluZSB2YXJ5aW5nIGluXCIsdz9cIlwiOlwib3V0IGhpZ2hwIHZlYzQgcGNfZnJhZ0NvbG9yO1wiLHc/XCJcIjpcIiNkZWZpbmUgZ2xfRnJhZ0NvbG9yIHBjX2ZyYWdDb2xvclwiLFwiI2RlZmluZSBnbF9GcmFnRGVwdGhFWFQgZ2xfRnJhZ0RlcHRoXCIsXCIjZGVmaW5lIHRleHR1cmUyRCB0ZXh0dXJlXCIsXCIjZGVmaW5lIHRleHR1cmVDdWJlIHRleHR1cmVcIixcIiNkZWZpbmUgdGV4dHVyZTJEUHJvaiB0ZXh0dXJlUHJvalwiLFwiI2RlZmluZSB0ZXh0dXJlMkRMb2RFWFQgdGV4dHVyZUxvZFwiLFwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kRVhUIHRleHR1cmVQcm9qTG9kXCIsXCIjZGVmaW5lIHRleHR1cmVDdWJlTG9kRVhUIHRleHR1cmVMb2RcIixcIiNkZWZpbmUgdGV4dHVyZTJER3JhZEVYVCB0ZXh0dXJlR3JhZFwiLFwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qR3JhZEVYVCB0ZXh0dXJlUHJvakdyYWRcIixcIiNkZWZpbmUgdGV4dHVyZUN1YmVHcmFkRVhUIHRleHR1cmVHcmFkXCJdLmpvaW4oXCJcXG5cIikrXCJcXG5cIitzLGI+MCYmKG89by5yZXBsYWNlKFwiI3ZlcnNpb24gMzAwIGVzXFxuXCIsW1wiI3ZlcnNpb24gMzAwIGVzXFxuXCIsXCIjZXh0ZW5zaW9uIEdMX09WUl9tdWx0aXZpZXcyIDogcmVxdWlyZVwiLFwibGF5b3V0KG51bV92aWV3cyA9IFwiK2IrXCIpIGluO1wiLFwiI2RlZmluZSBWSUVXX0lEIGdsX1ZpZXdJRF9PVlJcIl0uam9pbihcIlxcblwiKSksbz1vLnJlcGxhY2UoW1widW5pZm9ybSBtYXQ0IG1vZGVsVmlld01hdHJpeDtcIixcInVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1wiLFwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XCIsXCJ1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4O1wiXS5qb2luKFwiXFxuXCIpLFtcInVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaWNlc1tcIitiK1wiXTtcIixcInVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cmljZXNbXCIrYitcIl07XCIsXCJ1bmlmb3JtIG1hdDQgdmlld01hdHJpY2VzW1wiK2IrXCJdO1wiLFwidW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpY2VzW1wiK2IrXCJdO1wiLFwiI2RlZmluZSBtb2RlbFZpZXdNYXRyaXggbW9kZWxWaWV3TWF0cmljZXNbVklFV19JRF1cIixcIiNkZWZpbmUgcHJvamVjdGlvbk1hdHJpeCBwcm9qZWN0aW9uTWF0cmljZXNbVklFV19JRF1cIixcIiNkZWZpbmUgdmlld01hdHJpeCB2aWV3TWF0cmljZXNbVklFV19JRF1cIixcIiNkZWZpbmUgbm9ybWFsTWF0cml4IG5vcm1hbE1hdHJpY2VzW1ZJRVdfSURdXCJdLmpvaW4oXCJcXG5cIikpLHM9cy5yZXBsYWNlKFwiI3ZlcnNpb24gMzAwIGVzXFxuXCIsW1wiI3ZlcnNpb24gMzAwIGVzXFxuXCIsXCIjZXh0ZW5zaW9uIEdMX09WUl9tdWx0aXZpZXcyIDogcmVxdWlyZVwiLFwiI2RlZmluZSBWSUVXX0lEIGdsX1ZpZXdJRF9PVlJcIl0uam9pbihcIlxcblwiKSkscz1zLnJlcGxhY2UoXCJ1bmlmb3JtIG1hdDQgdmlld01hdHJpeDtcIixbXCJ1bmlmb3JtIG1hdDQgdmlld01hdHJpY2VzW1wiK2IrXCJdO1wiLFwiI2RlZmluZSB2aWV3TWF0cml4IHZpZXdNYXRyaWNlc1tWSUVXX0lEXVwiXS5qb2luKFwiXFxuXCIpKSl9dmFyIE09bytoLFM9cyt1LFQ9aXQoYywzNTYzMyxNKSxFPWl0KGMsMzU2MzIsUyk7aWYoYy5hdHRhY2hTaGFkZXIoeCxUKSxjLmF0dGFjaFNoYWRlcih4LEUpLHZvaWQgMCE9PXIuaW5kZXgwQXR0cmlidXRlTmFtZT9jLmJpbmRBdHRyaWJMb2NhdGlvbih4LDAsci5pbmRleDBBdHRyaWJ1dGVOYW1lKTohMD09PWEubW9ycGhUYXJnZXRzJiZjLmJpbmRBdHRyaWJMb2NhdGlvbih4LDAsXCJwb3NpdGlvblwiKSxjLmxpbmtQcm9ncmFtKHgpLGUuZGVidWcuY2hlY2tTaGFkZXJFcnJvcnMpe3ZhciBBPWMuZ2V0UHJvZ3JhbUluZm9Mb2coeCkudHJpbSgpLEw9Yy5nZXRTaGFkZXJJbmZvTG9nKFQpLnRyaW0oKSxSPWMuZ2V0U2hhZGVySW5mb0xvZyhFKS50cmltKCksUD0hMCxDPSEwO2lmKCExPT09Yy5nZXRQcm9ncmFtUGFyYW1ldGVyKHgsMzU3MTQpKXtQPSExO3ZhciBPPXN0KGMsVCxcInZlcnRleFwiKSxEPXN0KGMsRSxcImZyYWdtZW50XCIpO2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFByb2dyYW06IHNoYWRlciBlcnJvcjogXCIsYy5nZXRFcnJvcigpLFwiMzU3MTVcIixjLmdldFByb2dyYW1QYXJhbWV0ZXIoeCwzNTcxNSksXCJnbC5nZXRQcm9ncmFtSW5mb0xvZ1wiLEEsTyxEKX1lbHNlXCJcIiE9PUE/Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xQcm9ncmFtOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpXCIsQSk6XCJcIiE9PUwmJlwiXCIhPT1SfHwoQz0hMSk7QyYmKHRoaXMuZGlhZ25vc3RpY3M9e3J1bm5hYmxlOlAsbWF0ZXJpYWw6cixwcm9ncmFtTG9nOkEsdmVydGV4U2hhZGVyOntsb2c6TCxwcmVmaXg6b30sZnJhZ21lbnRTaGFkZXI6e2xvZzpSLHByZWZpeDpzfX0pfWMuZGVsZXRlU2hhZGVyKFQpLGMuZGVsZXRlU2hhZGVyKEUpO3ZhciBJO3RoaXMuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09SSYmKEk9bmV3IHJ0KGMseCkpLEl9O3ZhciBOO3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09TiYmKE49ZHQoYyx4KSksTn0sdGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7Yy5kZWxldGVQcm9ncmFtKHgpLHRoaXMucHJvZ3JhbT12b2lkIDB9LHRoaXMubmFtZT1pLm5hbWUsdGhpcy5pZD14dSsrLHRoaXMuY2FjaGVLZXk9bix0aGlzLnVzZWRUaW1lcz0xLHRoaXMucHJvZ3JhbT14LHRoaXMudmVydGV4U2hhZGVyPVQsdGhpcy5mcmFnbWVudFNoYWRlcj1FLHRoaXMubnVtTXVsdGl2aWV3Vmlld3M9Yix0aGlzfWZ1bmN0aW9uIEF0KGUsdCxuKXtmdW5jdGlvbiByKGUpe3ZhciB0PWUuc2tlbGV0b24sbj10LmJvbmVzO2lmKGMpcmV0dXJuIDEwMjQ7dmFyIHI9aCxpPU1hdGguZmxvb3IoKHItMjApLzQpLGE9TWF0aC5taW4oaSxuLmxlbmd0aCk7cmV0dXJuIGE8bi5sZW5ndGg/KGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFNrZWxldG9uIGhhcyBcIituLmxlbmd0aCtcIiBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgXCIrYStcIi5cIiksMCk6YX1mdW5jdGlvbiBpKGUsdCl7dmFyIG47cmV0dXJuIGU/ZS5pc1RleHR1cmU/bj1lLmVuY29kaW5nOmUuaXNXZWJHTFJlbmRlclRhcmdldCYmKGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUHJvZ3JhbXMuZ2V0VGV4dHVyZUVuY29kaW5nRnJvbU1hcDogZG9uJ3QgdXNlIHJlbmRlciB0YXJnZXRzIGFzIHRleHR1cmVzLiBVc2UgdGhlaXIgLnRleHR1cmUgcHJvcGVydHkgaW5zdGVhZC5cIiksbj1lLnRleHR1cmUuZW5jb2RpbmcpOm49cWMsbj09PXFjJiZ0JiYobj1ZYyksbn12YXIgYT1bXSxvPW4uaXNXZWJHTDIscz1uLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsYz1uLmZsb2F0VmVydGV4VGV4dHVyZXMsbD1uLnByZWNpc2lvbixoPW4ubWF4VmVydGV4VW5pZm9ybXMsdT1uLnZlcnRleFRleHR1cmVzLHA9e01lc2hEZXB0aE1hdGVyaWFsOlwiZGVwdGhcIixNZXNoRGlzdGFuY2VNYXRlcmlhbDpcImRpc3RhbmNlUkdCQVwiLE1lc2hOb3JtYWxNYXRlcmlhbDpcIm5vcm1hbFwiLE1lc2hCYXNpY01hdGVyaWFsOlwiYmFzaWNcIixNZXNoTGFtYmVydE1hdGVyaWFsOlwibGFtYmVydFwiLE1lc2hQaG9uZ01hdGVyaWFsOlwicGhvbmdcIixNZXNoVG9vbk1hdGVyaWFsOlwidG9vblwiLE1lc2hTdGFuZGFyZE1hdGVyaWFsOlwicGh5c2ljYWxcIixNZXNoUGh5c2ljYWxNYXRlcmlhbDpcInBoeXNpY2FsXCIsTWVzaE1hdGNhcE1hdGVyaWFsOlwibWF0Y2FwXCIsTGluZUJhc2ljTWF0ZXJpYWw6XCJiYXNpY1wiLExpbmVEYXNoZWRNYXRlcmlhbDpcImRhc2hlZFwiLFBvaW50c01hdGVyaWFsOlwicG9pbnRzXCIsU2hhZG93TWF0ZXJpYWw6XCJzaGFkb3dcIixTcHJpdGVNYXRlcmlhbDpcInNwcml0ZVwifSxkPVtcInByZWNpc2lvblwiLFwiaXNXZWJHTDJcIixcInN1cHBvcnRzVmVydGV4VGV4dHVyZXNcIixcIm91dHB1dEVuY29kaW5nXCIsXCJpbnN0YW5jaW5nXCIsXCJudW1NdWx0aXZpZXdWaWV3c1wiLFwibWFwXCIsXCJtYXBFbmNvZGluZ1wiLFwibWF0Y2FwXCIsXCJtYXRjYXBFbmNvZGluZ1wiLFwiZW52TWFwXCIsXCJlbnZNYXBNb2RlXCIsXCJlbnZNYXBFbmNvZGluZ1wiLFwiZW52TWFwQ3ViZVVWXCIsXCJsaWdodE1hcFwiLFwibGlnaHRNYXBFbmNvZGluZ1wiLFwiYW9NYXBcIixcImVtaXNzaXZlTWFwXCIsXCJlbWlzc2l2ZU1hcEVuY29kaW5nXCIsXCJidW1wTWFwXCIsXCJub3JtYWxNYXBcIixcIm9iamVjdFNwYWNlTm9ybWFsTWFwXCIsXCJ0YW5nZW50U3BhY2VOb3JtYWxNYXBcIixcImNsZWFyY29hdE5vcm1hbE1hcFwiLFwiZGlzcGxhY2VtZW50TWFwXCIsXCJzcGVjdWxhck1hcFwiLFwicm91Z2huZXNzTWFwXCIsXCJtZXRhbG5lc3NNYXBcIixcImdyYWRpZW50TWFwXCIsXCJhbHBoYU1hcFwiLFwiY29tYmluZVwiLFwidmVydGV4Q29sb3JzXCIsXCJ2ZXJ0ZXhUYW5nZW50c1wiLFwidmVydGV4VXZzXCIsXCJ1dnNWZXJ0ZXhPbmx5XCIsXCJmb2dcIixcInVzZUZvZ1wiLFwiZm9nRXhwMlwiLFwiZmxhdFNoYWRpbmdcIixcInNpemVBdHRlbnVhdGlvblwiLFwibG9nYXJpdGhtaWNEZXB0aEJ1ZmZlclwiLFwic2tpbm5pbmdcIixcIm1heEJvbmVzXCIsXCJ1c2VWZXJ0ZXhUZXh0dXJlXCIsXCJtb3JwaFRhcmdldHNcIixcIm1vcnBoTm9ybWFsc1wiLFwibWF4TW9ycGhUYXJnZXRzXCIsXCJtYXhNb3JwaE5vcm1hbHNcIixcInByZW11bHRpcGxpZWRBbHBoYVwiLFwibnVtRGlyTGlnaHRzXCIsXCJudW1Qb2ludExpZ2h0c1wiLFwibnVtU3BvdExpZ2h0c1wiLFwibnVtSGVtaUxpZ2h0c1wiLFwibnVtUmVjdEFyZWFMaWdodHNcIixcIm51bURpckxpZ2h0U2hhZG93c1wiLFwibnVtUG9pbnRMaWdodFNoYWRvd3NcIixcIm51bVNwb3RMaWdodFNoYWRvd3NcIixcInNoYWRvd01hcEVuYWJsZWRcIixcInNoYWRvd01hcFR5cGVcIixcInRvbmVNYXBwaW5nXCIsXCJwaHlzaWNhbGx5Q29ycmVjdExpZ2h0c1wiLFwiYWxwaGFUZXN0XCIsXCJkb3VibGVTaWRlZFwiLFwiZmxpcFNpZGVkXCIsXCJudW1DbGlwcGluZ1BsYW5lc1wiLFwibnVtQ2xpcEludGVyc2VjdGlvblwiLFwiZGVwdGhQYWNraW5nXCIsXCJkaXRoZXJpbmdcIixcInNoZWVuXCJdO3RoaXMuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbih0LGEsaCxkLGYsbSx2KXt2YXIgZz1wW3QudHlwZV0seT12LmlzU2tpbm5lZE1lc2g/cih2KTowO251bGwhPT10LnByZWNpc2lvbiYmKGw9bi5nZXRNYXhQcmVjaXNpb24odC5wcmVjaXNpb24pKSE9PXQucHJlY2lzaW9uJiZjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFByb2dyYW0uZ2V0UGFyYW1ldGVyczpcIix0LnByZWNpc2lvbixcIm5vdCBzdXBwb3J0ZWQsIHVzaW5nXCIsbCxcImluc3RlYWQuXCIpO3ZhciB4PWUuZ2V0UmVuZGVyVGFyZ2V0KCksYj14JiZ4LmlzV2ViR0xNdWx0aXZpZXdSZW5kZXJUYXJnZXQ/eC5udW1WaWV3czowO3JldHVybntpc1dlYkdMMjpvLHNoYWRlcklEOmcscHJlY2lzaW9uOmwsaW5zdGFuY2luZzohMD09PXYuaXNJbnN0YW5jZWRNZXNoLHN1cHBvcnRzVmVydGV4VGV4dHVyZXM6dSxudW1NdWx0aXZpZXdWaWV3czpiLG91dHB1dEVuY29kaW5nOmkoeD94LnRleHR1cmU6bnVsbCxlLmdhbW1hT3V0cHV0KSxtYXA6ISF0Lm1hcCxtYXBFbmNvZGluZzppKHQubWFwKSxtYXRjYXA6ISF0Lm1hdGNhcCxtYXRjYXBFbmNvZGluZzppKHQubWF0Y2FwKSxlbnZNYXA6ISF0LmVudk1hcCxlbnZNYXBNb2RlOnQuZW52TWFwJiZ0LmVudk1hcC5tYXBwaW5nLGVudk1hcEVuY29kaW5nOmkodC5lbnZNYXApLGVudk1hcEN1YmVVVjohIXQuZW52TWFwJiYodC5lbnZNYXAubWFwcGluZz09PWpzfHx0LmVudk1hcC5tYXBwaW5nPT09a3MpLGxpZ2h0TWFwOiEhdC5saWdodE1hcCxsaWdodE1hcEVuY29kaW5nOmkodC5saWdodE1hcCksYW9NYXA6ISF0LmFvTWFwLGVtaXNzaXZlTWFwOiEhdC5lbWlzc2l2ZU1hcCxlbWlzc2l2ZU1hcEVuY29kaW5nOmkodC5lbWlzc2l2ZU1hcCksYnVtcE1hcDohIXQuYnVtcE1hcCxub3JtYWxNYXA6ISF0Lm5vcm1hbE1hcCxvYmplY3RTcGFjZU5vcm1hbE1hcDp0Lm5vcm1hbE1hcFR5cGU9PT1ybCx0YW5nZW50U3BhY2VOb3JtYWxNYXA6dC5ub3JtYWxNYXBUeXBlPT09bmwsY2xlYXJjb2F0Tm9ybWFsTWFwOiEhdC5jbGVhcmNvYXROb3JtYWxNYXAsZGlzcGxhY2VtZW50TWFwOiEhdC5kaXNwbGFjZW1lbnRNYXAscm91Z2huZXNzTWFwOiEhdC5yb3VnaG5lc3NNYXAsbWV0YWxuZXNzTWFwOiEhdC5tZXRhbG5lc3NNYXAsc3BlY3VsYXJNYXA6ISF0LnNwZWN1bGFyTWFwLGFscGhhTWFwOiEhdC5hbHBoYU1hcCxncmFkaWVudE1hcDohIXQuZ3JhZGllbnRNYXAsc2hlZW46ISF0LnNoZWVuLGNvbWJpbmU6dC5jb21iaW5lLHZlcnRleFRhbmdlbnRzOnQubm9ybWFsTWFwJiZ0LnZlcnRleFRhbmdlbnRzLHZlcnRleENvbG9yczp0LnZlcnRleENvbG9ycyx2ZXJ0ZXhVdnM6ISEodC5tYXB8fHQuYnVtcE1hcHx8dC5ub3JtYWxNYXB8fHQuc3BlY3VsYXJNYXB8fHQuYWxwaGFNYXB8fHQuZW1pc3NpdmVNYXB8fHQucm91Z2huZXNzTWFwfHx0Lm1ldGFsbmVzc01hcHx8dC5jbGVhcmNvYXROb3JtYWxNYXB8fHQuZGlzcGxhY2VtZW50TWFwKSx1dnNWZXJ0ZXhPbmx5OiEodC5tYXB8fHQuYnVtcE1hcHx8dC5ub3JtYWxNYXB8fHQuc3BlY3VsYXJNYXB8fHQuYWxwaGFNYXB8fHQuZW1pc3NpdmVNYXB8fHQucm91Z2huZXNzTWFwfHx0Lm1ldGFsbmVzc01hcHx8dC5jbGVhcmNvYXROb3JtYWxNYXB8fCF0LmRpc3BsYWNlbWVudE1hcCksZm9nOiEhZCx1c2VGb2c6dC5mb2csZm9nRXhwMjpkJiZkLmlzRm9nRXhwMixmbGF0U2hhZGluZzp0LmZsYXRTaGFkaW5nLHNpemVBdHRlbnVhdGlvbjp0LnNpemVBdHRlbnVhdGlvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOnMsc2tpbm5pbmc6dC5za2lubmluZyYmeT4wLG1heEJvbmVzOnksdXNlVmVydGV4VGV4dHVyZTpjLG1vcnBoVGFyZ2V0czp0Lm1vcnBoVGFyZ2V0cyxtb3JwaE5vcm1hbHM6dC5tb3JwaE5vcm1hbHMsbWF4TW9ycGhUYXJnZXRzOmUubWF4TW9ycGhUYXJnZXRzLG1heE1vcnBoTm9ybWFsczplLm1heE1vcnBoTm9ybWFscyxudW1EaXJMaWdodHM6YS5kaXJlY3Rpb25hbC5sZW5ndGgsbnVtUG9pbnRMaWdodHM6YS5wb2ludC5sZW5ndGgsbnVtU3BvdExpZ2h0czphLnNwb3QubGVuZ3RoLG51bVJlY3RBcmVhTGlnaHRzOmEucmVjdEFyZWEubGVuZ3RoLG51bUhlbWlMaWdodHM6YS5oZW1pLmxlbmd0aCxudW1EaXJMaWdodFNoYWRvd3M6YS5kaXJlY3Rpb25hbFNoYWRvd01hcC5sZW5ndGgsbnVtUG9pbnRMaWdodFNoYWRvd3M6YS5wb2ludFNoYWRvd01hcC5sZW5ndGgsbnVtU3BvdExpZ2h0U2hhZG93czphLnNwb3RTaGFkb3dNYXAubGVuZ3RoLG51bUNsaXBwaW5nUGxhbmVzOmYsbnVtQ2xpcEludGVyc2VjdGlvbjptLGRpdGhlcmluZzp0LmRpdGhlcmluZyxzaGFkb3dNYXBFbmFibGVkOmUuc2hhZG93TWFwLmVuYWJsZWQmJmgubGVuZ3RoPjAsc2hhZG93TWFwVHlwZTplLnNoYWRvd01hcC50eXBlLHRvbmVNYXBwaW5nOnQudG9uZU1hcHBlZD9lLnRvbmVNYXBwaW5nOk9zLHBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzOmUucGh5c2ljYWxseUNvcnJlY3RMaWdodHMscHJlbXVsdGlwbGllZEFscGhhOnQucHJlbXVsdGlwbGllZEFscGhhLGFscGhhVGVzdDp0LmFscGhhVGVzdCxkb3VibGVTaWRlZDp0LnNpZGU9PT1abyxmbGlwU2lkZWQ6dC5zaWRlPT09WW8sZGVwdGhQYWNraW5nOnZvaWQgMCE9PXQuZGVwdGhQYWNraW5nJiZ0LmRlcHRoUGFja2luZ319LHRoaXMuZ2V0UHJvZ3JhbUNhY2hlS2V5PWZ1bmN0aW9uKHQsbil7dmFyIHI9W107aWYobi5zaGFkZXJJRD9yLnB1c2gobi5zaGFkZXJJRCk6KHIucHVzaCh0LmZyYWdtZW50U2hhZGVyKSxyLnB1c2godC52ZXJ0ZXhTaGFkZXIpKSx2b2lkIDAhPT10LmRlZmluZXMpZm9yKHZhciBpIGluIHQuZGVmaW5lcylyLnB1c2goaSksci5wdXNoKHQuZGVmaW5lc1tpXSk7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspci5wdXNoKG5bZFthXV0pO3JldHVybiByLnB1c2godC5vbkJlZm9yZUNvbXBpbGUudG9TdHJpbmcoKSksci5wdXNoKGUuZ2FtbWFPdXRwdXQpLHIucHVzaChlLmdhbW1hRmFjdG9yKSxyLmpvaW4oKX0sdGhpcy5hY3F1aXJlUHJvZ3JhbT1mdW5jdGlvbihuLHIsaSxvKXtmb3IodmFyIHMsYz0wLGw9YS5sZW5ndGg7YzxsO2MrKyl7dmFyIGg9YVtjXTtpZihoLmNhY2hlS2V5PT09byl7cz1oLCsrcy51c2VkVGltZXM7YnJlYWt9fXJldHVybiB2b2lkIDA9PT1zJiYocz1uZXcgRXQoZSx0LG8sbixyLGkpLGEucHVzaChzKSksc30sdGhpcy5yZWxlYXNlUHJvZ3JhbT1mdW5jdGlvbihlKXtpZigwPT0tLWUudXNlZFRpbWVzKXt2YXIgdD1hLmluZGV4T2YoZSk7YVt0XT1hW2EubGVuZ3RoLTFdLGEucG9wKCksZS5kZXN0cm95KCl9fSx0aGlzLnByb2dyYW1zPWF9ZnVuY3Rpb24gTHQoKXtmdW5jdGlvbiBlKGUpe3ZhciB0PWkuZ2V0KGUpO3JldHVybiB2b2lkIDA9PT10JiYodD17fSxpLnNldChlLHQpKSx0fWZ1bmN0aW9uIHQoZSl7aS5kZWxldGUoZSl9ZnVuY3Rpb24gbihlLHQsbil7aS5nZXQoZSlbdF09bn1mdW5jdGlvbiByKCl7aT1uZXcgV2Vha01hcH12YXIgaT1uZXcgV2Vha01hcDtyZXR1cm57Z2V0OmUscmVtb3ZlOnQsdXBkYXRlOm4sZGlzcG9zZTpyfX1mdW5jdGlvbiBSdChlLHQpe3JldHVybiBlLmdyb3VwT3JkZXIhPT10Lmdyb3VwT3JkZXI/ZS5ncm91cE9yZGVyLXQuZ3JvdXBPcmRlcjplLnJlbmRlck9yZGVyIT09dC5yZW5kZXJPcmRlcj9lLnJlbmRlck9yZGVyLXQucmVuZGVyT3JkZXI6ZS5wcm9ncmFtIT09dC5wcm9ncmFtP2UucHJvZ3JhbS5pZC10LnByb2dyYW0uaWQ6ZS5tYXRlcmlhbC5pZCE9PXQubWF0ZXJpYWwuaWQ/ZS5tYXRlcmlhbC5pZC10Lm1hdGVyaWFsLmlkOmUueiE9PXQuej9lLnotdC56OmUuaWQtdC5pZH1mdW5jdGlvbiBQdChlLHQpe3JldHVybiBlLmdyb3VwT3JkZXIhPT10Lmdyb3VwT3JkZXI/ZS5ncm91cE9yZGVyLXQuZ3JvdXBPcmRlcjplLnJlbmRlck9yZGVyIT09dC5yZW5kZXJPcmRlcj9lLnJlbmRlck9yZGVyLXQucmVuZGVyT3JkZXI6ZS56IT09dC56P3Quei1lLno6ZS5pZC10LmlkfWZ1bmN0aW9uIEN0KCl7ZnVuY3Rpb24gZSgpe289MCxzLmxlbmd0aD0wLGMubGVuZ3RoPTB9ZnVuY3Rpb24gdChlLHQsbixyLGkscyl7dmFyIGM9YVtvXTtyZXR1cm4gdm9pZCAwPT09Yz8oYz17aWQ6ZS5pZCxvYmplY3Q6ZSxnZW9tZXRyeTp0LG1hdGVyaWFsOm4scHJvZ3JhbTpuLnByb2dyYW18fGwsZ3JvdXBPcmRlcjpyLHJlbmRlck9yZGVyOmUucmVuZGVyT3JkZXIsejppLGdyb3VwOnN9LGFbb109Yyk6KGMuaWQ9ZS5pZCxjLm9iamVjdD1lLGMuZ2VvbWV0cnk9dCxjLm1hdGVyaWFsPW4sYy5wcm9ncmFtPW4ucHJvZ3JhbXx8bCxjLmdyb3VwT3JkZXI9cixjLnJlbmRlck9yZGVyPWUucmVuZGVyT3JkZXIsYy56PWksYy5ncm91cD1zKSxvKyssY31mdW5jdGlvbiBuKGUsbixyLGksYSxvKXt2YXIgbD10KGUsbixyLGksYSxvKTsoITA9PT1yLnRyYW5zcGFyZW50P2M6cykucHVzaChsKX1mdW5jdGlvbiByKGUsbixyLGksYSxvKXt2YXIgbD10KGUsbixyLGksYSxvKTsoITA9PT1yLnRyYW5zcGFyZW50P2M6cykudW5zaGlmdChsKX1mdW5jdGlvbiBpKCl7cy5sZW5ndGg+MSYmcy5zb3J0KFJ0KSxjLmxlbmd0aD4xJiZjLnNvcnQoUHQpfXZhciBhPVtdLG89MCxzPVtdLGM9W10sbD17aWQ6LTF9O3JldHVybntvcGFxdWU6cyx0cmFuc3BhcmVudDpjLGluaXQ6ZSxwdXNoOm4sdW5zaGlmdDpyLHNvcnQ6aX19ZnVuY3Rpb24gT3QoKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXQudGFyZ2V0O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixlKSxyLmRlbGV0ZShuKX1mdW5jdGlvbiB0KHQsbil7dmFyIGksYT1yLmdldCh0KTtyZXR1cm4gdm9pZCAwPT09YT8oaT1uZXcgQ3Qsci5zZXQodCxuZXcgV2Vha01hcCksci5nZXQodCkuc2V0KG4saSksdC5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGUpKTp2b2lkIDA9PT0oaT1hLmdldChuKSkmJihpPW5ldyBDdCxhLnNldChuLGkpKSxpfWZ1bmN0aW9uIG4oKXtyPW5ldyBXZWFrTWFwfXZhciByPW5ldyBXZWFrTWFwO3JldHVybntnZXQ6dCxkaXNwb3NlOm59fWZ1bmN0aW9uIER0KCl7dmFyIGU9e307cmV0dXJue2dldDpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT1lW3QuaWRdKXJldHVybiBlW3QuaWRdO3ZhciByO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIkRpcmVjdGlvbmFsTGlnaHRcIjpyPXtkaXJlY3Rpb246bmV3IGksY29sb3I6bmV3IHcsc2hhZG93OiExLHNoYWRvd0JpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBufTticmVhaztjYXNlXCJTcG90TGlnaHRcIjpyPXtwb3NpdGlvbjpuZXcgaSxkaXJlY3Rpb246bmV3IGksY29sb3I6bmV3IHcsZGlzdGFuY2U6MCxjb25lQ29zOjAscGVudW1icmFDb3M6MCxkZWNheTowLHNoYWRvdzohMSxzaGFkb3dCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgbn07YnJlYWs7Y2FzZVwiUG9pbnRMaWdodFwiOnI9e3Bvc2l0aW9uOm5ldyBpLGNvbG9yOm5ldyB3LGRpc3RhbmNlOjAsZGVjYXk6MCxzaGFkb3c6ITEsc2hhZG93QmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IG4sc2hhZG93Q2FtZXJhTmVhcjoxLHNoYWRvd0NhbWVyYUZhcjoxZTN9O2JyZWFrO2Nhc2VcIkhlbWlzcGhlcmVMaWdodFwiOnI9e2RpcmVjdGlvbjpuZXcgaSxza3lDb2xvcjpuZXcgdyxncm91bmRDb2xvcjpuZXcgd307YnJlYWs7Y2FzZVwiUmVjdEFyZWFMaWdodFwiOnI9e2NvbG9yOm5ldyB3LHBvc2l0aW9uOm5ldyBpLGhhbGZXaWR0aDpuZXcgaSxoYWxmSGVpZ2h0Om5ldyBpfX1yZXR1cm4gZVt0LmlkXT1yLHJ9fX1mdW5jdGlvbiBJdChlLHQpe3JldHVybih0LmNhc3RTaGFkb3c/MTowKS0oZS5jYXN0U2hhZG93PzE6MCl9ZnVuY3Rpb24gTnQoKXtmdW5jdGlvbiBlKGUscixpKXtmb3IodmFyIGM9MCxsPTAsaD0wLHU9MDt1PDk7dSsrKW4ucHJvYmVbdV0uc2V0KDAsMCwwKTt2YXIgcD0wLGQ9MCxmPTAsbT0wLHY9MCxnPTAseT0wLHg9MCxiPWkubWF0cml4V29ybGRJbnZlcnNlO2Uuc29ydChJdCk7Zm9yKHZhciB1PTAsdz1lLmxlbmd0aDt1PHc7dSsrKXt2YXIgXz1lW3VdLE09Xy5jb2xvcixTPV8uaW50ZW5zaXR5LFQ9Xy5kaXN0YW5jZSxFPV8uc2hhZG93JiZfLnNoYWRvdy5tYXA/Xy5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZihfLmlzQW1iaWVudExpZ2h0KWMrPU0ucipTLGwrPU0uZypTLGgrPU0uYipTO2Vsc2UgaWYoXy5pc0xpZ2h0UHJvYmUpZm9yKHZhciBBPTA7QTw5O0ErKyluLnByb2JlW0FdLmFkZFNjYWxlZFZlY3RvcihfLnNoLmNvZWZmaWNpZW50c1tBXSxTKTtlbHNlIGlmKF8uaXNEaXJlY3Rpb25hbExpZ2h0KXt2YXIgTD10LmdldChfKTtpZihMLmNvbG9yLmNvcHkoXy5jb2xvcikubXVsdGlwbHlTY2FsYXIoXy5pbnRlbnNpdHkpLEwuZGlyZWN0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihfLm1hdHJpeFdvcmxkKSxhLnNldEZyb21NYXRyaXhQb3NpdGlvbihfLnRhcmdldC5tYXRyaXhXb3JsZCksTC5kaXJlY3Rpb24uc3ViKGEpLEwuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbihiKSxMLnNoYWRvdz1fLmNhc3RTaGFkb3csXy5jYXN0U2hhZG93KXt2YXIgUj1fLnNoYWRvdztMLnNoYWRvd0JpYXM9Ui5iaWFzLEwuc2hhZG93UmFkaXVzPVIucmFkaXVzLEwuc2hhZG93TWFwU2l6ZT1SLm1hcFNpemUsbi5kaXJlY3Rpb25hbFNoYWRvd01hcFtwXT1FLG4uZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbcF09Xy5zaGFkb3cubWF0cml4LGcrK31uLmRpcmVjdGlvbmFsW3BdPUwscCsrfWVsc2UgaWYoXy5pc1Nwb3RMaWdodCl7dmFyIEw9dC5nZXQoXyk7aWYoTC5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oXy5tYXRyaXhXb3JsZCksTC5wb3NpdGlvbi5hcHBseU1hdHJpeDQoYiksTC5jb2xvci5jb3B5KE0pLm11bHRpcGx5U2NhbGFyKFMpLEwuZGlzdGFuY2U9VCxMLmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oXy5tYXRyaXhXb3JsZCksYS5zZXRGcm9tTWF0cml4UG9zaXRpb24oXy50YXJnZXQubWF0cml4V29ybGQpLEwuZGlyZWN0aW9uLnN1YihhKSxMLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24oYiksTC5jb25lQ29zPU1hdGguY29zKF8uYW5nbGUpLEwucGVudW1icmFDb3M9TWF0aC5jb3MoXy5hbmdsZSooMS1fLnBlbnVtYnJhKSksTC5kZWNheT1fLmRlY2F5LEwuc2hhZG93PV8uY2FzdFNoYWRvdyxfLmNhc3RTaGFkb3cpe3ZhciBSPV8uc2hhZG93O0wuc2hhZG93Qmlhcz1SLmJpYXMsTC5zaGFkb3dSYWRpdXM9Ui5yYWRpdXMsTC5zaGFkb3dNYXBTaXplPVIubWFwU2l6ZSxuLnNwb3RTaGFkb3dNYXBbZl09RSxuLnNwb3RTaGFkb3dNYXRyaXhbZl09Xy5zaGFkb3cubWF0cml4LHgrK31uLnNwb3RbZl09TCxmKyt9ZWxzZSBpZihfLmlzUmVjdEFyZWFMaWdodCl7dmFyIEw9dC5nZXQoXyk7TC5jb2xvci5jb3B5KE0pLm11bHRpcGx5U2NhbGFyKFMpLEwucG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKF8ubWF0cml4V29ybGQpLEwucG9zaXRpb24uYXBwbHlNYXRyaXg0KGIpLHMuaWRlbnRpdHkoKSxvLmNvcHkoXy5tYXRyaXhXb3JsZCksby5wcmVtdWx0aXBseShiKSxzLmV4dHJhY3RSb3RhdGlvbihvKSxMLmhhbGZXaWR0aC5zZXQoLjUqXy53aWR0aCwwLDApLEwuaGFsZkhlaWdodC5zZXQoMCwuNSpfLmhlaWdodCwwKSxMLmhhbGZXaWR0aC5hcHBseU1hdHJpeDQocyksTC5oYWxmSGVpZ2h0LmFwcGx5TWF0cml4NChzKSxuLnJlY3RBcmVhW21dPUwsbSsrfWVsc2UgaWYoXy5pc1BvaW50TGlnaHQpe3ZhciBMPXQuZ2V0KF8pO2lmKEwucG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKF8ubWF0cml4V29ybGQpLEwucG9zaXRpb24uYXBwbHlNYXRyaXg0KGIpLEwuY29sb3IuY29weShfLmNvbG9yKS5tdWx0aXBseVNjYWxhcihfLmludGVuc2l0eSksTC5kaXN0YW5jZT1fLmRpc3RhbmNlLEwuZGVjYXk9Xy5kZWNheSxMLnNoYWRvdz1fLmNhc3RTaGFkb3csXy5jYXN0U2hhZG93KXt2YXIgUj1fLnNoYWRvdztMLnNoYWRvd0JpYXM9Ui5iaWFzLEwuc2hhZG93UmFkaXVzPVIucmFkaXVzLEwuc2hhZG93TWFwU2l6ZT1SLm1hcFNpemUsTC5zaGFkb3dDYW1lcmFOZWFyPVIuY2FtZXJhLm5lYXIsTC5zaGFkb3dDYW1lcmFGYXI9Ui5jYW1lcmEuZmFyLG4ucG9pbnRTaGFkb3dNYXBbZF09RSxuLnBvaW50U2hhZG93TWF0cml4W2RdPV8uc2hhZG93Lm1hdHJpeCx5Kyt9bi5wb2ludFtkXT1MLGQrK31lbHNlIGlmKF8uaXNIZW1pc3BoZXJlTGlnaHQpe3ZhciBMPXQuZ2V0KF8pO0wuZGlyZWN0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihfLm1hdHJpeFdvcmxkKSxMLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24oYiksTC5kaXJlY3Rpb24ubm9ybWFsaXplKCksTC5za3lDb2xvci5jb3B5KF8uY29sb3IpLm11bHRpcGx5U2NhbGFyKFMpLEwuZ3JvdW5kQ29sb3IuY29weShfLmdyb3VuZENvbG9yKS5tdWx0aXBseVNjYWxhcihTKSxuLmhlbWlbdl09TCx2Kyt9fW4uYW1iaWVudFswXT1jLG4uYW1iaWVudFsxXT1sLG4uYW1iaWVudFsyXT1oO3ZhciBQPW4uaGFzaDtQLmRpcmVjdGlvbmFsTGVuZ3RoPT09cCYmUC5wb2ludExlbmd0aD09PWQmJlAuc3BvdExlbmd0aD09PWYmJlAucmVjdEFyZWFMZW5ndGg9PT1tJiZQLmhlbWlMZW5ndGg9PT12JiZQLm51bURpcmVjdGlvbmFsU2hhZG93cz09PWcmJlAubnVtUG9pbnRTaGFkb3dzPT09eSYmUC5udW1TcG90U2hhZG93cz09PXh8fChuLmRpcmVjdGlvbmFsLmxlbmd0aD1wLG4uc3BvdC5sZW5ndGg9ZixuLnJlY3RBcmVhLmxlbmd0aD1tLG4ucG9pbnQubGVuZ3RoPWQsbi5oZW1pLmxlbmd0aD12LG4uZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoPWcsbi5wb2ludFNoYWRvd01hcC5sZW5ndGg9eSxuLnNwb3RTaGFkb3dNYXAubGVuZ3RoPXgsbi5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeC5sZW5ndGg9ZyxuLnBvaW50U2hhZG93TWF0cml4Lmxlbmd0aD15LG4uc3BvdFNoYWRvd01hdHJpeC5sZW5ndGg9eCxQLmRpcmVjdGlvbmFsTGVuZ3RoPXAsUC5wb2ludExlbmd0aD1kLFAuc3BvdExlbmd0aD1mLFAucmVjdEFyZWFMZW5ndGg9bSxQLmhlbWlMZW5ndGg9dixQLm51bURpcmVjdGlvbmFsU2hhZG93cz1nLFAubnVtUG9pbnRTaGFkb3dzPXksUC5udW1TcG90U2hhZG93cz14LG4udmVyc2lvbj1fdSsrKX1mb3IodmFyIHQ9bmV3IER0LG49e3ZlcnNpb246MCxoYXNoOntkaXJlY3Rpb25hbExlbmd0aDotMSxwb2ludExlbmd0aDotMSxzcG90TGVuZ3RoOi0xLHJlY3RBcmVhTGVuZ3RoOi0xLGhlbWlMZW5ndGg6LTEsbnVtRGlyZWN0aW9uYWxTaGFkb3dzOi0xLG51bVBvaW50U2hhZG93czotMSxudW1TcG90U2hhZG93czotMX0sYW1iaWVudDpbMCwwLDBdLHByb2JlOltdLGRpcmVjdGlvbmFsOltdLGRpcmVjdGlvbmFsU2hhZG93TWFwOltdLGRpcmVjdGlvbmFsU2hhZG93TWF0cml4OltdLHNwb3Q6W10sc3BvdFNoYWRvd01hcDpbXSxzcG90U2hhZG93TWF0cml4OltdLHJlY3RBcmVhOltdLHBvaW50OltdLHBvaW50U2hhZG93TWFwOltdLHBvaW50U2hhZG93TWF0cml4OltdLGhlbWk6W10sbnVtRGlyZWN0aW9uYWxTaGFkb3dzOi0xLG51bVBvaW50U2hhZG93czotMSxudW1TcG90U2hhZG93czotMX0scj0wO3I8OTtyKyspbi5wcm9iZS5wdXNoKG5ldyBpKTt2YXIgYT1uZXcgaSxvPW5ldyBoLHM9bmV3IGg7cmV0dXJue3NldHVwOmUsc3RhdGU6bn19ZnVuY3Rpb24genQoKXtmdW5jdGlvbiBlKCl7YS5sZW5ndGg9MCxvLmxlbmd0aD0wfWZ1bmN0aW9uIHQoZSl7YS5wdXNoKGUpfWZ1bmN0aW9uIG4oZSl7by5wdXNoKGUpfWZ1bmN0aW9uIHIoZSl7aS5zZXR1cChhLG8sZSl9dmFyIGk9bmV3IE50LGE9W10sbz1bXTtyZXR1cm57aW5pdDplLHN0YXRlOntsaWdodHNBcnJheTphLHNoYWRvd3NBcnJheTpvLGxpZ2h0czppfSxzZXR1cExpZ2h0czpyLHB1c2hMaWdodDp0LHB1c2hTaGFkb3c6bn19ZnVuY3Rpb24gQnQoKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXQudGFyZ2V0O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixlKSxyLmRlbGV0ZShuKX1mdW5jdGlvbiB0KHQsbil7dmFyIGk7cmV0dXJuITE9PT1yLmhhcyh0KT8oaT1uZXcgenQsci5zZXQodCxuZXcgV2Vha01hcCksci5nZXQodCkuc2V0KG4saSksdC5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGUpKTohMT09PXIuZ2V0KHQpLmhhcyhuKT8oaT1uZXcgenQsci5nZXQodCkuc2V0KG4saSkpOmk9ci5nZXQodCkuZ2V0KG4pLGl9ZnVuY3Rpb24gbigpe3I9bmV3IFdlYWtNYXB9dmFyIHI9bmV3IFdlYWtNYXA7cmV0dXJue2dldDp0LGRpc3Bvc2U6bn19ZnVuY3Rpb24gVXQoZSl7RS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIk1lc2hEZXB0aE1hdGVyaWFsXCIsdGhpcy5kZXB0aFBhY2tpbmc9ZWwsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWZ1bmN0aW9uIEZ0KGUpe0UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJNZXNoRGlzdGFuY2VNYXRlcmlhbFwiLHRoaXMucmVmZXJlbmNlUG9zaXRpb249bmV3IGksdGhpcy5uZWFyRGlzdGFuY2U9MSx0aGlzLmZhckRpc3RhbmNlPTFlMyx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKGUpfWZ1bmN0aW9uIEd0KGUsdCxyKXtmdW5jdGlvbiBpKG4scil7dmFyIGk9dC51cGRhdGUoXyk7eC51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT1uLm1hcC50ZXh0dXJlLHgudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZT1uLm1hcFNpemUseC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9bi5yYWRpdXMsZS5zZXRSZW5kZXJUYXJnZXQobi5tYXBQYXNzKSxlLmNsZWFyKCksZS5yZW5kZXJCdWZmZXJEaXJlY3QocixudWxsLGkseCxfLG51bGwpLGIudW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9bi5tYXBQYXNzLnRleHR1cmUsYi51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPW4ubWFwU2l6ZSxiLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT1uLnJhZGl1cyxlLnNldFJlbmRlclRhcmdldChuLm1hcCksZS5jbGVhcigpLGUucmVuZGVyQnVmZmVyRGlyZWN0KHIsbnVsbCxpLGIsXyxudWxsKX1mdW5jdGlvbiBhKGUsdCxuKXt2YXIgcj1lPDwwfHQ8PDF8bjw8MixpPW1bcl07cmV0dXJuIHZvaWQgMD09PWkmJihpPW5ldyBVdCh7ZGVwdGhQYWNraW5nOnRsLG1vcnBoVGFyZ2V0czplLHNraW5uaW5nOnR9KSxtW3JdPWkpLGl9ZnVuY3Rpb24gbyhlLHQsbil7dmFyIHI9ZTw8MHx0PDwxfG48PDIsaT12W3JdO3JldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgRnQoe21vcnBoVGFyZ2V0czplLHNraW5uaW5nOnR9KSx2W3JdPWkpLGl9ZnVuY3Rpb24gbCh0LG4scixpLHMsYyl7dmFyIGw9dC5nZW9tZXRyeSxoPW51bGwsdT1hLHA9dC5jdXN0b21EZXB0aE1hdGVyaWFsO2lmKCEwPT09ci5pc1BvaW50TGlnaHQmJih1PW8scD10LmN1c3RvbURpc3RhbmNlTWF0ZXJpYWwpLHZvaWQgMD09PXApe3ZhciBkPSExOyEwPT09bi5tb3JwaFRhcmdldHMmJighMD09PWwuaXNCdWZmZXJHZW9tZXRyeT9kPWwubW9ycGhBdHRyaWJ1dGVzJiZsLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiYmbC5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24ubGVuZ3RoPjA6ITA9PT1sLmlzR2VvbWV0cnkmJihkPWwubW9ycGhUYXJnZXRzJiZsLm1vcnBoVGFyZ2V0cy5sZW5ndGg+MCkpO3ZhciBmPSExOyEwPT09dC5pc1NraW5uZWRNZXNoJiYoITA9PT1uLnNraW5uaW5nP2Y9ITA6Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xTaGFkb3dNYXA6IFRIUkVFLlNraW5uZWRNZXNoIHdpdGggbWF0ZXJpYWwuc2tpbm5pbmcgc2V0IHRvIGZhbHNlOlwiLHQpKTtoPXUoZCxmLCEwPT09dC5pc0luc3RhbmNlZE1lc2gpfWVsc2UgaD1wO2lmKGUubG9jYWxDbGlwcGluZ0VuYWJsZWQmJiEwPT09bi5jbGlwU2hhZG93cyYmMCE9PW4uY2xpcHBpbmdQbGFuZXMubGVuZ3RoKXt2YXIgbT1oLnV1aWQsdj1uLnV1aWQseD1nW21dO3ZvaWQgMD09PXgmJih4PXt9LGdbbV09eCk7dmFyIGI9eFt2XTt2b2lkIDA9PT1iJiYoYj1oLmNsb25lKCkseFt2XT1iKSxoPWJ9cmV0dXJuIGgudmlzaWJsZT1uLnZpc2libGUsaC53aXJlZnJhbWU9bi53aXJlZnJhbWUsaC5zaWRlPWM9PT1xbz9udWxsIT09bi5zaGFkb3dTaWRlP24uc2hhZG93U2lkZTpuLnNpZGU6bnVsbCE9PW4uc2hhZG93U2lkZT9uLnNoYWRvd1NpZGU6eVtuLnNpZGVdLGguY2xpcFNoYWRvd3M9bi5jbGlwU2hhZG93cyxoLmNsaXBwaW5nUGxhbmVzPW4uY2xpcHBpbmdQbGFuZXMsaC5jbGlwSW50ZXJzZWN0aW9uPW4uY2xpcEludGVyc2VjdGlvbixoLndpcmVmcmFtZUxpbmV3aWR0aD1uLndpcmVmcmFtZUxpbmV3aWR0aCxoLmxpbmV3aWR0aD1uLmxpbmV3aWR0aCwhMD09PXIuaXNQb2ludExpZ2h0JiYhMD09PWguaXNNZXNoRGlzdGFuY2VNYXRlcmlhbCYmKGgucmVmZXJlbmNlUG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHIubWF0cml4V29ybGQpLGgubmVhckRpc3RhbmNlPWksaC5mYXJEaXN0YW5jZT1zKSxofWZ1bmN0aW9uIGgobixyLGksYSxvKXtpZighMSE9PW4udmlzaWJsZSl7aWYobi5sYXllcnMudGVzdChyLmxheWVycykmJihuLmlzTWVzaHx8bi5pc0xpbmV8fG4uaXNQb2ludHMpJiYobi5jYXN0U2hhZG93fHxuLnJlY2VpdmVTaGFkb3cmJm89PT1xbykmJighbi5mcnVzdHVtQ3VsbGVkfHx1LmludGVyc2VjdHNPYmplY3QobikpKXtuLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGkubWF0cml4V29ybGRJbnZlcnNlLG4ubWF0cml4V29ybGQpO3ZhciBzPXQudXBkYXRlKG4pLGM9bi5tYXRlcmlhbDtpZihBcnJheS5pc0FycmF5KGMpKWZvcih2YXIgcD1zLmdyb3VwcyxkPTAsZj1wLmxlbmd0aDtkPGY7ZCsrKXt2YXIgbT1wW2RdLHY9Y1ttLm1hdGVyaWFsSW5kZXhdO2lmKHYmJnYudmlzaWJsZSl7dmFyIGc9bChuLHYsYSxpLm5lYXIsaS5mYXIsbyk7ZS5yZW5kZXJCdWZmZXJEaXJlY3QoaSxudWxsLHMsZyxuLG0pfX1lbHNlIGlmKGMudmlzaWJsZSl7dmFyIGc9bChuLGMsYSxpLm5lYXIsaS5mYXIsbyk7ZS5yZW5kZXJCdWZmZXJEaXJlY3QoaSxudWxsLHMsZyxuLG51bGwpfX1mb3IodmFyIHk9bi5jaGlsZHJlbix4PTAsYj15Lmxlbmd0aDt4PGI7eCsrKWgoeVt4XSxyLGksYSxvKX19dmFyIHU9bmV3ICQscD1uZXcgbixkPW5ldyBuLGY9bmV3IHMsbT1bXSx2PVtdLGc9e30seT17MDpZbywxOlhvLDI6Wm99LHg9bmV3IFgoe2RlZmluZXM6e1NBTVBMRV9SQVRFOi4yNSxIQUxGX1NBTVBMRV9SQVRFOjEvOH0sdW5pZm9ybXM6e3NoYWRvd19wYXNzOnt2YWx1ZTpudWxsfSxyZXNvbHV0aW9uOnt2YWx1ZTpuZXcgbn0scmFkaXVzOnt2YWx1ZTo0fX0sdmVydGV4U2hhZGVyOlN1LGZyYWdtZW50U2hhZGVyOk11fSksYj14LmNsb25lKCk7Yi5kZWZpbmVzLkhPUklaT05BTF9QQVNTPTE7dmFyIHc9bmV3IEc7dy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBMKG5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLC41LDMsLTEsLjUsLTEsMywuNV0pLDMpKTt2YXIgXz1uZXcgSCh3LHgpLE09dGhpczt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5hdXRvVXBkYXRlPSEwLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy50eXBlPWtvLHRoaXMucmVuZGVyPWZ1bmN0aW9uKHQsbixhKXtpZighMSE9PU0uZW5hYmxlZCYmKCExIT09TS5hdXRvVXBkYXRlfHwhMSE9PU0ubmVlZHNVcGRhdGUpJiYwIT09dC5sZW5ndGgpe3ZhciBvPWUuZ2V0UmVuZGVyVGFyZ2V0KCkscz1lLmdldEFjdGl2ZUN1YmVGYWNlKCksbD1lLmdldEFjdGl2ZU1pcG1hcExldmVsKCksbT1lLnN0YXRlO20uc2V0QmxlbmRpbmcoJG8pLG0uYnVmZmVycy5jb2xvci5zZXRDbGVhcigxLDEsMSwxKSxtLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCghMCksbS5zZXRTY2lzc29yVGVzdCghMSk7Zm9yKHZhciB2PTAsZz10Lmxlbmd0aDt2PGc7disrKXt2YXIgeT10W3ZdLHg9eS5zaGFkb3c7aWYodm9pZCAwIT09eCl7cC5jb3B5KHgubWFwU2l6ZSk7dmFyIGI9eC5nZXRGcmFtZUV4dGVudHMoKTtpZihwLm11bHRpcGx5KGIpLGQuY29weSh4Lm1hcFNpemUpLChwLng+cnx8cC55PnIpJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xTaGFkb3dNYXA6XCIseSxcImhhcyBzaGFkb3cgZXhjZWVkaW5nIG1heCB0ZXh0dXJlIHNpemUsIHJlZHVjaW5nXCIpLHAueD5yJiYoZC54PU1hdGguZmxvb3Ioci9iLngpLHAueD1kLngqYi54LHgubWFwU2l6ZS54PWQueCkscC55PnImJihkLnk9TWF0aC5mbG9vcihyL2IueSkscC55PWQueSpiLnkseC5tYXBTaXplLnk9ZC55KSksbnVsbD09PXgubWFwJiYheC5pc1BvaW50TGlnaHRTaGFkb3cmJnRoaXMudHlwZT09PXFvKXt2YXIgdz17bWluRmlsdGVyOlFzLG1hZ0ZpbHRlcjpRcyxmb3JtYXQ6ZmN9O3gubWFwPW5ldyBjKHAueCxwLnksdykseC5tYXAudGV4dHVyZS5uYW1lPXkubmFtZStcIi5zaGFkb3dNYXBcIix4Lm1hcFBhc3M9bmV3IGMocC54LHAueSx3KSx4LmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9aWYobnVsbD09PXgubWFwKXt2YXIgdz17bWluRmlsdGVyOllzLG1hZ0ZpbHRlcjpZcyxmb3JtYXQ6ZmN9O3gubWFwPW5ldyBjKHAueCxwLnksdykseC5tYXAudGV4dHVyZS5uYW1lPXkubmFtZStcIi5zaGFkb3dNYXBcIix4LmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9ZS5zZXRSZW5kZXJUYXJnZXQoeC5tYXApLGUuY2xlYXIoKTtmb3IodmFyIF89eC5nZXRWaWV3cG9ydENvdW50KCksUz0wO1M8XztTKyspe3ZhciBUPXguZ2V0Vmlld3BvcnQoUyk7Zi5zZXQoZC54KlQueCxkLnkqVC55LGQueCpULnosZC55KlQudyksbS52aWV3cG9ydChmKSx4LnVwZGF0ZU1hdHJpY2VzKHksUyksdT14LmdldEZydXN0dW0oKSxoKG4sYSx4LmNhbWVyYSx5LHRoaXMudHlwZSl9eC5pc1BvaW50TGlnaHRTaGFkb3d8fHRoaXMudHlwZSE9PXFvfHxpKHgsYSl9ZWxzZSBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFNoYWRvd01hcDpcIix5LFwiaGFzIG5vIHNoYWRvdy5cIil9TS5uZWVkc1VwZGF0ZT0hMSxlLnNldFJlbmRlclRhcmdldChvLHMsbCl9fX1mdW5jdGlvbiBIdChlLHQsbil7ZnVuY3Rpb24gcigpe3ZhciB0PSExLG49bmV3IHMscj1udWxsLGk9bmV3IHMoMCwwLDAsMCk7cmV0dXJue3NldE1hc2s6ZnVuY3Rpb24obil7cj09PW58fHR8fChlLmNvbG9yTWFzayhuLG4sbixuKSxyPW4pfSxzZXRMb2NrZWQ6ZnVuY3Rpb24oZSl7dD1lfSxzZXRDbGVhcjpmdW5jdGlvbih0LHIsYSxvLHMpeyEwPT09cyYmKHQqPW8scio9byxhKj1vKSxuLnNldCh0LHIsYSxvKSwhMT09PWkuZXF1YWxzKG4pJiYoZS5jbGVhckNvbG9yKHQscixhLG8pLGkuY29weShuKSl9LHJlc2V0OmZ1bmN0aW9uKCl7dD0hMSxyPW51bGwsaS5zZXQoLTEsMCwwLDApfX19ZnVuY3Rpb24gaSgpe3ZhciB0PSExLG49bnVsbCxyPW51bGwsaT1udWxsO3JldHVybntzZXRUZXN0OmZ1bmN0aW9uKGUpe2U/cCgyOTI5KTpkKDI5MjkpfSxzZXRNYXNrOmZ1bmN0aW9uKHIpe249PT1yfHx0fHwoZS5kZXB0aE1hc2sociksbj1yKX0sc2V0RnVuYzpmdW5jdGlvbih0KXtpZihyIT09dCl7aWYodClzd2l0Y2godCl7Y2FzZSB3czplLmRlcHRoRnVuYyg1MTIpO2JyZWFrO2Nhc2UgX3M6ZS5kZXB0aEZ1bmMoNTE5KTticmVhaztjYXNlIE1zOmUuZGVwdGhGdW5jKDUxMyk7YnJlYWs7Y2FzZSBTczplLmRlcHRoRnVuYyg1MTUpO2JyZWFrO2Nhc2UgVHM6ZS5kZXB0aEZ1bmMoNTE0KTticmVhaztjYXNlIEVzOmUuZGVwdGhGdW5jKDUxOCk7YnJlYWs7Y2FzZSBBczplLmRlcHRoRnVuYyg1MTYpO2JyZWFrO2Nhc2UgTHM6ZS5kZXB0aEZ1bmMoNTE3KTticmVhaztkZWZhdWx0OmUuZGVwdGhGdW5jKDUxNSl9ZWxzZSBlLmRlcHRoRnVuYyg1MTUpO3I9dH19LHNldExvY2tlZDpmdW5jdGlvbihlKXt0PWV9LHNldENsZWFyOmZ1bmN0aW9uKHQpe2khPT10JiYoZS5jbGVhckRlcHRoKHQpLGk9dCl9LHJlc2V0OmZ1bmN0aW9uKCl7dD0hMSxuPW51bGwscj1udWxsLGk9bnVsbH19fWZ1bmN0aW9uIGEoKXt2YXIgdD0hMSxuPW51bGwscj1udWxsLGk9bnVsbCxhPW51bGwsbz1udWxsLHM9bnVsbCxjPW51bGwsbD1udWxsO3JldHVybntzZXRUZXN0OmZ1bmN0aW9uKGUpe3R8fChlP3AoMjk2MCk6ZCgyOTYwKSl9LHNldE1hc2s6ZnVuY3Rpb24ocil7bj09PXJ8fHR8fChlLnN0ZW5jaWxNYXNrKHIpLG49cil9LHNldEZ1bmM6ZnVuY3Rpb24odCxuLG8pe3I9PT10JiZpPT09biYmYT09PW98fChlLnN0ZW5jaWxGdW5jKHQsbixvKSxyPXQsaT1uLGE9byl9LHNldE9wOmZ1bmN0aW9uKHQsbixyKXtvPT09dCYmcz09PW4mJmM9PT1yfHwoZS5zdGVuY2lsT3AodCxuLHIpLG89dCxzPW4sYz1yKX0sc2V0TG9ja2VkOmZ1bmN0aW9uKGUpe3Q9ZX0sc2V0Q2xlYXI6ZnVuY3Rpb24odCl7bCE9PXQmJihlLmNsZWFyU3RlbmNpbCh0KSxsPXQpfSxyZXNldDpmdW5jdGlvbigpe3Q9ITEsbj1udWxsLHI9bnVsbCxpPW51bGwsYT1udWxsLG89bnVsbCxzPW51bGwsYz1udWxsLGw9bnVsbH19fWZ1bmN0aW9uIG8odCxuLHIpe3ZhciBpPW5ldyBVaW50OEFycmF5KDQpLGE9ZS5jcmVhdGVUZXh0dXJlKCk7ZS5iaW5kVGV4dHVyZSh0LGEpLGUudGV4UGFyYW1ldGVyaSh0LDEwMjQxLDk3MjgpLGUudGV4UGFyYW1ldGVyaSh0LDEwMjQwLDk3MjgpO2Zvcih2YXIgbz0wO288cjtvKyspZS50ZXhJbWFnZTJEKG4rbywwLDY0MDgsMSwxLDAsNjQwOCw1MTIxLGkpO3JldHVybiBhfWZ1bmN0aW9uIGMoKXtmb3IodmFyIGU9MCx0PXoubGVuZ3RoO2U8dDtlKyspeltlXT0wfWZ1bmN0aW9uIGwoZSl7aChlLDApfWZ1bmN0aW9uIGgobixyKXtpZih6W25dPTEsMD09PUJbbl0mJihlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pLEJbbl09MSksVVtuXSE9PXIpeyhDP2U6dC5nZXQoXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpKVtDP1widmVydGV4QXR0cmliRGl2aXNvclwiOlwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFXCJdKG4sciksVVtuXT1yfX1mdW5jdGlvbiB1KCl7Zm9yKHZhciB0PTAsbj1CLmxlbmd0aDt0IT09bjsrK3QpQlt0XSE9PXpbdF0mJihlLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSh0KSxCW3RdPTApfWZ1bmN0aW9uIHAodCl7ITAhPT1GW3RdJiYoZS5lbmFibGUodCksRlt0XT0hMCl9ZnVuY3Rpb24gZCh0KXshMSE9PUZbdF0mJihlLmRpc2FibGUodCksRlt0XT0hMSl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gRyE9PXQmJihlLnVzZVByb2dyYW0odCksRz10LCEwKX1mdW5jdGlvbiBtKHQsbixyLGksYSxvLHMsYyl7aWYodD09PSRvKXJldHVybiB2b2lkKEgmJihkKDMwNDIpLEg9ITEpKTtpZihIfHwocCgzMDQyKSxIPSEwKSx0PT09aXMpYT1hfHxuLG89b3x8cixzPXN8fGksbj09PWomJmE9PT1xfHwoZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoaGVbbl0saGVbYV0pLGo9bixxPWEpLHI9PT1rJiZpPT09VyYmbz09PVgmJnM9PT1ZfHwoZS5ibGVuZEZ1bmNTZXBhcmF0ZShwZVtyXSxwZVtpXSxwZVtvXSxwZVtzXSksaz1yLFc9aSxYPW8sWT1zKSxWPXQsWj1udWxsO2Vsc2UgaWYodCE9PVZ8fGMhPT1aKXtpZihqPT09YXMmJnE9PT1hc3x8KGUuYmxlbmRFcXVhdGlvbigzMjc3NCksaj1hcyxxPWFzKSxjKXN3aXRjaCh0KXtjYXNlIGVzOmUuYmxlbmRGdW5jU2VwYXJhdGUoMSw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgdHM6ZS5ibGVuZEZ1bmMoMSwxKTticmVhaztjYXNlIG5zOmUuYmxlbmRGdW5jU2VwYXJhdGUoMCwwLDc2OSw3NzEpO2JyZWFrO2Nhc2UgcnM6ZS5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xTdGF0ZTogSW52YWxpZCBibGVuZGluZzogXCIsdCl9ZWxzZSBzd2l0Y2godCl7Y2FzZSBlczplLmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgdHM6ZS5ibGVuZEZ1bmMoNzcwLDEpO2JyZWFrO2Nhc2UgbnM6ZS5ibGVuZEZ1bmMoMCw3NjkpO2JyZWFrO2Nhc2UgcnM6ZS5ibGVuZEZ1bmMoMCw3NjgpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMU3RhdGU6IEludmFsaWQgYmxlbmRpbmc6IFwiLHQpfWs9bnVsbCxXPW51bGwsWD1udWxsLFk9bnVsbCxWPXQsWj1jfX1mdW5jdGlvbiB2KGUsdCl7ZS5zaWRlPT09Wm8/ZCgyODg0KTpwKDI4ODQpO3ZhciBuPWUuc2lkZT09PVlvO3QmJihuPSFuKSxnKG4pLGUuYmxlbmRpbmc9PT1lcyYmITE9PT1lLnRyYW5zcGFyZW50P20oJG8pOm0oZS5ibGVuZGluZyxlLmJsZW5kRXF1YXRpb24sZS5ibGVuZFNyYyxlLmJsZW5kRHN0LGUuYmxlbmRFcXVhdGlvbkFscGhhLGUuYmxlbmRTcmNBbHBoYSxlLmJsZW5kRHN0QWxwaGEsZS5wcmVtdWx0aXBsaWVkQWxwaGEpLEQuc2V0RnVuYyhlLmRlcHRoRnVuYyksRC5zZXRUZXN0KGUuZGVwdGhUZXN0KSxELnNldE1hc2soZS5kZXB0aFdyaXRlKSxPLnNldE1hc2soZS5jb2xvcldyaXRlKTt2YXIgcj1lLnN0ZW5jaWxXcml0ZTtJLnNldFRlc3QociksciYmKEkuc2V0TWFzayhlLnN0ZW5jaWxXcml0ZU1hc2spLEkuc2V0RnVuYyhlLnN0ZW5jaWxGdW5jLGUuc3RlbmNpbFJlZixlLnN0ZW5jaWxGdW5jTWFzayksSS5zZXRPcChlLnN0ZW5jaWxGYWlsLGUuc3RlbmNpbFpGYWlsLGUuc3RlbmNpbFpQYXNzKSksYihlLnBvbHlnb25PZmZzZXQsZS5wb2x5Z29uT2Zmc2V0RmFjdG9yLGUucG9seWdvbk9mZnNldFVuaXRzKX1mdW5jdGlvbiBnKHQpe0ohPT10JiYodD9lLmZyb250RmFjZSgyMzA0KTplLmZyb250RmFjZSgyMzA1KSxKPXQpfWZ1bmN0aW9uIHkodCl7dCE9PUhvPyhwKDI4ODQpLHQhPT1RJiYodD09PVZvP2UuY3VsbEZhY2UoMTAyOSk6dD09PWpvP2UuY3VsbEZhY2UoMTAyOCk6ZS5jdWxsRmFjZSgxMDMyKSkpOmQoMjg4NCksUT10fWZ1bmN0aW9uIHgodCl7dCE9PUsmJihuZSYmZS5saW5lV2lkdGgodCksSz10KX1mdW5jdGlvbiBiKHQsbixyKXtcbnQ/KHAoMzI4MjMpLCQ9PT1uJiZlZT09PXJ8fChlLnBvbHlnb25PZmZzZXQobixyKSwkPW4sZWU9cikpOmQoMzI4MjMpfWZ1bmN0aW9uIHcoZSl7ZT9wKDMwODkpOmQoMzA4OSl9ZnVuY3Rpb24gXyh0KXt2b2lkIDA9PT10JiYodD0zMzk4NCt0ZS0xKSxhZSE9PXQmJihlLmFjdGl2ZVRleHR1cmUodCksYWU9dCl9ZnVuY3Rpb24gTSh0LG4pe251bGw9PT1hZSYmXygpO3ZhciByPW9lW2FlXTt2b2lkIDA9PT1yJiYocj17dHlwZTp2b2lkIDAsdGV4dHVyZTp2b2lkIDB9LG9lW2FlXT1yKSxyLnR5cGU9PT10JiZyLnRleHR1cmU9PT1ufHwoZS5iaW5kVGV4dHVyZSh0LG58fGxlW3RdKSxyLnR5cGU9dCxyLnRleHR1cmU9bil9ZnVuY3Rpb24gUygpe3ZhciB0PW9lW2FlXTt2b2lkIDAhPT10JiZ2b2lkIDAhPT10LnR5cGUmJihlLmJpbmRUZXh0dXJlKHQudHlwZSxudWxsKSx0LnR5cGU9dm9pZCAwLHQudGV4dHVyZT12b2lkIDApfWZ1bmN0aW9uIFQoKXt0cnl7ZS5jb21wcmVzc2VkVGV4SW1hZ2UyRC5hcHBseShlLGFyZ3VtZW50cyl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMU3RhdGU6XCIsZSl9fWZ1bmN0aW9uIEUoKXt0cnl7ZS50ZXhJbWFnZTJELmFwcGx5KGUsYXJndW1lbnRzKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xTdGF0ZTpcIixlKX19ZnVuY3Rpb24gQSgpe3RyeXtlLnRleEltYWdlM0QuYXBwbHkoZSxhcmd1bWVudHMpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFN0YXRlOlwiLGUpfX1mdW5jdGlvbiBMKHQpeyExPT09c2UuZXF1YWxzKHQpJiYoZS5zY2lzc29yKHQueCx0LnksdC56LHQudyksc2UuY29weSh0KSl9ZnVuY3Rpb24gUih0KXshMT09PWNlLmVxdWFscyh0KSYmKGUudmlld3BvcnQodC54LHQueSx0LnosdC53KSxjZS5jb3B5KHQpKX1mdW5jdGlvbiBQKCl7Zm9yKHZhciB0PTA7dDxCLmxlbmd0aDt0KyspMT09PUJbdF0mJihlLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSh0KSxCW3RdPTApO0Y9e30sYWU9bnVsbCxvZT17fSxHPW51bGwsVj1udWxsLEo9bnVsbCxRPW51bGwsTy5yZXNldCgpLEQucmVzZXQoKSxJLnJlc2V0KCl9dmFyIEM9bi5pc1dlYkdMMixPPW5ldyByLEQ9bmV3IGksST1uZXcgYSxOPWUuZ2V0UGFyYW1ldGVyKDM0OTIxKSx6PW5ldyBVaW50OEFycmF5KE4pLEI9bmV3IFVpbnQ4QXJyYXkoTiksVT1uZXcgVWludDhBcnJheShOKSxGPXt9LEc9bnVsbCxIPW51bGwsVj1udWxsLGo9bnVsbCxrPW51bGwsVz1udWxsLHE9bnVsbCxYPW51bGwsWT1udWxsLFo9ITEsSj1udWxsLFE9bnVsbCxLPW51bGwsJD1udWxsLGVlPW51bGwsdGU9ZS5nZXRQYXJhbWV0ZXIoMzU2NjEpLG5lPSExLHJlPTAsaWU9ZS5nZXRQYXJhbWV0ZXIoNzkzOCk7LTEhPT1pZS5pbmRleE9mKFwiV2ViR0xcIik/KHJlPXBhcnNlRmxvYXQoL15XZWJHTFxcIChbMC05XSkvLmV4ZWMoaWUpWzFdKSxuZT1yZT49MSk6LTEhPT1pZS5pbmRleE9mKFwiT3BlbkdMIEVTXCIpJiYocmU9cGFyc2VGbG9hdCgvXk9wZW5HTFxcIEVTXFwgKFswLTldKS8uZXhlYyhpZSlbMV0pLG5lPXJlPj0yKTt2YXIgYWU9bnVsbCxvZT17fSxzZT1uZXcgcyxjZT1uZXcgcyxsZT17fTtsZVszNTUzXT1vKDM1NTMsMzU1MywxKSxsZVszNDA2N109bygzNDA2NywzNDA2OSw2KSxPLnNldENsZWFyKDAsMCwwLDEpLEQuc2V0Q2xlYXIoMSksSS5zZXRDbGVhcigwKSxwKDI5MjkpLEQuc2V0RnVuYyhTcyksZyghMSkseShWbykscCgyODg0KSxtKCRvKTt2YXIgaGU9e307aWYoaGVbYXNdPTMyNzc0LGhlW29zXT0zMjc3OCxoZVtzc109MzI3NzksQyloZVtjc109MzI3NzUsaGVbbHNdPTMyNzc2O2Vsc2V7dmFyIHVlPXQuZ2V0KFwiRVhUX2JsZW5kX21pbm1heFwiKTtudWxsIT09dWUmJihoZVtjc109dWUuTUlOX0VYVCxoZVtsc109dWUuTUFYX0VYVCl9dmFyIHBlPXt9O3JldHVybiBwZVtoc109MCxwZVt1c109MSxwZVtwc109NzY4LHBlW2ZzXT03NzAscGVbYnNdPTc3NixwZVt5c109Nzc0LHBlW3ZzXT03NzIscGVbZHNdPTc2OSxwZVttc109NzcxLHBlW3hzXT03NzUscGVbZ3NdPTc3Myx7YnVmZmVyczp7Y29sb3I6TyxkZXB0aDpELHN0ZW5jaWw6SX0saW5pdEF0dHJpYnV0ZXM6YyxlbmFibGVBdHRyaWJ1dGU6bCxlbmFibGVBdHRyaWJ1dGVBbmREaXZpc29yOmgsZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXM6dSxlbmFibGU6cCxkaXNhYmxlOmQsdXNlUHJvZ3JhbTpmLHNldEJsZW5kaW5nOm0sc2V0TWF0ZXJpYWw6dixzZXRGbGlwU2lkZWQ6ZyxzZXRDdWxsRmFjZTp5LHNldExpbmVXaWR0aDp4LHNldFBvbHlnb25PZmZzZXQ6YixzZXRTY2lzc29yVGVzdDp3LGFjdGl2ZVRleHR1cmU6XyxiaW5kVGV4dHVyZTpNLHVuYmluZFRleHR1cmU6Uyxjb21wcmVzc2VkVGV4SW1hZ2UyRDpULHRleEltYWdlMkQ6RSx0ZXhJbWFnZTNEOkEsc2Npc3NvcjpMLHZpZXdwb3J0OlIscmVzZXQ6UH19ZnVuY3Rpb24gVnQoZSx0LG4scixpLGEsbyl7ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBYP25ldyBPZmZzY3JlZW5DYW52YXMoZSx0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJjYW52YXNcIil9ZnVuY3Rpb24gYyhlLHQsbixyKXt2YXIgaT0xO2lmKChlLndpZHRoPnJ8fGUuaGVpZ2h0PnIpJiYoaT1yL01hdGgubWF4KGUud2lkdGgsZS5oZWlnaHQpKSxpPDF8fCEwPT09dCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEltYWdlQml0bWFwJiZlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe3ZhciBhPXQ/bGwuZmxvb3JQb3dlck9mVHdvOk1hdGguZmxvb3Isbz1hKGkqZS53aWR0aCksYz1hKGkqZS5oZWlnaHQpO3ZvaWQgMD09PUcmJihHPXMobyxjKSk7dmFyIGw9bj9zKG8sYyk6RztsLndpZHRoPW8sbC5oZWlnaHQ9YztyZXR1cm4gbC5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGUsMCwwLG8sYyksY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBoYXMgYmVlbiByZXNpemVkIGZyb20gKFwiK2Uud2lkdGgrXCJ4XCIrZS5oZWlnaHQrXCIpIHRvIChcIitvK1wieFwiK2MrXCIpLlwiKSxsfXJldHVyblwiZGF0YVwiaW4gZSYmY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogSW1hZ2UgaW4gRGF0YVRleHR1cmUgaXMgdG9vIGJpZyAoXCIrZS53aWR0aCtcInhcIitlLmhlaWdodCtcIikuXCIpLGV9cmV0dXJuIGV9ZnVuY3Rpb24gbChlKXtyZXR1cm4gbGwuaXNQb3dlck9mVHdvKGUud2lkdGgpJiZsbC5pc1Bvd2VyT2ZUd28oZS5oZWlnaHQpfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIUgmJihlLndyYXBTIT09cXN8fGUud3JhcFQhPT1xc3x8ZS5taW5GaWx0ZXIhPT1ZcyYmZS5taW5GaWx0ZXIhPT1Rcyl9ZnVuY3Rpb24gdShlLHQpe3JldHVybiBlLmdlbmVyYXRlTWlwbWFwcyYmdCYmZS5taW5GaWx0ZXIhPT1ZcyYmZS5taW5GaWx0ZXIhPT1Rc31mdW5jdGlvbiBwKHQsbixpLGEpe2UuZ2VuZXJhdGVNaXBtYXAodCksci5nZXQobikuX19tYXhNaXBMZXZlbD1NYXRoLmxvZyhNYXRoLm1heChpLGEpKSpNYXRoLkxPRzJFfWZ1bmN0aW9uIGQoZSxuKXtpZighMT09PUgpcmV0dXJuIGU7dmFyIHI9ZTtyZXR1cm4gNjQwMz09PWUmJig1MTI2PT09biYmKHI9MzMzMjYpLDUxMzE9PT1uJiYocj0zMzMyNSksNTEyMT09PW4mJihyPTMzMzIxKSksNjQwNz09PWUmJig1MTI2PT09biYmKHI9MzQ4MzcpLDUxMzE9PT1uJiYocj0zNDg0MyksNTEyMT09PW4mJihyPTMyODQ5KSksNjQwOD09PWUmJig1MTI2PT09biYmKHI9MzQ4MzYpLDUxMzE9PT1uJiYocj0zNDg0MiksNTEyMT09PW4mJihyPTMyODU2KSksMzMzMjU9PT1yfHwzMzMyNj09PXJ8fDM0ODQyPT09cnx8MzQ4MzY9PT1yP3QuZ2V0KFwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKTozNDg0MyE9PXImJjM0ODM3IT09cnx8Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogRmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMgd2l0aCBSR0IgZm9ybWF0IG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgUkdCQSBpbnN0ZWFkLlwiKSxyfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGU9PT1Zc3x8ZT09PVpzfHxlPT09SnM/OTcyODo5NzI5fWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZS50YXJnZXQ7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLG0pLGcodCksdC5pc1ZpZGVvVGV4dHVyZSYmcS5kZWxldGUodCksby5tZW1vcnkudGV4dHVyZXMtLX1mdW5jdGlvbiB2KGUpe3ZhciB0PWUudGFyZ2V0O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIix2KSx5KHQpLG8ubWVtb3J5LnRleHR1cmVzLS19ZnVuY3Rpb24gZyh0KXt2YXIgbj1yLmdldCh0KTt2b2lkIDAhPT1uLl9fd2ViZ2xJbml0JiYoZS5kZWxldGVUZXh0dXJlKG4uX193ZWJnbFRleHR1cmUpLHIucmVtb3ZlKHQpKX1mdW5jdGlvbiB5KHQpe3ZhciBuPXIuZ2V0KHQpLGk9ci5nZXQodC50ZXh0dXJlKTtpZih0KXtpZih2b2lkIDAhPT1pLl9fd2ViZ2xUZXh0dXJlJiZlLmRlbGV0ZVRleHR1cmUoaS5fX3dlYmdsVGV4dHVyZSksdC5kZXB0aFRleHR1cmUmJnQuZGVwdGhUZXh0dXJlLmRpc3Bvc2UoKSx0LmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlKWZvcih2YXIgYT0wO2E8NjthKyspZS5kZWxldGVGcmFtZWJ1ZmZlcihuLl9fd2ViZ2xGcmFtZWJ1ZmZlclthXSksbi5fX3dlYmdsRGVwdGhidWZmZXImJmUuZGVsZXRlUmVuZGVyYnVmZmVyKG4uX193ZWJnbERlcHRoYnVmZmVyW2FdKTtlbHNlIGUuZGVsZXRlRnJhbWVidWZmZXIobi5fX3dlYmdsRnJhbWVidWZmZXIpLG4uX193ZWJnbERlcHRoYnVmZmVyJiZlLmRlbGV0ZVJlbmRlcmJ1ZmZlcihuLl9fd2ViZ2xEZXB0aGJ1ZmZlcik7aWYodC5pc1dlYkdMTXVsdGl2aWV3UmVuZGVyVGFyZ2V0KXtlLmRlbGV0ZVRleHR1cmUobi5fX3dlYmdsQ29sb3JUZXh0dXJlKSxlLmRlbGV0ZVRleHR1cmUobi5fX3dlYmdsRGVwdGhTdGVuY2lsVGV4dHVyZSksby5tZW1vcnkudGV4dHVyZXMtPTI7Zm9yKHZhciBhPTAscz1uLl9fd2ViZ2xWaWV3RnJhbWVidWZmZXJzLmxlbmd0aDthPHM7YSsrKWUuZGVsZXRlRnJhbWVidWZmZXIobi5fX3dlYmdsVmlld0ZyYW1lYnVmZmVyc1thXSl9ci5yZW1vdmUodC50ZXh0dXJlKSxyLnJlbW92ZSh0KX19ZnVuY3Rpb24geCgpe1k9MH1mdW5jdGlvbiBiKCl7dmFyIGU9WTtyZXR1cm4gZT49ViYmY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xUZXh0dXJlczogVHJ5aW5nIHRvIHVzZSBcIitlK1wiIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSBcIitWKSxZKz0xLGV9ZnVuY3Rpb24gdyhlLHQpe3ZhciBpPXIuZ2V0KGUpO2lmKGUuaXNWaWRlb1RleHR1cmUmJkIoZSksZS52ZXJzaW9uPjAmJmkuX192ZXJzaW9uIT09ZS52ZXJzaW9uKXt2YXIgYT1lLmltYWdlO2lmKHZvaWQgMD09PWEpY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgaW1hZ2UgaXMgdW5kZWZpbmVkXCIpO2Vsc2V7aWYoITEhPT1hLmNvbXBsZXRlKXJldHVybiB2b2lkIEwoaSxlLHQpO2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIGluY29tcGxldGVcIil9fW4uYWN0aXZlVGV4dHVyZSgzMzk4NCt0KSxuLmJpbmRUZXh0dXJlKDM1NTMsaS5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gXyhlLHQpe3ZhciBpPXIuZ2V0KGUpO2lmKGUudmVyc2lvbj4wJiZpLl9fdmVyc2lvbiE9PWUudmVyc2lvbilyZXR1cm4gdm9pZCBMKGksZSx0KTtuLmFjdGl2ZVRleHR1cmUoMzM5ODQrdCksbi5iaW5kVGV4dHVyZSgzNTg2NixpLl9fd2ViZ2xUZXh0dXJlKX1mdW5jdGlvbiBNKGUsdCl7dmFyIGk9ci5nZXQoZSk7aWYoZS52ZXJzaW9uPjAmJmkuX192ZXJzaW9uIT09ZS52ZXJzaW9uKXJldHVybiB2b2lkIEwoaSxlLHQpO24uYWN0aXZlVGV4dHVyZSgzMzk4NCt0KSxuLmJpbmRUZXh0dXJlKDMyODc5LGkuX193ZWJnbFRleHR1cmUpfWZ1bmN0aW9uIFModCxpKXtpZig2PT09dC5pbWFnZS5sZW5ndGgpe3ZhciBvPXIuZ2V0KHQpO2lmKHQudmVyc2lvbj4wJiZvLl9fdmVyc2lvbiE9PXQudmVyc2lvbil7QShvLHQpLG4uYWN0aXZlVGV4dHVyZSgzMzk4NCtpKSxuLmJpbmRUZXh0dXJlKDM0MDY3LG8uX193ZWJnbFRleHR1cmUpLGUucGl4ZWxTdG9yZWkoMzc0NDAsdC5mbGlwWSk7Zm9yKHZhciBzPXQmJnQuaXNDb21wcmVzc2VkVGV4dHVyZSxoPXQuaW1hZ2VbMF0mJnQuaW1hZ2VbMF0uaXNEYXRhVGV4dHVyZSxmPVtdLG09MDttPDY7bSsrKWZbbV09c3x8aD9oP3QuaW1hZ2VbbV0uaW1hZ2U6dC5pbWFnZVttXTpjKHQuaW1hZ2VbbV0sITEsITAsaik7dmFyIHY9ZlswXSxnPWwodil8fEgseT1hLmNvbnZlcnQodC5mb3JtYXQpLHg9YS5jb252ZXJ0KHQudHlwZSksYj1kKHkseCk7RSgzNDA2Nyx0LGcpO3ZhciB3O2lmKHMpe2Zvcih2YXIgbT0wO208NjttKyspe3c9ZlttXS5taXBtYXBzO2Zvcih2YXIgXz0wO188dy5sZW5ndGg7XysrKXt2YXIgTT13W19dO3QuZm9ybWF0IT09ZmMmJnQuZm9ybWF0IT09ZGM/bnVsbCE9PXk/bi5jb21wcmVzc2VkVGV4SW1hZ2UyRCgzNDA2OSttLF8sYixNLndpZHRoLE0uaGVpZ2h0LDAsTS5kYXRhKTpjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAuc2V0VGV4dHVyZUN1YmUoKVwiKTpuLnRleEltYWdlMkQoMzQwNjkrbSxfLGIsTS53aWR0aCxNLmhlaWdodCwwLHkseCxNLmRhdGEpfX1vLl9fbWF4TWlwTGV2ZWw9dy5sZW5ndGgtMX1lbHNle3c9dC5taXBtYXBzO2Zvcih2YXIgbT0wO208NjttKyspaWYoaCl7bi50ZXhJbWFnZTJEKDM0MDY5K20sMCxiLGZbbV0ud2lkdGgsZlttXS5oZWlnaHQsMCx5LHgsZlttXS5kYXRhKTtmb3IodmFyIF89MDtfPHcubGVuZ3RoO18rKyl7dmFyIE09d1tfXSxTPU0uaW1hZ2VbbV0uaW1hZ2U7bi50ZXhJbWFnZTJEKDM0MDY5K20sXysxLGIsUy53aWR0aCxTLmhlaWdodCwwLHkseCxTLmRhdGEpfX1lbHNle24udGV4SW1hZ2UyRCgzNDA2OSttLDAsYix5LHgsZlttXSk7Zm9yKHZhciBfPTA7Xzx3Lmxlbmd0aDtfKyspe3ZhciBNPXdbX107bi50ZXhJbWFnZTJEKDM0MDY5K20sXysxLGIseSx4LE0uaW1hZ2VbbV0pfX1vLl9fbWF4TWlwTGV2ZWw9dy5sZW5ndGh9dSh0LGcpJiZwKDM0MDY3LHQsdi53aWR0aCx2LmhlaWdodCksby5fX3ZlcnNpb249dC52ZXJzaW9uLHQub25VcGRhdGUmJnQub25VcGRhdGUodCl9ZWxzZSBuLmFjdGl2ZVRleHR1cmUoMzM5ODQraSksbi5iaW5kVGV4dHVyZSgzNDA2NyxvLl9fd2ViZ2xUZXh0dXJlKX19ZnVuY3Rpb24gVChlLHQpe24uYWN0aXZlVGV4dHVyZSgzMzk4NCt0KSxuLmJpbmRUZXh0dXJlKDM0MDY3LHIuZ2V0KGUpLl9fd2ViZ2xUZXh0dXJlKX1mdW5jdGlvbiBFKG4sYSxvKXtvPyhlLnRleFBhcmFtZXRlcmkobiwxMDI0MixaW2Eud3JhcFNdKSxlLnRleFBhcmFtZXRlcmkobiwxMDI0MyxaW2Eud3JhcFRdKSwzMjg3OSE9PW4mJjM1ODY2IT09bnx8ZS50ZXhQYXJhbWV0ZXJpKG4sMzI4ODIsWlthLndyYXBSXSksZS50ZXhQYXJhbWV0ZXJpKG4sMTAyNDAsSlthLm1hZ0ZpbHRlcl0pLGUudGV4UGFyYW1ldGVyaShuLDEwMjQxLEpbYS5taW5GaWx0ZXJdKSk6KGUudGV4UGFyYW1ldGVyaShuLDEwMjQyLDMzMDcxKSxlLnRleFBhcmFtZXRlcmkobiwxMDI0MywzMzA3MSksMzI4NzkhPT1uJiYzNTg2NiE9PW58fGUudGV4UGFyYW1ldGVyaShuLDMyODgyLDMzMDcxKSxhLndyYXBTPT09cXMmJmEud3JhcFQ9PT1xc3x8Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBpcyBub3QgcG93ZXIgb2YgdHdvLiBUZXh0dXJlLndyYXBTIGFuZCBUZXh0dXJlLndyYXBUIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZy5cIiksZS50ZXhQYXJhbWV0ZXJpKG4sMTAyNDAsZihhLm1hZ0ZpbHRlcikpLGUudGV4UGFyYW1ldGVyaShuLDEwMjQxLGYoYS5taW5GaWx0ZXIpKSxhLm1pbkZpbHRlciE9PVlzJiZhLm1pbkZpbHRlciE9PVFzJiZjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUubWluRmlsdGVyIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuTmVhcmVzdEZpbHRlciBvciBUSFJFRS5MaW5lYXJGaWx0ZXIuXCIpKTt2YXIgcz10LmdldChcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtpZihzKXtpZihhLnR5cGU9PT1vYyYmbnVsbD09PXQuZ2V0KFwiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyXCIpKXJldHVybjtpZihhLnR5cGU9PT1zYyYmbnVsbD09PShIfHx0LmdldChcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpKSlyZXR1cm47KGEuYW5pc290cm9weT4xfHxyLmdldChhKS5fX2N1cnJlbnRBbmlzb3Ryb3B5KSYmKGUudGV4UGFyYW1ldGVyZihuLHMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4oYS5hbmlzb3Ryb3B5LGkuZ2V0TWF4QW5pc290cm9weSgpKSksci5nZXQoYSkuX19jdXJyZW50QW5pc290cm9weT1hLmFuaXNvdHJvcHkpfX1mdW5jdGlvbiBBKHQsbil7dm9pZCAwPT09dC5fX3dlYmdsSW5pdCYmKHQuX193ZWJnbEluaXQ9ITAsbi5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLG0pLHQuX193ZWJnbFRleHR1cmU9ZS5jcmVhdGVUZXh0dXJlKCksby5tZW1vcnkudGV4dHVyZXMrKyl9ZnVuY3Rpb24gTCh0LHIsaSl7dmFyIG89MzU1MztyLmlzRGF0YVRleHR1cmUyREFycmF5JiYobz0zNTg2Niksci5pc0RhdGFUZXh0dXJlM0QmJihvPTMyODc5KSxBKHQsciksbi5hY3RpdmVUZXh0dXJlKDMzOTg0K2kpLG4uYmluZFRleHR1cmUobyx0Ll9fd2ViZ2xUZXh0dXJlKSxlLnBpeGVsU3RvcmVpKDM3NDQwLHIuZmxpcFkpLGUucGl4ZWxTdG9yZWkoMzc0NDEsci5wcmVtdWx0aXBseUFscGhhKSxlLnBpeGVsU3RvcmVpKDMzMTcsci51bnBhY2tBbGlnbm1lbnQpO3ZhciBzPWgocikmJiExPT09bChyLmltYWdlKSxmPWMoci5pbWFnZSxzLCExLGspLG09bChmKXx8SCx2PWEuY29udmVydChyLmZvcm1hdCksZz1hLmNvbnZlcnQoci50eXBlKSx5PWQodixnKTtFKG8scixtKTt2YXIgeCxiPXIubWlwbWFwcztpZihyLmlzRGVwdGhUZXh0dXJlKXtpZih5PTY0MDIsci50eXBlPT09b2Mpe2lmKCExPT09SCl0aHJvdyBuZXcgRXJyb3IoXCJGbG9hdCBEZXB0aCBUZXh0dXJlIG9ubHkgc3VwcG9ydGVkIGluIFdlYkdMMi4wXCIpO3k9MzYwMTJ9ZWxzZSBIJiYoeT0zMzE4OSk7ci5mb3JtYXQ9PT15YyYmNjQwMj09PXkmJnIudHlwZSE9PXJjJiZyLnR5cGUhPT1hYyYmKGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZFNob3J0VHlwZSBvciBVbnNpZ25lZEludFR5cGUgZm9yIERlcHRoRm9ybWF0IERlcHRoVGV4dHVyZS5cIiksci50eXBlPXJjLGc9YS5jb252ZXJ0KHIudHlwZSkpLHIuZm9ybWF0PT09eGMmJih5PTM0MDQxLHIudHlwZSE9PXVjJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVXNlIFVuc2lnbmVkSW50MjQ4VHlwZSBmb3IgRGVwdGhTdGVuY2lsRm9ybWF0IERlcHRoVGV4dHVyZS5cIiksci50eXBlPXVjLGc9YS5jb252ZXJ0KHIudHlwZSkpKSxuLnRleEltYWdlMkQoMzU1MywwLHksZi53aWR0aCxmLmhlaWdodCwwLHYsZyxudWxsKX1lbHNlIGlmKHIuaXNEYXRhVGV4dHVyZSlpZihiLmxlbmd0aD4wJiZtKXtmb3IodmFyIHc9MCxfPWIubGVuZ3RoO3c8Xzt3KyspeD1iW3ddLG4udGV4SW1hZ2UyRCgzNTUzLHcseSx4LndpZHRoLHguaGVpZ2h0LDAsdixnLHguZGF0YSk7ci5nZW5lcmF0ZU1pcG1hcHM9ITEsdC5fX21heE1pcExldmVsPWIubGVuZ3RoLTF9ZWxzZSBuLnRleEltYWdlMkQoMzU1MywwLHksZi53aWR0aCxmLmhlaWdodCwwLHYsZyxmLmRhdGEpLHQuX19tYXhNaXBMZXZlbD0wO2Vsc2UgaWYoci5pc0NvbXByZXNzZWRUZXh0dXJlKXtmb3IodmFyIHc9MCxfPWIubGVuZ3RoO3c8Xzt3KyspeD1iW3ddLHIuZm9ybWF0IT09ZmMmJnIuZm9ybWF0IT09ZGM/bnVsbCE9PXY/bi5jb21wcmVzc2VkVGV4SW1hZ2UyRCgzNTUzLHcseSx4LndpZHRoLHguaGVpZ2h0LDAseC5kYXRhKTpjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAudXBsb2FkVGV4dHVyZSgpXCIpOm4udGV4SW1hZ2UyRCgzNTUzLHcseSx4LndpZHRoLHguaGVpZ2h0LDAsdixnLHguZGF0YSk7dC5fX21heE1pcExldmVsPWIubGVuZ3RoLTF9ZWxzZSBpZihyLmlzRGF0YVRleHR1cmUyREFycmF5KW4udGV4SW1hZ2UzRCgzNTg2NiwwLHksZi53aWR0aCxmLmhlaWdodCxmLmRlcHRoLDAsdixnLGYuZGF0YSksdC5fX21heE1pcExldmVsPTA7ZWxzZSBpZihyLmlzRGF0YVRleHR1cmUzRCluLnRleEltYWdlM0QoMzI4NzksMCx5LGYud2lkdGgsZi5oZWlnaHQsZi5kZXB0aCwwLHYsZyxmLmRhdGEpLHQuX19tYXhNaXBMZXZlbD0wO2Vsc2UgaWYoYi5sZW5ndGg+MCYmbSl7Zm9yKHZhciB3PTAsXz1iLmxlbmd0aDt3PF87dysrKXg9Ylt3XSxuLnRleEltYWdlMkQoMzU1Myx3LHksdixnLHgpO3IuZ2VuZXJhdGVNaXBtYXBzPSExLHQuX19tYXhNaXBMZXZlbD1iLmxlbmd0aC0xfWVsc2Ugbi50ZXhJbWFnZTJEKDM1NTMsMCx5LHYsZyxmKSx0Ll9fbWF4TWlwTGV2ZWw9MDt1KHIsbSkmJnAoMzU1MyxyLGYud2lkdGgsZi5oZWlnaHQpLHQuX192ZXJzaW9uPXIudmVyc2lvbixyLm9uVXBkYXRlJiZyLm9uVXBkYXRlKHIpfWZ1bmN0aW9uIFIodCxpLG8scyl7dmFyIGM9YS5jb252ZXJ0KGkudGV4dHVyZS5mb3JtYXQpLGw9YS5jb252ZXJ0KGkudGV4dHVyZS50eXBlKSxoPWQoYyxsKTtuLnRleEltYWdlMkQocywwLGgsaS53aWR0aCxpLmhlaWdodCwwLGMsbCxudWxsKSxlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0KSxlLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLG8scyxyLmdldChpLnRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLDApLGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIFAodCxuLHIpe2lmKGUuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSx0KSxuLmRlcHRoQnVmZmVyJiYhbi5zdGVuY2lsQnVmZmVyKXtpZihyKXt2YXIgaT16KG4pO2UucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLGksMzMxODksbi53aWR0aCxuLmhlaWdodCl9ZWxzZSBlLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoMzYxNjEsMzMxODksbi53aWR0aCxuLmhlaWdodCk7ZS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA5NiwzNjE2MSx0KX1lbHNlIGlmKG4uZGVwdGhCdWZmZXImJm4uc3RlbmNpbEJ1ZmZlcil7aWYocil7dmFyIGk9eihuKTtlLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxpLDM1MDU2LG4ud2lkdGgsbi5oZWlnaHQpfWVsc2UgZS5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLDM0MDQxLG4ud2lkdGgsbi5oZWlnaHQpO2UuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzMzMDYsMzYxNjEsdCl9ZWxzZXt2YXIgbz1hLmNvbnZlcnQobi50ZXh0dXJlLmZvcm1hdCkscz1hLmNvbnZlcnQobi50ZXh0dXJlLnR5cGUpLGM9ZChvLHMpO2lmKHIpe3ZhciBpPXoobik7ZS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsaSxjLG4ud2lkdGgsbi5oZWlnaHQpfWVsc2UgZS5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLGMsbi53aWR0aCxuLmhlaWdodCl9ZS5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLG51bGwpfWZ1bmN0aW9uIEModCxuKXtpZihuJiZuLmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlKXRocm93IG5ldyBFcnJvcihcIkRlcHRoIFRleHR1cmUgd2l0aCBjdWJlIHJlbmRlciB0YXJnZXRzIGlzIG5vdCBzdXBwb3J0ZWRcIik7aWYoZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdCksIW4uZGVwdGhUZXh0dXJlfHwhbi5kZXB0aFRleHR1cmUuaXNEZXB0aFRleHR1cmUpdGhyb3cgbmV3IEVycm9yKFwicmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZVwiKTtyLmdldChuLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmUmJm4uZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPT09bi53aWR0aCYmbi5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PT09bi5oZWlnaHR8fChuLmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aD1uLndpZHRoLG4uZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodD1uLmhlaWdodCxuLmRlcHRoVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMCksdyhuLmRlcHRoVGV4dHVyZSwwKTt2YXIgaT1yLmdldChuLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmU7aWYobi5kZXB0aFRleHR1cmUuZm9ybWF0PT09eWMpZS5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwzNjA5NiwzNTUzLGksMCk7ZWxzZXtpZihuLmRlcHRoVGV4dHVyZS5mb3JtYXQhPT14Yyl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRlcHRoVGV4dHVyZSBmb3JtYXRcIik7ZS5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwzMzMwNiwzNTUzLGksMCl9fWZ1bmN0aW9uIE8odCl7dmFyIG49ci5nZXQodCksaT0hMD09PXQuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU7aWYodC5kZXB0aFRleHR1cmUpe2lmKGkpdGhyb3cgbmV3IEVycm9yKFwidGFyZ2V0LmRlcHRoVGV4dHVyZSBub3Qgc3VwcG9ydGVkIGluIEN1YmUgcmVuZGVyIHRhcmdldHNcIik7QyhuLl9fd2ViZ2xGcmFtZWJ1ZmZlcix0KX1lbHNlIGlmKGkpe24uX193ZWJnbERlcHRoYnVmZmVyPVtdO2Zvcih2YXIgYT0wO2E8NjthKyspZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbi5fX3dlYmdsRnJhbWVidWZmZXJbYV0pLG4uX193ZWJnbERlcHRoYnVmZmVyW2FdPWUuY3JlYXRlUmVuZGVyYnVmZmVyKCksUChuLl9fd2ViZ2xEZXB0aGJ1ZmZlclthXSx0KX1lbHNlIGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG4uX193ZWJnbEZyYW1lYnVmZmVyKSxuLl9fd2ViZ2xEZXB0aGJ1ZmZlcj1lLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFAobi5fX3dlYmdsRGVwdGhidWZmZXIsdCk7ZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCl9ZnVuY3Rpb24gRChpKXt2YXIgcz1yLmdldChpKSxjPXIuZ2V0KGkudGV4dHVyZSk7aS5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLHYpLGMuX193ZWJnbFRleHR1cmU9ZS5jcmVhdGVUZXh0dXJlKCksby5tZW1vcnkudGV4dHVyZXMrKzt2YXIgaD0hMD09PWkuaXNXZWJHTFJlbmRlclRhcmdldEN1YmUsZj0hMD09PWkuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0LG09ITA9PT1pLmlzV2ViR0xNdWx0aXZpZXdSZW5kZXJUYXJnZXQsZz1sKGkpfHxIO2lmKGgpe3MuX193ZWJnbEZyYW1lYnVmZmVyPVtdO2Zvcih2YXIgeT0wO3k8Njt5Kyspcy5fX3dlYmdsRnJhbWVidWZmZXJbeV09ZS5jcmVhdGVGcmFtZWJ1ZmZlcigpfWVsc2UgaWYocy5fX3dlYmdsRnJhbWVidWZmZXI9ZS5jcmVhdGVGcmFtZWJ1ZmZlcigpLGYpaWYoSCl7cy5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI9ZS5jcmVhdGVGcmFtZWJ1ZmZlcigpLHMuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPWUuY3JlYXRlUmVuZGVyYnVmZmVyKCksZS5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLHMuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKTt2YXIgeD1hLmNvbnZlcnQoaS50ZXh0dXJlLmZvcm1hdCksYj1hLmNvbnZlcnQoaS50ZXh0dXJlLnR5cGUpLHc9ZCh4LGIpLF89eihpKTtlLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxfLHcsaS53aWR0aCxpLmhlaWdodCksZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAscy5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpLGUuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzYwNjQsMzYxNjEscy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLGUuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxudWxsKSxpLmRlcHRoQnVmZmVyJiYocy5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXI9ZS5jcmVhdGVSZW5kZXJidWZmZXIoKSxQKHMuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyLGksITApKSxlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1lbHNlIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi5cIik7ZWxzZSBpZihtKXt2YXIgTT1pLndpZHRoLFM9aS5oZWlnaHQsVD1pLm51bVZpZXdzO2UuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHMuX193ZWJnbEZyYW1lYnVmZmVyKTt2YXIgQT10LmdldChcIk9WUl9tdWx0aXZpZXcyXCIpO28ubWVtb3J5LnRleHR1cmVzKz0yO3ZhciBMPWUuY3JlYXRlVGV4dHVyZSgpO2UuYmluZFRleHR1cmUoMzU4NjYsTCksZS50ZXhQYXJhbWV0ZXJpKDM1ODY2LDEwMjQwLDk3MjgpLGUudGV4UGFyYW1ldGVyaSgzNTg2NiwxMDI0MSw5NzI4KSxlLnRleEltYWdlM0QoMzU4NjYsMCwzMjg1NixNLFMsVCwwLDY0MDgsNTEyMSxudWxsKSxBLmZyYW1lYnVmZmVyVGV4dHVyZU11bHRpdmlld09WUigzNjE2MCwzNjA2NCxMLDAsMCxUKTt2YXIgQz1lLmNyZWF0ZVRleHR1cmUoKTtlLmJpbmRUZXh0dXJlKDM1ODY2LEMpLGUudGV4UGFyYW1ldGVyaSgzNTg2NiwxMDI0MCw5NzI4KSxlLnRleFBhcmFtZXRlcmkoMzU4NjYsMTAyNDEsOTcyOCksZS50ZXhJbWFnZTNEKDM1ODY2LDAsMzUwNTYsTSxTLFQsMCwzNDA0MSwzNDA0MixudWxsKSxBLmZyYW1lYnVmZmVyVGV4dHVyZU11bHRpdmlld09WUigzNjE2MCwzMzMwNixDLDAsMCxUKTtmb3IodmFyIEQ9bmV3IEFycmF5KFQpLHk9MDt5PFQ7Kyt5KURbeV09ZS5jcmVhdGVGcmFtZWJ1ZmZlcigpLGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLERbeV0pLGUuZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoMzYxNjAsMzYwNjQsTCwwLHkpO3MuX193ZWJnbENvbG9yVGV4dHVyZT1MLHMuX193ZWJnbERlcHRoU3RlbmNpbFRleHR1cmU9QyxzLl9fd2ViZ2xWaWV3RnJhbWVidWZmZXJzPUQsZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCksZS5iaW5kVGV4dHVyZSgzNTg2NixudWxsKX1pZihoKXtuLmJpbmRUZXh0dXJlKDM0MDY3LGMuX193ZWJnbFRleHR1cmUpLEUoMzQwNjcsaS50ZXh0dXJlLGcpO2Zvcih2YXIgeT0wO3k8Njt5KyspUihzLl9fd2ViZ2xGcmFtZWJ1ZmZlclt5XSxpLDM2MDY0LDM0MDY5K3kpO3UoaS50ZXh0dXJlLGcpJiZwKDM0MDY3LGkudGV4dHVyZSxpLndpZHRoLGkuaGVpZ2h0KSxuLmJpbmRUZXh0dXJlKDM0MDY3LG51bGwpfWVsc2UgbXx8KG4uYmluZFRleHR1cmUoMzU1MyxjLl9fd2ViZ2xUZXh0dXJlKSxFKDM1NTMsaS50ZXh0dXJlLGcpLFIocy5fX3dlYmdsRnJhbWVidWZmZXIsaSwzNjA2NCwzNTUzKSx1KGkudGV4dHVyZSxnKSYmcCgzNTUzLGkudGV4dHVyZSxpLndpZHRoLGkuaGVpZ2h0KSxuLmJpbmRUZXh0dXJlKDM1NTMsbnVsbCkpO2kuZGVwdGhCdWZmZXImJk8oaSl9ZnVuY3Rpb24gSShlKXt2YXIgdD1lLnRleHR1cmU7aWYodSh0LGwoZSl8fEgpKXt2YXIgaT1lLmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlPzM0MDY3OjM1NTMsYT1yLmdldCh0KS5fX3dlYmdsVGV4dHVyZTtuLmJpbmRUZXh0dXJlKGksYSkscChpLHQsZS53aWR0aCxlLmhlaWdodCksbi5iaW5kVGV4dHVyZShpLG51bGwpfX1mdW5jdGlvbiBOKHQpe2lmKHQuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KWlmKEgpe3ZhciBuPXIuZ2V0KHQpO2UuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG4uX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKSxlLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOSxuLl9fd2ViZ2xGcmFtZWJ1ZmZlcik7dmFyIGk9dC53aWR0aCxhPXQuaGVpZ2h0LG89MTYzODQ7dC5kZXB0aEJ1ZmZlciYmKG98PTI1NiksdC5zdGVuY2lsQnVmZmVyJiYob3w9MTAyNCksZS5ibGl0RnJhbWVidWZmZXIoMCwwLGksYSwwLDAsaSxhLG8sOTcyOCl9ZWxzZSBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBXZWJHTDIuXCIpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIEgmJmUuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0P01hdGgubWluKFcsZS5zYW1wbGVzKTowfWZ1bmN0aW9uIEIoZSl7dmFyIHQ9by5yZW5kZXIuZnJhbWU7cS5nZXQoZSkhPT10JiYocS5zZXQoZSx0KSxlLnVwZGF0ZSgpKX1mdW5jdGlvbiBVKGUsdCl7ZSYmZS5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYoITE9PT1RJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xUZXh0dXJlcy5zYWZlU2V0VGV4dHVyZTJEOiBkb24ndCB1c2UgcmVuZGVyIHRhcmdldHMgYXMgdGV4dHVyZXMuIFVzZSB0aGVpciAudGV4dHVyZSBwcm9wZXJ0eSBpbnN0ZWFkLlwiKSxRPSEwKSxlPWUudGV4dHVyZSksdyhlLHQpfWZ1bmN0aW9uIEYoZSx0KXtlJiZlLmlzV2ViR0xSZW5kZXJUYXJnZXRDdWJlJiYoITE9PT1LJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xUZXh0dXJlcy5zYWZlU2V0VGV4dHVyZUN1YmU6IGRvbid0IHVzZSBjdWJlIHJlbmRlciB0YXJnZXRzIGFzIHRleHR1cmVzLiBVc2UgdGhlaXIgLnRleHR1cmUgcHJvcGVydHkgaW5zdGVhZC5cIiksSz0hMCksZT1lLnRleHR1cmUpLGUmJmUuaXNDdWJlVGV4dHVyZXx8QXJyYXkuaXNBcnJheShlLmltYWdlKSYmNj09PWUuaW1hZ2UubGVuZ3RoP1MoZSx0KTpUKGUsdCl9dmFyIEcsSD1pLmlzV2ViR0wyLFY9aS5tYXhUZXh0dXJlcyxqPWkubWF4Q3ViZW1hcFNpemUsaz1pLm1heFRleHR1cmVTaXplLFc9aS5tYXhTYW1wbGVzLHE9bmV3IFdlYWtNYXAsWD0hMTt0cnl7WD1cInVuZGVmaW5lZFwiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZudWxsIT09bmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoXCIyZFwiKX1jYXRjaChlKXt9dmFyIFk9MCxaPXt9O1pbV3NdPTEwNDk3LFpbcXNdPTMzMDcxLFpbWHNdPTMzNjQ4O3ZhciBKPXt9O0pbWXNdPTk3MjgsSltac109OTk4NCxKW0pzXT05OTg2LEpbUXNdPTk3MjksSltLc109OTk4NSxKWyRzXT05OTg3O3ZhciBRPSExLEs9ITE7dGhpcy5hbGxvY2F0ZVRleHR1cmVVbml0PWIsdGhpcy5yZXNldFRleHR1cmVVbml0cz14LHRoaXMuc2V0VGV4dHVyZTJEPXcsdGhpcy5zZXRUZXh0dXJlMkRBcnJheT1fLHRoaXMuc2V0VGV4dHVyZTNEPU0sdGhpcy5zZXRUZXh0dXJlQ3ViZT1TLHRoaXMuc2V0VGV4dHVyZUN1YmVEeW5hbWljPVQsdGhpcy5zZXR1cFJlbmRlclRhcmdldD1ELHRoaXMudXBkYXRlUmVuZGVyVGFyZ2V0TWlwbWFwPUksdGhpcy51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldD1OLHRoaXMuc2FmZVNldFRleHR1cmUyRD1VLHRoaXMuc2FmZVNldFRleHR1cmVDdWJlPUZ9ZnVuY3Rpb24ganQoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7dmFyIG47aWYoZT09PWVjKXJldHVybiA1MTIxO2lmKGU9PT1jYylyZXR1cm4gMzI4MTk7aWYoZT09PWxjKXJldHVybiAzMjgyMDtpZihlPT09aGMpcmV0dXJuIDMzNjM1O2lmKGU9PT10YylyZXR1cm4gNTEyMDtpZihlPT09bmMpcmV0dXJuIDUxMjI7aWYoZT09PXJjKXJldHVybiA1MTIzO2lmKGU9PT1pYylyZXR1cm4gNTEyNDtpZihlPT09YWMpcmV0dXJuIDUxMjU7aWYoZT09PW9jKXJldHVybiA1MTI2O2lmKGU9PT1zYylyZXR1cm4gaT81MTMxOihuPXQuZ2V0KFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSxudWxsIT09bj9uLkhBTEZfRkxPQVRfT0VTOm51bGwpO2lmKGU9PT1wYylyZXR1cm4gNjQwNjtpZihlPT09ZGMpcmV0dXJuIDY0MDc7aWYoZT09PWZjKXJldHVybiA2NDA4O2lmKGU9PT1tYylyZXR1cm4gNjQwOTtpZihlPT09dmMpcmV0dXJuIDY0MTA7aWYoZT09PXljKXJldHVybiA2NDAyO2lmKGU9PT14YylyZXR1cm4gMzQwNDE7aWYoZT09PWJjKXJldHVybiA2NDAzO2lmKGU9PT13Y3x8ZT09PV9jfHxlPT09TWN8fGU9PT1TYyl7aWYobnVsbD09PShuPXQuZ2V0KFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIikpKXJldHVybiBudWxsO2lmKGU9PT13YylyZXR1cm4gbi5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUO2lmKGU9PT1fYylyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDtpZihlPT09TWMpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7aWYoZT09PVNjKXJldHVybiBuLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUfWlmKGU9PT1UY3x8ZT09PUVjfHxlPT09QWN8fGU9PT1MYyl7aWYobnVsbD09PShuPXQuZ2V0KFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpKSlyZXR1cm4gbnVsbDtpZihlPT09VGMpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRztpZihlPT09RWMpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRztpZihlPT09QWMpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUc7aWYoZT09PUxjKXJldHVybiBuLkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HfXJldHVybiBlPT09UmM/KG49dC5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMVwiKSxudWxsIT09bj9uLkNPTVBSRVNTRURfUkdCX0VUQzFfV0VCR0w6bnVsbCk6ZT09PVBjfHxlPT09Q2N8fGU9PT1PY3x8ZT09PURjfHxlPT09SWN8fGU9PT1OY3x8ZT09PXpjfHxlPT09QmN8fGU9PT1VY3x8ZT09PUZjfHxlPT09R2N8fGU9PT1IY3x8ZT09PVZjfHxlPT09amM/KG49dC5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0Y1wiKSxudWxsIT09bj9lOm51bGwpOmU9PT11Yz9pPzM0MDQyOihuPXQuZ2V0KFwiV0VCR0xfZGVwdGhfdGV4dHVyZVwiKSxudWxsIT09bj9uLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMOm51bGwpOnZvaWQgMH12YXIgaT1uLmlzV2ViR0wyO3JldHVybntjb252ZXJ0OnJ9fWZ1bmN0aW9uIGt0KGUsdCxuLHIpe2MuY2FsbCh0aGlzLGUsdCxyKSx0aGlzLmRlcHRoQnVmZmVyPSExLHRoaXMuc3RlbmNpbEJ1ZmZlcj0hMSx0aGlzLm51bVZpZXdzPW59ZnVuY3Rpb24gV3QoZSx0KXtmdW5jdGlvbiByKCl7aWYodm9pZCAwPT09dyl7dmFyIGU9TS5nZXQoXCJPVlJfbXVsdGl2aWV3MlwiKTtpZih3PW51bGwhPT1lJiYhMT09PXQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5hbnRpYWxpYXMpe1Q9dC5nZXRQYXJhbWV0ZXIoZS5NQVhfVklFV1NfT1ZSKSxtPW5ldyBrdCgwLDAsXyksYj1uZXcgbix5PVtdLGc9W10seD1bXTtmb3IodmFyIHI9MDtyPFQ7cisrKXlbcl09bmV3IGgsZ1tyXT1uZXcgYX19cmV0dXJuIHd9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5pc0FycmF5Q2FtZXJhP2UuY2FtZXJhczooeFswXT1lLHgpfWZ1bmN0aW9uIG8oZSxuKXtmb3IodmFyIHI9aShlKSxhPTA7YTxyLmxlbmd0aDthKyspeVthXS5jb3B5KHJbYV0ucHJvamVjdGlvbk1hdHJpeCk7bi5zZXRWYWx1ZSh0LFwicHJvamVjdGlvbk1hdHJpY2VzXCIseSl9ZnVuY3Rpb24gcyhlLG4pe2Zvcih2YXIgcj1pKGUpLGE9MDthPHIubGVuZ3RoO2ErKyl5W2FdLmNvcHkoclthXS5tYXRyaXhXb3JsZEludmVyc2UpO24uc2V0VmFsdWUodCxcInZpZXdNYXRyaWNlc1wiLHkpfWZ1bmN0aW9uIGMoZSxuLHIpe2Zvcih2YXIgYT1pKG4pLG89MDtvPGEubGVuZ3RoO28rKyl5W29dLm11bHRpcGx5TWF0cmljZXMoYVtvXS5tYXRyaXhXb3JsZEludmVyc2UsZS5tYXRyaXhXb3JsZCksZ1tvXS5nZXROb3JtYWxNYXRyaXgoeVtvXSk7ci5zZXRWYWx1ZSh0LFwibW9kZWxWaWV3TWF0cmljZXNcIix5KSxyLnNldFZhbHVlKHQsXCJub3JtYWxNYXRyaWNlc1wiLGcpfWZ1bmN0aW9uIGwoZSl7aWYodm9pZCAwPT09ZS5pc0FycmF5Q2FtZXJhKXJldHVybiEwO3ZhciB0PWUuY2FtZXJhcztpZih0Lmxlbmd0aD5UKXJldHVybiExO2Zvcih2YXIgbj0xLHI9dC5sZW5ndGg7bjxyO24rKylpZih0WzBdLnZpZXdwb3J0LnohPT10W25dLnZpZXdwb3J0Lnp8fHRbMF0udmlld3BvcnQudyE9PXRbbl0udmlld3BvcnQudylyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB1KHQpe2lmKHY/Yi5zZXQodi53aWR0aCx2LmhlaWdodCk6ZS5nZXREcmF3aW5nQnVmZmVyU2l6ZShiKSx0LmlzQXJyYXlDYW1lcmEpe3ZhciBuPXQuY2FtZXJhc1swXS52aWV3cG9ydDttLnNldFNpemUobi56LG4udyksbS5zZXROdW1WaWV3cyh0LmNhbWVyYXMubGVuZ3RoKX1lbHNlIG0uc2V0U2l6ZShiLngsYi55KSxtLnNldE51bVZpZXdzKF8pfWZ1bmN0aW9uIHAodCl7ITEhPT1sKHQpJiYodj1lLmdldFJlbmRlclRhcmdldCgpLHUodCksZS5zZXRSZW5kZXJUYXJnZXQobSkpfWZ1bmN0aW9uIGQodCl7bT09PWUuZ2V0UmVuZGVyVGFyZ2V0KCkmJihlLnNldFJlbmRlclRhcmdldCh2KSxmKHQpKX1mdW5jdGlvbiBmKGUpe3ZhciBuPW0scj1uLm51bVZpZXdzLGk9Uy5nZXQobikuX193ZWJnbFZpZXdGcmFtZWJ1ZmZlcnMsYT1uLndpZHRoLG89bi5oZWlnaHQ7aWYoZS5pc0FycmF5Q2FtZXJhKWZvcih2YXIgcz0wO3M8cjtzKyspe3ZhciBjPWUuY2FtZXJhc1tzXS52aWV3cG9ydCxsPWMueCxoPWMueSx1PWwrYy56LHA9aCtjLnc7dC5iaW5kRnJhbWVidWZmZXIoMzYwMDgsaVtzXSksdC5ibGl0RnJhbWVidWZmZXIoMCwwLGEsbyxsLGgsdSxwLDE2Mzg0LDk3MjgpfWVsc2UgdC5iaW5kRnJhbWVidWZmZXIoMzYwMDgsaVswXSksdC5ibGl0RnJhbWVidWZmZXIoMCwwLGEsbywwLDAsYi54LGIueSwxNjM4NCw5NzI4KX12YXIgbSx2LGcseSx4LGIsdyxfPTIsTT1lLmV4dGVuc2lvbnMsUz1lLnByb3BlcnRpZXMsVD0wO3RoaXMuaXNBdmFpbGFibGU9cix0aGlzLmF0dGFjaENhbWVyYT1wLHRoaXMuZGV0YWNoQ2FtZXJhPWQsdGhpcy51cGRhdGVDYW1lcmFQcm9qZWN0aW9uTWF0cmljZXNVbmlmb3JtPW8sdGhpcy51cGRhdGVDYW1lcmFWaWV3TWF0cmljZXNVbmlmb3JtPXMsdGhpcy51cGRhdGVPYmplY3RNYXRyaWNlc1VuaWZvcm1zPWN9ZnVuY3Rpb24gcXQoKXtkLmNhbGwodGhpcyksdGhpcy50eXBlPVwiR3JvdXBcIn1mdW5jdGlvbiBYdChlKXtaLmNhbGwodGhpcyksdGhpcy5jYW1lcmFzPWV8fFtdfWZ1bmN0aW9uIFl0KGUsdCxuKXtUdS5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksRXUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG4ubWF0cml4V29ybGQpO3ZhciByPVR1LmRpc3RhbmNlVG8oRXUpLGk9dC5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzLGE9bi5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzLG89aVsxNF0vKGlbMTBdLTEpLHM9aVsxNF0vKGlbMTBdKzEpLGM9KGlbOV0rMSkvaVs1XSxsPShpWzldLTEpL2lbNV0saD0oaVs4XS0xKS9pWzBdLHU9KGFbOF0rMSkvYVswXSxwPW8qaCxkPW8qdSxmPXIvKC1oK3UpLG09ZiotaDt0Lm1hdHJpeFdvcmxkLmRlY29tcG9zZShlLnBvc2l0aW9uLGUucXVhdGVybmlvbixlLnNjYWxlKSxlLnRyYW5zbGF0ZVgobSksZS50cmFuc2xhdGVaKGYpLGUubWF0cml4V29ybGQuY29tcG9zZShlLnBvc2l0aW9uLGUucXVhdGVybmlvbixlLnNjYWxlKSxlLm1hdHJpeFdvcmxkSW52ZXJzZS5nZXRJbnZlcnNlKGUubWF0cml4V29ybGQpO3ZhciB2PW8rZixnPXMrZix5PXAtbSx4PWQrKHItbSksYj1jKnMvZyp2LHc9bCpzL2cqdjtlLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKHkseCxiLHcsdixnKX1mdW5jdGlvbiBadChlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1mJiYhMD09PWYuaXNQcmVzZW50aW5nfWZ1bmN0aW9uIGEoKXtpZih0KCkpe3ZhciBuPWYuZ2V0RXllUGFyYW1ldGVycyhcImxlZnRcIik7dT0yKm4ucmVuZGVyV2lkdGgqYixwPW4ucmVuZGVySGVpZ2h0KmIsTD1lLmdldFBpeGVsUmF0aW8oKSxlLmdldFNpemUoUiksZS5zZXREcmF3aW5nQnVmZmVyU2l6ZSh1LHAsMSksVC52aWV3cG9ydC5zZXQoMCwwLHUvMixwKSxFLnZpZXdwb3J0LnNldCh1LzIsMCx1LzIscCksTy5zdGFydCgpLGQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInNlc3Npb25zdGFydFwifSl9ZWxzZSBkLmVuYWJsZWQmJmUuc2V0RHJhd2luZ0J1ZmZlclNpemUoUi53aWR0aCxSLmhlaWdodCxMKSxPLnN0b3AoKSxkLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzZXNzaW9uZW5kXCJ9KX1mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMmJm5hdmlnYXRvci5nZXRHYW1lcGFkcygpLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBpPXRbbl07aWYoaSYmKFwiRGF5ZHJlYW0gQ29udHJvbGxlclwiPT09aS5pZHx8XCJHZWFyIFZSIENvbnRyb2xsZXJcIj09PWkuaWR8fFwiT2N1bHVzIEdvIENvbnRyb2xsZXJcIj09PWkuaWR8fFwiT3BlblZSIEdhbWVwYWRcIj09PWkuaWR8fGkuaWQuc3RhcnRzV2l0aChcIk9jdWx1cyBUb3VjaFwiKXx8aS5pZC5zdGFydHNXaXRoKFwiSFRDIFZpdmUgRm9jdXNcIil8fGkuaWQuc3RhcnRzV2l0aChcIlNwYXRpYWwgQ29udHJvbGxlclwiKSkpe3ZhciBhPWkuaGFuZDtpZigwPT09ZSYmKFwiXCI9PT1hfHxcInJpZ2h0XCI9PT1hKSlyZXR1cm4gaTtpZigxPT09ZSYmXCJsZWZ0XCI9PT1hKXJldHVybiBpfX19ZnVuY3Rpb24gYygpe2Zvcih2YXIgZT0wO2U8Zy5sZW5ndGg7ZSsrKXt2YXIgdD1nW2VdLG49byhlKTtpZih2b2lkIDAhPT1uJiZ2b2lkIDAhPT1uLnBvc2Upe2lmKG51bGw9PT1uLnBvc2UpcmV0dXJuO3ZhciByPW4ucG9zZTshMT09PXIuaGFzUG9zaXRpb24mJnQucG9zaXRpb24uc2V0KC4yLC0uNiwtLjA1KSxudWxsIT09ci5wb3NpdGlvbiYmdC5wb3NpdGlvbi5mcm9tQXJyYXkoci5wb3NpdGlvbiksbnVsbCE9PXIub3JpZW50YXRpb24mJnQucXVhdGVybmlvbi5mcm9tQXJyYXkoci5vcmllbnRhdGlvbiksdC5tYXRyaXguY29tcG9zZSh0LnBvc2l0aW9uLHQucXVhdGVybmlvbix0LnNjYWxlKSx0Lm1hdHJpeC5wcmVtdWx0aXBseSh5KSx0Lm1hdHJpeC5kZWNvbXBvc2UodC5wb3NpdGlvbix0LnF1YXRlcm5pb24sdC5zY2FsZSksdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwLHQudmlzaWJsZT0hMDt2YXIgaT1cIkRheWRyZWFtIENvbnRyb2xsZXJcIj09PW4uaWQ/MDoxO3ZvaWQgMD09PVBbZV0mJihQW2VdPSExKSxQW2VdIT09bi5idXR0b25zW2ldLnByZXNzZWQmJihQW2VdPW4uYnV0dG9uc1tpXS5wcmVzc2VkLCEwPT09UFtlXT90LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzZWxlY3RzdGFydFwifSk6KHQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInNlbGVjdGVuZFwifSksdC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic2VsZWN0XCJ9KSkpLGk9Mix2b2lkIDA9PT1DW2VdJiYoQ1tlXT0hMSksdm9pZCAwIT09bi5idXR0b25zW2ldJiZDW2VdIT09bi5idXR0b25zW2ldLnByZXNzZWQmJihDW2VdPW4uYnV0dG9uc1tpXS5wcmVzc2VkLCEwPT09Q1tlXT90LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzcXVlZXplc3RhcnRcIn0pOih0LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzcXVlZXplZW5kXCJ9KSx0LmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzcXVlZXplXCJ9KSkpfWVsc2UgdC52aXNpYmxlPSExfX1mdW5jdGlvbiBsKGUsdCl7bnVsbCE9PXQmJjQ9PT10Lmxlbmd0aCYmZS5zZXQodFswXSp1LHRbMV0qcCx0WzJdKnUsdFszXSpwKX12YXIgdSxwLGQ9dGhpcyxmPW51bGwsbT1udWxsLHY9bnVsbCxnPVtdLHk9bmV3IGgseD1uZXcgaCxiPTEsdz1cImxvY2FsLWZsb29yXCI7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJWUkZyYW1lRGF0YVwiaW4gd2luZG93JiYobT1uZXcgd2luZG93LlZSRnJhbWVEYXRhLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5cHJlc2VudGNoYW5nZVwiLGEsITEpKTt2YXIgXz1uZXcgaCxNPW5ldyByLFM9bmV3IGksVD1uZXcgWjtULnZpZXdwb3J0PW5ldyBzLFQubGF5ZXJzLmVuYWJsZSgxKTt2YXIgRT1uZXcgWjtFLnZpZXdwb3J0PW5ldyBzLEUubGF5ZXJzLmVuYWJsZSgyKTt2YXIgQT1uZXcgWHQoW1QsRV0pO0EubGF5ZXJzLmVuYWJsZSgxKSxBLmxheWVycy5lbmFibGUoMik7dmFyIEwsUj1uZXcgbixQPVtdLEM9W107dGhpcy5lbmFibGVkPSExLHRoaXMuZ2V0Q29udHJvbGxlcj1mdW5jdGlvbihlKXt2YXIgdD1nW2VdO3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgcXQsdC5tYXRyaXhBdXRvVXBkYXRlPSExLHQudmlzaWJsZT0hMSxnW2VdPXQpLHR9LHRoaXMuZ2V0RGV2aWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ9LHRoaXMuc2V0RGV2aWNlPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJihmPWUpLE8uc2V0Q29udGV4dChlKX0sdGhpcy5zZXRGcmFtZWJ1ZmZlclNjYWxlRmFjdG9yPWZ1bmN0aW9uKGUpe2I9ZX0sdGhpcy5zZXRSZWZlcmVuY2VTcGFjZVR5cGU9ZnVuY3Rpb24oZSl7dz1lfSx0aGlzLnNldFBvc2VUYXJnZXQ9ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmKHY9ZSl9LHRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKGUpe3ZhciB0PVwibG9jYWwtZmxvb3JcIj09PXc/MS42OjA7aWYoZi5kZXB0aE5lYXI9ZS5uZWFyLGYuZGVwdGhGYXI9ZS5mYXIsZi5nZXRGcmFtZURhdGEobSksXCJsb2NhbC1mbG9vclwiPT09dyl7dmFyIG49Zi5zdGFnZVBhcmFtZXRlcnM7bj95LmZyb21BcnJheShuLnNpdHRpbmdUb1N0YW5kaW5nVHJhbnNmb3JtKTp5Lm1ha2VUcmFuc2xhdGlvbigwLHQsMCl9dmFyIHI9bS5wb3NlLGk9bnVsbCE9PXY/djplO2kubWF0cml4LmNvcHkoeSksaS5tYXRyaXguZGVjb21wb3NlKGkucG9zaXRpb24saS5xdWF0ZXJuaW9uLGkuc2NhbGUpLG51bGwhPT1yLm9yaWVudGF0aW9uJiYoTS5mcm9tQXJyYXkoci5vcmllbnRhdGlvbiksaS5xdWF0ZXJuaW9uLm11bHRpcGx5KE0pKSxudWxsIT09ci5wb3NpdGlvbiYmKE0uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHkpLFMuZnJvbUFycmF5KHIucG9zaXRpb24pLFMuYXBwbHlRdWF0ZXJuaW9uKE0pLGkucG9zaXRpb24uYWRkKFMpKSxpLnVwZGF0ZU1hdHJpeFdvcmxkKCk7Zm9yKHZhciBhPWkuY2hpbGRyZW4sbz0wLHM9YS5sZW5ndGg7bzxzO28rKylhW29dLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTtULm5lYXI9ZS5uZWFyLEUubmVhcj1lLm5lYXIsVC5mYXI9ZS5mYXIsRS5mYXI9ZS5mYXIsVC5tYXRyaXhXb3JsZEludmVyc2UuZnJvbUFycmF5KG0ubGVmdFZpZXdNYXRyaXgpLEUubWF0cml4V29ybGRJbnZlcnNlLmZyb21BcnJheShtLnJpZ2h0Vmlld01hdHJpeCkseC5nZXRJbnZlcnNlKHkpLFwibG9jYWwtZmxvb3JcIj09PXcmJihULm1hdHJpeFdvcmxkSW52ZXJzZS5tdWx0aXBseSh4KSxFLm1hdHJpeFdvcmxkSW52ZXJzZS5tdWx0aXBseSh4KSk7dmFyIGg9aS5wYXJlbnQ7bnVsbCE9PWgmJihfLmdldEludmVyc2UoaC5tYXRyaXhXb3JsZCksVC5tYXRyaXhXb3JsZEludmVyc2UubXVsdGlwbHkoXyksRS5tYXRyaXhXb3JsZEludmVyc2UubXVsdGlwbHkoXykpLFQubWF0cml4V29ybGQuZ2V0SW52ZXJzZShULm1hdHJpeFdvcmxkSW52ZXJzZSksRS5tYXRyaXhXb3JsZC5nZXRJbnZlcnNlKEUubWF0cml4V29ybGRJbnZlcnNlKSxULnByb2plY3Rpb25NYXRyaXguZnJvbUFycmF5KG0ubGVmdFByb2plY3Rpb25NYXRyaXgpLEUucHJvamVjdGlvbk1hdHJpeC5mcm9tQXJyYXkobS5yaWdodFByb2plY3Rpb25NYXRyaXgpLFl0KEEsVCxFKTt2YXIgdT1mLmdldExheWVycygpO2lmKHUubGVuZ3RoKXt2YXIgcD11WzBdO2woVC52aWV3cG9ydCxwLmxlZnRCb3VuZHMpLGwoRS52aWV3cG9ydCxwLnJpZ2h0Qm91bmRzKX1yZXR1cm4gYygpLEF9LHRoaXMuZ2V0U3RhbmRpbmdNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4geX0sdGhpcy5pc1ByZXNlbnRpbmc9dDt2YXIgTz1uZXcgZWU7dGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKGUpe08uc2V0QW5pbWF0aW9uTG9vcChlKSx0KCkmJk8uc3RhcnQoKX0sdGhpcy5zdWJtaXRGcmFtZT1mdW5jdGlvbigpe3QoKSYmZi5zdWJtaXRGcmFtZSgpfSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZyZGlzcGxheXByZXNlbnRjaGFuZ2VcIixhKX0sdGhpcy5zZXRGcmFtZU9mUmVmZXJlbmNlVHlwZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYlZSTWFuYWdlcjogc2V0RnJhbWVPZlJlZmVyZW5jZVR5cGUoKSBoYXMgYmVlbiBkZXByZWNhdGVkLlwiKX19ZnVuY3Rpb24gSnQoZSx0KXtmdW5jdGlvbiBuKCl7cmV0dXJuIG51bGwhPT1kJiZudWxsIT09Zn1mdW5jdGlvbiByKGUpe2Zvcih2YXIgdD0wO3Q8eS5sZW5ndGg7dCsrKXhbdF09PT1lLmlucHV0U291cmNlJiZ5W3RdLmRpc3BhdGNoRXZlbnQoe3R5cGU6ZS50eXBlfSl9ZnVuY3Rpb24gaSgpe2Uuc2V0RnJhbWVidWZmZXIobnVsbCksZS5zZXRSZW5kZXJUYXJnZXQoZS5nZXRSZW5kZXJUYXJnZXQoKSksUy5zdG9wKCkscC5kaXNwYXRjaEV2ZW50KHt0eXBlOlwic2Vzc2lvbmVuZFwifSl9ZnVuY3Rpb24gYShlKXtmPWUsUy5zZXRDb250ZXh0KGQpLFMuc3RhcnQoKSxwLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJzZXNzaW9uc3RhcnRcIn0pfWZ1bmN0aW9uIG8oKXtmb3IodmFyIGU9MDtlPHkubGVuZ3RoO2UrKyl4W2VdPWMoZSl9ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQ9ZC5pbnB1dFNvdXJjZXMsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9ci5oYW5kZWRuZXNzO2lmKDA9PT1lJiYoXCJub25lXCI9PT1pfHxcInJpZ2h0XCI9PT1pKSlyZXR1cm4gcjtpZigxPT09ZSYmXCJsZWZ0XCI9PT1pKXJldHVybiByfX1mdW5jdGlvbiBsKGUsdCl7bnVsbD09PXQ/ZS5tYXRyaXhXb3JsZC5jb3B5KGUubWF0cml4KTplLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModC5tYXRyaXhXb3JsZCxlLm1hdHJpeCksZS5tYXRyaXhXb3JsZEludmVyc2UuZ2V0SW52ZXJzZShlLm1hdHJpeFdvcmxkKX1mdW5jdGlvbiB1KHQsbil7aWYobnVsbCE9PSh2PW4uZ2V0Vmlld2VyUG9zZShmKSkpe3ZhciByPXYudmlld3MsaT1kLnJlbmRlclN0YXRlLmJhc2VMYXllcjtlLnNldEZyYW1lYnVmZmVyKGkuZnJhbWVidWZmZXIpO2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbz1yW2FdLHM9aS5nZXRWaWV3cG9ydChvKSxjPW8udHJhbnNmb3JtLmludmVyc2UubWF0cml4LGw9Xy5jYW1lcmFzW2FdO2wubWF0cml4LmZyb21BcnJheShjKS5nZXRJbnZlcnNlKGwubWF0cml4KSxsLnByb2plY3Rpb25NYXRyaXguZnJvbUFycmF5KG8ucHJvamVjdGlvbk1hdHJpeCksbC52aWV3cG9ydC5zZXQocy54LHMueSxzLndpZHRoLHMuaGVpZ2h0KSwwPT09YSYmXy5tYXRyaXguY29weShsLm1hdHJpeCl9fWZvcih2YXIgYT0wO2E8eS5sZW5ndGg7YSsrKXt2YXIgaD15W2FdLHU9eFthXTtpZih1KXt2YXIgcD1uLmdldFBvc2UodS50YXJnZXRSYXlTcGFjZSxmKTtpZihudWxsIT09cCl7aC5tYXRyaXguZnJvbUFycmF5KHAudHJhbnNmb3JtLm1hdHJpeCksaC5tYXRyaXguZGVjb21wb3NlKGgucG9zaXRpb24saC5yb3RhdGlvbixoLnNjYWxlKSxoLnZpc2libGU9ITA7Y29udGludWV9fWgudmlzaWJsZT0hMX1NJiZNKHQsbil9dmFyIHA9dGhpcyxkPW51bGwsZj1udWxsLG09XCJsb2NhbC1mbG9vclwiLHY9bnVsbCxnPW51bGwseT1bXSx4PVtdLGI9bmV3IFo7Yi5sYXllcnMuZW5hYmxlKDEpLGIudmlld3BvcnQ9bmV3IHM7dmFyIHc9bmV3IFo7dy5sYXllcnMuZW5hYmxlKDIpLHcudmlld3BvcnQ9bmV3IHM7dmFyIF89bmV3IFh0KFtiLHddKTtfLmxheWVycy5lbmFibGUoMSksXy5sYXllcnMuZW5hYmxlKDIpLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmdldENvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9eVtlXTtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IHF0LHQubWF0cml4QXV0b1VwZGF0ZT0hMSx0LnZpc2libGU9ITEseVtlXT10KSx0fSx0aGlzLnNldEZyYW1lYnVmZmVyU2NhbGVGYWN0b3I9ZnVuY3Rpb24oKXt9LHRoaXMuc2V0UmVmZXJlbmNlU3BhY2VUeXBlPWZ1bmN0aW9uKGUpe209ZX0sdGhpcy5nZXRTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LHRoaXMuc2V0U2Vzc2lvbj1mdW5jdGlvbihlKXtudWxsIT09KGQ9ZSkmJihkLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RcIixyKSxkLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RzdGFydFwiLHIpLGQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGVuZFwiLHIpLGQuYWRkRXZlbnRMaXN0ZW5lcihcInNxdWVlemVcIixyKSxkLmFkZEV2ZW50TGlzdGVuZXIoXCJzcXVlZXplc3RhcnRcIixyKSxkLmFkZEV2ZW50TGlzdGVuZXIoXCJzcXVlZXplZW5kXCIsciksZC5hZGRFdmVudExpc3RlbmVyKFwiZW5kXCIsaSksZC51cGRhdGVSZW5kZXJTdGF0ZSh7YmFzZUxheWVyOm5ldyBYUldlYkdMTGF5ZXIoZCx0LHthbnRpYWxpYXM6dC5nZXRDb250ZXh0QXR0cmlidXRlcygpLmFudGlhbGlhcyxhbHBoYTp0LmdldENvbnRleHRBdHRyaWJ1dGVzKCkuYWxwaGEsZGVwdGg6dC5nZXRDb250ZXh0QXR0cmlidXRlcygpLmRlcHRoLHN0ZW5jaWw6dC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWx9KX0pLGQucmVxdWVzdFJlZmVyZW5jZVNwYWNlKG0pLnRoZW4oYSksZC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRzb3VyY2VzY2hhbmdlXCIsbyksbygpKX0sdGhpcy5zZXRQb3NlVGFyZ2V0PWZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJihnPWUpfSx0aGlzLmdldENhbWVyYT1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudCxuPV8uY2FtZXJhcyxyPWd8fGU7bChfLHQpO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKWwobltpXSx0KTtyLm1hdHJpeFdvcmxkLmNvcHkoXy5tYXRyaXhXb3JsZCk7Zm9yKHZhciBhPXIuY2hpbGRyZW4saT0wLG89YS5sZW5ndGg7aTxvO2krKylhW2ldLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTtyZXR1cm4gWXQoXyxiLHcpLF99LHRoaXMuZ2V0Q2FtZXJhUG9zZT1mdW5jdGlvbigpe3JldHVybiB2fSx0aGlzLmlzUHJlc2VudGluZz1uO3ZhciBNPW51bGwsUz1uZXcgZWU7Uy5zZXRBbmltYXRpb25Mb29wKHUpLHRoaXMuc2V0QW5pbWF0aW9uTG9vcD1mdW5jdGlvbihlKXtNPWV9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe30sdGhpcy5nZXRTdGFuZGluZ01hdHJpeD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJYUk1hbmFnZXI6IGdldFN0YW5kaW5nTWF0cml4KCkgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cIiksbmV3IGh9LHRoaXMuZ2V0RGV2aWNlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViWFJNYW5hZ2VyOiBnZXREZXZpY2UoKSBoYXMgYmVlbiBkZXByZWNhdGVkLlwiKX0sdGhpcy5zZXREZXZpY2U9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJYUk1hbmFnZXI6IHNldERldmljZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuXCIpfSx0aGlzLnNldEZyYW1lT2ZSZWZlcmVuY2VUeXBlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViWFJNYW5hZ2VyOiBzZXRGcmFtZU9mUmVmZXJlbmNlVHlwZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuXCIpfSx0aGlzLnN1Ym1pdEZyYW1lPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBRdChlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGw9PT12ZT9BZToxfWZ1bmN0aW9uIHIoKXtVZT1uZXcgY2UoSiksRmU9bmV3IG9lKEosVWUsZSksITE9PT1GZS5pc1dlYkdMMiYmKFVlLmdldChcIldFQkdMX2RlcHRoX3RleHR1cmVcIiksVWUuZ2V0KFwiT0VTX3RleHR1cmVfZmxvYXRcIiksVWUuZ2V0KFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSxVZS5nZXQoXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhclwiKSxVZS5nZXQoXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIiksVWUuZ2V0KFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKSxVZS5nZXQoXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpKSxVZS5nZXQoXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIiksZXQ9bmV3IGp0KEosVWUsRmUpLEdlPW5ldyBIdChKLFVlLEZlKSxHZS5zY2lzc29yKE1lLmNvcHkoUmUpLm11bHRpcGx5U2NhbGFyKEFlKS5mbG9vcigpKSxHZS52aWV3cG9ydChfZS5jb3B5KExlKS5tdWx0aXBseVNjYWxhcihBZSkuZmxvb3IoKSksSGU9bmV3IHVlKEopLFZlPW5ldyBMdCxqZT1uZXcgVnQoSixVZSxHZSxWZSxGZSxldCxIZSksa2U9bmV3IHRlKEopLFdlPW5ldyBsZShKLGtlLEhlKSxxZT1uZXcgZmUoSixXZSxrZSxIZSksUWU9bmV3IGRlKEopLFhlPW5ldyBBdChRLFVlLEZlKSxZZT1uZXcgT3QsWmU9bmV3IEJ0LEplPW5ldyBpZShRLEdlLHFlLGopLEtlPW5ldyBhZShKLFVlLEhlLEZlKSwkZT1uZXcgaGUoSixVZSxIZSxGZSksSGUucHJvZ3JhbXM9WGUucHJvZ3JhbXMsUS5jYXBhYmlsaXRpZXM9RmUsUS5leHRlbnNpb25zPVVlLFEucHJvcGVydGllcz1WZSxRLnJlbmRlckxpc3RzPVllLFEuc3RhdGU9R2UsUS5pbmZvPUhlfWZ1bmN0aW9uIGEoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGNvbnNvbGUubG9nKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBMb3N0LlwiKSxuZT0hMH1mdW5jdGlvbiBvKCl7Y29uc29sZS5sb2coXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IFJlc3RvcmVkLlwiKSxuZT0hMSxyKCl9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLnRhcmdldDt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIsYyksbCh0KX1mdW5jdGlvbiBsKGUpe3UoZSksVmUucmVtb3ZlKGUpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9VmUuZ2V0KGUpLnByb2dyYW07ZS5wcm9ncmFtPXZvaWQgMCx2b2lkIDAhPT10JiZYZS5yZWxlYXNlUHJvZ3JhbSh0KX1mdW5jdGlvbiBwKGUsdCl7ZS5yZW5kZXIoZnVuY3Rpb24oZSl7US5yZW5kZXJCdWZmZXJJbW1lZGlhdGUoZSx0KX0pfWZ1bmN0aW9uIGQoZSx0LG4scil7aWYoITEhPT1GZS5pc1dlYkdMMnx8IWUuaXNJbnN0YW5jZWRNZXNoJiYhdC5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5fHxudWxsIT09VWUuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSl7R2UuaW5pdEF0dHJpYnV0ZXMoKTt2YXIgaT10LmF0dHJpYnV0ZXMsYT1yLmdldEF0dHJpYnV0ZXMoKSxvPW4uZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcztmb3IodmFyIHMgaW4gYSl7dmFyIGM9YVtzXTtpZihjPj0wKXt2YXIgbD1pW3NdO2lmKHZvaWQgMCE9PWwpe3ZhciBoPWwubm9ybWFsaXplZCx1PWwuaXRlbVNpemUscD1rZS5nZXQobCk7aWYodm9pZCAwPT09cCljb250aW51ZTt2YXIgZD1wLmJ1ZmZlcixmPXAudHlwZSxtPXAuYnl0ZXNQZXJFbGVtZW50O2lmKGwuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7dmFyIHY9bC5kYXRhLGc9di5zdHJpZGUseT1sLm9mZnNldDt2JiZ2LmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI/KEdlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IoYyx2Lm1lc2hQZXJBdHRyaWJ1dGUpLHZvaWQgMD09PXQubWF4SW5zdGFuY2VkQ291bnQmJih0Lm1heEluc3RhbmNlZENvdW50PXYubWVzaFBlckF0dHJpYnV0ZSp2LmNvdW50KSk6R2UuZW5hYmxlQXR0cmlidXRlKGMpLEouYmluZEJ1ZmZlcigzNDk2MixkKSxKLnZlcnRleEF0dHJpYlBvaW50ZXIoYyx1LGYsaCxnKm0seSptKX1lbHNlIGwuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU/KEdlLmVuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IoYyxsLm1lc2hQZXJBdHRyaWJ1dGUpLHZvaWQgMD09PXQubWF4SW5zdGFuY2VkQ291bnQmJih0Lm1heEluc3RhbmNlZENvdW50PWwubWVzaFBlckF0dHJpYnV0ZSpsLmNvdW50KSk6R2UuZW5hYmxlQXR0cmlidXRlKGMpLEouYmluZEJ1ZmZlcigzNDk2MixkKSxKLnZlcnRleEF0dHJpYlBvaW50ZXIoYyx1LGYsaCwwLDApfWVsc2UgaWYoXCJpbnN0YW5jZU1hdHJpeFwiPT09cyl7dmFyIHA9a2UuZ2V0KGUuaW5zdGFuY2VNYXRyaXgpO2lmKHZvaWQgMD09PXApY29udGludWU7dmFyIGQ9cC5idWZmZXIsZj1wLnR5cGU7R2UuZW5hYmxlQXR0cmlidXRlQW5kRGl2aXNvcihjKzAsMSksR2UuZW5hYmxlQXR0cmlidXRlQW5kRGl2aXNvcihjKzEsMSksR2UuZW5hYmxlQXR0cmlidXRlQW5kRGl2aXNvcihjKzIsMSksR2UuZW5hYmxlQXR0cmlidXRlQW5kRGl2aXNvcihjKzMsMSksSi5iaW5kQnVmZmVyKDM0OTYyLGQpLEoudmVydGV4QXR0cmliUG9pbnRlcihjKzAsNCxmLCExLDY0LDApLEoudmVydGV4QXR0cmliUG9pbnRlcihjKzEsNCxmLCExLDY0LDE2KSxKLnZlcnRleEF0dHJpYlBvaW50ZXIoYysyLDQsZiwhMSw2NCwzMiksXG5KLnZlcnRleEF0dHJpYlBvaW50ZXIoYyszLDQsZiwhMSw2NCw0OCl9ZWxzZSBpZih2b2lkIDAhPT1vKXt2YXIgeD1vW3NdO2lmKHZvaWQgMCE9PXgpc3dpdGNoKHgubGVuZ3RoKXtjYXNlIDI6Si52ZXJ0ZXhBdHRyaWIyZnYoYyx4KTticmVhaztjYXNlIDM6Si52ZXJ0ZXhBdHRyaWIzZnYoYyx4KTticmVhaztjYXNlIDQ6Si52ZXJ0ZXhBdHRyaWI0ZnYoYyx4KTticmVhaztkZWZhdWx0OkoudmVydGV4QXR0cmliMWZ2KGMseCl9fX19R2UuZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXMoKX19ZnVuY3Rpb24gZihlKXt0dC5pc1ByZXNlbnRpbmcoKXx8YXQmJmF0KGUpfWZ1bmN0aW9uIG0oZSx0LG4scil7aWYoITEhPT1lLnZpc2libGUpe2lmKGUubGF5ZXJzLnRlc3QodC5sYXllcnMpKWlmKGUuaXNHcm91cCluPWUucmVuZGVyT3JkZXI7ZWxzZSBpZihlLmlzTE9EKSEwPT09ZS5hdXRvVXBkYXRlJiZlLnVwZGF0ZSh0KTtlbHNlIGlmKGUuaXNMaWdodClaLnB1c2hMaWdodChlKSxlLmNhc3RTaGFkb3cmJloucHVzaFNoYWRvdyhlKTtlbHNlIGlmKGUuaXNTcHJpdGUpe2lmKCFlLmZydXN0dW1DdWxsZWR8fENlLmludGVyc2VjdHNTcHJpdGUoZSkpe3ImJnplLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoTmUpO3ZhciBpPXFlLnVwZGF0ZShlKSxhPWUubWF0ZXJpYWw7YS52aXNpYmxlJiZZLnB1c2goZSxpLGEsbix6ZS56LG51bGwpfX1lbHNlIGlmKGUuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3QpciYmemUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChOZSksWS5wdXNoKGUsbnVsbCxlLm1hdGVyaWFsLG4semUueixudWxsKTtlbHNlIGlmKChlLmlzTWVzaHx8ZS5pc0xpbmV8fGUuaXNQb2ludHMpJiYoZS5pc1NraW5uZWRNZXNoJiZlLnNrZWxldG9uLmZyYW1lIT09SGUucmVuZGVyLmZyYW1lJiYoZS5za2VsZXRvbi51cGRhdGUoKSxlLnNrZWxldG9uLmZyYW1lPUhlLnJlbmRlci5mcmFtZSksIWUuZnJ1c3R1bUN1bGxlZHx8Q2UuaW50ZXJzZWN0c09iamVjdChlKSkpe3ImJnplLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoTmUpO3ZhciBpPXFlLnVwZGF0ZShlKSxhPWUubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIG89aS5ncm91cHMscz0wLGM9by5sZW5ndGg7czxjO3MrKyl7dmFyIGw9b1tzXSxoPWFbbC5tYXRlcmlhbEluZGV4XTtoJiZoLnZpc2libGUmJlkucHVzaChlLGksaCxuLHplLnosbCl9ZWxzZSBhLnZpc2libGUmJlkucHVzaChlLGksYSxuLHplLnosbnVsbCl9Zm9yKHZhciB1PWUuY2hpbGRyZW4scz0wLGM9dS5sZW5ndGg7czxjO3MrKyltKHVbc10sdCxuLHIpfX1mdW5jdGlvbiB2KGUsdCxuLHIpe2Zvcih2YXIgaT0wLGE9ZS5sZW5ndGg7aTxhO2krKyl7dmFyIG89ZVtpXSxzPW8ub2JqZWN0LGM9by5nZW9tZXRyeSxsPXZvaWQgMD09PXI/by5tYXRlcmlhbDpyLGg9by5ncm91cDtpZihuLmlzQXJyYXlDYW1lcmEpaWYod2U9bix0dC5lbmFibGVkJiZudC5pc0F2YWlsYWJsZSgpKWcocyx0LG4sYyxsLGgpO2Vsc2UgZm9yKHZhciB1PW4uY2FtZXJhcyxwPTAsZD11Lmxlbmd0aDtwPGQ7cCsrKXt2YXIgZj11W3BdO3MubGF5ZXJzLnRlc3QoZi5sYXllcnMpJiYoR2Uudmlld3BvcnQoX2UuY29weShmLnZpZXdwb3J0KSksWi5zZXR1cExpZ2h0cyhmKSxnKHMsdCxmLGMsbCxoKSl9ZWxzZSB3ZT1udWxsLGcocyx0LG4sYyxsLGgpfX1mdW5jdGlvbiBnKGUsdCxuLHIsaSxhKXtpZihlLm9uQmVmb3JlUmVuZGVyKFEsdCxuLHIsaSxhKSxaPVplLmdldCh0LHdlfHxuKSxlLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKG4ubWF0cml4V29ybGRJbnZlcnNlLGUubWF0cml4V29ybGQpLGUubm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeChlLm1vZGVsVmlld01hdHJpeCksZS5pc0ltbWVkaWF0ZVJlbmRlck9iamVjdCl7dmFyIG89eChuLHQuZm9nLGksZSk7R2Uuc2V0TWF0ZXJpYWwoaSkseGUuZ2VvbWV0cnk9bnVsbCx4ZS5wcm9ncmFtPW51bGwseGUud2lyZWZyYW1lPSExLHAoZSxvKX1lbHNlIFEucmVuZGVyQnVmZmVyRGlyZWN0KG4sdC5mb2cscixpLGUsYSk7ZS5vbkFmdGVyUmVuZGVyKFEsdCxuLHIsaSxhKSxaPVplLmdldCh0LHdlfHxuKX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj1WZS5nZXQoZSksaT1aLnN0YXRlLmxpZ2h0cyxhPVouc3RhdGUuc2hhZG93c0FycmF5LG89aS5zdGF0ZS52ZXJzaW9uLHM9WGUuZ2V0UGFyYW1ldGVycyhlLGkuc3RhdGUsYSx0LE9lLm51bVBsYW5lcyxPZS5udW1JbnRlcnNlY3Rpb24sbiksbD1YZS5nZXRQcm9ncmFtQ2FjaGVLZXkoZSxzKSxoPXIucHJvZ3JhbSxwPSEwO2lmKHZvaWQgMD09PWgpZS5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGMpO2Vsc2UgaWYoaC5jYWNoZUtleSE9PWwpdShlKTtlbHNlIGlmKHIubGlnaHRzU3RhdGVWZXJzaW9uIT09bylyLmxpZ2h0c1N0YXRlVmVyc2lvbj1vLHA9ITE7ZWxzZXtpZih2b2lkIDAhPT1zLnNoYWRlcklEKXJldHVybjtwPSExfWlmKHApe2lmKHMuc2hhZGVySUQpe3ZhciBkPWN1W3Muc2hhZGVySURdO3Iuc2hhZGVyPXtuYW1lOmUudHlwZSx1bmlmb3JtczpXKGQudW5pZm9ybXMpLHZlcnRleFNoYWRlcjpkLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpkLmZyYWdtZW50U2hhZGVyfX1lbHNlIHIuc2hhZGVyPXtuYW1lOmUudHlwZSx1bmlmb3JtczplLnVuaWZvcm1zLHZlcnRleFNoYWRlcjplLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjplLmZyYWdtZW50U2hhZGVyfTtlLm9uQmVmb3JlQ29tcGlsZShyLnNoYWRlcixRKSxsPVhlLmdldFByb2dyYW1DYWNoZUtleShlLHMpLGg9WGUuYWNxdWlyZVByb2dyYW0oZSxyLnNoYWRlcixzLGwpLHIucHJvZ3JhbT1oLGUucHJvZ3JhbT1ofXZhciBmPWguZ2V0QXR0cmlidXRlcygpO2lmKGUubW9ycGhUYXJnZXRzKXtlLm51bVN1cHBvcnRlZE1vcnBoVGFyZ2V0cz0wO2Zvcih2YXIgbT0wO208US5tYXhNb3JwaFRhcmdldHM7bSsrKWZbXCJtb3JwaFRhcmdldFwiK21dPj0wJiZlLm51bVN1cHBvcnRlZE1vcnBoVGFyZ2V0cysrfWlmKGUubW9ycGhOb3JtYWxzKXtlLm51bVN1cHBvcnRlZE1vcnBoTm9ybWFscz0wO2Zvcih2YXIgbT0wO208US5tYXhNb3JwaE5vcm1hbHM7bSsrKWZbXCJtb3JwaE5vcm1hbFwiK21dPj0wJiZlLm51bVN1cHBvcnRlZE1vcnBoTm9ybWFscysrfXZhciB2PXIuc2hhZGVyLnVuaWZvcm1zOyhlLmlzU2hhZGVyTWF0ZXJpYWx8fGUuaXNSYXdTaGFkZXJNYXRlcmlhbCkmJiEwIT09ZS5jbGlwcGluZ3x8KHIubnVtQ2xpcHBpbmdQbGFuZXM9T2UubnVtUGxhbmVzLHIubnVtSW50ZXJzZWN0aW9uPU9lLm51bUludGVyc2VjdGlvbix2LmNsaXBwaW5nUGxhbmVzPU9lLnVuaWZvcm0pLHIuZm9nPXQsci5uZWVkc0xpZ2h0cz16KGUpLHIubGlnaHRzU3RhdGVWZXJzaW9uPW8sci5uZWVkc0xpZ2h0cyYmKHYuYW1iaWVudExpZ2h0Q29sb3IudmFsdWU9aS5zdGF0ZS5hbWJpZW50LHYubGlnaHRQcm9iZS52YWx1ZT1pLnN0YXRlLnByb2JlLHYuZGlyZWN0aW9uYWxMaWdodHMudmFsdWU9aS5zdGF0ZS5kaXJlY3Rpb25hbCx2LnNwb3RMaWdodHMudmFsdWU9aS5zdGF0ZS5zcG90LHYucmVjdEFyZWFMaWdodHMudmFsdWU9aS5zdGF0ZS5yZWN0QXJlYSx2LnBvaW50TGlnaHRzLnZhbHVlPWkuc3RhdGUucG9pbnQsdi5oZW1pc3BoZXJlTGlnaHRzLnZhbHVlPWkuc3RhdGUuaGVtaSx2LmRpcmVjdGlvbmFsU2hhZG93TWFwLnZhbHVlPWkuc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXAsdi5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeC52YWx1ZT1pLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4LHYuc3BvdFNoYWRvd01hcC52YWx1ZT1pLnN0YXRlLnNwb3RTaGFkb3dNYXAsdi5zcG90U2hhZG93TWF0cml4LnZhbHVlPWkuc3RhdGUuc3BvdFNoYWRvd01hdHJpeCx2LnBvaW50U2hhZG93TWFwLnZhbHVlPWkuc3RhdGUucG9pbnRTaGFkb3dNYXAsdi5wb2ludFNoYWRvd01hdHJpeC52YWx1ZT1pLnN0YXRlLnBvaW50U2hhZG93TWF0cml4KTt2YXIgZz1yLnByb2dyYW0uZ2V0VW5pZm9ybXMoKSx5PXJ0LnNlcVdpdGhWYWx1ZShnLnNlcSx2KTtyLnVuaWZvcm1zTGlzdD15fWZ1bmN0aW9uIHgoZSx0LG4scil7amUucmVzZXRUZXh0dXJlVW5pdHMoKTt2YXIgaT1WZS5nZXQobiksYT1aLnN0YXRlLmxpZ2h0cztpZihEZSYmKEllfHxlIT09YmUpKXt2YXIgbz1lPT09YmUmJm4uaWQ9PT15ZTtPZS5zZXRTdGF0ZShuLmNsaXBwaW5nUGxhbmVzLG4uY2xpcEludGVyc2VjdGlvbixuLmNsaXBTaGFkb3dzLGUsaSxvKX1uLnZlcnNpb249PT1pLl9fdmVyc2lvbiYmKHZvaWQgMD09PWkucHJvZ3JhbT9uLm5lZWRzVXBkYXRlPSEwOm4uZm9nJiZpLmZvZyE9PXQ/bi5uZWVkc1VwZGF0ZT0hMDppLm5lZWRzTGlnaHRzJiZpLmxpZ2h0c1N0YXRlVmVyc2lvbiE9PWEuc3RhdGUudmVyc2lvbj9uLm5lZWRzVXBkYXRlPSEwOnZvaWQgMD09PWkubnVtQ2xpcHBpbmdQbGFuZXN8fGkubnVtQ2xpcHBpbmdQbGFuZXM9PT1PZS5udW1QbGFuZXMmJmkubnVtSW50ZXJzZWN0aW9uPT09T2UubnVtSW50ZXJzZWN0aW9ufHwobi5uZWVkc1VwZGF0ZT0hMCkpLG4udmVyc2lvbiE9PWkuX192ZXJzaW9uJiYoeShuLHQsciksaS5fX3ZlcnNpb249bi52ZXJzaW9uKTt2YXIgcz0hMSxjPSExLGw9ITEsaD1pLnByb2dyYW0sdT1oLmdldFVuaWZvcm1zKCkscD1pLnNoYWRlci51bmlmb3JtcztpZihHZS51c2VQcm9ncmFtKGgucHJvZ3JhbSkmJihzPSEwLGM9ITAsbD0hMCksbi5pZCE9PXllJiYoeWU9bi5pZCxjPSEwKSxzfHxiZSE9PWUpe2lmKGgubnVtTXVsdGl2aWV3Vmlld3M+MD9udC51cGRhdGVDYW1lcmFQcm9qZWN0aW9uTWF0cmljZXNVbmlmb3JtKGUsdSk6dS5zZXRWYWx1ZShKLFwicHJvamVjdGlvbk1hdHJpeFwiLGUucHJvamVjdGlvbk1hdHJpeCksRmUubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmdS5zZXRWYWx1ZShKLFwibG9nRGVwdGhCdWZGQ1wiLDIvKE1hdGgubG9nKGUuZmFyKzEpL01hdGguTE4yKSksYmUhPT1lJiYoYmU9ZSxjPSEwLGw9ITApLG4uaXNTaGFkZXJNYXRlcmlhbHx8bi5pc01lc2hQaG9uZ01hdGVyaWFsfHxuLmlzTWVzaFRvb25NYXRlcmlhbHx8bi5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxuLmVudk1hcCl7dmFyIGQ9dS5tYXAuY2FtZXJhUG9zaXRpb247dm9pZCAwIT09ZCYmZC5zZXRWYWx1ZShKLHplLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSl9KG4uaXNNZXNoUGhvbmdNYXRlcmlhbHx8bi5pc01lc2hUb29uTWF0ZXJpYWx8fG4uaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxuLmlzTWVzaEJhc2ljTWF0ZXJpYWx8fG4uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bi5pc1NoYWRlck1hdGVyaWFsKSYmdS5zZXRWYWx1ZShKLFwiaXNPcnRob2dyYXBoaWNcIiwhMD09PWUuaXNPcnRob2dyYXBoaWNDYW1lcmEpLChuLmlzTWVzaFBob25nTWF0ZXJpYWx8fG4uaXNNZXNoVG9vbk1hdGVyaWFsfHxuLmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8bi5pc01lc2hCYXNpY01hdGVyaWFsfHxuLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fG4uaXNTaGFkZXJNYXRlcmlhbHx8bi5za2lubmluZykmJihoLm51bU11bHRpdmlld1ZpZXdzPjA/bnQudXBkYXRlQ2FtZXJhVmlld01hdHJpY2VzVW5pZm9ybShlLHUpOnUuc2V0VmFsdWUoSixcInZpZXdNYXRyaXhcIixlLm1hdHJpeFdvcmxkSW52ZXJzZSkpfWlmKG4uc2tpbm5pbmcpe3Uuc2V0T3B0aW9uYWwoSixyLFwiYmluZE1hdHJpeFwiKSx1LnNldE9wdGlvbmFsKEoscixcImJpbmRNYXRyaXhJbnZlcnNlXCIpO3ZhciBmPXIuc2tlbGV0b247aWYoZil7dmFyIG09Zi5ib25lcztpZihGZS5mbG9hdFZlcnRleFRleHR1cmVzKXtpZih2b2lkIDA9PT1mLmJvbmVUZXh0dXJlKXt2YXIgdj1NYXRoLnNxcnQoNCptLmxlbmd0aCk7dj1sbC5jZWlsUG93ZXJPZlR3byh2KSx2PU1hdGgubWF4KHYsNCk7dmFyIGc9bmV3IEZsb2F0MzJBcnJheSh2KnYqNCk7Zy5zZXQoZi5ib25lTWF0cmljZXMpO3ZhciB4PW5ldyBLKGcsdix2LGZjLG9jKTtmLmJvbmVNYXRyaWNlcz1nLGYuYm9uZVRleHR1cmU9eCxmLmJvbmVUZXh0dXJlU2l6ZT12fXUuc2V0VmFsdWUoSixcImJvbmVUZXh0dXJlXCIsZi5ib25lVGV4dHVyZSxqZSksdS5zZXRWYWx1ZShKLFwiYm9uZVRleHR1cmVTaXplXCIsZi5ib25lVGV4dHVyZVNpemUpfWVsc2UgdS5zZXRPcHRpb25hbChKLGYsXCJib25lTWF0cmljZXNcIil9fXJldHVybihjfHxpLnJlY2VpdmVTaGFkb3chPT1yLnJlY2VpdmVTaGFkb3cpJiYoaS5yZWNlaXZlU2hhZG93PXIucmVjZWl2ZVNoYWRvdyx1LnNldFZhbHVlKEosXCJyZWNlaXZlU2hhZG93XCIsci5yZWNlaXZlU2hhZG93KSksYyYmKHUuc2V0VmFsdWUoSixcInRvbmVNYXBwaW5nRXhwb3N1cmVcIixRLnRvbmVNYXBwaW5nRXhwb3N1cmUpLHUuc2V0VmFsdWUoSixcInRvbmVNYXBwaW5nV2hpdGVQb2ludFwiLFEudG9uZU1hcHBpbmdXaGl0ZVBvaW50KSxpLm5lZWRzTGlnaHRzJiZOKHAsbCksdCYmbi5mb2cmJlQocCx0KSxuLmlzTWVzaEJhc2ljTWF0ZXJpYWw/YihwLG4pOm4uaXNNZXNoTGFtYmVydE1hdGVyaWFsPyhiKHAsbiksRShwLG4pKTpuLmlzTWVzaFRvb25NYXRlcmlhbD8oYihwLG4pLEwocCxuKSk6bi5pc01lc2hQaG9uZ01hdGVyaWFsPyhiKHAsbiksQShwLG4pKTpuLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/KGIocCxuKSxuLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw/UChwLG4pOlIocCxuKSk6bi5pc01lc2hNYXRjYXBNYXRlcmlhbD8oYihwLG4pLEMocCxuKSk6bi5pc01lc2hEZXB0aE1hdGVyaWFsPyhiKHAsbiksTyhwLG4pKTpuLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWw/KGIocCxuKSxEKHAsbikpOm4uaXNNZXNoTm9ybWFsTWF0ZXJpYWw/KGIocCxuKSxJKHAsbikpOm4uaXNMaW5lQmFzaWNNYXRlcmlhbD8odyhwLG4pLG4uaXNMaW5lRGFzaGVkTWF0ZXJpYWwmJl8ocCxuKSk6bi5pc1BvaW50c01hdGVyaWFsP00ocCxuKTpuLmlzU3ByaXRlTWF0ZXJpYWw/UyhwLG4pOm4uaXNTaGFkb3dNYXRlcmlhbD8ocC5jb2xvci52YWx1ZS5jb3B5KG4uY29sb3IpLHAub3BhY2l0eS52YWx1ZT1uLm9wYWNpdHkpOm4uZW52TWFwJiZiKHAsbiksdm9pZCAwIT09cC5sdGNfMSYmKHAubHRjXzEudmFsdWU9c3UuTFRDXzEpLHZvaWQgMCE9PXAubHRjXzImJihwLmx0Y18yLnZhbHVlPXN1LkxUQ18yKSxydC51cGxvYWQoSixpLnVuaWZvcm1zTGlzdCxwLGplKSxuLmlzU2hhZGVyTWF0ZXJpYWwmJihuLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSkpLG4uaXNTaGFkZXJNYXRlcmlhbCYmITA9PT1uLnVuaWZvcm1zTmVlZFVwZGF0ZSYmKHJ0LnVwbG9hZChKLGkudW5pZm9ybXNMaXN0LHAsamUpLG4udW5pZm9ybXNOZWVkVXBkYXRlPSExKSxuLmlzU3ByaXRlTWF0ZXJpYWwmJnUuc2V0VmFsdWUoSixcImNlbnRlclwiLHIuY2VudGVyKSxoLm51bU11bHRpdmlld1ZpZXdzPjA/bnQudXBkYXRlT2JqZWN0TWF0cmljZXNVbmlmb3JtcyhyLGUsdSk6KHUuc2V0VmFsdWUoSixcIm1vZGVsVmlld01hdHJpeFwiLHIubW9kZWxWaWV3TWF0cml4KSx1LnNldFZhbHVlKEosXCJub3JtYWxNYXRyaXhcIixyLm5vcm1hbE1hdHJpeCkpLHUuc2V0VmFsdWUoSixcIm1vZGVsTWF0cml4XCIsci5tYXRyaXhXb3JsZCksaH1mdW5jdGlvbiBiKGUsdCl7ZS5vcGFjaXR5LnZhbHVlPXQub3BhY2l0eSx0LmNvbG9yJiZlLmRpZmZ1c2UudmFsdWUuY29weSh0LmNvbG9yKSx0LmVtaXNzaXZlJiZlLmVtaXNzaXZlLnZhbHVlLmNvcHkodC5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIodC5lbWlzc2l2ZUludGVuc2l0eSksdC5tYXAmJihlLm1hcC52YWx1ZT10Lm1hcCksdC5hbHBoYU1hcCYmKGUuYWxwaGFNYXAudmFsdWU9dC5hbHBoYU1hcCksdC5zcGVjdWxhck1hcCYmKGUuc3BlY3VsYXJNYXAudmFsdWU9dC5zcGVjdWxhck1hcCksdC5lbnZNYXAmJihlLmVudk1hcC52YWx1ZT10LmVudk1hcCxlLmZsaXBFbnZNYXAudmFsdWU9dC5lbnZNYXAuaXNDdWJlVGV4dHVyZT8tMToxLGUucmVmbGVjdGl2aXR5LnZhbHVlPXQucmVmbGVjdGl2aXR5LGUucmVmcmFjdGlvblJhdGlvLnZhbHVlPXQucmVmcmFjdGlvblJhdGlvLGUubWF4TWlwTGV2ZWwudmFsdWU9VmUuZ2V0KHQuZW52TWFwKS5fX21heE1pcExldmVsKSx0LmxpZ2h0TWFwJiYoZS5saWdodE1hcC52YWx1ZT10LmxpZ2h0TWFwLGUubGlnaHRNYXBJbnRlbnNpdHkudmFsdWU9dC5saWdodE1hcEludGVuc2l0eSksdC5hb01hcCYmKGUuYW9NYXAudmFsdWU9dC5hb01hcCxlLmFvTWFwSW50ZW5zaXR5LnZhbHVlPXQuYW9NYXBJbnRlbnNpdHkpO3ZhciBuO3QubWFwP249dC5tYXA6dC5zcGVjdWxhck1hcD9uPXQuc3BlY3VsYXJNYXA6dC5kaXNwbGFjZW1lbnRNYXA/bj10LmRpc3BsYWNlbWVudE1hcDp0Lm5vcm1hbE1hcD9uPXQubm9ybWFsTWFwOnQuYnVtcE1hcD9uPXQuYnVtcE1hcDp0LnJvdWdobmVzc01hcD9uPXQucm91Z2huZXNzTWFwOnQubWV0YWxuZXNzTWFwP249dC5tZXRhbG5lc3NNYXA6dC5hbHBoYU1hcD9uPXQuYWxwaGFNYXA6dC5lbWlzc2l2ZU1hcCYmKG49dC5lbWlzc2l2ZU1hcCksdm9pZCAwIT09biYmKG4uaXNXZWJHTFJlbmRlclRhcmdldCYmKG49bi50ZXh0dXJlKSwhMD09PW4ubWF0cml4QXV0b1VwZGF0ZSYmbi51cGRhdGVNYXRyaXgoKSxlLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkobi5tYXRyaXgpKTt2YXIgcjt0LmFvTWFwP3I9dC5hb01hcDp0LmxpZ2h0TWFwJiYocj10LmxpZ2h0TWFwKSx2b2lkIDAhPT1yJiYoci5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYocj1yLnRleHR1cmUpLCEwPT09ci5tYXRyaXhBdXRvVXBkYXRlJiZyLnVwZGF0ZU1hdHJpeCgpLGUudXYyVHJhbnNmb3JtLnZhbHVlLmNvcHkoci5tYXRyaXgpKX1mdW5jdGlvbiB3KGUsdCl7ZS5kaWZmdXNlLnZhbHVlLmNvcHkodC5jb2xvciksZS5vcGFjaXR5LnZhbHVlPXQub3BhY2l0eX1mdW5jdGlvbiBfKGUsdCl7ZS5kYXNoU2l6ZS52YWx1ZT10LmRhc2hTaXplLGUudG90YWxTaXplLnZhbHVlPXQuZGFzaFNpemUrdC5nYXBTaXplLGUuc2NhbGUudmFsdWU9dC5zY2FsZX1mdW5jdGlvbiBNKGUsdCl7ZS5kaWZmdXNlLnZhbHVlLmNvcHkodC5jb2xvciksZS5vcGFjaXR5LnZhbHVlPXQub3BhY2l0eSxlLnNpemUudmFsdWU9dC5zaXplKkFlLGUuc2NhbGUudmFsdWU9LjUqRWUsdC5tYXAmJihlLm1hcC52YWx1ZT10Lm1hcCksdC5hbHBoYU1hcCYmKGUuYWxwaGFNYXAudmFsdWU9dC5hbHBoYU1hcCk7dmFyIG47dC5tYXA/bj10Lm1hcDp0LmFscGhhTWFwJiYobj10LmFscGhhTWFwKSx2b2lkIDAhPT1uJiYoITA9PT1uLm1hdHJpeEF1dG9VcGRhdGUmJm4udXBkYXRlTWF0cml4KCksZS51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KG4ubWF0cml4KSl9ZnVuY3Rpb24gUyhlLHQpe2UuZGlmZnVzZS52YWx1ZS5jb3B5KHQuY29sb3IpLGUub3BhY2l0eS52YWx1ZT10Lm9wYWNpdHksZS5yb3RhdGlvbi52YWx1ZT10LnJvdGF0aW9uLHQubWFwJiYoZS5tYXAudmFsdWU9dC5tYXApLHQuYWxwaGFNYXAmJihlLmFscGhhTWFwLnZhbHVlPXQuYWxwaGFNYXApO3ZhciBuO3QubWFwP249dC5tYXA6dC5hbHBoYU1hcCYmKG49dC5hbHBoYU1hcCksdm9pZCAwIT09biYmKCEwPT09bi5tYXRyaXhBdXRvVXBkYXRlJiZuLnVwZGF0ZU1hdHJpeCgpLGUudXZUcmFuc2Zvcm0udmFsdWUuY29weShuLm1hdHJpeCkpfWZ1bmN0aW9uIFQoZSx0KXtlLmZvZ0NvbG9yLnZhbHVlLmNvcHkodC5jb2xvciksdC5pc0ZvZz8oZS5mb2dOZWFyLnZhbHVlPXQubmVhcixlLmZvZ0Zhci52YWx1ZT10LmZhcik6dC5pc0ZvZ0V4cDImJihlLmZvZ0RlbnNpdHkudmFsdWU9dC5kZW5zaXR5KX1mdW5jdGlvbiBFKGUsdCl7dC5lbWlzc2l2ZU1hcCYmKGUuZW1pc3NpdmVNYXAudmFsdWU9dC5lbWlzc2l2ZU1hcCl9ZnVuY3Rpb24gQShlLHQpe2Uuc3BlY3VsYXIudmFsdWUuY29weSh0LnNwZWN1bGFyKSxlLnNoaW5pbmVzcy52YWx1ZT1NYXRoLm1heCh0LnNoaW5pbmVzcywxZS00KSx0LmVtaXNzaXZlTWFwJiYoZS5lbWlzc2l2ZU1hcC52YWx1ZT10LmVtaXNzaXZlTWFwKSx0LmJ1bXBNYXAmJihlLmJ1bXBNYXAudmFsdWU9dC5idW1wTWFwLGUuYnVtcFNjYWxlLnZhbHVlPXQuYnVtcFNjYWxlLHQuc2lkZT09PVlvJiYoZS5idW1wU2NhbGUudmFsdWUqPS0xKSksdC5ub3JtYWxNYXAmJihlLm5vcm1hbE1hcC52YWx1ZT10Lm5vcm1hbE1hcCxlLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkodC5ub3JtYWxTY2FsZSksdC5zaWRlPT09WW8mJmUubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpLHQuZGlzcGxhY2VtZW50TWFwJiYoZS5kaXNwbGFjZW1lbnRNYXAudmFsdWU9dC5kaXNwbGFjZW1lbnRNYXAsZS5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT10LmRpc3BsYWNlbWVudFNjYWxlLGUuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT10LmRpc3BsYWNlbWVudEJpYXMpfWZ1bmN0aW9uIEwoZSx0KXtlLnNwZWN1bGFyLnZhbHVlLmNvcHkodC5zcGVjdWxhciksZS5zaGluaW5lc3MudmFsdWU9TWF0aC5tYXgodC5zaGluaW5lc3MsMWUtNCksdC5ncmFkaWVudE1hcCYmKGUuZ3JhZGllbnRNYXAudmFsdWU9dC5ncmFkaWVudE1hcCksdC5lbWlzc2l2ZU1hcCYmKGUuZW1pc3NpdmVNYXAudmFsdWU9dC5lbWlzc2l2ZU1hcCksdC5idW1wTWFwJiYoZS5idW1wTWFwLnZhbHVlPXQuYnVtcE1hcCxlLmJ1bXBTY2FsZS52YWx1ZT10LmJ1bXBTY2FsZSx0LnNpZGU9PT1ZbyYmKGUuYnVtcFNjYWxlLnZhbHVlKj0tMSkpLHQubm9ybWFsTWFwJiYoZS5ub3JtYWxNYXAudmFsdWU9dC5ub3JtYWxNYXAsZS5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KHQubm9ybWFsU2NhbGUpLHQuc2lkZT09PVlvJiZlLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSx0LmRpc3BsYWNlbWVudE1hcCYmKGUuZGlzcGxhY2VtZW50TWFwLnZhbHVlPXQuZGlzcGxhY2VtZW50TWFwLGUuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9dC5kaXNwbGFjZW1lbnRTY2FsZSxlLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9dC5kaXNwbGFjZW1lbnRCaWFzKX1mdW5jdGlvbiBSKGUsdCl7ZS5yb3VnaG5lc3MudmFsdWU9dC5yb3VnaG5lc3MsZS5tZXRhbG5lc3MudmFsdWU9dC5tZXRhbG5lc3MsdC5yb3VnaG5lc3NNYXAmJihlLnJvdWdobmVzc01hcC52YWx1ZT10LnJvdWdobmVzc01hcCksdC5tZXRhbG5lc3NNYXAmJihlLm1ldGFsbmVzc01hcC52YWx1ZT10Lm1ldGFsbmVzc01hcCksdC5lbWlzc2l2ZU1hcCYmKGUuZW1pc3NpdmVNYXAudmFsdWU9dC5lbWlzc2l2ZU1hcCksdC5idW1wTWFwJiYoZS5idW1wTWFwLnZhbHVlPXQuYnVtcE1hcCxlLmJ1bXBTY2FsZS52YWx1ZT10LmJ1bXBTY2FsZSx0LnNpZGU9PT1ZbyYmKGUuYnVtcFNjYWxlLnZhbHVlKj0tMSkpLHQubm9ybWFsTWFwJiYoZS5ub3JtYWxNYXAudmFsdWU9dC5ub3JtYWxNYXAsZS5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KHQubm9ybWFsU2NhbGUpLHQuc2lkZT09PVlvJiZlLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSx0LmRpc3BsYWNlbWVudE1hcCYmKGUuZGlzcGxhY2VtZW50TWFwLnZhbHVlPXQuZGlzcGxhY2VtZW50TWFwLGUuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9dC5kaXNwbGFjZW1lbnRTY2FsZSxlLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9dC5kaXNwbGFjZW1lbnRCaWFzKSx0LmVudk1hcCYmKGUuZW52TWFwSW50ZW5zaXR5LnZhbHVlPXQuZW52TWFwSW50ZW5zaXR5KX1mdW5jdGlvbiBQKGUsdCl7UihlLHQpLGUucmVmbGVjdGl2aXR5LnZhbHVlPXQucmVmbGVjdGl2aXR5LGUuY2xlYXJjb2F0LnZhbHVlPXQuY2xlYXJjb2F0LGUuY2xlYXJjb2F0Um91Z2huZXNzLnZhbHVlPXQuY2xlYXJjb2F0Um91Z2huZXNzLHQuc2hlZW4mJmUuc2hlZW4udmFsdWUuY29weSh0LnNoZWVuKSx0LmNsZWFyY29hdE5vcm1hbE1hcCYmKGUuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudmFsdWUuY29weSh0LmNsZWFyY29hdE5vcm1hbFNjYWxlKSxlLmNsZWFyY29hdE5vcm1hbE1hcC52YWx1ZT10LmNsZWFyY29hdE5vcm1hbE1hcCx0LnNpZGU9PT1ZbyYmZS5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSksZS50cmFuc3BhcmVuY3kudmFsdWU9dC50cmFuc3BhcmVuY3l9ZnVuY3Rpb24gQyhlLHQpe3QubWF0Y2FwJiYoZS5tYXRjYXAudmFsdWU9dC5tYXRjYXApLHQuYnVtcE1hcCYmKGUuYnVtcE1hcC52YWx1ZT10LmJ1bXBNYXAsZS5idW1wU2NhbGUudmFsdWU9dC5idW1wU2NhbGUsdC5zaWRlPT09WW8mJihlLmJ1bXBTY2FsZS52YWx1ZSo9LTEpKSx0Lm5vcm1hbE1hcCYmKGUubm9ybWFsTWFwLnZhbHVlPXQubm9ybWFsTWFwLGUubm9ybWFsU2NhbGUudmFsdWUuY29weSh0Lm5vcm1hbFNjYWxlKSx0LnNpZGU9PT1ZbyYmZS5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSksdC5kaXNwbGFjZW1lbnRNYXAmJihlLmRpc3BsYWNlbWVudE1hcC52YWx1ZT10LmRpc3BsYWNlbWVudE1hcCxlLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPXQuZGlzcGxhY2VtZW50U2NhbGUsZS5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPXQuZGlzcGxhY2VtZW50Qmlhcyl9ZnVuY3Rpb24gTyhlLHQpe3QuZGlzcGxhY2VtZW50TWFwJiYoZS5kaXNwbGFjZW1lbnRNYXAudmFsdWU9dC5kaXNwbGFjZW1lbnRNYXAsZS5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT10LmRpc3BsYWNlbWVudFNjYWxlLGUuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT10LmRpc3BsYWNlbWVudEJpYXMpfWZ1bmN0aW9uIEQoZSx0KXt0LmRpc3BsYWNlbWVudE1hcCYmKGUuZGlzcGxhY2VtZW50TWFwLnZhbHVlPXQuZGlzcGxhY2VtZW50TWFwLGUuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9dC5kaXNwbGFjZW1lbnRTY2FsZSxlLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9dC5kaXNwbGFjZW1lbnRCaWFzKSxlLnJlZmVyZW5jZVBvc2l0aW9uLnZhbHVlLmNvcHkodC5yZWZlcmVuY2VQb3NpdGlvbiksZS5uZWFyRGlzdGFuY2UudmFsdWU9dC5uZWFyRGlzdGFuY2UsZS5mYXJEaXN0YW5jZS52YWx1ZT10LmZhckRpc3RhbmNlfWZ1bmN0aW9uIEkoZSx0KXt0LmJ1bXBNYXAmJihlLmJ1bXBNYXAudmFsdWU9dC5idW1wTWFwLGUuYnVtcFNjYWxlLnZhbHVlPXQuYnVtcFNjYWxlLHQuc2lkZT09PVlvJiYoZS5idW1wU2NhbGUudmFsdWUqPS0xKSksdC5ub3JtYWxNYXAmJihlLm5vcm1hbE1hcC52YWx1ZT10Lm5vcm1hbE1hcCxlLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkodC5ub3JtYWxTY2FsZSksdC5zaWRlPT09WW8mJmUubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpLHQuZGlzcGxhY2VtZW50TWFwJiYoZS5kaXNwbGFjZW1lbnRNYXAudmFsdWU9dC5kaXNwbGFjZW1lbnRNYXAsZS5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT10LmRpc3BsYWNlbWVudFNjYWxlLGUuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT10LmRpc3BsYWNlbWVudEJpYXMpfWZ1bmN0aW9uIE4oZSx0KXtlLmFtYmllbnRMaWdodENvbG9yLm5lZWRzVXBkYXRlPXQsZS5saWdodFByb2JlLm5lZWRzVXBkYXRlPXQsZS5kaXJlY3Rpb25hbExpZ2h0cy5uZWVkc1VwZGF0ZT10LGUucG9pbnRMaWdodHMubmVlZHNVcGRhdGU9dCxlLnNwb3RMaWdodHMubmVlZHNVcGRhdGU9dCxlLnJlY3RBcmVhTGlnaHRzLm5lZWRzVXBkYXRlPXQsZS5oZW1pc3BoZXJlTGlnaHRzLm5lZWRzVXBkYXRlPXR9ZnVuY3Rpb24geihlKXtyZXR1cm4gZS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fGUuaXNNZXNoVG9vbk1hdGVyaWFsfHxlLmlzTWVzaFBob25nTWF0ZXJpYWx8fGUuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8ZS5pc1NoYWRvd01hdGVyaWFsfHxlLmlzU2hhZGVyTWF0ZXJpYWwmJiEwPT09ZS5saWdodHN9ZT1lfHx7fTt2YXIgQj12b2lkIDAhPT1lLmNhbnZhcz9lLmNhbnZhczpkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJjYW52YXNcIiksVT12b2lkIDAhPT1lLmNvbnRleHQ/ZS5jb250ZXh0Om51bGwsRj12b2lkIDAhPT1lLmFscGhhJiZlLmFscGhhLEc9dm9pZCAwPT09ZS5kZXB0aHx8ZS5kZXB0aCxIPXZvaWQgMD09PWUuc3RlbmNpbHx8ZS5zdGVuY2lsLFY9dm9pZCAwIT09ZS5hbnRpYWxpYXMmJmUuYW50aWFsaWFzLGo9dm9pZCAwPT09ZS5wcmVtdWx0aXBsaWVkQWxwaGF8fGUucHJlbXVsdGlwbGllZEFscGhhLGs9dm9pZCAwIT09ZS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXImJmUucHJlc2VydmVEcmF3aW5nQnVmZmVyLHE9dm9pZCAwIT09ZS5wb3dlclByZWZlcmVuY2U/ZS5wb3dlclByZWZlcmVuY2U6XCJkZWZhdWx0XCIsWD12b2lkIDAhPT1lLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxZPW51bGwsWj1udWxsO3RoaXMuZG9tRWxlbWVudD1CLHRoaXMuZGVidWc9e2NoZWNrU2hhZGVyRXJyb3JzOiEwfSx0aGlzLmF1dG9DbGVhcj0hMCx0aGlzLmF1dG9DbGVhckNvbG9yPSEwLHRoaXMuYXV0b0NsZWFyRGVwdGg9ITAsdGhpcy5hdXRvQ2xlYXJTdGVuY2lsPSEwLHRoaXMuc29ydE9iamVjdHM9ITAsdGhpcy5jbGlwcGluZ1BsYW5lcz1bXSx0aGlzLmxvY2FsQ2xpcHBpbmdFbmFibGVkPSExLHRoaXMuZ2FtbWFGYWN0b3I9Mix0aGlzLmdhbW1hT3V0cHV0PSExLHRoaXMucGh5c2ljYWxseUNvcnJlY3RMaWdodHM9ITEsdGhpcy50b25lTWFwcGluZz1Ecyx0aGlzLnRvbmVNYXBwaW5nRXhwb3N1cmU9MSx0aGlzLnRvbmVNYXBwaW5nV2hpdGVQb2ludD0xLHRoaXMubWF4TW9ycGhUYXJnZXRzPTgsdGhpcy5tYXhNb3JwaE5vcm1hbHM9NDt2YXIgSixRPXRoaXMsbmU9ITEscmU9bnVsbCxwZT0wLG1lPTAsdmU9bnVsbCxnZT1udWxsLHllPS0xLHhlPXtnZW9tZXRyeTpudWxsLHByb2dyYW06bnVsbCx3aXJlZnJhbWU6ITF9LGJlPW51bGwsd2U9bnVsbCxfZT1uZXcgcyxNZT1uZXcgcyxTZT1udWxsLFRlPUIud2lkdGgsRWU9Qi5oZWlnaHQsQWU9MSxMZT1uZXcgcygwLDAsVGUsRWUpLFJlPW5ldyBzKDAsMCxUZSxFZSksUGU9ITEsQ2U9bmV3ICQsT2U9bmV3IHNlLERlPSExLEllPSExLE5lPW5ldyBoLHplPW5ldyBpO3RyeXt2YXIgQmU9e2FscGhhOkYsZGVwdGg6RyxzdGVuY2lsOkgsYW50aWFsaWFzOlYscHJlbXVsdGlwbGllZEFscGhhOmoscHJlc2VydmVEcmF3aW5nQnVmZmVyOmsscG93ZXJQcmVmZXJlbmNlOnEsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDpYLHhyQ29tcGF0aWJsZTohMH07aWYoQi5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLGEsITEpLEIuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsbywhMSksbnVsbD09PShKPVV8fEIuZ2V0Q29udGV4dChcIndlYmdsXCIsQmUpfHxCLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixCZSkpKXRocm93IG51bGwhPT1CLmdldENvbnRleHQoXCJ3ZWJnbFwiKT9uZXcgRXJyb3IoXCJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0IHdpdGggeW91ciBzZWxlY3RlZCBhdHRyaWJ1dGVzLlwiKTpuZXcgRXJyb3IoXCJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0LlwiKTt2b2lkIDA9PT1KLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCYmKEouZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJue3JhbmdlTWluOjEscmFuZ2VNYXg6MSxwcmVjaXNpb246MX19KX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogXCIrZS5tZXNzYWdlKSxlfXZhciBVZSxGZSxHZSxIZSxWZSxqZSxrZSxXZSxxZSxYZSxZZSxaZSxKZSxRZSxLZSwkZSxldDtyKCk7dmFyIHR0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwieHJcImluIG5hdmlnYXRvcj9uZXcgSnQoUSxKKTpuZXcgWnQoUSk7dGhpcy54cj10dDt2YXIgbnQ9bmV3IFd0KFEsSiksaXQ9bmV3IEd0KFEscWUsRmUubWF4VGV4dHVyZVNpemUpO3RoaXMuc2hhZG93TWFwPWl0LHRoaXMuZ2V0Q29udGV4dD1mdW5jdGlvbigpe3JldHVybiBKfSx0aGlzLmdldENvbnRleHRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIEouZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKX0sdGhpcy5mb3JjZUNvbnRleHRMb3NzPWZ1bmN0aW9uKCl7dmFyIGU9VWUuZ2V0KFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO2UmJmUubG9zZUNvbnRleHQoKX0sdGhpcy5mb3JjZUNvbnRleHRSZXN0b3JlPWZ1bmN0aW9uKCl7dmFyIGU9VWUuZ2V0KFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO2UmJmUucmVzdG9yZUNvbnRleHQoKX0sdGhpcy5nZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIEFlfSx0aGlzLnNldFBpeGVsUmF0aW89ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmKEFlPWUsdGhpcy5zZXRTaXplKFRlLEVlLCExKSl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIldlYkdMUmVuZGVyZXI6IC5nZXRzaXplKCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yMiBhcyBhbiBhcmd1bWVudFwiKSxlPW5ldyBuKSxlLnNldChUZSxFZSl9LHRoaXMuc2V0U2l6ZT1mdW5jdGlvbihlLHQsbil7aWYodHQuaXNQcmVzZW50aW5nKCkpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ2FuJ3QgY2hhbmdlIHNpemUgd2hpbGUgVlIgZGV2aWNlIGlzIHByZXNlbnRpbmcuXCIpO1RlPWUsRWU9dCxCLndpZHRoPU1hdGguZmxvb3IoZSpBZSksQi5oZWlnaHQ9TWF0aC5mbG9vcih0KkFlKSwhMSE9PW4mJihCLnN0eWxlLndpZHRoPWUrXCJweFwiLEIuc3R5bGUuaGVpZ2h0PXQrXCJweFwiKSx0aGlzLnNldFZpZXdwb3J0KDAsMCxlLHQpfSx0aGlzLmdldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiV2ViR0xSZW5kZXJlcjogLmdldGRyYXdpbmdCdWZmZXJTaXplKCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yMiBhcyBhbiBhcmd1bWVudFwiKSxlPW5ldyBuKSxlLnNldChUZSpBZSxFZSpBZSkuZmxvb3IoKX0sdGhpcy5zZXREcmF3aW5nQnVmZmVyU2l6ZT1mdW5jdGlvbihlLHQsbil7VGU9ZSxFZT10LEFlPW4sQi53aWR0aD1NYXRoLmZsb29yKGUqbiksQi5oZWlnaHQ9TWF0aC5mbG9vcih0Km4pLHRoaXMuc2V0Vmlld3BvcnQoMCwwLGUsdCl9LHRoaXMuZ2V0Q3VycmVudFZpZXdwb3J0PWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiV2ViR0xSZW5kZXJlcjogLmdldEN1cnJlbnRWaWV3cG9ydCgpIG5vdyByZXF1aXJlcyBhIFZlY3RvcjQgYXMgYW4gYXJndW1lbnRcIiksZT1uZXcgcyksZS5jb3B5KF9lKX0sdGhpcy5nZXRWaWV3cG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5KExlKX0sdGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbihlLHQsbixyKXtlLmlzVmVjdG9yND9MZS5zZXQoZS54LGUueSxlLnosZS53KTpMZS5zZXQoZSx0LG4sciksR2Uudmlld3BvcnQoX2UuY29weShMZSkubXVsdGlwbHlTY2FsYXIoQWUpLmZsb29yKCkpfSx0aGlzLmdldFNjaXNzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weShSZSl9LHRoaXMuc2V0U2Npc3Nvcj1mdW5jdGlvbihlLHQsbixyKXtlLmlzVmVjdG9yND9SZS5zZXQoZS54LGUueSxlLnosZS53KTpSZS5zZXQoZSx0LG4sciksR2Uuc2Npc3NvcihNZS5jb3B5KFJlKS5tdWx0aXBseVNjYWxhcihBZSkuZmxvb3IoKSl9LHRoaXMuZ2V0U2Npc3NvclRlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gUGV9LHRoaXMuc2V0U2Npc3NvclRlc3Q9ZnVuY3Rpb24oZSl7R2Uuc2V0U2Npc3NvclRlc3QoUGU9ZSl9LHRoaXMuZ2V0Q2xlYXJDb2xvcj1mdW5jdGlvbigpe3JldHVybiBKZS5nZXRDbGVhckNvbG9yKCl9LHRoaXMuc2V0Q2xlYXJDb2xvcj1mdW5jdGlvbigpe0plLnNldENsZWFyQ29sb3IuYXBwbHkoSmUsYXJndW1lbnRzKX0sdGhpcy5nZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7cmV0dXJuIEplLmdldENsZWFyQWxwaGEoKX0sdGhpcy5zZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7SmUuc2V0Q2xlYXJBbHBoYS5hcHBseShKZSxhcmd1bWVudHMpfSx0aGlzLmNsZWFyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0wOyh2b2lkIDA9PT1lfHxlKSYmKHJ8PTE2Mzg0KSwodm9pZCAwPT09dHx8dCkmJihyfD0yNTYpLCh2b2lkIDA9PT1ufHxuKSYmKHJ8PTEwMjQpLEouY2xlYXIocil9LHRoaXMuY2xlYXJDb2xvcj1mdW5jdGlvbigpe3RoaXMuY2xlYXIoITAsITEsITEpfSx0aGlzLmNsZWFyRGVwdGg9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCExLCEwLCExKX0sdGhpcy5jbGVhclN0ZW5jaWw9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCExLCExLCEwKX0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7Qi5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLGEsITEpLEIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsbywhMSksWWUuZGlzcG9zZSgpLFplLmRpc3Bvc2UoKSxWZS5kaXNwb3NlKCkscWUuZGlzcG9zZSgpLHR0LmRpc3Bvc2UoKSxvdC5zdG9wKCl9LHRoaXMucmVuZGVyQnVmZmVySW1tZWRpYXRlPWZ1bmN0aW9uKGUsdCl7R2UuaW5pdEF0dHJpYnV0ZXMoKTt2YXIgbj1WZS5nZXQoZSk7ZS5oYXNQb3NpdGlvbnMmJiFuLnBvc2l0aW9uJiYobi5wb3NpdGlvbj1KLmNyZWF0ZUJ1ZmZlcigpKSxlLmhhc05vcm1hbHMmJiFuLm5vcm1hbCYmKG4ubm9ybWFsPUouY3JlYXRlQnVmZmVyKCkpLGUuaGFzVXZzJiYhbi51diYmKG4udXY9Si5jcmVhdGVCdWZmZXIoKSksZS5oYXNDb2xvcnMmJiFuLmNvbG9yJiYobi5jb2xvcj1KLmNyZWF0ZUJ1ZmZlcigpKTt2YXIgcj10LmdldEF0dHJpYnV0ZXMoKTtlLmhhc1Bvc2l0aW9ucyYmKEouYmluZEJ1ZmZlcigzNDk2MixuLnBvc2l0aW9uKSxKLmJ1ZmZlckRhdGEoMzQ5NjIsZS5wb3NpdGlvbkFycmF5LDM1MDQ4KSxHZS5lbmFibGVBdHRyaWJ1dGUoci5wb3NpdGlvbiksSi52ZXJ0ZXhBdHRyaWJQb2ludGVyKHIucG9zaXRpb24sMyw1MTI2LCExLDAsMCkpLGUuaGFzTm9ybWFscyYmKEouYmluZEJ1ZmZlcigzNDk2MixuLm5vcm1hbCksSi5idWZmZXJEYXRhKDM0OTYyLGUubm9ybWFsQXJyYXksMzUwNDgpLEdlLmVuYWJsZUF0dHJpYnV0ZShyLm5vcm1hbCksSi52ZXJ0ZXhBdHRyaWJQb2ludGVyKHIubm9ybWFsLDMsNTEyNiwhMSwwLDApKSxlLmhhc1V2cyYmKEouYmluZEJ1ZmZlcigzNDk2MixuLnV2KSxKLmJ1ZmZlckRhdGEoMzQ5NjIsZS51dkFycmF5LDM1MDQ4KSxHZS5lbmFibGVBdHRyaWJ1dGUoci51diksSi52ZXJ0ZXhBdHRyaWJQb2ludGVyKHIudXYsMiw1MTI2LCExLDAsMCkpLGUuaGFzQ29sb3JzJiYoSi5iaW5kQnVmZmVyKDM0OTYyLG4uY29sb3IpLEouYnVmZmVyRGF0YSgzNDk2MixlLmNvbG9yQXJyYXksMzUwNDgpLEdlLmVuYWJsZUF0dHJpYnV0ZShyLmNvbG9yKSxKLnZlcnRleEF0dHJpYlBvaW50ZXIoci5jb2xvciwzLDUxMjYsITEsMCwwKSksR2UuZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXMoKSxKLmRyYXdBcnJheXMoNCwwLGUuY291bnQpLGUuY291bnQ9MH0sdGhpcy5yZW5kZXJCdWZmZXJEaXJlY3Q9ZnVuY3Rpb24oZSxuLHIsaSxhLG8pe3ZhciBzPWEuaXNNZXNoJiZhLm1hdHJpeFdvcmxkLmRldGVybWluYW50KCk8MCxjPXgoZSxuLGksYSk7R2Uuc2V0TWF0ZXJpYWwoaSxzKTt2YXIgbD0hMTt4ZS5nZW9tZXRyeT09PXIuaWQmJnhlLnByb2dyYW09PT1jLmlkJiZ4ZS53aXJlZnJhbWU9PT0oITA9PT1pLndpcmVmcmFtZSl8fCh4ZS5nZW9tZXRyeT1yLmlkLHhlLnByb2dyYW09Yy5pZCx4ZS53aXJlZnJhbWU9ITA9PT1pLndpcmVmcmFtZSxsPSEwKSwoaS5tb3JwaFRhcmdldHN8fGkubW9ycGhOb3JtYWxzKSYmKFFlLnVwZGF0ZShhLHIsaSxjKSxsPSEwKTt2YXIgaD1yLmluZGV4LHU9ci5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKChudWxsPT09aHx8MCE9PWguY291bnQpJiZ2b2lkIDAhPT11JiYwIT09dS5jb3VudCl7dmFyIHA9MTshMD09PWkud2lyZWZyYW1lJiYoaD1XZS5nZXRXaXJlZnJhbWVBdHRyaWJ1dGUocikscD0yKTt2YXIgZixtPUtlO251bGwhPT1oJiYoZj1rZS5nZXQoaCksbT0kZSxtLnNldEluZGV4KGYpKSxsJiYoZChhLHIsaSxjKSxudWxsIT09aCYmSi5iaW5kQnVmZmVyKDM0OTYzLGYuYnVmZmVyKSk7dmFyIHY9bnVsbCE9PWg/aC5jb3VudDp1LmNvdW50LGc9ci5kcmF3UmFuZ2Uuc3RhcnQqcCx5PXIuZHJhd1JhbmdlLmNvdW50KnAsYj1udWxsIT09bz9vLnN0YXJ0KnA6MCx3PW51bGwhPT1vP28uY291bnQqcDoxLzAsXz1NYXRoLm1heChnLGIpLE09TWF0aC5taW4odixnK3ksYit3KS0xLFM9TWF0aC5tYXgoMCxNLV8rMSk7aWYoMCE9PVMpe2lmKGEuaXNNZXNoKSEwPT09aS53aXJlZnJhbWU/KEdlLnNldExpbmVXaWR0aChpLndpcmVmcmFtZUxpbmV3aWR0aCp0KCkpLG0uc2V0TW9kZSgxKSk6bS5zZXRNb2RlKDQpO2Vsc2UgaWYoYS5pc0xpbmUpe3ZhciBUPWkubGluZXdpZHRoO3ZvaWQgMD09PVQmJihUPTEpLEdlLnNldExpbmVXaWR0aChUKnQoKSksYS5pc0xpbmVTZWdtZW50cz9tLnNldE1vZGUoMSk6YS5pc0xpbmVMb29wP20uc2V0TW9kZSgyKTptLnNldE1vZGUoMyl9ZWxzZSBhLmlzUG9pbnRzP20uc2V0TW9kZSgwKTphLmlzU3ByaXRlJiZtLnNldE1vZGUoNCk7YS5pc0luc3RhbmNlZE1lc2g/bS5yZW5kZXJJbnN0YW5jZXMocixfLFMsYS5jb3VudCk6ci5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5P20ucmVuZGVySW5zdGFuY2VzKHIsXyxTLHIubWF4SW5zdGFuY2VkQ291bnQpOm0ucmVuZGVyKF8sUyl9fX0sdGhpcy5jb21waWxlPWZ1bmN0aW9uKGUsdCl7Wj1aZS5nZXQoZSx0KSxaLmluaXQoKSxlLnRyYXZlcnNlKGZ1bmN0aW9uKGUpe2UuaXNMaWdodCYmKFoucHVzaExpZ2h0KGUpLGUuY2FzdFNoYWRvdyYmWi5wdXNoU2hhZG93KGUpKX0pLFouc2V0dXBMaWdodHModCksZS50cmF2ZXJzZShmdW5jdGlvbih0KXtpZih0Lm1hdGVyaWFsKWlmKEFycmF5LmlzQXJyYXkodC5tYXRlcmlhbCkpZm9yKHZhciBuPTA7bjx0Lm1hdGVyaWFsLmxlbmd0aDtuKyspeSh0Lm1hdGVyaWFsW25dLGUuZm9nLHQpO2Vsc2UgeSh0Lm1hdGVyaWFsLGUuZm9nLHQpfSl9O3ZhciBhdD1udWxsLG90PW5ldyBlZTtvdC5zZXRBbmltYXRpb25Mb29wKGYpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJm90LnNldENvbnRleHQod2luZG93KSx0aGlzLnNldEFuaW1hdGlvbkxvb3A9ZnVuY3Rpb24oZSl7YXQ9ZSx0dC5zZXRBbmltYXRpb25Mb29wKGUpLG90LnN0YXJ0KCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtpZih2b2lkIDAhPT1hcmd1bWVudHNbMl0mJihjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcigpOiB0aGUgcmVuZGVyVGFyZ2V0IGFyZ3VtZW50IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc2V0UmVuZGVyVGFyZ2V0KCkgaW5zdGVhZC5cIiksbj1hcmd1bWVudHNbMl0pLHZvaWQgMCE9PWFyZ3VtZW50c1szXSYmKGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXIucmVuZGVyKCk6IHRoZSBmb3JjZUNsZWFyIGFyZ3VtZW50IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuY2xlYXIoKSBpbnN0ZWFkLlwiKSxyPWFyZ3VtZW50c1szXSksIXR8fCF0LmlzQ2FtZXJhKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcjogY2FtZXJhIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5DYW1lcmEuXCIpO2lmKCFuZSl7eGUuZ2VvbWV0cnk9bnVsbCx4ZS5wcm9ncmFtPW51bGwseGUud2lyZWZyYW1lPSExLHllPS0xLGJlPW51bGwsITA9PT1lLmF1dG9VcGRhdGUmJmUudXBkYXRlTWF0cml4V29ybGQoKSxudWxsPT09dC5wYXJlbnQmJnQudXBkYXRlTWF0cml4V29ybGQoKSx0dC5lbmFibGVkJiZ0dC5pc1ByZXNlbnRpbmcoKSYmKHQ9dHQuZ2V0Q2FtZXJhKHQpKSxaPVplLmdldChlLHQpLFouaW5pdCgpLGUub25CZWZvcmVSZW5kZXIoUSxlLHQsbnx8dmUpLE5lLm11bHRpcGx5TWF0cmljZXModC5wcm9qZWN0aW9uTWF0cml4LHQubWF0cml4V29ybGRJbnZlcnNlKSxDZS5zZXRGcm9tTWF0cml4KE5lKSxJZT10aGlzLmxvY2FsQ2xpcHBpbmdFbmFibGVkLERlPU9lLmluaXQodGhpcy5jbGlwcGluZ1BsYW5lcyxJZSx0KSxZPVllLmdldChlLHQpLFkuaW5pdCgpLG0oZSx0LDAsUS5zb3J0T2JqZWN0cyksITA9PT1RLnNvcnRPYmplY3RzJiZZLnNvcnQoKSxEZSYmT2UuYmVnaW5TaGFkb3dzKCk7dmFyIGk9Wi5zdGF0ZS5zaGFkb3dzQXJyYXk7aXQucmVuZGVyKGksZSx0KSxaLnNldHVwTGlnaHRzKHQpLERlJiZPZS5lbmRTaGFkb3dzKCksdGhpcy5pbmZvLmF1dG9SZXNldCYmdGhpcy5pbmZvLnJlc2V0KCksdm9pZCAwIT09biYmdGhpcy5zZXRSZW5kZXJUYXJnZXQobiksdHQuZW5hYmxlZCYmbnQuaXNBdmFpbGFibGUoKSYmbnQuYXR0YWNoQ2FtZXJhKHQpLEplLnJlbmRlcihZLGUsdCxyKTt2YXIgYT1ZLm9wYXF1ZSxvPVkudHJhbnNwYXJlbnQ7aWYoZS5vdmVycmlkZU1hdGVyaWFsKXt2YXIgcz1lLm92ZXJyaWRlTWF0ZXJpYWw7YS5sZW5ndGgmJnYoYSxlLHQscyksby5sZW5ndGgmJnYobyxlLHQscyl9ZWxzZSBhLmxlbmd0aCYmdihhLGUsdCksby5sZW5ndGgmJnYobyxlLHQpO2Uub25BZnRlclJlbmRlcihRLGUsdCksbnVsbCE9PXZlJiYoamUudXBkYXRlUmVuZGVyVGFyZ2V0TWlwbWFwKHZlKSxqZS51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldCh2ZSkpLEdlLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCghMCksR2UuYnVmZmVycy5kZXB0aC5zZXRNYXNrKCEwKSxHZS5idWZmZXJzLmNvbG9yLnNldE1hc2soITApLEdlLnNldFBvbHlnb25PZmZzZXQoITEpLHR0LmVuYWJsZWQmJihudC5pc0F2YWlsYWJsZSgpJiZudC5kZXRhY2hDYW1lcmEodCksdHQuc3VibWl0RnJhbWUoKSksWT1udWxsLFo9bnVsbH19LHRoaXMuc2V0VGV4dHVyZTJEPWZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dCYmdC5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYoZXx8KGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXIuc2V0VGV4dHVyZTJEOiBkb24ndCB1c2UgcmVuZGVyIHRhcmdldHMgYXMgdGV4dHVyZXMuIFVzZSB0aGVpciAudGV4dHVyZSBwcm9wZXJ0eSBpbnN0ZWFkLlwiKSxlPSEwKSx0PXQudGV4dHVyZSksamUuc2V0VGV4dHVyZTJEKHQsbil9fSgpLHRoaXMuc2V0RnJhbWVidWZmZXI9ZnVuY3Rpb24oZSl7cmUhPT1lJiZudWxsPT09dmUmJkouYmluZEZyYW1lYnVmZmVyKDM2MTYwLGUpLHJlPWV9LHRoaXMuZ2V0QWN0aXZlQ3ViZUZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gcGV9LHRoaXMuZ2V0QWN0aXZlTWlwbWFwTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gbWV9LHRoaXMuZ2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHZlfSx0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbihlLHQsbil7dmU9ZSxwZT10LG1lPW4sZSYmdm9pZCAwPT09VmUuZ2V0KGUpLl9fd2ViZ2xGcmFtZWJ1ZmZlciYmamUuc2V0dXBSZW5kZXJUYXJnZXQoZSk7dmFyIHI9cmUsaT0hMTtpZihlKXt2YXIgYT1WZS5nZXQoZSkuX193ZWJnbEZyYW1lYnVmZmVyO2UuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU/KHI9YVt0fHwwXSxpPSEwKTpyPWUuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0P1ZlLmdldChlKS5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI6YSxfZS5jb3B5KGUudmlld3BvcnQpLE1lLmNvcHkoZS5zY2lzc29yKSxTZT1lLnNjaXNzb3JUZXN0fWVsc2UgX2UuY29weShMZSkubXVsdGlwbHlTY2FsYXIoQWUpLmZsb29yKCksTWUuY29weShSZSkubXVsdGlwbHlTY2FsYXIoQWUpLmZsb29yKCksU2U9UGU7aWYoZ2UhPT1yJiYoSi5iaW5kRnJhbWVidWZmZXIoMzYxNjAsciksZ2U9ciksR2Uudmlld3BvcnQoX2UpLEdlLnNjaXNzb3IoTWUpLEdlLnNldFNjaXNzb3JUZXN0KFNlKSxpKXt2YXIgbz1WZS5nZXQoZS50ZXh0dXJlKTtKLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLDM2MDY0LDM0MDY5Kyh0fHwwKSxvLl9fd2ViZ2xUZXh0dXJlLG58fDApfX0sdGhpcy5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzPWZ1bmN0aW9uKGUsdCxuLHIsaSxhLG8pe2lmKCFlfHwhZS5pc1dlYkdMUmVuZGVyVGFyZ2V0KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQuXCIpO3ZhciBzPVZlLmdldChlKS5fX3dlYmdsRnJhbWVidWZmZXI7aWYoZS5pc1dlYkdMUmVuZGVyVGFyZ2V0Q3ViZSYmdm9pZCAwIT09byYmKHM9c1tvXSkscyl7dmFyIGM9ITE7cyE9PWdlJiYoSi5iaW5kRnJhbWVidWZmZXIoMzYxNjAscyksYz0hMCk7dHJ5e3ZhciBsPWUudGV4dHVyZSxoPWwuZm9ybWF0LHU9bC50eXBlO2lmKGghPT1mYyYmZXQuY29udmVydChoKSE9PUouZ2V0UGFyYW1ldGVyKDM1NzM5KSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IGluIFJHQkEgb3IgaW1wbGVtZW50YXRpb24gZGVmaW5lZCBmb3JtYXQuXCIpO2lmKCEodT09PWVjfHxldC5jb252ZXJ0KHUpPT09Si5nZXRQYXJhbWV0ZXIoMzU3MzgpfHx1PT09b2MmJihGZS5pc1dlYkdMMnx8VWUuZ2V0KFwiT0VTX3RleHR1cmVfZmxvYXRcIil8fFVlLmdldChcIldFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKSl8fHU9PT1zYyYmKEZlLmlzV2ViR0wyP1VlLmdldChcIkVYVF9jb2xvcl9idWZmZXJfZmxvYXRcIik6VWUuZ2V0KFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKSkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS5cIik7MzYwNTM9PT1KLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoMzYxNjApP3Q+PTAmJnQ8PWUud2lkdGgtciYmbj49MCYmbjw9ZS5oZWlnaHQtaSYmSi5yZWFkUGl4ZWxzKHQsbixyLGksZXQuY29udmVydChoKSxldC5jb252ZXJ0KHUpLGEpOmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlYWRQaXhlbHMgZnJvbSByZW5kZXJUYXJnZXQgZmFpbGVkLiBGcmFtZWJ1ZmZlciBub3QgY29tcGxldGUuXCIpfWZpbmFsbHl7YyYmSi5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZ2UpfX19LHRoaXMuY29weUZyYW1lYnVmZmVyVG9UZXh0dXJlPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0wKTt2YXIgcj1NYXRoLnBvdygyLC1uKSxpPU1hdGguZmxvb3IodC5pbWFnZS53aWR0aCpyKSxhPU1hdGguZmxvb3IodC5pbWFnZS5oZWlnaHQqciksbz1ldC5jb252ZXJ0KHQuZm9ybWF0KTtqZS5zZXRUZXh0dXJlMkQodCwwKSxKLmNvcHlUZXhJbWFnZTJEKDM1NTMsbixvLGUueCxlLnksaSxhLDApLEdlLnVuYmluZFRleHR1cmUoKX0sdGhpcy5jb3B5VGV4dHVyZVRvVGV4dHVyZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10LmltYWdlLndpZHRoLGE9dC5pbWFnZS5oZWlnaHQsbz1ldC5jb252ZXJ0KG4uZm9ybWF0KSxzPWV0LmNvbnZlcnQobi50eXBlKTtqZS5zZXRUZXh0dXJlMkQobiwwKSx0LmlzRGF0YVRleHR1cmU/Si50ZXhTdWJJbWFnZTJEKDM1NTMscnx8MCxlLngsZS55LGksYSxvLHMsdC5pbWFnZS5kYXRhKTpKLnRleFN1YkltYWdlMkQoMzU1MyxyfHwwLGUueCxlLnksbyxzLHQuaW1hZ2UpLEdlLnVuYmluZFRleHR1cmUoKX0sdGhpcy5pbml0VGV4dHVyZT1mdW5jdGlvbihlKXtqZS5zZXRUZXh0dXJlMkQoZSwwKSxHZS51bmJpbmRUZXh0dXJlKCl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9ic2VydmVcIix7ZGV0YWlsOnRoaXN9KSl9ZnVuY3Rpb24gS3QoZSx0KXt0aGlzLm5hbWU9XCJcIix0aGlzLmNvbG9yPW5ldyB3KGUpLHRoaXMuZGVuc2l0eT12b2lkIDAhPT10P3Q6MjVlLTV9ZnVuY3Rpb24gJHQoZSx0LG4pe3RoaXMubmFtZT1cIlwiLHRoaXMuY29sb3I9bmV3IHcoZSksdGhpcy5uZWFyPXZvaWQgMCE9PXQ/dDoxLHRoaXMuZmFyPXZvaWQgMCE9PW4/bjoxZTN9ZnVuY3Rpb24gZW4oZSx0KXt0aGlzLmFycmF5PWUsdGhpcy5zdHJpZGU9dCx0aGlzLmNvdW50PXZvaWQgMCE9PWU/ZS5sZW5ndGgvdDowLHRoaXMudXNhZ2U9b2wsdGhpcy51cGRhdGVSYW5nZT17b2Zmc2V0OjAsY291bnQ6LTF9LHRoaXMudmVyc2lvbj0wfWZ1bmN0aW9uIHRuKGUsdCxuLHIpe3RoaXMuZGF0YT1lLHRoaXMuaXRlbVNpemU9dCx0aGlzLm9mZnNldD1uLHRoaXMubm9ybWFsaXplZD0hMD09PXJ9ZnVuY3Rpb24gbm4oZSl7RS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlNwcml0ZU1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgdygxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5yb3RhdGlvbj0wLHRoaXMuc2l6ZUF0dGVudWF0aW9uPSEwLHRoaXMudHJhbnNwYXJlbnQ9ITAsdGhpcy5zZXRWYWx1ZXMoZSl9ZnVuY3Rpb24gcm4oZSl7aWYoZC5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlNwcml0ZVwiLHZvaWQgMD09PUF1KXtBdT1uZXcgRzt2YXIgdD1uZXcgRmxvYXQzMkFycmF5KFstLjUsLS41LDAsMCwwLC41LC0uNSwwLDEsMCwuNSwuNSwwLDEsMSwtLjUsLjUsMCwwLDFdKSxyPW5ldyBlbih0LDUpO0F1LnNldEluZGV4KFswLDEsMiwwLDIsM10pLEF1LnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHRuKHIsMywwLCExKSksQXUuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgdG4ociwyLDMsITEpKX10aGlzLmdlb21ldHJ5PUF1LHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09ZT9lOm5ldyBubix0aGlzLmNlbnRlcj1uZXcgbiguNSwuNSl9ZnVuY3Rpb24gYW4oZSx0LG4scixpLGEpe0N1LnN1YlZlY3RvcnMoZSxuKS5hZGRTY2FsYXIoLjUpLm11bHRpcGx5KHIpLHZvaWQgMCE9PWk/KE91Lng9YSpDdS54LWkqQ3UueSxPdS55PWkqQ3UueCthKkN1LnkpOk91LmNvcHkoQ3UpLGUuY29weSh0KSxlLngrPU91LngsZS55Kz1PdS55LGUuYXBwbHlNYXRyaXg0KER1KX1mdW5jdGlvbiBvbigpe2QuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJMT0RcIixPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtsZXZlbHM6e2VudW1lcmFibGU6ITAsdmFsdWU6W119fSksdGhpcy5hdXRvVXBkYXRlPSEwfWZ1bmN0aW9uIHNuKGUsdCl7ZSYmZS5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKFwiVEhSRUUuU2tpbm5lZE1lc2ggbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC5cIiksSC5jYWxsKHRoaXMsZSx0KSx0aGlzLnR5cGU9XCJTa2lubmVkTWVzaFwiLHRoaXMuYmluZE1vZGU9XCJhdHRhY2hlZFwiLHRoaXMuYmluZE1hdHJpeD1uZXcgaCx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlPW5ldyBofWZ1bmN0aW9uIGNuKGUsdCl7aWYoZT1lfHxbXSx0aGlzLmJvbmVzPWUuc2xpY2UoMCksdGhpcy5ib25lTWF0cmljZXM9bmV3IEZsb2F0MzJBcnJheSgxNip0aGlzLmJvbmVzLmxlbmd0aCksdGhpcy5mcmFtZT0tMSx2b2lkIDA9PT10KXRoaXMuY2FsY3VsYXRlSW52ZXJzZXMoKTtlbHNlIGlmKHRoaXMuYm9uZXMubGVuZ3RoPT09dC5sZW5ndGgpdGhpcy5ib25lSW52ZXJzZXM9dC5zbGljZSgwKTtlbHNle2NvbnNvbGUud2FybihcIlRIUkVFLlNrZWxldG9uIGJvbmVJbnZlcnNlcyBpcyB0aGUgd3JvbmcgbGVuZ3RoLlwiKSx0aGlzLmJvbmVJbnZlcnNlcz1bXTtmb3IodmFyIG49MCxyPXRoaXMuYm9uZXMubGVuZ3RoO248cjtuKyspdGhpcy5ib25lSW52ZXJzZXMucHVzaChuZXcgaCl9fWZ1bmN0aW9uIGxuKCl7ZC5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkJvbmVcIn1mdW5jdGlvbiBobihlLHQsbil7SC5jYWxsKHRoaXMsZSx0KSx0aGlzLmluc3RhbmNlTWF0cml4PW5ldyBMKG5ldyBGbG9hdDMyQXJyYXkoMTYqbiksMTYpLHRoaXMuY291bnQ9bn1mdW5jdGlvbiB1bihlKXtFLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGluZUJhc2ljTWF0ZXJpYWxcIix0aGlzLmNvbG9yPW5ldyB3KDE2Nzc3MjE1KSx0aGlzLmxpbmV3aWR0aD0xLHRoaXMubGluZWNhcD1cInJvdW5kXCIsdGhpcy5saW5lam9pbj1cInJvdW5kXCIsdGhpcy5zZXRWYWx1ZXMoZSl9ZnVuY3Rpb24gcG4oZSx0LG4pezE9PT1uJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuTGluZTogcGFyYW1ldGVyIFRIUkVFLkxpbmVQaWVjZXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gVXNlIFRIUkVFLkxpbmVTZWdtZW50cyBpbnN0ZWFkLlwiKSxkLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGluZVwiLHRoaXMuZ2VvbWV0cnk9dm9pZCAwIT09ZT9lOm5ldyBHLHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09dD90Om5ldyB1bih7Y29sb3I6MTY3NzcyMTUqTWF0aC5yYW5kb20oKX0pfWZ1bmN0aW9uIGRuKGUsdCl7cG4uY2FsbCh0aGlzLGUsdCksdGhpcy50eXBlPVwiTGluZVNlZ21lbnRzXCJ9ZnVuY3Rpb24gZm4oZSx0KXtwbi5jYWxsKHRoaXMsZSx0KSx0aGlzLnR5cGU9XCJMaW5lTG9vcFwifWZ1bmN0aW9uIG1uKGUpe0UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJQb2ludHNNYXRlcmlhbFwiLHRoaXMuY29sb3I9bmV3IHcoMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuc2l6ZT0xLHRoaXMuc2l6ZUF0dGVudWF0aW9uPSEwLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMuc2V0VmFsdWVzKGUpfWZ1bmN0aW9uIHZuKGUsdCl7ZC5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlBvaW50c1wiLHRoaXMuZ2VvbWV0cnk9dm9pZCAwIT09ZT9lOm5ldyBHLHRoaXMubWF0ZXJpYWw9dm9pZCAwIT09dD90Om5ldyBtbih7Y29sb3I6MTY3NzcyMTUqTWF0aC5yYW5kb20oKX0pLHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9ZnVuY3Rpb24gZ24oZSx0LG4scixhLG8scyl7dmFyIGM9bnAuZGlzdGFuY2VTcVRvUG9pbnQoZSk7aWYoYzxuKXt2YXIgbD1uZXcgaTtucC5jbG9zZXN0UG9pbnRUb1BvaW50KGUsbCksbC5hcHBseU1hdHJpeDQocik7dmFyIGg9YS5yYXkub3JpZ2luLmRpc3RhbmNlVG8obCk7aWYoaDxhLm5lYXJ8fGg+YS5mYXIpcmV0dXJuO28ucHVzaCh7ZGlzdGFuY2U6aCxkaXN0YW5jZVRvUmF5Ok1hdGguc3FydChjKSxwb2ludDpsLGluZGV4OnQsZmFjZTpudWxsLG9iamVjdDpzfSl9fWZ1bmN0aW9uIHluKGUsdCxuLHIsaSxhLHMsYyxsKXtvLmNhbGwodGhpcyxlLHQsbixyLGksYSxzLGMsbCksdGhpcy5mb3JtYXQ9dm9pZCAwIT09cz9zOmRjLHRoaXMubWluRmlsdGVyPXZvaWQgMCE9PWE/YTpRcyx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1pP2k6UXMsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9ZnVuY3Rpb24geG4oZSx0LG4scixpLGEscyxjLGwsaCx1LHApe28uY2FsbCh0aGlzLG51bGwsYSxzLGMsbCxoLHIsaSx1LHApLHRoaXMuaW1hZ2U9e3dpZHRoOnQsaGVpZ2h0Om59LHRoaXMubWlwbWFwcz1lLHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9ZnVuY3Rpb24gYm4oZSx0LG4scixpLGEscyxjLGwpe28uY2FsbCh0aGlzLGUsdCxuLHIsaSxhLHMsYyxsKSx0aGlzLm5lZWRzVXBkYXRlPSEwfWZ1bmN0aW9uIHduKGUsdCxuLHIsaSxhLHMsYyxsLGgpe2lmKChoPXZvaWQgMCE9PWg/aDp5YykhPT15YyYmaCE9PXhjKXRocm93IG5ldyBFcnJvcihcIkRlcHRoVGV4dHVyZSBmb3JtYXQgbXVzdCBiZSBlaXRoZXIgVEhSRUUuRGVwdGhGb3JtYXQgb3IgVEhSRUUuRGVwdGhTdGVuY2lsRm9ybWF0XCIpO3ZvaWQgMD09PW4mJmg9PT15YyYmKG49cmMpLHZvaWQgMD09PW4mJmg9PT14YyYmKG49dWMpLG8uY2FsbCh0aGlzLG51bGwscixpLGEscyxjLGgsbixsKSx0aGlzLmltYWdlPXt3aWR0aDplLGhlaWdodDp0fSx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1zP3M6WXMsdGhpcy5taW5GaWx0ZXI9dm9pZCAwIT09Yz9jOllzLHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9ZnVuY3Rpb24gX24oZSl7Ry5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIldpcmVmcmFtZUdlb21ldHJ5XCI7dmFyIHQsbixyLGEsbyxzLGMsbCxoLHUscD1bXSxkPVswLDBdLGY9e30sbT1bXCJhXCIsXCJiXCIsXCJjXCJdO2lmKGUmJmUuaXNHZW9tZXRyeSl7dmFyIHY9ZS5mYWNlcztmb3IodD0wLHI9di5sZW5ndGg7dDxyO3QrKyl7dmFyIGc9dlt0XTtmb3Iobj0wO248MztuKyspYz1nW21bbl1dLGw9Z1ttWyhuKzEpJTNdXSxkWzBdPU1hdGgubWluKGMsbCksZFsxXT1NYXRoLm1heChjLGwpLGg9ZFswXStcIixcIitkWzFdLHZvaWQgMD09PWZbaF0mJihmW2hdPXtpbmRleDE6ZFswXSxpbmRleDI6ZFsxXX0pfWZvcihoIGluIGYpcz1mW2hdLHU9ZS52ZXJ0aWNlc1tzLmluZGV4MV0scC5wdXNoKHUueCx1LnksdS56KSx1PWUudmVydGljZXNbcy5pbmRleDJdLHAucHVzaCh1LngsdS55LHUueil9ZWxzZSBpZihlJiZlLmlzQnVmZmVyR2VvbWV0cnkpe3ZhciB5LHgsYix3LF8sTSxTLFQ7aWYodT1uZXcgaSxudWxsIT09ZS5pbmRleCl7Zm9yKHk9ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uLHg9ZS5pbmRleCxiPWUuZ3JvdXBzLDA9PT1iLmxlbmd0aCYmKGI9W3tzdGFydDowLGNvdW50OnguY291bnQsbWF0ZXJpYWxJbmRleDowfV0pLGE9MCxvPWIubGVuZ3RoO2E8bzsrK2EpZm9yKHc9YlthXSxfPXcuc3RhcnQsTT13LmNvdW50LHQ9XyxyPV8rTTt0PHI7dCs9Mylmb3Iobj0wO248MztuKyspYz14LmdldFgodCtuKSxsPXguZ2V0WCh0KyhuKzEpJTMpLGRbMF09TWF0aC5taW4oYyxsKSxkWzFdPU1hdGgubWF4KGMsbCksaD1kWzBdK1wiLFwiK2RbMV0sdm9pZCAwPT09ZltoXSYmKGZbaF09e2luZGV4MTpkWzBdLGluZGV4MjpkWzFdfSk7Zm9yKGggaW4gZilzPWZbaF0sdS5mcm9tQnVmZmVyQXR0cmlidXRlKHkscy5pbmRleDEpLHAucHVzaCh1LngsdS55LHUueiksdS5mcm9tQnVmZmVyQXR0cmlidXRlKHkscy5pbmRleDIpLHAucHVzaCh1LngsdS55LHUueil9ZWxzZSBmb3IoeT1lLmF0dHJpYnV0ZXMucG9zaXRpb24sdD0wLHI9eS5jb3VudC8zO3Q8cjt0KyspZm9yKG49MDtuPDM7bisrKVM9Myp0K24sdS5mcm9tQnVmZmVyQXR0cmlidXRlKHksUykscC5wdXNoKHUueCx1LnksdS56KSxUPTMqdCsobisxKSUzLHUuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh5LFQpLHAucHVzaCh1LngsdS55LHUueil9dGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KHAsMykpfWZ1bmN0aW9uIE1uKGUsdCxuKXtrLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUGFyYW1ldHJpY0dlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtmdW5jOmUsc2xpY2VzOnQsc3RhY2tzOm59LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBTbihlLHQsbikpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfWZ1bmN0aW9uIFNuKGUsdCxuKXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtmdW5jOmUsc2xpY2VzOnQsc3RhY2tzOm59O3ZhciByLGEsbz1bXSxzPVtdLGM9W10sbD1bXSxoPW5ldyBpLHU9bmV3IGkscD1uZXcgaSxkPW5ldyBpLGY9bmV3IGk7ZS5sZW5ndGg8MyYmY29uc29sZS5lcnJvcihcIlRIUkVFLlBhcmFtZXRyaWNHZW9tZXRyeTogRnVuY3Rpb24gbXVzdCBub3cgbW9kaWZ5IGEgVmVjdG9yMyBhcyB0aGlyZCBwYXJhbWV0ZXIuXCIpO3ZhciBtPXQrMTtmb3Iocj0wO3I8PW47cisrKXt2YXIgdj1yL247Zm9yKGE9MDthPD10O2ErKyl7dmFyIGc9YS90O2UoZyx2LHUpLHMucHVzaCh1LngsdS55LHUueiksZy0xZS01Pj0wPyhlKGctMWUtNSx2LHApLGQuc3ViVmVjdG9ycyh1LHApKTooZShnKzFlLTUsdixwKSxkLnN1YlZlY3RvcnMocCx1KSksdi0xZS01Pj0wPyhlKGcsdi0xZS01LHApLGYuc3ViVmVjdG9ycyh1LHApKTooZShnLHYrMWUtNSxwKSxmLnN1YlZlY3RvcnMocCx1KSksaC5jcm9zc1ZlY3RvcnMoZCxmKS5ub3JtYWxpemUoKSxjLnB1c2goaC54LGgueSxoLnopLGwucHVzaChnLHYpfX1mb3Iocj0wO3I8bjtyKyspZm9yKGE9MDthPHQ7YSsrKXt2YXIgeT1yKm0rYSx4PXIqbSthKzEsYj0ocisxKSptK2ErMSx3PShyKzEpKm0rYTtvLnB1c2goeSx4LHcpLG8ucHVzaCh4LGIsdyl9dGhpcy5zZXRJbmRleChvKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoocywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgeihjLDMpKSxcbnRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgeihsLDIpKX1mdW5jdGlvbiBUbihlLHQsbixyKXtrLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUG9seWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt2ZXJ0aWNlczplLGluZGljZXM6dCxyYWRpdXM6bixkZXRhaWw6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEVuKGUsdCxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiBFbihlLHQscixhKXtmdW5jdGlvbiBvKGUsdCxuLHIpe3ZhciBpLGEsbz1NYXRoLnBvdygyLHIpLHM9W107Zm9yKGk9MDtpPD1vO2krKyl7c1tpXT1bXTt2YXIgbD1lLmNsb25lKCkubGVycChuLGkvbyksaD10LmNsb25lKCkubGVycChuLGkvbyksdT1vLWk7Zm9yKGE9MDthPD11O2ErKylzW2ldW2FdPTA9PT1hJiZpPT09bz9sOmwuY2xvbmUoKS5sZXJwKGgsYS91KX1mb3IoaT0wO2k8bztpKyspZm9yKGE9MDthPDIqKG8taSktMTthKyspe3ZhciBwPU1hdGguZmxvb3IoYS8yKTthJTI9PTA/KGMoc1tpXVtwKzFdKSxjKHNbaSsxXVtwXSksYyhzW2ldW3BdKSk6KGMoc1tpXVtwKzFdKSxjKHNbaSsxXVtwKzFdKSxjKHNbaSsxXVtwXSkpfX1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPTA7ZTxtLmxlbmd0aDtlKz02KXt2YXIgdD1tW2UrMF0sbj1tW2UrMl0scj1tW2UrNF0saT1NYXRoLm1heCh0LG4sciksYT1NYXRoLm1pbih0LG4scik7aT4uOSYmYTwuMSYmKHQ8LjImJihtW2UrMF0rPTEpLG48LjImJihtW2UrMl0rPTEpLHI8LjImJihtW2UrNF0rPTEpKX19ZnVuY3Rpb24gYyhlKXtmLnB1c2goZS54LGUueSxlLnopfWZ1bmN0aW9uIGwodCxuKXt2YXIgcj0zKnQ7bi54PWVbciswXSxuLnk9ZVtyKzFdLG4uej1lW3IrMl19ZnVuY3Rpb24gaCgpe2Zvcih2YXIgZT1uZXcgaSx0PW5ldyBpLHI9bmV3IGksYT1uZXcgaSxvPW5ldyBuLHM9bmV3IG4sYz1uZXcgbixsPTAsaD0wO2w8Zi5sZW5ndGg7bCs9OSxoKz02KXtlLnNldChmW2wrMF0sZltsKzFdLGZbbCsyXSksdC5zZXQoZltsKzNdLGZbbCs0XSxmW2wrNV0pLHIuc2V0KGZbbCs2XSxmW2wrN10sZltsKzhdKSxvLnNldChtW2grMF0sbVtoKzFdKSxzLnNldChtW2grMl0sbVtoKzNdKSxjLnNldChtW2grNF0sbVtoKzVdKSxhLmNvcHkoZSkuYWRkKHQpLmFkZChyKS5kaXZpZGVTY2FsYXIoMyk7dmFyIGQ9cChhKTt1KG8saCswLGUsZCksdShzLGgrMix0LGQpLHUoYyxoKzQscixkKX19ZnVuY3Rpb24gdShlLHQsbixyKXtyPDAmJjE9PT1lLngmJihtW3RdPWUueC0xKSwwPT09bi54JiYwPT09bi56JiYobVt0XT1yLzIvTWF0aC5QSSsuNSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gTWF0aC5hdGFuMihlLnosLWUueCl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gTWF0aC5hdGFuMigtZS55LE1hdGguc3FydChlLngqZS54K2UueiplLnopKX1HLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt2ZXJ0aWNlczplLGluZGljZXM6dCxyYWRpdXM6cixkZXRhaWw6YX0scj1yfHwxLGE9YXx8MDt2YXIgZj1bXSxtPVtdOyFmdW5jdGlvbihlKXtmb3IodmFyIG49bmV3IGkscj1uZXcgaSxhPW5ldyBpLHM9MDtzPHQubGVuZ3RoO3MrPTMpbCh0W3MrMF0sbiksbCh0W3MrMV0sciksbCh0W3MrMl0sYSksbyhuLHIsYSxlKX0oYSksZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBpLG49MDtuPGYubGVuZ3RoO24rPTMpdC54PWZbbiswXSx0Lnk9ZltuKzFdLHQuej1mW24rMl0sdC5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlKSxmW24rMF09dC54LGZbbisxXT10LnksZltuKzJdPXQuen0ociksZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IGksdD0wO3Q8Zi5sZW5ndGg7dCs9Myl7ZS54PWZbdCswXSxlLnk9Zlt0KzFdLGUuej1mW3QrMl07dmFyIG49cChlKS8yL01hdGguUEkrLjUscj1kKGUpL01hdGguUEkrLjU7bS5wdXNoKG4sMS1yKX1oKCkscygpfSgpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihmLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyB6KGYuc2xpY2UoKSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyB6KG0sMikpLDA9PT1hP3RoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTp0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKX1mdW5jdGlvbiBBbihlLHQpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJUZXRyYWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSxkZXRhaWw6dH0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IExuKGUsdCkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfWZ1bmN0aW9uIExuKGUsdCl7dmFyIG49WzEsMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xXSxyPVsyLDEsMCwwLDMsMiwxLDMsMCwyLDMsMV07RW4uY2FsbCh0aGlzLG4scixlLHQpLHRoaXMudHlwZT1cIlRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLGRldGFpbDp0fX1mdW5jdGlvbiBSbihlLHQpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJPY3RhaGVkcm9uR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLGRldGFpbDp0fSx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgUG4oZSx0KSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9ZnVuY3Rpb24gUG4oZSx0KXt2YXIgbj1bMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTFdLHI9WzAsMiw0LDAsNCwzLDAsMyw1LDAsNSwyLDEsMiw1LDEsNSwzLDEsMyw0LDEsNCwyXTtFbi5jYWxsKHRoaXMsbixyLGUsdCksdGhpcy50eXBlPVwiT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSxkZXRhaWw6dH19ZnVuY3Rpb24gQ24oZSx0KXtrLmNhbGwodGhpcyksdGhpcy50eXBlPVwiSWNvc2FoZWRyb25HZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOmUsZGV0YWlsOnR9LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBPbihlLHQpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiBPbihlLHQpe3ZhciBuPSgxK01hdGguc3FydCg1KSkvMixyPVstMSxuLDAsMSxuLDAsLTEsLW4sMCwxLC1uLDAsMCwtMSxuLDAsMSxuLDAsLTEsLW4sMCwxLC1uLG4sMCwtMSxuLDAsMSwtbiwwLC0xLC1uLDAsMV0saT1bMCwxMSw1LDAsNSwxLDAsMSw3LDAsNywxMCwwLDEwLDExLDEsNSw5LDUsMTEsNCwxMSwxMCwyLDEwLDcsNiw3LDEsOCwzLDksNCwzLDQsMiwzLDIsNiwzLDYsOCwzLDgsOSw0LDksNSwyLDQsMTEsNiwyLDEwLDgsNiw3LDksOCwxXTtFbi5jYWxsKHRoaXMscixpLGUsdCksdGhpcy50eXBlPVwiSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOmUsZGV0YWlsOnR9fWZ1bmN0aW9uIERuKGUsdCl7ay5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkRvZGVjYWhlZHJvbkdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSxkZXRhaWw6dH0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEluKGUsdCkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfWZ1bmN0aW9uIEluKGUsdCl7dmFyIG49KDErTWF0aC5zcXJ0KDUpKS8yLHI9MS9uLGk9Wy0xLC0xLC0xLC0xLC0xLDEsLTEsMSwtMSwtMSwxLDEsMSwtMSwtMSwxLC0xLDEsMSwxLC0xLDEsMSwxLDAsLXIsLW4sMCwtcixuLDAsciwtbiwwLHIsbiwtciwtbiwwLC1yLG4sMCxyLC1uLDAscixuLDAsLW4sMCwtcixuLDAsLXIsLW4sMCxyLG4sMCxyXSxhPVszLDExLDcsMyw3LDE1LDMsMTUsMTMsNywxOSwxNyw3LDE3LDYsNyw2LDE1LDE3LDQsOCwxNyw4LDEwLDE3LDEwLDYsOCwwLDE2LDgsMTYsMiw4LDIsMTAsMCwxMiwxLDAsMSwxOCwwLDE4LDE2LDYsMTAsMiw2LDIsMTMsNiwxMywxNSwyLDE2LDE4LDIsMTgsMywyLDMsMTMsMTgsMSw5LDE4LDksMTEsMTgsMTEsMyw0LDE0LDEyLDQsMTIsMCw0LDAsOCwxMSw5LDUsMTEsNSwxOSwxMSwxOSw3LDE5LDUsMTQsMTksMTQsNCwxOSw0LDE3LDEsMTIsMTQsMSwxNCw1LDEsNSw5XTtFbi5jYWxsKHRoaXMsaSxhLGUsdCksdGhpcy50eXBlPVwiRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLGRldGFpbDp0fX1mdW5jdGlvbiBObihlLHQsbixyLGksYSl7ay5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlR1YmVHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cGF0aDplLHR1YnVsYXJTZWdtZW50czp0LHJhZGl1czpuLHJhZGlhbFNlZ21lbnRzOnIsY2xvc2VkOml9LHZvaWQgMCE9PWEmJmNvbnNvbGUud2FybihcIlRIUkVFLlR1YmVHZW9tZXRyeTogdGFwZXIgaGFzIGJlZW4gcmVtb3ZlZC5cIik7dmFyIG89bmV3IHpuKGUsdCxuLHIsaSk7dGhpcy50YW5nZW50cz1vLnRhbmdlbnRzLHRoaXMubm9ybWFscz1vLm5vcm1hbHMsdGhpcy5iaW5vcm1hbHM9by5iaW5vcm1hbHMsdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobyksdGhpcy5tZXJnZVZlcnRpY2VzKCl9ZnVuY3Rpb24gem4oZSx0LHIsYSxvKXtmdW5jdGlvbiBzKG4pe3Y9ZS5nZXRQb2ludEF0KG4vdCx2KTt2YXIgaT1oLm5vcm1hbHNbbl0sbz1oLmJpbm9ybWFsc1tuXTtmb3IocD0wO3A8PWE7cCsrKXt2YXIgcz1wL2EqTWF0aC5QSSoyLGM9TWF0aC5zaW4ocyksbD0tTWF0aC5jb3Mocyk7Zi54PWwqaS54K2Mqby54LGYueT1sKmkueStjKm8ueSxmLno9bCppLnorYypvLnosZi5ub3JtYWxpemUoKSx5LnB1c2goZi54LGYueSxmLnopLGQueD12LngrcipmLngsZC55PXYueStyKmYueSxkLno9di56K3IqZi56LGcucHVzaChkLngsZC55LGQueil9fWZ1bmN0aW9uIGMoKXtmb3IocD0xO3A8PXQ7cCsrKWZvcih1PTE7dTw9YTt1Kyspe3ZhciBlPShhKzEpKihwLTEpKyh1LTEpLG49KGErMSkqcCsodS0xKSxyPShhKzEpKnArdSxpPShhKzEpKihwLTEpK3U7Yi5wdXNoKGUsbixpKSxiLnB1c2gobixyLGkpfX1mdW5jdGlvbiBsKCl7Zm9yKHU9MDt1PD10O3UrKylmb3IocD0wO3A8PWE7cCsrKW0ueD11L3QsbS55PXAvYSx4LnB1c2gobS54LG0ueSl9Ry5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlR1YmVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cGF0aDplLHR1YnVsYXJTZWdtZW50czp0LHJhZGl1czpyLHJhZGlhbFNlZ21lbnRzOmEsY2xvc2VkOm99LHQ9dHx8NjQscj1yfHwxLGE9YXx8OCxvPW98fCExO3ZhciBoPWUuY29tcHV0ZUZyZW5ldEZyYW1lcyh0LG8pO3RoaXMudGFuZ2VudHM9aC50YW5nZW50cyx0aGlzLm5vcm1hbHM9aC5ub3JtYWxzLHRoaXMuYmlub3JtYWxzPWguYmlub3JtYWxzO3ZhciB1LHAsZD1uZXcgaSxmPW5ldyBpLG09bmV3IG4sdj1uZXcgaSxnPVtdLHk9W10seD1bXSxiPVtdOyFmdW5jdGlvbigpe2Zvcih1PTA7dTx0O3UrKylzKHUpO3MoITE9PT1vP3Q6MCksbCgpLGMoKX0oKSx0aGlzLnNldEluZGV4KGIpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihnLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyB6KHksMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgeih4LDIpKX1mdW5jdGlvbiBCbihlLHQsbixyLGksYSxvKXtrLmNhbGwodGhpcyksdGhpcy50eXBlPVwiVG9ydXNLbm90R2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLHR1YmU6dCx0dWJ1bGFyU2VnbWVudHM6bixyYWRpYWxTZWdtZW50czpyLHA6aSxxOmF9LHZvaWQgMCE9PW8mJmNvbnNvbGUud2FybihcIlRIUkVFLlRvcnVzS25vdEdlb21ldHJ5OiBoZWlnaHRTY2FsZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNjYWxlKCB4LCB5LCB6ICkgaW5zdGVhZC5cIiksdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFVuKGUsdCxuLHIsaSxhKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9ZnVuY3Rpb24gVW4oZSx0LG4scixhLG8pe2Z1bmN0aW9uIHMoZSx0LG4scixpKXt2YXIgYT1NYXRoLmNvcyhlKSxvPU1hdGguc2luKGUpLHM9bi90KmUsYz1NYXRoLmNvcyhzKTtpLng9ciooMitjKSouNSphLGkueT1yKigyK2MpKm8qLjUsaS56PXIqTWF0aC5zaW4ocykqLjV9Ry5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSx0dWJlOnQsdHVidWxhclNlZ21lbnRzOm4scmFkaWFsU2VnbWVudHM6cixwOmEscTpvfSxlPWV8fDEsdD10fHwuNCxuPU1hdGguZmxvb3Iobil8fDY0LHI9TWF0aC5mbG9vcihyKXx8OCxhPWF8fDIsbz1vfHwzO3ZhciBjLGwsaD1bXSx1PVtdLHA9W10sZD1bXSxmPW5ldyBpLG09bmV3IGksdj1uZXcgaSxnPW5ldyBpLHk9bmV3IGkseD1uZXcgaSxiPW5ldyBpO2ZvcihjPTA7Yzw9bjsrK2Mpe3ZhciB3PWMvbiphKk1hdGguUEkqMjtmb3Iocyh3LGEsbyxlLHYpLHModysuMDEsYSxvLGUsZykseC5zdWJWZWN0b3JzKGcsdiksYi5hZGRWZWN0b3JzKGcsdikseS5jcm9zc1ZlY3RvcnMoeCxiKSxiLmNyb3NzVmVjdG9ycyh5LHgpLHkubm9ybWFsaXplKCksYi5ub3JtYWxpemUoKSxsPTA7bDw9cjsrK2wpe3ZhciBfPWwvcipNYXRoLlBJKjIsTT0tdCpNYXRoLmNvcyhfKSxTPXQqTWF0aC5zaW4oXyk7Zi54PXYueCsoTSpiLngrUyp5LngpLGYueT12LnkrKE0qYi55K1MqeS55KSxmLno9di56KyhNKmIueitTKnkueiksdS5wdXNoKGYueCxmLnksZi56KSxtLnN1YlZlY3RvcnMoZix2KS5ub3JtYWxpemUoKSxwLnB1c2gobS54LG0ueSxtLnopLGQucHVzaChjL24pLGQucHVzaChsL3IpfX1mb3IobD0xO2w8PW47bCsrKWZvcihjPTE7Yzw9cjtjKyspe3ZhciBUPShyKzEpKihsLTEpKyhjLTEpLEU9KHIrMSkqbCsoYy0xKSxBPShyKzEpKmwrYyxMPShyKzEpKihsLTEpK2M7aC5wdXNoKFQsRSxMKSxoLnB1c2goRSxBLEwpfXRoaXMuc2V0SW5kZXgoaCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KHUsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IHoocCwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyB6KGQsMikpfWZ1bmN0aW9uIEZuKGUsdCxuLHIsaSl7ay5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlRvcnVzR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLHR1YmU6dCxyYWRpYWxTZWdtZW50czpuLHR1YnVsYXJTZWdtZW50czpyLGFyYzppfSx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgR24oZSx0LG4scixpKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9ZnVuY3Rpb24gR24oZSx0LG4scixhKXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiVG9ydXNCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOmUsdHViZTp0LHJhZGlhbFNlZ21lbnRzOm4sdHVidWxhclNlZ21lbnRzOnIsYXJjOmF9LGU9ZXx8MSx0PXR8fC40LG49TWF0aC5mbG9vcihuKXx8OCxyPU1hdGguZmxvb3Iocil8fDYsYT1hfHwyKk1hdGguUEk7dmFyIG8scyxjPVtdLGw9W10saD1bXSx1PVtdLHA9bmV3IGksZD1uZXcgaSxmPW5ldyBpO2ZvcihvPTA7bzw9bjtvKyspZm9yKHM9MDtzPD1yO3MrKyl7dmFyIG09cy9yKmEsdj1vL24qTWF0aC5QSSoyO2QueD0oZSt0Kk1hdGguY29zKHYpKSpNYXRoLmNvcyhtKSxkLnk9KGUrdCpNYXRoLmNvcyh2KSkqTWF0aC5zaW4obSksZC56PXQqTWF0aC5zaW4odiksbC5wdXNoKGQueCxkLnksZC56KSxwLng9ZSpNYXRoLmNvcyhtKSxwLnk9ZSpNYXRoLnNpbihtKSxmLnN1YlZlY3RvcnMoZCxwKS5ub3JtYWxpemUoKSxoLnB1c2goZi54LGYueSxmLnopLHUucHVzaChzL3IpLHUucHVzaChvL24pfWZvcihvPTE7bzw9bjtvKyspZm9yKHM9MTtzPD1yO3MrKyl7dmFyIGc9KHIrMSkqbytzLTEseT0ocisxKSooby0xKStzLTEseD0ocisxKSooby0xKStzLGI9KHIrMSkqbytzO2MucHVzaChnLHksYiksYy5wdXNoKHkseCxiKX10aGlzLnNldEluZGV4KGMpLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihsLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyB6KGgsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgeih1LDIpKX1mdW5jdGlvbiBIbihlLHQsbixyLGkpe3ZhciBhLG87aWYoaT09PWZyKGUsdCxuLHIpPjApZm9yKGE9dDthPG47YSs9cilvPXVyKGEsZVthXSxlW2ErMV0sbyk7ZWxzZSBmb3IoYT1uLXI7YT49dDthLT1yKW89dXIoYSxlW2FdLGVbYSsxXSxvKTtyZXR1cm4gbyYmYXIobyxvLm5leHQpJiYocHIobyksbz1vLm5leHQpLG99ZnVuY3Rpb24gVm4oZSx0KXtpZighZSlyZXR1cm4gZTt0fHwodD1lKTt2YXIgbixyPWU7ZG97aWYobj0hMSxyLnN0ZWluZXJ8fCFhcihyLHIubmV4dCkmJjAhPT1pcihyLnByZXYscixyLm5leHQpKXI9ci5uZXh0O2Vsc2V7aWYocHIociksKHI9dD1yLnByZXYpPT09ci5uZXh0KWJyZWFrO249ITB9fXdoaWxlKG58fHIhPT10KTtyZXR1cm4gdH1mdW5jdGlvbiBqbihlLHQsbixyLGksYSxvKXtpZihlKXshbyYmYSYmS24oZSxyLGksYSk7Zm9yKHZhciBzLGMsbD1lO2UucHJldiE9PWUubmV4dDspaWYocz1lLnByZXYsYz1lLm5leHQsYT9XbihlLHIsaSxhKTprbihlKSl0LnB1c2gocy5pL24pLHQucHVzaChlLmkvbiksdC5wdXNoKGMuaS9uKSxwcihlKSxlPWMubmV4dCxsPWMubmV4dDtlbHNlIGlmKChlPWMpPT09bCl7bz8xPT09bz8oZT1xbihlLHQsbiksam4oZSx0LG4scixpLGEsMikpOjI9PT1vJiZYbihlLHQsbixyLGksYSk6am4oVm4oZSksdCxuLHIsaSxhLDEpO2JyZWFrfX19ZnVuY3Rpb24ga24oZSl7dmFyIHQ9ZS5wcmV2LG49ZSxyPWUubmV4dDtpZihpcih0LG4scik+PTApcmV0dXJuITE7Zm9yKHZhciBpPWUubmV4dC5uZXh0O2khPT1lLnByZXY7KXtpZihucih0LngsdC55LG4ueCxuLnksci54LHIueSxpLngsaS55KSYmaXIoaS5wcmV2LGksaS5uZXh0KT49MClyZXR1cm4hMTtpPWkubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBXbihlLHQsbixyKXt2YXIgaT1lLnByZXYsYT1lLG89ZS5uZXh0O2lmKGlyKGksYSxvKT49MClyZXR1cm4hMTtmb3IodmFyIHM9aS54PGEueD9pLng8by54P2kueDpvLng6YS54PG8ueD9hLng6by54LGM9aS55PGEueT9pLnk8by55P2kueTpvLnk6YS55PG8ueT9hLnk6by55LGw9aS54PmEueD9pLng+by54P2kueDpvLng6YS54Pm8ueD9hLng6by54LGg9aS55PmEueT9pLnk+by55P2kueTpvLnk6YS55Pm8ueT9hLnk6by55LHU9ZXIocyxjLHQsbixyKSxwPWVyKGwsaCx0LG4sciksZD1lLnByZXZaLGY9ZS5uZXh0WjtkJiZkLno+PXUmJmYmJmYuejw9cDspe2lmKGQhPT1lLnByZXYmJmQhPT1lLm5leHQmJm5yKGkueCxpLnksYS54LGEueSxvLngsby55LGQueCxkLnkpJiZpcihkLnByZXYsZCxkLm5leHQpPj0wKXJldHVybiExO2lmKGQ9ZC5wcmV2WixmIT09ZS5wcmV2JiZmIT09ZS5uZXh0JiZucihpLngsaS55LGEueCxhLnksby54LG8ueSxmLngsZi55KSYmaXIoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYubmV4dFp9Zm9yKDtkJiZkLno+PXU7KXtpZihkIT09ZS5wcmV2JiZkIT09ZS5uZXh0JiZucihpLngsaS55LGEueCxhLnksby54LG8ueSxkLngsZC55KSYmaXIoZC5wcmV2LGQsZC5uZXh0KT49MClyZXR1cm4hMTtkPWQucHJldlp9Zm9yKDtmJiZmLno8PXA7KXtpZihmIT09ZS5wcmV2JiZmIT09ZS5uZXh0JiZucihpLngsaS55LGEueCxhLnksby54LG8ueSxmLngsZi55KSYmaXIoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYubmV4dFp9cmV0dXJuITB9ZnVuY3Rpb24gcW4oZSx0LG4pe3ZhciByPWU7ZG97dmFyIGk9ci5wcmV2LGE9ci5uZXh0Lm5leHQ7IWFyKGksYSkmJm9yKGkscixyLm5leHQsYSkmJmNyKGksYSkmJmNyKGEsaSkmJih0LnB1c2goaS5pL24pLHQucHVzaChyLmkvbiksdC5wdXNoKGEuaS9uKSxwcihyKSxwcihyLm5leHQpLHI9ZT1hKSxyPXIubmV4dH13aGlsZShyIT09ZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gWG4oZSx0LG4scixpLGEpe3ZhciBvPWU7ZG97Zm9yKHZhciBzPW8ubmV4dC5uZXh0O3MhPT1vLnByZXY7KXtpZihvLmkhPT1zLmkmJnJyKG8scykpe3ZhciBjPWhyKG8scyk7cmV0dXJuIG89Vm4obyxvLm5leHQpLGM9Vm4oYyxjLm5leHQpLGpuKG8sdCxuLHIsaSxhKSx2b2lkIGpuKGMsdCxuLHIsaSxhKX1zPXMubmV4dH1vPW8ubmV4dH13aGlsZShvIT09ZSl9ZnVuY3Rpb24gWW4oZSx0LG4scil7dmFyIGksYSxvLHMsYyxsPVtdO2ZvcihpPTAsYT10Lmxlbmd0aDtpPGE7aSsrKW89dFtpXSpyLHM9aTxhLTE/dFtpKzFdKnI6ZS5sZW5ndGgsYz1IbihlLG8scyxyLCExKSxjPT09Yy5uZXh0JiYoYy5zdGVpbmVyPSEwKSxsLnB1c2godHIoYykpO2ZvcihsLnNvcnQoWm4pLGk9MDtpPGwubGVuZ3RoO2krKylKbihsW2ldLG4pLG49Vm4obixuLm5leHQpO3JldHVybiBufWZ1bmN0aW9uIFpuKGUsdCl7cmV0dXJuIGUueC10Lnh9ZnVuY3Rpb24gSm4oZSx0KXtpZih0PVFuKGUsdCkpe3ZhciBuPWhyKHQsZSk7Vm4obixuLm5leHQpfX1mdW5jdGlvbiBRbihlLHQpe3ZhciBuLHI9dCxpPWUueCxhPWUueSxvPS0xLzA7ZG97aWYoYTw9ci55JiZhPj1yLm5leHQueSYmci5uZXh0LnkhPT1yLnkpe3ZhciBzPXIueCsoYS1yLnkpKihyLm5leHQueC1yLngpLyhyLm5leHQueS1yLnkpO2lmKHM8PWkmJnM+byl7aWYobz1zLHM9PT1pKXtpZihhPT09ci55KXJldHVybiByO2lmKGE9PT1yLm5leHQueSlyZXR1cm4gci5uZXh0fW49ci54PHIubmV4dC54P3I6ci5uZXh0fX1yPXIubmV4dH13aGlsZShyIT09dCk7aWYoIW4pcmV0dXJuIG51bGw7aWYoaT09PW8pcmV0dXJuIG4ucHJldjt2YXIgYyxsPW4saD1uLngsdT1uLnkscD0xLzA7Zm9yKHI9bi5uZXh0O3IhPT1sOylpPj1yLngmJnIueD49aCYmaSE9PXIueCYmbnIoYTx1P2k6byxhLGgsdSxhPHU/bzppLGEsci54LHIueSkmJigoYz1NYXRoLmFicyhhLXIueSkvKGktci54KSk8cHx8Yz09PXAmJnIueD5uLngpJiZjcihyLGUpJiYobj1yLHA9Yykscj1yLm5leHQ7cmV0dXJuIG59ZnVuY3Rpb24gS24oZSx0LG4scil7dmFyIGk9ZTtkb3tudWxsPT09aS56JiYoaS56PWVyKGkueCxpLnksdCxuLHIpKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dH13aGlsZShpIT09ZSk7aS5wcmV2Wi5uZXh0Wj1udWxsLGkucHJldlo9bnVsbCwkbihpKX1mdW5jdGlvbiAkbihlKXt2YXIgdCxuLHIsaSxhLG8scyxjLGw9MTtkb3tmb3Iobj1lLGU9bnVsbCxhPW51bGwsbz0wO247KXtmb3IobysrLHI9bixzPTAsdD0wO3Q8bCYmKHMrKyxyPXIubmV4dFopO3QrKyk7Zm9yKGM9bDtzPjB8fGM+MCYmcjspMCE9PXMmJigwPT09Y3x8IXJ8fG4uejw9ci56KT8oaT1uLG49bi5uZXh0WixzLS0pOihpPXIscj1yLm5leHRaLGMtLSksYT9hLm5leHRaPWk6ZT1pLGkucHJldlo9YSxhPWk7bj1yfWEubmV4dFo9bnVsbCxsKj0yfXdoaWxlKG8+MSk7cmV0dXJuIGV9ZnVuY3Rpb24gZXIoZSx0LG4scixpKXtyZXR1cm4gZT0zMjc2NyooZS1uKSppLHQ9MzI3NjcqKHQtcikqaSxlPTE2NzExOTM1JihlfGU8PDgpLGU9MjUyNjQ1MTM1JihlfGU8PDQpLGU9ODU4OTkzNDU5JihlfGU8PDIpLGU9MTQzMTY1NTc2NSYoZXxlPDwxKSx0PTE2NzExOTM1Jih0fHQ8PDgpLHQ9MjUyNjQ1MTM1Jih0fHQ8PDQpLHQ9ODU4OTkzNDU5Jih0fHQ8PDIpLHQ9MTQzMTY1NTc2NSYodHx0PDwxKSxlfHQ8PDF9ZnVuY3Rpb24gdHIoZSl7dmFyIHQ9ZSxuPWU7ZG97KHQueDxuLnh8fHQueD09PW4ueCYmdC55PG4ueSkmJihuPXQpLHQ9dC5uZXh0fXdoaWxlKHQhPT1lKTtyZXR1cm4gbn1mdW5jdGlvbiBucihlLHQsbixyLGksYSxvLHMpe3JldHVybihpLW8pKih0LXMpLShlLW8pKihhLXMpPj0wJiYoZS1vKSooci1zKS0obi1vKSoodC1zKT49MCYmKG4tbykqKGEtcyktKGktbykqKHItcyk+PTB9ZnVuY3Rpb24gcnIoZSx0KXtyZXR1cm4gZS5uZXh0LmkhPT10LmkmJmUucHJldi5pIT09dC5pJiYhc3IoZSx0KSYmY3IoZSx0KSYmY3IodCxlKSYmbHIoZSx0KX1mdW5jdGlvbiBpcihlLHQsbil7cmV0dXJuKHQueS1lLnkpKihuLngtdC54KS0odC54LWUueCkqKG4ueS10LnkpfWZ1bmN0aW9uIGFyKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55fWZ1bmN0aW9uIG9yKGUsdCxuLHIpe3JldHVybiEhKGFyKGUsbikmJmFyKHQscil8fGFyKGUscikmJmFyKG4sdCkpfHxpcihlLHQsbik+MCE9aXIoZSx0LHIpPjAmJmlyKG4scixlKT4wIT1pcihuLHIsdCk+MH1mdW5jdGlvbiBzcihlLHQpe3ZhciBuPWU7ZG97aWYobi5pIT09ZS5pJiZuLm5leHQuaSE9PWUuaSYmbi5pIT09dC5pJiZuLm5leHQuaSE9PXQuaSYmb3IobixuLm5leHQsZSx0KSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09ZSk7cmV0dXJuITF9ZnVuY3Rpb24gY3IoZSx0KXtyZXR1cm4gaXIoZS5wcmV2LGUsZS5uZXh0KTwwP2lyKGUsdCxlLm5leHQpPj0wJiZpcihlLGUucHJldix0KT49MDppcihlLHQsZS5wcmV2KTwwfHxpcihlLGUubmV4dCx0KTwwfWZ1bmN0aW9uIGxyKGUsdCl7dmFyIG49ZSxyPSExLGk9KGUueCt0LngpLzIsYT0oZS55K3QueSkvMjtkb3tuLnk+YSE9bi5uZXh0Lnk+YSYmbi5uZXh0LnkhPT1uLnkmJmk8KG4ubmV4dC54LW4ueCkqKGEtbi55KS8obi5uZXh0Lnktbi55KStuLngmJihyPSFyKSxuPW4ubmV4dH13aGlsZShuIT09ZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gaHIoZSx0KXt2YXIgbj1uZXcgZHIoZS5pLGUueCxlLnkpLHI9bmV3IGRyKHQuaSx0LngsdC55KSxpPWUubmV4dCxhPXQucHJldjtyZXR1cm4gZS5uZXh0PXQsdC5wcmV2PWUsbi5uZXh0PWksaS5wcmV2PW4sci5uZXh0PW4sbi5wcmV2PXIsYS5uZXh0PXIsci5wcmV2PWEscn1mdW5jdGlvbiB1cihlLHQsbixyKXt2YXIgaT1uZXcgZHIoZSx0LG4pO3JldHVybiByPyhpLm5leHQ9ci5uZXh0LGkucHJldj1yLHIubmV4dC5wcmV2PWksci5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiBwcihlKXtlLm5leHQucHJldj1lLnByZXYsZS5wcmV2Lm5leHQ9ZS5uZXh0LGUucHJldlomJihlLnByZXZaLm5leHRaPWUubmV4dFopLGUubmV4dFomJihlLm5leHRaLnByZXZaPWUucHJldlopfWZ1bmN0aW9uIGRyKGUsdCxuKXt0aGlzLmk9ZSx0aGlzLng9dCx0aGlzLnk9bix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9bnVsbCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX1mdW5jdGlvbiBmcihlLHQsbixyKXtmb3IodmFyIGk9MCxhPXQsbz1uLXI7YTxuO2ErPXIpaSs9KGVbb10tZVthXSkqKGVbYSsxXStlW28rMV0pLG89YTtyZXR1cm4gaX1mdW5jdGlvbiBtcihlKXt2YXIgdD1lLmxlbmd0aDt0PjImJmVbdC0xXS5lcXVhbHMoZVswXSkmJmUucG9wKCl9ZnVuY3Rpb24gdnIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2godFtuXS54KSxlLnB1c2godFtuXS55KX1mdW5jdGlvbiBncihlLHQpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJFeHRydWRlR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3NoYXBlczplLG9wdGlvbnM6dH0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IHlyKGUsdCkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfWZ1bmN0aW9uIHlyKGUsdCl7Ry5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOmUsb3B0aW9uczp0fSxlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKHZhciByPXRoaXMsYT1bXSxvPVtdLHM9MCxjPWUubGVuZ3RoO3M8YztzKyspe3ZhciBsPWVbc107IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHMoZSx0LG4pe3JldHVybiB0fHxjb25zb2xlLmVycm9yKFwiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiB2ZWMgZG9lcyBub3QgZXhpc3RcIiksdC5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKG4pLmFkZChlKX1mdW5jdGlvbiBjKGUsdCxyKXt2YXIgaSxhLG8scz1lLngtdC54LGM9ZS55LXQueSxsPXIueC1lLngsaD1yLnktZS55LHU9cypzK2MqYyxwPXMqaC1jKmw7aWYoTWF0aC5hYnMocCk+TnVtYmVyLkVQU0lMT04pe3ZhciBkPU1hdGguc3FydCh1KSxmPU1hdGguc3FydChsKmwraCpoKSxtPXQueC1jL2Qsdj10Lnkrcy9kLGc9ci54LWgvZix5PXIueStsL2YseD0oKGctbSkqaC0oeS12KSpsKS8ocypoLWMqbCk7aT1tK3MqeC1lLngsYT12K2MqeC1lLnk7dmFyIGI9aSppK2EqYTtpZihiPD0yKXJldHVybiBuZXcgbihpLGEpO289TWF0aC5zcXJ0KGIvMil9ZWxzZXt2YXIgdz0hMTtzPk51bWJlci5FUFNJTE9OP2w+TnVtYmVyLkVQU0lMT04mJih3PSEwKTpzPC1OdW1iZXIuRVBTSUxPTj9sPC1OdW1iZXIuRVBTSUxPTiYmKHc9ITApOk1hdGguc2lnbihjKT09PU1hdGguc2lnbihoKSYmKHc9ITApLHc/KGk9LWMsYT1zLG89TWF0aC5zcXJ0KHUpKTooaT1zLGE9YyxvPU1hdGguc3FydCh1LzIpKX1yZXR1cm4gbmV3IG4oaS9vLGEvbyl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuLHI7Zm9yKFo9ZS5sZW5ndGg7LS1aPj0wOyl7bj1aLChyPVotMSk8MCYmKHI9ZS5sZW5ndGgtMSk7dmFyIGk9MCxhPWcrMipNO2ZvcihpPTA7aTxhO2krKyl7dmFyIG89cSppLHM9cSooaSsxKTtwKHQrbitvLHQrcitvLHQrcitzLHQrbitzKX19fWZ1bmN0aW9uIGgoZSx0LG4pe20ucHVzaChlKSxtLnB1c2godCksbS5wdXNoKG4pfWZ1bmN0aW9uIHUoZSx0LG4pe2QoZSksZCh0KSxkKG4pO3ZhciBpPWEubGVuZ3RoLzMsbz1ULmdlbmVyYXRlVG9wVVYocixhLGktMyxpLTIsaS0xKTtmKG9bMF0pLGYob1sxXSksZihvWzJdKX1mdW5jdGlvbiBwKGUsdCxuLGkpe2QoZSksZCh0KSxkKGkpLGQodCksZChuKSxkKGkpO3ZhciBvPWEubGVuZ3RoLzMscz1ULmdlbmVyYXRlU2lkZVdhbGxVVihyLGEsby02LG8tMyxvLTIsby0xKTtmKHNbMF0pLGYoc1sxXSksZihzWzNdKSxmKHNbMV0pLGYoc1syXSksZihzWzNdKX1mdW5jdGlvbiBkKGUpe2EucHVzaChtWzMqZSswXSksYS5wdXNoKG1bMyplKzFdKSxhLnB1c2gobVszKmUrMl0pfWZ1bmN0aW9uIGYoZSl7by5wdXNoKGUueCksby5wdXNoKGUueSl9dmFyIG09W10sdj12b2lkIDAhPT10LmN1cnZlU2VnbWVudHM/dC5jdXJ2ZVNlZ21lbnRzOjEyLGc9dm9pZCAwIT09dC5zdGVwcz90LnN0ZXBzOjEseT12b2lkIDAhPT10LmRlcHRoP3QuZGVwdGg6MTAwLHg9dm9pZCAwPT09dC5iZXZlbEVuYWJsZWR8fHQuYmV2ZWxFbmFibGVkLGI9dm9pZCAwIT09dC5iZXZlbFRoaWNrbmVzcz90LmJldmVsVGhpY2tuZXNzOjYsdz12b2lkIDAhPT10LmJldmVsU2l6ZT90LmJldmVsU2l6ZTpiLTIsXz12b2lkIDAhPT10LmJldmVsT2Zmc2V0P3QuYmV2ZWxPZmZzZXQ6MCxNPXZvaWQgMCE9PXQuYmV2ZWxTZWdtZW50cz90LmJldmVsU2VnbWVudHM6MyxTPXQuZXh0cnVkZVBhdGgsVD12b2lkIDAhPT10LlVWR2VuZXJhdG9yP3QuVVZHZW5lcmF0b3I6c3A7dm9pZCAwIT09dC5hbW91bnQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IGFtb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIGRlcHRoLlwiKSx5PXQuYW1vdW50KTt2YXIgRSxBLEwsUixQLEM9ITE7UyYmKEU9Uy5nZXRTcGFjZWRQb2ludHMoZyksQz0hMCx4PSExLEE9Uy5jb21wdXRlRnJlbmV0RnJhbWVzKGcsITEpLEw9bmV3IGksUj1uZXcgaSxQPW5ldyBpKSx4fHwoTT0wLGI9MCx3PTAsXz0wKTt2YXIgTyxELEksTj1lLmV4dHJhY3RQb2ludHModiksej1OLnNoYXBlLEI9Ti5ob2xlcztpZighb3AuaXNDbG9ja1dpc2UoeikpZm9yKHo9ei5yZXZlcnNlKCksRD0wLEk9Qi5sZW5ndGg7RDxJO0QrKylPPUJbRF0sb3AuaXNDbG9ja1dpc2UoTykmJihCW0RdPU8ucmV2ZXJzZSgpKTt2YXIgVT1vcC50cmlhbmd1bGF0ZVNoYXBlKHosQiksRj16O2ZvcihEPTAsST1CLmxlbmd0aDtEPEk7RCsrKU89QltEXSx6PXouY29uY2F0KE8pO2Zvcih2YXIgRyxILFYsaixrLFcscT16Lmxlbmd0aCxYPVUubGVuZ3RoLFk9W10sWj0wLEo9Ri5sZW5ndGgsUT1KLTEsSz1aKzE7WjxKO1orKyxRKyssSysrKVE9PT1KJiYoUT0wKSxLPT09SiYmKEs9MCksWVtaXT1jKEZbWl0sRltRXSxGW0tdKTt2YXIgJCxlZT1bXSx0ZT1ZLmNvbmNhdCgpO2ZvcihEPTAsST1CLmxlbmd0aDtEPEk7RCsrKXtmb3IoTz1CW0RdLCQ9W10sWj0wLEo9Ty5sZW5ndGgsUT1KLTEsSz1aKzE7WjxKO1orKyxRKyssSysrKVE9PT1KJiYoUT0wKSxLPT09SiYmKEs9MCksJFtaXT1jKE9bWl0sT1tRXSxPW0tdKTtlZS5wdXNoKCQpLHRlPXRlLmNvbmNhdCgkKX1mb3IoRz0wO0c8TTtHKyspe2ZvcihWPUcvTSxqPWIqTWF0aC5jb3MoVipNYXRoLlBJLzIpLEg9dypNYXRoLnNpbihWKk1hdGguUEkvMikrXyxaPTAsSj1GLmxlbmd0aDtaPEo7WisrKWs9cyhGW1pdLFlbWl0sSCksaChrLngsay55LC1qKTtmb3IoRD0wLEk9Qi5sZW5ndGg7RDxJO0QrKylmb3IoTz1CW0RdLCQ9ZWVbRF0sWj0wLEo9Ty5sZW5ndGg7WjxKO1orKylrPXMoT1taXSwkW1pdLEgpLGgoay54LGsueSwtail9Zm9yKEg9dytfLFo9MDtaPHE7WisrKWs9eD9zKHpbWl0sdGVbWl0sSCk6eltaXSxDPyhSLmNvcHkoQS5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihrLngpLEwuY29weShBLmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoay55KSxQLmNvcHkoRVswXSkuYWRkKFIpLmFkZChMKSxoKFAueCxQLnksUC56KSk6aChrLngsay55LDApO3ZhciBuZTtmb3IobmU9MTtuZTw9ZztuZSsrKWZvcihaPTA7WjxxO1orKylrPXg/cyh6W1pdLHRlW1pdLEgpOnpbWl0sQz8oUi5jb3B5KEEubm9ybWFsc1tuZV0pLm11bHRpcGx5U2NhbGFyKGsueCksTC5jb3B5KEEuYmlub3JtYWxzW25lXSkubXVsdGlwbHlTY2FsYXIoay55KSxQLmNvcHkoRVtuZV0pLmFkZChSKS5hZGQoTCksaChQLngsUC55LFAueikpOmgoay54LGsueSx5L2cqbmUpO2ZvcihHPU0tMTtHPj0wO0ctLSl7Zm9yKFY9Ry9NLGo9YipNYXRoLmNvcyhWKk1hdGguUEkvMiksSD13Kk1hdGguc2luKFYqTWF0aC5QSS8yKStfLFo9MCxKPUYubGVuZ3RoO1o8SjtaKyspaz1zKEZbWl0sWVtaXSxIKSxoKGsueCxrLnkseStqKTtmb3IoRD0wLEk9Qi5sZW5ndGg7RDxJO0QrKylmb3IoTz1CW0RdLCQ9ZWVbRF0sWj0wLEo9Ty5sZW5ndGg7WjxKO1orKylrPXMoT1taXSwkW1pdLEgpLEM/aChrLngsay55K0VbZy0xXS55LEVbZy0xXS54K2opOmgoay54LGsueSx5K2opfSFmdW5jdGlvbigpe3ZhciBlPWEubGVuZ3RoLzM7aWYoeCl7dmFyIHQ9MCxuPXEqdDtmb3IoWj0wO1o8WDtaKyspVz1VW1pdLHUoV1syXStuLFdbMV0rbixXWzBdK24pO2Zvcih0PWcrMipNLG49cSp0LFo9MDtaPFg7WisrKVc9VVtaXSx1KFdbMF0rbixXWzFdK24sV1syXStuKX1lbHNle2ZvcihaPTA7WjxYO1orKylXPVVbWl0sdShXWzJdLFdbMV0sV1swXSk7Zm9yKFo9MDtaPFg7WisrKVc9VVtaXSx1KFdbMF0rcSpnLFdbMV0rcSpnLFdbMl0rcSpnKX1yLmFkZEdyb3VwKGUsYS5sZW5ndGgvMy1lLDApfSgpLGZ1bmN0aW9uKCl7dmFyIGU9YS5sZW5ndGgvMyx0PTA7Zm9yKGwoRix0KSx0Kz1GLmxlbmd0aCxEPTAsST1CLmxlbmd0aDtEPEk7RCsrKU89QltEXSxsKE8sdCksdCs9Ty5sZW5ndGg7ci5hZGRHcm91cChlLGEubGVuZ3RoLzMtZSwxKX0oKX0obCl9dGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KGEsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgeihvLDIpKSx0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCl9ZnVuY3Rpb24geHIoZSx0LG4pe2lmKG4uc2hhcGVzPVtdLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTAsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgYT1lW3JdO24uc2hhcGVzLnB1c2goYS51dWlkKX1lbHNlIG4uc2hhcGVzLnB1c2goZS51dWlkKTtyZXR1cm4gdm9pZCAwIT09dC5leHRydWRlUGF0aCYmKG4ub3B0aW9ucy5leHRydWRlUGF0aD10LmV4dHJ1ZGVQYXRoLnRvSlNPTigpKSxufWZ1bmN0aW9uIGJyKGUsdCl7ay5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlRleHRHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17dGV4dDplLHBhcmFtZXRlcnM6dH0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IHdyKGUsdCkpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfWZ1bmN0aW9uIHdyKGUsdCl7dD10fHx7fTt2YXIgbj10LmZvbnQ7aWYoIW58fCFuLmlzRm9udClyZXR1cm4gY29uc29sZS5lcnJvcihcIlRIUkVFLlRleHRHZW9tZXRyeTogZm9udCBwYXJhbWV0ZXIgaXMgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkZvbnQuXCIpLG5ldyBrO3ZhciByPW4uZ2VuZXJhdGVTaGFwZXMoZSx0LnNpemUpO3QuZGVwdGg9dm9pZCAwIT09dC5oZWlnaHQ/dC5oZWlnaHQ6NTAsdm9pZCAwPT09dC5iZXZlbFRoaWNrbmVzcyYmKHQuYmV2ZWxUaGlja25lc3M9MTApLHZvaWQgMD09PXQuYmV2ZWxTaXplJiYodC5iZXZlbFNpemU9OCksdm9pZCAwPT09dC5iZXZlbEVuYWJsZWQmJih0LmJldmVsRW5hYmxlZD0hMSkseXIuY2FsbCh0aGlzLHIsdCksdGhpcy50eXBlPVwiVGV4dEJ1ZmZlckdlb21ldHJ5XCJ9ZnVuY3Rpb24gX3IoZSx0LG4scixpLGEsbyl7ay5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlNwaGVyZUdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSx3aWR0aFNlZ21lbnRzOnQsaGVpZ2h0U2VnbWVudHM6bixwaGlTdGFydDpyLHBoaUxlbmd0aDppLHRoZXRhU3RhcnQ6YSx0aGV0YUxlbmd0aDpvfSx0aGlzLmZyb21CdWZmZXJHZW9tZXRyeShuZXcgTXIoZSx0LG4scixpLGEsbykpLHRoaXMubWVyZ2VWZXJ0aWNlcygpfWZ1bmN0aW9uIE1yKGUsdCxuLHIsYSxvLHMpe0cuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTcGhlcmVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOmUsd2lkdGhTZWdtZW50czp0LGhlaWdodFNlZ21lbnRzOm4scGhpU3RhcnQ6cixwaGlMZW5ndGg6YSx0aGV0YVN0YXJ0Om8sdGhldGFMZW5ndGg6c30sZT1lfHwxLHQ9TWF0aC5tYXgoMyxNYXRoLmZsb29yKHQpfHw4KSxuPU1hdGgubWF4KDIsTWF0aC5mbG9vcihuKXx8Nikscj12b2lkIDAhPT1yP3I6MCxhPXZvaWQgMCE9PWE/YToyKk1hdGguUEksbz12b2lkIDAhPT1vP286MCxzPXZvaWQgMCE9PXM/czpNYXRoLlBJO3ZhciBjLGwsaD1NYXRoLm1pbihvK3MsTWF0aC5QSSksdT0wLHA9W10sZD1uZXcgaSxmPW5ldyBpLG09W10sdj1bXSxnPVtdLHk9W107Zm9yKGw9MDtsPD1uO2wrKyl7dmFyIHg9W10sYj1sL24sdz0wO2ZvcigwPT1sJiYwPT1vP3c9LjUvdDpsPT1uJiZoPT1NYXRoLlBJJiYodz0tLjUvdCksYz0wO2M8PXQ7YysrKXt2YXIgXz1jL3Q7ZC54PS1lKk1hdGguY29zKHIrXyphKSpNYXRoLnNpbihvK2IqcyksZC55PWUqTWF0aC5jb3MobytiKnMpLGQuej1lKk1hdGguc2luKHIrXyphKSpNYXRoLnNpbihvK2Iqcyksdi5wdXNoKGQueCxkLnksZC56KSxmLmNvcHkoZCkubm9ybWFsaXplKCksZy5wdXNoKGYueCxmLnksZi56KSx5LnB1c2goXyt3LDEtYikseC5wdXNoKHUrKyl9cC5wdXNoKHgpfWZvcihsPTA7bDxuO2wrKylmb3IoYz0wO2M8dDtjKyspe3ZhciBNPXBbbF1bYysxXSxTPXBbbF1bY10sVD1wW2wrMV1bY10sRT1wW2wrMV1bYysxXTsoMCE9PWx8fG8+MCkmJm0ucHVzaChNLFMsRSksKGwhPT1uLTF8fGg8TWF0aC5QSSkmJm0ucHVzaChTLFQsRSl9dGhpcy5zZXRJbmRleChtKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoodiwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgeihnLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IHooeSwyKSl9ZnVuY3Rpb24gU3IoZSx0LG4scixpLGEpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJSaW5nR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e2lubmVyUmFkaXVzOmUsb3V0ZXJSYWRpdXM6dCx0aGV0YVNlZ21lbnRzOm4scGhpU2VnbWVudHM6cix0aGV0YVN0YXJ0OmksdGhldGFMZW5ndGg6YX0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IFRyKGUsdCxuLHIsaSxhKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9ZnVuY3Rpb24gVHIoZSx0LHIsYSxvLHMpe0cuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJSaW5nQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e2lubmVyUmFkaXVzOmUsb3V0ZXJSYWRpdXM6dCx0aGV0YVNlZ21lbnRzOnIscGhpU2VnbWVudHM6YSx0aGV0YVN0YXJ0Om8sdGhldGFMZW5ndGg6c30sZT1lfHwuNSx0PXR8fDEsbz12b2lkIDAhPT1vP286MCxzPXZvaWQgMCE9PXM/czoyKk1hdGguUEkscj12b2lkIDAhPT1yP01hdGgubWF4KDMscik6OCxhPXZvaWQgMCE9PWE/TWF0aC5tYXgoMSxhKToxO3ZhciBjLGwsaCx1PVtdLHA9W10sZD1bXSxmPVtdLG09ZSx2PSh0LWUpL2EsZz1uZXcgaSx5PW5ldyBuO2ZvcihsPTA7bDw9YTtsKyspe2ZvcihoPTA7aDw9cjtoKyspYz1vK2gvcipzLGcueD1tKk1hdGguY29zKGMpLGcueT1tKk1hdGguc2luKGMpLHAucHVzaChnLngsZy55LGcueiksZC5wdXNoKDAsMCwxKSx5Lng9KGcueC90KzEpLzIseS55PShnLnkvdCsxKS8yLGYucHVzaCh5LngseS55KTttKz12fWZvcihsPTA7bDxhO2wrKyl7dmFyIHg9bCoocisxKTtmb3IoaD0wO2g8cjtoKyspe2M9aCt4O3ZhciBiPWMsdz1jK3IrMSxfPWMrcisyLE09YysxO3UucHVzaChiLHcsTSksdS5wdXNoKHcsXyxNKX19dGhpcy5zZXRJbmRleCh1KSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoocCwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgeihkLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IHooZiwyKSl9ZnVuY3Rpb24gRXIoZSx0LG4scil7ay5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkxhdGhlR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3BvaW50czplLHNlZ21lbnRzOnQscGhpU3RhcnQ6bixwaGlMZW5ndGg6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEFyKGUsdCxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiBBcihlLHQscixhKXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGF0aGVCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cG9pbnRzOmUsc2VnbWVudHM6dCxwaGlTdGFydDpyLHBoaUxlbmd0aDphfSx0PU1hdGguZmxvb3IodCl8fDEyLHI9cnx8MCxhPWF8fDIqTWF0aC5QSSxhPWxsLmNsYW1wKGEsMCwyKk1hdGguUEkpO3ZhciBvLHMsYyxsPVtdLGg9W10sdT1bXSxwPTEvdCxkPW5ldyBpLGY9bmV3IG47Zm9yKHM9MDtzPD10O3MrKyl7dmFyIG09citzKnAqYSx2PU1hdGguc2luKG0pLGc9TWF0aC5jb3MobSk7Zm9yKGM9MDtjPD1lLmxlbmd0aC0xO2MrKylkLng9ZVtjXS54KnYsZC55PWVbY10ueSxkLno9ZVtjXS54KmcsaC5wdXNoKGQueCxkLnksZC56KSxmLng9cy90LGYueT1jLyhlLmxlbmd0aC0xKSx1LnB1c2goZi54LGYueSl9Zm9yKHM9MDtzPHQ7cysrKWZvcihjPTA7YzxlLmxlbmd0aC0xO2MrKyl7bz1jK3MqZS5sZW5ndGg7dmFyIHk9byx4PW8rZS5sZW5ndGgsYj1vK2UubGVuZ3RoKzEsdz1vKzE7bC5wdXNoKHkseCx3KSxsLnB1c2goeCxiLHcpfWlmKHRoaXMuc2V0SW5kZXgobCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KGgsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgeih1LDIpKSx0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCksYT09PTIqTWF0aC5QSSl7dmFyIF89dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheSxNPW5ldyBpLFM9bmV3IGksVD1uZXcgaTtmb3Iobz10KmUubGVuZ3RoKjMscz0wLGM9MDtzPGUubGVuZ3RoO3MrKyxjKz0zKU0ueD1fW2MrMF0sTS55PV9bYysxXSxNLno9X1tjKzJdLFMueD1fW28rYyswXSxTLnk9X1tvK2MrMV0sUy56PV9bbytjKzJdLFQuYWRkVmVjdG9ycyhNLFMpLm5vcm1hbGl6ZSgpLF9bYyswXT1fW28rYyswXT1ULngsX1tjKzFdPV9bbytjKzFdPVQueSxfW2MrMl09X1tvK2MrMl09VC56fX1mdW5jdGlvbiBMcihlLHQpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTaGFwZUdlb21ldHJ5XCIsXCJvYmplY3RcIj09dHlwZW9mIHQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5TaGFwZUdlb21ldHJ5OiBPcHRpb25zIHBhcmFtZXRlciBoYXMgYmVlbiByZW1vdmVkLlwiKSx0PXQuY3VydmVTZWdtZW50cyksdGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6ZSxjdXJ2ZVNlZ21lbnRzOnR9LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBScihlLHQpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiBScihlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIG4scyxsLGg9aS5sZW5ndGgvMyx1PWUuZXh0cmFjdFBvaW50cyh0KSxwPXUuc2hhcGUsZD11LmhvbGVzO2ZvcighMT09PW9wLmlzQ2xvY2tXaXNlKHApJiYocD1wLnJldmVyc2UoKSksbj0wLHM9ZC5sZW5ndGg7bjxzO24rKylsPWRbbl0sITA9PT1vcC5pc0Nsb2NrV2lzZShsKSYmKGRbbl09bC5yZXZlcnNlKCkpO3ZhciBmPW9wLnRyaWFuZ3VsYXRlU2hhcGUocCxkKTtmb3Iobj0wLHM9ZC5sZW5ndGg7bjxzO24rKylsPWRbbl0scD1wLmNvbmNhdChsKTtmb3Iobj0wLHM9cC5sZW5ndGg7bjxzO24rKyl7dmFyIG09cFtuXTtpLnB1c2gobS54LG0ueSwwKSxhLnB1c2goMCwwLDEpLG8ucHVzaChtLngsbS55KX1mb3Iobj0wLHM9Zi5sZW5ndGg7bjxzO24rKyl7dmFyIHY9ZltuXSxnPXZbMF0raCx5PXZbMV0raCx4PXZbMl0raDtyLnB1c2goZyx5LHgpLGMrPTN9fUcuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTaGFwZUJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtzaGFwZXM6ZSxjdXJ2ZVNlZ21lbnRzOnR9LHQ9dHx8MTI7dmFyIHI9W10saT1bXSxhPVtdLG89W10scz0wLGM9MDtpZighMT09PUFycmF5LmlzQXJyYXkoZSkpbihlKTtlbHNlIGZvcih2YXIgbD0wO2w8ZS5sZW5ndGg7bCsrKW4oZVtsXSksdGhpcy5hZGRHcm91cChzLGMsbCkscys9YyxjPTA7dGhpcy5zZXRJbmRleChyKSx0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHooaSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgeihhLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IHoobywyKSl9ZnVuY3Rpb24gUHIoZSx0KXtpZih0LnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7dmFyIGk9ZVtuXTt0LnNoYXBlcy5wdXNoKGkudXVpZCl9ZWxzZSB0LnNoYXBlcy5wdXNoKGUudXVpZCk7cmV0dXJuIHR9ZnVuY3Rpb24gQ3IoZSx0KXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiRWRnZXNHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17dGhyZXNob2xkQW5nbGU6dH0sdD12b2lkIDAhPT10P3Q6MTt2YXIgbixyLGksYSxvPVtdLHM9TWF0aC5jb3MobGwuREVHMlJBRCp0KSxjPVswLDBdLGw9e30saD1bXCJhXCIsXCJiXCIsXCJjXCJdO2UuaXNCdWZmZXJHZW9tZXRyeT8oYT1uZXcgayxhLmZyb21CdWZmZXJHZW9tZXRyeShlKSk6YT1lLmNsb25lKCksYS5tZXJnZVZlcnRpY2VzKCksYS5jb21wdXRlRmFjZU5vcm1hbHMoKTtmb3IodmFyIHU9YS52ZXJ0aWNlcyxwPWEuZmFjZXMsZD0wLGY9cC5sZW5ndGg7ZDxmO2QrKylmb3IodmFyIG09cFtkXSx2PTA7djwzO3YrKyluPW1baFt2XV0scj1tW2hbKHYrMSklM11dLGNbMF09TWF0aC5taW4obixyKSxjWzFdPU1hdGgubWF4KG4sciksaT1jWzBdK1wiLFwiK2NbMV0sdm9pZCAwPT09bFtpXT9sW2ldPXtpbmRleDE6Y1swXSxpbmRleDI6Y1sxXSxmYWNlMTpkLGZhY2UyOnZvaWQgMH06bFtpXS5mYWNlMj1kO2ZvcihpIGluIGwpe3ZhciBnPWxbaV07aWYodm9pZCAwPT09Zy5mYWNlMnx8cFtnLmZhY2UxXS5ub3JtYWwuZG90KHBbZy5mYWNlMl0ubm9ybWFsKTw9cyl7dmFyIHk9dVtnLmluZGV4MV07by5wdXNoKHkueCx5LnkseS56KSx5PXVbZy5pbmRleDJdLG8ucHVzaCh5LngseS55LHkueil9fXRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihvLDMpKX1mdW5jdGlvbiBPcihlLHQsbixyLGksYSxvLHMpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDeWxpbmRlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXNUb3A6ZSxyYWRpdXNCb3R0b206dCxoZWlnaHQ6bixyYWRpYWxTZWdtZW50czpyLGhlaWdodFNlZ21lbnRzOmksb3BlbkVuZGVkOmEsdGhldGFTdGFydDpvLHRoZXRhTGVuZ3RoOnN9LHRoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBEcihlLHQsbixyLGksYSxvLHMpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiBEcihlLHQscixhLG8scyxjLGwpe2Z1bmN0aW9uIGgocil7dmFyIG8scyxoLGc9bmV3IG4sYj1uZXcgaSx3PTAsXz0hMD09PXI/ZTp0LE09ITA9PT1yPzE6LTE7Zm9yKHM9dixvPTE7bzw9YTtvKyspZC5wdXNoKDAseSpNLDApLGYucHVzaCgwLE0sMCksbS5wdXNoKC41LC41KSx2Kys7Zm9yKGg9dixvPTA7bzw9YTtvKyspe3ZhciBTPW8vYSxUPVMqbCtjLEU9TWF0aC5jb3MoVCksQT1NYXRoLnNpbihUKTtiLng9XypBLGIueT15Kk0sYi56PV8qRSxkLnB1c2goYi54LGIueSxiLnopLGYucHVzaCgwLE0sMCksZy54PS41KkUrLjUsZy55PS41KkEqTSsuNSxtLnB1c2goZy54LGcueSksdisrfWZvcihvPTA7bzxhO28rKyl7dmFyIEw9cytvLFI9aCtvOyEwPT09cj9wLnB1c2goUixSKzEsTCk6cC5wdXNoKFIrMSxSLEwpLHcrPTN9dS5hZGRHcm91cCh4LHcsITA9PT1yPzE6MikseCs9d31HLmNhbGwodGhpcyksdGhpcy50eXBlPVwiQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzVG9wOmUscmFkaXVzQm90dG9tOnQsaGVpZ2h0OnIscmFkaWFsU2VnbWVudHM6YSxoZWlnaHRTZWdtZW50czpvLG9wZW5FbmRlZDpzLHRoZXRhU3RhcnQ6Yyx0aGV0YUxlbmd0aDpsfTt2YXIgdT10aGlzO2U9dm9pZCAwIT09ZT9lOjEsdD12b2lkIDAhPT10P3Q6MSxyPXJ8fDEsYT1NYXRoLmZsb29yKGEpfHw4LG89TWF0aC5mbG9vcihvKXx8MSxzPXZvaWQgMCE9PXMmJnMsYz12b2lkIDAhPT1jP2M6MCxsPXZvaWQgMCE9PWw/bDoyKk1hdGguUEk7dmFyIHA9W10sZD1bXSxmPVtdLG09W10sdj0wLGc9W10seT1yLzIseD0wOyFmdW5jdGlvbigpe3ZhciBuLHMsaD1uZXcgaSxiPW5ldyBpLHc9MCxfPSh0LWUpL3I7Zm9yKHM9MDtzPD1vO3MrKyl7dmFyIE09W10sUz1zL28sVD1TKih0LWUpK2U7Zm9yKG49MDtuPD1hO24rKyl7dmFyIEU9bi9hLEE9RSpsK2MsTD1NYXRoLnNpbihBKSxSPU1hdGguY29zKEEpO2IueD1UKkwsYi55PS1TKnIreSxiLno9VCpSLGQucHVzaChiLngsYi55LGIueiksaC5zZXQoTCxfLFIpLm5vcm1hbGl6ZSgpLGYucHVzaChoLngsaC55LGgueiksbS5wdXNoKEUsMS1TKSxNLnB1c2godisrKX1nLnB1c2goTSl9Zm9yKG49MDtuPGE7bisrKWZvcihzPTA7czxvO3MrKyl7dmFyIFA9Z1tzXVtuXSxDPWdbcysxXVtuXSxPPWdbcysxXVtuKzFdLEQ9Z1tzXVtuKzFdO3AucHVzaChQLEMsRCkscC5wdXNoKEMsTyxEKSx3Kz02fXUuYWRkR3JvdXAoeCx3LDApLHgrPXd9KCksITE9PT1zJiYoZT4wJiZoKCEwKSx0PjAmJmgoITEpKSx0aGlzLnNldEluZGV4KHApLHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihkLDMpKSx0aGlzLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyB6KGYsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwidXZcIixuZXcgeihtLDIpKX1mdW5jdGlvbiBJcihlLHQsbixyLGksYSxvKXtPci5jYWxsKHRoaXMsMCxlLHQsbixyLGksYSxvKSx0aGlzLnR5cGU9XCJDb25lR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLGhlaWdodDp0LHJhZGlhbFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6cixvcGVuRW5kZWQ6aSx0aGV0YVN0YXJ0OmEsdGhldGFMZW5ndGg6b319ZnVuY3Rpb24gTnIoZSx0LG4scixpLGEsbyl7RHIuY2FsbCh0aGlzLDAsZSx0LG4scixpLGEsbyksdGhpcy50eXBlPVwiQ29uZUJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSxoZWlnaHQ6dCxyYWRpYWxTZWdtZW50czpuLGhlaWdodFNlZ21lbnRzOnIsb3BlbkVuZGVkOmksdGhldGFTdGFydDphLHRoZXRhTGVuZ3RoOm99fWZ1bmN0aW9uIHpyKGUsdCxuLHIpe2suY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDaXJjbGVHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOmUsc2VnbWVudHM6dCx0aGV0YVN0YXJ0Om4sdGhldGFMZW5ndGg6cn0sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEJyKGUsdCxuLHIpKSx0aGlzLm1lcmdlVmVydGljZXMoKX1mdW5jdGlvbiBCcihlLHQscixhKXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiQ2lyY2xlQnVmZmVyR2VvbWV0cnlcIix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czplLHNlZ21lbnRzOnQsdGhldGFTdGFydDpyLHRoZXRhTGVuZ3RoOmF9LGU9ZXx8MSx0PXZvaWQgMCE9PXQ/TWF0aC5tYXgoMyx0KTo4LHI9dm9pZCAwIT09cj9yOjAsYT12b2lkIDAhPT1hP2E6MipNYXRoLlBJO3ZhciBvLHMsYz1bXSxsPVtdLGg9W10sdT1bXSxwPW5ldyBpLGQ9bmV3IG47Zm9yKGwucHVzaCgwLDAsMCksaC5wdXNoKDAsMCwxKSx1LnB1c2goLjUsLjUpLHM9MCxvPTM7czw9dDtzKyssbys9Myl7dmFyIGY9citzL3QqYTtwLng9ZSpNYXRoLmNvcyhmKSxwLnk9ZSpNYXRoLnNpbihmKSxsLnB1c2gocC54LHAueSxwLnopLGgucHVzaCgwLDAsMSksZC54PShsW29dL2UrMSkvMixkLnk9KGxbbysxXS9lKzEpLzIsdS5wdXNoKGQueCxkLnkpfWZvcihvPTE7bzw9dDtvKyspYy5wdXNoKG8sbysxLDApO3RoaXMuc2V0SW5kZXgoYyksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KGwsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IHooaCwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyB6KHUsMikpfWZ1bmN0aW9uIFVyKGUpe0UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTaGFkb3dNYXRlcmlhbFwiLHRoaXMuY29sb3I9bmV3IHcoMCksdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyhlKX1mdW5jdGlvbiBGcihlKXtYLmNhbGwodGhpcyxlKSx0aGlzLnR5cGU9XCJSYXdTaGFkZXJNYXRlcmlhbFwifWZ1bmN0aW9uIEdyKGUpe0UuY2FsbCh0aGlzKSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOlwiXCJ9LHRoaXMudHlwZT1cIk1lc2hTdGFuZGFyZE1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgdygxNjc3NzIxNSksdGhpcy5yb3VnaG5lc3M9LjUsdGhpcy5tZXRhbG5lc3M9LjUsdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZT1uZXcgdygwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9bmwsdGhpcy5ub3JtYWxTY2FsZT1uZXcgbigxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMucm91Z2huZXNzTWFwPW51bGwsdGhpcy5tZXRhbG5lc3NNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmVudk1hcEludGVuc2l0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD1cInJvdW5kXCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1cInJvdW5kXCIsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1vcnBoTm9ybWFscz0hMSx0aGlzLnNldFZhbHVlcyhlKX1mdW5jdGlvbiBIcihlKXtHci5jYWxsKHRoaXMpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6XCJcIixQSFlTSUNBTDpcIlwifSx0aGlzLnR5cGU9XCJNZXNoUGh5c2ljYWxNYXRlcmlhbFwiLHRoaXMucmVmbGVjdGl2aXR5PS41LHRoaXMuY2xlYXJjb2F0PTAsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M9MCx0aGlzLnNoZWVuPW51bGwsdGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZT1uZXcgbigxLDEpLHRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwPW51bGwsdGhpcy50cmFuc3BhcmVuY3k9MCx0aGlzLnNldFZhbHVlcyhlKX1mdW5jdGlvbiBWcihlKXtFLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTWVzaFBob25nTWF0ZXJpYWxcIix0aGlzLmNvbG9yPW5ldyB3KDE2Nzc3MjE1KSx0aGlzLnNwZWN1bGFyPW5ldyB3KDExMTg0ODEpLHRoaXMuc2hpbmluZXNzPTMwLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IHcoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPW5sLHRoaXMubm9ybWFsU2NhbGU9bmV3IG4oMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLnNwZWN1bGFyTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZW52TWFwPW51bGwsdGhpcy5jb21iaW5lPVJzLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPVwicm91bmRcIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPVwicm91bmRcIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKGUpfWZ1bmN0aW9uIGpyKGUpe0UuY2FsbCh0aGlzKSx0aGlzLmRlZmluZXM9e1RPT046XCJcIn0sdGhpcy50eXBlPVwiTWVzaFRvb25NYXRlcmlhbFwiLHRoaXMuY29sb3I9bmV3IHcoMTY3NzcyMTUpLHRoaXMuc3BlY3VsYXI9bmV3IHcoMTExODQ4MSksdGhpcy5zaGluaW5lc3M9MzAsdGhpcy5tYXA9bnVsbCx0aGlzLmdyYWRpZW50TWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IHcoMCksdGhpcy5lbWlzc2l2ZUludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmVNYXA9bnVsbCx0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPW5sLHRoaXMubm9ybWFsU2NhbGU9bmV3IG4oMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLnNwZWN1bGFyTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPVwicm91bmRcIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPVwicm91bmRcIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKGUpfWZ1bmN0aW9uIGtyKGUpe0UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJNZXNoTm9ybWFsTWF0ZXJpYWxcIix0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPW5sLHRoaXMubm9ybWFsU2NhbGU9bmV3IG4oMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5zZXRWYWx1ZXMoZSl9ZnVuY3Rpb24gV3IoZSl7RS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIk1lc2hMYW1iZXJ0TWF0ZXJpYWxcIix0aGlzLmNvbG9yPW5ldyB3KDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyB3KDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT1Scyx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD1cInJvdW5kXCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1cInJvdW5kXCIsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1vcnBoTm9ybWFscz0hMSx0aGlzLnNldFZhbHVlcyhlKX1mdW5jdGlvbiBxcihlKXtFLmNhbGwodGhpcyksdGhpcy5kZWZpbmVzPXtNQVRDQVA6XCJcIn0sdGhpcy50eXBlPVwiTWVzaE1hdGNhcE1hdGVyaWFsXCIsdGhpcy5jb2xvcj1uZXcgdygxNjc3NzIxNSksdGhpcy5tYXRjYXA9bnVsbCx0aGlzLm1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9bmwsdGhpcy5ub3JtYWxTY2FsZT1uZXcgbigxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKGUpfWZ1bmN0aW9uIFhyKGUpe3VuLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGluZURhc2hlZE1hdGVyaWFsXCIsdGhpcy5zY2FsZT0xLHRoaXMuZGFzaFNpemU9Myx0aGlzLmdhcFNpemU9MSx0aGlzLnNldFZhbHVlcyhlKX1mdW5jdGlvbiBZcihlLHQsbixyKXt0aGlzLnBhcmFtZXRlclBvc2l0aW9ucz1lLHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5yZXN1bHRCdWZmZXI9dm9pZCAwIT09cj9yOm5ldyB0LmNvbnN0cnVjdG9yKG4pLHRoaXMuc2FtcGxlVmFsdWVzPXQsdGhpcy52YWx1ZVNpemU9bn1mdW5jdGlvbiBacihlLHQsbixyKXtZci5jYWxsKHRoaXMsZSx0LG4sciksdGhpcy5fd2VpZ2h0UHJldj0tMCx0aGlzLl9vZmZzZXRQcmV2PS0wLHRoaXMuX3dlaWdodE5leHQ9LTAsdGhpcy5fb2Zmc2V0TmV4dD0tMH1mdW5jdGlvbiBKcihlLHQsbixyKXtZci5jYWxsKHRoaXMsZSx0LG4scil9ZnVuY3Rpb24gUXIoZSx0LG4scil7WXIuY2FsbCh0aGlzLGUsdCxuLHIpfWZ1bmN0aW9uIEtyKGUsdCxuLHIpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgbmFtZSBpcyB1bmRlZmluZWRcIik7aWYodm9pZCAwPT09dHx8MD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IG5vIGtleWZyYW1lcyBpbiB0cmFjayBuYW1lZCBcIitlKTt0aGlzLm5hbWU9ZSx0aGlzLnRpbWVzPWhwLmNvbnZlcnRBcnJheSh0LHRoaXMuVGltZUJ1ZmZlclR5cGUpLHRoaXMudmFsdWVzPWhwLmNvbnZlcnRBcnJheShuLHRoaXMuVmFsdWVCdWZmZXJUeXBlKSx0aGlzLnNldEludGVycG9sYXRpb24ocnx8dGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil9ZnVuY3Rpb24gJHIoZSx0LG4pe0tyLmNhbGwodGhpcyxlLHQsbil9ZnVuY3Rpb24gZWkoZSx0LG4scil7S3IuY2FsbCh0aGlzLGUsdCxuLHIpfWZ1bmN0aW9uIHRpKGUsdCxuLHIpe0tyLmNhbGwodGhpcyxlLHQsbixyKX1mdW5jdGlvbiBuaShlLHQsbixyKXtZci5jYWxsKHRoaXMsZSx0LG4scil9ZnVuY3Rpb24gcmkoZSx0LG4scil7S3IuY2FsbCh0aGlzLGUsdCxuLHIpfWZ1bmN0aW9uIGlpKGUsdCxuLHIpe0tyLmNhbGwodGhpcyxlLHQsbixyKX1mdW5jdGlvbiBhaShlLHQsbixyKXtLci5jYWxsKHRoaXMsZSx0LG4scil9ZnVuY3Rpb24gb2koZSx0LG4pe3RoaXMubmFtZT1lLHRoaXMudHJhY2tzPW4sdGhpcy5kdXJhdGlvbj12b2lkIDAhPT10P3Q6LTEsdGhpcy51dWlkPWxsLmdlbmVyYXRlVVVJRCgpLHRoaXMuZHVyYXRpb248MCYmdGhpcy5yZXNldER1cmF0aW9uKCl9ZnVuY3Rpb24gc2koZSl7c3dpdGNoKGUudG9Mb3dlckNhc2UoKSl7Y2FzZVwic2NhbGFyXCI6Y2FzZVwiZG91YmxlXCI6Y2FzZVwiZmxvYXRcIjpjYXNlXCJudW1iZXJcIjpjYXNlXCJpbnRlZ2VyXCI6cmV0dXJuIHRpXG47Y2FzZVwidmVjdG9yXCI6Y2FzZVwidmVjdG9yMlwiOmNhc2VcInZlY3RvcjNcIjpjYXNlXCJ2ZWN0b3I0XCI6cmV0dXJuIGFpO2Nhc2VcImNvbG9yXCI6cmV0dXJuIGVpO2Nhc2VcInF1YXRlcm5pb25cIjpyZXR1cm4gcmk7Y2FzZVwiYm9vbFwiOmNhc2VcImJvb2xlYW5cIjpyZXR1cm4gJHI7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGlpfXRocm93IG5ldyBFcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IFVuc3VwcG9ydGVkIHR5cGVOYW1lOiBcIitlKX1mdW5jdGlvbiBjaShlKXtpZih2b2lkIDA9PT1lLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgdHlwZSB1bmRlZmluZWQsIGNhbiBub3QgcGFyc2VcIik7dmFyIHQ9c2koZS50eXBlKTtpZih2b2lkIDA9PT1lLnRpbWVzKXt2YXIgbj1bXSxyPVtdO2hwLmZsYXR0ZW5KU09OKGUua2V5cyxuLHIsXCJ2YWx1ZVwiKSxlLnRpbWVzPW4sZS52YWx1ZXM9cn1yZXR1cm4gdm9pZCAwIT09dC5wYXJzZT90LnBhcnNlKGUpOm5ldyB0KGUubmFtZSxlLnRpbWVzLGUudmFsdWVzLGUuaW50ZXJwb2xhdGlvbil9ZnVuY3Rpb24gbGkoZSx0LG4pe3ZhciByPXRoaXMsaT0hMSxhPTAsbz0wLHM9dm9pZCAwLGM9W107dGhpcy5vblN0YXJ0PXZvaWQgMCx0aGlzLm9uTG9hZD1lLHRoaXMub25Qcm9ncmVzcz10LHRoaXMub25FcnJvcj1uLHRoaXMuaXRlbVN0YXJ0PWZ1bmN0aW9uKGUpe28rKywhMT09PWkmJnZvaWQgMCE9PXIub25TdGFydCYmci5vblN0YXJ0KGUsYSxvKSxpPSEwfSx0aGlzLml0ZW1FbmQ9ZnVuY3Rpb24oZSl7YSsrLHZvaWQgMCE9PXIub25Qcm9ncmVzcyYmci5vblByb2dyZXNzKGUsYSxvKSxhPT09byYmKGk9ITEsdm9pZCAwIT09ci5vbkxvYWQmJnIub25Mb2FkKCkpfSx0aGlzLml0ZW1FcnJvcj1mdW5jdGlvbihlKXt2b2lkIDAhPT1yLm9uRXJyb3ImJnIub25FcnJvcihlKX0sdGhpcy5yZXNvbHZlVVJMPWZ1bmN0aW9uKGUpe3JldHVybiBzP3MoZSk6ZX0sdGhpcy5zZXRVUkxNb2RpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4gcz1lLHRoaXN9LHRoaXMuYWRkSGFuZGxlcj1mdW5jdGlvbihlLHQpe3JldHVybiBjLnB1c2goZSx0KSx0aGlzfSx0aGlzLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9Yy5pbmRleE9mKGUpO3JldHVybi0xIT09dCYmYy5zcGxpY2UodCwyKSx0aGlzfSx0aGlzLmdldEhhbmRsZXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1jLmxlbmd0aDt0PG47dCs9Mil7dmFyIHI9Y1t0XSxpPWNbdCsxXTtpZihyLmdsb2JhbCYmKHIubGFzdEluZGV4PTApLHIudGVzdChlKSlyZXR1cm4gaX1yZXR1cm4gbnVsbH19ZnVuY3Rpb24gaGkoZSl7dGhpcy5tYW5hZ2VyPXZvaWQgMCE9PWU/ZTpwcCx0aGlzLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsdGhpcy5wYXRoPVwiXCIsdGhpcy5yZXNvdXJjZVBhdGg9XCJcIn1mdW5jdGlvbiB1aShlKXtoaS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gcGkoZSl7aGkuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIGRpKGUpe2hpLmNhbGwodGhpcyxlKX1mdW5jdGlvbiBmaShlKXtoaS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gbWkoZSl7aGkuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIHZpKGUpe2hpLmNhbGwodGhpcyxlKX1mdW5jdGlvbiBnaShlKXtoaS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24geWkoKXt0aGlzLnR5cGU9XCJDdXJ2ZVwiLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPTIwMH1mdW5jdGlvbiB4aShlLHQsbixyLGksYSxvLHMpe3lpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiRWxsaXBzZUN1cnZlXCIsdGhpcy5hWD1lfHwwLHRoaXMuYVk9dHx8MCx0aGlzLnhSYWRpdXM9bnx8MSx0aGlzLnlSYWRpdXM9cnx8MSx0aGlzLmFTdGFydEFuZ2xlPWl8fDAsdGhpcy5hRW5kQW5nbGU9YXx8MipNYXRoLlBJLHRoaXMuYUNsb2Nrd2lzZT1vfHwhMSx0aGlzLmFSb3RhdGlvbj1zfHwwfWZ1bmN0aW9uIGJpKGUsdCxuLHIsaSxhKXt4aS5jYWxsKHRoaXMsZSx0LG4sbixyLGksYSksdGhpcy50eXBlPVwiQXJjQ3VydmVcIn1mdW5jdGlvbiB3aSgpe2Z1bmN0aW9uIGUoZSxhLG8scyl7dD1lLG49byxyPS0zKmUrMyphLTIqby1zLGk9MiplLTIqYStvK3N9dmFyIHQ9MCxuPTAscj0wLGk9MDtyZXR1cm57aW5pdENhdG11bGxSb206ZnVuY3Rpb24odCxuLHIsaSxhKXtlKG4scixhKihyLXQpLGEqKGktbikpfSxpbml0Tm9udW5pZm9ybUNhdG11bGxSb206ZnVuY3Rpb24odCxuLHIsaSxhLG8scyl7dmFyIGM9KG4tdCkvYS0oci10KS8oYStvKSsoci1uKS9vLGw9KHItbikvby0oaS1uKS8obytzKSsoaS1yKS9zO2MqPW8sbCo9byxlKG4scixjLGwpfSxjYWxjOmZ1bmN0aW9uKGUpe3ZhciBhPWUqZTtyZXR1cm4gdCtuKmUrciphK2kqKGEqZSl9fX1mdW5jdGlvbiBfaShlLHQsbixyKXt5aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkNhdG11bGxSb21DdXJ2ZTNcIix0aGlzLnBvaW50cz1lfHxbXSx0aGlzLmNsb3NlZD10fHwhMSx0aGlzLmN1cnZlVHlwZT1ufHxcImNlbnRyaXBldGFsXCIsdGhpcy50ZW5zaW9uPXJ8fC41fWZ1bmN0aW9uIE1pKGUsdCxuLHIsaSl7dmFyIGE9LjUqKHItdCksbz0uNSooaS1uKSxzPWUqZTtyZXR1cm4oMipuLTIqcithK28pKihlKnMpKygtMypuKzMqci0yKmEtbykqcythKmUrbn1mdW5jdGlvbiBTaShlLHQpe3ZhciBuPTEtZTtyZXR1cm4gbipuKnR9ZnVuY3Rpb24gVGkoZSx0KXtyZXR1cm4gMiooMS1lKSplKnR9ZnVuY3Rpb24gRWkoZSx0KXtyZXR1cm4gZSplKnR9ZnVuY3Rpb24gQWkoZSx0LG4scil7cmV0dXJuIFNpKGUsdCkrVGkoZSxuKStFaShlLHIpfWZ1bmN0aW9uIExpKGUsdCl7dmFyIG49MS1lO3JldHVybiBuKm4qbip0fWZ1bmN0aW9uIFJpKGUsdCl7dmFyIG49MS1lO3JldHVybiAzKm4qbiplKnR9ZnVuY3Rpb24gUGkoZSx0KXtyZXR1cm4gMyooMS1lKSplKmUqdH1mdW5jdGlvbiBDaShlLHQpe3JldHVybiBlKmUqZSp0fWZ1bmN0aW9uIE9pKGUsdCxuLHIsaSl7cmV0dXJuIExpKGUsdCkrUmkoZSxuKStQaShlLHIpK0NpKGUsaSl9ZnVuY3Rpb24gRGkoZSx0LHIsaSl7eWkuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDdWJpY0JlemllckN1cnZlXCIsdGhpcy52MD1lfHxuZXcgbix0aGlzLnYxPXR8fG5ldyBuLHRoaXMudjI9cnx8bmV3IG4sdGhpcy52Mz1pfHxuZXcgbn1mdW5jdGlvbiBJaShlLHQsbixyKXt5aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkN1YmljQmV6aWVyQ3VydmUzXCIsdGhpcy52MD1lfHxuZXcgaSx0aGlzLnYxPXR8fG5ldyBpLHRoaXMudjI9bnx8bmV3IGksdGhpcy52Mz1yfHxuZXcgaX1mdW5jdGlvbiBOaShlLHQpe3lpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGluZUN1cnZlXCIsdGhpcy52MT1lfHxuZXcgbix0aGlzLnYyPXR8fG5ldyBufWZ1bmN0aW9uIHppKGUsdCl7eWkuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJMaW5lQ3VydmUzXCIsdGhpcy52MT1lfHxuZXcgaSx0aGlzLnYyPXR8fG5ldyBpfWZ1bmN0aW9uIEJpKGUsdCxyKXt5aS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlF1YWRyYXRpY0JlemllckN1cnZlXCIsdGhpcy52MD1lfHxuZXcgbix0aGlzLnYxPXR8fG5ldyBuLHRoaXMudjI9cnx8bmV3IG59ZnVuY3Rpb24gVWkoZSx0LG4pe3lpLmNhbGwodGhpcyksdGhpcy50eXBlPVwiUXVhZHJhdGljQmV6aWVyQ3VydmUzXCIsdGhpcy52MD1lfHxuZXcgaSx0aGlzLnYxPXR8fG5ldyBpLHRoaXMudjI9bnx8bmV3IGl9ZnVuY3Rpb24gRmkoZSl7eWkuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJTcGxpbmVDdXJ2ZVwiLHRoaXMucG9pbnRzPWV8fFtdfWZ1bmN0aW9uIEdpKCl7eWkuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJDdXJ2ZVBhdGhcIix0aGlzLmN1cnZlcz1bXSx0aGlzLmF1dG9DbG9zZT0hMX1mdW5jdGlvbiBIaShlKXtHaS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIlBhdGhcIix0aGlzLmN1cnJlbnRQb2ludD1uZXcgbixlJiZ0aGlzLnNldEZyb21Qb2ludHMoZSl9ZnVuY3Rpb24gVmkoZSl7SGkuY2FsbCh0aGlzLGUpLHRoaXMudXVpZD1sbC5nZW5lcmF0ZVVVSUQoKSx0aGlzLnR5cGU9XCJTaGFwZVwiLHRoaXMuaG9sZXM9W119ZnVuY3Rpb24gamkoZSx0KXtkLmNhbGwodGhpcyksdGhpcy50eXBlPVwiTGlnaHRcIix0aGlzLmNvbG9yPW5ldyB3KGUpLHRoaXMuaW50ZW5zaXR5PXZvaWQgMCE9PXQ/dDoxLHRoaXMucmVjZWl2ZVNoYWRvdz12b2lkIDB9ZnVuY3Rpb24ga2koZSx0LG4pe2ppLmNhbGwodGhpcyxlLG4pLHRoaXMudHlwZT1cIkhlbWlzcGhlcmVMaWdodFwiLHRoaXMuY2FzdFNoYWRvdz12b2lkIDAsdGhpcy5wb3NpdGlvbi5jb3B5KGQuRGVmYXVsdFVwKSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMuZ3JvdW5kQ29sb3I9bmV3IHcodCl9ZnVuY3Rpb24gV2koZSl7dGhpcy5jYW1lcmE9ZSx0aGlzLmJpYXM9MCx0aGlzLnJhZGl1cz0xLHRoaXMubWFwU2l6ZT1uZXcgbig1MTIsNTEyKSx0aGlzLm1hcD1udWxsLHRoaXMubWFwUGFzcz1udWxsLHRoaXMubWF0cml4PW5ldyBoLHRoaXMuX2ZydXN0dW09bmV3ICQsdGhpcy5fZnJhbWVFeHRlbnRzPW5ldyBuKDEsMSksdGhpcy5fdmlld3BvcnRDb3VudD0xLHRoaXMuX3ZpZXdwb3J0cz1bbmV3IHMoMCwwLDEsMSldfWZ1bmN0aW9uIHFpKCl7V2kuY2FsbCh0aGlzLG5ldyBaKDUwLDEsLjUsNTAwKSl9ZnVuY3Rpb24gWGkoZSx0LG4scixpLGEpe2ppLmNhbGwodGhpcyxlLHQpLHRoaXMudHlwZT1cIlNwb3RMaWdodFwiLHRoaXMucG9zaXRpb24uY29weShkLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLnRhcmdldD1uZXcgZCxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBvd2VyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVuc2l0eSpNYXRoLlBJfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5pbnRlbnNpdHk9ZS9NYXRoLlBJfX0pLHRoaXMuZGlzdGFuY2U9dm9pZCAwIT09bj9uOjAsdGhpcy5hbmdsZT12b2lkIDAhPT1yP3I6TWF0aC5QSS8zLHRoaXMucGVudW1icmE9dm9pZCAwIT09aT9pOjAsdGhpcy5kZWNheT12b2lkIDAhPT1hP2E6MSx0aGlzLnNoYWRvdz1uZXcgcWl9ZnVuY3Rpb24gWWkoKXtXaS5jYWxsKHRoaXMsbmV3IFooOTAsMSwuNSw1MDApKSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IG4oNCwyKSx0aGlzLl92aWV3cG9ydENvdW50PTYsdGhpcy5fdmlld3BvcnRzPVtuZXcgcygyLDEsMSwxKSxuZXcgcygwLDEsMSwxKSxuZXcgcygzLDEsMSwxKSxuZXcgcygxLDEsMSwxKSxuZXcgcygzLDAsMSwxKSxuZXcgcygxLDAsMSwxKV0sdGhpcy5fY3ViZURpcmVjdGlvbnM9W25ldyBpKDEsMCwwKSxuZXcgaSgtMSwwLDApLG5ldyBpKDAsMCwxKSxuZXcgaSgwLDAsLTEpLG5ldyBpKDAsMSwwKSxuZXcgaSgwLC0xLDApXSx0aGlzLl9jdWJlVXBzPVtuZXcgaSgwLDEsMCksbmV3IGkoMCwxLDApLG5ldyBpKDAsMSwwKSxuZXcgaSgwLDEsMCksbmV3IGkoMCwwLDEpLG5ldyBpKDAsMCwtMSldfWZ1bmN0aW9uIFppKGUsdCxuLHIpe2ppLmNhbGwodGhpcyxlLHQpLHRoaXMudHlwZT1cIlBvaW50TGlnaHRcIixPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBvd2VyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA0KnRoaXMuaW50ZW5zaXR5Kk1hdGguUEl9LHNldDpmdW5jdGlvbihlKXt0aGlzLmludGVuc2l0eT1lLyg0Kk1hdGguUEkpfX0pLHRoaXMuZGlzdGFuY2U9dm9pZCAwIT09bj9uOjAsdGhpcy5kZWNheT12b2lkIDAhPT1yP3I6MSx0aGlzLnNoYWRvdz1uZXcgWWl9ZnVuY3Rpb24gSmkoZSx0LG4scixpLGEpe1kuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJPcnRob2dyYXBoaWNDYW1lcmFcIix0aGlzLnpvb209MSx0aGlzLnZpZXc9bnVsbCx0aGlzLmxlZnQ9dm9pZCAwIT09ZT9lOi0xLHRoaXMucmlnaHQ9dm9pZCAwIT09dD90OjEsdGhpcy50b3A9dm9pZCAwIT09bj9uOjEsdGhpcy5ib3R0b209dm9pZCAwIT09cj9yOi0xLHRoaXMubmVhcj12b2lkIDAhPT1pP2k6LjEsdGhpcy5mYXI9dm9pZCAwIT09YT9hOjJlMyx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1mdW5jdGlvbiBRaSgpe1dpLmNhbGwodGhpcyxuZXcgSmkoLTUsNSw1LC01LC41LDUwMCkpfWZ1bmN0aW9uIEtpKGUsdCl7amkuY2FsbCh0aGlzLGUsdCksdGhpcy50eXBlPVwiRGlyZWN0aW9uYWxMaWdodFwiLHRoaXMucG9zaXRpb24uY29weShkLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLnRhcmdldD1uZXcgZCx0aGlzLnNoYWRvdz1uZXcgUWl9ZnVuY3Rpb24gJGkoZSx0KXtqaS5jYWxsKHRoaXMsZSx0KSx0aGlzLnR5cGU9XCJBbWJpZW50TGlnaHRcIix0aGlzLmNhc3RTaGFkb3c9dm9pZCAwfWZ1bmN0aW9uIGVhKGUsdCxuLHIpe2ppLmNhbGwodGhpcyxlLHQpLHRoaXMudHlwZT1cIlJlY3RBcmVhTGlnaHRcIix0aGlzLndpZHRoPXZvaWQgMCE9PW4/bjoxMCx0aGlzLmhlaWdodD12b2lkIDAhPT1yP3I6MTB9ZnVuY3Rpb24gdGEoZSl7aGkuY2FsbCh0aGlzLGUpLHRoaXMudGV4dHVyZXM9e319ZnVuY3Rpb24gbmEoKXtHLmNhbGwodGhpcyksdGhpcy50eXBlPVwiSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnlcIix0aGlzLm1heEluc3RhbmNlZENvdW50PXZvaWQgMH1mdW5jdGlvbiByYShlLHQsbixyKXtcIm51bWJlclwiPT10eXBlb2YgbiYmKHI9bixuPSExLGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBub3JtYWxpemVkIGFzIHRoZSB0aGlyZCBhcmd1bWVudC5cIikpLEwuY2FsbCh0aGlzLGUsdCxuKSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9cnx8MX1mdW5jdGlvbiBpYShlKXtoaS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gYWEoZSl7aGkuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIG9hKGUpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBjcmVhdGVJbWFnZUJpdG1hcCYmY29uc29sZS53YXJuKFwiVEhSRUUuSW1hZ2VCaXRtYXBMb2FkZXI6IGNyZWF0ZUltYWdlQml0bWFwKCkgbm90IHN1cHBvcnRlZC5cIiksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGZldGNoJiZjb25zb2xlLndhcm4oXCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogZmV0Y2goKSBub3Qgc3VwcG9ydGVkLlwiKSxoaS5jYWxsKHRoaXMsZSksdGhpcy5vcHRpb25zPXZvaWQgMH1mdW5jdGlvbiBzYSgpe3RoaXMudHlwZT1cIlNoYXBlUGF0aFwiLHRoaXMuY29sb3I9bmV3IHcsdGhpcy5zdWJQYXRocz1bXSx0aGlzLmN1cnJlbnRQYXRoPW51bGx9ZnVuY3Rpb24gY2EoZSl7dGhpcy50eXBlPVwiRm9udFwiLHRoaXMuZGF0YT1lfWZ1bmN0aW9uIGxhKGUsdCxuKXtmb3IodmFyIHI9QXJyYXkuZnJvbT9BcnJheS5mcm9tKGUpOlN0cmluZyhlKS5zcGxpdChcIlwiKSxpPXQvbi5yZXNvbHV0aW9uLGE9KG4uYm91bmRpbmdCb3gueU1heC1uLmJvdW5kaW5nQm94LnlNaW4rbi51bmRlcmxpbmVUaGlja25lc3MpKmksbz1bXSxzPTAsYz0wLGw9MDtsPHIubGVuZ3RoO2wrKyl7dmFyIGg9cltsXTtpZihcIlxcblwiPT09aClzPTAsYy09YTtlbHNle3ZhciB1PWhhKGgsaSxzLGMsbik7cys9dS5vZmZzZXRYLG8ucHVzaCh1LnBhdGgpfX1yZXR1cm4gb31mdW5jdGlvbiBoYShlLHQsbixyLGkpe3ZhciBhPWkuZ2x5cGhzW2VdfHxpLmdseXBoc1tcIj9cIl07aWYoIWEpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcignVEhSRUUuRm9udDogY2hhcmFjdGVyIFwiJytlKydcIiBkb2VzIG5vdCBleGlzdHMgaW4gZm9udCBmYW1pbHkgJytpLmZhbWlseU5hbWUrXCIuXCIpO3ZhciBvLHMsYyxsLGgsdSxwLGQsZj1uZXcgc2E7aWYoYS5vKWZvcih2YXIgbT1hLl9jYWNoZWRPdXRsaW5lfHwoYS5fY2FjaGVkT3V0bGluZT1hLm8uc3BsaXQoXCIgXCIpKSx2PTAsZz1tLmxlbmd0aDt2PGc7KXt2YXIgeT1tW3YrK107c3dpdGNoKHkpe2Nhc2VcIm1cIjpvPW1bdisrXSp0K24scz1tW3YrK10qdCtyLGYubW92ZVRvKG8scyk7YnJlYWs7Y2FzZVwibFwiOm89bVt2KytdKnQrbixzPW1bdisrXSp0K3IsZi5saW5lVG8obyxzKTticmVhaztjYXNlXCJxXCI6Yz1tW3YrK10qdCtuLGw9bVt2KytdKnQrcixoPW1bdisrXSp0K24sdT1tW3YrK10qdCtyLGYucXVhZHJhdGljQ3VydmVUbyhoLHUsYyxsKTticmVhaztjYXNlXCJiXCI6Yz1tW3YrK10qdCtuLGw9bVt2KytdKnQrcixoPW1bdisrXSp0K24sdT1tW3YrK10qdCtyLHA9bVt2KytdKnQrbixkPW1bdisrXSp0K3IsZi5iZXppZXJDdXJ2ZVRvKGgsdSxwLGQsYyxsKX19cmV0dXJue29mZnNldFg6YS5oYSp0LHBhdGg6Zn19ZnVuY3Rpb24gdWEoZSl7aGkuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIHBhKGUpe2hpLmNhbGwodGhpcyxlKX1mdW5jdGlvbiBkYSgpe3RoaXMuY29lZmZpY2llbnRzPVtdO2Zvcih2YXIgZT0wO2U8OTtlKyspdGhpcy5jb2VmZmljaWVudHMucHVzaChuZXcgaSl9ZnVuY3Rpb24gZmEoZSx0KXtqaS5jYWxsKHRoaXMsdm9pZCAwLHQpLHRoaXMuc2g9dm9pZCAwIT09ZT9lOm5ldyBkYX1mdW5jdGlvbiBtYShlLHQsbil7ZmEuY2FsbCh0aGlzLHZvaWQgMCxuKTt2YXIgcj0obmV3IHcpLnNldChlKSxhPShuZXcgdykuc2V0KHQpLG89bmV3IGkoci5yLHIuZyxyLmIpLHM9bmV3IGkoYS5yLGEuZyxhLmIpLGM9TWF0aC5zcXJ0KE1hdGguUEkpLGw9YypNYXRoLnNxcnQoLjc1KTt0aGlzLnNoLmNvZWZmaWNpZW50c1swXS5jb3B5KG8pLmFkZChzKS5tdWx0aXBseVNjYWxhcihjKSx0aGlzLnNoLmNvZWZmaWNpZW50c1sxXS5jb3B5KG8pLnN1YihzKS5tdWx0aXBseVNjYWxhcihsKX1mdW5jdGlvbiB2YShlLHQpe2ZhLmNhbGwodGhpcyx2b2lkIDAsdCk7dmFyIG49KG5ldyB3KS5zZXQoZSk7dGhpcy5zaC5jb2VmZmljaWVudHNbMF0uc2V0KG4ucixuLmcsbi5iKS5tdWx0aXBseVNjYWxhcigyKk1hdGguc3FydChNYXRoLlBJKSl9ZnVuY3Rpb24gZ2EoKXt0aGlzLnR5cGU9XCJTdGVyZW9DYW1lcmFcIix0aGlzLmFzcGVjdD0xLHRoaXMuZXllU2VwPS4wNjQsdGhpcy5jYW1lcmFMPW5ldyBaLHRoaXMuY2FtZXJhTC5sYXllcnMuZW5hYmxlKDEpLHRoaXMuY2FtZXJhTC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuY2FtZXJhUj1uZXcgWix0aGlzLmNhbWVyYVIubGF5ZXJzLmVuYWJsZSgyKSx0aGlzLmNhbWVyYVIubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9jYWNoZT17Zm9jdXM6bnVsbCxmb3Y6bnVsbCxhc3BlY3Q6bnVsbCxuZWFyOm51bGwsZmFyOm51bGwsem9vbTpudWxsLGV5ZVNlcDpudWxsfX1mdW5jdGlvbiB5YShlKXt0aGlzLmF1dG9TdGFydD12b2lkIDA9PT1lfHxlLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5vbGRUaW1lPTAsdGhpcy5lbGFwc2VkVGltZT0wLHRoaXMucnVubmluZz0hMX1mdW5jdGlvbiB4YSgpe2QuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJBdWRpb0xpc3RlbmVyXCIsdGhpcy5jb250ZXh0PVRwLmdldENvbnRleHQoKSx0aGlzLmdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW4uY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuZmlsdGVyPW51bGwsdGhpcy50aW1lRGVsdGE9MCx0aGlzLl9jbG9jaz1uZXcgeWF9ZnVuY3Rpb24gYmEoZSl7ZC5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkF1ZGlvXCIsdGhpcy5saXN0ZW5lcj1lLHRoaXMuY29udGV4dD1lLmNvbnRleHQsdGhpcy5nYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluLmNvbm5lY3QoZS5nZXRJbnB1dCgpKSx0aGlzLmF1dG9wbGF5PSExLHRoaXMuYnVmZmVyPW51bGwsdGhpcy5kZXR1bmU9MCx0aGlzLmxvb3A9ITEsdGhpcy5sb29wU3RhcnQ9MCx0aGlzLmxvb3BFbmQ9MCx0aGlzLm9mZnNldD0wLHRoaXMuZHVyYXRpb249dm9pZCAwLHRoaXMucGxheWJhY2tSYXRlPTEsdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITAsdGhpcy5zb3VyY2VUeXBlPVwiZW1wdHlcIix0aGlzLl9zdGFydGVkQXQ9MCx0aGlzLl9wYXVzZWRBdD0wLHRoaXMuZmlsdGVycz1bXX1mdW5jdGlvbiB3YShlKXtiYS5jYWxsKHRoaXMsZSksdGhpcy5wYW5uZXI9dGhpcy5jb250ZXh0LmNyZWF0ZVBhbm5lcigpLHRoaXMucGFubmVyLnBhbm5pbmdNb2RlbD1cIkhSVEZcIix0aGlzLnBhbm5lci5jb25uZWN0KHRoaXMuZ2Fpbil9ZnVuY3Rpb24gX2EoZSx0KXt0aGlzLmFuYWx5c2VyPWUuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZT12b2lkIDAhPT10P3Q6MjA0OCx0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy5hbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCksZS5nZXRPdXRwdXQoKS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpfWZ1bmN0aW9uIE1hKGUsdCxuKXt0aGlzLmJpbmRpbmc9ZSx0aGlzLnZhbHVlU2l6ZT1uO3ZhciByLGk9RmxvYXQ2NEFycmF5O3N3aXRjaCh0KXtjYXNlXCJxdWF0ZXJuaW9uXCI6cj10aGlzLl9zbGVycDticmVhaztjYXNlXCJzdHJpbmdcIjpjYXNlXCJib29sXCI6aT1BcnJheSxyPXRoaXMuX3NlbGVjdDticmVhaztkZWZhdWx0OnI9dGhpcy5fbGVycH10aGlzLmJ1ZmZlcj1uZXcgaSg0Km4pLHRoaXMuX21peEJ1ZmZlclJlZ2lvbj1yLHRoaXMuY3VtdWxhdGl2ZVdlaWdodD0wLHRoaXMudXNlQ291bnQ9MCx0aGlzLnJlZmVyZW5jZUNvdW50PTB9ZnVuY3Rpb24gU2EoZSx0LG4pe3ZhciByPW58fFRhLnBhcnNlVHJhY2tOYW1lKHQpO3RoaXMuX3RhcmdldEdyb3VwPWUsdGhpcy5fYmluZGluZ3M9ZS5zdWJzY3JpYmVfKHQscil9ZnVuY3Rpb24gVGEoZSx0LG4pe3RoaXMucGF0aD10LHRoaXMucGFyc2VkUGF0aD1ufHxUYS5wYXJzZVRyYWNrTmFtZSh0KSx0aGlzLm5vZGU9VGEuZmluZE5vZGUoZSx0aGlzLnBhcnNlZFBhdGgubm9kZU5hbWUpfHxlLHRoaXMucm9vdE5vZGU9ZX1mdW5jdGlvbiBFYSgpe3RoaXMudXVpZD1sbC5nZW5lcmF0ZVVVSUQoKSx0aGlzLl9vYmplY3RzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdGhpcy5uQ2FjaGVkT2JqZWN0c189MDt2YXIgZT17fTt0aGlzLl9pbmRpY2VzQnlVVUlEPWU7Zm9yKHZhciB0PTAsbj1hcmd1bWVudHMubGVuZ3RoO3QhPT1uOysrdCllW2FyZ3VtZW50c1t0XS51dWlkXT10O3RoaXMuX3BhdGhzPVtdLHRoaXMuX3BhcnNlZFBhdGhzPVtdLHRoaXMuX2JpbmRpbmdzPVtdLHRoaXMuX2JpbmRpbmdzSW5kaWNlc0J5UGF0aD17fTt2YXIgcj10aGlzO3RoaXMuc3RhdHM9e29iamVjdHM6e2dldCB0b3RhbCgpe3JldHVybiByLl9vYmplY3RzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIHRoaXMudG90YWwtci5uQ2FjaGVkT2JqZWN0c199fSxnZXQgYmluZGluZ3NQZXJPYmplY3QoKXtyZXR1cm4gci5fYmluZGluZ3MubGVuZ3RofX19ZnVuY3Rpb24gQWEoZSx0LG4pe3RoaXMuX21peGVyPWUsdGhpcy5fY2xpcD10LHRoaXMuX2xvY2FsUm9vdD1ufHxudWxsO2Zvcih2YXIgcj10LnRyYWNrcyxpPXIubGVuZ3RoLGE9bmV3IEFycmF5KGkpLG89e2VuZGluZ1N0YXJ0OldjLGVuZGluZ0VuZDpXY30scz0wO3MhPT1pOysrcyl7dmFyIGM9cltzXS5jcmVhdGVJbnRlcnBvbGFudChudWxsKTthW3NdPWMsYy5zZXR0aW5ncz1vfXRoaXMuX2ludGVycG9sYW50U2V0dGluZ3M9byx0aGlzLl9pbnRlcnBvbGFudHM9YSx0aGlzLl9wcm9wZXJ0eUJpbmRpbmdzPW5ldyBBcnJheShpKSx0aGlzLl9jYWNoZUluZGV4PW51bGwsdGhpcy5fYnlDbGlwQ2FjaGVJbmRleD1udWxsLHRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PW51bGwsdGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbCx0aGlzLmxvb3A9a2MsdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMudGltZT0wLHRoaXMudGltZVNjYWxlPTEsdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPTEsdGhpcy53ZWlnaHQ9MSx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9MSx0aGlzLnJlcGV0aXRpb25zPTEvMCx0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5jbGFtcFdoZW5GaW5pc2hlZD0hMSx0aGlzLnplcm9TbG9wZUF0U3RhcnQ9ITAsdGhpcy56ZXJvU2xvcGVBdEVuZD0hMH1mdW5jdGlvbiBMYShlKXt0aGlzLl9yb290PWUsdGhpcy5faW5pdE1lbW9yeU1hbmFnZXIoKSx0aGlzLl9hY2N1SW5kZXg9MCx0aGlzLnRpbWU9MCx0aGlzLnRpbWVTY2FsZT0xfWZ1bmN0aW9uIFJhKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoY29uc29sZS53YXJuKFwiVEhSRUUuVW5pZm9ybTogVHlwZSBwYXJhbWV0ZXIgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cIiksZT1hcmd1bWVudHNbMV0pLHRoaXMudmFsdWU9ZX1mdW5jdGlvbiBQYShlLHQsbil7ZW4uY2FsbCh0aGlzLGUsdCksdGhpcy5tZXNoUGVyQXR0cmlidXRlPW58fDF9ZnVuY3Rpb24gQ2EoZSx0LG4scil7dGhpcy5yYXk9bmV3IHkoZSx0KSx0aGlzLm5lYXI9bnx8MCx0aGlzLmZhcj1yfHwxLzAsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLnBhcmFtcz17TWVzaDp7fSxMaW5lOnt9LExPRDp7fSxQb2ludHM6e3RocmVzaG9sZDoxfSxTcHJpdGU6e319LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMucGFyYW1zLHtQb2ludENsb3VkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUmF5Y2FzdGVyOiBwYXJhbXMuUG9pbnRDbG91ZCBoYXMgYmVlbiByZW5hbWVkIHRvIHBhcmFtcy5Qb2ludHMuXCIpLHRoaXMuUG9pbnRzfX19KX1mdW5jdGlvbiBPYShlLHQpe3JldHVybiBlLmRpc3RhbmNlLXQuZGlzdGFuY2V9ZnVuY3Rpb24gRGEoZSx0LG4scil7aWYoITEhPT1lLnZpc2libGUmJihlLnJheWNhc3QodCxuKSwhMD09PXIpKWZvcih2YXIgaT1lLmNoaWxkcmVuLGE9MCxvPWkubGVuZ3RoO2E8bzthKyspRGEoaVthXSx0LG4sITApfWZ1bmN0aW9uIElhKGUsdCxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9dm9pZCAwIT09ZT9lOjEsdGhpcy5waGk9dm9pZCAwIT09dD90OjAsdGhpcy50aGV0YT12b2lkIDAhPT1uP246MCx0aGlzfWZ1bmN0aW9uIE5hKGUsdCxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9dm9pZCAwIT09ZT9lOjEsdGhpcy50aGV0YT12b2lkIDAhPT10P3Q6MCx0aGlzLnk9dm9pZCAwIT09bj9uOjAsdGhpc31mdW5jdGlvbiB6YShlLHQpe3RoaXMubWluPXZvaWQgMCE9PWU/ZTpuZXcgbigxLzAsMS8wKSx0aGlzLm1heD12b2lkIDAhPT10P3Q6bmV3IG4oLTEvMCwtMS8wKX1mdW5jdGlvbiBCYShlLHQpe3RoaXMuc3RhcnQ9dm9pZCAwIT09ZT9lOm5ldyBpLHRoaXMuZW5kPXZvaWQgMCE9PXQ/dDpuZXcgaX1mdW5jdGlvbiBVYShlKXtkLmNhbGwodGhpcyksdGhpcy5tYXRlcmlhbD1lLHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBGYShlLHQsbixyKXt0aGlzLm9iamVjdD1lLHRoaXMuc2l6ZT12b2lkIDAhPT10P3Q6MTt2YXIgaT12b2lkIDAhPT1uP246MTY3MTE2ODAsYT12b2lkIDAhPT1yP3I6MSxvPTAscz10aGlzLm9iamVjdC5nZW9tZXRyeTtzJiZzLmlzR2VvbWV0cnk/bz0zKnMuZmFjZXMubGVuZ3RoOnMmJnMuaXNCdWZmZXJHZW9tZXRyeSYmKG89cy5hdHRyaWJ1dGVzLm5vcm1hbC5jb3VudCk7dmFyIGM9bmV3IEcsbD1uZXcgeigyKm8qMywzKTtjLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbCksZG4uY2FsbCh0aGlzLGMsbmV3IHVuKHtjb2xvcjppLGxpbmV3aWR0aDphfSkpLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnVwZGF0ZSgpfWZ1bmN0aW9uIEdhKGUsdCxuLHIpe3RoaXMub2JqZWN0PWUsdGhpcy5zaXplPXZvaWQgMCE9PXQ/dDoxO3ZhciBpPXZvaWQgMCE9PW4/bjo2NTUzNSxhPXZvaWQgMCE9PXI/cjoxLG89dGhpcy5vYmplY3QuZ2VvbWV0cnk7aWYoIW98fCFvLmlzQnVmZmVyR2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlZlcnRleFRhbmdlbnRzSGVscGVyOiBnZW9tZXRyeSBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuQnVmZmVyR2VvbWV0cnkuXCIsbyk7dmFyIHM9by5hdHRyaWJ1dGVzLnRhbmdlbnQuY291bnQsYz1uZXcgRyxsPW5ldyB6KDIqcyozLDMpO2Muc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixsKSxkbi5jYWxsKHRoaXMsYyxuZXcgdW4oe2NvbG9yOmksbGluZXdpZHRoOmF9KSksdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gSGEoZSx0KXtkLmNhbGwodGhpcyksdGhpcy5saWdodD1lLHRoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSx0aGlzLm1hdHJpeD1lLm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmNvbG9yPXQ7Zm9yKHZhciBuPW5ldyBHLHI9WzAsMCwwLDAsMCwxLDAsMCwwLDEsMCwxLDAsMCwwLC0xLDAsMSwwLDAsMCwwLDEsMSwwLDAsMCwwLC0xLDFdLGk9MCxhPTE7aTwzMjtpKyssYSsrKXt2YXIgbz1pLzMyKk1hdGguUEkqMixzPWEvMzIqTWF0aC5QSSoyO3IucHVzaChNYXRoLmNvcyhvKSxNYXRoLnNpbihvKSwxLE1hdGguY29zKHMpLE1hdGguc2luKHMpLDEpfW4uc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihyLDMpKTt2YXIgYz1uZXcgdW4oe2ZvZzohMX0pO3RoaXMuY29uZT1uZXcgZG4obixjKSx0aGlzLmFkZCh0aGlzLmNvbmUpLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gVmEoZSl7dmFyIHQ9W107ZSYmZS5pc0JvbmUmJnQucHVzaChlKTtmb3IodmFyIG49MDtuPGUuY2hpbGRyZW4ubGVuZ3RoO24rKyl0LnB1c2guYXBwbHkodCxWYShlLmNoaWxkcmVuW25dKSk7cmV0dXJuIHR9ZnVuY3Rpb24gamEoZSl7Zm9yKHZhciB0PVZhKGUpLG49bmV3IEcscj1bXSxpPVtdLGE9bmV3IHcoMCwwLDEpLG89bmV3IHcoMCwxLDApLHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9dFtzXTtjLnBhcmVudCYmYy5wYXJlbnQuaXNCb25lJiYoci5wdXNoKDAsMCwwKSxyLnB1c2goMCwwLDApLGkucHVzaChhLnIsYS5nLGEuYiksaS5wdXNoKG8ucixvLmcsby5iKSl9bi5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KHIsMykpLG4uc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgeihpLDMpKTt2YXIgbD1uZXcgdW4oe3ZlcnRleENvbG9yczpLbyxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMSx0cmFuc3BhcmVudDohMH0pO2RuLmNhbGwodGhpcyxuLGwpLHRoaXMucm9vdD1lLHRoaXMuYm9uZXM9dCx0aGlzLm1hdHJpeD1lLm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMX1mdW5jdGlvbiBrYShlLHQsbil7dGhpcy5saWdodD1lLHRoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSx0aGlzLmNvbG9yPW47dmFyIHI9bmV3IE1yKHQsNCwyKSxpPW5ldyBBKHt3aXJlZnJhbWU6ITAsZm9nOiExfSk7SC5jYWxsKHRoaXMscixpKSx0aGlzLm1hdHJpeD10aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnVwZGF0ZSgpfWZ1bmN0aW9uIFdhKGUsdCl7dGhpcy50eXBlPVwiUmVjdEFyZWFMaWdodEhlbHBlclwiLHRoaXMubGlnaHQ9ZSx0aGlzLmNvbG9yPXQ7dmFyIG49WzEsMSwwLC0xLDEsMCwtMSwtMSwwLDEsLTEsMCwxLDEsMF0scj1uZXcgRztyLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoobiwzKSksci5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTt2YXIgaT1uZXcgdW4oe2ZvZzohMX0pO3BuLmNhbGwodGhpcyxyLGkpO3ZhciBhPVsxLDEsMCwtMSwxLDAsLTEsLTEsMCwxLDEsMCwtMSwtMSwwLDEsLTEsMF0sbz1uZXcgRztvLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHooYSwzKSksby5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSx0aGlzLmFkZChuZXcgSChvLG5ldyBBKHtzaWRlOllvLGZvZzohMX0pKSksdGhpcy51cGRhdGUoKX1mdW5jdGlvbiBxYShlLHQsbil7ZC5jYWxsKHRoaXMpLHRoaXMubGlnaHQ9ZSx0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCksdGhpcy5tYXRyaXg9ZS5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5jb2xvcj1uO3ZhciByPW5ldyBQbih0KTtyLnJvdGF0ZVkoLjUqTWF0aC5QSSksdGhpcy5tYXRlcmlhbD1uZXcgQSh7d2lyZWZyYW1lOiEwLGZvZzohMX0pLHZvaWQgMD09PXRoaXMuY29sb3ImJih0aGlzLm1hdGVyaWFsLnZlcnRleENvbG9ycz1Lbyk7dmFyIGk9ci5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKSxhPW5ldyBGbG9hdDMyQXJyYXkoMyppLmNvdW50KTtyLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IEwoYSwzKSksdGhpcy5hZGQobmV3IEgocix0aGlzLm1hdGVyaWFsKSksdGhpcy51cGRhdGUoKX1mdW5jdGlvbiBYYShlLHQpe3RoaXMubGlnaHRQcm9iZT1lLHRoaXMuc2l6ZT10O3ZhciBuPXt9O24uR0FNTUFfT1VUUFVUPVwiXCI7dmFyIHI9bmV3IFgoe2RlZmluZXM6bix1bmlmb3Jtczp7c2g6e3ZhbHVlOnRoaXMubGlnaHRQcm9iZS5zaC5jb2VmZmljaWVudHN9LGludGVuc2l0eTp7dmFsdWU6dGhpcy5saWdodFByb2JlLmludGVuc2l0eX19LHZlcnRleFNoYWRlcjpbXCJ2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcIixcInZvaWQgbWFpbigpIHtcIixcIlxcdHZOb3JtYWwgPSBub3JtYWxpemUoIG5vcm1hbE1hdHJpeCAqIG5vcm1hbCApO1wiLFwiXFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltcIiNkZWZpbmUgUkVDSVBST0NBTF9QSSAwLjMxODMwOTg4NlwiLFwidmVjMyBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIG5vcm1hbCwgaW4gbWF0NCBtYXRyaXggKSB7XCIsXCJcXHQvLyBtYXRyaXggaXMgYXNzdW1lZCB0byBiZSBvcnRob2dvbmFsXCIsXCJcXHRyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIG5vcm1hbCwgMC4wICkgKiBtYXRyaXggKS54eXogKTtcIixcIn1cIixcInZlYzMgbGluZWFyVG9PdXRwdXQoIGluIHZlYzMgYSApIHtcIixcIlxcdCNpZmRlZiBHQU1NQV9PVVRQVVRcIixcIlxcdFxcdHJldHVybiBwb3coIGEsIHZlYzMoIDEuMCAvIGZsb2F0KCBHQU1NQV9GQUNUT1IgKSApICk7XCIsXCJcXHQjZWxzZVwiLFwiXFx0XFx0cmV0dXJuIGE7XCIsXCJcXHQjZW5kaWZcIixcIn1cIixcIi8vIHNvdXJjZTogaHR0cHM6Ly9ncmFwaGljcy5zdGFuZm9yZC5lZHUvcGFwZXJzL2Vudm1hcC9lbnZtYXAucGRmXCIsXCJ2ZWMzIHNoR2V0SXJyYWRpYW5jZUF0KCBpbiB2ZWMzIG5vcm1hbCwgaW4gdmVjMyBzaENvZWZmaWNpZW50c1sgOSBdICkge1wiLFwiXFx0Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aFwiLFwiXFx0ZmxvYXQgeCA9IG5vcm1hbC54LCB5ID0gbm9ybWFsLnksIHogPSBub3JtYWwuejtcIixcIlxcdC8vIGJhbmQgMFwiLFwiXFx0dmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7XCIsXCJcXHQvLyBiYW5kIDFcIixcIlxcdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMSBdICogMi4wICogMC41MTE2NjQgKiB5O1wiLFwiXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAyIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHo7XCIsXCJcXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDMgXSAqIDIuMCAqIDAuNTExNjY0ICogeDtcIixcIlxcdC8vIGJhbmQgMlwiLFwiXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA0IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB5O1wiLFwiXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA1IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHkgKiB6O1wiLFwiXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA2IF0gKiAoIDAuNzQzMTI1ICogeiAqIHogLSAwLjI0NzcwOCApO1wiLFwiXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA3IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB6O1wiLFwiXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA4IF0gKiAwLjQyOTA0MyAqICggeCAqIHggLSB5ICogeSApO1wiLFwiXFx0cmV0dXJuIHJlc3VsdDtcIixcIn1cIixcInVuaWZvcm0gdmVjMyBzaFsgOSBdOyAvLyBzaCBjb2VmZmljaWVudHNcIixcInVuaWZvcm0gZmxvYXQgaW50ZW5zaXR5OyAvLyBsaWdodCBwcm9iZSBpbnRlbnNpdHlcIixcInZhcnlpbmcgdmVjMyB2Tm9ybWFsO1wiLFwidm9pZCBtYWluKCkge1wiLFwiXFx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTtcIixcIlxcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTtcIixcIlxcdHZlYzMgaXJyYWRpYW5jZSA9IHNoR2V0SXJyYWRpYW5jZUF0KCB3b3JsZE5vcm1hbCwgc2ggKTtcIixcIlxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IFJFQ0lQUk9DQUxfUEkgKiBpcnJhZGlhbmNlICogaW50ZW5zaXR5O1wiLFwiXFx0b3V0Z29pbmdMaWdodCA9IGxpbmVhclRvT3V0cHV0KCBvdXRnb2luZ0xpZ2h0ICk7XCIsXCJcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCAxLjAgKTtcIixcIn1cIl0uam9pbihcIlxcblwiKX0pLGk9bmV3IE1yKDEsMzIsMTYpO0guY2FsbCh0aGlzLGksciksdGhpcy5vbkJlZm9yZVJlbmRlcigpfWZ1bmN0aW9uIFlhKGUsdCxuLHIpe2U9ZXx8MTAsdD10fHwxMCxuPW5ldyB3KHZvaWQgMCE9PW4/bjo0NDczOTI0KSxyPW5ldyB3KHZvaWQgMCE9PXI/cjo4OTQ3ODQ4KTtmb3IodmFyIGk9dC8yLGE9ZS90LG89ZS8yLHM9W10sYz1bXSxsPTAsaD0wLHU9LW87bDw9dDtsKyssdSs9YSl7cy5wdXNoKC1vLDAsdSxvLDAsdSkscy5wdXNoKHUsMCwtbyx1LDAsbyk7dmFyIHA9bD09PWk/bjpyO3AudG9BcnJheShjLGgpLGgrPTMscC50b0FycmF5KGMsaCksaCs9MyxwLnRvQXJyYXkoYyxoKSxoKz0zLHAudG9BcnJheShjLGgpLGgrPTN9dmFyIGQ9bmV3IEc7ZC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KHMsMykpLGQuc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgeihjLDMpKTt2YXIgZj1uZXcgdW4oe3ZlcnRleENvbG9yczpLb30pO2RuLmNhbGwodGhpcyxkLGYpfWZ1bmN0aW9uIFphKGUsdCxuLHIsaSxhKXtlPWV8fDEwLHQ9dHx8MTYsbj1ufHw4LHI9cnx8NjQsaT1uZXcgdyh2b2lkIDAhPT1pP2k6NDQ3MzkyNCksYT1uZXcgdyh2b2lkIDAhPT1hP2E6ODk0Nzg0OCk7dmFyIG8scyxjLGwsaCx1LHAsZD1bXSxmPVtdO2ZvcihsPTA7bDw9dDtsKyspYz1sL3QqKDIqTWF0aC5QSSksbz1NYXRoLnNpbihjKSplLHM9TWF0aC5jb3MoYykqZSxkLnB1c2goMCwwLDApLGQucHVzaChvLDAscykscD0xJmw/aTphLGYucHVzaChwLnIscC5nLHAuYiksZi5wdXNoKHAucixwLmcscC5iKTtmb3IobD0wO2w8PW47bCsrKWZvcihwPTEmbD9pOmEsdT1lLWUvbipsLGg9MDtoPHI7aCsrKWM9aC9yKigyKk1hdGguUEkpLG89TWF0aC5zaW4oYykqdSxzPU1hdGguY29zKGMpKnUsZC5wdXNoKG8sMCxzKSxmLnB1c2gocC5yLHAuZyxwLmIpLGM9KGgrMSkvciooMipNYXRoLlBJKSxvPU1hdGguc2luKGMpKnUscz1NYXRoLmNvcyhjKSp1LGQucHVzaChvLDAscyksZi5wdXNoKHAucixwLmcscC5iKTt2YXIgbT1uZXcgRzttLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHooZCwzKSksbS5zZXRBdHRyaWJ1dGUoXCJjb2xvclwiLG5ldyB6KGYsMykpO3ZhciB2PW5ldyB1bih7dmVydGV4Q29sb3JzOktvfSk7ZG4uY2FsbCh0aGlzLG0sdil9ZnVuY3Rpb24gSmEoZSx0LG4scil7dGhpcy5hdWRpbz1lLHRoaXMucmFuZ2U9dHx8MSx0aGlzLmRpdmlzaW9uc0lubmVyQW5nbGU9bnx8MTYsdGhpcy5kaXZpc2lvbnNPdXRlckFuZ2xlPXJ8fDI7dmFyIGk9bmV3IEcsYT10aGlzLmRpdmlzaW9uc0lubmVyQW5nbGUrMip0aGlzLmRpdmlzaW9uc091dGVyQW5nbGUsbz1uZXcgRmxvYXQzMkFycmF5KDMqKDMqYSszKSk7aS5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBMKG8sMykpO3ZhciBzPW5ldyB1bih7Y29sb3I6NjUyODB9KSxjPW5ldyB1bih7Y29sb3I6MTY3NzY5NjB9KTtwbi5jYWxsKHRoaXMsaSxbYyxzXSksdGhpcy51cGRhdGUoKX1mdW5jdGlvbiBRYShlLHQsbixyKXt0aGlzLm9iamVjdD1lLHRoaXMuc2l6ZT12b2lkIDAhPT10P3Q6MTt2YXIgaT12b2lkIDAhPT1uP246MTY3NzY5NjAsYT12b2lkIDAhPT1yP3I6MSxvPTAscz10aGlzLm9iamVjdC5nZW9tZXRyeTtzJiZzLmlzR2VvbWV0cnk/bz1zLmZhY2VzLmxlbmd0aDpjb25zb2xlLndhcm4oXCJUSFJFRS5GYWNlTm9ybWFsc0hlbHBlcjogb25seSBUSFJFRS5HZW9tZXRyeSBpcyBzdXBwb3J0ZWQuIFVzZSBUSFJFRS5WZXJ0ZXhOb3JtYWxzSGVscGVyLCBpbnN0ZWFkLlwiKTt2YXIgYz1uZXcgRyxsPW5ldyB6KDIqbyozLDMpO2Muc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixsKSxkbi5jYWxsKHRoaXMsYyxuZXcgdW4oe2NvbG9yOmksbGluZXdpZHRoOmF9KSksdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gS2EoZSx0LG4pe2QuY2FsbCh0aGlzKSx0aGlzLmxpZ2h0PWUsdGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpLHRoaXMubWF0cml4PWUubWF0cml4V29ybGQsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuY29sb3I9bix2b2lkIDA9PT10JiYodD0xKTt2YXIgcj1uZXcgRztyLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHooWy10LHQsMCx0LHQsMCx0LC10LDAsLXQsLXQsMCwtdCx0LDBdLDMpKTt2YXIgaT1uZXcgdW4oe2ZvZzohMX0pO3RoaXMubGlnaHRQbGFuZT1uZXcgcG4ocixpKSx0aGlzLmFkZCh0aGlzLmxpZ2h0UGxhbmUpLHI9bmV3IEcsci5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KFswLDAsMCwwLDAsMV0sMykpLHRoaXMudGFyZ2V0TGluZT1uZXcgcG4ocixpKSx0aGlzLmFkZCh0aGlzLnRhcmdldExpbmUpLHRoaXMudXBkYXRlKCl9ZnVuY3Rpb24gJGEoZSl7ZnVuY3Rpb24gdChlLHQscil7bihlLHIpLG4odCxyKX1mdW5jdGlvbiBuKGUsdCl7YS5wdXNoKDAsMCwwKSxvLnB1c2godC5yLHQuZyx0LmIpLHZvaWQgMD09PXNbZV0mJihzW2VdPVtdKSxzW2VdLnB1c2goYS5sZW5ndGgvMy0xKX12YXIgcj1uZXcgRyxpPW5ldyB1bih7Y29sb3I6MTY3NzcyMTUsdmVydGV4Q29sb3JzOlFvfSksYT1bXSxvPVtdLHM9e30sYz1uZXcgdygxNjc1NTIwMCksbD1uZXcgdygxNjcxMTY4MCksaD1uZXcgdyg0Mzc3NSksdT1uZXcgdygxNjc3NzIxNSkscD1uZXcgdygzMzU1NDQzKTt0KFwibjFcIixcIm4yXCIsYyksdChcIm4yXCIsXCJuNFwiLGMpLHQoXCJuNFwiLFwibjNcIixjKSx0KFwibjNcIixcIm4xXCIsYyksdChcImYxXCIsXCJmMlwiLGMpLHQoXCJmMlwiLFwiZjRcIixjKSx0KFwiZjRcIixcImYzXCIsYyksdChcImYzXCIsXCJmMVwiLGMpLHQoXCJuMVwiLFwiZjFcIixjKSx0KFwibjJcIixcImYyXCIsYyksdChcIm4zXCIsXCJmM1wiLGMpLHQoXCJuNFwiLFwiZjRcIixjKSx0KFwicFwiLFwibjFcIixsKSx0KFwicFwiLFwibjJcIixsKSx0KFwicFwiLFwibjNcIixsKSx0KFwicFwiLFwibjRcIixsKSx0KFwidTFcIixcInUyXCIsaCksdChcInUyXCIsXCJ1M1wiLGgpLHQoXCJ1M1wiLFwidTFcIixoKSx0KFwiY1wiLFwidFwiLHUpLHQoXCJwXCIsXCJjXCIscCksdChcImNuMVwiLFwiY24yXCIscCksdChcImNuM1wiLFwiY240XCIscCksdChcImNmMVwiLFwiY2YyXCIscCksdChcImNmM1wiLFwiY2Y0XCIscCksci5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KGEsMykpLHIuc2V0QXR0cmlidXRlKFwiY29sb3JcIixuZXcgeihvLDMpKSxkbi5jYWxsKHRoaXMscixpKSx0aGlzLmNhbWVyYT1lLHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgmJnRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSx0aGlzLm1hdHJpeD1lLm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnBvaW50TWFwPXMsdGhpcy51cGRhdGUoKX1mdW5jdGlvbiBlbyhlLHQsbixyLGksYSxvKXtmZC5zZXQoaSxhLG8pLnVucHJvamVjdChyKTt2YXIgcz10W2VdO2lmKHZvaWQgMCE9PXMpZm9yKHZhciBjPW4uZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIiksbD0wLGg9cy5sZW5ndGg7bDxoO2wrKyljLnNldFhZWihzW2xdLGZkLngsZmQueSxmZC56KX1mdW5jdGlvbiB0byhlLHQpe3RoaXMub2JqZWN0PWUsdm9pZCAwPT09dCYmKHQ9MTY3NzY5NjApO3ZhciBuPW5ldyBVaW50MTZBcnJheShbMCwxLDEsMiwyLDMsMywwLDQsNSw1LDYsNiw3LDcsNCwwLDQsMSw1LDIsNiwzLDddKSxyPW5ldyBGbG9hdDMyQXJyYXkoMjQpLGk9bmV3IEc7aS5zZXRJbmRleChuZXcgTChuLDEpKSxpLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IEwociwzKSksZG4uY2FsbCh0aGlzLGksbmV3IHVuKHtjb2xvcjp0fSkpLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnVwZGF0ZSgpfWZ1bmN0aW9uIG5vKGUsdCl7dGhpcy50eXBlPVwiQm94M0hlbHBlclwiLHRoaXMuYm94PWUsdD10fHwxNjc3Njk2MDt2YXIgbj1uZXcgVWludDE2QXJyYXkoWzAsMSwxLDIsMiwzLDMsMCw0LDUsNSw2LDYsNyw3LDQsMCw0LDEsNSwyLDYsMyw3XSkscj1bMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTFdLGk9bmV3IEc7aS5zZXRJbmRleChuZXcgTChuLDEpKSxpLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoociwzKSksZG4uY2FsbCh0aGlzLGksbmV3IHVuKHtjb2xvcjp0fSkpLHRoaXMuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl9ZnVuY3Rpb24gcm8oZSx0LG4pe3RoaXMudHlwZT1cIlBsYW5lSGVscGVyXCIsdGhpcy5wbGFuZT1lLHRoaXMuc2l6ZT12b2lkIDA9PT10PzE6dDt2YXIgcj12b2lkIDAhPT1uP246MTY3NzY5NjAsaT1bMSwtMSwxLC0xLDEsMSwtMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwxLDEsLTEsMSwxLDEsMSwwLDAsMSwwLDAsMF0sYT1uZXcgRzthLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHooaSwzKSksYS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxwbi5jYWxsKHRoaXMsYSxuZXcgdW4oe2NvbG9yOnJ9KSk7dmFyIG89WzEsMSwxLC0xLDEsMSwtMSwtMSwxLDEsMSwxLC0xLC0xLDEsMSwtMSwxXSxzPW5ldyBHO3Muc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgeihvLDMpKSxzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHRoaXMuYWRkKG5ldyBIKHMsbmV3IEEoe2NvbG9yOnIsb3BhY2l0eTouMix0cmFuc3BhcmVudDohMCxkZXB0aFdyaXRlOiExfSkpKX1mdW5jdGlvbiBpbyhlLHQsbixyLGEsbyl7ZC5jYWxsKHRoaXMpLHZvaWQgMD09PWUmJihlPW5ldyBpKDAsMCwxKSksdm9pZCAwPT09dCYmKHQ9bmV3IGkoMCwwLDApKSx2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1yJiYocj0xNjc3Njk2MCksdm9pZCAwPT09YSYmKGE9LjIqbiksdm9pZCAwPT09byYmKG89LjIqYSksdm9pZCAwPT09Z2QmJihnZD1uZXcgRyxnZC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KFswLDAsMCwwLDEsMF0sMykpLHlkPW5ldyBEcigwLC41LDEsNSwxKSx5ZC50cmFuc2xhdGUoMCwtLjUsMCkpLHRoaXMucG9zaXRpb24uY29weSh0KSx0aGlzLmxpbmU9bmV3IHBuKGdkLG5ldyB1bih7Y29sb3I6cn0pKSx0aGlzLmxpbmUubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmFkZCh0aGlzLmxpbmUpLHRoaXMuY29uZT1uZXcgSCh5ZCxuZXcgQSh7Y29sb3I6cn0pKSx0aGlzLmNvbmUubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmFkZCh0aGlzLmNvbmUpLHRoaXMuc2V0RGlyZWN0aW9uKGUpLHRoaXMuc2V0TGVuZ3RoKG4sYSxvKX1mdW5jdGlvbiBhbyhlKXtlPWV8fDE7dmFyIHQ9WzAsMCwwLGUsMCwwLDAsMCwwLDAsZSwwLDAsMCwwLDAsMCxlXSxuPVsxLDAsMCwxLC42LDAsMCwxLDAsLjYsMSwwLDAsMCwxLDAsLjYsMV0scj1uZXcgRztyLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IHoodCwzKSksci5zZXRBdHRyaWJ1dGUoXCJjb2xvclwiLG5ldyB6KG4sMykpO3ZhciBpPW5ldyB1bih7dmVydGV4Q29sb3JzOktvfSk7ZG4uY2FsbCh0aGlzLHIsaSl9ZnVuY3Rpb24gb28oZSx0LG4scixpLGEsbyl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkZhY2U0IGhhcyBiZWVuIHJlbW92ZWQuIEEgVEhSRUUuRmFjZTMgd2lsbCBiZSBjcmVhdGVkIGluc3RlYWQuXCIpLG5ldyBUKGUsdCxuLGksYSxvKX1mdW5jdGlvbiBzbyhlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWVzaEZhY2VNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC5cIiksZX1mdW5jdGlvbiBjbyhlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10pLGNvbnNvbGUud2FybihcIlRIUkVFLk11bHRpTWF0ZXJpYWwgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGFuIEFycmF5IGluc3RlYWQuXCIpLGUuaXNNdWx0aU1hdGVyaWFsPSEwLGUubWF0ZXJpYWxzPWUsZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBlLnNsaWNlKCl9LGV9ZnVuY3Rpb24gbG8oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUG9pbnRDbG91ZCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50cy5cIiksbmV3IHZuKGUsdCl9ZnVuY3Rpb24gaG8oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlBhcnRpY2xlIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuU3ByaXRlLlwiKSxuZXcgcm4oZSl9ZnVuY3Rpb24gdW8oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUGFydGljbGVTeXN0ZW0gaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHMuXCIpLG5ldyB2bihlLHQpfWZ1bmN0aW9uIHBvKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHNNYXRlcmlhbC5cIiksbmV3IG1uKGUpfWZ1bmN0aW9uIGZvKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5QYXJ0aWNsZUJhc2ljTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHNNYXRlcmlhbC5cIiksbmV3IG1uKGUpfWZ1bmN0aW9uIG1vKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5QYXJ0aWNsZVN5c3RlbU1hdGVyaWFsIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzTWF0ZXJpYWwuXCIpLG5ldyBtbihlKX1mdW5jdGlvbiB2byhlLHQsbil7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlcnRleCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuVmVjdG9yMyBpbnN0ZWFkLlwiKSxuZXcgaShlLHQsbil9ZnVuY3Rpb24gZ28oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuRHluYW1pY0J1ZmZlckF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSgpLnNldER5bmFtaWMoIHRydWUgKSBpbnN0ZWFkLlwiKSxuZXcgTChlLHQpLnNldER5bmFtaWMoITApfWZ1bmN0aW9uIHlvKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5JbnQ4QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC5cIiksbmV3IFIoZSx0KX1mdW5jdGlvbiB4byhlLHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5VaW50OEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQ4QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC5cIiksbmV3IFAoZSx0KX1mdW5jdGlvbiBibyhlLHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5VaW50OENsYW1wZWRBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLlwiKSxuZXcgQyhlLHQpfWZ1bmN0aW9uIHdvKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50MTZCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLlwiKSxuZXcgTyhlLHQpfWZ1bmN0aW9uIF9vKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlVpbnQxNkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuXCIpLG5ldyBEKGUsdCl9ZnVuY3Rpb24gTW8oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuSW50MzJBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5JbnQzMkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuXCIpLG5ldyBJKGUsdCl9ZnVuY3Rpb24gU28oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVWludDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC5cIiksbmV3IE4oZSx0KX1mdW5jdGlvbiBUbyhlLHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5GbG9hdDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuXCIpLG5ldyB6KGUsdCl9ZnVuY3Rpb24gRW8oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuRmxvYXQ2NEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkZsb2F0NjRCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLlwiKSxuZXcgQihlLHQpfWZ1bmN0aW9uIEFvKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkNsb3NlZFNwbGluZUN1cnZlMyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLlwiKSxfaS5jYWxsKHRoaXMsZSksdGhpcy50eXBlPVwiY2F0bXVsbHJvbVwiLHRoaXMuY2xvc2VkPSEwfWZ1bmN0aW9uIExvKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLlNwbGluZUN1cnZlMyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLlwiKSxfaS5jYWxsKHRoaXMsZSksdGhpcy50eXBlPVwiY2F0bXVsbHJvbVwifWZ1bmN0aW9uIFJvKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLlNwbGluZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLlwiKSxfaS5jYWxsKHRoaXMsZSksdGhpcy50eXBlPVwiY2F0bXVsbHJvbVwifWZ1bmN0aW9uIFBvKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5BeGlzSGVscGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuQXhlc0hlbHBlci5cIiksbmV3IGFvKGUpfWZ1bmN0aW9uIENvKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJvdW5kaW5nQm94SGVscGVyIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIENyZWF0aW5nIGEgVEhSRUUuQm94SGVscGVyIGluc3RlYWQuXCIpLG5ldyB0byhlLHQpfWZ1bmN0aW9uIE9vKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkVkZ2VzSGVscGVyIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5FZGdlc0dlb21ldHJ5IGluc3RlYWQuXCIpLG5ldyBkbihuZXcgQ3IoZS5nZW9tZXRyeSksbmV3IHVuKHtjb2xvcjp2b2lkIDAhPT10P3Q6MTY3NzcyMTV9KSl9ZnVuY3Rpb24gRG8oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2lyZWZyYW1lSGVscGVyIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSBpbnN0ZWFkLlwiKSxuZXcgZG4obmV3IF9uKGUuZ2VvbWV0cnkpLG5ldyB1bih7Y29sb3I6dm9pZCAwIT09dD90OjE2Nzc3MjE1fSkpfWZ1bmN0aW9uIElvKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5YSFJMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5GaWxlTG9hZGVyLlwiKSxuZXcgdWkoZSl9ZnVuY3Rpb24gTm8oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJpbmFyeVRleHR1cmVMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5EYXRhVGV4dHVyZUxvYWRlci5cIiksbmV3IGZpKGUpfWZ1bmN0aW9uIHpvKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkNhbnZhc1JlbmRlcmVyIGhhcyBiZWVuIHJlbW92ZWRcIil9ZnVuY3Rpb24gQm8oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuSlNPTkxvYWRlciBoYXMgYmVlbiByZW1vdmVkLlwiKX1mdW5jdGlvbiBVbygpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5MZW5zRmxhcmUgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzL29iamVjdHMvTGVuc2ZsYXJlLmpzXCIpfXZvaWQgMD09PU51bWJlci5FUFNJTE9OJiYoTnVtYmVyLkVQU0lMT049TWF0aC5wb3coMiwtNTIpKSx2b2lkIDA9PT1OdW1iZXIuaXNJbnRlZ2VyJiYoTnVtYmVyLmlzSW50ZWdlcj1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfSksdm9pZCAwPT09TWF0aC5zaWduJiYoTWF0aC5zaWduPWZ1bmN0aW9uKGUpe3JldHVybiBlPDA/LTE6ZT4wPzE6K2V9KSxcIm5hbWVcImluIEZ1bmN0aW9uLnByb3RvdHlwZT09ITEmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb25cXHMqKFteXFwoXFxzXSopLylbMV19fSksdm9pZCAwPT09T2JqZWN0LmFzc2lnbiYmKE9iamVjdC5hc3NpZ249ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZXx8bnVsbD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtmb3IodmFyIHQ9T2JqZWN0KGUpLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1hcmd1bWVudHNbbl07aWYodm9pZCAwIT09ciYmbnVsbCE9PXIpZm9yKHZhciBpIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsaSkmJih0W2ldPXJbaV0pfXJldHVybiB0fSk7dmFyIEZvPXtMRUZUOjAsTUlERExFOjEsUklHSFQ6MixST1RBVEU6MCxET0xMWToxLFBBTjoyfSxHbz17Uk9UQVRFOjAsUEFOOjEsRE9MTFlfUEFOOjIsRE9MTFlfUk9UQVRFOjN9LEhvPTAsVm89MSxqbz0yLGtvPTEsV289Mixxbz0zLFhvPTAsWW89MSxabz0yLEpvPTAsUW89MSxLbz0yLCRvPTAsZXM9MSx0cz0yLG5zPTMscnM9NCxpcz01LGFzPTEwMCxvcz0xMDEsc3M9MTAyLGNzPTEwMyxscz0xMDQsaHM9MjAwLHVzPTIwMSxwcz0yMDIsZHM9MjAzLGZzPTIwNCxtcz0yMDUsdnM9MjA2LGdzPTIwNyx5cz0yMDgseHM9MjA5LGJzPTIxMCx3cz0wLF9zPTEsTXM9MixTcz0zLFRzPTQsRXM9NSxBcz02LExzPTcsUnM9MCxQcz0xLENzPTIsT3M9MCxEcz0xLElzPTIsTnM9Myx6cz00LEJzPTUsVXM9MzAxLEZzPTMwMixHcz0zMDMsSHM9MzA0LFZzPTMwNSxqcz0zMDYsa3M9MzA3LFdzPTFlMyxxcz0xMDAxLFhzPTEwMDIsWXM9MTAwMyxacz0xMDA0LEpzPTEwMDUsUXM9MTAwNixLcz0xMDA3LCRzPTEwMDgsZWM9MTAwOSx0Yz0xMDEwLG5jPTEwMTEscmM9MTAxMixpYz0xMDEzLGFjPTEwMTQsb2M9MTAxNSxzYz0xMDE2LGNjPTEwMTcsbGM9MTAxOCxoYz0xMDE5LHVjPTEwMjAscGM9MTAyMSxkYz0xMDIyLGZjPTEwMjMsbWM9MTAyNCx2Yz0xMDI1LGdjPWZjLHljPTEwMjYseGM9MTAyNyxiYz0xMDI4LHdjPTMzNzc2LF9jPTMzNzc3LE1jPTMzNzc4LFNjPTMzNzc5LFRjPTM1ODQwLEVjPTM1ODQxLEFjPTM1ODQyLExjPTM1ODQzLFJjPTM2MTk2LFBjPTM3ODA4LENjPTM3ODA5LE9jPTM3ODEwLERjPTM3ODExLEljPTM3ODEyLE5jPTM3ODEzLHpjPTM3ODE0LEJjPTM3ODE1LFVjPTM3ODE2LEZjPTM3ODE3LEdjPTM3ODE4LEhjPTM3ODE5LFZjPTM3ODIwLGpjPTM3ODIxLGtjPTIyMDEsV2M9MjQwMCxxYz0zZTMsWGM9MzAwMSxZYz0zMDA3LFpjPTMwMDIsSmM9MzAwMyxRYz0zMDA0LEtjPTMwMDUsJGM9MzAwNixlbD0zMjAwLHRsPTMyMDEsbmw9MCxybD0xLGlsPTc2ODAsYWw9NTE5LG9sPTM1MDQ0O09iamVjdC5hc3NpZ24odC5wcm90b3R5cGUse2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnM9e30pO3ZhciBuPXRoaXMuX2xpc3RlbmVyczt2b2lkIDA9PT1uW2VdJiYobltlXT1bXSksLTE9PT1uW2VdLmluZGV4T2YodCkmJm5bZV0ucHVzaCh0KX0saGFzRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXRoaXMuX2xpc3RlbmVycylyZXR1cm4hMTt2YXIgbj10aGlzLl9saXN0ZW5lcnM7cmV0dXJuIHZvaWQgMCE9PW5bZV0mJi0xIT09bltlXS5pbmRleE9mKHQpfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dGhpcy5fbGlzdGVuZXJzKXt2YXIgbj10aGlzLl9saXN0ZW5lcnMscj1uW2VdO2lmKHZvaWQgMCE9PXIpe3ZhciBpPXIuaW5kZXhPZih0KTstMSE9PWkmJnIuc3BsaWNlKGksMSl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihlKXtpZih2b2lkIDAhPT10aGlzLl9saXN0ZW5lcnMpe3ZhciB0PXRoaXMuX2xpc3RlbmVycyxuPXRbZS50eXBlXTtpZih2b2lkIDAhPT1uKXtlLnRhcmdldD10aGlzO2Zvcih2YXIgcj1uLnNsaWNlKDApLGk9MCxhPXIubGVuZ3RoO2k8YTtpKyspcltpXS5jYWxsKHRoaXMsZSl9fX19KTtmb3IodmFyIHNsPVtdLGNsPTA7Y2w8MjU2O2NsKyspc2xbY2xdPShjbDwxNj9cIjBcIjpcIlwiKStjbC50b1N0cmluZygxNik7dmFyIGxsPXtERUcyUkFEOk1hdGguUEkvMTgwLFJBRDJERUc6MTgwL01hdGguUEksZ2VuZXJhdGVVVUlEOmZ1bmN0aW9uKCl7dmFyIGU9NDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpfDAsdD00Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCl8MCxuPTQyOTQ5NjcyOTUqTWF0aC5yYW5kb20oKXwwLHI9NDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpfDA7cmV0dXJuKHNsWzI1NSZlXStzbFtlPj44JjI1NV0rc2xbZT4+MTYmMjU1XStzbFtlPj4yNCYyNTVdK1wiLVwiK3NsWzI1NSZ0XStzbFt0Pj44JjI1NV0rXCItXCIrc2xbdD4+MTYmMTV8NjRdK3NsW3Q+PjI0JjI1NV0rXCItXCIrc2xbNjMmbnwxMjhdK3NsW24+PjgmMjU1XStcIi1cIitzbFtuPj4xNiYyNTVdK3NsW24+PjI0JjI1NV0rc2xbMjU1JnJdK3NsW3I+PjgmMjU1XStzbFtyPj4xNiYyNTVdK3NsW3I+PjI0JjI1NV0pLnRvVXBwZXJDYXNlKCl9LGNsYW1wOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gTWF0aC5tYXgodCxNYXRoLm1pbihuLGUpKX0sZXVjbGlkZWFuTW9kdWxvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUldCt0KSV0fSxtYXBMaW5lYXI6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gcisoZS10KSooaS1yKS8obi10KX0sbGVycDpmdW5jdGlvbihlLHQsbil7cmV0dXJuKDEtbikqZStuKnR9LHNtb290aHN0ZXA6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPD10PzA6ZT49bj8xOihlPShlLXQpLyhuLXQpKSplKigzLTIqZSl9LHNtb290aGVyc3RlcDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGU8PXQ/MDplPj1uPzE6KGU9KGUtdCkvKG4tdCkpKmUqZSooZSooNiplLTE1KSsxMCl9LHJhbmRJbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHQtZSsxKSl9LHJhbmRGbG9hdDpmdW5jdGlvbihlLHQpe3JldHVybiBlK01hdGgucmFuZG9tKCkqKHQtZSl9LHJhbmRGbG9hdFNwcmVhZDpmdW5jdGlvbihlKXtyZXR1cm4gZSooLjUtTWF0aC5yYW5kb20oKSl9LGRlZ1RvUmFkOmZ1bmN0aW9uKGUpe3JldHVybiBlKmxsLkRFRzJSQUR9LHJhZFRvRGVnOmZ1bmN0aW9uKGUpe3JldHVybiBlKmxsLlJBRDJERUd9LGlzUG93ZXJPZlR3bzpmdW5jdGlvbihlKXtyZXR1cm4gMD09KGUmZS0xKSYmMCE9PWV9LGNlaWxQb3dlck9mVHdvOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyhlKS9NYXRoLkxOMikpfSxmbG9vclBvd2VyT2ZUd286ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucG93KDIsTWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMikpfX07T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobi5wcm90b3R5cGUse3dpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy54PWV9fSxoZWlnaHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLnk9ZX19fSksT2JqZWN0LmFzc2lnbihuLnByb3RvdHlwZSx7aXNWZWN0b3IyOiEwLHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzfSxzZXRTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT1lLHRoaXN9LHNldFg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9LHNldFk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueT1lLHRoaXN9LHNldENvbXBvbmVudDpmdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy54PXQ7YnJlYWs7Y2FzZSAxOnRoaXMueT10O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIitlKX1yZXR1cm4gdGhpc30sZ2V0Q29tcG9uZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrZSl9fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsdGhpcy55KX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXNcbn0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQ/KGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5hZGRWZWN0b3JzKGUsdCkpOih0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzKX0sYWRkU2NhbGFyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz1lLHRoaXN9LGFkZFZlY3RvcnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54PWUueCt0LngsdGhpcy55PWUueSt0LnksdGhpc30sYWRkU2NhbGVkVmVjdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueCs9ZS54KnQsdGhpcy55Kz1lLnkqdCx0aGlzfSxzdWI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dD8oY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLnN1YlZlY3RvcnMoZSx0KSk6KHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMpfSxzdWJTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC09ZSx0aGlzLnktPWUsdGhpc30sc3ViVmVjdG9yczpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLng9ZS54LXQueCx0aGlzLnk9ZS55LXQueSx0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30sZGl2aWRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzfSxkaXZpZGVTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9lKX0sYXBwbHlNYXRyaXgzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueCxuPXRoaXMueSxyPWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD1yWzBdKnQrclszXSpuK3JbNl0sdGhpcy55PXJbMV0qdCtyWzRdKm4rcls3XSx0aGlzfSxtaW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsZS54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LGUueSksdGhpc30sbWF4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLngsTWF0aC5taW4odC54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLnksTWF0aC5taW4odC55LHRoaXMueSkpLHRoaXN9LGNsYW1wU2NhbGFyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLnkpKSx0aGlzfSxjbGFtcExlbmd0aDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKG58fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KGUsTWF0aC5taW4odCxuKSkpfSxmbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpc30sY2VpbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXN9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfSxyb3VuZFRvWmVybzpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSksdGhpc30sbmVnYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXN9LGRvdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54KmUueCt0aGlzLnkqZS55fSxjcm9zczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54KmUueS10aGlzLnkqZS54fSxsZW5ndGhTcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sbWFuaGF0dGFuTGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfSxhbmdsZTpmdW5jdGlvbigpe3ZhciBlPU1hdGguYXRhbjIodGhpcy55LHRoaXMueCk7cmV0dXJuIGU8MCYmKGUrPTIqTWF0aC5QSSksZX0sZGlzdGFuY2VUbzpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoZSkpfSxkaXN0YW5jZVRvU3F1YXJlZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLngtZS54LG49dGhpcy55LWUueTtyZXR1cm4gdCp0K24qbn0sbWFuaGF0dGFuRGlzdGFuY2VUbzpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hYnModGhpcy54LWUueCkrTWF0aC5hYnModGhpcy55LWUueSl9LHNldExlbmd0aDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihlKX0sbGVycDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLngrPShlLngtdGhpcy54KSp0LHRoaXMueSs9KGUueS10aGlzLnkpKnQsdGhpc30sbGVycFZlY3RvcnM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnN1YlZlY3RvcnModCxlKS5tdWx0aXBseVNjYWxhcihuKS5hZGQoZSl9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS54PT09dGhpcy54JiZlLnk9PT10aGlzLnl9LGZyb21BcnJheTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXN9LHRvQXJyYXk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10pLHZvaWQgMD09PXQmJih0PTApLGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksZX0sZnJvbUJ1ZmZlckF0dHJpYnV0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMCE9PW4mJmNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjI6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS5cIiksdGhpcy54PWUuZ2V0WCh0KSx0aGlzLnk9ZS5nZXRZKHQpLHRoaXN9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCksaT10aGlzLngtZS54LGE9dGhpcy55LWUueTtyZXR1cm4gdGhpcy54PWkqbi1hKnIrZS54LHRoaXMueT1pKnIrYSpuK2UueSx0aGlzfX0pLE9iamVjdC5hc3NpZ24ocix7c2xlcnA6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG4uY29weShlKS5zbGVycCh0LHIpfSxzbGVycEZsYXQ6ZnVuY3Rpb24oZSx0LG4scixpLGEsbyl7dmFyIHM9bltyKzBdLGM9bltyKzFdLGw9bltyKzJdLGg9bltyKzNdLHU9aVthKzBdLHA9aVthKzFdLGQ9aVthKzJdLGY9aVthKzNdO2lmKGghPT1mfHxzIT09dXx8YyE9PXB8fGwhPT1kKXt2YXIgbT0xLW8sdj1zKnUrYypwK2wqZCtoKmYsZz12Pj0wPzE6LTEseT0xLXYqdjtpZih5Pk51bWJlci5FUFNJTE9OKXt2YXIgeD1NYXRoLnNxcnQoeSksYj1NYXRoLmF0YW4yKHgsdipnKTttPU1hdGguc2luKG0qYikveCxvPU1hdGguc2luKG8qYikveH12YXIgdz1vKmc7aWYocz1zKm0rdSp3LGM9YyptK3AqdyxsPWwqbStkKncsaD1oKm0rZip3LG09PT0xLW8pe3ZhciBfPTEvTWF0aC5zcXJ0KHMqcytjKmMrbCpsK2gqaCk7cyo9XyxjKj1fLGwqPV8saCo9X319ZVt0XT1zLGVbdCsxXT1jLGVbdCsyXT1sLGVbdCszXT1ofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIucHJvdG90eXBlLHt4OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3g9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3k9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx6OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx3OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3c9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fX0pLE9iamVjdC5hc3NpZ24oci5wcm90b3R5cGUse2lzUXVhdGVybmlvbjohMCxzZXQ6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1uLHRoaXMuX3c9cix0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyl9LGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3g9ZS54LHRoaXMuX3k9ZS55LHRoaXMuX3o9ZS56LHRoaXMuX3c9ZS53LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSxzZXRGcm9tRXVsZXI6ZnVuY3Rpb24oZSx0KXtpZighZXx8IWUuaXNFdWxlcil0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYW4gRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci5cIik7dmFyIG49ZS5feCxyPWUuX3ksaT1lLl96LGE9ZS5vcmRlcixvPU1hdGguY29zLHM9TWF0aC5zaW4sYz1vKG4vMiksbD1vKHIvMiksaD1vKGkvMiksdT1zKG4vMikscD1zKHIvMiksZD1zKGkvMik7cmV0dXJuXCJYWVpcIj09PWE/KHRoaXMuX3g9dSpsKmgrYypwKmQsdGhpcy5feT1jKnAqaC11KmwqZCx0aGlzLl96PWMqbCpkK3UqcCpoLHRoaXMuX3c9YypsKmgtdSpwKmQpOlwiWVhaXCI9PT1hPyh0aGlzLl94PXUqbCpoK2MqcCpkLHRoaXMuX3k9YypwKmgtdSpsKmQsdGhpcy5fej1jKmwqZC11KnAqaCx0aGlzLl93PWMqbCpoK3UqcCpkKTpcIlpYWVwiPT09YT8odGhpcy5feD11KmwqaC1jKnAqZCx0aGlzLl95PWMqcCpoK3UqbCpkLHRoaXMuX3o9YypsKmQrdSpwKmgsdGhpcy5fdz1jKmwqaC11KnAqZCk6XCJaWVhcIj09PWE/KHRoaXMuX3g9dSpsKmgtYypwKmQsdGhpcy5feT1jKnAqaCt1KmwqZCx0aGlzLl96PWMqbCpkLXUqcCpoLHRoaXMuX3c9YypsKmgrdSpwKmQpOlwiWVpYXCI9PT1hPyh0aGlzLl94PXUqbCpoK2MqcCpkLHRoaXMuX3k9YypwKmgrdSpsKmQsdGhpcy5fej1jKmwqZC11KnAqaCx0aGlzLl93PWMqbCpoLXUqcCpkKTpcIlhaWVwiPT09YSYmKHRoaXMuX3g9dSpsKmgtYypwKmQsdGhpcy5feT1jKnAqaC11KmwqZCx0aGlzLl96PWMqbCpkK3UqcCpoLHRoaXMuX3c9YypsKmgrdSpwKmQpLCExIT09dCYmdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LHNldEZyb21BeGlzQW5nbGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LzIscj1NYXRoLnNpbihuKTtyZXR1cm4gdGhpcy5feD1lLngqcix0aGlzLl95PWUueSpyLHRoaXMuX3o9ZS56KnIsdGhpcy5fdz1NYXRoLmNvcyhuKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sc2V0RnJvbVJvdGF0aW9uTWF0cml4OmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5lbGVtZW50cyxyPW5bMF0saT1uWzRdLGE9bls4XSxvPW5bMV0scz1uWzVdLGM9bls5XSxsPW5bMl0saD1uWzZdLHU9blsxMF0scD1yK3MrdTtyZXR1cm4gcD4wPyh0PS41L01hdGguc3FydChwKzEpLHRoaXMuX3c9LjI1L3QsdGhpcy5feD0oaC1jKSp0LHRoaXMuX3k9KGEtbCkqdCx0aGlzLl96PShvLWkpKnQpOnI+cyYmcj51Pyh0PTIqTWF0aC5zcXJ0KDErci1zLXUpLHRoaXMuX3c9KGgtYykvdCx0aGlzLl94PS4yNSp0LHRoaXMuX3k9KGkrbykvdCx0aGlzLl96PShhK2wpL3QpOnM+dT8odD0yKk1hdGguc3FydCgxK3Mtci11KSx0aGlzLl93PShhLWwpL3QsdGhpcy5feD0oaStvKS90LHRoaXMuX3k9LjI1KnQsdGhpcy5fej0oYytoKS90KToodD0yKk1hdGguc3FydCgxK3Utci1zKSx0aGlzLl93PShvLWkpL3QsdGhpcy5feD0oYStsKS90LHRoaXMuX3k9KGMraCkvdCx0aGlzLl96PS4yNSp0KSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sc2V0RnJvbVVuaXRWZWN0b3JzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb3QodCkrMTtyZXR1cm4gbjwxZS02PyhuPTAsTWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopPyh0aGlzLl94PS1lLnksdGhpcy5feT1lLngsdGhpcy5fej0wLHRoaXMuX3c9bik6KHRoaXMuX3g9MCx0aGlzLl95PS1lLnosdGhpcy5fej1lLnksdGhpcy5fdz1uKSk6KHRoaXMuX3g9ZS55KnQuei1lLnoqdC55LHRoaXMuX3k9ZS56KnQueC1lLngqdC56LHRoaXMuX3o9ZS54KnQueS1lLnkqdC54LHRoaXMuX3c9biksdGhpcy5ub3JtYWxpemUoKX0sYW5nbGVUbzpmdW5jdGlvbihlKXtyZXR1cm4gMipNYXRoLmFjb3MoTWF0aC5hYnMobGwuY2xhbXAodGhpcy5kb3QoZSksLTEsMSkpKX0scm90YXRlVG93YXJkczpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYW5nbGVUbyhlKTtpZigwPT09bilyZXR1cm4gdGhpczt2YXIgcj1NYXRoLm1pbigxLHQvbik7cmV0dXJuIHRoaXMuc2xlcnAoZSxyKSx0aGlzfSxpbnZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uanVnYXRlKCl9LGNvbmp1Z2F0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94Kj0tMSx0aGlzLl95Kj0tMSx0aGlzLl96Kj0tMSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sZG90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94KmUuX3grdGhpcy5feSplLl95K3RoaXMuX3oqZS5feit0aGlzLl93KmUuX3d9LGxlbmd0aFNxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd30sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3cpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCgpO3JldHVybiAwPT09ZT8odGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl96PTAsdGhpcy5fdz0xKTooZT0xL2UsdGhpcy5feD10aGlzLl94KmUsdGhpcy5feT10aGlzLl95KmUsdGhpcy5fej10aGlzLl96KmUsdGhpcy5fdz10aGlzLl93KmUpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10Pyhjb25zb2xlLndhcm4oXCJUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKGUsdCkpOnRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLGUpfSxwcmVtdWx0aXBseTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKGUsdGhpcyl9LG11bHRpcGx5UXVhdGVybmlvbnM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl94LHI9ZS5feSxpPWUuX3osYT1lLl93LG89dC5feCxzPXQuX3ksYz10Ll96LGw9dC5fdztyZXR1cm4gdGhpcy5feD1uKmwrYSpvK3IqYy1pKnMsdGhpcy5feT1yKmwrYSpzK2kqby1uKmMsdGhpcy5fej1pKmwrYSpjK24qcy1yKm8sdGhpcy5fdz1hKmwtbipvLXIqcy1pKmMsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LHNsZXJwOmZ1bmN0aW9uKGUsdCl7aWYoMD09PXQpcmV0dXJuIHRoaXM7aWYoMT09PXQpcmV0dXJuIHRoaXMuY29weShlKTt2YXIgbj10aGlzLl94LHI9dGhpcy5feSxpPXRoaXMuX3osYT10aGlzLl93LG89YSplLl93K24qZS5feCtyKmUuX3kraSplLl96O2lmKG88MD8odGhpcy5fdz0tZS5fdyx0aGlzLl94PS1lLl94LHRoaXMuX3k9LWUuX3ksdGhpcy5fej0tZS5feixvPS1vKTp0aGlzLmNvcHkoZSksbz49MSlyZXR1cm4gdGhpcy5fdz1hLHRoaXMuX3g9bix0aGlzLl95PXIsdGhpcy5fej1pLHRoaXM7dmFyIHM9MS1vKm87aWYoczw9TnVtYmVyLkVQU0lMT04pe3ZhciBjPTEtdDtyZXR1cm4gdGhpcy5fdz1jKmErdCp0aGlzLl93LHRoaXMuX3g9YypuK3QqdGhpcy5feCx0aGlzLl95PWMqcit0KnRoaXMuX3ksdGhpcy5fej1jKmkrdCp0aGlzLl96LHRoaXMubm9ybWFsaXplKCksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9dmFyIGw9TWF0aC5zcXJ0KHMpLGg9TWF0aC5hdGFuMihsLG8pLHU9TWF0aC5zaW4oKDEtdCkqaCkvbCxwPU1hdGguc2luKHQqaCkvbDtyZXR1cm4gdGhpcy5fdz1hKnUrdGhpcy5fdypwLHRoaXMuX3g9bip1K3RoaXMuX3gqcCx0aGlzLl95PXIqdSt0aGlzLl95KnAsdGhpcy5fej1pKnUrdGhpcy5feipwLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX3g9PT10aGlzLl94JiZlLl95PT09dGhpcy5feSYmZS5fej09PXRoaXMuX3omJmUuX3c9PT10aGlzLl93fSxmcm9tQXJyYXk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdGhpcy5feD1lW3RdLHRoaXMuX3k9ZVt0KzFdLHRoaXMuX3o9ZVt0KzJdLHRoaXMuX3c9ZVt0KzNdLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD0wKSxlW3RdPXRoaXMuX3gsZVt0KzFdPXRoaXMuX3ksZVt0KzJdPXRoaXMuX3osZVt0KzNdPXRoaXMuX3csZX0sX29uQ2hhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPWUsdGhpc30sX29uQ2hhbmdlQ2FsbGJhY2s6ZnVuY3Rpb24oKXt9fSk7dmFyIGhsPW5ldyBpLHVsPW5ldyByO09iamVjdC5hc3NpZ24oaS5wcm90b3R5cGUse2lzVmVjdG9yMzohMCxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9bix0aGlzfSxzZXRTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT1lLHRoaXMuej1lLHRoaXN9LHNldFg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLHRoaXN9LHNldFk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueT1lLHRoaXN9LHNldFo6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuej1lLHRoaXN9LHNldENvbXBvbmVudDpmdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIDA6dGhpcy54PXQ7YnJlYWs7Y2FzZSAxOnRoaXMueT10O2JyZWFrO2Nhc2UgMjp0aGlzLno9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrZSl9cmV0dXJuIHRoaXN9LGdldENvbXBvbmVudDpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6IFwiK2UpfX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnopfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUueix0aGlzfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dD8oY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmFkZFZlY3RvcnMoZSx0KSk6KHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMueis9ZS56LHRoaXMpfSxhZGRTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCs9ZSx0aGlzLnkrPWUsdGhpcy56Kz1lLHRoaXN9LGFkZFZlY3RvcnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54PWUueCt0LngsdGhpcy55PWUueSt0LnksdGhpcy56PWUueit0LnosdGhpc30sYWRkU2NhbGVkVmVjdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueCs9ZS54KnQsdGhpcy55Kz1lLnkqdCx0aGlzLnorPWUueip0LHRoaXN9LHN1YjpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10Pyhjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuc3ViVmVjdG9ycyhlLHQpKToodGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcy56LT1lLnosdGhpcyl9LHN1YlNjYWxhcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLHRoaXMueS09ZSx0aGlzLnotPWUsdGhpc30sc3ViVmVjdG9yczpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLng9ZS54LXQueCx0aGlzLnk9ZS55LXQueSx0aGlzLno9ZS56LXQueix0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10Pyhjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLm11bHRpcGx5VmVjdG9ycyhlLHQpKToodGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcyl9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXMueio9ZSx0aGlzfSxtdWx0aXBseVZlY3RvcnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54PWUueCp0LngsdGhpcy55PWUueSp0LnksdGhpcy56PWUueip0LnosdGhpc30sYXBwbHlFdWxlcjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5pc0V1bGVyfHxjb25zb2xlLmVycm9yKFwiVEhSRUUuVmVjdG9yMzogLmFwcGx5RXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLlwiKSx0aGlzLmFwcGx5UXVhdGVybmlvbih1bC5zZXRGcm9tRXVsZXIoZSkpfSxhcHBseUF4aXNBbmdsZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbih1bC5zZXRGcm9tQXhpc0FuZ2xlKGUsdCkpfSxhcHBseU1hdHJpeDM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LG49dGhpcy55LHI9dGhpcy56LGk9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PWlbMF0qdCtpWzNdKm4raVs2XSpyLHRoaXMueT1pWzFdKnQraVs0XSpuK2lbN10qcix0aGlzLno9aVsyXSp0K2lbNV0qbitpWzhdKnIsdGhpc30sYXBwbHlOb3JtYWxNYXRyaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXgzKGUpLm5vcm1hbGl6ZSgpfSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LG49dGhpcy55LHI9dGhpcy56LGk9ZS5lbGVtZW50cyxhPTEvKGlbM10qdCtpWzddKm4raVsxMV0qcitpWzE1XSk7cmV0dXJuIHRoaXMueD0oaVswXSp0K2lbNF0qbitpWzhdKnIraVsxMl0pKmEsdGhpcy55PShpWzFdKnQraVs1XSpuK2lbOV0qcitpWzEzXSkqYSx0aGlzLno9KGlbMl0qdCtpWzZdKm4raVsxMF0qcitpWzE0XSkqYSx0aGlzfSxhcHBseVF1YXRlcm5pb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LG49dGhpcy55LHI9dGhpcy56LGk9ZS54LGE9ZS55LG89ZS56LHM9ZS53LGM9cyp0K2Eqci1vKm4sbD1zKm4rbyp0LWkqcixoPXMqcitpKm4tYSp0LHU9LWkqdC1hKm4tbypyO3JldHVybiB0aGlzLng9YypzK3UqLWkrbCotby1oKi1hLHRoaXMueT1sKnMrdSotYStoKi1pLWMqLW8sdGhpcy56PWgqcyt1Ki1vK2MqLWEtbCotaSx0aGlzfSxwcm9qZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkSW52ZXJzZSkuYXBwbHlNYXRyaXg0KGUucHJvamVjdGlvbk1hdHJpeCl9LHVucHJvamVjdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQoZS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSkuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpfSx0cmFuc2Zvcm1EaXJlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LG49dGhpcy55LHI9dGhpcy56LGk9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PWlbMF0qdCtpWzRdKm4raVs4XSpyLHRoaXMueT1pWzFdKnQraVs1XSpuK2lbOV0qcix0aGlzLno9aVsyXSp0K2lbNl0qbitpWzEwXSpyLHRoaXMubm9ybWFsaXplKCl9LGRpdmlkZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Lz1lLngsdGhpcy55Lz1lLnksdGhpcy56Lz1lLnosdGhpc30sZGl2aWRlU2NhbGFyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvZSl9LG1pbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PU1hdGgubWluKHRoaXMueCxlLngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksZS55KSx0aGlzLno9TWF0aC5taW4odGhpcy56LGUueiksdGhpc30sbWF4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosZS56KSx0aGlzfSxjbGFtcDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgoZS54LE1hdGgubWluKHQueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZS55LE1hdGgubWluKHQueSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgoZS56LE1hdGgubWluKHQueix0aGlzLnopKSx0aGlzfSxjbGFtcFNjYWxhcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLng9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy55KSksdGhpcy56PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLnopKSx0aGlzfSxjbGFtcExlbmd0aDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKG58fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KGUsTWF0aC5taW4odCxuKSkpfSxmbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzfSxjZWlsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSksdGhpcy56PU1hdGguY2VpbCh0aGlzLnopLHRoaXN9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzLno9TWF0aC5yb3VuZCh0aGlzLnopLHRoaXN9LHJvdW5kVG9aZXJvOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9dGhpcy56PDA/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopLHRoaXN9LG5lZ2F0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzfSxkb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCplLngrdGhpcy55KmUueSt0aGlzLnoqZS56fSxsZW5ndGhTcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuen0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9LG1hbmhhdHRhbkxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfSxzZXRMZW5ndGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9LGxlcnA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54Kz0oZS54LXRoaXMueCkqdCx0aGlzLnkrPShlLnktdGhpcy55KSp0LHRoaXMueis9KGUuei10aGlzLnopKnQsdGhpc30sbGVycFZlY3RvcnM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnN1YlZlY3RvcnModCxlKS5tdWx0aXBseVNjYWxhcihuKS5hZGQoZSl9LGNyb3NzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQ/KGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5jcm9zcygpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmNyb3NzVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuY3Jvc3NWZWN0b3JzKGUsdCkpOnRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsZSl9LGNyb3NzVmVjdG9yczpmdW5jdGlvbihlLHQpe3ZhciBuPWUueCxyPWUueSxpPWUueixhPXQueCxvPXQueSxzPXQuejtyZXR1cm4gdGhpcy54PXIqcy1pKm8sdGhpcy55PWkqYS1uKnMsdGhpcy56PW4qby1yKmEsdGhpc30scHJvamVjdE9uVmVjdG9yOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZG90KHRoaXMpL2UubGVuZ3RoU3EoKTtyZXR1cm4gdGhpcy5jb3B5KGUpLm11bHRpcGx5U2NhbGFyKHQpfSxwcm9qZWN0T25QbGFuZTpmdW5jdGlvbihlKXtyZXR1cm4gaGwuY29weSh0aGlzKS5wcm9qZWN0T25WZWN0b3IoZSksdGhpcy5zdWIoaGwpfSxyZWZsZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1YihobC5jb3B5KGUpLm11bHRpcGx5U2NhbGFyKDIqdGhpcy5kb3QoZSkpKX0sYW5nbGVUbzpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKmUubGVuZ3RoU3EoKSk7MD09PXQmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5WZWN0b3IzOiBhbmdsZVRvKCkgY2FuJ3QgaGFuZGxlIHplcm8gbGVuZ3RoIHZlY3RvcnMuXCIpO3ZhciBuPXRoaXMuZG90KGUpL3Q7cmV0dXJuIE1hdGguYWNvcyhsbC5jbGFtcChuLC0xLDEpKX0sZGlzdGFuY2VUbzpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoZSkpfSxkaXN0YW5jZVRvU3F1YXJlZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLngtZS54LG49dGhpcy55LWUueSxyPXRoaXMuei1lLno7cmV0dXJuIHQqdCtuKm4rcipyfSxtYW5oYXR0YW5EaXN0YW5jZVRvOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmFicyh0aGlzLngtZS54KStNYXRoLmFicyh0aGlzLnktZS55KStNYXRoLmFicyh0aGlzLnotZS56KX0sc2V0RnJvbVNwaGVyaWNhbDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKGUucmFkaXVzLGUucGhpLGUudGhldGEpfSxzZXRGcm9tU3BoZXJpY2FsQ29vcmRzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1NYXRoLnNpbih0KSplO3JldHVybiB0aGlzLng9cipNYXRoLnNpbihuKSx0aGlzLnk9TWF0aC5jb3ModCkqZSx0aGlzLno9cipNYXRoLmNvcyhuKSx0aGlzfSxzZXRGcm9tQ3lsaW5kcmljYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKGUucmFkaXVzLGUudGhldGEsZS55KX0sc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy54PWUqTWF0aC5zaW4odCksdGhpcy55PW4sdGhpcy56PWUqTWF0aC5jb3ModCksdGhpc30sc2V0RnJvbU1hdHJpeFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZWxlbWVudHM7cmV0dXJuIHRoaXMueD10WzEyXSx0aGlzLnk9dFsxM10sdGhpcy56PXRbMTRdLHRoaXN9LHNldEZyb21NYXRyaXhTY2FsZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSwwKS5sZW5ndGgoKSxuPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihlLDEpLmxlbmd0aCgpLHI9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMikubGVuZ3RoKCk7cmV0dXJuIHRoaXMueD10LHRoaXMueT1uLHRoaXMuej1yLHRoaXN9LHNldEZyb21NYXRyaXhDb2x1bW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkoZS5lbGVtZW50cyw0KnQpfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUueD09PXRoaXMueCYmZS55PT09dGhpcy55JiZlLno9PT10aGlzLnp9LGZyb21BcnJheTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXMuej1lW3QrMl0sdGhpc30sdG9BcnJheTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09dCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGV9LGZyb21CdWZmZXJBdHRyaWJ1dGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuXCIpLHRoaXMueD1lLmdldFgodCksdGhpcy55PWUuZ2V0WSh0KSx0aGlzLno9ZS5nZXRaKHQpLHRoaXN9fSk7dmFyIHBsPW5ldyBpO09iamVjdC5hc3NpZ24oYS5wcm90b3R5cGUse2lzTWF0cml4MzohMCxzZXQ6ZnVuY3Rpb24oZSx0LG4scixpLGEsbyxzLGMpe3ZhciBsPXRoaXMuZWxlbWVudHM7cmV0dXJuIGxbMF09ZSxsWzFdPXIsbFsyXT1vLGxbM109dCxsWzRdPWksbFs1XT1zLGxbNl09bixsWzddPWEsbFs4XT1jLHRoaXN9LGlkZW50aXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMSwwLDAsMCwxKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfSxjb3B5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudHMsbj1lLmVsZW1lbnRzO3JldHVybiB0WzBdPW5bMF0sdFsxXT1uWzFdLHRbMl09blsyXSx0WzNdPW5bM10sdFs0XT1uWzRdLHRbNV09bls1XSx0WzZdPW5bNl0sdFs3XT1uWzddLHRbOF09bls4XSx0aGlzfSxzZXRGcm9tTWF0cml4NDpmdW5jdGlvbihlKXt2YXIgdD1lLmVsZW1lbnRzO3JldHVybiB0aGlzLnNldCh0WzBdLHRbNF0sdFs4XSx0WzFdLHRbNV0sdFs5XSx0WzJdLHRbNl0sdFsxMF0pLHRoaXN9LGFwcGx5VG9CdWZmZXJBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1lLmNvdW50O3Q8bjt0KyspcGwueD1lLmdldFgodCkscGwueT1lLmdldFkodCkscGwuej1lLmdldFoodCkscGwuYXBwbHlNYXRyaXgzKHRoaXMpLGUuc2V0WFlaKHQscGwueCxwbC55LHBsLnopO3JldHVybiBlfSxtdWx0aXBseTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsZSl9LHByZW11bHRpcGx5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMoZSx0aGlzKX0sbXVsdGlwbHlNYXRyaWNlczpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZWxlbWVudHMscj10LmVsZW1lbnRzLGk9dGhpcy5lbGVtZW50cyxhPW5bMF0sbz1uWzNdLHM9bls2XSxjPW5bMV0sbD1uWzRdLGg9bls3XSx1PW5bMl0scD1uWzVdLGQ9bls4XSxmPXJbMF0sbT1yWzNdLHY9cls2XSxnPXJbMV0seT1yWzRdLHg9cls3XSxiPXJbMl0sdz1yWzVdLF89cls4XTtyZXR1cm4gaVswXT1hKmYrbypnK3MqYixpWzNdPWEqbStvKnkrcyp3LGlbNl09YSp2K28qeCtzKl8saVsxXT1jKmYrbCpnK2gqYixpWzRdPWMqbStsKnkraCp3LGlbN109Yyp2K2wqeCtoKl8saVsyXT11KmYrcCpnK2QqYixpWzVdPXUqbStwKnkrZCp3LGlbOF09dSp2K3AqeCtkKl8sdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gdFswXSo9ZSx0WzNdKj1lLHRbNl0qPWUsdFsxXSo9ZSx0WzRdKj1lLHRbN10qPWUsdFsyXSo9ZSx0WzVdKj1lLHRbOF0qPWUsdGhpc30sZGV0ZXJtaW5hbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxuPWVbMV0scj1lWzJdLGk9ZVszXSxhPWVbNF0sbz1lWzVdLHM9ZVs2XSxjPWVbN10sbD1lWzhdO3JldHVybiB0KmEqbC10Km8qYy1uKmkqbCtuKm8qcytyKmkqYy1yKmEqc30sZ2V0SW52ZXJzZTpmdW5jdGlvbihlLHQpe2UmJmUuaXNNYXRyaXg0JiZjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBubyBsb25nZXIgdGFrZXMgYSBNYXRyaXg0IGFyZ3VtZW50LlwiKTt2YXIgbj1lLmVsZW1lbnRzLHI9dGhpcy5lbGVtZW50cyxpPW5bMF0sYT1uWzFdLG89blsyXSxzPW5bM10sYz1uWzRdLGw9bls1XSxoPW5bNl0sdT1uWzddLHA9bls4XSxkPXAqYy1sKnUsZj1sKmgtcCpzLG09dSpzLWMqaCx2PWkqZCthKmYrbyptO2lmKDA9PT12KXt2YXIgZz1cIlRIUkVFLk1hdHJpeDM6IC5nZXRJbnZlcnNlKCkgY2FuJ3QgaW52ZXJ0IG1hdHJpeCwgZGV0ZXJtaW5hbnQgaXMgMFwiO2lmKCEwPT09dCl0aHJvdyBuZXcgRXJyb3IoZyk7cmV0dXJuIGNvbnNvbGUud2FybihnKSx0aGlzLmlkZW50aXR5KCl9dmFyIHk9MS92O3JldHVybiByWzBdPWQqeSxyWzFdPShvKnUtcCphKSp5LHJbMl09KGwqYS1vKmMpKnksclszXT1mKnkscls0XT0ocCppLW8qaCkqeSxyWzVdPShvKnMtbCppKSp5LHJbNl09bSp5LHJbN109KGEqaC11KmkpKnkscls4XT0oYyppLWEqcykqeSx0aGlzfSx0cmFuc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWxlbWVudHM7cmV0dXJuIGU9dFsxXSx0WzFdPXRbM10sdFszXT1lLGU9dFsyXSx0WzJdPXRbNl0sdFs2XT1lLGU9dFs1XSx0WzVdPXRbN10sdFs3XT1lLHRoaXN9LGdldE5vcm1hbE1hdHJpeDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRGcm9tTWF0cml4NChlKS5nZXRJbnZlcnNlKHRoaXMpLnRyYW5zcG9zZSgpfSx0cmFuc3Bvc2VJbnRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF0sdGhpc30sc2V0VXZUcmFuc2Zvcm06ZnVuY3Rpb24oZSx0LG4scixpLGEsbyl7dmFyIHM9TWF0aC5jb3MoaSksYz1NYXRoLnNpbihpKTt0aGlzLnNldChuKnMsbipjLC1uKihzKmErYypvKSthK2UsLXIqYyxyKnMsLXIqKC1jKmErcypvKStvK3QsMCwwLDEpfSxzY2FsZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIG5bMF0qPWUsblszXSo9ZSxuWzZdKj1lLG5bMV0qPXQsbls0XSo9dCxuWzddKj10LHRoaXN9LHJvdGF0ZTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpLHI9dGhpcy5lbGVtZW50cyxpPXJbMF0sYT1yWzNdLG89cls2XSxzPXJbMV0sYz1yWzRdLGw9cls3XTtyZXR1cm4gclswXT10KmkrbipzLHJbM109dCphK24qYyxyWzZdPXQqbytuKmwsclsxXT0tbippK3QqcyxyWzRdPS1uKmErdCpjLHJbN109LW4qbyt0KmwsdGhpc30sdHJhbnNsYXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lbGVtZW50cztyZXR1cm4gblswXSs9ZSpuWzJdLG5bM10rPWUqbls1XSxuWzZdKz1lKm5bOF0sblsxXSs9dCpuWzJdLG5bNF0rPXQqbls1XSxuWzddKz10Km5bOF0sdGhpc30sZXF1YWxzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmVsZW1lbnRzLG49ZS5lbGVtZW50cyxyPTA7cjw5O3IrKylpZih0W3JdIT09bltyXSlyZXR1cm4hMTtyZXR1cm4hMH0sZnJvbUFycmF5OmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9MCk7Zm9yKHZhciBuPTA7bjw5O24rKyl0aGlzLmVsZW1lbnRzW25dPWVbbit0XTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD0wKTt2YXIgbj10aGlzLmVsZW1lbnRzO3JldHVybiBlW3RdPW5bMF0sZVt0KzFdPW5bMV0sZVt0KzJdPW5bMl0sZVt0KzNdPW5bM10sZVt0KzRdPW5bNF0sZVt0KzVdPW5bNV0sZVt0KzZdPW5bNl0sZVt0KzddPW5bN10sZVt0KzhdPW5bOF0sZX19KTt2YXIgZGwsZmw9e2dldERhdGFVUkw6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50KXJldHVybiBlLnNyYztpZihlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpdD1lO2Vsc2V7dm9pZCAwPT09ZGwmJihkbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJjYW52YXNcIikpLGRsLndpZHRoPWUud2lkdGgsZGwuaGVpZ2h0PWUuaGVpZ2h0O3ZhciBuPWRsLmdldENvbnRleHQoXCIyZFwiKTtlIGluc3RhbmNlb2YgSW1hZ2VEYXRhP24ucHV0SW1hZ2VEYXRhKGUsMCwwKTpuLmRyYXdJbWFnZShlLDAsMCxlLndpZHRoLGUuaGVpZ2h0KSx0PWRsfXJldHVybiB0LndpZHRoPjIwNDh8fHQuaGVpZ2h0PjIwNDg/dC50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIsLjYpOnQudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpfX0sbWw9MDtvLkRFRkFVTFRfSU1BR0U9dm9pZCAwLG8uREVGQVVMVF9NQVBQSU5HPTMwMCxvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpvLGlzVGV4dHVyZTohMCx1cGRhdGVNYXRyaXg6ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeC5zZXRVdlRyYW5zZm9ybSh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55LHRoaXMucm90YXRpb24sdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmFtZT1lLm5hbWUsdGhpcy5pbWFnZT1lLmltYWdlLHRoaXMubWlwbWFwcz1lLm1pcG1hcHMuc2xpY2UoMCksdGhpcy5tYXBwaW5nPWUubWFwcGluZyx0aGlzLndyYXBTPWUud3JhcFMsdGhpcy53cmFwVD1lLndyYXBULHRoaXMubWFnRmlsdGVyPWUubWFnRmlsdGVyLHRoaXMubWluRmlsdGVyPWUubWluRmlsdGVyLHRoaXMuYW5pc290cm9weT1lLmFuaXNvdHJvcHksdGhpcy5mb3JtYXQ9ZS5mb3JtYXQsdGhpcy50eXBlPWUudHlwZSx0aGlzLm9mZnNldC5jb3B5KGUub2Zmc2V0KSx0aGlzLnJlcGVhdC5jb3B5KGUucmVwZWF0KSx0aGlzLmNlbnRlci5jb3B5KGUuY2VudGVyKSx0aGlzLnJvdGF0aW9uPWUucm90YXRpb24sdGhpcy5tYXRyaXhBdXRvVXBkYXRlPWUubWF0cml4QXV0b1VwZGF0ZSx0aGlzLm1hdHJpeC5jb3B5KGUubWF0cml4KSx0aGlzLmdlbmVyYXRlTWlwbWFwcz1lLmdlbmVyYXRlTWlwbWFwcyx0aGlzLnByZW11bHRpcGx5QWxwaGE9ZS5wcmVtdWx0aXBseUFscGhhLHRoaXMuZmxpcFk9ZS5mbGlwWSx0aGlzLnVucGFja0FsaWdubWVudD1lLnVucGFja0FsaWdubWVudCx0aGlzLmVuY29kaW5nPWUuZW5jb2RpbmcsdGhpc30sdG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWV8fFwic3RyaW5nXCI9PXR5cGVvZiBlO2lmKCF0JiZ2b2lkIDAhPT1lLnRleHR1cmVzW3RoaXMudXVpZF0pcmV0dXJuIGUudGV4dHVyZXNbdGhpcy51dWlkXTt2YXIgbj17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6XCJUZXh0dXJlXCIsZ2VuZXJhdG9yOlwiVGV4dHVyZS50b0pTT05cIn0sdXVpZDp0aGlzLnV1aWQsbmFtZTp0aGlzLm5hbWUsbWFwcGluZzp0aGlzLm1hcHBpbmcscmVwZWF0Olt0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnldLG9mZnNldDpbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSxjZW50ZXI6W3RoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueV0scm90YXRpb246dGhpcy5yb3RhdGlvbix3cmFwOlt0aGlzLndyYXBTLHRoaXMud3JhcFRdLGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxlbmNvZGluZzp0aGlzLmVuY29kaW5nLG1pbkZpbHRlcjp0aGlzLm1pbkZpbHRlcixtYWdGaWx0ZXI6dGhpcy5tYWdGaWx0ZXIsYW5pc290cm9weTp0aGlzLmFuaXNvdHJvcHksZmxpcFk6dGhpcy5mbGlwWSxwcmVtdWx0aXBseUFscGhhOnRoaXMucHJlbXVsdGlwbHlBbHBoYSx1bnBhY2tBbGlnbm1lbnQ6dGhpcy51bnBhY2tBbGlnbm1lbnR9O2lmKHZvaWQgMCE9PXRoaXMuaW1hZ2Upe3ZhciByPXRoaXMuaW1hZ2U7aWYodm9pZCAwPT09ci51dWlkJiYoci51dWlkPWxsLmdlbmVyYXRlVVVJRCgpKSwhdCYmdm9pZCAwPT09ZS5pbWFnZXNbci51dWlkXSl7dmFyIGk7aWYoQXJyYXkuaXNBcnJheShyKSl7aT1bXTtmb3IodmFyIGE9MCxvPXIubGVuZ3RoO2E8bzthKyspaS5wdXNoKGZsLmdldERhdGFVUkwoclthXSkpfWVsc2UgaT1mbC5nZXREYXRhVVJMKHIpO2UuaW1hZ2VzW3IudXVpZF09e3V1aWQ6ci51dWlkLHVybDppfX1uLmltYWdlPXIudXVpZH1yZXR1cm4gdHx8KGUudGV4dHVyZXNbdGhpcy51dWlkXT1uKSxufSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9LHRyYW5zZm9ybVV2OmZ1bmN0aW9uKGUpe2lmKDMwMCE9PXRoaXMubWFwcGluZylyZXR1cm4gZTtpZihlLmFwcGx5TWF0cml4Myh0aGlzLm1hdHJpeCksZS54PDB8fGUueD4xKXN3aXRjaCh0aGlzLndyYXBTKXtjYXNlIFdzOmUueD1lLngtTWF0aC5mbG9vcihlLngpO2JyZWFrO2Nhc2UgcXM6ZS54PWUueDwwPzA6MTticmVhaztjYXNlIFhzOjE9PT1NYXRoLmFicyhNYXRoLmZsb29yKGUueCklMik/ZS54PU1hdGguY2VpbChlLngpLWUueDplLng9ZS54LU1hdGguZmxvb3IoZS54KX1pZihlLnk8MHx8ZS55PjEpc3dpdGNoKHRoaXMud3JhcFQpe2Nhc2UgV3M6ZS55PWUueS1NYXRoLmZsb29yKGUueSk7YnJlYWs7Y2FzZSBxczplLnk9ZS55PDA/MDoxO2JyZWFrO2Nhc2UgWHM6MT09PU1hdGguYWJzKE1hdGguZmxvb3IoZS55KSUyKT9lLnk9TWF0aC5jZWlsKGUueSktZS55OmUueT1lLnktTWF0aC5mbG9vcihlLnkpfXJldHVybiB0aGlzLmZsaXBZJiYoZS55PTEtZS55KSxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLnByb3RvdHlwZSxcIm5lZWRzVXBkYXRlXCIse3NldDpmdW5jdGlvbihlKXshMD09PWUmJnRoaXMudmVyc2lvbisrfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHMucHJvdG90eXBlLHt3aWR0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuej1lfX0saGVpZ2h0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy53PWV9fX0pLE9iamVjdC5hc3NpZ24ocy5wcm90b3R5cGUse2lzVmVjdG9yNDohMCxzZXQ6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1uLHRoaXMudz1yLHRoaXN9LHNldFNjYWxhcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PWUsdGhpcy56PWUsdGhpcy53PWUsdGhpc30sc2V0WDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUsdGhpc30sc2V0WTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy55PWUsdGhpc30sc2V0WjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56PWUsdGhpc30sc2V0VzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53PWUsdGhpc30sc2V0Q29tcG9uZW50OmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2UgMDp0aGlzLng9dDticmVhaztjYXNlIDE6dGhpcy55PXQ7YnJlYWs7Y2FzZSAyOnRoaXMuej10O2JyZWFrO2Nhc2UgMzp0aGlzLnc9dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrZSl9cmV0dXJuIHRoaXN9LGdldENvbXBvbmVudDpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7Y2FzZSAzOnJldHVybiB0aGlzLnc7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6IFwiK2UpfX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXMuej1lLnosdGhpcy53PXZvaWQgMCE9PWUudz9lLnc6MSx0aGlzfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dD8oY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yNDogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmFkZFZlY3RvcnMoZSx0KSk6KHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMueis9ZS56LHRoaXMudys9ZS53LHRoaXMpfSxhZGRTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCs9ZSx0aGlzLnkrPWUsdGhpcy56Kz1lLHRoaXMudys9ZSx0aGlzfSxhZGRWZWN0b3JzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueD1lLngrdC54LHRoaXMueT1lLnkrdC55LHRoaXMuej1lLnordC56LHRoaXMudz1lLncrdC53LHRoaXN9LGFkZFNjYWxlZFZlY3RvcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLngrPWUueCp0LHRoaXMueSs9ZS55KnQsdGhpcy56Kz1lLnoqdCx0aGlzLncrPWUudyp0LHRoaXN9LHN1YjpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10Pyhjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3I0OiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuc3ViVmVjdG9ycyhlLHQpKToodGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcy56LT1lLnosdGhpcy53LT1lLncsdGhpcyl9LHN1YlNjYWxhcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLHRoaXMueS09ZSx0aGlzLnotPWUsdGhpcy53LT1lLHRoaXN9LHN1YlZlY3RvcnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54PWUueC10LngsdGhpcy55PWUueS10LnksdGhpcy56PWUuei10LnosdGhpcy53PWUudy10LncsdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LG49dGhpcy55LHI9dGhpcy56LGk9dGhpcy53LGE9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PWFbMF0qdCthWzRdKm4rYVs4XSpyK2FbMTJdKmksdGhpcy55PWFbMV0qdCthWzVdKm4rYVs5XSpyK2FbMTNdKmksdGhpcy56PWFbMl0qdCthWzZdKm4rYVsxMF0qcithWzE0XSppLHRoaXMudz1hWzNdKnQrYVs3XSpuK2FbMTFdKnIrYVsxNV0qaSx0aGlzfSxkaXZpZGVTY2FsYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9lKX0sc2V0QXhpc0FuZ2xlRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24oZSl7dGhpcy53PTIqTWF0aC5hY29zKGUudyk7dmFyIHQ9TWF0aC5zcXJ0KDEtZS53KmUudyk7cmV0dXJuIHQ8MWUtND8odGhpcy54PTEsdGhpcy55PTAsdGhpcy56PTApOih0aGlzLng9ZS54L3QsdGhpcy55PWUueS90LHRoaXMuej1lLnovdCksdGhpc30sc2V0QXhpc0FuZ2xlRnJvbVJvdGF0aW9uTWF0cml4OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLGE9ZS5lbGVtZW50cyxvPWFbMF0scz1hWzRdLGM9YVs4XSxsPWFbMV0saD1hWzVdLHU9YVs5XSxwPWFbMl0sZD1hWzZdLGY9YVsxMF07aWYoTWF0aC5hYnMocy1sKTwuMDEmJk1hdGguYWJzKGMtcCk8LjAxJiZNYXRoLmFicyh1LWQpPC4wMSl7aWYoTWF0aC5hYnMocytsKTwuMSYmTWF0aC5hYnMoYytwKTwuMSYmTWF0aC5hYnModStkKTwuMSYmTWF0aC5hYnMobytoK2YtMyk8LjEpcmV0dXJuIHRoaXMuc2V0KDEsMCwwLDApLHRoaXM7dD1NYXRoLlBJO3ZhciBtPShvKzEpLzIsdj0oaCsxKS8yLGc9KGYrMSkvMix5PShzK2wpLzQseD0oYytwKS80LGI9KHUrZCkvNDtyZXR1cm4gbT52JiZtPmc/bTwuMDE/KG49MCxyPS43MDcxMDY3ODEsaT0uNzA3MTA2NzgxKToobj1NYXRoLnNxcnQobSkscj15L24saT14L24pOnY+Zz92PC4wMT8obj0uNzA3MTA2NzgxLHI9MCxpPS43MDcxMDY3ODEpOihyPU1hdGguc3FydCh2KSxuPXkvcixpPWIvcik6ZzwuMDE/KG49LjcwNzEwNjc4MSxyPS43MDcxMDY3ODEsaT0wKTooaT1NYXRoLnNxcnQoZyksbj14L2kscj1iL2kpLHRoaXMuc2V0KG4scixpLHQpLHRoaXN9dmFyIHc9TWF0aC5zcXJ0KChkLXUpKihkLXUpKyhjLXApKihjLXApKyhsLXMpKihsLXMpKTtyZXR1cm4gTWF0aC5hYnModyk8LjAwMSYmKHc9MSksdGhpcy54PShkLXUpL3csdGhpcy55PShjLXApL3csdGhpcy56PShsLXMpL3csdGhpcy53PU1hdGguYWNvcygobytoK2YtMSkvMiksdGhpc30sbWluOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LGUueCksdGhpcy55PU1hdGgubWluKHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosZS56KSx0aGlzLnc9TWF0aC5taW4odGhpcy53LGUudyksdGhpc30sbWF4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodGhpcy54LGUueCksdGhpcy55PU1hdGgubWF4KHRoaXMueSxlLnkpLHRoaXMuej1NYXRoLm1heCh0aGlzLnosZS56KSx0aGlzLnc9TWF0aC5tYXgodGhpcy53LGUudyksdGhpc30sY2xhbXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUueCxNYXRoLm1pbih0LngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KGUueSxNYXRoLm1pbih0LnksdGhpcy55KSksdGhpcy56PU1hdGgubWF4KGUueixNYXRoLm1pbih0LnosdGhpcy56KSksdGhpcy53PU1hdGgubWF4KGUudyxNYXRoLm1pbih0LncsdGhpcy53KSksdGhpc30sY2xhbXBTY2FsYXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgoZSxNYXRoLm1pbih0LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heChlLE1hdGgubWluKHQsdGhpcy56KSksdGhpcy53PU1hdGgubWF4KGUsTWF0aC5taW4odCx0aGlzLncpKSx0aGlzfSxjbGFtcExlbmd0aDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKG58fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KGUsTWF0aC5taW4odCxuKSkpfSxmbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnc9TWF0aC5mbG9vcih0aGlzLncpLHRoaXN9LGNlaWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpcy53PU1hdGguY2VpbCh0aGlzLncpLHRoaXN9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzLno9TWF0aC5yb3VuZCh0aGlzLnopLHRoaXMudz1NYXRoLnJvdW5kKHRoaXMudyksdGhpc30scm91bmRUb1plcm86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpcy53PXRoaXMudzwwP01hdGguY2VpbCh0aGlzLncpOk1hdGguZmxvb3IodGhpcy53KSx0aGlzfSxuZWdhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpcy56PS10aGlzLnosdGhpcy53PS10aGlzLncsdGhpc30sZG90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqZS54K3RoaXMueSplLnkrdGhpcy56KmUueit0aGlzLncqZS53fSxsZW5ndGhTcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfSxtYW5oYXR0YW5MZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpK01hdGguYWJzKHRoaXMueikrTWF0aC5hYnModGhpcy53KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfSxzZXRMZW5ndGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIoZSl9LGxlcnA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy54Kz0oZS54LXRoaXMueCkqdCx0aGlzLnkrPShlLnktdGhpcy55KSp0LHRoaXMueis9KGUuei10aGlzLnopKnQsdGhpcy53Kz0oZS53LXRoaXMudykqdCx0aGlzfSxsZXJwVmVjdG9yczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuc3ViVmVjdG9ycyh0LGUpLm11bHRpcGx5U2NhbGFyKG4pLmFkZChlKX0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLng9PT10aGlzLngmJmUueT09PXRoaXMueSYmZS56PT09dGhpcy56JiZlLnc9PT10aGlzLnd9LGZyb21BcnJheTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLng9ZVt0XSx0aGlzLnk9ZVt0KzFdLHRoaXMuej1lW3QrMl0sdGhpcy53PWVbdCszXSx0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyxlfSxmcm9tQnVmZmVyQXR0cmlidXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwIT09biYmY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yNDogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLlwiKSx0aGlzLng9ZS5nZXRYKHQpLHRoaXMueT1lLmdldFkodCksdGhpcy56PWUuZ2V0Wih0KSx0aGlzLnc9ZS5nZXRXKHQpLHRoaXN9fSksYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Yyxpc1dlYkdMUmVuZGVyVGFyZ2V0OiEwLHNldFNpemU6ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoPT09ZSYmdGhpcy5oZWlnaHQ9PT10fHwodGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy50ZXh0dXJlLmltYWdlLndpZHRoPWUsdGhpcy50ZXh0dXJlLmltYWdlLmhlaWdodD10LHRoaXMuZGlzcG9zZSgpKSx0aGlzLnZpZXdwb3J0LnNldCgwLDAsZSx0KSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCxlLHQpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMudmlld3BvcnQuY29weShlLnZpZXdwb3J0KSx0aGlzLnRleHR1cmU9ZS50ZXh0dXJlLmNsb25lKCksdGhpcy5kZXB0aEJ1ZmZlcj1lLmRlcHRoQnVmZmVyLHRoaXMuc3RlbmNpbEJ1ZmZlcj1lLnN0ZW5jaWxCdWZmZXIsdGhpcy5kZXB0aFRleHR1cmU9ZS5kZXB0aFRleHR1cmUsdGhpc30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImRpc3Bvc2VcIn0pfX0pLGwucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmwsaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0OiEwLGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGMucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuc2FtcGxlcz1lLnNhbXBsZXMsdGhpc319KTt2YXIgdmw9bmV3IGksZ2w9bmV3IGgseWw9bmV3IGkoMCwwLDApLHhsPW5ldyBpKDEsMSwxKSxibD1uZXcgaSx3bD1uZXcgaSxfbD1uZXcgaTtPYmplY3QuYXNzaWduKGgucHJvdG90eXBlLHtpc01hdHJpeDQ6ITAsc2V0OmZ1bmN0aW9uKGUsdCxuLHIsaSxhLG8scyxjLGwsaCx1LHAsZCxmLG0pe3ZhciB2PXRoaXMuZWxlbWVudHM7cmV0dXJuIHZbMF09ZSx2WzRdPXQsdls4XT1uLHZbMTJdPXIsdlsxXT1pLHZbNV09YSx2WzldPW8sdlsxM109cyx2WzJdPWMsdls2XT1sLHZbMTBdPWgsdlsxNF09dSx2WzNdPXAsdls3XT1kLHZbMTFdPWYsdlsxNV09bSx0aGlzfSxpZGVudGl0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgaCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfSxjb3B5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudHMsbj1lLmVsZW1lbnRzO3JldHVybiB0WzBdPW5bMF0sdFsxXT1uWzFdLHRbMl09blsyXSx0WzNdPW5bM10sdFs0XT1uWzRdLHRbNV09bls1XSx0WzZdPW5bNl0sdFs3XT1uWzddLHRbOF09bls4XSx0WzldPW5bOV0sdFsxMF09blsxMF0sdFsxMV09blsxMV0sdFsxMl09blsxMl0sdFsxM109blsxM10sdFsxNF09blsxNF0sdFsxNV09blsxNV0sdGhpc30sY29weVBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudHMsbj1lLmVsZW1lbnRzO3JldHVybiB0WzEyXT1uWzEyXSx0WzEzXT1uWzEzXSx0WzE0XT1uWzE0XSx0aGlzfSxleHRyYWN0QmFzaXM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywwKSx0LnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywxKSxuLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywyKSx0aGlzfSxtYWtlQmFzaXM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnNldChlLngsdC54LG4ueCwwLGUueSx0Lnksbi55LDAsZS56LHQueixuLnosMCwwLDAsMCwxKSx0aGlzfSxleHRyYWN0Um90YXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbGVtZW50cyxuPWUuZWxlbWVudHMscj0xL3ZsLnNldEZyb21NYXRyaXhDb2x1bW4oZSwwKS5sZW5ndGgoKSxpPTEvdmwuc2V0RnJvbU1hdHJpeENvbHVtbihlLDEpLmxlbmd0aCgpLGE9MS92bC5zZXRGcm9tTWF0cml4Q29sdW1uKGUsMikubGVuZ3RoKCk7cmV0dXJuIHRbMF09blswXSpyLHRbMV09blsxXSpyLHRbMl09blsyXSpyLHRbM109MCx0WzRdPW5bNF0qaSx0WzVdPW5bNV0qaSx0WzZdPW5bNl0qaSx0WzddPTAsdFs4XT1uWzhdKmEsdFs5XT1uWzldKmEsdFsxMF09blsxMF0qYSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdGhpc30sbWFrZVJvdGF0aW9uRnJvbUV1bGVyOmZ1bmN0aW9uKGUpe2UmJmUuaXNFdWxlcnx8Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuXCIpO3ZhciB0PXRoaXMuZWxlbWVudHMsbj1lLngscj1lLnksaT1lLnosYT1NYXRoLmNvcyhuKSxvPU1hdGguc2luKG4pLHM9TWF0aC5jb3MociksYz1NYXRoLnNpbihyKSxsPU1hdGguY29zKGkpLGg9TWF0aC5zaW4oaSk7aWYoXCJYWVpcIj09PWUub3JkZXIpe3ZhciB1PWEqbCxwPWEqaCxkPW8qbCxmPW8qaDt0WzBdPXMqbCx0WzRdPS1zKmgsdFs4XT1jLHRbMV09cCtkKmMsdFs1XT11LWYqYyx0WzldPS1vKnMsdFsyXT1mLXUqYyx0WzZdPWQrcCpjLHRbMTBdPWEqc31lbHNlIGlmKFwiWVhaXCI9PT1lLm9yZGVyKXt2YXIgbT1zKmwsdj1zKmgsZz1jKmwseT1jKmg7dFswXT1tK3kqbyx0WzRdPWcqby12LHRbOF09YSpjLHRbMV09YSpoLHRbNV09YSpsLHRbOV09LW8sdFsyXT12Km8tZyx0WzZdPXkrbSpvLHRbMTBdPWEqc31lbHNlIGlmKFwiWlhZXCI9PT1lLm9yZGVyKXt2YXIgbT1zKmwsdj1zKmgsZz1jKmwseT1jKmg7dFswXT1tLXkqbyx0WzRdPS1hKmgsdFs4XT1nK3Yqbyx0WzFdPXYrZypvLHRbNV09YSpsLHRbOV09eS1tKm8sdFsyXT0tYSpjLHRbNl09byx0WzEwXT1hKnN9ZWxzZSBpZihcIlpZWFwiPT09ZS5vcmRlcil7dmFyIHU9YSpsLHA9YSpoLGQ9bypsLGY9bypoXG47dFswXT1zKmwsdFs0XT1kKmMtcCx0WzhdPXUqYytmLHRbMV09cypoLHRbNV09ZipjK3UsdFs5XT1wKmMtZCx0WzJdPS1jLHRbNl09bypzLHRbMTBdPWEqc31lbHNlIGlmKFwiWVpYXCI9PT1lLm9yZGVyKXt2YXIgeD1hKnMsYj1hKmMsdz1vKnMsXz1vKmM7dFswXT1zKmwsdFs0XT1fLXgqaCx0WzhdPXcqaCtiLHRbMV09aCx0WzVdPWEqbCx0WzldPS1vKmwsdFsyXT0tYypsLHRbNl09YipoK3csdFsxMF09eC1fKmh9ZWxzZSBpZihcIlhaWVwiPT09ZS5vcmRlcil7dmFyIHg9YSpzLGI9YSpjLHc9bypzLF89bypjO3RbMF09cypsLHRbNF09LWgsdFs4XT1jKmwsdFsxXT14KmgrXyx0WzVdPWEqbCx0WzldPWIqaC13LHRbMl09dypoLWIsdFs2XT1vKmwsdFsxMF09XypoK3h9cmV0dXJuIHRbM109MCx0WzddPTAsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHRoaXN9LG1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvc2UoeWwsZSx4bCl9LGxvb2tBdDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5lbGVtZW50cztyZXR1cm4gX2wuc3ViVmVjdG9ycyhlLHQpLDA9PT1fbC5sZW5ndGhTcSgpJiYoX2wuej0xKSxfbC5ub3JtYWxpemUoKSxibC5jcm9zc1ZlY3RvcnMobixfbCksMD09PWJsLmxlbmd0aFNxKCkmJigxPT09TWF0aC5hYnMobi56KT9fbC54Kz0xZS00Ol9sLnorPTFlLTQsX2wubm9ybWFsaXplKCksYmwuY3Jvc3NWZWN0b3JzKG4sX2wpKSxibC5ub3JtYWxpemUoKSx3bC5jcm9zc1ZlY3RvcnMoX2wsYmwpLHJbMF09YmwueCxyWzRdPXdsLngscls4XT1fbC54LHJbMV09YmwueSxyWzVdPXdsLnkscls5XT1fbC55LHJbMl09YmwueixyWzZdPXdsLnosclsxMF09X2wueix0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10Pyhjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseU1hdHJpY2VzKGUsdCkpOnRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLGUpfSxwcmVtdWx0aXBseTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKGUsdGhpcyl9LG11bHRpcGx5TWF0cmljZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmVsZW1lbnRzLHI9dC5lbGVtZW50cyxpPXRoaXMuZWxlbWVudHMsYT1uWzBdLG89bls0XSxzPW5bOF0sYz1uWzEyXSxsPW5bMV0saD1uWzVdLHU9bls5XSxwPW5bMTNdLGQ9blsyXSxmPW5bNl0sbT1uWzEwXSx2PW5bMTRdLGc9blszXSx5PW5bN10seD1uWzExXSxiPW5bMTVdLHc9clswXSxfPXJbNF0sTT1yWzhdLFM9clsxMl0sVD1yWzFdLEU9cls1XSxBPXJbOV0sTD1yWzEzXSxSPXJbMl0sUD1yWzZdLEM9clsxMF0sTz1yWzE0XSxEPXJbM10sST1yWzddLE49clsxMV0sej1yWzE1XTtyZXR1cm4gaVswXT1hKncrbypUK3MqUitjKkQsaVs0XT1hKl8rbypFK3MqUCtjKkksaVs4XT1hKk0rbypBK3MqQytjKk4saVsxMl09YSpTK28qTCtzKk8rYyp6LGlbMV09bCp3K2gqVCt1KlIrcCpELGlbNV09bCpfK2gqRSt1KlArcCpJLGlbOV09bCpNK2gqQSt1KkMrcCpOLGlbMTNdPWwqUytoKkwrdSpPK3AqeixpWzJdPWQqdytmKlQrbSpSK3YqRCxpWzZdPWQqXytmKkUrbSpQK3YqSSxpWzEwXT1kKk0rZipBK20qQyt2Kk4saVsxNF09ZCpTK2YqTCttKk8rdip6LGlbM109Zyp3K3kqVCt4KlIrYipELGlbN109ZypfK3kqRSt4KlArYipJLGlbMTFdPWcqTSt5KkEreCpDK2IqTixpWzE1XT1nKlMreSpMK3gqTytiKnosdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbGVtZW50cztyZXR1cm4gdFswXSo9ZSx0WzRdKj1lLHRbOF0qPWUsdFsxMl0qPWUsdFsxXSo9ZSx0WzVdKj1lLHRbOV0qPWUsdFsxM10qPWUsdFsyXSo9ZSx0WzZdKj1lLHRbMTBdKj1lLHRbMTRdKj1lLHRbM10qPWUsdFs3XSo9ZSx0WzExXSo9ZSx0WzE1XSo9ZSx0aGlzfSxhcHBseVRvQnVmZmVyQXR0cmlidXRlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZS5jb3VudDt0PG47dCsrKXZsLng9ZS5nZXRYKHQpLHZsLnk9ZS5nZXRZKHQpLHZsLno9ZS5nZXRaKHQpLHZsLmFwcGx5TWF0cml4NCh0aGlzKSxlLnNldFhZWih0LHZsLngsdmwueSx2bC56KTtyZXR1cm4gZX0sZGV0ZXJtaW5hbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSxuPWVbNF0scj1lWzhdLGk9ZVsxMl0sYT1lWzFdLG89ZVs1XSxzPWVbOV0sYz1lWzEzXSxsPWVbMl0saD1lWzZdLHU9ZVsxMF0scD1lWzE0XTtyZXR1cm4gZVszXSooK2kqcypoLXIqYypoLWkqbyp1K24qYyp1K3IqbypwLW4qcypwKStlWzddKigrdCpzKnAtdCpjKnUraSphKnUtciphKnArcipjKmwtaSpzKmwpK2VbMTFdKigrdCpjKmgtdCpvKnAtaSphKmgrbiphKnAraSpvKmwtbipjKmwpK2VbMTVdKigtcipvKmwtdCpzKmgrdCpvKnUrciphKmgtbiphKnUrbipzKmwpfSx0cmFuc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWxlbWVudHM7cmV0dXJuIGU9dFsxXSx0WzFdPXRbNF0sdFs0XT1lLGU9dFsyXSx0WzJdPXRbOF0sdFs4XT1lLGU9dFs2XSx0WzZdPXRbOV0sdFs5XT1lLGU9dFszXSx0WzNdPXRbMTJdLHRbMTJdPWUsZT10WzddLHRbN109dFsxM10sdFsxM109ZSxlPXRbMTFdLHRbMTFdPXRbMTRdLHRbMTRdPWUsdGhpc30sc2V0UG9zaXRpb246ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZWxlbWVudHM7cmV0dXJuIGUuaXNWZWN0b3IzPyhyWzEyXT1lLngsclsxM109ZS55LHJbMTRdPWUueik6KHJbMTJdPWUsclsxM109dCxyWzE0XT1uKSx0aGlzfSxnZXRJbnZlcnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lbGVtZW50cyxyPWUuZWxlbWVudHMsaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLGM9cls0XSxsPXJbNV0saD1yWzZdLHU9cls3XSxwPXJbOF0sZD1yWzldLGY9clsxMF0sbT1yWzExXSx2PXJbMTJdLGc9clsxM10seT1yWzE0XSx4PXJbMTVdLGI9ZCp5KnUtZypmKnUrZypoKm0tbCp5Km0tZCpoKngrbCpmKngsdz12KmYqdS1wKnkqdS12KmgqbStjKnkqbStwKmgqeC1jKmYqeCxfPXAqZyp1LXYqZCp1K3YqbCptLWMqZyptLXAqbCp4K2MqZCp4LE09dipkKmgtcCpnKmgtdipsKmYrYypnKmYrcCpsKnktYypkKnksUz1pKmIrYSp3K28qXytzKk07aWYoMD09PVMpe3ZhciBUPVwiVEhSRUUuTWF0cml4NDogLmdldEludmVyc2UoKSBjYW4ndCBpbnZlcnQgbWF0cml4LCBkZXRlcm1pbmFudCBpcyAwXCI7aWYoITA9PT10KXRocm93IG5ldyBFcnJvcihUKTtyZXR1cm4gY29uc29sZS53YXJuKFQpLHRoaXMuaWRlbnRpdHkoKX12YXIgRT0xL1M7cmV0dXJuIG5bMF09YipFLG5bMV09KGcqZipzLWQqeSpzLWcqbyptK2EqeSptK2Qqbyp4LWEqZip4KSpFLG5bMl09KGwqeSpzLWcqaCpzK2cqbyp1LWEqeSp1LWwqbyp4K2EqaCp4KSpFLG5bM109KGQqaCpzLWwqZipzLWQqbyp1K2EqZip1K2wqbyptLWEqaCptKSpFLG5bNF09dypFLG5bNV09KHAqeSpzLXYqZipzK3YqbyptLWkqeSptLXAqbyp4K2kqZip4KSpFLG5bNl09KHYqaCpzLWMqeSpzLXYqbyp1K2kqeSp1K2Mqbyp4LWkqaCp4KSpFLG5bN109KGMqZipzLXAqaCpzK3Aqbyp1LWkqZip1LWMqbyptK2kqaCptKSpFLG5bOF09XypFLG5bOV09KHYqZCpzLXAqZypzLXYqYSptK2kqZyptK3AqYSp4LWkqZCp4KSpFLG5bMTBdPShjKmcqcy12Kmwqcyt2KmEqdS1pKmcqdS1jKmEqeCtpKmwqeCkqRSxuWzExXT0ocCpsKnMtYypkKnMtcCphKnUraSpkKnUrYyphKm0taSpsKm0pKkUsblsxMl09TSpFLG5bMTNdPShwKmcqby12KmQqbyt2KmEqZi1pKmcqZi1wKmEqeStpKmQqeSkqRSxuWzE0XT0odipsKm8tYypnKm8tdiphKmgraSpnKmgrYyphKnktaSpsKnkpKkUsblsxNV09KGMqZCpvLXAqbCpvK3AqYSpoLWkqZCpoLWMqYSpmK2kqbCpmKSpFLHRoaXN9LHNjYWxlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudHMsbj1lLngscj1lLnksaT1lLno7cmV0dXJuIHRbMF0qPW4sdFs0XSo9cix0WzhdKj1pLHRbMV0qPW4sdFs1XSo9cix0WzldKj1pLHRbMl0qPW4sdFs2XSo9cix0WzEwXSo9aSx0WzNdKj1uLHRbN10qPXIsdFsxMV0qPWksdGhpc30sZ2V0TWF4U2NhbGVPbkF4aXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRzLHQ9ZVswXSplWzBdK2VbMV0qZVsxXStlWzJdKmVbMl0sbj1lWzRdKmVbNF0rZVs1XSplWzVdK2VbNl0qZVs2XSxyPWVbOF0qZVs4XStlWzldKmVbOV0rZVsxMF0qZVsxMF07cmV0dXJuIE1hdGguc3FydChNYXRoLm1heCh0LG4scikpfSxtYWtlVHJhbnNsYXRpb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnNldCgxLDAsMCxlLDAsMSwwLHQsMCwwLDEsbiwwLDAsMCwxKSx0aGlzfSxtYWtlUm90YXRpb25YOmZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCx0LC1uLDAsMCxuLHQsMCwwLDAsMCwxKSx0aGlzfSxtYWtlUm90YXRpb25ZOmZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHRoaXMuc2V0KHQsMCxuLDAsMCwxLDAsMCwtbiwwLHQsMCwwLDAsMCwxKSx0aGlzfSxtYWtlUm90YXRpb25aOmZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSk7cmV0dXJuIHRoaXMuc2V0KHQsLW4sMCwwLG4sdCwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfSxtYWtlUm90YXRpb25BeGlzOmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KSxpPTEtbixhPWUueCxvPWUueSxzPWUueixjPWkqYSxsPWkqbztyZXR1cm4gdGhpcy5zZXQoYyphK24sYypvLXIqcyxjKnMrcipvLDAsYypvK3IqcyxsKm8rbixsKnMtciphLDAsYypzLXIqbyxsKnMrciphLGkqcypzK24sMCwwLDAsMCwxKSx0aGlzfSxtYWtlU2NhbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnNldChlLDAsMCwwLDAsdCwwLDAsMCwwLG4sMCwwLDAsMCwxKSx0aGlzfSxtYWtlU2hlYXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnNldCgxLHQsbiwwLGUsMSxuLDAsZSx0LDEsMCwwLDAsMCwxKSx0aGlzfSxjb21wb3NlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmVsZW1lbnRzLGk9dC5feCxhPXQuX3ksbz10Ll96LHM9dC5fdyxjPWkraSxsPWErYSxoPW8rbyx1PWkqYyxwPWkqbCxkPWkqaCxmPWEqbCxtPWEqaCx2PW8qaCxnPXMqYyx5PXMqbCx4PXMqaCxiPW4ueCx3PW4ueSxfPW4uejtyZXR1cm4gclswXT0oMS0oZit2KSkqYixyWzFdPShwK3gpKmIsclsyXT0oZC15KSpiLHJbM109MCxyWzRdPShwLXgpKncscls1XT0oMS0odSt2KSkqdyxyWzZdPShtK2cpKncscls3XT0wLHJbOF09KGQreSkqXyxyWzldPShtLWcpKl8sclsxMF09KDEtKHUrZikpKl8sclsxMV09MCxyWzEyXT1lLngsclsxM109ZS55LHJbMTRdPWUueixyWzE1XT0xLHRoaXN9LGRlY29tcG9zZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5lbGVtZW50cyxpPXZsLnNldChyWzBdLHJbMV0sclsyXSkubGVuZ3RoKCksYT12bC5zZXQocls0XSxyWzVdLHJbNl0pLmxlbmd0aCgpLG89dmwuc2V0KHJbOF0scls5XSxyWzEwXSkubGVuZ3RoKCk7dGhpcy5kZXRlcm1pbmFudCgpPDAmJihpPS1pKSxlLng9clsxMl0sZS55PXJbMTNdLGUuej1yWzE0XSxnbC5jb3B5KHRoaXMpO3ZhciBzPTEvaSxjPTEvYSxsPTEvbztyZXR1cm4gZ2wuZWxlbWVudHNbMF0qPXMsZ2wuZWxlbWVudHNbMV0qPXMsZ2wuZWxlbWVudHNbMl0qPXMsZ2wuZWxlbWVudHNbNF0qPWMsZ2wuZWxlbWVudHNbNV0qPWMsZ2wuZWxlbWVudHNbNl0qPWMsZ2wuZWxlbWVudHNbOF0qPWwsZ2wuZWxlbWVudHNbOV0qPWwsZ2wuZWxlbWVudHNbMTBdKj1sLHQuc2V0RnJvbVJvdGF0aW9uTWF0cml4KGdsKSxuLng9aSxuLnk9YSxuLno9byx0aGlzfSxtYWtlUGVyc3BlY3RpdmU6ZnVuY3Rpb24oZSx0LG4scixpLGEpe3ZvaWQgMD09PWEmJmNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tYWtlUGVyc3BlY3RpdmUoKSBoYXMgYmVlbiByZWRlZmluZWQgYW5kIGhhcyBhIG5ldyBzaWduYXR1cmUuIFBsZWFzZSBjaGVjayB0aGUgZG9jcy5cIik7dmFyIG89dGhpcy5lbGVtZW50cyxzPTIqaS8odC1lKSxjPTIqaS8obi1yKSxsPSh0K2UpLyh0LWUpLGg9KG4rcikvKG4tciksdT0tKGEraSkvKGEtaSkscD0tMiphKmkvKGEtaSk7cmV0dXJuIG9bMF09cyxvWzRdPTAsb1s4XT1sLG9bMTJdPTAsb1sxXT0wLG9bNV09YyxvWzldPWgsb1sxM109MCxvWzJdPTAsb1s2XT0wLG9bMTBdPXUsb1sxNF09cCxvWzNdPTAsb1s3XT0wLG9bMTFdPS0xLG9bMTVdPTAsdGhpc30sbWFrZU9ydGhvZ3JhcGhpYzpmdW5jdGlvbihlLHQsbixyLGksYSl7dmFyIG89dGhpcy5lbGVtZW50cyxzPTEvKHQtZSksYz0xLyhuLXIpLGw9MS8oYS1pKSxoPSh0K2UpKnMsdT0obityKSpjLHA9KGEraSkqbDtyZXR1cm4gb1swXT0yKnMsb1s0XT0wLG9bOF09MCxvWzEyXT0taCxvWzFdPTAsb1s1XT0yKmMsb1s5XT0wLG9bMTNdPS11LG9bMl09MCxvWzZdPTAsb1sxMF09LTIqbCxvWzE0XT0tcCxvWzNdPTAsb1s3XT0wLG9bMTFdPTAsb1sxNV09MSx0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZWxlbWVudHMsbj1lLmVsZW1lbnRzLHI9MDtyPDE2O3IrKylpZih0W3JdIT09bltyXSlyZXR1cm4hMTtyZXR1cm4hMH0sZnJvbUFycmF5OmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9MCk7Zm9yKHZhciBuPTA7bjwxNjtuKyspdGhpcy5lbGVtZW50c1tuXT1lW24rdF07cmV0dXJuIHRoaXN9LHRvQXJyYXk6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09dCYmKHQ9MCk7dmFyIG49dGhpcy5lbGVtZW50cztyZXR1cm4gZVt0XT1uWzBdLGVbdCsxXT1uWzFdLGVbdCsyXT1uWzJdLGVbdCszXT1uWzNdLGVbdCs0XT1uWzRdLGVbdCs1XT1uWzVdLGVbdCs2XT1uWzZdLGVbdCs3XT1uWzddLGVbdCs4XT1uWzhdLGVbdCs5XT1uWzldLGVbdCsxMF09blsxMF0sZVt0KzExXT1uWzExXSxlW3QrMTJdPW5bMTJdLGVbdCsxM109blsxM10sZVt0KzE0XT1uWzE0XSxlW3QrMTVdPW5bMTVdLGV9fSk7dmFyIE1sPW5ldyBoLFNsPW5ldyByO3UuUm90YXRpb25PcmRlcnM9W1wiWFlaXCIsXCJZWlhcIixcIlpYWVwiLFwiWFpZXCIsXCJZWFpcIixcIlpZWFwiXSx1LkRlZmF1bHRPcmRlcj1cIlhZWlwiLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHUucHJvdG90eXBlLHt4OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3g9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3k9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx6OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3o9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSxvcmRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yZGVyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3JkZXI9ZSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fX0pLE9iamVjdC5hc3NpZ24odS5wcm90b3R5cGUse2lzRXVsZXI6ITAsc2V0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9bix0aGlzLl9vcmRlcj1yfHx0aGlzLl9vcmRlcix0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fb3JkZXIpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94PWUuX3gsdGhpcy5feT1lLl95LHRoaXMuX3o9ZS5feix0aGlzLl9vcmRlcj1lLl9vcmRlcix0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sc2V0RnJvbVJvdGF0aW9uTWF0cml4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1sbC5jbGFtcCxpPWUuZWxlbWVudHMsYT1pWzBdLG89aVs0XSxzPWlbOF0sYz1pWzFdLGw9aVs1XSxoPWlbOV0sdT1pWzJdLHA9aVs2XSxkPWlbMTBdO3JldHVybiB0PXR8fHRoaXMuX29yZGVyLFwiWFlaXCI9PT10Pyh0aGlzLl95PU1hdGguYXNpbihyKHMsLTEsMSkpLE1hdGguYWJzKHMpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoLWgsZCksdGhpcy5fej1NYXRoLmF0YW4yKC1vLGEpKToodGhpcy5feD1NYXRoLmF0YW4yKHAsbCksdGhpcy5fej0wKSk6XCJZWFpcIj09PXQ/KHRoaXMuX3g9TWF0aC5hc2luKC1yKGgsLTEsMSkpLE1hdGguYWJzKGgpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIocyxkKSx0aGlzLl96PU1hdGguYXRhbjIoYyxsKSk6KHRoaXMuX3k9TWF0aC5hdGFuMigtdSxhKSx0aGlzLl96PTApKTpcIlpYWVwiPT09dD8odGhpcy5feD1NYXRoLmFzaW4ocihwLC0xLDEpKSxNYXRoLmFicyhwKTwuOTk5OTk5OT8odGhpcy5feT1NYXRoLmF0YW4yKC11LGQpLHRoaXMuX3o9TWF0aC5hdGFuMigtbyxsKSk6KHRoaXMuX3k9MCx0aGlzLl96PU1hdGguYXRhbjIoYyxhKSkpOlwiWllYXCI9PT10Pyh0aGlzLl95PU1hdGguYXNpbigtcih1LC0xLDEpKSxNYXRoLmFicyh1KTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKHAsZCksdGhpcy5fej1NYXRoLmF0YW4yKGMsYSkpOih0aGlzLl94PTAsdGhpcy5fej1NYXRoLmF0YW4yKC1vLGwpKSk6XCJZWlhcIj09PXQ/KHRoaXMuX3o9TWF0aC5hc2luKHIoYywtMSwxKSksTWF0aC5hYnMoYyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtaCxsKSx0aGlzLl95PU1hdGguYXRhbjIoLXUsYSkpOih0aGlzLl94PTAsdGhpcy5feT1NYXRoLmF0YW4yKHMsZCkpKTpcIlhaWVwiPT09dD8odGhpcy5fej1NYXRoLmFzaW4oLXIobywtMSwxKSksTWF0aC5hYnMobyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMihwLGwpLHRoaXMuX3k9TWF0aC5hdGFuMihzLGEpKToodGhpcy5feD1NYXRoLmF0YW4yKC1oLGQpLHRoaXMuX3k9MCkpOmNvbnNvbGUud2FybihcIlRIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZ2l2ZW4gdW5zdXBwb3J0ZWQgb3JkZXI6IFwiK3QpLHRoaXMuX29yZGVyPXQsITEhPT1uJiZ0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sc2V0RnJvbVF1YXRlcm5pb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBNbC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKSx0aGlzLnNldEZyb21Sb3RhdGlvbk1hdHJpeChNbCx0LG4pfSxzZXRGcm9tVmVjdG9yMzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldChlLngsZS55LGUueix0fHx0aGlzLl9vcmRlcil9LHJlb3JkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIFNsLnNldEZyb21FdWxlcih0aGlzKSx0aGlzLnNldEZyb21RdWF0ZXJuaW9uKFNsLGUpfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX3g9PT10aGlzLl94JiZlLl95PT09dGhpcy5feSYmZS5fej09PXRoaXMuX3omJmUuX29yZGVyPT09dGhpcy5fb3JkZXJ9LGZyb21BcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5feD1lWzBdLHRoaXMuX3k9ZVsxXSx0aGlzLl96PWVbMl0sdm9pZCAwIT09ZVszXSYmKHRoaXMuX29yZGVyPWVbM10pLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD0wKSxlW3RdPXRoaXMuX3gsZVt0KzFdPXRoaXMuX3ksZVt0KzJdPXRoaXMuX3osZVt0KzNdPXRoaXMuX29yZGVyLGV9LHRvVmVjdG9yMzpmdW5jdGlvbihlKXtyZXR1cm4gZT9lLnNldCh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik6bmV3IGkodGhpcy5feCx0aGlzLl95LHRoaXMuX3opfSxfb25DaGFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9ZSx0aGlzfSxfb25DaGFuZ2VDYWxsYmFjazpmdW5jdGlvbigpe319KSxPYmplY3QuYXNzaWduKHAucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5tYXNrPTE8PGV8MH0sZW5hYmxlOmZ1bmN0aW9uKGUpe3RoaXMubWFza3w9MTw8ZXwwfSxlbmFibGVBbGw6ZnVuY3Rpb24oKXt0aGlzLm1hc2s9LTF9LHRvZ2dsZTpmdW5jdGlvbihlKXt0aGlzLm1hc2tePTE8PGV8MH0sZGlzYWJsZTpmdW5jdGlvbihlKXt0aGlzLm1hc2smPX4oMTw8ZXwwKX0sZGlzYWJsZUFsbDpmdW5jdGlvbigpe3RoaXMubWFzaz0wfSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiAwIT0odGhpcy5tYXNrJmUubWFzayl9fSk7dmFyIFRsPTAsRWw9bmV3IGksQWw9bmV3IHIsTGw9bmV3IGgsUmw9bmV3IGksUGw9bmV3IGksQ2w9bmV3IGksT2w9bmV3IHIsRGw9bmV3IGkoMSwwLDApLElsPW5ldyBpKDAsMSwwKSxObD1uZXcgaSgwLDAsMSksemw9e3R5cGU6XCJhZGRlZFwifSxCbD17dHlwZTpcInJlbW92ZWRcIn07ZC5EZWZhdWx0VXA9bmV3IGkoMCwxLDApLGQuRGVmYXVsdE1hdHJpeEF1dG9VcGRhdGU9ITAsZC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6ZCxpc09iamVjdDNEOiEwLG9uQmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7fSxvbkFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7fSxhcHBseU1hdHJpeDpmdW5jdGlvbihlKXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5tYXRyaXgucHJlbXVsdGlwbHkoZSksdGhpcy5tYXRyaXguZGVjb21wb3NlKHRoaXMucG9zaXRpb24sdGhpcy5xdWF0ZXJuaW9uLHRoaXMuc2NhbGUpfSxhcHBseVF1YXRlcm5pb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseShlKSx0aGlzfSxzZXRSb3RhdGlvbkZyb21BeGlzQW5nbGU6ZnVuY3Rpb24oZSx0KXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShlLHQpfSxzZXRSb3RhdGlvbkZyb21FdWxlcjpmdW5jdGlvbihlKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKGUsITApfSxzZXRSb3RhdGlvbkZyb21NYXRyaXg6ZnVuY3Rpb24oZSl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChlKX0sc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbjpmdW5jdGlvbihlKXt0aGlzLnF1YXRlcm5pb24uY29weShlKX0scm90YXRlT25BeGlzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFsLnNldEZyb21BeGlzQW5nbGUoZSx0KSx0aGlzLnF1YXRlcm5pb24ubXVsdGlwbHkoQWwpLHRoaXN9LHJvdGF0ZU9uV29ybGRBeGlzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFsLnNldEZyb21BeGlzQW5nbGUoZSx0KSx0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoQWwpLHRoaXN9LHJvdGF0ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKERsLGUpfSxyb3RhdGVZOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdGF0ZU9uQXhpcyhJbCxlKX0scm90YXRlWjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoTmwsZSl9LHRyYW5zbGF0ZU9uQXhpczpmdW5jdGlvbihlLHQpe3JldHVybiBFbC5jb3B5KGUpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pLHRoaXMucG9zaXRpb24uYWRkKEVsLm11bHRpcGx5U2NhbGFyKHQpKSx0aGlzfSx0cmFuc2xhdGVYOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhEbCxlKX0sdHJhbnNsYXRlWTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoSWwsZSl9LHRyYW5zbGF0ZVo6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKE5sLGUpfSxsb2NhbFRvV29ybGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpfSx3b3JsZFRvTG9jYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwbHlNYXRyaXg0KExsLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCkpfSxsb29rQXQ6ZnVuY3Rpb24oZSx0LG4pe2UuaXNWZWN0b3IzP1JsLmNvcHkoZSk6Umwuc2V0KGUsdCxuKTt2YXIgcj10aGlzLnBhcmVudDt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSxQbC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCksdGhpcy5pc0NhbWVyYXx8dGhpcy5pc0xpZ2h0P0xsLmxvb2tBdChQbCxSbCx0aGlzLnVwKTpMbC5sb29rQXQoUmwsUGwsdGhpcy51cCksdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChMbCksciYmKExsLmV4dHJhY3RSb3RhdGlvbihyLm1hdHJpeFdvcmxkKSxBbC5zZXRGcm9tUm90YXRpb25NYXRyaXgoTGwpLHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseShBbC5pbnZlcnNlKCkpKX0sYWRkOmZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl0aGlzLmFkZChhcmd1bWVudHNbdF0pO3JldHVybiB0aGlzfXJldHVybiBlPT09dGhpcz8oY29uc29sZS5lcnJvcihcIlRIUkVFLk9iamVjdDNELmFkZDogb2JqZWN0IGNhbid0IGJlIGFkZGVkIGFzIGEgY2hpbGQgb2YgaXRzZWxmLlwiLGUpLHRoaXMpOihlJiZlLmlzT2JqZWN0M0Q/KG51bGwhPT1lLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlKGUpLGUucGFyZW50PXRoaXMsdGhpcy5jaGlsZHJlbi5wdXNoKGUpLGUuZGlzcGF0Y2hFdmVudCh6bCkpOmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuT2JqZWN0M0QuXCIsZSksdGhpcyl9LHJlbW92ZTpmdW5jdGlvbihlKXtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2Zvcih2YXIgdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspdGhpcy5yZW1vdmUoYXJndW1lbnRzW3RdKTtyZXR1cm4gdGhpc312YXIgbj10aGlzLmNoaWxkcmVuLmluZGV4T2YoZSk7cmV0dXJuLTEhPT1uJiYoZS5wYXJlbnQ9bnVsbCx0aGlzLmNoaWxkcmVuLnNwbGljZShuLDEpLGUuZGlzcGF0Y2hFdmVudChCbCkpLHRoaXN9LGF0dGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksTGwuZ2V0SW52ZXJzZSh0aGlzLm1hdHJpeFdvcmxkKSxudWxsIT09ZS5wYXJlbnQmJihlLnBhcmVudC51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksTGwubXVsdGlwbHkoZS5wYXJlbnQubWF0cml4V29ybGQpKSxlLmFwcGx5TWF0cml4KExsKSxlLnVwZGF0ZVdvcmxkTWF0cml4KCExLCExKSx0aGlzLmFkZChlKSx0aGlzfSxnZXRPYmplY3RCeUlkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE9iamVjdEJ5UHJvcGVydHkoXCJpZFwiLGUpfSxnZXRPYmplY3RCeU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eShcIm5hbWVcIixlKX0sZ2V0T2JqZWN0QnlQcm9wZXJ0eTpmdW5jdGlvbihlLHQpe2lmKHRoaXNbZV09PT10KXJldHVybiB0aGlzO2Zvcih2YXIgbj0wLHI9dGhpcy5jaGlsZHJlbi5sZW5ndGg7bjxyO24rKyl7dmFyIGk9dGhpcy5jaGlsZHJlbltuXSxhPWkuZ2V0T2JqZWN0QnlQcm9wZXJ0eShlLHQpO2lmKHZvaWQgMCE9PWEpcmV0dXJuIGF9fSxnZXRXb3JsZFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZFBvc2l0aW9uKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBpKSx0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSxlLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKX0sZ2V0V29ybGRRdWF0ZXJuaW9uOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZFF1YXRlcm5pb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IHIpLHRoaXMudXBkYXRlTWF0cml4V29ybGQoITApLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKFBsLGUsQ2wpLGV9LGdldFdvcmxkU2NhbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkU2NhbGUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IGkpLHRoaXMudXBkYXRlTWF0cml4V29ybGQoITApLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKFBsLE9sLGUpLGV9LGdldFdvcmxkRGlyZWN0aW9uOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkRGlyZWN0aW9uKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBpKSx0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTt2YXIgdD10aGlzLm1hdHJpeFdvcmxkLmVsZW1lbnRzO3JldHVybiBlLnNldCh0WzhdLHRbOV0sdFsxMF0pLm5vcm1hbGl6ZSgpfSxyYXljYXN0OmZ1bmN0aW9uKCl7fSx0cmF2ZXJzZTpmdW5jdGlvbihlKXtlKHRoaXMpO2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLG49MCxyPXQubGVuZ3RoO248cjtuKyspdFtuXS50cmF2ZXJzZShlKX0sdHJhdmVyc2VWaXNpYmxlOmZ1bmN0aW9uKGUpe2lmKCExIT09dGhpcy52aXNpYmxlKXtlKHRoaXMpO2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLG49MCxyPXQubGVuZ3RoO248cjtuKyspdFtuXS50cmF2ZXJzZVZpc2libGUoZSl9fSx0cmF2ZXJzZUFuY2VzdG9yczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcmVudDtudWxsIT09dCYmKGUodCksdC50cmF2ZXJzZUFuY2VzdG9ycyhlKSl9LHVwZGF0ZU1hdHJpeDpmdW5jdGlvbigpe3RoaXMubWF0cml4LmNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbihlKXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZXx8ZSkmJihudWxsPT09dGhpcy5wYXJlbnQ/dGhpcy5tYXRyaXhXb3JsZC5jb3B5KHRoaXMubWF0cml4KTp0aGlzLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5wYXJlbnQubWF0cml4V29ybGQsdGhpcy5tYXRyaXgpLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMSxlPSEwKTtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbixuPTAscj10Lmxlbmd0aDtuPHI7bisrKXRbbl0udXBkYXRlTWF0cml4V29ybGQoZSl9LHVwZGF0ZVdvcmxkTWF0cml4OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5wYXJlbnQ7aWYoITA9PT1lJiZudWxsIT09biYmbi51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLG51bGw9PT10aGlzLnBhcmVudD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksITA9PT10KWZvcih2YXIgcj10aGlzLmNoaWxkcmVuLGk9MCxhPXIubGVuZ3RoO2k8YTtpKyspcltpXS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMCl9LHRvSlNPTjpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIHZvaWQgMD09PXRbbi51dWlkXSYmKHRbbi51dWlkXT1uLnRvSlNPTihlKSksbi51dWlkfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl07ZGVsZXRlIHIubWV0YWRhdGEsdC5wdXNoKHIpfXJldHVybiB0fXZhciByPXZvaWQgMD09PWV8fFwic3RyaW5nXCI9PXR5cGVvZiBlLGk9e307ciYmKGU9e2dlb21ldHJpZXM6e30sbWF0ZXJpYWxzOnt9LHRleHR1cmVzOnt9LGltYWdlczp7fSxzaGFwZXM6e319LGkubWV0YWRhdGE9e3ZlcnNpb246NC41LHR5cGU6XCJPYmplY3RcIixnZW5lcmF0b3I6XCJPYmplY3QzRC50b0pTT05cIn0pO3ZhciBhPXt9O2lmKGEudXVpZD10aGlzLnV1aWQsYS50eXBlPXRoaXMudHlwZSxcIlwiIT09dGhpcy5uYW1lJiYoYS5uYW1lPXRoaXMubmFtZSksITA9PT10aGlzLmNhc3RTaGFkb3cmJihhLmNhc3RTaGFkb3c9ITApLCEwPT09dGhpcy5yZWNlaXZlU2hhZG93JiYoYS5yZWNlaXZlU2hhZG93PSEwKSwhMT09PXRoaXMudmlzaWJsZSYmKGEudmlzaWJsZT0hMSksITE9PT10aGlzLmZydXN0dW1DdWxsZWQmJihhLmZydXN0dW1DdWxsZWQ9ITEpLDAhPT10aGlzLnJlbmRlck9yZGVyJiYoYS5yZW5kZXJPcmRlcj10aGlzLnJlbmRlck9yZGVyKSxcInt9XCIhPT1KU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSYmKGEudXNlckRhdGE9dGhpcy51c2VyRGF0YSksYS5sYXllcnM9dGhpcy5sYXllcnMubWFzayxhLm1hdHJpeD10aGlzLm1hdHJpeC50b0FycmF5KCksITE9PT10aGlzLm1hdHJpeEF1dG9VcGRhdGUmJihhLm1hdHJpeEF1dG9VcGRhdGU9ITEpLHRoaXMuaXNJbnN0YW5jZWRNZXNoJiYoYS50eXBlPVwiSW5zdGFuY2VkTWVzaFwiLGEuY291bnQ9dGhpcy5jb3VudCxhLmluc3RhbmNlTWF0cml4PXRoaXMuaW5zdGFuY2VNYXRyaXgudG9KU09OKCkpLHRoaXMuaXNNZXNofHx0aGlzLmlzTGluZXx8dGhpcy5pc1BvaW50cyl7YS5nZW9tZXRyeT10KGUuZ2VvbWV0cmllcyx0aGlzLmdlb21ldHJ5KTt2YXIgbz10aGlzLmdlb21ldHJ5LnBhcmFtZXRlcnM7aWYodm9pZCAwIT09byYmdm9pZCAwIT09by5zaGFwZXMpe3ZhciBzPW8uc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkocykpZm9yKHZhciBjPTAsbD1zLmxlbmd0aDtjPGw7YysrKXt2YXIgaD1zW2NdO3QoZS5zaGFwZXMsaCl9ZWxzZSB0KGUuc2hhcGVzLHMpfX1pZih2b2lkIDAhPT10aGlzLm1hdGVyaWFsKWlmKEFycmF5LmlzQXJyYXkodGhpcy5tYXRlcmlhbCkpe2Zvcih2YXIgdT1bXSxjPTAsbD10aGlzLm1hdGVyaWFsLmxlbmd0aDtjPGw7YysrKXUucHVzaCh0KGUubWF0ZXJpYWxzLHRoaXMubWF0ZXJpYWxbY10pKTthLm1hdGVyaWFsPXV9ZWxzZSBhLm1hdGVyaWFsPXQoZS5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbCk7aWYodGhpcy5jaGlsZHJlbi5sZW5ndGg+MCl7YS5jaGlsZHJlbj1bXTtmb3IodmFyIGM9MDtjPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2MrKylhLmNoaWxkcmVuLnB1c2godGhpcy5jaGlsZHJlbltjXS50b0pTT04oZSkub2JqZWN0KX1pZihyKXt2YXIgcD1uKGUuZ2VvbWV0cmllcyksZD1uKGUubWF0ZXJpYWxzKSxmPW4oZS50ZXh0dXJlcyksbT1uKGUuaW1hZ2VzKSxzPW4oZS5zaGFwZXMpO3AubGVuZ3RoPjAmJihpLmdlb21ldHJpZXM9cCksZC5sZW5ndGg+MCYmKGkubWF0ZXJpYWxzPWQpLGYubGVuZ3RoPjAmJihpLnRleHR1cmVzPWYpLG0ubGVuZ3RoPjAmJihpLmltYWdlcz1tKSxzLmxlbmd0aD4wJiYoaS5zaGFwZXM9cyl9cmV0dXJuIGkub2JqZWN0PWEsaX0sY2xvbmU6ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMsZSl9LGNvcHk6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMCksdGhpcy5uYW1lPWUubmFtZSx0aGlzLnVwLmNvcHkoZS51cCksdGhpcy5wb3NpdGlvbi5jb3B5KGUucG9zaXRpb24pLHRoaXMucXVhdGVybmlvbi5jb3B5KGUucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KGUuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkoZS5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weShlLm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ZS5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT1lLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz1lLmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT1lLnZpc2libGUsdGhpcy5jYXN0U2hhZG93PWUuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9ZS5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD1lLmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj1lLnJlbmRlck9yZGVyLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLnVzZXJEYXRhKSksITA9PT10KWZvcih2YXIgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgcj1lLmNoaWxkcmVuW25dO3RoaXMuYWRkKHIuY2xvbmUoKSl9cmV0dXJuIHRoaXN9fSksZi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Zixpc1NjZW5lOiEwLGNvcHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSx0KSxudWxsIT09ZS5iYWNrZ3JvdW5kJiYodGhpcy5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZC5jbG9uZSgpKSxudWxsIT09ZS5mb2cmJih0aGlzLmZvZz1lLmZvZy5jbG9uZSgpKSxudWxsIT09ZS5vdmVycmlkZU1hdGVyaWFsJiYodGhpcy5vdmVycmlkZU1hdGVyaWFsPWUub3ZlcnJpZGVNYXRlcmlhbC5jbG9uZSgpKSx0aGlzLmF1dG9VcGRhdGU9ZS5hdXRvVXBkYXRlLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1lLm1hdHJpeEF1dG9VcGRhdGUsdGhpc30sdG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0PWQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSk7cmV0dXJuIG51bGwhPT10aGlzLmJhY2tncm91bmQmJih0Lm9iamVjdC5iYWNrZ3JvdW5kPXRoaXMuYmFja2dyb3VuZC50b0pTT04oZSkpLG51bGwhPT10aGlzLmZvZyYmKHQub2JqZWN0LmZvZz10aGlzLmZvZy50b0pTT04oKSksdH0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImRpc3Bvc2VcIn0pfX0pO3ZhciBVbD1bbmV3IGksbmV3IGksbmV3IGksbmV3IGksbmV3IGksbmV3IGksbmV3IGksbmV3IGldLEZsPW5ldyBpLEdsPW5ldyBtLEhsPW5ldyBpLFZsPW5ldyBpLGpsPW5ldyBpLGtsPW5ldyBpLFdsPW5ldyBpLHFsPW5ldyBpLFhsPW5ldyBpLFlsPW5ldyBpLFpsPW5ldyBpLEpsPW5ldyBpO09iamVjdC5hc3NpZ24obS5wcm90b3R5cGUse2lzQm94MzohMCxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5taW4uY29weShlKSx0aGlzLm1heC5jb3B5KHQpLHRoaXN9LHNldEZyb21BcnJheTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MS8wLG49MS8wLHI9MS8wLGk9LTEvMCxhPS0xLzAsbz0tMS8wLHM9MCxjPWUubGVuZ3RoO3M8YztzKz0zKXt2YXIgbD1lW3NdLGg9ZVtzKzFdLHU9ZVtzKzJdO2w8dCYmKHQ9bCksaDxuJiYobj1oKSx1PHImJihyPXUpLGw+aSYmKGk9bCksaD5hJiYoYT1oKSx1Pm8mJihvPXUpfXJldHVybiB0aGlzLm1pbi5zZXQodCxuLHIpLHRoaXMubWF4LnNldChpLGEsbyksdGhpc30sc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MS8wLG49MS8wLHI9MS8wLGk9LTEvMCxhPS0xLzAsbz0tMS8wLHM9MCxjPWUuY291bnQ7czxjO3MrKyl7dmFyIGw9ZS5nZXRYKHMpLGg9ZS5nZXRZKHMpLHU9ZS5nZXRaKHMpO2w8dCYmKHQ9bCksaDxuJiYobj1oKSx1PHImJihyPXUpLGw+aSYmKGk9bCksaD5hJiYoYT1oKSx1Pm8mJihvPXUpfXJldHVybiB0aGlzLm1pbi5zZXQodCxuLHIpLHRoaXMubWF4LnNldChpLGEsbyksdGhpc30sc2V0RnJvbVBvaW50czpmdW5jdGlvbihlKXt0aGlzLm1ha2VFbXB0eSgpO2Zvcih2YXIgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl0aGlzLmV4cGFuZEJ5UG9pbnQoZVt0XSk7cmV0dXJuIHRoaXN9LHNldEZyb21DZW50ZXJBbmRTaXplOmZ1bmN0aW9uKGUsdCl7dmFyIG49RmwuY29weSh0KS5tdWx0aXBseVNjYWxhciguNSk7cmV0dXJuIHRoaXMubWluLmNvcHkoZSkuc3ViKG4pLHRoaXMubWF4LmNvcHkoZSkuYWRkKG4pLHRoaXN9LHNldEZyb21PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFrZUVtcHR5KCksdGhpcy5leHBhbmRCeU9iamVjdChlKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWluLmNvcHkoZS5taW4pLHRoaXMubWF4LmNvcHkoZS5tYXgpLHRoaXN9LG1ha2VFbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1pbi54PXRoaXMubWluLnk9dGhpcy5taW4uej0xLzAsdGhpcy5tYXgueD10aGlzLm1heC55PXRoaXMubWF4Lno9LTEvMCx0aGlzfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55fHx0aGlzLm1heC56PHRoaXMubWluLnp9LGdldENlbnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IGkpLHRoaXMuaXNFbXB0eSgpP2Uuc2V0KDAsMCwwKTplLmFkZFZlY3RvcnModGhpcy5taW4sdGhpcy5tYXgpLm11bHRpcGx5U2NhbGFyKC41KX0sZ2V0U2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBpKSx0aGlzLmlzRW1wdHkoKT9lLnNldCgwLDAsMCk6ZS5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKX0sZXhwYW5kQnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4ubWluKGUpLHRoaXMubWF4Lm1heChlKSx0aGlzfSxleHBhbmRCeVZlY3RvcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4uc3ViKGUpLHRoaXMubWF4LmFkZChlKSx0aGlzfSxleHBhbmRCeVNjYWxhcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4uYWRkU2NhbGFyKC1lKSx0aGlzLm1heC5hZGRTY2FsYXIoZSksdGhpc30sZXhwYW5kQnlPYmplY3Q6ZnVuY3Rpb24oZSl7ZS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMSk7dmFyIHQ9ZS5nZW9tZXRyeTt2b2lkIDAhPT10JiYobnVsbD09PXQuYm91bmRpbmdCb3gmJnQuY29tcHV0ZUJvdW5kaW5nQm94KCksR2wuY29weSh0LmJvdW5kaW5nQm94KSxHbC5hcHBseU1hdHJpeDQoZS5tYXRyaXhXb3JsZCksdGhpcy5leHBhbmRCeVBvaW50KEdsLm1pbiksdGhpcy5leHBhbmRCeVBvaW50KEdsLm1heCkpO2Zvcih2YXIgbj1lLmNoaWxkcmVuLHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspdGhpcy5leHBhbmRCeU9iamVjdChuW3JdKTtyZXR1cm4gdGhpc30sY29udGFpbnNQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4hKGUueDx0aGlzLm1pbi54fHxlLng+dGhpcy5tYXgueHx8ZS55PHRoaXMubWluLnl8fGUueT50aGlzLm1heC55fHxlLno8dGhpcy5taW4uenx8ZS56PnRoaXMubWF4LnopfSxjb250YWluc0JveDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4ueDw9ZS5taW4ueCYmZS5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9ZS5taW4ueSYmZS5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9ZS5taW4ueiYmZS5tYXguejw9dGhpcy5tYXguen0sZ2V0UGFyYW1ldGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuZ2V0UGFyYW1ldGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBpKSx0LnNldCgoZS54LXRoaXMubWluLngpLyh0aGlzLm1heC54LXRoaXMubWluLngpLChlLnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSksKGUuei10aGlzLm1pbi56KS8odGhpcy5tYXguei10aGlzLm1pbi56KSl9LGludGVyc2VjdHNCb3g6ZnVuY3Rpb24oZSl7cmV0dXJuIShlLm1heC54PHRoaXMubWluLnh8fGUubWluLng+dGhpcy5tYXgueHx8ZS5tYXgueTx0aGlzLm1pbi55fHxlLm1pbi55PnRoaXMubWF4Lnl8fGUubWF4Lno8dGhpcy5taW4uenx8ZS5taW4uej50aGlzLm1heC56KX0saW50ZXJzZWN0c1NwaGVyZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbGFtcFBvaW50KGUuY2VudGVyLEZsKSxGbC5kaXN0YW5jZVRvU3F1YXJlZChlLmNlbnRlcik8PWUucmFkaXVzKmUucmFkaXVzfSxpbnRlcnNlY3RzUGxhbmU6ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gZS5ub3JtYWwueD4wPyh0PWUubm9ybWFsLngqdGhpcy5taW4ueCxuPWUubm9ybWFsLngqdGhpcy5tYXgueCk6KHQ9ZS5ub3JtYWwueCp0aGlzLm1heC54LG49ZS5ub3JtYWwueCp0aGlzLm1pbi54KSxlLm5vcm1hbC55PjA/KHQrPWUubm9ybWFsLnkqdGhpcy5taW4ueSxuKz1lLm5vcm1hbC55KnRoaXMubWF4LnkpOih0Kz1lLm5vcm1hbC55KnRoaXMubWF4Lnksbis9ZS5ub3JtYWwueSp0aGlzLm1pbi55KSxlLm5vcm1hbC56PjA/KHQrPWUubm9ybWFsLnoqdGhpcy5taW4ueixuKz1lLm5vcm1hbC56KnRoaXMubWF4LnopOih0Kz1lLm5vcm1hbC56KnRoaXMubWF4Lnosbis9ZS5ub3JtYWwueip0aGlzLm1pbi56KSx0PD0tZS5jb25zdGFudCYmbj49LWUuY29uc3RhbnR9LGludGVyc2VjdHNUcmlhbmdsZTpmdW5jdGlvbihlKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4hMTt0aGlzLmdldENlbnRlcihYbCksWWwuc3ViVmVjdG9ycyh0aGlzLm1heCxYbCksSGwuc3ViVmVjdG9ycyhlLmEsWGwpLFZsLnN1YlZlY3RvcnMoZS5iLFhsKSxqbC5zdWJWZWN0b3JzKGUuYyxYbCksa2wuc3ViVmVjdG9ycyhWbCxIbCksV2wuc3ViVmVjdG9ycyhqbCxWbCkscWwuc3ViVmVjdG9ycyhIbCxqbCk7dmFyIHQ9WzAsLWtsLnosa2wueSwwLC1XbC56LFdsLnksMCwtcWwueixxbC55LGtsLnosMCwta2wueCxXbC56LDAsLVdsLngscWwueiwwLC1xbC54LC1rbC55LGtsLngsMCwtV2wueSxXbC54LDAsLXFsLnkscWwueCwwXTtyZXR1cm4hIXYodCxIbCxWbCxqbCxZbCkmJih0PVsxLDAsMCwwLDEsMCwwLDAsMV0sISF2KHQsSGwsVmwsamwsWWwpJiYoWmwuY3Jvc3NWZWN0b3JzKGtsLFdsKSx0PVtabC54LFpsLnksWmwuel0sdih0LEhsLFZsLGpsLFlsKSkpfSxjbGFtcFBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksdD1uZXcgaSksdC5jb3B5KGUpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX0sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKGUpe3JldHVybiBGbC5jb3B5KGUpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KS5zdWIoZSkubGVuZ3RoKCl9LGdldEJvdW5kaW5nU3BoZXJlOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuQm94MzogLmdldEJvdW5kaW5nU3BoZXJlKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0aGlzLmdldENlbnRlcihlLmNlbnRlciksZS5yYWRpdXM9LjUqdGhpcy5nZXRTaXplKEZsKS5sZW5ndGgoKSxlfSxpbnRlcnNlY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWluLm1heChlLm1pbiksdGhpcy5tYXgubWluKGUubWF4KSx0aGlzLmlzRW1wdHkoKSYmdGhpcy5tYWtlRW1wdHkoKSx0aGlzfSx1bmlvbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4ubWluKGUubWluKSx0aGlzLm1heC5tYXgoZS5tYXgpLHRoaXN9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGhpczooVWxbMF0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQoZSksVWxbMV0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoZSksVWxbMl0uc2V0KHRoaXMubWluLngsdGhpcy5tYXgueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQoZSksVWxbM10uc2V0KHRoaXMubWluLngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoZSksVWxbNF0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQoZSksVWxbNV0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoZSksVWxbNl0uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQoZSksVWxbN10uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoZSksdGhpcy5zZXRGcm9tUG9pbnRzKFVsKSx0aGlzKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbi5hZGQoZSksdGhpcy5tYXguYWRkKGUpLHRoaXN9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5taW4uZXF1YWxzKHRoaXMubWluKSYmZS5tYXguZXF1YWxzKHRoaXMubWF4KX19KTt2YXIgUWw9bmV3IG07T2JqZWN0LmFzc2lnbihnLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY2VudGVyLmNvcHkoZSksdGhpcy5yYWRpdXM9dCx0aGlzfSxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jZW50ZXI7dm9pZCAwIT09dD9uLmNvcHkodCk6UWwuc2V0RnJvbVBvaW50cyhlKS5nZXRDZW50ZXIobik7Zm9yKHZhciByPTAsaT0wLGE9ZS5sZW5ndGg7aTxhO2krKylyPU1hdGgubWF4KHIsbi5kaXN0YW5jZVRvU3F1YXJlZChlW2ldKSk7cmV0dXJuIHRoaXMucmFkaXVzPU1hdGguc3FydChyKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpcy5yYWRpdXM9ZS5yYWRpdXMsdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYWRpdXM8PTB9LGNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD10aGlzLnJhZGl1cyp0aGlzLnJhZGl1c30sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzfSxpbnRlcnNlY3RzU3BoZXJlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmFkaXVzK2UucmFkaXVzO3JldHVybiBlLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcik8PXQqdH0saW50ZXJzZWN0c0JveDpmdW5jdGlvbihlKXtyZXR1cm4gZS5pbnRlcnNlY3RzU3BoZXJlKHRoaXMpfSxpbnRlcnNlY3RzUGxhbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGUuZGlzdGFuY2VUb1BvaW50KHRoaXMuY2VudGVyKSk8PXRoaXMucmFkaXVzfSxjbGFtcFBvaW50OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5TcGhlcmU6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBpKSx0LmNvcHkoZSksbj50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyYmKHQuc3ViKHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKSx0Lm11bHRpcGx5U2NhbGFyKHRoaXMucmFkaXVzKS5hZGQodGhpcy5jZW50ZXIpKSx0fSxnZXRCb3VuZGluZ0JveDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLlNwaGVyZTogLmdldEJvdW5kaW5nQm94KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBtKSxlLnNldCh0aGlzLmNlbnRlcix0aGlzLmNlbnRlciksZS5leHBhbmRCeVNjYWxhcih0aGlzLnJhZGl1cyksZX0sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQoZSksdGhpcy5yYWRpdXM9dGhpcy5yYWRpdXMqZS5nZXRNYXhTY2FsZU9uQXhpcygpLHRoaXN9LHRyYW5zbGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jZW50ZXIuYWRkKGUpLHRoaXN9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5jZW50ZXIuZXF1YWxzKHRoaXMuY2VudGVyKSYmZS5yYWRpdXM9PT10aGlzLnJhZGl1c319KTt2YXIgS2w9bmV3IGksJGw9bmV3IGksZWg9bmV3IGksdGg9bmV3IGksbmg9bmV3IGkscmg9bmV3IGksaWg9bmV3IGk7T2JqZWN0LmFzc2lnbih5LnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3JpZ2luLmNvcHkoZSksdGhpcy5kaXJlY3Rpb24uY29weSh0KSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weShlLm9yaWdpbiksdGhpcy5kaXJlY3Rpb24uY29weShlLmRpcmVjdGlvbiksdGhpc30sYXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBpKSx0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLm9yaWdpbil9LGxvb2tBdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb24uY29weShlKS5zdWIodGhpcy5vcmlnaW4pLm5vcm1hbGl6ZSgpLHRoaXN9LHJlY2FzdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weSh0aGlzLmF0KGUsS2wpKSx0aGlzfSxjbG9zZXN0UG9pbnRUb1BvaW50OmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IGkpLHQuc3ViVmVjdG9ycyhlLHRoaXMub3JpZ2luKTt2YXIgbj10LmRvdCh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIG48MD90LmNvcHkodGhpcy5vcmlnaW4pOnQuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIobikuYWRkKHRoaXMub3JpZ2luKX0sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxVG9Qb2ludChlKSl9LGRpc3RhbmNlU3FUb1BvaW50OmZ1bmN0aW9uKGUpe3ZhciB0PUtsLnN1YlZlY3RvcnMoZSx0aGlzLm9yaWdpbikuZG90KHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdDwwP3RoaXMub3JpZ2luLmRpc3RhbmNlVG9TcXVhcmVkKGUpOihLbC5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy5vcmlnaW4pLEtsLmRpc3RhbmNlVG9TcXVhcmVkKGUpKX0sZGlzdGFuY2VTcVRvU2VnbWVudDpmdW5jdGlvbihlLHQsbixyKXskbC5jb3B5KGUpLmFkZCh0KS5tdWx0aXBseVNjYWxhciguNSksZWguY29weSh0KS5zdWIoZSkubm9ybWFsaXplKCksdGguY29weSh0aGlzLm9yaWdpbikuc3ViKCRsKTt2YXIgaSxhLG8scyxjPS41KmUuZGlzdGFuY2VUbyh0KSxsPS10aGlzLmRpcmVjdGlvbi5kb3QoZWgpLGg9dGguZG90KHRoaXMuZGlyZWN0aW9uKSx1PS10aC5kb3QoZWgpLHA9dGgubGVuZ3RoU3EoKSxkPU1hdGguYWJzKDEtbCpsKTtpZihkPjApaWYoaT1sKnUtaCxhPWwqaC11LHM9YypkLGk+PTApaWYoYT49LXMpaWYoYTw9cyl7dmFyIGY9MS9kO2kqPWYsYSo9ZixvPWkqKGkrbCphKzIqaCkrYSoobCppK2ErMip1KStwfWVsc2UgYT1jLGk9TWF0aC5tYXgoMCwtKGwqYStoKSksbz0taSppK2EqKGErMip1KStwO2Vsc2UgYT0tYyxpPU1hdGgubWF4KDAsLShsKmEraCkpLG89LWkqaSthKihhKzIqdSkrcDtlbHNlIGE8PS1zPyhpPU1hdGgubWF4KDAsLSgtbCpjK2gpKSxhPWk+MD8tYzpNYXRoLm1pbihNYXRoLm1heCgtYywtdSksYyksbz0taSppK2EqKGErMip1KStwKTphPD1zPyhpPTAsYT1NYXRoLm1pbihNYXRoLm1heCgtYywtdSksYyksbz1hKihhKzIqdSkrcCk6KGk9TWF0aC5tYXgoMCwtKGwqYytoKSksYT1pPjA/YzpNYXRoLm1pbihNYXRoLm1heCgtYywtdSksYyksbz0taSppK2EqKGErMip1KStwKTtlbHNlIGE9bD4wPy1jOmMsaT1NYXRoLm1heCgwLC0obCphK2gpKSxvPS1pKmkrYSooYSsyKnUpK3A7cmV0dXJuIG4mJm4uY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoaSkuYWRkKHRoaXMub3JpZ2luKSxyJiZyLmNvcHkoZWgpLm11bHRpcGx5U2NhbGFyKGEpLmFkZCgkbCksb30saW50ZXJzZWN0U3BoZXJlOmZ1bmN0aW9uKGUsdCl7S2wuc3ViVmVjdG9ycyhlLmNlbnRlcix0aGlzLm9yaWdpbik7dmFyIG49S2wuZG90KHRoaXMuZGlyZWN0aW9uKSxyPUtsLmRvdChLbCktbipuLGk9ZS5yYWRpdXMqZS5yYWRpdXM7aWYocj5pKXJldHVybiBudWxsO3ZhciBhPU1hdGguc3FydChpLXIpLG89bi1hLHM9bithO3JldHVybiBvPDAmJnM8MD9udWxsOm88MD90aGlzLmF0KHMsdCk6dGhpcy5hdChvLHQpfSxpbnRlcnNlY3RzU3BoZXJlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpc3RhbmNlU3FUb1BvaW50KGUuY2VudGVyKTw9ZS5yYWRpdXMqZS5yYWRpdXN9LGRpc3RhbmNlVG9QbGFuZTpmdW5jdGlvbihlKXt2YXIgdD1lLm5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pO2lmKDA9PT10KXJldHVybiAwPT09ZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pPzA6bnVsbDt2YXIgbj0tKHRoaXMub3JpZ2luLmRvdChlLm5vcm1hbCkrZS5jb25zdGFudCkvdDtyZXR1cm4gbj49MD9uOm51bGx9LGludGVyc2VjdFBsYW5lOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kaXN0YW5jZVRvUGxhbmUoZSk7cmV0dXJuIG51bGw9PT1uP251bGw6dGhpcy5hdChuLHQpfSxpbnRlcnNlY3RzUGxhbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pO3JldHVybiAwPT09dHx8ZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSp0PDB9LGludGVyc2VjdEJveDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxhLG8scyxjPTEvdGhpcy5kaXJlY3Rpb24ueCxsPTEvdGhpcy5kaXJlY3Rpb24ueSxoPTEvdGhpcy5kaXJlY3Rpb24ueix1PXRoaXMub3JpZ2luO3JldHVybiBjPj0wPyhuPShlLm1pbi54LXUueCkqYyxyPShlLm1heC54LXUueCkqYyk6KG49KGUubWF4LngtdS54KSpjLHI9KGUubWluLngtdS54KSpjKSxsPj0wPyhpPShlLm1pbi55LXUueSkqbCxhPShlLm1heC55LXUueSkqbCk6KGk9KGUubWF4LnktdS55KSpsLGE9KGUubWluLnktdS55KSpsKSxuPmF8fGk+cj9udWxsOigoaT5ufHxuIT09bikmJihuPWkpLChhPHJ8fHIhPT1yKSYmKHI9YSksaD49MD8obz0oZS5taW4uei11LnopKmgscz0oZS5tYXguei11LnopKmgpOihvPShlLm1heC56LXUueikqaCxzPShlLm1pbi56LXUueikqaCksbj5zfHxvPnI/bnVsbDooKG8+bnx8biE9PW4pJiYobj1vKSwoczxyfHxyIT09cikmJihyPXMpLHI8MD9udWxsOnRoaXMuYXQobj49MD9uOnIsdCkpKX0saW50ZXJzZWN0c0JveDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PXRoaXMuaW50ZXJzZWN0Qm94KGUsS2wpfSxpbnRlcnNlY3RUcmlhbmdsZTpmdW5jdGlvbihlLHQsbixyLGkpe25oLnN1YlZlY3RvcnModCxlKSxyaC5zdWJWZWN0b3JzKG4sZSksaWguY3Jvc3NWZWN0b3JzKG5oLHJoKTt2YXIgYSxvPXRoaXMuZGlyZWN0aW9uLmRvdChpaCk7aWYobz4wKXtpZihyKXJldHVybiBudWxsO2E9MX1lbHNle2lmKCEobzwwKSlyZXR1cm4gbnVsbDthPS0xLG89LW99dGguc3ViVmVjdG9ycyh0aGlzLm9yaWdpbixlKTt2YXIgcz1hKnRoaXMuZGlyZWN0aW9uLmRvdChyaC5jcm9zc1ZlY3RvcnModGgscmgpKTtpZihzPDApcmV0dXJuIG51bGw7dmFyIGM9YSp0aGlzLmRpcmVjdGlvbi5kb3QobmguY3Jvc3ModGgpKTtpZihjPDApcmV0dXJuIG51bGw7aWYocytjPm8pcmV0dXJuIG51bGw7dmFyIGw9LWEqdGguZG90KGloKTtyZXR1cm4gbDwwP251bGw6dGhpcy5hdChsL28saSl9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KGUpLHRoaXMuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbihlKSx0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUub3JpZ2luLmVxdWFscyh0aGlzLm9yaWdpbikmJmUuZGlyZWN0aW9uLmVxdWFscyh0aGlzLmRpcmVjdGlvbil9fSk7dmFyIGFoPW5ldyBpLG9oPW5ldyBpLHNoPW5ldyBhO09iamVjdC5hc3NpZ24oeC5wcm90b3R5cGUse2lzUGxhbmU6ITAsc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkoZSksdGhpcy5jb25zdGFudD10LHRoaXN9LHNldENvbXBvbmVudHM6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMubm9ybWFsLnNldChlLHQsbiksdGhpcy5jb25zdGFudD1yLHRoaXN9LHNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkoZSksdGhpcy5jb25zdGFudD0tdC5kb3QodGhpcy5ub3JtYWwpLHRoaXN9LHNldEZyb21Db3BsYW5hclBvaW50czpmdW5jdGlvbihlLHQsbil7dmFyIHI9YWguc3ViVmVjdG9ycyhuLHQpLmNyb3NzKG9oLnN1YlZlY3RvcnMoZSx0KSkubm9ybWFsaXplKCk7cmV0dXJuIHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQocixlKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weShlLm5vcm1hbCksdGhpcy5jb25zdGFudD1lLmNvbnN0YW50LHRoaXN9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3ZhciBlPTEvdGhpcy5ub3JtYWwubGVuZ3RoKCk7cmV0dXJuIHRoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKGUpLHRoaXMuY29uc3RhbnQqPWUsdGhpc30sbmVnYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RhbnQqPS0xLHRoaXMubm9ybWFsLm5lZ2F0ZSgpLHRoaXN9LGRpc3RhbmNlVG9Qb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub3JtYWwuZG90KGUpK3RoaXMuY29uc3RhbnR9LGRpc3RhbmNlVG9TcGhlcmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KGUuY2VudGVyKS1lLnJhZGl1c30scHJvamVjdFBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksdD1uZXcgaSksdC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5kaXN0YW5jZVRvUG9pbnQoZSkpLmFkZChlKX0saW50ZXJzZWN0TGluZTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oXCJUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLHQ9bmV3IGkpO3ZhciBuPWUuZGVsdGEoYWgpLHI9dGhpcy5ub3JtYWwuZG90KG4pO2lmKDAhPT1yKXt2YXIgYT0tKGUuc3RhcnQuZG90KHRoaXMubm9ybWFsKSt0aGlzLmNvbnN0YW50KS9yO2lmKCEoYTwwfHxhPjEpKXJldHVybiB0LmNvcHkobikubXVsdGlwbHlTY2FsYXIoYSkuYWRkKGUuc3RhcnQpfWVsc2UgaWYoMD09PXRoaXMuZGlzdGFuY2VUb1BvaW50KGUuc3RhcnQpKXJldHVybiB0LmNvcHkoZS5zdGFydCl9LGludGVyc2VjdHNMaW5lOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGlzdGFuY2VUb1BvaW50KGUuc3RhcnQpLG49dGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5lbmQpO3JldHVybiB0PDAmJm4+MHx8bjwwJiZ0PjB9LGludGVyc2VjdHNCb3g6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfSxpbnRlcnNlY3RzU3BoZXJlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmludGVyc2VjdHNQbGFuZSh0aGlzKX0sY29wbGFuYXJQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybihcIlRIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgaSksZS5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCl9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fHNoLmdldE5vcm1hbE1hdHJpeChlKSxyPXRoaXMuY29wbGFuYXJQb2ludChhaCkuYXBwbHlNYXRyaXg0KGUpLGk9dGhpcy5ub3JtYWwuYXBwbHlNYXRyaXgzKG4pLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLmNvbnN0YW50PS1yLmRvdChpKSx0aGlzfSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uc3RhbnQtPWUuZG90KHRoaXMubm9ybWFsKSx0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9ybWFsLmVxdWFscyh0aGlzLm5vcm1hbCkmJmUuY29uc3RhbnQ9PT10aGlzLmNvbnN0YW50fX0pO3ZhciBjaD1uZXcgaSxsaD1uZXcgaSxoaD1uZXcgaSx1aD1uZXcgaSxwaD1uZXcgaSxkaD1uZXcgaSxmaD1uZXcgaSxtaD1uZXcgaSx2aD1uZXcgaSxnaD1uZXcgaTtPYmplY3QuYXNzaWduKGIse2dldE5vcm1hbDpmdW5jdGlvbihlLHQsbixyKXtcbnZvaWQgMD09PXImJihjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLmdldE5vcm1hbCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIikscj1uZXcgaSksci5zdWJWZWN0b3JzKG4sdCksY2guc3ViVmVjdG9ycyhlLHQpLHIuY3Jvc3MoY2gpO3ZhciBhPXIubGVuZ3RoU3EoKTtyZXR1cm4gYT4wP3IubXVsdGlwbHlTY2FsYXIoMS9NYXRoLnNxcnQoYSkpOnIuc2V0KDAsMCwwKX0sZ2V0QmFyeWNvb3JkOmZ1bmN0aW9uKGUsdCxuLHIsYSl7Y2guc3ViVmVjdG9ycyhyLHQpLGxoLnN1YlZlY3RvcnMobix0KSxoaC5zdWJWZWN0b3JzKGUsdCk7dmFyIG89Y2guZG90KGNoKSxzPWNoLmRvdChsaCksYz1jaC5kb3QoaGgpLGw9bGguZG90KGxoKSxoPWxoLmRvdChoaCksdT1vKmwtcypzO2lmKHZvaWQgMD09PWEmJihjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLmdldEJhcnljb29yZCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksYT1uZXcgaSksMD09PXUpcmV0dXJuIGEuc2V0KC0yLC0xLC0xKTt2YXIgcD0xL3UsZD0obCpjLXMqaCkqcCxmPShvKmgtcypjKSpwO3JldHVybiBhLnNldCgxLWQtZixmLGQpfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBiLmdldEJhcnljb29yZChlLHQsbixyLHVoKSx1aC54Pj0wJiZ1aC55Pj0wJiZ1aC54K3VoLnk8PTF9LGdldFVWOmZ1bmN0aW9uKGUsdCxuLHIsaSxhLG8scyl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKGUsdCxuLHIsdWgpLHMuc2V0KDAsMCkscy5hZGRTY2FsZWRWZWN0b3IoaSx1aC54KSxzLmFkZFNjYWxlZFZlY3RvcihhLHVoLnkpLHMuYWRkU2NhbGVkVmVjdG9yKG8sdWgueiksc30saXNGcm9udEZhY2luZzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gY2guc3ViVmVjdG9ycyhuLHQpLGxoLnN1YlZlY3RvcnMoZSx0KSxjaC5jcm9zcyhsaCkuZG90KHIpPDB9fSksT2JqZWN0LmFzc2lnbihiLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5hLmNvcHkoZSksdGhpcy5iLmNvcHkodCksdGhpcy5jLmNvcHkobiksdGhpc30sc2V0RnJvbVBvaW50c0FuZEluZGljZXM6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuYS5jb3B5KGVbdF0pLHRoaXMuYi5jb3B5KGVbbl0pLHRoaXMuYy5jb3B5KGVbcl0pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmEuY29weShlLmEpLHRoaXMuYi5jb3B5KGUuYiksdGhpcy5jLmNvcHkoZS5jKSx0aGlzfSxnZXRBcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIGNoLnN1YlZlY3RvcnModGhpcy5jLHRoaXMuYiksbGguc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKSwuNSpjaC5jcm9zcyhsaCkubGVuZ3RoKCl9LGdldE1pZHBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5nZXRNaWRwb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgaSksZS5hZGRWZWN0b3JzKHRoaXMuYSx0aGlzLmIpLmFkZCh0aGlzLmMpLm11bHRpcGx5U2NhbGFyKDEvMyl9LGdldE5vcm1hbDpmdW5jdGlvbihlKXtyZXR1cm4gYi5nZXROb3JtYWwodGhpcy5hLHRoaXMuYix0aGlzLmMsZSl9LGdldFBsYW5lOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5nZXRQbGFuZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgeCksZS5zZXRGcm9tQ29wbGFuYXJQb2ludHModGhpcy5hLHRoaXMuYix0aGlzLmMpfSxnZXRCYXJ5Y29vcmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYi5nZXRCYXJ5Y29vcmQoZSx0aGlzLmEsdGhpcy5iLHRoaXMuYyx0KX0sZ2V0VVY6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gYi5nZXRVVihlLHRoaXMuYSx0aGlzLmIsdGhpcy5jLHQsbixyLGkpfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGUpe3JldHVybiBiLmNvbnRhaW5zUG9pbnQoZSx0aGlzLmEsdGhpcy5iLHRoaXMuYyl9LGlzRnJvbnRGYWNpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGIuaXNGcm9udEZhY2luZyh0aGlzLmEsdGhpcy5iLHRoaXMuYyxlKX0saW50ZXJzZWN0c0JveDpmdW5jdGlvbihlKXtyZXR1cm4gZS5pbnRlcnNlY3RzVHJpYW5nbGUodGhpcyl9LGNsb3Nlc3RQb2ludFRvUG9pbnQ6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBpKTt2YXIgbixyLGE9dGhpcy5hLG89dGhpcy5iLHM9dGhpcy5jO3BoLnN1YlZlY3RvcnMobyxhKSxkaC5zdWJWZWN0b3JzKHMsYSksbWguc3ViVmVjdG9ycyhlLGEpO3ZhciBjPXBoLmRvdChtaCksbD1kaC5kb3QobWgpO2lmKGM8PTAmJmw8PTApcmV0dXJuIHQuY29weShhKTt2aC5zdWJWZWN0b3JzKGUsbyk7dmFyIGg9cGguZG90KHZoKSx1PWRoLmRvdCh2aCk7aWYoaD49MCYmdTw9aClyZXR1cm4gdC5jb3B5KG8pO3ZhciBwPWMqdS1oKmw7aWYocDw9MCYmYz49MCYmaDw9MClyZXR1cm4gbj1jLyhjLWgpLHQuY29weShhKS5hZGRTY2FsZWRWZWN0b3IocGgsbik7Z2guc3ViVmVjdG9ycyhlLHMpO3ZhciBkPXBoLmRvdChnaCksZj1kaC5kb3QoZ2gpO2lmKGY+PTAmJmQ8PWYpcmV0dXJuIHQuY29weShzKTt2YXIgbT1kKmwtYypmO2lmKG08PTAmJmw+PTAmJmY8PTApcmV0dXJuIHI9bC8obC1mKSx0LmNvcHkoYSkuYWRkU2NhbGVkVmVjdG9yKGRoLHIpO3ZhciB2PWgqZi1kKnU7aWYodjw9MCYmdS1oPj0wJiZkLWY+PTApcmV0dXJuIGZoLnN1YlZlY3RvcnMocyxvKSxyPSh1LWgpLyh1LWgrKGQtZikpLHQuY29weShvKS5hZGRTY2FsZWRWZWN0b3IoZmgscik7dmFyIGc9MS8odittK3ApO3JldHVybiBuPW0qZyxyPXAqZyx0LmNvcHkoYSkuYWRkU2NhbGVkVmVjdG9yKHBoLG4pLmFkZFNjYWxlZFZlY3RvcihkaCxyKX0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmEuZXF1YWxzKHRoaXMuYSkmJmUuYi5lcXVhbHModGhpcy5iKSYmZS5jLmVxdWFscyh0aGlzLmMpfX0pO3ZhciB5aD17YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLGRhcmtvbGl2ZWdyZWVuOjU1OTc5OTksZGFya29yYW5nZToxNjc0NzUyMCxkYXJrb3JjaGlkOjEwMDQwMDEyLGRhcmtyZWQ6OTEwOTUwNCxkYXJrc2FsbW9uOjE1MzA4NDEwLGRhcmtzZWFncmVlbjo5NDE5OTE5LGRhcmtzbGF0ZWJsdWU6NDczNDM0NyxkYXJrc2xhdGVncmF5OjMxMDA0OTUsZGFya3NsYXRlZ3JleTozMTAwNDk1LGRhcmt0dXJxdW9pc2U6NTI5NDUsZGFya3Zpb2xldDo5Njk5NTM5LGRlZXBwaW5rOjE2NzE2OTQ3LGRlZXBza3libHVlOjQ5MTUxLGRpbWdyYXk6NjkwODI2NSxkaW1ncmV5OjY5MDgyNjUsZG9kZ2VyYmx1ZToyMDAzMTk5LGZpcmVicmljazoxMTY3NDE0NixmbG9yYWx3aGl0ZToxNjc3NTkyMCxmb3Jlc3RncmVlbjoyMjYzODQyLGZ1Y2hzaWE6MTY3MTE5MzUsZ2FpbnNib3JvOjE0NDc0NDYwLGdob3N0d2hpdGU6MTYzMTY2NzEsZ29sZDoxNjc2NjcyMCxnb2xkZW5yb2Q6MTQzMjkxMjAsZ3JheTo4NDIxNTA0LGdyZWVuOjMyNzY4LGdyZWVueWVsbG93OjExNDAzMDU1LGdyZXk6ODQyMTUwNCxob25leWRldzoxNTc5NDE2MCxob3RwaW5rOjE2NzM4NzQwLGluZGlhbnJlZDoxMzQ1ODUyNCxpbmRpZ286NDkxNTMzMCxpdm9yeToxNjc3NzIwMCxraGFraToxNTc4NzY2MCxsYXZlbmRlcjoxNTEzMjQxMCxsYXZlbmRlcmJsdXNoOjE2NzczMzY1LGxhd25ncmVlbjo4MTkwOTc2LGxlbW9uY2hpZmZvbjoxNjc3NTg4NSxsaWdodGJsdWU6MTEzOTMyNTQsbGlnaHRjb3JhbDoxNTc2MTUzNixsaWdodGN5YW46MTQ3NDU1OTksbGlnaHRnb2xkZW5yb2R5ZWxsb3c6MTY0NDgyMTAsbGlnaHRncmF5OjEzODgyMzIzLGxpZ2h0Z3JlZW46OTQ5ODI1NixsaWdodGdyZXk6MTM4ODIzMjMsbGlnaHRwaW5rOjE2NzU4NDY1LGxpZ2h0c2FsbW9uOjE2NzUyNzYyLGxpZ2h0c2VhZ3JlZW46MjE0Mjg5MCxsaWdodHNreWJsdWU6ODkwMDM0NixsaWdodHNsYXRlZ3JheTo3ODMzNzUzLGxpZ2h0c2xhdGVncmV5Ojc4MzM3NTMsbGlnaHRzdGVlbGJsdWU6MTE1ODQ3MzQsbGlnaHR5ZWxsb3c6MTY3NzcxODQsbGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxwYWxlZ3JlZW46MTAwMjU4ODAscGFsZXR1cnF1b2lzZToxMTUyOTk2NixwYWxldmlvbGV0cmVkOjE0MzgxMjAzLHBhcGF5YXdoaXA6MTY3NzMwNzcscGVhY2hwdWZmOjE2NzY3NjczLHBlcnU6MTM0Njg5OTEscGluazoxNjc2MTAzNSxwbHVtOjE0NTI0NjM3LHBvd2RlcmJsdWU6MTE1OTE5MTAscHVycGxlOjgzODg3MzYscmViZWNjYXB1cnBsZTo2Njk3ODgxLHJlZDoxNjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2FkZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSx4aD17aDowLHM6MCxsOjB9LGJoPXtoOjAsczowLGw6MH07T2JqZWN0LmFzc2lnbih3LnByb3RvdHlwZSx7aXNDb2xvcjohMCxyOjEsZzoxLGI6MSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuaXNDb2xvcj90aGlzLmNvcHkoZSk6XCJudW1iZXJcIj09dHlwZW9mIGU/dGhpcy5zZXRIZXgoZSk6XCJzdHJpbmdcIj09dHlwZW9mIGUmJnRoaXMuc2V0U3R5bGUoZSksdGhpc30sc2V0U2NhbGFyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9ZSx0aGlzLmI9ZSx0aGlzfSxzZXRIZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9TWF0aC5mbG9vcihlKSx0aGlzLnI9KGU+PjE2JjI1NSkvMjU1LHRoaXMuZz0oZT4+OCYyNTUpLzI1NSx0aGlzLmI9KDI1NSZlKS8yNTUsdGhpc30sc2V0UkdCOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPW4sdGhpc30sc2V0SFNMOmZ1bmN0aW9uKGUsdCxuKXtpZihlPWxsLmV1Y2xpZGVhbk1vZHVsbyhlLDEpLHQ9bGwuY2xhbXAodCwwLDEpLG49bGwuY2xhbXAobiwwLDEpLDA9PT10KXRoaXMucj10aGlzLmc9dGhpcy5iPW47ZWxzZXt2YXIgcj1uPD0uNT9uKigxK3QpOm4rdC1uKnQsaT0yKm4tcjt0aGlzLnI9XyhpLHIsZSsxLzMpLHRoaXMuZz1fKGkscixlKSx0aGlzLmI9XyhpLHIsZS0xLzMpfXJldHVybiB0aGlzfSxzZXRTdHlsZTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMCE9PXQmJnBhcnNlRmxvYXQodCk8MSYmY29uc29sZS53YXJuKFwiVEhSRUUuQ29sb3I6IEFscGhhIGNvbXBvbmVudCBvZiBcIitlK1wiIHdpbGwgYmUgaWdub3JlZC5cIil9dmFyIG47aWYobj0vXigoPzpyZ2J8aHNsKWE/KVxcKFxccyooW15cXCldKilcXCkvLmV4ZWMoZSkpe3ZhciByLGk9blsxXSxhPW5bMl07c3dpdGNoKGkpe2Nhc2VcInJnYlwiOmNhc2VcInJnYmFcIjppZihyPS9eKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKigsXFxzKihbMC05XSpcXC4/WzAtOV0rKVxccyopPyQvLmV4ZWMoYSkpcmV0dXJuIHRoaXMucj1NYXRoLm1pbigyNTUscGFyc2VJbnQoclsxXSwxMCkpLzI1NSx0aGlzLmc9TWF0aC5taW4oMjU1LHBhcnNlSW50KHJbMl0sMTApKS8yNTUsdGhpcy5iPU1hdGgubWluKDI1NSxwYXJzZUludChyWzNdLDEwKSkvMjU1LHQocls1XSksdGhpcztpZihyPS9eKFxcZCspXFwlXFxzKixcXHMqKFxcZCspXFwlXFxzKixcXHMqKFxcZCspXFwlXFxzKigsXFxzKihbMC05XSpcXC4/WzAtOV0rKVxccyopPyQvLmV4ZWMoYSkpcmV0dXJuIHRoaXMucj1NYXRoLm1pbigxMDAscGFyc2VJbnQoclsxXSwxMCkpLzEwMCx0aGlzLmc9TWF0aC5taW4oMTAwLHBhcnNlSW50KHJbMl0sMTApKS8xMDAsdGhpcy5iPU1hdGgubWluKDEwMCxwYXJzZUludChyWzNdLDEwKSkvMTAwLHQocls1XSksdGhpczticmVhaztjYXNlXCJoc2xcIjpjYXNlXCJoc2xhXCI6aWYocj0vXihbMC05XSpcXC4/WzAtOV0rKVxccyosXFxzKihcXGQrKVxcJVxccyosXFxzKihcXGQrKVxcJVxccyooLFxccyooWzAtOV0qXFwuP1swLTldKylcXHMqKT8kLy5leGVjKGEpKXt2YXIgbz1wYXJzZUZsb2F0KHJbMV0pLzM2MCxzPXBhcnNlSW50KHJbMl0sMTApLzEwMCxjPXBhcnNlSW50KHJbM10sMTApLzEwMDtyZXR1cm4gdChyWzVdKSx0aGlzLnNldEhTTChvLHMsYyl9fX1lbHNlIGlmKG49L15cXCMoW0EtRmEtZjAtOV0rKSQvLmV4ZWMoZSkpe3ZhciBsPW5bMV0saD1sLmxlbmd0aDtpZigzPT09aClyZXR1cm4gdGhpcy5yPXBhcnNlSW50KGwuY2hhckF0KDApK2wuY2hhckF0KDApLDE2KS8yNTUsdGhpcy5nPXBhcnNlSW50KGwuY2hhckF0KDEpK2wuY2hhckF0KDEpLDE2KS8yNTUsdGhpcy5iPXBhcnNlSW50KGwuY2hhckF0KDIpK2wuY2hhckF0KDIpLDE2KS8yNTUsdGhpcztpZig2PT09aClyZXR1cm4gdGhpcy5yPXBhcnNlSW50KGwuY2hhckF0KDApK2wuY2hhckF0KDEpLDE2KS8yNTUsdGhpcy5nPXBhcnNlSW50KGwuY2hhckF0KDIpK2wuY2hhckF0KDMpLDE2KS8yNTUsdGhpcy5iPXBhcnNlSW50KGwuY2hhckF0KDQpK2wuY2hhckF0KDUpLDE2KS8yNTUsdGhpc31yZXR1cm4gZSYmZS5sZW5ndGg+MD90aGlzLnNldENvbG9yTmFtZShlKTp0aGlzfSxzZXRDb2xvck5hbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9eWhbZV07cmV0dXJuIHZvaWQgMCE9PXQ/dGhpcy5zZXRIZXgodCk6Y29uc29sZS53YXJuKFwiVEhSRUUuQ29sb3I6IFVua25vd24gY29sb3IgXCIrZSksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5yLHRoaXMuZyx0aGlzLmIpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzfSxjb3B5R2FtbWFUb0xpbmVhcjpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0yKSx0aGlzLnI9TWF0aC5wb3coZS5yLHQpLHRoaXMuZz1NYXRoLnBvdyhlLmcsdCksdGhpcy5iPU1hdGgucG93KGUuYix0KSx0aGlzfSxjb3B5TGluZWFyVG9HYW1tYTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTIpO3ZhciBuPXQ+MD8xL3Q6MTtyZXR1cm4gdGhpcy5yPU1hdGgucG93KGUucixuKSx0aGlzLmc9TWF0aC5wb3coZS5nLG4pLHRoaXMuYj1NYXRoLnBvdyhlLmIsbiksdGhpc30sY29udmVydEdhbW1hVG9MaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29weUdhbW1hVG9MaW5lYXIodGhpcyxlKSx0aGlzfSxjb252ZXJ0TGluZWFyVG9HYW1tYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb3B5TGluZWFyVG9HYW1tYSh0aGlzLGUpLHRoaXN9LGNvcHlTUkdCVG9MaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucj1NKGUuciksdGhpcy5nPU0oZS5nKSx0aGlzLmI9TShlLmIpLHRoaXN9LGNvcHlMaW5lYXJUb1NSR0I6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucj1TKGUuciksdGhpcy5nPVMoZS5nKSx0aGlzLmI9UyhlLmIpLHRoaXN9LGNvbnZlcnRTUkdCVG9MaW5lYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5U1JHQlRvTGluZWFyKHRoaXMpLHRoaXN9LGNvbnZlcnRMaW5lYXJUb1NSR0I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5TGluZWFyVG9TUkdCKHRoaXMpLHRoaXN9LGdldEhleDpmdW5jdGlvbigpe3JldHVybiAyNTUqdGhpcy5yPDwxNl4yNTUqdGhpcy5nPDw4XjI1NSp0aGlzLmI8PDB9LGdldEhleFN0cmluZzpmdW5jdGlvbigpe3JldHVybihcIjAwMDAwMFwiK3RoaXMuZ2V0SGV4KCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNil9LGdldEhTTDpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuQ29sb3I6IC5nZXRIU0woKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9e2g6MCxzOjAsbDowfSk7dmFyIHQsbixyPXRoaXMucixpPXRoaXMuZyxhPXRoaXMuYixvPU1hdGgubWF4KHIsaSxhKSxzPU1hdGgubWluKHIsaSxhKSxjPShzK28pLzI7aWYocz09PW8pdD0wLG49MDtlbHNle3ZhciBsPW8tcztzd2l0Y2gobj1jPD0uNT9sLyhvK3MpOmwvKDItby1zKSxvKXtjYXNlIHI6dD0oaS1hKS9sKyhpPGE/NjowKTticmVhaztjYXNlIGk6dD0oYS1yKS9sKzI7YnJlYWs7Y2FzZSBhOnQ9KHItaSkvbCs0fXQvPTZ9cmV0dXJuIGUuaD10LGUucz1uLGUubD1jLGV9LGdldFN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJuXCJyZ2IoXCIrKDI1NSp0aGlzLnJ8MCkrXCIsXCIrKDI1NSp0aGlzLmd8MCkrXCIsXCIrKDI1NSp0aGlzLmJ8MCkrXCIpXCJ9LG9mZnNldEhTTDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuZ2V0SFNMKHhoKSx4aC5oKz1lLHhoLnMrPXQseGgubCs9bix0aGlzLnNldEhTTCh4aC5oLHhoLnMseGgubCksdGhpc30sYWRkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnIrPWUucix0aGlzLmcrPWUuZyx0aGlzLmIrPWUuYix0aGlzfSxhZGRDb2xvcnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yPWUucit0LnIsdGhpcy5nPWUuZyt0LmcsdGhpcy5iPWUuYit0LmIsdGhpc30sYWRkU2NhbGFyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnIrPWUsdGhpcy5nKz1lLHRoaXMuYis9ZSx0aGlzfSxzdWI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucj1NYXRoLm1heCgwLHRoaXMuci1lLnIpLHRoaXMuZz1NYXRoLm1heCgwLHRoaXMuZy1lLmcpLHRoaXMuYj1NYXRoLm1heCgwLHRoaXMuYi1lLmIpLHRoaXN9LG11bHRpcGx5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnIqPWUucix0aGlzLmcqPWUuZyx0aGlzLmIqPWUuYix0aGlzfSxtdWx0aXBseVNjYWxhcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yKj1lLHRoaXMuZyo9ZSx0aGlzLmIqPWUsdGhpc30sbGVycDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnIrPShlLnItdGhpcy5yKSp0LHRoaXMuZys9KGUuZy10aGlzLmcpKnQsdGhpcy5iKz0oZS5iLXRoaXMuYikqdCx0aGlzfSxsZXJwSFNMOmZ1bmN0aW9uKGUsdCl7dGhpcy5nZXRIU0woeGgpLGUuZ2V0SFNMKGJoKTt2YXIgbj1sbC5sZXJwKHhoLmgsYmguaCx0KSxyPWxsLmxlcnAoeGgucyxiaC5zLHQpLGk9bGwubGVycCh4aC5sLGJoLmwsdCk7cmV0dXJuIHRoaXMuc2V0SFNMKG4scixpKSx0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucj09PXRoaXMuciYmZS5nPT09dGhpcy5nJiZlLmI9PT10aGlzLmJ9LGZyb21BcnJheTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLnI9ZVt0XSx0aGlzLmc9ZVt0KzFdLHRoaXMuYj1lW3QrMl0sdGhpc30sdG9BcnJheTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09dCYmKHQ9MCksZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLGV9LHRvSlNPTjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEhleCgpfX0pLHcuTkFNRVM9eWgsT2JqZWN0LmFzc2lnbihULnByb3RvdHlwZSx7Y2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24oZSl7dGhpcy5hPWUuYSx0aGlzLmI9ZS5iLHRoaXMuYz1lLmMsdGhpcy5ub3JtYWwuY29weShlLm5vcm1hbCksdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWF0ZXJpYWxJbmRleD1lLm1hdGVyaWFsSW5kZXg7Zm9yKHZhciB0PTAsbj1lLnZlcnRleE5vcm1hbHMubGVuZ3RoO3Q8bjt0KyspdGhpcy52ZXJ0ZXhOb3JtYWxzW3RdPWUudmVydGV4Tm9ybWFsc1t0XS5jbG9uZSgpO2Zvcih2YXIgdD0wLG49ZS52ZXJ0ZXhDb2xvcnMubGVuZ3RoO3Q8bjt0KyspdGhpcy52ZXJ0ZXhDb2xvcnNbdF09ZS52ZXJ0ZXhDb2xvcnNbdF0uY2xvbmUoKTtyZXR1cm4gdGhpc319KTt2YXIgd2g9MDtFLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpFLGlzTWF0ZXJpYWw6ITAsb25CZWZvcmVDb21waWxlOmZ1bmN0aW9uKCl7fSxzZXRWYWx1ZXM6ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSlmb3IodmFyIHQgaW4gZSl7dmFyIG49ZVt0XTtpZih2b2lkIDAhPT1uKWlmKFwic2hhZGluZ1wiIT09dCl7dmFyIHI9dGhpc1t0XTt2b2lkIDAhPT1yP3ImJnIuaXNDb2xvcj9yLnNldChuKTpyJiZyLmlzVmVjdG9yMyYmbiYmbi5pc1ZlY3RvcjM/ci5jb3B5KG4pOnRoaXNbdF09bjpjb25zb2xlLndhcm4oXCJUSFJFRS5cIit0aGlzLnR5cGUrXCI6ICdcIit0K1wiJyBpcyBub3QgYSBwcm9wZXJ0eSBvZiB0aGlzIG1hdGVyaWFsLlwiKX1lbHNlIGNvbnNvbGUud2FybihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLlwiKSx0aGlzLmZsYXRTaGFkaW5nPTE9PT1uO2Vsc2UgY29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6ICdcIit0K1wiJyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLlwiKX19LHRvSlNPTjpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO2RlbGV0ZSByLm1ldGFkYXRhLHQucHVzaChyKX1yZXR1cm4gdH12YXIgbj12b2lkIDA9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgZTtuJiYoZT17dGV4dHVyZXM6e30saW1hZ2VzOnt9fSk7dmFyIHI9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOlwiTWF0ZXJpYWxcIixnZW5lcmF0b3I6XCJNYXRlcmlhbC50b0pTT05cIn19O2lmKHIudXVpZD10aGlzLnV1aWQsci50eXBlPXRoaXMudHlwZSxcIlwiIT09dGhpcy5uYW1lJiYoci5uYW1lPXRoaXMubmFtZSksdGhpcy5jb2xvciYmdGhpcy5jb2xvci5pc0NvbG9yJiYoci5jb2xvcj10aGlzLmNvbG9yLmdldEhleCgpKSx2b2lkIDAhPT10aGlzLnJvdWdobmVzcyYmKHIucm91Z2huZXNzPXRoaXMucm91Z2huZXNzKSx2b2lkIDAhPT10aGlzLm1ldGFsbmVzcyYmKHIubWV0YWxuZXNzPXRoaXMubWV0YWxuZXNzKSx0aGlzLnNoZWVuJiZ0aGlzLnNoZWVuLmlzQ29sb3ImJihyLnNoZWVuPXRoaXMuc2hlZW4uZ2V0SGV4KCkpLHRoaXMuZW1pc3NpdmUmJnRoaXMuZW1pc3NpdmUuaXNDb2xvciYmKHIuZW1pc3NpdmU9dGhpcy5lbWlzc2l2ZS5nZXRIZXgoKSksdGhpcy5lbWlzc2l2ZUludGVuc2l0eSYmMSE9PXRoaXMuZW1pc3NpdmVJbnRlbnNpdHkmJihyLmVtaXNzaXZlSW50ZW5zaXR5PXRoaXMuZW1pc3NpdmVJbnRlbnNpdHkpLHRoaXMuc3BlY3VsYXImJnRoaXMuc3BlY3VsYXIuaXNDb2xvciYmKHIuc3BlY3VsYXI9dGhpcy5zcGVjdWxhci5nZXRIZXgoKSksdm9pZCAwIT09dGhpcy5zaGluaW5lc3MmJihyLnNoaW5pbmVzcz10aGlzLnNoaW5pbmVzcyksdm9pZCAwIT09dGhpcy5jbGVhcmNvYXQmJihyLmNsZWFyY29hdD10aGlzLmNsZWFyY29hdCksdm9pZCAwIT09dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3MmJihyLmNsZWFyY29hdFJvdWdobmVzcz10aGlzLmNsZWFyY29hdFJvdWdobmVzcyksdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAmJnRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLmlzVGV4dHVyZSYmKHIuY2xlYXJjb2F0Tm9ybWFsTWFwPXRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLnRvSlNPTihlKS51dWlkLHIuY2xlYXJjb2F0Tm9ybWFsU2NhbGU9dGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMubWFwJiZ0aGlzLm1hcC5pc1RleHR1cmUmJihyLm1hcD10aGlzLm1hcC50b0pTT04oZSkudXVpZCksdGhpcy5tYXRjYXAmJnRoaXMubWF0Y2FwLmlzVGV4dHVyZSYmKHIubWF0Y2FwPXRoaXMubWF0Y2FwLnRvSlNPTihlKS51dWlkKSx0aGlzLmFscGhhTWFwJiZ0aGlzLmFscGhhTWFwLmlzVGV4dHVyZSYmKHIuYWxwaGFNYXA9dGhpcy5hbHBoYU1hcC50b0pTT04oZSkudXVpZCksdGhpcy5saWdodE1hcCYmdGhpcy5saWdodE1hcC5pc1RleHR1cmUmJihyLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuYW9NYXAmJnRoaXMuYW9NYXAuaXNUZXh0dXJlJiYoci5hb01hcD10aGlzLmFvTWFwLnRvSlNPTihlKS51dWlkLHIuYW9NYXBJbnRlbnNpdHk9dGhpcy5hb01hcEludGVuc2l0eSksdGhpcy5idW1wTWFwJiZ0aGlzLmJ1bXBNYXAuaXNUZXh0dXJlJiYoci5idW1wTWFwPXRoaXMuYnVtcE1hcC50b0pTT04oZSkudXVpZCxyLmJ1bXBTY2FsZT10aGlzLmJ1bXBTY2FsZSksdGhpcy5ub3JtYWxNYXAmJnRoaXMubm9ybWFsTWFwLmlzVGV4dHVyZSYmKHIubm9ybWFsTWFwPXRoaXMubm9ybWFsTWFwLnRvSlNPTihlKS51dWlkLHIubm9ybWFsTWFwVHlwZT10aGlzLm5vcm1hbE1hcFR5cGUsci5ub3JtYWxTY2FsZT10aGlzLm5vcm1hbFNjYWxlLnRvQXJyYXkoKSksdGhpcy5kaXNwbGFjZW1lbnRNYXAmJnRoaXMuZGlzcGxhY2VtZW50TWFwLmlzVGV4dHVyZSYmKHIuZGlzcGxhY2VtZW50TWFwPXRoaXMuZGlzcGxhY2VtZW50TWFwLnRvSlNPTihlKS51dWlkLHIuZGlzcGxhY2VtZW50U2NhbGU9dGhpcy5kaXNwbGFjZW1lbnRTY2FsZSxyLmRpc3BsYWNlbWVudEJpYXM9dGhpcy5kaXNwbGFjZW1lbnRCaWFzKSx0aGlzLnJvdWdobmVzc01hcCYmdGhpcy5yb3VnaG5lc3NNYXAuaXNUZXh0dXJlJiYoci5yb3VnaG5lc3NNYXA9dGhpcy5yb3VnaG5lc3NNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMubWV0YWxuZXNzTWFwJiZ0aGlzLm1ldGFsbmVzc01hcC5pc1RleHR1cmUmJihyLm1ldGFsbmVzc01hcD10aGlzLm1ldGFsbmVzc01hcC50b0pTT04oZSkudXVpZCksdGhpcy5lbWlzc2l2ZU1hcCYmdGhpcy5lbWlzc2l2ZU1hcC5pc1RleHR1cmUmJihyLmVtaXNzaXZlTWFwPXRoaXMuZW1pc3NpdmVNYXAudG9KU09OKGUpLnV1aWQpLHRoaXMuc3BlY3VsYXJNYXAmJnRoaXMuc3BlY3VsYXJNYXAuaXNUZXh0dXJlJiYoci5zcGVjdWxhck1hcD10aGlzLnNwZWN1bGFyTWFwLnRvSlNPTihlKS51dWlkKSx0aGlzLmVudk1hcCYmdGhpcy5lbnZNYXAuaXNUZXh0dXJlJiYoci5lbnZNYXA9dGhpcy5lbnZNYXAudG9KU09OKGUpLnV1aWQsci5yZWZsZWN0aXZpdHk9dGhpcy5yZWZsZWN0aXZpdHksci5yZWZyYWN0aW9uUmF0aW89dGhpcy5yZWZyYWN0aW9uUmF0aW8sdm9pZCAwIT09dGhpcy5jb21iaW5lJiYoci5jb21iaW5lPXRoaXMuY29tYmluZSksdm9pZCAwIT09dGhpcy5lbnZNYXBJbnRlbnNpdHkmJihyLmVudk1hcEludGVuc2l0eT10aGlzLmVudk1hcEludGVuc2l0eSkpLHRoaXMuZ3JhZGllbnRNYXAmJnRoaXMuZ3JhZGllbnRNYXAuaXNUZXh0dXJlJiYoci5ncmFkaWVudE1hcD10aGlzLmdyYWRpZW50TWFwLnRvSlNPTihlKS51dWlkKSx2b2lkIDAhPT10aGlzLnNpemUmJihyLnNpemU9dGhpcy5zaXplKSx2b2lkIDAhPT10aGlzLnNpemVBdHRlbnVhdGlvbiYmKHIuc2l6ZUF0dGVudWF0aW9uPXRoaXMuc2l6ZUF0dGVudWF0aW9uKSx0aGlzLmJsZW5kaW5nIT09ZXMmJihyLmJsZW5kaW5nPXRoaXMuYmxlbmRpbmcpLCEwPT09dGhpcy5mbGF0U2hhZGluZyYmKHIuZmxhdFNoYWRpbmc9dGhpcy5mbGF0U2hhZGluZyksdGhpcy5zaWRlIT09WG8mJihyLnNpZGU9dGhpcy5zaWRlKSx0aGlzLnZlcnRleENvbG9ycyE9PUpvJiYoci52ZXJ0ZXhDb2xvcnM9dGhpcy52ZXJ0ZXhDb2xvcnMpLHRoaXMub3BhY2l0eTwxJiYoci5vcGFjaXR5PXRoaXMub3BhY2l0eSksITA9PT10aGlzLnRyYW5zcGFyZW50JiYoci50cmFuc3BhcmVudD10aGlzLnRyYW5zcGFyZW50KSxyLmRlcHRoRnVuYz10aGlzLmRlcHRoRnVuYyxyLmRlcHRoVGVzdD10aGlzLmRlcHRoVGVzdCxyLmRlcHRoV3JpdGU9dGhpcy5kZXB0aFdyaXRlLHIuc3RlbmNpbFdyaXRlPXRoaXMuc3RlbmNpbFdyaXRlLHIuc3RlbmNpbFdyaXRlTWFzaz10aGlzLnN0ZW5jaWxXcml0ZU1hc2ssci5zdGVuY2lsRnVuYz10aGlzLnN0ZW5jaWxGdW5jLHIuc3RlbmNpbFJlZj10aGlzLnN0ZW5jaWxSZWYsci5zdGVuY2lsRnVuY01hc2s9dGhpcy5zdGVuY2lsRnVuY01hc2ssci5zdGVuY2lsRmFpbD10aGlzLnN0ZW5jaWxGYWlsLHIuc3RlbmNpbFpGYWlsPXRoaXMuc3RlbmNpbFpGYWlsLHIuc3RlbmNpbFpQYXNzPXRoaXMuc3RlbmNpbFpQYXNzLHRoaXMucm90YXRpb24mJjAhPT10aGlzLnJvdGF0aW9uJiYoci5yb3RhdGlvbj10aGlzLnJvdGF0aW9uKSwhMD09PXRoaXMucG9seWdvbk9mZnNldCYmKHIucG9seWdvbk9mZnNldD0hMCksMCE9PXRoaXMucG9seWdvbk9mZnNldEZhY3RvciYmKHIucG9seWdvbk9mZnNldEZhY3Rvcj10aGlzLnBvbHlnb25PZmZzZXRGYWN0b3IpLDAhPT10aGlzLnBvbHlnb25PZmZzZXRVbml0cyYmKHIucG9seWdvbk9mZnNldFVuaXRzPXRoaXMucG9seWdvbk9mZnNldFVuaXRzKSx0aGlzLmxpbmV3aWR0aCYmMSE9PXRoaXMubGluZXdpZHRoJiYoci5saW5ld2lkdGg9dGhpcy5saW5ld2lkdGgpLHZvaWQgMCE9PXRoaXMuZGFzaFNpemUmJihyLmRhc2hTaXplPXRoaXMuZGFzaFNpemUpLHZvaWQgMCE9PXRoaXMuZ2FwU2l6ZSYmKHIuZ2FwU2l6ZT10aGlzLmdhcFNpemUpLHZvaWQgMCE9PXRoaXMuc2NhbGUmJihyLnNjYWxlPXRoaXMuc2NhbGUpLCEwPT09dGhpcy5kaXRoZXJpbmcmJihyLmRpdGhlcmluZz0hMCksdGhpcy5hbHBoYVRlc3Q+MCYmKHIuYWxwaGFUZXN0PXRoaXMuYWxwaGFUZXN0KSwhMD09PXRoaXMucHJlbXVsdGlwbGllZEFscGhhJiYoci5wcmVtdWx0aXBsaWVkQWxwaGE9dGhpcy5wcmVtdWx0aXBsaWVkQWxwaGEpLCEwPT09dGhpcy53aXJlZnJhbWUmJihyLndpcmVmcmFtZT10aGlzLndpcmVmcmFtZSksdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg+MSYmKHIud2lyZWZyYW1lTGluZXdpZHRoPXRoaXMud2lyZWZyYW1lTGluZXdpZHRoKSxcInJvdW5kXCIhPT10aGlzLndpcmVmcmFtZUxpbmVjYXAmJihyLndpcmVmcmFtZUxpbmVjYXA9dGhpcy53aXJlZnJhbWVMaW5lY2FwKSxcInJvdW5kXCIhPT10aGlzLndpcmVmcmFtZUxpbmVqb2luJiYoci53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luKSwhMD09PXRoaXMubW9ycGhUYXJnZXRzJiYoci5tb3JwaFRhcmdldHM9ITApLCEwPT09dGhpcy5tb3JwaE5vcm1hbHMmJihyLm1vcnBoTm9ybWFscz0hMCksITA9PT10aGlzLnNraW5uaW5nJiYoci5za2lubmluZz0hMCksITE9PT10aGlzLnZpc2libGUmJihyLnZpc2libGU9ITEpLCExPT09dGhpcy50b25lTWFwcGVkJiYoci50b25lTWFwcGVkPSExKSxcInt9XCIhPT1KU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSYmKHIudXNlckRhdGE9dGhpcy51c2VyRGF0YSksbil7dmFyIGk9dChlLnRleHR1cmVzKSxhPXQoZS5pbWFnZXMpO2kubGVuZ3RoPjAmJihyLnRleHR1cmVzPWkpLGEubGVuZ3RoPjAmJihyLmltYWdlcz1hKX1yZXR1cm4gcn0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24oZSl7dGhpcy5uYW1lPWUubmFtZSx0aGlzLmZvZz1lLmZvZyx0aGlzLmJsZW5kaW5nPWUuYmxlbmRpbmcsdGhpcy5zaWRlPWUuc2lkZSx0aGlzLmZsYXRTaGFkaW5nPWUuZmxhdFNoYWRpbmcsdGhpcy52ZXJ0ZXhUYW5nZW50cz1lLnZlcnRleFRhbmdlbnRzLHRoaXMudmVydGV4Q29sb3JzPWUudmVydGV4Q29sb3JzLHRoaXMub3BhY2l0eT1lLm9wYWNpdHksdGhpcy50cmFuc3BhcmVudD1lLnRyYW5zcGFyZW50LHRoaXMuYmxlbmRTcmM9ZS5ibGVuZFNyYyx0aGlzLmJsZW5kRHN0PWUuYmxlbmREc3QsdGhpcy5ibGVuZEVxdWF0aW9uPWUuYmxlbmRFcXVhdGlvbix0aGlzLmJsZW5kU3JjQWxwaGE9ZS5ibGVuZFNyY0FscGhhLHRoaXMuYmxlbmREc3RBbHBoYT1lLmJsZW5kRHN0QWxwaGEsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9ZS5ibGVuZEVxdWF0aW9uQWxwaGEsdGhpcy5kZXB0aEZ1bmM9ZS5kZXB0aEZ1bmMsdGhpcy5kZXB0aFRlc3Q9ZS5kZXB0aFRlc3QsdGhpcy5kZXB0aFdyaXRlPWUuZGVwdGhXcml0ZSx0aGlzLnN0ZW5jaWxXcml0ZU1hc2s9ZS5zdGVuY2lsV3JpdGVNYXNrLHRoaXMuc3RlbmNpbEZ1bmM9ZS5zdGVuY2lsRnVuYyx0aGlzLnN0ZW5jaWxSZWY9ZS5zdGVuY2lsUmVmLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPWUuc3RlbmNpbEZ1bmNNYXNrLHRoaXMuc3RlbmNpbEZhaWw9ZS5zdGVuY2lsRmFpbCx0aGlzLnN0ZW5jaWxaRmFpbD1lLnN0ZW5jaWxaRmFpbCx0aGlzLnN0ZW5jaWxaUGFzcz1lLnN0ZW5jaWxaUGFzcyx0aGlzLnN0ZW5jaWxXcml0ZT1lLnN0ZW5jaWxXcml0ZTt2YXIgdD1lLmNsaXBwaW5nUGxhbmVzLG49bnVsbDtpZihudWxsIT09dCl7dmFyIHI9dC5sZW5ndGg7bj1uZXcgQXJyYXkocik7Zm9yKHZhciBpPTA7aSE9PXI7KytpKW5baV09dFtpXS5jbG9uZSgpfXJldHVybiB0aGlzLmNsaXBwaW5nUGxhbmVzPW4sdGhpcy5jbGlwSW50ZXJzZWN0aW9uPWUuY2xpcEludGVyc2VjdGlvbix0aGlzLmNsaXBTaGFkb3dzPWUuY2xpcFNoYWRvd3MsdGhpcy5zaGFkb3dTaWRlPWUuc2hhZG93U2lkZSx0aGlzLmNvbG9yV3JpdGU9ZS5jb2xvcldyaXRlLHRoaXMucHJlY2lzaW9uPWUucHJlY2lzaW9uLHRoaXMucG9seWdvbk9mZnNldD1lLnBvbHlnb25PZmZzZXQsdGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPWUucG9seWdvbk9mZnNldEZhY3Rvcix0aGlzLnBvbHlnb25PZmZzZXRVbml0cz1lLnBvbHlnb25PZmZzZXRVbml0cyx0aGlzLmRpdGhlcmluZz1lLmRpdGhlcmluZyx0aGlzLmFscGhhVGVzdD1lLmFscGhhVGVzdCx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT1lLnByZW11bHRpcGxpZWRBbHBoYSx0aGlzLnZpc2libGU9ZS52aXNpYmxlLHRoaXMudG9uZU1hcHBlZD1lLnRvbmVNYXBwZWQsdGhpcy51c2VyRGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUudXNlckRhdGEpKSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEUucHJvdG90eXBlLFwibmVlZHNVcGRhdGVcIix7c2V0OmZ1bmN0aW9uKGUpeyEwPT09ZSYmdGhpcy52ZXJzaW9uKyt9fSksQS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFLnByb3RvdHlwZSksQS5wcm90b3R5cGUuY29uc3RydWN0b3I9QSxBLnByb3RvdHlwZS5pc01lc2hCYXNpY01hdGVyaWFsPSEwLEEucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9ZS5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzfTt2YXIgX2g9bmV3IGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEwucHJvdG90eXBlLFwibmVlZHNVcGRhdGVcIix7c2V0OmZ1bmN0aW9uKGUpeyEwPT09ZSYmdGhpcy52ZXJzaW9uKyt9fSksT2JqZWN0LmFzc2lnbihMLnByb3RvdHlwZSx7aXNCdWZmZXJBdHRyaWJ1dGU6ITAsb25VcGxvYWRDYWxsYmFjazpmdW5jdGlvbigpe30sc2V0VXNhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXNhZ2U9ZSx0aGlzfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5hbWU9ZS5uYW1lLHRoaXMuYXJyYXk9bmV3IGUuYXJyYXkuY29uc3RydWN0b3IoZS5hcnJheSksdGhpcy5pdGVtU2l6ZT1lLml0ZW1TaXplLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzLm5vcm1hbGl6ZWQ9ZS5ub3JtYWxpemVkLHRoaXMudXNhZ2U9ZS51c2FnZSx0aGlzfSxjb3B5QXQ6ZnVuY3Rpb24oZSx0LG4pe2UqPXRoaXMuaXRlbVNpemUsbio9dC5pdGVtU2l6ZTtmb3IodmFyIHI9MCxpPXRoaXMuaXRlbVNpemU7cjxpO3IrKyl0aGlzLmFycmF5W2Urcl09dC5hcnJheVtuK3JdO3JldHVybiB0aGlzfSxjb3B5QXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXJyYXkuc2V0KGUpLHRoaXN9LGNvcHlDb2xvcnNBcnJheTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5hcnJheSxuPTAscj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyl7dmFyIGE9ZVtyXTt2b2lkIDA9PT1hJiYoY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlDb2xvcnNBcnJheSgpOiBjb2xvciBpcyB1bmRlZmluZWRcIixyKSxhPW5ldyB3KSx0W24rK109YS5yLHRbbisrXT1hLmcsdFtuKytdPWEuYn1yZXR1cm4gdGhpc30sY29weVZlY3RvcjJzQXJyYXk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuYXJyYXkscj0wLGk9MCxhPWUubGVuZ3RoO2k8YTtpKyspe3ZhciBvPWVbaV07dm9pZCAwPT09byYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkXCIsaSksbz1uZXcgbiksdFtyKytdPW8ueCx0W3IrK109by55fXJldHVybiB0aGlzfSxjb3B5VmVjdG9yM3NBcnJheTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5hcnJheSxuPTAscj0wLGE9ZS5sZW5ndGg7cjxhO3IrKyl7dmFyIG89ZVtyXTt2b2lkIDA9PT1vJiYoY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3Izc0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWRcIixyKSxvPW5ldyBpKSx0W24rK109by54LHRbbisrXT1vLnksdFtuKytdPW8uen1yZXR1cm4gdGhpc30sY29weVZlY3RvcjRzQXJyYXk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuYXJyYXksbj0wLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBhPWVbcl07dm9pZCAwPT09YSYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yNHNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkXCIsciksYT1uZXcgcyksdFtuKytdPWEueCx0W24rK109YS55LHRbbisrXT1hLnosdFtuKytdPWEud31yZXR1cm4gdGhpc30sYXBwbHlNYXRyaXgzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5jb3VudDt0PG47dCsrKV9oLng9dGhpcy5nZXRYKHQpLF9oLnk9dGhpcy5nZXRZKHQpLF9oLno9dGhpcy5nZXRaKHQpLF9oLmFwcGx5TWF0cml4MyhlKSx0aGlzLnNldFhZWih0LF9oLngsX2gueSxfaC56KTtyZXR1cm4gdGhpc30sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5jb3VudDt0PG47dCsrKV9oLng9dGhpcy5nZXRYKHQpLF9oLnk9dGhpcy5nZXRZKHQpLF9oLno9dGhpcy5nZXRaKHQpLF9oLmFwcGx5TWF0cml4NChlKSx0aGlzLnNldFhZWih0LF9oLngsX2gueSxfaC56KTtyZXR1cm4gdGhpc30sYXBwbHlOb3JtYWxNYXRyaXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmNvdW50O3Q8bjt0KyspX2gueD10aGlzLmdldFgodCksX2gueT10aGlzLmdldFkodCksX2guej10aGlzLmdldFoodCksX2guYXBwbHlOb3JtYWxNYXRyaXgoZSksdGhpcy5zZXRYWVoodCxfaC54LF9oLnksX2gueik7cmV0dXJuIHRoaXN9LHRyYW5zZm9ybURpcmVjdGlvbjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMuY291bnQ7dDxuO3QrKylfaC54PXRoaXMuZ2V0WCh0KSxfaC55PXRoaXMuZ2V0WSh0KSxfaC56PXRoaXMuZ2V0Wih0KSxfaC50cmFuc2Zvcm1EaXJlY3Rpb24oZSksdGhpcy5zZXRYWVoodCxfaC54LF9oLnksX2gueik7cmV0dXJuIHRoaXN9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLmFycmF5LnNldChlLHQpLHRoaXN9LGdldFg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplXX0sc2V0WDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZV09dCx0aGlzfSxnZXRZOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsxXX0sc2V0WTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFycmF5W2UqdGhpcy5pdGVtU2l6ZSsxXT10LHRoaXN9LGdldFo6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplKzJdfSxzZXRaOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYXJyYXlbZSp0aGlzLml0ZW1TaXplKzJdPXQsdGhpc30sZ2V0VzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrM119LHNldFc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hcnJheVtlKnRoaXMuaXRlbVNpemUrM109dCx0aGlzfSxzZXRYWTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUqPXRoaXMuaXRlbVNpemUsdGhpcy5hcnJheVtlKzBdPXQsdGhpcy5hcnJheVtlKzFdPW4sdGhpc30sc2V0WFlaOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlKj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbZSswXT10LHRoaXMuYXJyYXlbZSsxXT1uLHRoaXMuYXJyYXlbZSsyXT1yLHRoaXN9LHNldFhZWlc6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gZSo9dGhpcy5pdGVtU2l6ZSx0aGlzLmFycmF5W2UrMF09dCx0aGlzLmFycmF5W2UrMV09bix0aGlzLmFycmF5W2UrMl09cix0aGlzLmFycmF5W2UrM109aSx0aGlzfSxvblVwbG9hZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vblVwbG9hZENhbGxiYWNrPWUsdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm57aXRlbVNpemU6dGhpcy5pdGVtU2l6ZSx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmFycmF5KSxub3JtYWxpemVkOnRoaXMubm9ybWFsaXplZH19fSksUi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShMLnByb3RvdHlwZSksUi5wcm90b3R5cGUuY29uc3RydWN0b3I9UixQLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEwucHJvdG90eXBlKSxQLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1QLEMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTC5wcm90b3R5cGUpLEMucHJvdG90eXBlLmNvbnN0cnVjdG9yPUMsTy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShMLnByb3RvdHlwZSksTy5wcm90b3R5cGUuY29uc3RydWN0b3I9TyxELnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEwucHJvdG90eXBlKSxELnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ELEkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTC5wcm90b3R5cGUpLEkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUksTi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShMLnByb3RvdHlwZSksTi5wcm90b3R5cGUuY29uc3RydWN0b3I9Tix6LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEwucHJvdG90eXBlKSx6LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj16LEIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTC5wcm90b3R5cGUpLEIucHJvdG90eXBlLmNvbnN0cnVjdG9yPUIsT2JqZWN0LmFzc2lnbihVLnByb3RvdHlwZSx7Y29tcHV0ZUdyb3VwczpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1bXSxyPXZvaWQgMCxpPWUuZmFjZXMsYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgbz1pW2FdO28ubWF0ZXJpYWxJbmRleCE9PXImJihyPW8ubWF0ZXJpYWxJbmRleCx2b2lkIDAhPT10JiYodC5jb3VudD0zKmEtdC5zdGFydCxuLnB1c2godCkpLHQ9e3N0YXJ0OjMqYSxtYXRlcmlhbEluZGV4OnJ9KX12b2lkIDAhPT10JiYodC5jb3VudD0zKmEtdC5zdGFydCxuLnB1c2godCkpLHRoaXMuZ3JvdXBzPW59LGZyb21HZW9tZXRyeTpmdW5jdGlvbihlKXt2YXIgdCxyPWUuZmFjZXMsaT1lLnZlcnRpY2VzLGE9ZS5mYWNlVmVydGV4VXZzLG89YVswXSYmYVswXS5sZW5ndGg+MCxzPWFbMV0mJmFbMV0ubGVuZ3RoPjAsYz1lLm1vcnBoVGFyZ2V0cyxsPWMubGVuZ3RoO2lmKGw+MCl7dD1bXTtmb3IodmFyIGg9MDtoPGw7aCsrKXRbaF09e25hbWU6Y1toXS5uYW1lLGRhdGE6W119O3RoaXMubW9ycGhUYXJnZXRzLnBvc2l0aW9uPXR9dmFyIHUscD1lLm1vcnBoTm9ybWFscyxkPXAubGVuZ3RoO2lmKGQ+MCl7dT1bXTtmb3IodmFyIGg9MDtoPGQ7aCsrKXVbaF09e25hbWU6cFtoXS5uYW1lLGRhdGE6W119O3RoaXMubW9ycGhUYXJnZXRzLm5vcm1hbD11fXZhciBmPWUuc2tpbkluZGljZXMsbT1lLnNraW5XZWlnaHRzLHY9Zi5sZW5ndGg9PT1pLmxlbmd0aCxnPW0ubGVuZ3RoPT09aS5sZW5ndGg7aS5sZW5ndGg+MCYmMD09PXIubGVuZ3RoJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuRGlyZWN0R2VvbWV0cnk6IEZhY2VsZXNzIGdlb21ldHJpZXMgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpO2Zvcih2YXIgaD0wO2g8ci5sZW5ndGg7aCsrKXt2YXIgeT1yW2hdO3RoaXMudmVydGljZXMucHVzaChpW3kuYV0saVt5LmJdLGlbeS5jXSk7dmFyIHg9eS52ZXJ0ZXhOb3JtYWxzO2lmKDM9PT14Lmxlbmd0aCl0aGlzLm5vcm1hbHMucHVzaCh4WzBdLHhbMV0seFsyXSk7ZWxzZXt2YXIgYj15Lm5vcm1hbDt0aGlzLm5vcm1hbHMucHVzaChiLGIsYil9dmFyIHc9eS52ZXJ0ZXhDb2xvcnM7aWYoMz09PXcubGVuZ3RoKXRoaXMuY29sb3JzLnB1c2god1swXSx3WzFdLHdbMl0pO2Vsc2V7dmFyIF89eS5jb2xvcjt0aGlzLmNvbG9ycy5wdXNoKF8sXyxfKX1pZighMD09PW8pe3ZhciBNPWFbMF1baF07dm9pZCAwIT09TT90aGlzLnV2cy5wdXNoKE1bMF0sTVsxXSxNWzJdKTooY29uc29sZS53YXJuKFwiVEhSRUUuRGlyZWN0R2VvbWV0cnkuZnJvbUdlb21ldHJ5KCk6IFVuZGVmaW5lZCB2ZXJ0ZXhVdiBcIixoKSx0aGlzLnV2cy5wdXNoKG5ldyBuLG5ldyBuLG5ldyBuKSl9aWYoITA9PT1zKXt2YXIgTT1hWzFdW2hdO3ZvaWQgMCE9PU0/dGhpcy51dnMyLnB1c2goTVswXSxNWzFdLE1bMl0pOihjb25zb2xlLndhcm4oXCJUSFJFRS5EaXJlY3RHZW9tZXRyeS5mcm9tR2VvbWV0cnkoKTogVW5kZWZpbmVkIHZlcnRleFV2MiBcIixoKSx0aGlzLnV2czIucHVzaChuZXcgbixuZXcgbixuZXcgbikpfWZvcih2YXIgUz0wO1M8bDtTKyspe3ZhciBUPWNbU10udmVydGljZXM7dFtTXS5kYXRhLnB1c2goVFt5LmFdLFRbeS5iXSxUW3kuY10pfWZvcih2YXIgUz0wO1M8ZDtTKyspe3ZhciBFPXBbU10udmVydGV4Tm9ybWFsc1toXTt1W1NdLmRhdGEucHVzaChFLmEsRS5iLEUuYyl9diYmdGhpcy5za2luSW5kaWNlcy5wdXNoKGZbeS5hXSxmW3kuYl0sZlt5LmNdKSxnJiZ0aGlzLnNraW5XZWlnaHRzLnB1c2gobVt5LmFdLG1beS5iXSxtW3kuY10pfXJldHVybiB0aGlzLmNvbXB1dGVHcm91cHMoZSksdGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9ZS52ZXJ0aWNlc05lZWRVcGRhdGUsdGhpcy5ub3JtYWxzTmVlZFVwZGF0ZT1lLm5vcm1hbHNOZWVkVXBkYXRlLHRoaXMuY29sb3JzTmVlZFVwZGF0ZT1lLmNvbG9yc05lZWRVcGRhdGUsdGhpcy51dnNOZWVkVXBkYXRlPWUudXZzTmVlZFVwZGF0ZSx0aGlzLmdyb3Vwc05lZWRVcGRhdGU9ZS5ncm91cHNOZWVkVXBkYXRlLG51bGwhPT1lLmJvdW5kaW5nU3BoZXJlJiYodGhpcy5ib3VuZGluZ1NwaGVyZT1lLmJvdW5kaW5nU3BoZXJlLmNsb25lKCkpLG51bGwhPT1lLmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD1lLmJvdW5kaW5nQm94LmNsb25lKCkpLHRoaXN9fSk7dmFyIE1oPTEsU2g9bmV3IGgsVGg9bmV3IGQsRWg9bmV3IGksQWg9bmV3IG0sTGg9bmV3IG0sUmg9bmV3IGk7Ry5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Ryxpc0J1ZmZlckdlb21ldHJ5OiEwLGdldEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXh9LHNldEluZGV4OmZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoZSk/dGhpcy5pbmRleD1uZXcoRihlKT42NTUzNT9OOkQpKGUsMSk6dGhpcy5pbmRleD1lfSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXT10LHRoaXN9LGRlbGV0ZUF0dHJpYnV0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tlXSx0aGlzfSxhZGRHcm91cDpmdW5jdGlvbihlLHQsbil7dGhpcy5ncm91cHMucHVzaCh7c3RhcnQ6ZSxjb3VudDp0LG1hdGVyaWFsSW5kZXg6dm9pZCAwIT09bj9uOjB9KX0sY2xlYXJHcm91cHM6ZnVuY3Rpb24oKXt0aGlzLmdyb3Vwcz1bXX0sc2V0RHJhd1JhbmdlOmZ1bmN0aW9uKGUsdCl7dGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9ZSx0aGlzLmRyYXdSYW5nZS5jb3VudD10fSxhcHBseU1hdHJpeDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb247dm9pZCAwIT09dCYmKGUuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZSh0KSx0Lm5lZWRzVXBkYXRlPSEwKTt2YXIgbj10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2lmKHZvaWQgMCE9PW4pe3ZhciByPShuZXcgYSkuZ2V0Tm9ybWFsTWF0cml4KGUpO24uYXBwbHlOb3JtYWxNYXRyaXgociksbi5uZWVkc1VwZGF0ZT0hMH12YXIgaT10aGlzLmF0dHJpYnV0ZXMudGFuZ2VudDtyZXR1cm4gdm9pZCAwIT09aSYmKGkudHJhbnNmb3JtRGlyZWN0aW9uKGUpLGkubmVlZHNVcGRhdGU9ITApLG51bGwhPT10aGlzLmJvdW5kaW5nQm94JiZ0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLG51bGwhPT10aGlzLmJvdW5kaW5nU3BoZXJlJiZ0aGlzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHRoaXN9LHJvdGF0ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuIFNoLm1ha2VSb3RhdGlvblgoZSksdGhpcy5hcHBseU1hdHJpeChTaCksdGhpc30scm90YXRlWTpmdW5jdGlvbihlKXtyZXR1cm4gU2gubWFrZVJvdGF0aW9uWShlKSx0aGlzLmFwcGx5TWF0cml4KFNoKSx0aGlzfSxyb3RhdGVaOmZ1bmN0aW9uKGUpe3JldHVybiBTaC5tYWtlUm90YXRpb25aKGUpLHRoaXMuYXBwbHlNYXRyaXgoU2gpLHRoaXN9LHRyYW5zbGF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFNoLm1ha2VUcmFuc2xhdGlvbihlLHQsbiksdGhpcy5hcHBseU1hdHJpeChTaCksdGhpc30sc2NhbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTaC5tYWtlU2NhbGUoZSx0LG4pLHRoaXMuYXBwbHlNYXRyaXgoU2gpLHRoaXN9LGxvb2tBdDpmdW5jdGlvbihlKXtyZXR1cm4gVGgubG9va0F0KGUpLFRoLnVwZGF0ZU1hdHJpeCgpLHRoaXMuYXBwbHlNYXRyaXgoVGgubWF0cml4KSx0aGlzfSxjZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSx0aGlzLmJvdW5kaW5nQm94LmdldENlbnRlcihFaCkubmVnYXRlKCksdGhpcy50cmFuc2xhdGUoRWgueCxFaC55LEVoLnopLHRoaXN9LHNldEZyb21PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeTtpZihlLmlzUG9pbnRzfHxlLmlzTGluZSl7dmFyIG49bmV3IHooMyp0LnZlcnRpY2VzLmxlbmd0aCwzKSxyPW5ldyB6KDMqdC5jb2xvcnMubGVuZ3RoLDMpO2lmKHRoaXMuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuLmNvcHlWZWN0b3Izc0FycmF5KHQudmVydGljZXMpKSx0aGlzLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsci5jb3B5Q29sb3JzQXJyYXkodC5jb2xvcnMpKSx0LmxpbmVEaXN0YW5jZXMmJnQubGluZURpc3RhbmNlcy5sZW5ndGg9PT10LnZlcnRpY2VzLmxlbmd0aCl7dmFyIGk9bmV3IHoodC5saW5lRGlzdGFuY2VzLmxlbmd0aCwxKTt0aGlzLnNldEF0dHJpYnV0ZShcImxpbmVEaXN0YW5jZVwiLGkuY29weUFycmF5KHQubGluZURpc3RhbmNlcykpfW51bGwhPT10LmJvdW5kaW5nU3BoZXJlJiYodGhpcy5ib3VuZGluZ1NwaGVyZT10LmJvdW5kaW5nU3BoZXJlLmNsb25lKCkpLG51bGwhPT10LmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD10LmJvdW5kaW5nQm94LmNsb25lKCkpfWVsc2UgZS5pc01lc2gmJnQmJnQuaXNHZW9tZXRyeSYmdGhpcy5mcm9tR2VvbWV0cnkodCk7cmV0dXJuIHRoaXN9LHNldEZyb21Qb2ludHM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspe3ZhciBpPWVbbl07dC5wdXNoKGkueCxpLnksaS56fHwwKX1yZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KHQsMykpLHRoaXN9LHVwZGF0ZUZyb21PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeTtpZihlLmlzTWVzaCl7dmFyIG49dC5fX2RpcmVjdEdlb21ldHJ5O2lmKCEwPT09dC5lbGVtZW50c05lZWRVcGRhdGUmJihuPXZvaWQgMCx0LmVsZW1lbnRzTmVlZFVwZGF0ZT0hMSksdm9pZCAwPT09bilyZXR1cm4gdGhpcy5mcm9tR2VvbWV0cnkodCk7bi52ZXJ0aWNlc05lZWRVcGRhdGU9dC52ZXJ0aWNlc05lZWRVcGRhdGUsbi5ub3JtYWxzTmVlZFVwZGF0ZT10Lm5vcm1hbHNOZWVkVXBkYXRlLG4uY29sb3JzTmVlZFVwZGF0ZT10LmNvbG9yc05lZWRVcGRhdGUsbi51dnNOZWVkVXBkYXRlPXQudXZzTmVlZFVwZGF0ZSxuLmdyb3Vwc05lZWRVcGRhdGU9dC5ncm91cHNOZWVkVXBkYXRlLHQudmVydGljZXNOZWVkVXBkYXRlPSExLHQubm9ybWFsc05lZWRVcGRhdGU9ITEsdC5jb2xvcnNOZWVkVXBkYXRlPSExLHQudXZzTmVlZFVwZGF0ZT0hMSx0Lmdyb3Vwc05lZWRVcGRhdGU9ITEsdD1ufXZhciByO3JldHVybiEwPT09dC52ZXJ0aWNlc05lZWRVcGRhdGUmJihyPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbix2b2lkIDAhPT1yJiYoci5jb3B5VmVjdG9yM3NBcnJheSh0LnZlcnRpY2VzKSxyLm5lZWRzVXBkYXRlPSEwKSx0LnZlcnRpY2VzTmVlZFVwZGF0ZT0hMSksITA9PT10Lm5vcm1hbHNOZWVkVXBkYXRlJiYocj10aGlzLmF0dHJpYnV0ZXMubm9ybWFsLHZvaWQgMCE9PXImJihyLmNvcHlWZWN0b3Izc0FycmF5KHQubm9ybWFscyksci5uZWVkc1VwZGF0ZT0hMCksdC5ub3JtYWxzTmVlZFVwZGF0ZT0hMSksITA9PT10LmNvbG9yc05lZWRVcGRhdGUmJihyPXRoaXMuYXR0cmlidXRlcy5jb2xvcix2b2lkIDAhPT1yJiYoci5jb3B5Q29sb3JzQXJyYXkodC5jb2xvcnMpLHIubmVlZHNVcGRhdGU9ITApLHQuY29sb3JzTmVlZFVwZGF0ZT0hMSksdC51dnNOZWVkVXBkYXRlJiYocj10aGlzLmF0dHJpYnV0ZXMudXYsdm9pZCAwIT09ciYmKHIuY29weVZlY3RvcjJzQXJyYXkodC51dnMpLHIubmVlZHNVcGRhdGU9ITApLHQudXZzTmVlZFVwZGF0ZT0hMSksdC5saW5lRGlzdGFuY2VzTmVlZFVwZGF0ZSYmKHI9dGhpcy5hdHRyaWJ1dGVzLmxpbmVEaXN0YW5jZSx2b2lkIDAhPT1yJiYoci5jb3B5QXJyYXkodC5saW5lRGlzdGFuY2VzKSxyLm5lZWRzVXBkYXRlPSEwKSx0LmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPSExKSx0Lmdyb3Vwc05lZWRVcGRhdGUmJih0LmNvbXB1dGVHcm91cHMoZS5nZW9tZXRyeSksdGhpcy5ncm91cHM9dC5ncm91cHMsdC5ncm91cHNOZWVkVXBkYXRlPSExKSx0aGlzfSxmcm9tR2VvbWV0cnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19kaXJlY3RHZW9tZXRyeT0obmV3IFUpLmZyb21HZW9tZXRyeShlKSx0aGlzLmZyb21EaXJlY3RHZW9tZXRyeShlLl9fZGlyZWN0R2VvbWV0cnkpfSxmcm9tRGlyZWN0R2VvbWV0cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEZsb2F0MzJBcnJheSgzKmUudmVydGljZXMubGVuZ3RoKTtpZih0aGlzLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IEwodCwzKS5jb3B5VmVjdG9yM3NBcnJheShlLnZlcnRpY2VzKSksZS5ub3JtYWxzLmxlbmd0aD4wKXt2YXIgbj1uZXcgRmxvYXQzMkFycmF5KDMqZS5ub3JtYWxzLmxlbmd0aCk7dGhpcy5zZXRBdHRyaWJ1dGUoXCJub3JtYWxcIixuZXcgTChuLDMpLmNvcHlWZWN0b3Izc0FycmF5KGUubm9ybWFscykpfWlmKGUuY29sb3JzLmxlbmd0aD4wKXt2YXIgcj1uZXcgRmxvYXQzMkFycmF5KDMqZS5jb2xvcnMubGVuZ3RoKTt0aGlzLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IEwociwzKS5jb3B5Q29sb3JzQXJyYXkoZS5jb2xvcnMpKX1pZihlLnV2cy5sZW5ndGg+MCl7dmFyIGk9bmV3IEZsb2F0MzJBcnJheSgyKmUudXZzLmxlbmd0aCk7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBMKGksMikuY29weVZlY3RvcjJzQXJyYXkoZS51dnMpKX1pZihlLnV2czIubGVuZ3RoPjApe3ZhciBhPW5ldyBGbG9hdDMyQXJyYXkoMiplLnV2czIubGVuZ3RoKTt0aGlzLnNldEF0dHJpYnV0ZShcInV2MlwiLG5ldyBMKGEsMikuY29weVZlY3RvcjJzQXJyYXkoZS51dnMyKSl9dGhpcy5ncm91cHM9ZS5ncm91cHM7Zm9yKHZhciBvIGluIGUubW9ycGhUYXJnZXRzKXtmb3IodmFyIHM9W10sYz1lLm1vcnBoVGFyZ2V0c1tvXSxsPTAsaD1jLmxlbmd0aDtsPGg7bCsrKXt2YXIgdT1jW2xdLHA9bmV3IHooMyp1LmRhdGEubGVuZ3RoLDMpO3AubmFtZT11Lm5hbWUscy5wdXNoKHAuY29weVZlY3RvcjNzQXJyYXkodS5kYXRhKSl9dGhpcy5tb3JwaEF0dHJpYnV0ZXNbb109c31pZihlLnNraW5JbmRpY2VzLmxlbmd0aD4wKXt2YXIgZD1uZXcgeig0KmUuc2tpbkluZGljZXMubGVuZ3RoLDQpO3RoaXMuc2V0QXR0cmlidXRlKFwic2tpbkluZGV4XCIsZC5jb3B5VmVjdG9yNHNBcnJheShlLnNraW5JbmRpY2VzKSl9aWYoZS5za2luV2VpZ2h0cy5sZW5ndGg+MCl7dmFyIGY9bmV3IHooNCplLnNraW5XZWlnaHRzLmxlbmd0aCw0KTt0aGlzLnNldEF0dHJpYnV0ZShcInNraW5XZWlnaHRcIixmLmNvcHlWZWN0b3I0c0FycmF5KGUuc2tpbldlaWdodHMpKX1yZXR1cm4gbnVsbCE9PWUuYm91bmRpbmdTcGhlcmUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPWUuYm91bmRpbmdTcGhlcmUuY2xvbmUoKSksbnVsbCE9PWUuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PWUuYm91bmRpbmdCb3guY2xvbmUoKSksdGhpc30sY29tcHV0ZUJvdW5kaW5nQm94OmZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PW5ldyBtKTt2YXIgZT10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb24sdD10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZih2b2lkIDAhPT1lKXtpZih0aGlzLmJvdW5kaW5nQm94LnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBpPXRbbl07QWguc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShpKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhSaC5hZGRWZWN0b3JzKHRoaXMuYm91bmRpbmdCb3gubWluLEFoLm1pbiksdGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KFJoKSxSaC5hZGRWZWN0b3JzKHRoaXMuYm91bmRpbmdCb3gubWF4LEFoLm1heCksdGhpcy5ib3VuZGluZ0JveC5leHBhbmRCeVBvaW50KFJoKSk6KHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChBaC5taW4pLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChBaC5tYXgpKX19ZWxzZSB0aGlzLmJvdW5kaW5nQm94Lm1ha2VFbXB0eSgpOyhpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi54KXx8aXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueSl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnopKSYmY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94OiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlIFwicG9zaXRpb25cIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpfSxjb21wdXRlQm91bmRpbmdTcGhlcmU6ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IGcpO3ZhciBlPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbix0PXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKGUpe3ZhciBuPXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyO2lmKEFoLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoZSksdClmb3IodmFyIHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspe3ZhciBhPXRbcl07TGguc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShhKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhSaC5hZGRWZWN0b3JzKEFoLm1pbixMaC5taW4pLEFoLmV4cGFuZEJ5UG9pbnQoUmgpLFJoLmFkZFZlY3RvcnMoQWgubWF4LExoLm1heCksQWguZXhwYW5kQnlQb2ludChSaCkpOihBaC5leHBhbmRCeVBvaW50KExoLm1pbiksQWguZXhwYW5kQnlQb2ludChMaC5tYXgpKX1BaC5nZXRDZW50ZXIobik7Zm9yKHZhciBvPTAscj0wLGk9ZS5jb3VudDtyPGk7cisrKVJoLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxyKSxvPU1hdGgubWF4KG8sbi5kaXN0YW5jZVRvU3F1YXJlZChSaCkpO2lmKHQpZm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKWZvcih2YXIgYT10W3JdLHM9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZSxjPTAsbD1hLmNvdW50O2M8bDtjKyspUmguZnJvbUJ1ZmZlckF0dHJpYnV0ZShhLGMpLHMmJihFaC5mcm9tQnVmZmVyQXR0cmlidXRlKGUsYyksUmguYWRkKEVoKSksbz1NYXRoLm1heChvLG4uZGlzdGFuY2VUb1NxdWFyZWQoUmgpKTt0aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cz1NYXRoLnNxcnQobyksaXNOYU4odGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMpJiZjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTogQ29tcHV0ZWQgcmFkaXVzIGlzIE5hTi4gVGhlIFwicG9zaXRpb25cIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpfX0sY29tcHV0ZUZhY2VOb3JtYWxzOmZ1bmN0aW9uKCl7fSxjb21wdXRlVmVydGV4Tm9ybWFsczpmdW5jdGlvbigpe1xudmFyIGU9dGhpcy5pbmRleCx0PXRoaXMuYXR0cmlidXRlcztpZih0LnBvc2l0aW9uKXt2YXIgbj10LnBvc2l0aW9uLmFycmF5O2lmKHZvaWQgMD09PXQubm9ybWFsKXRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IEwobmV3IEZsb2F0MzJBcnJheShuLmxlbmd0aCksMykpO2Vsc2UgZm9yKHZhciByPXQubm9ybWFsLmFycmF5LGE9MCxvPXIubGVuZ3RoO2E8bzthKyspclthXT0wO3ZhciBzLGMsbCxoPXQubm9ybWFsLmFycmF5LHU9bmV3IGkscD1uZXcgaSxkPW5ldyBpLGY9bmV3IGksbT1uZXcgaTtpZihlKWZvcih2YXIgdj1lLmFycmF5LGE9MCxvPWUuY291bnQ7YTxvO2ErPTMpcz0zKnZbYSswXSxjPTMqdlthKzFdLGw9Myp2W2ErMl0sdS5mcm9tQXJyYXkobixzKSxwLmZyb21BcnJheShuLGMpLGQuZnJvbUFycmF5KG4sbCksZi5zdWJWZWN0b3JzKGQscCksbS5zdWJWZWN0b3JzKHUscCksZi5jcm9zcyhtKSxoW3NdKz1mLngsaFtzKzFdKz1mLnksaFtzKzJdKz1mLnosaFtjXSs9Zi54LGhbYysxXSs9Zi55LGhbYysyXSs9Zi56LGhbbF0rPWYueCxoW2wrMV0rPWYueSxoW2wrMl0rPWYuejtlbHNlIGZvcih2YXIgYT0wLG89bi5sZW5ndGg7YTxvO2ErPTkpdS5mcm9tQXJyYXkobixhKSxwLmZyb21BcnJheShuLGErMyksZC5mcm9tQXJyYXkobixhKzYpLGYuc3ViVmVjdG9ycyhkLHApLG0uc3ViVmVjdG9ycyh1LHApLGYuY3Jvc3MobSksaFthXT1mLngsaFthKzFdPWYueSxoW2ErMl09Zi56LGhbYSszXT1mLngsaFthKzRdPWYueSxoW2ErNV09Zi56LGhbYSs2XT1mLngsaFthKzddPWYueSxoW2ErOF09Zi56O3RoaXMubm9ybWFsaXplTm9ybWFscygpLHQubm9ybWFsLm5lZWRzVXBkYXRlPSEwfX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtpZighZXx8IWUuaXNCdWZmZXJHZW9tZXRyeSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LlwiLGUpO3ZvaWQgMD09PXQmJih0PTAsY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogT3ZlcndyaXRpbmcgb3JpZ2luYWwgZ2VvbWV0cnksIHN0YXJ0aW5nIGF0IG9mZnNldD0wLiBVc2UgQnVmZmVyR2VvbWV0cnlVdGlscy5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmb3IgbG9zc2xlc3MgbWVyZ2UuXCIpKTt2YXIgbj10aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciByIGluIG4paWYodm9pZCAwIT09ZS5hdHRyaWJ1dGVzW3JdKWZvcih2YXIgaT1uW3JdLGE9aS5hcnJheSxvPWUuYXR0cmlidXRlc1tyXSxzPW8uYXJyYXksYz1vLml0ZW1TaXplKnQsbD1NYXRoLm1pbihzLmxlbmd0aCxhLmxlbmd0aC1jKSxoPTAsdT1jO2g8bDtoKyssdSsrKWFbdV09c1toXTtyZXR1cm4gdGhpc30sbm9ybWFsaXplTm9ybWFsczpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmF0dHJpYnV0ZXMubm9ybWFsLHQ9MCxuPWUuY291bnQ7dDxuO3QrKylSaC54PWUuZ2V0WCh0KSxSaC55PWUuZ2V0WSh0KSxSaC56PWUuZ2V0Wih0KSxSaC5ub3JtYWxpemUoKSxlLnNldFhZWih0LFJoLngsUmgueSxSaC56KX0sdG9Ob25JbmRleGVkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj1lLmFycmF5LHI9ZS5pdGVtU2l6ZSxpPW5ldyBuLmNvbnN0cnVjdG9yKHQubGVuZ3RoKnIpLGE9MCxvPTAscz0wLGM9dC5sZW5ndGg7czxjO3MrKyl7YT10W3NdKnI7Zm9yKHZhciBsPTA7bDxyO2wrKylpW28rK109blthKytdfXJldHVybiBuZXcgTChpLHIpfWlmKG51bGw9PT10aGlzLmluZGV4KXJldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeS50b05vbkluZGV4ZWQoKTogR2VvbWV0cnkgaXMgYWxyZWFkeSBub24taW5kZXhlZC5cIiksdGhpczt2YXIgdD1uZXcgRyxuPXRoaXMuaW5kZXguYXJyYXkscj10aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciBpIGluIHIpe3ZhciBhPXJbaV0sbz1lKGEsbik7dC5zZXRBdHRyaWJ1dGUoaSxvKX12YXIgcz10aGlzLm1vcnBoQXR0cmlidXRlcztmb3IoaSBpbiBzKXtmb3IodmFyIGM9W10sbD1zW2ldLGg9MCx1PWwubGVuZ3RoO2g8dTtoKyspe3ZhciBhPWxbaF0sbz1lKGEsbik7Yy5wdXNoKG8pfXQubW9ycGhBdHRyaWJ1dGVzW2ldPWN9dC5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2Zvcih2YXIgcD10aGlzLmdyb3VwcyxoPTAsZD1wLmxlbmd0aDtoPGQ7aCsrKXt2YXIgZj1wW2hdO3QuYWRkR3JvdXAoZi5zdGFydCxmLmNvdW50LGYubWF0ZXJpYWxJbmRleCl9cmV0dXJuIHR9LHRvSlNPTjpmdW5jdGlvbigpe3ZhciBlPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTpcIkJ1ZmZlckdlb21ldHJ5XCIsZ2VuZXJhdG9yOlwiQnVmZmVyR2VvbWV0cnkudG9KU09OXCJ9fTtpZihlLnV1aWQ9dGhpcy51dWlkLGUudHlwZT10aGlzLnR5cGUsXCJcIiE9PXRoaXMubmFtZSYmKGUubmFtZT10aGlzLm5hbWUpLE9iamVjdC5rZXlzKHRoaXMudXNlckRhdGEpLmxlbmd0aD4wJiYoZS51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSx2b2lkIDAhPT10aGlzLnBhcmFtZXRlcnMpe3ZhciB0PXRoaXMucGFyYW1ldGVycztmb3IodmFyIG4gaW4gdCl2b2lkIDAhPT10W25dJiYoZVtuXT10W25dKTtyZXR1cm4gZX1lLmRhdGE9e2F0dHJpYnV0ZXM6e319O3ZhciByPXRoaXMuaW5kZXg7bnVsbCE9PXImJihlLmRhdGEuaW5kZXg9e3R5cGU6ci5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHIuYXJyYXkpfSk7dmFyIGk9dGhpcy5hdHRyaWJ1dGVzO2Zvcih2YXIgbiBpbiBpKXt2YXIgYT1pW25dLG89YS50b0pTT04oKTtcIlwiIT09YS5uYW1lJiYoby5uYW1lPWEubmFtZSksZS5kYXRhLmF0dHJpYnV0ZXNbbl09b312YXIgcz17fSxjPSExO2Zvcih2YXIgbiBpbiB0aGlzLm1vcnBoQXR0cmlidXRlcyl7Zm9yKHZhciBsPXRoaXMubW9ycGhBdHRyaWJ1dGVzW25dLGg9W10sdT0wLHA9bC5sZW5ndGg7dTxwO3UrKyl7dmFyIGE9bFt1XSxvPWEudG9KU09OKCk7XCJcIiE9PWEubmFtZSYmKG8ubmFtZT1hLm5hbWUpLGgucHVzaChvKX1oLmxlbmd0aD4wJiYoc1tuXT1oLGM9ITApfWMmJihlLmRhdGEubW9ycGhBdHRyaWJ1dGVzPXMsZS5kYXRhLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpO3ZhciBkPXRoaXMuZ3JvdXBzO2QubGVuZ3RoPjAmJihlLmRhdGEuZ3JvdXBzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZCkpKTt2YXIgZj10aGlzLmJvdW5kaW5nU3BoZXJlO3JldHVybiBudWxsIT09ZiYmKGUuZGF0YS5ib3VuZGluZ1NwaGVyZT17Y2VudGVyOmYuY2VudGVyLnRvQXJyYXkoKSxyYWRpdXM6Zi5yYWRpdXN9KSxlfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgRykuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7dGhpcy5pbmRleD1udWxsLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm1vcnBoQXR0cmlidXRlcz17fSx0aGlzLmdyb3Vwcz1bXSx0aGlzLmJvdW5kaW5nQm94PW51bGwsdGhpcy5ib3VuZGluZ1NwaGVyZT1udWxsLHRoaXMubmFtZT1lLm5hbWU7dmFyIGk9ZS5pbmRleDtudWxsIT09aSYmdGhpcy5zZXRJbmRleChpLmNsb25lKCkpO3ZhciBhPWUuYXR0cmlidXRlcztmb3IodCBpbiBhKXt2YXIgbz1hW3RdO3RoaXMuc2V0QXR0cmlidXRlKHQsby5jbG9uZSgpKX12YXIgcz1lLm1vcnBoQXR0cmlidXRlcztmb3IodCBpbiBzKXt2YXIgYz1bXSxsPXNbdF07Zm9yKG49MCxyPWwubGVuZ3RoO248cjtuKyspYy5wdXNoKGxbbl0uY2xvbmUoKSk7dGhpcy5tb3JwaEF0dHJpYnV0ZXNbdF09Y310aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPWUubW9ycGhUYXJnZXRzUmVsYXRpdmU7dmFyIGg9ZS5ncm91cHM7Zm9yKG49MCxyPWgubGVuZ3RoO248cjtuKyspe3ZhciB1PWhbbl07dGhpcy5hZGRHcm91cCh1LnN0YXJ0LHUuY291bnQsdS5tYXRlcmlhbEluZGV4KX12YXIgcD1lLmJvdW5kaW5nQm94O251bGwhPT1wJiYodGhpcy5ib3VuZGluZ0JveD1wLmNsb25lKCkpO3ZhciBkPWUuYm91bmRpbmdTcGhlcmU7cmV0dXJuIG51bGwhPT1kJiYodGhpcy5ib3VuZGluZ1NwaGVyZT1kLmNsb25lKCkpLHRoaXMuZHJhd1JhbmdlLnN0YXJ0PWUuZHJhd1JhbmdlLnN0YXJ0LHRoaXMuZHJhd1JhbmdlLmNvdW50PWUuZHJhd1JhbmdlLmNvdW50LHRoaXMudXNlckRhdGE9ZS51c2VyRGF0YSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fSk7dmFyIFBoPW5ldyBoLENoPW5ldyB5LE9oPW5ldyBnLERoPW5ldyBpLEloPW5ldyBpLE5oPW5ldyBpLHpoPW5ldyBpLEJoPW5ldyBpLFVoPW5ldyBpLEZoPW5ldyBpLEdoPW5ldyBpLEhoPW5ldyBpLFZoPW5ldyBuLGpoPW5ldyBuLGtoPW5ldyBuLFdoPW5ldyBpLHFoPW5ldyBpO0gucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkgsaXNNZXNoOiEwLGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHZvaWQgMCE9PWUubW9ycGhUYXJnZXRJbmZsdWVuY2VzJiYodGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9ZS5tb3JwaFRhcmdldEluZmx1ZW5jZXMuc2xpY2UoKSksdm9pZCAwIT09ZS5tb3JwaFRhcmdldERpY3Rpb25hcnkmJih0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT1PYmplY3QuYXNzaWduKHt9LGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5KSksdGhpc30sdXBkYXRlTW9ycGhUYXJnZXRzOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9dGhpcy5nZW9tZXRyeTtpZihyLmlzQnVmZmVyR2VvbWV0cnkpe3ZhciBpPXIubW9ycGhBdHRyaWJ1dGVzLGE9T2JqZWN0LmtleXMoaSk7aWYoYS5sZW5ndGg+MCl7dmFyIG89aVthWzBdXTtpZih2b2lkIDAhPT1vKWZvcih0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fSxlPTAsdD1vLmxlbmd0aDtlPHQ7ZSsrKW49b1tlXS5uYW1lfHxTdHJpbmcoZSksdGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuXT1lfX1lbHNle3ZhciBzPXIubW9ycGhUYXJnZXRzO3ZvaWQgMCE9PXMmJnMubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5NZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuXCIpfX0scmF5Y2FzdDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ2VvbWV0cnksaT10aGlzLm1hdGVyaWFsLGE9dGhpcy5tYXRyaXhXb3JsZDtpZih2b2lkIDAhPT1pJiYobnVsbD09PXIuYm91bmRpbmdTcGhlcmUmJnIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksT2guY29weShyLmJvdW5kaW5nU3BoZXJlKSxPaC5hcHBseU1hdHJpeDQoYSksITEhPT1lLnJheS5pbnRlcnNlY3RzU3BoZXJlKE9oKSYmKFBoLmdldEludmVyc2UoYSksQ2guY29weShlLnJheSkuYXBwbHlNYXRyaXg0KFBoKSxudWxsPT09ci5ib3VuZGluZ0JveHx8ITEhPT1DaC5pbnRlcnNlY3RzQm94KHIuYm91bmRpbmdCb3gpKSkpe3ZhciBvO2lmKHIuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIHMsYyxsLGgsdSxwLGQsZixtLHYsZyx5PXIuaW5kZXgseD1yLmF0dHJpYnV0ZXMucG9zaXRpb24sdz1yLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixfPXIubW9ycGhUYXJnZXRzUmVsYXRpdmUsTT1yLmF0dHJpYnV0ZXMudXYsUz1yLmF0dHJpYnV0ZXMudXYyLFQ9ci5ncm91cHMsRT1yLmRyYXdSYW5nZTtpZihudWxsIT09eSlpZihBcnJheS5pc0FycmF5KGkpKWZvcihoPTAscD1ULmxlbmd0aDtoPHA7aCsrKWZvcihmPVRbaF0sbT1pW2YubWF0ZXJpYWxJbmRleF0sdj1NYXRoLm1heChmLnN0YXJ0LEUuc3RhcnQpLGc9TWF0aC5taW4oZi5zdGFydCtmLmNvdW50LEUuc3RhcnQrRS5jb3VudCksdT12LGQ9Zzt1PGQ7dSs9MylzPXkuZ2V0WCh1KSxjPXkuZ2V0WCh1KzEpLGw9eS5nZXRYKHUrMiksKG89aih0aGlzLG0sZSxDaCx4LHcsXyxNLFMscyxjLGwpKSYmKG8uZmFjZUluZGV4PU1hdGguZmxvb3IodS8zKSxvLmZhY2UubWF0ZXJpYWxJbmRleD1mLm1hdGVyaWFsSW5kZXgsdC5wdXNoKG8pKTtlbHNlIGZvcih2PU1hdGgubWF4KDAsRS5zdGFydCksZz1NYXRoLm1pbih5LmNvdW50LEUuc3RhcnQrRS5jb3VudCksaD12LHA9ZztoPHA7aCs9MylzPXkuZ2V0WChoKSxjPXkuZ2V0WChoKzEpLGw9eS5nZXRYKGgrMiksKG89aih0aGlzLGksZSxDaCx4LHcsXyxNLFMscyxjLGwpKSYmKG8uZmFjZUluZGV4PU1hdGguZmxvb3IoaC8zKSx0LnB1c2gobykpO2Vsc2UgaWYodm9pZCAwIT09eClpZihBcnJheS5pc0FycmF5KGkpKWZvcihoPTAscD1ULmxlbmd0aDtoPHA7aCsrKWZvcihmPVRbaF0sbT1pW2YubWF0ZXJpYWxJbmRleF0sdj1NYXRoLm1heChmLnN0YXJ0LEUuc3RhcnQpLGc9TWF0aC5taW4oZi5zdGFydCtmLmNvdW50LEUuc3RhcnQrRS5jb3VudCksdT12LGQ9Zzt1PGQ7dSs9MylzPXUsYz11KzEsbD11KzIsKG89aih0aGlzLG0sZSxDaCx4LHcsXyxNLFMscyxjLGwpKSYmKG8uZmFjZUluZGV4PU1hdGguZmxvb3IodS8zKSxvLmZhY2UubWF0ZXJpYWxJbmRleD1mLm1hdGVyaWFsSW5kZXgsdC5wdXNoKG8pKTtlbHNlIGZvcih2PU1hdGgubWF4KDAsRS5zdGFydCksZz1NYXRoLm1pbih4LmNvdW50LEUuc3RhcnQrRS5jb3VudCksaD12LHA9ZztoPHA7aCs9MylzPWgsYz1oKzEsbD1oKzIsKG89aih0aGlzLGksZSxDaCx4LHcsXyxNLFMscyxjLGwpKSYmKG8uZmFjZUluZGV4PU1hdGguZmxvb3IoaC8zKSx0LnB1c2gobykpfWVsc2UgaWYoci5pc0dlb21ldHJ5KXt2YXIgQSxMLFIsUCxDPUFycmF5LmlzQXJyYXkoaSksTz1yLnZlcnRpY2VzLEQ9ci5mYWNlcyxJPXIuZmFjZVZlcnRleFV2c1swXTtJLmxlbmd0aD4wJiYoUD1JKTtmb3IodmFyIE49MCx6PUQubGVuZ3RoO048ejtOKyspe3ZhciBCPURbTl0sVT1DP2lbQi5tYXRlcmlhbEluZGV4XTppO2lmKHZvaWQgMCE9PVUmJihBPU9bQi5hXSxMPU9bQi5iXSxSPU9bQi5jXSxvPVYodGhpcyxVLGUsQ2gsQSxMLFIsV2gpKSl7aWYoUCYmUFtOXSl7dmFyIEY9UFtOXTtWaC5jb3B5KEZbMF0pLGpoLmNvcHkoRlsxXSksa2guY29weShGWzJdKSxvLnV2PWIuZ2V0VVYoV2gsQSxMLFIsVmgsamgsa2gsbmV3IG4pfW8uZmFjZT1CLG8uZmFjZUluZGV4PU4sdC5wdXNoKG8pfX19fX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsKS5jb3B5KHRoaXMpfX0pO3ZhciBYaD0wLFloPW5ldyBoLFpoPW5ldyBkLEpoPW5ldyBpO2sucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmssaXNHZW9tZXRyeTohMCxhcHBseU1hdHJpeDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9KG5ldyBhKS5nZXROb3JtYWxNYXRyaXgoZSksbj0wLHI9dGhpcy52ZXJ0aWNlcy5sZW5ndGg7bjxyO24rKyl7dGhpcy52ZXJ0aWNlc1tuXS5hcHBseU1hdHJpeDQoZSl9Zm9yKHZhciBuPTAscj10aGlzLmZhY2VzLmxlbmd0aDtuPHI7bisrKXt2YXIgaT10aGlzLmZhY2VzW25dO2kubm9ybWFsLmFwcGx5TWF0cml4Myh0KS5ub3JtYWxpemUoKTtmb3IodmFyIG89MCxzPWkudmVydGV4Tm9ybWFscy5sZW5ndGg7bzxzO28rKylpLnZlcnRleE5vcm1hbHNbb10uYXBwbHlNYXRyaXgzKHQpLm5vcm1hbGl6ZSgpfXJldHVybiBudWxsIT09dGhpcy5ib3VuZGluZ0JveCYmdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSxudWxsIT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSx0aGlzLnZlcnRpY2VzTmVlZFVwZGF0ZT0hMCx0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSEwLHRoaXN9LHJvdGF0ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuIFloLm1ha2VSb3RhdGlvblgoZSksdGhpcy5hcHBseU1hdHJpeChZaCksdGhpc30scm90YXRlWTpmdW5jdGlvbihlKXtyZXR1cm4gWWgubWFrZVJvdGF0aW9uWShlKSx0aGlzLmFwcGx5TWF0cml4KFloKSx0aGlzfSxyb3RhdGVaOmZ1bmN0aW9uKGUpe3JldHVybiBZaC5tYWtlUm90YXRpb25aKGUpLHRoaXMuYXBwbHlNYXRyaXgoWWgpLHRoaXN9LHRyYW5zbGF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFloLm1ha2VUcmFuc2xhdGlvbihlLHQsbiksdGhpcy5hcHBseU1hdHJpeChZaCksdGhpc30sc2NhbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBZaC5tYWtlU2NhbGUoZSx0LG4pLHRoaXMuYXBwbHlNYXRyaXgoWWgpLHRoaXN9LGxvb2tBdDpmdW5jdGlvbihlKXtyZXR1cm4gWmgubG9va0F0KGUpLFpoLnVwZGF0ZU1hdHJpeCgpLHRoaXMuYXBwbHlNYXRyaXgoWmgubWF0cml4KSx0aGlzfSxmcm9tQnVmZmVyR2VvbWV0cnk6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsYSxvKXt2YXIgcz12b2lkIDA9PT1sP1tdOltyLmNvbG9yc1tlXS5jbG9uZSgpLHIuY29sb3JzW3RdLmNsb25lKCksci5jb2xvcnNbYV0uY2xvbmUoKV0scD12b2lkIDA9PT1jP1tdOlsobmV3IGkpLmZyb21BcnJheShjLDMqZSksKG5ldyBpKS5mcm9tQXJyYXkoYywzKnQpLChuZXcgaSkuZnJvbUFycmF5KGMsMyphKV0sZD1uZXcgVChlLHQsYSxwLHMsbyk7ci5mYWNlcy5wdXNoKGQpLHZvaWQgMCE9PWgmJnIuZmFjZVZlcnRleFV2c1swXS5wdXNoKFsobmV3IG4pLmZyb21BcnJheShoLDIqZSksKG5ldyBuKS5mcm9tQXJyYXkoaCwyKnQpLChuZXcgbikuZnJvbUFycmF5KGgsMiphKV0pLHZvaWQgMCE9PXUmJnIuZmFjZVZlcnRleFV2c1sxXS5wdXNoKFsobmV3IG4pLmZyb21BcnJheSh1LDIqZSksKG5ldyBuKS5mcm9tQXJyYXkodSwyKnQpLChuZXcgbikuZnJvbUFycmF5KHUsMiphKV0pfXZhciByPXRoaXMsYT1udWxsIT09ZS5pbmRleD9lLmluZGV4LmFycmF5OnZvaWQgMCxvPWUuYXR0cmlidXRlcztpZih2b2lkIDA9PT1vLnBvc2l0aW9uKXJldHVybiBjb25zb2xlLmVycm9yKFwiVEhSRUUuR2VvbWV0cnkuZnJvbUJ1ZmZlckdlb21ldHJ5KCk6IFBvc2l0aW9uIGF0dHJpYnV0ZSByZXF1aXJlZCBmb3IgY29udmVyc2lvbi5cIiksdGhpczt2YXIgcz1vLnBvc2l0aW9uLmFycmF5LGM9dm9pZCAwIT09by5ub3JtYWw/by5ub3JtYWwuYXJyYXk6dm9pZCAwLGw9dm9pZCAwIT09by5jb2xvcj9vLmNvbG9yLmFycmF5OnZvaWQgMCxoPXZvaWQgMCE9PW8udXY/by51di5hcnJheTp2b2lkIDAsdT12b2lkIDAhPT1vLnV2Mj9vLnV2Mi5hcnJheTp2b2lkIDA7dm9pZCAwIT09dSYmKHRoaXMuZmFjZVZlcnRleFV2c1sxXT1bXSk7Zm9yKHZhciBwPTA7cDxzLmxlbmd0aDtwKz0zKXIudmVydGljZXMucHVzaCgobmV3IGkpLmZyb21BcnJheShzLHApKSx2b2lkIDAhPT1sJiZyLmNvbG9ycy5wdXNoKChuZXcgdykuZnJvbUFycmF5KGwscCkpO3ZhciBkPWUuZ3JvdXBzO2lmKGQubGVuZ3RoPjApZm9yKHZhciBwPTA7cDxkLmxlbmd0aDtwKyspZm9yKHZhciBmPWRbcF0sbT1mLnN0YXJ0LHY9Zi5jb3VudCxnPW0seT1tK3Y7Zzx5O2crPTMpdm9pZCAwIT09YT90KGFbZ10sYVtnKzFdLGFbZysyXSxmLm1hdGVyaWFsSW5kZXgpOnQoZyxnKzEsZysyLGYubWF0ZXJpYWxJbmRleCk7ZWxzZSBpZih2b2lkIDAhPT1hKWZvcih2YXIgcD0wO3A8YS5sZW5ndGg7cCs9Myl0KGFbcF0sYVtwKzFdLGFbcCsyXSk7ZWxzZSBmb3IodmFyIHA9MDtwPHMubGVuZ3RoLzM7cCs9Myl0KHAscCsxLHArMik7cmV0dXJuIHRoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCksbnVsbCE9PWUuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PWUuYm91bmRpbmdCb3guY2xvbmUoKSksbnVsbCE9PWUuYm91bmRpbmdTcGhlcmUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPWUuYm91bmRpbmdTcGhlcmUuY2xvbmUoKSksdGhpc30sY2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCksdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIoSmgpLm5lZ2F0ZSgpLHRoaXMudHJhbnNsYXRlKEpoLngsSmgueSxKaC56KSx0aGlzfSxub3JtYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO3ZhciBlPXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyLHQ9dGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMsbj0wPT09dD8xOjEvdCxyPW5ldyBoO3JldHVybiByLnNldChuLDAsMCwtbiplLngsMCxuLDAsLW4qZS55LDAsMCxuLC1uKmUueiwwLDAsMCwxKSx0aGlzLmFwcGx5TWF0cml4KHIpLHRoaXN9LGNvbXB1dGVGYWNlTm9ybWFsczpmdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgaSx0PW5ldyBpLG49MCxyPXRoaXMuZmFjZXMubGVuZ3RoO248cjtuKyspe3ZhciBhPXRoaXMuZmFjZXNbbl0sbz10aGlzLnZlcnRpY2VzW2EuYV0scz10aGlzLnZlcnRpY2VzW2EuYl0sYz10aGlzLnZlcnRpY2VzW2EuY107ZS5zdWJWZWN0b3JzKGMscyksdC5zdWJWZWN0b3JzKG8scyksZS5jcm9zcyh0KSxlLm5vcm1hbGl6ZSgpLGEubm9ybWFsLmNvcHkoZSl9fSxjb21wdXRlVmVydGV4Tm9ybWFsczpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIHQsbixyLGEsbyxzO2ZvcihzPW5ldyBBcnJheSh0aGlzLnZlcnRpY2VzLmxlbmd0aCksdD0wLG49dGhpcy52ZXJ0aWNlcy5sZW5ndGg7dDxuO3QrKylzW3RdPW5ldyBpO2lmKGUpe3ZhciBjLGwsaCx1PW5ldyBpLHA9bmV3IGk7Zm9yKHI9MCxhPXRoaXMuZmFjZXMubGVuZ3RoO3I8YTtyKyspbz10aGlzLmZhY2VzW3JdLGM9dGhpcy52ZXJ0aWNlc1tvLmFdLGw9dGhpcy52ZXJ0aWNlc1tvLmJdLGg9dGhpcy52ZXJ0aWNlc1tvLmNdLHUuc3ViVmVjdG9ycyhoLGwpLHAuc3ViVmVjdG9ycyhjLGwpLHUuY3Jvc3MocCksc1tvLmFdLmFkZCh1KSxzW28uYl0uYWRkKHUpLHNbby5jXS5hZGQodSl9ZWxzZSBmb3IodGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKSxyPTAsYT10aGlzLmZhY2VzLmxlbmd0aDtyPGE7cisrKW89dGhpcy5mYWNlc1tyXSxzW28uYV0uYWRkKG8ubm9ybWFsKSxzW28uYl0uYWRkKG8ubm9ybWFsKSxzW28uY10uYWRkKG8ubm9ybWFsKTtmb3IodD0wLG49dGhpcy52ZXJ0aWNlcy5sZW5ndGg7dDxuO3QrKylzW3RdLm5vcm1hbGl6ZSgpO2ZvcihyPTAsYT10aGlzLmZhY2VzLmxlbmd0aDtyPGE7cisrKXtvPXRoaXMuZmFjZXNbcl07dmFyIGQ9by52ZXJ0ZXhOb3JtYWxzOzM9PT1kLmxlbmd0aD8oZFswXS5jb3B5KHNbby5hXSksZFsxXS5jb3B5KHNbby5iXSksZFsyXS5jb3B5KHNbby5jXSkpOihkWzBdPXNbby5hXS5jbG9uZSgpLGRbMV09c1tvLmJdLmNsb25lKCksZFsyXT1zW28uY10uY2xvbmUoKSl9dGhpcy5mYWNlcy5sZW5ndGg+MCYmKHRoaXMubm9ybWFsc05lZWRVcGRhdGU9ITApfSxjb21wdXRlRmxhdFZlcnRleE5vcm1hbHM6ZnVuY3Rpb24oKXt2YXIgZSx0LG47Zm9yKHRoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCksZT0wLHQ9dGhpcy5mYWNlcy5sZW5ndGg7ZTx0O2UrKyl7bj10aGlzLmZhY2VzW2VdO3ZhciByPW4udmVydGV4Tm9ybWFsczszPT09ci5sZW5ndGg/KHJbMF0uY29weShuLm5vcm1hbCksclsxXS5jb3B5KG4ubm9ybWFsKSxyWzJdLmNvcHkobi5ub3JtYWwpKTooclswXT1uLm5vcm1hbC5jbG9uZSgpLHJbMV09bi5ub3JtYWwuY2xvbmUoKSxyWzJdPW4ubm9ybWFsLmNsb25lKCkpfXRoaXMuZmFjZXMubGVuZ3RoPjAmJih0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPSEwKX0sY29tcHV0ZU1vcnBoTm9ybWFsczpmdW5jdGlvbigpe3ZhciBlLHQsbixyLGE7Zm9yKG49MCxyPXRoaXMuZmFjZXMubGVuZ3RoO248cjtuKyspZm9yKGE9dGhpcy5mYWNlc1tuXSxhLl9fb3JpZ2luYWxGYWNlTm9ybWFsP2EuX19vcmlnaW5hbEZhY2VOb3JtYWwuY29weShhLm5vcm1hbCk6YS5fX29yaWdpbmFsRmFjZU5vcm1hbD1hLm5vcm1hbC5jbG9uZSgpLGEuX19vcmlnaW5hbFZlcnRleE5vcm1hbHN8fChhLl9fb3JpZ2luYWxWZXJ0ZXhOb3JtYWxzPVtdKSxlPTAsdD1hLnZlcnRleE5vcm1hbHMubGVuZ3RoO2U8dDtlKyspYS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1tlXT9hLl9fb3JpZ2luYWxWZXJ0ZXhOb3JtYWxzW2VdLmNvcHkoYS52ZXJ0ZXhOb3JtYWxzW2VdKTphLl9fb3JpZ2luYWxWZXJ0ZXhOb3JtYWxzW2VdPWEudmVydGV4Tm9ybWFsc1tlXS5jbG9uZSgpO3ZhciBvPW5ldyBrO2ZvcihvLmZhY2VzPXRoaXMuZmFjZXMsZT0wLHQ9dGhpcy5tb3JwaFRhcmdldHMubGVuZ3RoO2U8dDtlKyspe2lmKCF0aGlzLm1vcnBoTm9ybWFsc1tlXSl7dGhpcy5tb3JwaE5vcm1hbHNbZV09e30sdGhpcy5tb3JwaE5vcm1hbHNbZV0uZmFjZU5vcm1hbHM9W10sdGhpcy5tb3JwaE5vcm1hbHNbZV0udmVydGV4Tm9ybWFscz1bXTt2YXIgcyxjLGw9dGhpcy5tb3JwaE5vcm1hbHNbZV0uZmFjZU5vcm1hbHMsaD10aGlzLm1vcnBoTm9ybWFsc1tlXS52ZXJ0ZXhOb3JtYWxzO2ZvcihuPTAscj10aGlzLmZhY2VzLmxlbmd0aDtuPHI7bisrKXM9bmV3IGksYz17YTpuZXcgaSxiOm5ldyBpLGM6bmV3IGl9LGwucHVzaChzKSxoLnB1c2goYyl9dmFyIHU9dGhpcy5tb3JwaE5vcm1hbHNbZV07by52ZXJ0aWNlcz10aGlzLm1vcnBoVGFyZ2V0c1tlXS52ZXJ0aWNlcyxvLmNvbXB1dGVGYWNlTm9ybWFscygpLG8uY29tcHV0ZVZlcnRleE5vcm1hbHMoKTt2YXIgcyxjO2ZvcihuPTAscj10aGlzLmZhY2VzLmxlbmd0aDtuPHI7bisrKWE9dGhpcy5mYWNlc1tuXSxzPXUuZmFjZU5vcm1hbHNbbl0sYz11LnZlcnRleE5vcm1hbHNbbl0scy5jb3B5KGEubm9ybWFsKSxjLmEuY29weShhLnZlcnRleE5vcm1hbHNbMF0pLGMuYi5jb3B5KGEudmVydGV4Tm9ybWFsc1sxXSksYy5jLmNvcHkoYS52ZXJ0ZXhOb3JtYWxzWzJdKX1mb3Iobj0wLHI9dGhpcy5mYWNlcy5sZW5ndGg7bjxyO24rKylhPXRoaXMuZmFjZXNbbl0sYS5ub3JtYWw9YS5fX29yaWdpbmFsRmFjZU5vcm1hbCxhLnZlcnRleE5vcm1hbHM9YS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc30sY29tcHV0ZUJvdW5kaW5nQm94OmZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PW5ldyBtKSx0aGlzLmJvdW5kaW5nQm94LnNldEZyb21Qb2ludHModGhpcy52ZXJ0aWNlcyl9LGNvbXB1dGVCb3VuZGluZ1NwaGVyZTpmdW5jdGlvbigpe251bGw9PT10aGlzLmJvdW5kaW5nU3BoZXJlJiYodGhpcy5ib3VuZGluZ1NwaGVyZT1uZXcgZyksdGhpcy5ib3VuZGluZ1NwaGVyZS5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMpfSxtZXJnZTpmdW5jdGlvbihlLHQsbil7aWYoIWV8fCFlLmlzR2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLkdlb21ldHJ5Lm1lcmdlKCk6IGdlb21ldHJ5IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5HZW9tZXRyeS5cIixlKTt2YXIgcixpPXRoaXMudmVydGljZXMubGVuZ3RoLG89dGhpcy52ZXJ0aWNlcyxzPWUudmVydGljZXMsYz10aGlzLmZhY2VzLGw9ZS5mYWNlcyxoPXRoaXMuY29sb3JzLHU9ZS5jb2xvcnM7dm9pZCAwPT09biYmKG49MCksdm9pZCAwIT09dCYmKHI9KG5ldyBhKS5nZXROb3JtYWxNYXRyaXgodCkpO2Zvcih2YXIgcD0wLGQ9cy5sZW5ndGg7cDxkO3ArKyl7dmFyIGY9c1twXSxtPWYuY2xvbmUoKTt2b2lkIDAhPT10JiZtLmFwcGx5TWF0cml4NCh0KSxvLnB1c2gobSl9Zm9yKHZhciBwPTAsZD11Lmxlbmd0aDtwPGQ7cCsrKWgucHVzaCh1W3BdLmNsb25lKCkpO2ZvcihwPTAsZD1sLmxlbmd0aDtwPGQ7cCsrKXt2YXIgdixnLHkseD1sW3BdLGI9eC52ZXJ0ZXhOb3JtYWxzLHc9eC52ZXJ0ZXhDb2xvcnM7dj1uZXcgVCh4LmEraSx4LmIraSx4LmMraSksdi5ub3JtYWwuY29weSh4Lm5vcm1hbCksdm9pZCAwIT09ciYmdi5ub3JtYWwuYXBwbHlNYXRyaXgzKHIpLm5vcm1hbGl6ZSgpO2Zvcih2YXIgXz0wLE09Yi5sZW5ndGg7XzxNO18rKylnPWJbX10uY2xvbmUoKSx2b2lkIDAhPT1yJiZnLmFwcGx5TWF0cml4MyhyKS5ub3JtYWxpemUoKSx2LnZlcnRleE5vcm1hbHMucHVzaChnKTt2LmNvbG9yLmNvcHkoeC5jb2xvcik7Zm9yKHZhciBfPTAsTT13Lmxlbmd0aDtfPE07XysrKXk9d1tfXSx2LnZlcnRleENvbG9ycy5wdXNoKHkuY2xvbmUoKSk7di5tYXRlcmlhbEluZGV4PXgubWF0ZXJpYWxJbmRleCtuLGMucHVzaCh2KX1mb3IodmFyIHA9MCxkPWUuZmFjZVZlcnRleFV2cy5sZW5ndGg7cDxkO3ArKyl7dmFyIFM9ZS5mYWNlVmVydGV4VXZzW3BdO3ZvaWQgMD09PXRoaXMuZmFjZVZlcnRleFV2c1twXSYmKHRoaXMuZmFjZVZlcnRleFV2c1twXT1bXSk7Zm9yKHZhciBfPTAsTT1TLmxlbmd0aDtfPE07XysrKXtmb3IodmFyIEU9U1tfXSxBPVtdLEw9MCxSPUUubGVuZ3RoO0w8UjtMKyspQS5wdXNoKEVbTF0uY2xvbmUoKSk7dGhpcy5mYWNlVmVydGV4VXZzW3BdLnB1c2goQSl9fX0sbWVyZ2VNZXNoOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5pc01lc2gpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLkdlb21ldHJ5Lm1lcmdlTWVzaCgpOiBtZXNoIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5NZXNoLlwiLGUpO2UubWF0cml4QXV0b1VwZGF0ZSYmZS51cGRhdGVNYXRyaXgoKSx0aGlzLm1lcmdlKGUuZ2VvbWV0cnksZS5tYXRyaXgpfSxtZXJnZVZlcnRpY2VzOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxhLG8scyxjPXt9LGw9W10saD1bXSx1PU1hdGgucG93KDEwLDQpO2ZvcihuPTAscj10aGlzLnZlcnRpY2VzLmxlbmd0aDtuPHI7bisrKWU9dGhpcy52ZXJ0aWNlc1tuXSx0PU1hdGgucm91bmQoZS54KnUpK1wiX1wiK01hdGgucm91bmQoZS55KnUpK1wiX1wiK01hdGgucm91bmQoZS56KnUpLHZvaWQgMD09PWNbdF0/KGNbdF09bixsLnB1c2godGhpcy52ZXJ0aWNlc1tuXSksaFtuXT1sLmxlbmd0aC0xKTpoW25dPWhbY1t0XV07dmFyIHA9W107Zm9yKG49MCxyPXRoaXMuZmFjZXMubGVuZ3RoO248cjtuKyspe2k9dGhpcy5mYWNlc1tuXSxpLmE9aFtpLmFdLGkuYj1oW2kuYl0saS5jPWhbaS5jXSxhPVtpLmEsaS5iLGkuY107Zm9yKHZhciBkPTA7ZDwzO2QrKylpZihhW2RdPT09YVsoZCsxKSUzXSl7cC5wdXNoKG4pO2JyZWFrfX1mb3Iobj1wLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgZj1wW25dO2Zvcih0aGlzLmZhY2VzLnNwbGljZShmLDEpLG89MCxzPXRoaXMuZmFjZVZlcnRleFV2cy5sZW5ndGg7bzxzO28rKyl0aGlzLmZhY2VWZXJ0ZXhVdnNbb10uc3BsaWNlKGYsMSl9dmFyIG09dGhpcy52ZXJ0aWNlcy5sZW5ndGgtbC5sZW5ndGg7cmV0dXJuIHRoaXMudmVydGljZXM9bCxtfSxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uKGUpe3RoaXMudmVydGljZXM9W107Zm9yKHZhciB0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXt2YXIgcj1lW3RdO3RoaXMudmVydGljZXMucHVzaChuZXcgaShyLngsci55LHIuenx8MCkpfXJldHVybiB0aGlzfSxzb3J0RmFjZXNCeU1hdGVyaWFsSW5kZXg6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIGUubWF0ZXJpYWxJbmRleC10Lm1hdGVyaWFsSW5kZXh9Zm9yKHZhciB0PXRoaXMuZmFjZXMsbj10Lmxlbmd0aCxyPTA7cjxuO3IrKyl0W3JdLl9pZD1yO3Quc29ydChlKTt2YXIgaSxhLG89dGhpcy5mYWNlVmVydGV4VXZzWzBdLHM9dGhpcy5mYWNlVmVydGV4VXZzWzFdO28mJm8ubGVuZ3RoPT09biYmKGk9W10pLHMmJnMubGVuZ3RoPT09biYmKGE9W10pO2Zvcih2YXIgcj0wO3I8bjtyKyspe3ZhciBjPXRbcl0uX2lkO2kmJmkucHVzaChvW2NdKSxhJiZhLnB1c2goc1tjXSl9aSYmKHRoaXMuZmFjZVZlcnRleFV2c1swXT1pKSxhJiYodGhpcy5mYWNlVmVydGV4VXZzWzFdPWEpfSx0b0pTT046ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXtyZXR1cm4gbj9lfDE8PHQ6ZSZ+KDE8PHQpfWZ1bmN0aW9uIHQoZSl7dmFyIHQ9ZS54LnRvU3RyaW5nKCkrZS55LnRvU3RyaW5nKCkrZS56LnRvU3RyaW5nKCk7cmV0dXJuIHZvaWQgMCE9PXBbdF0/cFt0XToocFt0XT11Lmxlbmd0aC8zLHUucHVzaChlLngsZS55LGUueikscFt0XSl9ZnVuY3Rpb24gbihlKXt2YXIgdD1lLnIudG9TdHJpbmcoKStlLmcudG9TdHJpbmcoKStlLmIudG9TdHJpbmcoKTtyZXR1cm4gdm9pZCAwIT09Zlt0XT9mW3RdOihmW3RdPWQubGVuZ3RoLGQucHVzaChlLmdldEhleCgpKSxmW3RdKX1mdW5jdGlvbiByKGUpe3ZhciB0PWUueC50b1N0cmluZygpK2UueS50b1N0cmluZygpO3JldHVybiB2b2lkIDAhPT12W3RdP3ZbdF06KHZbdF09bS5sZW5ndGgvMixtLnB1c2goZS54LGUueSksdlt0XSl9dmFyIGk9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOlwiR2VvbWV0cnlcIixnZW5lcmF0b3I6XCJHZW9tZXRyeS50b0pTT05cIn19O2lmKGkudXVpZD10aGlzLnV1aWQsaS50eXBlPXRoaXMudHlwZSxcIlwiIT09dGhpcy5uYW1lJiYoaS5uYW1lPXRoaXMubmFtZSksdm9pZCAwIT09dGhpcy5wYXJhbWV0ZXJzKXt2YXIgYT10aGlzLnBhcmFtZXRlcnM7Zm9yKHZhciBvIGluIGEpdm9pZCAwIT09YVtvXSYmKGlbb109YVtvXSk7cmV0dXJuIGl9Zm9yKHZhciBzPVtdLGM9MDtjPHRoaXMudmVydGljZXMubGVuZ3RoO2MrKyl7dmFyIGw9dGhpcy52ZXJ0aWNlc1tjXTtzLnB1c2gobC54LGwueSxsLnopfWZvcih2YXIgaD1bXSx1PVtdLHA9e30sZD1bXSxmPXt9LG09W10sdj17fSxjPTA7Yzx0aGlzLmZhY2VzLmxlbmd0aDtjKyspe3ZhciBnPXRoaXMuZmFjZXNbY10seT12b2lkIDAhPT10aGlzLmZhY2VWZXJ0ZXhVdnNbMF1bY10seD1nLm5vcm1hbC5sZW5ndGgoKT4wLGI9Zy52ZXJ0ZXhOb3JtYWxzLmxlbmd0aD4wLHc9MSE9PWcuY29sb3Iucnx8MSE9PWcuY29sb3IuZ3x8MSE9PWcuY29sb3IuYixfPWcudmVydGV4Q29sb3JzLmxlbmd0aD4wLE09MDtpZihNPWUoTSwwLDApLE09ZShNLDEsITApLE09ZShNLDIsITEpLE09ZShNLDMseSksTT1lKE0sNCx4KSxNPWUoTSw1LGIpLE09ZShNLDYsdyksTT1lKE0sNyxfKSxoLnB1c2goTSksaC5wdXNoKGcuYSxnLmIsZy5jKSxoLnB1c2goZy5tYXRlcmlhbEluZGV4KSx5KXt2YXIgUz10aGlzLmZhY2VWZXJ0ZXhVdnNbMF1bY107aC5wdXNoKHIoU1swXSkscihTWzFdKSxyKFNbMl0pKX1pZih4JiZoLnB1c2godChnLm5vcm1hbCkpLGIpe3ZhciBUPWcudmVydGV4Tm9ybWFscztoLnB1c2godChUWzBdKSx0KFRbMV0pLHQoVFsyXSkpfWlmKHcmJmgucHVzaChuKGcuY29sb3IpKSxfKXt2YXIgRT1nLnZlcnRleENvbG9ycztoLnB1c2gobihFWzBdKSxuKEVbMV0pLG4oRVsyXSkpfX1yZXR1cm4gaS5kYXRhPXt9LGkuZGF0YS52ZXJ0aWNlcz1zLGkuZGF0YS5ub3JtYWxzPXUsZC5sZW5ndGg+MCYmKGkuZGF0YS5jb2xvcnM9ZCksbS5sZW5ndGg+MCYmKGkuZGF0YS51dnM9W21dKSxpLmRhdGEuZmFjZXM9aCxpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgaykuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxhLG87dGhpcy52ZXJ0aWNlcz1bXSx0aGlzLmNvbG9ycz1bXSx0aGlzLmZhY2VzPVtdLHRoaXMuZmFjZVZlcnRleFV2cz1bW11dLHRoaXMubW9ycGhUYXJnZXRzPVtdLHRoaXMubW9ycGhOb3JtYWxzPVtdLHRoaXMuc2tpbldlaWdodHM9W10sdGhpcy5za2luSW5kaWNlcz1bXSx0aGlzLmxpbmVEaXN0YW5jZXM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbCx0aGlzLm5hbWU9ZS5uYW1lO3ZhciBzPWUudmVydGljZXM7Zm9yKHQ9MCxuPXMubGVuZ3RoO3Q8bjt0KyspdGhpcy52ZXJ0aWNlcy5wdXNoKHNbdF0uY2xvbmUoKSk7dmFyIGM9ZS5jb2xvcnM7Zm9yKHQ9MCxuPWMubGVuZ3RoO3Q8bjt0KyspdGhpcy5jb2xvcnMucHVzaChjW3RdLmNsb25lKCkpO3ZhciBsPWUuZmFjZXM7Zm9yKHQ9MCxuPWwubGVuZ3RoO3Q8bjt0KyspdGhpcy5mYWNlcy5wdXNoKGxbdF0uY2xvbmUoKSk7Zm9yKHQ9MCxuPWUuZmFjZVZlcnRleFV2cy5sZW5ndGg7dDxuO3QrKyl7dmFyIGg9ZS5mYWNlVmVydGV4VXZzW3RdO2Zvcih2b2lkIDA9PT10aGlzLmZhY2VWZXJ0ZXhVdnNbdF0mJih0aGlzLmZhY2VWZXJ0ZXhVdnNbdF09W10pLHI9MCxpPWgubGVuZ3RoO3I8aTtyKyspe3ZhciB1PWhbcl0scD1bXTtmb3IoYT0wLG89dS5sZW5ndGg7YTxvO2ErKyl7dmFyIGQ9dVthXTtwLnB1c2goZC5jbG9uZSgpKX10aGlzLmZhY2VWZXJ0ZXhVdnNbdF0ucHVzaChwKX19dmFyIGY9ZS5tb3JwaFRhcmdldHM7Zm9yKHQ9MCxuPWYubGVuZ3RoO3Q8bjt0Kyspe3ZhciBtPXt9O2lmKG0ubmFtZT1mW3RdLm5hbWUsdm9pZCAwIT09Zlt0XS52ZXJ0aWNlcylmb3IobS52ZXJ0aWNlcz1bXSxyPTAsaT1mW3RdLnZlcnRpY2VzLmxlbmd0aDtyPGk7cisrKW0udmVydGljZXMucHVzaChmW3RdLnZlcnRpY2VzW3JdLmNsb25lKCkpO2lmKHZvaWQgMCE9PWZbdF0ubm9ybWFscylmb3IobS5ub3JtYWxzPVtdLHI9MCxpPWZbdF0ubm9ybWFscy5sZW5ndGg7cjxpO3IrKyltLm5vcm1hbHMucHVzaChmW3RdLm5vcm1hbHNbcl0uY2xvbmUoKSk7dGhpcy5tb3JwaFRhcmdldHMucHVzaChtKX12YXIgdj1lLm1vcnBoTm9ybWFscztmb3IodD0wLG49di5sZW5ndGg7dDxuO3QrKyl7dmFyIGc9e307aWYodm9pZCAwIT09dlt0XS52ZXJ0ZXhOb3JtYWxzKWZvcihnLnZlcnRleE5vcm1hbHM9W10scj0wLGk9dlt0XS52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDtyPGk7cisrKXt2YXIgeT12W3RdLnZlcnRleE5vcm1hbHNbcl0seD17fTt4LmE9eS5hLmNsb25lKCkseC5iPXkuYi5jbG9uZSgpLHguYz15LmMuY2xvbmUoKSxnLnZlcnRleE5vcm1hbHMucHVzaCh4KX1pZih2b2lkIDAhPT12W3RdLmZhY2VOb3JtYWxzKWZvcihnLmZhY2VOb3JtYWxzPVtdLHI9MCxpPXZbdF0uZmFjZU5vcm1hbHMubGVuZ3RoO3I8aTtyKyspZy5mYWNlTm9ybWFscy5wdXNoKHZbdF0uZmFjZU5vcm1hbHNbcl0uY2xvbmUoKSk7dGhpcy5tb3JwaE5vcm1hbHMucHVzaChnKX12YXIgYj1lLnNraW5XZWlnaHRzO2Zvcih0PTAsbj1iLmxlbmd0aDt0PG47dCsrKXRoaXMuc2tpbldlaWdodHMucHVzaChiW3RdLmNsb25lKCkpO3ZhciB3PWUuc2tpbkluZGljZXM7Zm9yKHQ9MCxuPXcubGVuZ3RoO3Q8bjt0KyspdGhpcy5za2luSW5kaWNlcy5wdXNoKHdbdF0uY2xvbmUoKSk7dmFyIF89ZS5saW5lRGlzdGFuY2VzO2Zvcih0PTAsbj1fLmxlbmd0aDt0PG47dCsrKXRoaXMubGluZURpc3RhbmNlcy5wdXNoKF9bdF0pO3ZhciBNPWUuYm91bmRpbmdCb3g7bnVsbCE9PU0mJih0aGlzLmJvdW5kaW5nQm94PU0uY2xvbmUoKSk7dmFyIFM9ZS5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbnVsbCE9PVMmJih0aGlzLmJvdW5kaW5nU3BoZXJlPVMuY2xvbmUoKSksdGhpcy5lbGVtZW50c05lZWRVcGRhdGU9ZS5lbGVtZW50c05lZWRVcGRhdGUsdGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9ZS52ZXJ0aWNlc05lZWRVcGRhdGUsdGhpcy51dnNOZWVkVXBkYXRlPWUudXZzTmVlZFVwZGF0ZSx0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPWUubm9ybWFsc05lZWRVcGRhdGUsdGhpcy5jb2xvcnNOZWVkVXBkYXRlPWUuY29sb3JzTmVlZFVwZGF0ZSx0aGlzLmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPWUubGluZURpc3RhbmNlc05lZWRVcGRhdGUsdGhpcy5ncm91cHNOZWVkVXBkYXRlPWUuZ3JvdXBzTmVlZFVwZGF0ZSx0aGlzfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fSk7dmFyIFFoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIsaSxhLG8pe2UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9XCJCb3hHZW9tZXRyeVwiLHRoaXMucGFyYW1ldGVycz17d2lkdGg6dCxoZWlnaHQ6bixkZXB0aDpyLHdpZHRoU2VnbWVudHM6aSxoZWlnaHRTZWdtZW50czphLGRlcHRoU2VnbWVudHM6b30sdGhpcy5mcm9tQnVmZmVyR2VvbWV0cnkobmV3IEtoKHQsbixyLGksYSxvKSksdGhpcy5tZXJnZVZlcnRpY2VzKCl9cmV0dXJuIGUmJih0Ll9fcHJvdG9fXz1lKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHR9KGspLEtoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIsYSxvLHMpe2Z1bmN0aW9uIGMoZSx0LG4scixhLG8scyxjLHYsZyx5KXt2YXIgeCxiLHc9by92LF89cy9nLE09by8yLFM9cy8yLFQ9Yy8yLEU9disxLEE9ZysxLEw9MCxSPTAsUD1uZXcgaTtmb3IoYj0wO2I8QTtiKyspe3ZhciBDPWIqXy1TO2Zvcih4PTA7eDxFO3grKyl7dmFyIE89eCp3LU07UFtlXT1PKnIsUFt0XT1DKmEsUFtuXT1ULHUucHVzaChQLngsUC55LFAueiksUFtlXT0wLFBbdF09MCxQW25dPWM+MD8xOi0xLHAucHVzaChQLngsUC55LFAueiksZC5wdXNoKHgvdiksZC5wdXNoKDEtYi9nKSxMKz0xfX1mb3IoYj0wO2I8ZztiKyspZm9yKHg9MDt4PHY7eCsrKXt2YXIgRD1mK3grRSpiLEk9Zit4K0UqKGIrMSksTj1mKyh4KzEpK0UqKGIrMSksej1mKyh4KzEpK0UqYjtoLnB1c2goRCxJLHopLGgucHVzaChJLE4seiksUis9Nn1sLmFkZEdyb3VwKG0sUix5KSxtKz1SLGYrPUx9ZS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkJveEJ1ZmZlckdlb21ldHJ5XCIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp0LGhlaWdodDpuLGRlcHRoOnIsd2lkdGhTZWdtZW50czphLGhlaWdodFNlZ21lbnRzOm8sZGVwdGhTZWdtZW50czpzfTt2YXIgbD10aGlzO3Q9dHx8MSxuPW58fDEscj1yfHwxLGE9TWF0aC5mbG9vcihhKXx8MSxvPU1hdGguZmxvb3Iobyl8fDEscz1NYXRoLmZsb29yKHMpfHwxO3ZhciBoPVtdLHU9W10scD1bXSxkPVtdLGY9MCxtPTA7YyhcInpcIixcInlcIixcInhcIiwtMSwtMSxyLG4sdCxzLG8sMCksYyhcInpcIixcInlcIixcInhcIiwxLC0xLHIsbiwtdCxzLG8sMSksYyhcInhcIixcInpcIixcInlcIiwxLDEsdCxyLG4sYSxzLDIpLGMoXCJ4XCIsXCJ6XCIsXCJ5XCIsMSwtMSx0LHIsLW4sYSxzLDMpLGMoXCJ4XCIsXCJ5XCIsXCJ6XCIsMSwtMSx0LG4scixhLG8sNCksYyhcInhcIixcInlcIixcInpcIiwtMSwtMSx0LG4sLXIsYSxvLDUpLHRoaXMuc2V0SW5kZXgoaCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyB6KHUsMykpLHRoaXMuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IHoocCwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyB6KGQsMikpfXJldHVybiBlJiYodC5fX3Byb3RvX189ZSksdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0fShHKSwkaD17Y2xvbmU6VyxtZXJnZTpxfSxldT1cInZvaWQgbWFpbigpIHtcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVwiLHR1PVwidm9pZCBtYWluKCkge1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIDEuMCwgMC4wLCAwLjAsIDEuMCApO1xcbn1cIjtYLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxYLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1YLFgucHJvdG90eXBlLmlzU2hhZGVyTWF0ZXJpYWw9ITAsWC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtyZXR1cm4gRS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5mcmFnbWVudFNoYWRlcj1lLmZyYWdtZW50U2hhZGVyLHRoaXMudmVydGV4U2hhZGVyPWUudmVydGV4U2hhZGVyLHRoaXMudW5pZm9ybXM9VyhlLnVuaWZvcm1zKSx0aGlzLmRlZmluZXM9T2JqZWN0LmFzc2lnbih7fSxlLmRlZmluZXMpLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMubGlnaHRzPWUubGlnaHRzLHRoaXMuY2xpcHBpbmc9ZS5jbGlwcGluZyx0aGlzLnNraW5uaW5nPWUuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9ZS5tb3JwaFRhcmdldHMsdGhpcy5tb3JwaE5vcm1hbHM9ZS5tb3JwaE5vcm1hbHMsdGhpcy5leHRlbnNpb25zPWUuZXh0ZW5zaW9ucyx0aGlzfSxYLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7dmFyIHQ9RS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxlKTt0LnVuaWZvcm1zPXt9O2Zvcih2YXIgbiBpbiB0aGlzLnVuaWZvcm1zKXt2YXIgcj10aGlzLnVuaWZvcm1zW25dLGk9ci52YWx1ZTtpJiZpLmlzVGV4dHVyZT90LnVuaWZvcm1zW25dPXt0eXBlOlwidFwiLHZhbHVlOmkudG9KU09OKGUpLnV1aWR9OmkmJmkuaXNDb2xvcj90LnVuaWZvcm1zW25dPXt0eXBlOlwiY1wiLHZhbHVlOmkuZ2V0SGV4KCl9OmkmJmkuaXNWZWN0b3IyP3QudW5pZm9ybXNbbl09e3R5cGU6XCJ2MlwiLHZhbHVlOmkudG9BcnJheSgpfTppJiZpLmlzVmVjdG9yMz90LnVuaWZvcm1zW25dPXt0eXBlOlwidjNcIix2YWx1ZTppLnRvQXJyYXkoKX06aSYmaS5pc1ZlY3RvcjQ/dC51bmlmb3Jtc1tuXT17dHlwZTpcInY0XCIsdmFsdWU6aS50b0FycmF5KCl9OmkmJmkuaXNNYXRyaXgzP3QudW5pZm9ybXNbbl09e3R5cGU6XCJtM1wiLHZhbHVlOmkudG9BcnJheSgpfTppJiZpLmlzTWF0cml4ND90LnVuaWZvcm1zW25dPXt0eXBlOlwibTRcIix2YWx1ZTppLnRvQXJyYXkoKX06dC51bmlmb3Jtc1tuXT17dmFsdWU6aX19T2JqZWN0LmtleXModGhpcy5kZWZpbmVzKS5sZW5ndGg+MCYmKHQuZGVmaW5lcz10aGlzLmRlZmluZXMpLHQudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyLHQuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcjt2YXIgYT17fTtmb3IodmFyIG8gaW4gdGhpcy5leHRlbnNpb25zKSEwPT09dGhpcy5leHRlbnNpb25zW29dJiYoYVtvXT0hMCk7cmV0dXJuIE9iamVjdC5rZXlzKGEpLmxlbmd0aD4wJiYodC5leHRlbnNpb25zPWEpLHR9LFkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlksaXNDYW1lcmE6ITAsY29weTpmdW5jdGlvbihlLHQpe3JldHVybiBkLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlLHQpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkoZS5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMucHJvamVjdGlvbk1hdHJpeC5jb3B5KGUucHJvamVjdGlvbk1hdHJpeCksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KGUucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLHRoaXN9LGdldFdvcmxkRGlyZWN0aW9uOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5DYW1lcmE6IC5nZXRXb3JsZERpcmVjdGlvbigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgaSksdGhpcy51cGRhdGVNYXRyaXhXb3JsZCghMCk7dmFyIHQ9dGhpcy5tYXRyaXhXb3JsZC5lbGVtZW50cztyZXR1cm4gZS5zZXQoLXRbOF0sLXRbOV0sLXRbMTBdKS5ub3JtYWxpemUoKX0sdXBkYXRlTWF0cml4V29ybGQ6ZnVuY3Rpb24oZSl7ZC5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLGUpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX0pLFoucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShZLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlosaXNQZXJzcGVjdGl2ZUNhbWVyYTohMCxjb3B5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFkucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUsdCksdGhpcy5mb3Y9ZS5mb3YsdGhpcy56b29tPWUuem9vbSx0aGlzLm5lYXI9ZS5uZWFyLHRoaXMuZmFyPWUuZmFyLHRoaXMuZm9jdXM9ZS5mb2N1cyx0aGlzLmFzcGVjdD1lLmFzcGVjdCx0aGlzLnZpZXc9bnVsbD09PWUudmlldz9udWxsOk9iamVjdC5hc3NpZ24oe30sZS52aWV3KSx0aGlzLmZpbG1HYXVnZT1lLmZpbG1HYXVnZSx0aGlzLmZpbG1PZmZzZXQ9ZS5maWxtT2Zmc2V0LHRoaXN9LHNldEZvY2FsTGVuZ3RoOmZ1bmN0aW9uKGUpe3ZhciB0PS41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL2U7dGhpcy5mb3Y9MipsbC5SQUQyREVHKk1hdGguYXRhbih0KSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0sZ2V0Rm9jYWxMZW5ndGg6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnRhbiguNSpsbC5ERUcyUkFEKnRoaXMuZm92KTtyZXR1cm4uNSp0aGlzLmdldEZpbG1IZWlnaHQoKS9lfSxnZXRFZmZlY3RpdmVGT1Y6ZnVuY3Rpb24oKXtyZXR1cm4gMipsbC5SQUQyREVHKk1hdGguYXRhbihNYXRoLnRhbiguNSpsbC5ERUcyUkFEKnRoaXMuZm92KS90aGlzLnpvb20pfSxnZXRGaWxtV2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxtR2F1Z2UqTWF0aC5taW4odGhpcy5hc3BlY3QsMSl9LGdldEZpbG1IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxtR2F1Z2UvTWF0aC5tYXgodGhpcy5hc3BlY3QsMSl9LHNldFZpZXdPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4scixpLGEpe3RoaXMuYXNwZWN0PWUvdCxudWxsPT09dGhpcy52aWV3JiYodGhpcy52aWV3PXtlbmFibGVkOiEwLGZ1bGxXaWR0aDoxLGZ1bGxIZWlnaHQ6MSxvZmZzZXRYOjAsb2Zmc2V0WTowLHdpZHRoOjEsaGVpZ2h0OjF9KSx0aGlzLnZpZXcuZW5hYmxlZD0hMCx0aGlzLnZpZXcuZnVsbFdpZHRoPWUsdGhpcy52aWV3LmZ1bGxIZWlnaHQ9dCx0aGlzLnZpZXcub2Zmc2V0WD1uLHRoaXMudmlldy5vZmZzZXRZPXIsdGhpcy52aWV3LndpZHRoPWksdGhpcy52aWV3LmhlaWdodD1hLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSxjbGVhclZpZXdPZmZzZXQ6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy52aWV3JiYodGhpcy52aWV3LmVuYWJsZWQ9ITEpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSx1cGRhdGVQcm9qZWN0aW9uTWF0cml4OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uZWFyLHQ9ZSpNYXRoLnRhbiguNSpsbC5ERUcyUkFEKnRoaXMuZm92KS90aGlzLnpvb20sbj0yKnQscj10aGlzLmFzcGVjdCpuLGk9LS41KnIsYT10aGlzLnZpZXc7aWYobnVsbCE9PXRoaXMudmlldyYmdGhpcy52aWV3LmVuYWJsZWQpe3ZhciBvPWEuZnVsbFdpZHRoLHM9YS5mdWxsSGVpZ2h0O2krPWEub2Zmc2V0WCpyL28sdC09YS5vZmZzZXRZKm4vcyxyKj1hLndpZHRoL28sbio9YS5oZWlnaHQvc312YXIgYz10aGlzLmZpbG1PZmZzZXQ7MCE9PWMmJihpKz1lKmMvdGhpcy5nZXRGaWxtV2lkdGgoKSksdGhpcy5wcm9qZWN0aW9uTWF0cml4Lm1ha2VQZXJzcGVjdGl2ZShpLGkrcix0LHQtbixlLHRoaXMuZmFyKSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5wcm9qZWN0aW9uTWF0cml4KX0sdG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0PWQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSk7cmV0dXJuIHQub2JqZWN0LmZvdj10aGlzLmZvdix0Lm9iamVjdC56b29tPXRoaXMuem9vbSx0Lm9iamVjdC5uZWFyPXRoaXMubmVhcix0Lm9iamVjdC5mYXI9dGhpcy5mYXIsdC5vYmplY3QuZm9jdXM9dGhpcy5mb2N1cyx0Lm9iamVjdC5hc3BlY3Q9dGhpcy5hc3BlY3QsbnVsbCE9PXRoaXMudmlldyYmKHQub2JqZWN0LnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0aGlzLnZpZXcpKSx0Lm9iamVjdC5maWxtR2F1Z2U9dGhpcy5maWxtR2F1Z2UsdC5vYmplY3QuZmlsbU9mZnNldD10aGlzLmZpbG1PZmZzZXQsdH19KTt2YXIgbnU9OTAscnU9MTtKLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxKLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1KLFEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLFEucHJvdG90eXBlLmNvbnN0cnVjdG9yPVEsUS5wcm90b3R5cGUuaXNXZWJHTFJlbmRlclRhcmdldEN1YmU9ITAsUS5wcm90b3R5cGUuZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0aGlzLnRleHR1cmUudHlwZT10LnR5cGUsdGhpcy50ZXh0dXJlLmZvcm1hdD10LmZvcm1hdCx0aGlzLnRleHR1cmUuZW5jb2Rpbmc9dC5lbmNvZGluZzt2YXIgbj1uZXcgZixyPXt1bmlmb3Jtczp7dEVxdWlyZWN0Ont2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOltcInZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XCIsXCJ2ZWMzIHRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1wiLFwiXFx0cmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7XCIsXCJ9XCIsXCJ2b2lkIG1haW4oKSB7XCIsXCJcXHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1wiLFwiXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cIixcIlxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cIixcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCJ1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7XCIsXCJ2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1wiLFwiI2RlZmluZSBSRUNJUFJPQ0FMX1BJIDAuMzE4MzA5ODg2MThcIixcIiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NFwiLFwidm9pZCBtYWluKCkge1wiLFwiXFx0dmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUoIHZXb3JsZERpcmVjdGlvbiApO1wiLFwiXFx0dmVjMiBzYW1wbGVVVjtcIixcIlxcdHNhbXBsZVVWLnkgPSBhc2luKCBjbGFtcCggZGlyZWN0aW9uLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcIixcIlxcdHNhbXBsZVVWLnggPSBhdGFuKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1wiLFwiXFx0Z2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCB0RXF1aXJlY3QsIHNhbXBsZVVWICk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9LGk9bmV3IFgoe3R5cGU6XCJDdWJlbWFwRnJvbUVxdWlyZWN0XCIsdW5pZm9ybXM6VyhyLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6ci52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ci5mcmFnbWVudFNoYWRlcixzaWRlOllvLGJsZW5kaW5nOiRvfSk7aS51bmlmb3Jtcy50RXF1aXJlY3QudmFsdWU9dDt2YXIgYT1uZXcgSChuZXcgS2goNSw1LDUpLGkpO24uYWRkKGEpO3ZhciBvPW5ldyBKKDEsMTAsMSk7cmV0dXJuIG8ucmVuZGVyVGFyZ2V0PXRoaXMsby5yZW5kZXJUYXJnZXQudGV4dHVyZS5uYW1lPVwiQ3ViZUNhbWVyYVRleHR1cmVcIixvLnVwZGF0ZShlLG4pLGEuZ2VvbWV0cnkuZGlzcG9zZSgpLGEubWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXN9LEsucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLEsucHJvdG90eXBlLmNvbnN0cnVjdG9yPUssSy5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZT0hMDt2YXIgaXU9bmV3IGcsYXU9bmV3IGk7T2JqZWN0LmFzc2lnbigkLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgbz10aGlzLnBsYW5lcztyZXR1cm4gb1swXS5jb3B5KGUpLG9bMV0uY29weSh0KSxvWzJdLmNvcHkobiksb1szXS5jb3B5KHIpLG9bNF0uY29weShpKSxvWzVdLmNvcHkoYSksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucGxhbmVzLG49MDtuPDY7bisrKXRbbl0uY29weShlLnBsYW5lc1tuXSk7cmV0dXJuIHRoaXN9LHNldEZyb21NYXRyaXg6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wbGFuZXMsbj1lLmVsZW1lbnRzLHI9blswXSxpPW5bMV0sYT1uWzJdLG89blszXSxzPW5bNF0sYz1uWzVdLGw9bls2XSxoPW5bN10sdT1uWzhdLHA9bls5XSxkPW5bMTBdLGY9blsxMV0sbT1uWzEyXSx2PW5bMTNdLGc9blsxNF0seT1uWzE1XTtyZXR1cm4gdFswXS5zZXRDb21wb25lbnRzKG8tcixoLXMsZi11LHktbSkubm9ybWFsaXplKCksdFsxXS5zZXRDb21wb25lbnRzKG8rcixoK3MsZit1LHkrbSkubm9ybWFsaXplKCksdFsyXS5zZXRDb21wb25lbnRzKG8raSxoK2MsZitwLHkrdikubm9ybWFsaXplKCksdFszXS5zZXRDb21wb25lbnRzKG8taSxoLWMsZi1wLHktdikubm9ybWFsaXplKCksdFs0XS5zZXRDb21wb25lbnRzKG8tYSxoLWwsZi1kLHktZykubm9ybWFsaXplKCksdFs1XS5zZXRDb21wb25lbnRzKG8rYSxoK2wsZitkLHkrZykubm9ybWFsaXplKCksdGhpc30saW50ZXJzZWN0c09iamVjdDpmdW5jdGlvbihlKXt2YXIgdD1lLmdlb21ldHJ5O3JldHVybiBudWxsPT09dC5ib3VuZGluZ1NwaGVyZSYmdC5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxpdS5jb3B5KHQuYm91bmRpbmdTcGhlcmUpLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkKSx0aGlzLmludGVyc2VjdHNTcGhlcmUoaXUpfSxpbnRlcnNlY3RzU3ByaXRlOmZ1bmN0aW9uKGUpe3JldHVybiBpdS5jZW50ZXIuc2V0KDAsMCwwKSxpdS5yYWRpdXM9LjcwNzEwNjc4MTE4NjU0NzYsaXUuYXBwbHlNYXRyaXg0KGUubWF0cml4V29ybGQpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShpdSl9LGludGVyc2VjdHNTcGhlcmU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucGxhbmVzLG49ZS5jZW50ZXIscj0tZS5yYWRpdXMsaT0wO2k8NjtpKyspe2lmKHRbaV0uZGlzdGFuY2VUb1BvaW50KG4pPHIpcmV0dXJuITF9cmV0dXJuITB9LGludGVyc2VjdHNCb3g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucGxhbmVzLG49MDtuPDY7bisrKXt2YXIgcj10W25dO2lmKGF1Lng9ci5ub3JtYWwueD4wP2UubWF4Lng6ZS5taW4ueCxhdS55PXIubm9ybWFsLnk+MD9lLm1heC55OmUubWluLnksYXUuej1yLm5vcm1hbC56PjA/ZS5tYXguejplLm1pbi56LHIuZGlzdGFuY2VUb1BvaW50KGF1KTwwKXJldHVybiExfXJldHVybiEwfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnBsYW5lcyxuPTA7bjw2O24rKylpZih0W25dLmRpc3RhbmNlVG9Qb2ludChlKTwwKXJldHVybiExO3JldHVybiEwfX0pO3ZhciBvdT17YWxwaGFtYXBfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0FMUEhBTUFQXFxuXFx0ZGlmZnVzZUNvbG9yLmEgKj0gdGV4dHVyZTJEKCBhbHBoYU1hcCwgdlV2ICkuZztcXG4jZW5kaWZcIixhbHBoYW1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9BTFBIQU1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGFscGhhTWFwO1xcbiNlbmRpZlwiLGFscGhhdGVzdF9mcmFnbWVudDpcIiNpZmRlZiBBTFBIQVRFU1RcXG5cXHRpZiAoIGRpZmZ1c2VDb2xvci5hIDwgQUxQSEFURVNUICkgZGlzY2FyZDtcXG4jZW5kaWZcIixhb21hcF9mcmFnbWVudDpcIiNpZmRlZiBVU0VfQU9NQVBcXG5cXHRmbG9hdCBhbWJpZW50T2NjbHVzaW9uID0gKCB0ZXh0dXJlMkQoIGFvTWFwLCB2VXYyICkuciAtIDEuMCApICogYW9NYXBJbnRlbnNpdHkgKyAxLjA7XFxuXFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGFtYmllbnRPY2NsdXNpb247XFxuXFx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApXFxuXFx0XFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixhb21hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9BT01BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGFvTWFwO1xcblxcdHVuaWZvcm0gZmxvYXQgYW9NYXBJbnRlbnNpdHk7XFxuI2VuZGlmXCIsYmVnaW5fdmVydGV4OlwidmVjMyB0cmFuc2Zvcm1lZCA9IHZlYzMoIHBvc2l0aW9uICk7XCIsYmVnaW5ub3JtYWxfdmVydGV4OlwidmVjMyBvYmplY3ROb3JtYWwgPSB2ZWMzKCBub3JtYWwgKTtcXG4jaWZkZWYgVVNFX1RBTkdFTlRcXG5cXHR2ZWMzIG9iamVjdFRhbmdlbnQgPSB2ZWMzKCB0YW5nZW50Lnh5eiApO1xcbiNlbmRpZlwiLFxuYnNkZnM6XCJ2ZWMyIGludGVncmF0ZVNwZWN1bGFyQlJERiggY29uc3QgaW4gZmxvYXQgZG90TlYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcXG5cXHRjb25zdCB2ZWM0IGMwID0gdmVjNCggLSAxLCAtIDAuMDI3NSwgLSAwLjU3MiwgMC4wMjIgKTtcXG5cXHRjb25zdCB2ZWM0IGMxID0gdmVjNCggMSwgMC4wNDI1LCAxLjA0LCAtIDAuMDQgKTtcXG5cXHR2ZWM0IHIgPSByb3VnaG5lc3MgKiBjMCArIGMxO1xcblxcdGZsb2F0IGEwMDQgPSBtaW4oIHIueCAqIHIueCwgZXhwMiggLSA5LjI4ICogZG90TlYgKSApICogci54ICsgci55O1xcblxcdHJldHVybiB2ZWMyKCAtMS4wNCwgMS4wNCApICogYTAwNCArIHIuenc7XFxufVxcbmZsb2F0IHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGNvbnN0IGluIGZsb2F0IGxpZ2h0RGlzdGFuY2UsIGNvbnN0IGluIGZsb2F0IGN1dG9mZkRpc3RhbmNlLCBjb25zdCBpbiBmbG9hdCBkZWNheUV4cG9uZW50ICkge1xcbiNpZiBkZWZpbmVkICggUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyApXFxuXFx0ZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApO1xcblxcdGlmKCBjdXRvZmZEaXN0YW5jZSA+IDAuMCApIHtcXG5cXHRcXHRkaXN0YW5jZUZhbGxvZmYgKj0gcG93Miggc2F0dXJhdGUoIDEuMCAtIHBvdzQoIGxpZ2h0RGlzdGFuY2UgLyBjdXRvZmZEaXN0YW5jZSApICkgKTtcXG5cXHR9XFxuXFx0cmV0dXJuIGRpc3RhbmNlRmFsbG9mZjtcXG4jZWxzZVxcblxcdGlmKCBjdXRvZmZEaXN0YW5jZSA+IDAuMCAmJiBkZWNheUV4cG9uZW50ID4gMC4wICkge1xcblxcdFxcdHJldHVybiBwb3coIHNhdHVyYXRlKCAtbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICsgMS4wICksIGRlY2F5RXhwb25lbnQgKTtcXG5cXHR9XFxuXFx0cmV0dXJuIDEuMDtcXG4jZW5kaWZcXG59XFxudmVjMyBCUkRGX0RpZmZ1c2VfTGFtYmVydCggY29uc3QgaW4gdmVjMyBkaWZmdXNlQ29sb3IgKSB7XFxuXFx0cmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiBkaWZmdXNlQ29sb3I7XFxufVxcbnZlYzMgRl9TY2hsaWNrKCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IGRvdExIICkge1xcblxcdGZsb2F0IGZyZXNuZWwgPSBleHAyKCAoIC01LjU1NDczICogZG90TEggLSA2Ljk4MzE2ICkgKiBkb3RMSCApO1xcblxcdHJldHVybiAoIDEuMCAtIHNwZWN1bGFyQ29sb3IgKSAqIGZyZXNuZWwgKyBzcGVjdWxhckNvbG9yO1xcbn1cXG52ZWMzIEZfU2NobGlja19Sb3VnaG5lc3NEZXBlbmRlbnQoIGNvbnN0IGluIHZlYzMgRjAsIGNvbnN0IGluIGZsb2F0IGRvdE5WLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XFxuXFx0ZmxvYXQgZnJlc25lbCA9IGV4cDIoICggLTUuNTU0NzMgKiBkb3ROViAtIDYuOTgzMTYgKSAqIGRvdE5WICk7XFxuXFx0dmVjMyBGciA9IG1heCggdmVjMyggMS4wIC0gcm91Z2huZXNzICksIEYwICkgLSBGMDtcXG5cXHRyZXR1cm4gRnIgKiBmcmVzbmVsICsgRjA7XFxufVxcbmZsb2F0IEdfR0dYX1NtaXRoKCBjb25zdCBpbiBmbG9hdCBhbHBoYSwgY29uc3QgaW4gZmxvYXQgZG90TkwsIGNvbnN0IGluIGZsb2F0IGRvdE5WICkge1xcblxcdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcXG5cXHRmbG9hdCBnbCA9IGRvdE5MICsgc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROTCApICk7XFxuXFx0ZmxvYXQgZ3YgPSBkb3ROViArIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TlYgKSApO1xcblxcdHJldHVybiAxLjAgLyAoIGdsICogZ3YgKTtcXG59XFxuZmxvYXQgR19HR1hfU21pdGhDb3JyZWxhdGVkKCBjb25zdCBpbiBmbG9hdCBhbHBoYSwgY29uc3QgaW4gZmxvYXQgZG90TkwsIGNvbnN0IGluIGZsb2F0IGRvdE5WICkge1xcblxcdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcXG5cXHRmbG9hdCBndiA9IGRvdE5MICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7XFxuXFx0ZmxvYXQgZ2wgPSBkb3ROViAqIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TkwgKSApO1xcblxcdHJldHVybiAwLjUgLyBtYXgoIGd2ICsgZ2wsIEVQU0lMT04gKTtcXG59XFxuZmxvYXQgRF9HR1goIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHtcXG5cXHRmbG9hdCBhMiA9IHBvdzIoIGFscGhhICk7XFxuXFx0ZmxvYXQgZGVub20gPSBwb3cyKCBkb3ROSCApICogKCBhMiAtIDEuMCApICsgMS4wO1xcblxcdHJldHVybiBSRUNJUFJPQ0FMX1BJICogYTIgLyBwb3cyKCBkZW5vbSApO1xcbn1cXG52ZWMzIEJSREZfU3BlY3VsYXJfR0dYKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGluY2lkZW50TGlnaHQsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xcblxcdGZsb2F0IGFscGhhID0gcG93Miggcm91Z2huZXNzICk7XFxuXFx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiArIHZpZXdEaXIgKTtcXG5cXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaW5jaWRlbnRMaWdodC5kaXJlY3Rpb24gKSApO1xcblxcdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTtcXG5cXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaGFsZkRpciApICk7XFxuXFx0ZmxvYXQgZG90TEggPSBzYXR1cmF0ZSggZG90KCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiwgaGFsZkRpciApICk7XFxuXFx0dmVjMyBGID0gRl9TY2hsaWNrKCBzcGVjdWxhckNvbG9yLCBkb3RMSCApO1xcblxcdGZsb2F0IEcgPSBHX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGFscGhhLCBkb3ROTCwgZG90TlYgKTtcXG5cXHRmbG9hdCBEID0gRF9HR1goIGFscGhhLCBkb3ROSCApO1xcblxcdHJldHVybiBGICogKCBHICogRCApO1xcbn1cXG52ZWMyIExUQ19VdiggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcXG5cXHRjb25zdCBmbG9hdCBMVVRfU0laRSAgPSA2NC4wO1xcblxcdGNvbnN0IGZsb2F0IExVVF9TQ0FMRSA9ICggTFVUX1NJWkUgLSAxLjAgKSAvIExVVF9TSVpFO1xcblxcdGNvbnN0IGZsb2F0IExVVF9CSUFTICA9IDAuNSAvIExVVF9TSVpFO1xcblxcdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggTiwgViApICk7XFxuXFx0dmVjMiB1diA9IHZlYzIoIHJvdWdobmVzcywgc3FydCggMS4wIC0gZG90TlYgKSApO1xcblxcdHV2ID0gdXYgKiBMVVRfU0NBTEUgKyBMVVRfQklBUztcXG5cXHRyZXR1cm4gdXY7XFxufVxcbmZsb2F0IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggY29uc3QgaW4gdmVjMyBmICkge1xcblxcdGZsb2F0IGwgPSBsZW5ndGgoIGYgKTtcXG5cXHRyZXR1cm4gbWF4KCAoIGwgKiBsICsgZi56ICkgLyAoIGwgKyAxLjAgKSwgMC4wICk7XFxufVxcbnZlYzMgTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIHYxLCBjb25zdCBpbiB2ZWMzIHYyICkge1xcblxcdGZsb2F0IHggPSBkb3QoIHYxLCB2MiApO1xcblxcdGZsb2F0IHkgPSBhYnMoIHggKTtcXG5cXHRmbG9hdCBhID0gMC44NTQzOTg1ICsgKCAwLjQ5NjUxNTUgKyAwLjAxNDUyMDYgKiB5ICkgKiB5O1xcblxcdGZsb2F0IGIgPSAzLjQxNzU5NDAgKyAoIDQuMTYxNjcyNCArIHkgKSAqIHk7XFxuXFx0ZmxvYXQgdiA9IGEgLyBiO1xcblxcdGZsb2F0IHRoZXRhX3NpbnRoZXRhID0gKCB4ID4gMC4wICkgPyB2IDogMC41ICogaW52ZXJzZXNxcnQoIG1heCggMS4wIC0geCAqIHgsIDFlLTcgKSApIC0gdjtcXG5cXHRyZXR1cm4gY3Jvc3MoIHYxLCB2MiApICogdGhldGFfc2ludGhldGE7XFxufVxcbnZlYzMgTFRDX0V2YWx1YXRlKCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gdmVjMyBQLCBjb25zdCBpbiBtYXQzIG1JbnYsIGNvbnN0IGluIHZlYzMgcmVjdENvb3Jkc1sgNCBdICkge1xcblxcdHZlYzMgdjEgPSByZWN0Q29vcmRzWyAxIF0gLSByZWN0Q29vcmRzWyAwIF07XFxuXFx0dmVjMyB2MiA9IHJlY3RDb29yZHNbIDMgXSAtIHJlY3RDb29yZHNbIDAgXTtcXG5cXHR2ZWMzIGxpZ2h0Tm9ybWFsID0gY3Jvc3MoIHYxLCB2MiApO1xcblxcdGlmKCBkb3QoIGxpZ2h0Tm9ybWFsLCBQIC0gcmVjdENvb3Jkc1sgMCBdICkgPCAwLjAgKSByZXR1cm4gdmVjMyggMC4wICk7XFxuXFx0dmVjMyBUMSwgVDI7XFxuXFx0VDEgPSBub3JtYWxpemUoIFYgLSBOICogZG90KCBWLCBOICkgKTtcXG5cXHRUMiA9IC0gY3Jvc3MoIE4sIFQxICk7XFxuXFx0bWF0MyBtYXQgPSBtSW52ICogdHJhbnNwb3NlTWF0MyggbWF0MyggVDEsIFQyLCBOICkgKTtcXG5cXHR2ZWMzIGNvb3Jkc1sgNCBdO1xcblxcdGNvb3Jkc1sgMCBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAwIF0gLSBQICk7XFxuXFx0Y29vcmRzWyAxIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDEgXSAtIFAgKTtcXG5cXHRjb29yZHNbIDIgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMiBdIC0gUCApO1xcblxcdGNvb3Jkc1sgMyBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAzIF0gLSBQICk7XFxuXFx0Y29vcmRzWyAwIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMCBdICk7XFxuXFx0Y29vcmRzWyAxIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMSBdICk7XFxuXFx0Y29vcmRzWyAyIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMiBdICk7XFxuXFx0Y29vcmRzWyAzIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMyBdICk7XFxuXFx0dmVjMyB2ZWN0b3JGb3JtRmFjdG9yID0gdmVjMyggMC4wICk7XFxuXFx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMCBdLCBjb29yZHNbIDEgXSApO1xcblxcdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDEgXSwgY29vcmRzWyAyIF0gKTtcXG5cXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAyIF0sIGNvb3Jkc1sgMyBdICk7XFxuXFx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMyBdLCBjb29yZHNbIDAgXSApO1xcblxcdGZsb2F0IHJlc3VsdCA9IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggdmVjdG9yRm9ybUZhY3RvciApO1xcblxcdHJldHVybiB2ZWMzKCByZXN1bHQgKTtcXG59XFxudmVjMyBCUkRGX1NwZWN1bGFyX0dHWF9FbnZpcm9ubWVudCggY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XFxuXFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xcblxcdHZlYzIgYnJkZiA9IGludGVncmF0ZVNwZWN1bGFyQlJERiggZG90TlYsIHJvdWdobmVzcyApO1xcblxcdHJldHVybiBzcGVjdWxhckNvbG9yICogYnJkZi54ICsgYnJkZi55O1xcbn1cXG52b2lkIEJSREZfU3BlY3VsYXJfTXVsdGlzY2F0dGVyaW5nX0Vudmlyb25tZW50KCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgaW5vdXQgdmVjMyBzaW5nbGVTY2F0dGVyLCBpbm91dCB2ZWMzIG11bHRpU2NhdHRlciApIHtcXG5cXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZ2VvbWV0cnkudmlld0RpciApICk7XFxuXFx0dmVjMyBGID0gRl9TY2hsaWNrX1JvdWdobmVzc0RlcGVuZGVudCggc3BlY3VsYXJDb2xvciwgZG90TlYsIHJvdWdobmVzcyApO1xcblxcdHZlYzIgYnJkZiA9IGludGVncmF0ZVNwZWN1bGFyQlJERiggZG90TlYsIHJvdWdobmVzcyApO1xcblxcdHZlYzMgRnNzRXNzID0gRiAqIGJyZGYueCArIGJyZGYueTtcXG5cXHRmbG9hdCBFc3MgPSBicmRmLnggKyBicmRmLnk7XFxuXFx0ZmxvYXQgRW1zID0gMS4wIC0gRXNzO1xcblxcdHZlYzMgRmF2ZyA9IHNwZWN1bGFyQ29sb3IgKyAoIDEuMCAtIHNwZWN1bGFyQ29sb3IgKSAqIDAuMDQ3NjE5O1xcdHZlYzMgRm1zID0gRnNzRXNzICogRmF2ZyAvICggMS4wIC0gRW1zICogRmF2ZyApO1xcblxcdHNpbmdsZVNjYXR0ZXIgKz0gRnNzRXNzO1xcblxcdG11bHRpU2NhdHRlciArPSBGbXMgKiBFbXM7XFxufVxcbmZsb2F0IEdfQmxpbm5QaG9uZ19JbXBsaWNpdCggKSB7XFxuXFx0cmV0dXJuIDAuMjU7XFxufVxcbmZsb2F0IERfQmxpbm5QaG9uZyggY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHtcXG5cXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqICggc2hpbmluZXNzICogMC41ICsgMS4wICkgKiBwb3coIGRvdE5ILCBzaGluaW5lc3MgKTtcXG59XFxudmVjMyBCUkRGX1NwZWN1bGFyX0JsaW5uUGhvbmcoIGNvbnN0IGluIEluY2lkZW50TGlnaHQgaW5jaWRlbnRMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MgKSB7XFxuXFx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiArIGdlb21ldHJ5LnZpZXdEaXIgKTtcXG5cXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgaGFsZkRpciApICk7XFxuXFx0ZmxvYXQgZG90TEggPSBzYXR1cmF0ZSggZG90KCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiwgaGFsZkRpciApICk7XFxuXFx0dmVjMyBGID0gRl9TY2hsaWNrKCBzcGVjdWxhckNvbG9yLCBkb3RMSCApO1xcblxcdGZsb2F0IEcgPSBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICk7XFxuXFx0ZmxvYXQgRCA9IERfQmxpbm5QaG9uZyggc2hpbmluZXNzLCBkb3ROSCApO1xcblxcdHJldHVybiBGICogKCBHICogRCApO1xcbn1cXG5mbG9hdCBHR1hSb3VnaG5lc3NUb0JsaW5uRXhwb25lbnQoIGNvbnN0IGluIGZsb2F0IGdneFJvdWdobmVzcyApIHtcXG5cXHRyZXR1cm4gKCAyLjAgLyBwb3cyKCBnZ3hSb3VnaG5lc3MgKyAwLjAwMDEgKSAtIDIuMCApO1xcbn1cXG5mbG9hdCBCbGlubkV4cG9uZW50VG9HR1hSb3VnaG5lc3MoIGNvbnN0IGluIGZsb2F0IGJsaW5uRXhwb25lbnQgKSB7XFxuXFx0cmV0dXJuIHNxcnQoIDIuMCAvICggYmxpbm5FeHBvbmVudCArIDIuMCApICk7XFxufVxcbiNpZiBkZWZpbmVkKCBVU0VfU0hFRU4gKVxcbmZsb2F0IERfQ2hhcmxpZShmbG9hdCByb3VnaG5lc3MsIGZsb2F0IE5vSCkge1xcblxcdGZsb2F0IGludkFscGhhICA9IDEuMCAvIHJvdWdobmVzcztcXG5cXHRmbG9hdCBjb3MyaCA9IE5vSCAqIE5vSDtcXG5cXHRmbG9hdCBzaW4yaCA9IG1heCgxLjAgLSBjb3MyaCwgMC4wMDc4MTI1KTtcXHRyZXR1cm4gKDIuMCArIGludkFscGhhKSAqIHBvdyhzaW4yaCwgaW52QWxwaGEgKiAwLjUpIC8gKDIuMCAqIFBJKTtcXG59XFxuZmxvYXQgVl9OZXViZWx0KGZsb2F0IE5vViwgZmxvYXQgTm9MKSB7XFxuXFx0cmV0dXJuIHNhdHVyYXRlKDEuMCAvICg0LjAgKiAoTm9MICsgTm9WIC0gTm9MICogTm9WKSkpO1xcbn1cXG52ZWMzIEJSREZfU3BlY3VsYXJfU2hlZW4oIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gdmVjMyBMLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCB2ZWMzIHNwZWN1bGFyQ29sb3IgKSB7XFxuXFx0dmVjMyBOID0gZ2VvbWV0cnkubm9ybWFsO1xcblxcdHZlYzMgViA9IGdlb21ldHJ5LnZpZXdEaXI7XFxuXFx0dmVjMyBIID0gbm9ybWFsaXplKCBWICsgTCApO1xcblxcdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggTiwgSCApICk7XFxuXFx0cmV0dXJuIHNwZWN1bGFyQ29sb3IgKiBEX0NoYXJsaWUoIHJvdWdobmVzcywgZG90TkggKSAqIFZfTmV1YmVsdCggZG90KE4sIFYpLCBkb3QoTiwgTCkgKTtcXG59XFxuI2VuZGlmXCIsYnVtcG1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9CVU1QTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgYnVtcE1hcDtcXG5cXHR1bmlmb3JtIGZsb2F0IGJ1bXBTY2FsZTtcXG5cXHR2ZWMyIGRIZHh5X2Z3ZCgpIHtcXG5cXHRcXHR2ZWMyIGRTVGR4ID0gZEZkeCggdlV2ICk7XFxuXFx0XFx0dmVjMiBkU1RkeSA9IGRGZHkoIHZVdiApO1xcblxcdFxcdGZsb2F0IEhsbCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICkueDtcXG5cXHRcXHRmbG9hdCBkQnggPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR4ICkueCAtIEhsbDtcXG5cXHRcXHRmbG9hdCBkQnkgPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR5ICkueCAtIEhsbDtcXG5cXHRcXHRyZXR1cm4gdmVjMiggZEJ4LCBkQnkgKTtcXG5cXHR9XFxuXFx0dmVjMyBwZXJ0dXJiTm9ybWFsQXJiKCB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMiBkSGR4eSApIHtcXG5cXHRcXHR2ZWMzIHZTaWdtYVggPSB2ZWMzKCBkRmR4KCBzdXJmX3Bvcy54ICksIGRGZHgoIHN1cmZfcG9zLnkgKSwgZEZkeCggc3VyZl9wb3MueiApICk7XFxuXFx0XFx0dmVjMyB2U2lnbWFZID0gdmVjMyggZEZkeSggc3VyZl9wb3MueCApLCBkRmR5KCBzdXJmX3Bvcy55ICksIGRGZHkoIHN1cmZfcG9zLnogKSApO1xcblxcdFxcdHZlYzMgdk4gPSBzdXJmX25vcm07XFxuXFx0XFx0dmVjMyBSMSA9IGNyb3NzKCB2U2lnbWFZLCB2TiApO1xcblxcdFxcdHZlYzMgUjIgPSBjcm9zcyggdk4sIHZTaWdtYVggKTtcXG5cXHRcXHRmbG9hdCBmRGV0ID0gZG90KCB2U2lnbWFYLCBSMSApO1xcblxcdFxcdGZEZXQgKj0gKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xcblxcdFxcdHZlYzMgdkdyYWQgPSBzaWduKCBmRGV0ICkgKiAoIGRIZHh5LnggKiBSMSArIGRIZHh5LnkgKiBSMiApO1xcblxcdFxcdHJldHVybiBub3JtYWxpemUoIGFicyggZkRldCApICogc3VyZl9ub3JtIC0gdkdyYWQgKTtcXG5cXHR9XFxuI2VuZGlmXCIsY2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50OlwiI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwXFxuXFx0dmVjNCBwbGFuZTtcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgVU5JT05fQ0xJUFBJTkdfUExBTkVTOyBpICsrICkge1xcblxcdFxcdHBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTtcXG5cXHRcXHRpZiAoIGRvdCggdlZpZXdQb3NpdGlvbiwgcGxhbmUueHl6ICkgPiBwbGFuZS53ICkgZGlzY2FyZDtcXG5cXHR9XFxuXFx0I2lmIFVOSU9OX0NMSVBQSU5HX1BMQU5FUyA8IE5VTV9DTElQUElOR19QTEFORVNcXG5cXHRcXHRib29sIGNsaXBwZWQgPSB0cnVlO1xcblxcdFxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRcXHRmb3IgKCBpbnQgaSA9IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSA8IE5VTV9DTElQUElOR19QTEFORVM7IGkgKysgKSB7XFxuXFx0XFx0XFx0cGxhbmUgPSBjbGlwcGluZ1BsYW5lc1sgaSBdO1xcblxcdFxcdFxcdGNsaXBwZWQgPSAoIGRvdCggdlZpZXdQb3NpdGlvbiwgcGxhbmUueHl6ICkgPiBwbGFuZS53ICkgJiYgY2xpcHBlZDtcXG5cXHRcXHR9XFxuXFx0XFx0aWYgKCBjbGlwcGVkICkgZGlzY2FyZDtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudDpcIiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxcblxcdCNpZiAhIGRlZmluZWQoIFNUQU5EQVJEICkgJiYgISBkZWZpbmVkKCBQSE9ORyApICYmICEgZGVmaW5lZCggTUFUQ0FQIClcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG5cXHQjZW5kaWZcXG5cXHR1bmlmb3JtIHZlYzQgY2xpcHBpbmdQbGFuZXNbIE5VTV9DTElQUElOR19QTEFORVMgXTtcXG4jZW5kaWZcIixjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg6XCIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDAgJiYgISBkZWZpbmVkKCBTVEFOREFSRCApICYmICEgZGVmaW5lZCggUEhPTkcgKSAmJiAhIGRlZmluZWQoIE1BVENBUCApXFxuXFx0dmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XFxuI2VuZGlmXCIsY2xpcHBpbmdfcGxhbmVzX3ZlcnRleDpcIiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMCAmJiAhIGRlZmluZWQoIFNUQU5EQVJEICkgJiYgISBkZWZpbmVkKCBQSE9ORyApICYmICEgZGVmaW5lZCggTUFUQ0FQIClcXG5cXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcXG4jZW5kaWZcIixjb2xvcl9mcmFnbWVudDpcIiNpZmRlZiBVU0VfQ09MT1JcXG5cXHRkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjtcXG4jZW5kaWZcIixjb2xvcl9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9DT0xPUlxcblxcdHZhcnlpbmcgdmVjMyB2Q29sb3I7XFxuI2VuZGlmXCIsY29sb3JfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX0NPTE9SXFxuXFx0dmFyeWluZyB2ZWMzIHZDb2xvcjtcXG4jZW5kaWZcIixjb2xvcl92ZXJ0ZXg6XCIjaWZkZWYgVVNFX0NPTE9SXFxuXFx0dkNvbG9yLnh5eiA9IGNvbG9yLnh5ejtcXG4jZW5kaWZcIixjb21tb246XCIjZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcXG4jZGVmaW5lIFBJMiA2LjI4MzE4NTMwNzE4XFxuI2RlZmluZSBQSV9IQUxGIDEuNTcwNzk2MzI2Nzk0OVxcbiNkZWZpbmUgUkVDSVBST0NBTF9QSSAwLjMxODMwOTg4NjE4XFxuI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0XFxuI2RlZmluZSBMT0cyIDEuNDQyNjk1XFxuI2RlZmluZSBFUFNJTE9OIDFlLTZcXG4jaWZuZGVmIHNhdHVyYXRlXFxuI2RlZmluZSBzYXR1cmF0ZShhKSBjbGFtcCggYSwgMC4wLCAxLjAgKVxcbiNlbmRpZlxcbiNkZWZpbmUgd2hpdGVDb21wbGVtZW50KGEpICggMS4wIC0gc2F0dXJhdGUoIGEgKSApXFxuZmxvYXQgcG93MiggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeDsgfVxcbmZsb2F0IHBvdzMoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4KngqeDsgfVxcbmZsb2F0IHBvdzQoIGNvbnN0IGluIGZsb2F0IHggKSB7IGZsb2F0IHgyID0geCp4OyByZXR1cm4geDIqeDI7IH1cXG5mbG9hdCBhdmVyYWdlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkgeyByZXR1cm4gZG90KCBjb2xvciwgdmVjMyggMC4zMzMzICkgKTsgfVxcbmhpZ2hwIGZsb2F0IHJhbmQoIGNvbnN0IGluIHZlYzIgdXYgKSB7XFxuXFx0Y29uc3QgaGlnaHAgZmxvYXQgYSA9IDEyLjk4OTgsIGIgPSA3OC4yMzMsIGMgPSA0Mzc1OC41NDUzO1xcblxcdGhpZ2hwIGZsb2F0IGR0ID0gZG90KCB1di54eSwgdmVjMiggYSxiICkgKSwgc24gPSBtb2QoIGR0LCBQSSApO1xcblxcdHJldHVybiBmcmFjdChzaW4oc24pICogYyk7XFxufVxcbiNpZmRlZiBISUdIX1BSRUNJU0lPTlxcblxcdGZsb2F0IHByZWNpc2lvblNhZmVMZW5ndGgoIHZlYzMgdiApIHsgcmV0dXJuIGxlbmd0aCggdiApOyB9XFxuI2Vsc2VcXG5cXHRmbG9hdCBtYXgzKCB2ZWMzIHYgKSB7IHJldHVybiBtYXgoIG1heCggdi54LCB2LnkgKSwgdi56ICk7IH1cXG5cXHRmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7XFxuXFx0XFx0ZmxvYXQgbWF4Q29tcG9uZW50ID0gbWF4MyggYWJzKCB2ICkgKTtcXG5cXHRcXHRyZXR1cm4gbGVuZ3RoKCB2IC8gbWF4Q29tcG9uZW50ICkgKiBtYXhDb21wb25lbnQ7XFxuXFx0fVxcbiNlbmRpZlxcbnN0cnVjdCBJbmNpZGVudExpZ2h0IHtcXG5cXHR2ZWMzIGNvbG9yO1xcblxcdHZlYzMgZGlyZWN0aW9uO1xcblxcdGJvb2wgdmlzaWJsZTtcXG59O1xcbnN0cnVjdCBSZWZsZWN0ZWRMaWdodCB7XFxuXFx0dmVjMyBkaXJlY3REaWZmdXNlO1xcblxcdHZlYzMgZGlyZWN0U3BlY3VsYXI7XFxuXFx0dmVjMyBpbmRpcmVjdERpZmZ1c2U7XFxuXFx0dmVjMyBpbmRpcmVjdFNwZWN1bGFyO1xcbn07XFxuc3RydWN0IEdlb21ldHJpY0NvbnRleHQge1xcblxcdHZlYzMgcG9zaXRpb247XFxuXFx0dmVjMyBub3JtYWw7XFxuXFx0dmVjMyB2aWV3RGlyO1xcbiNpZmRlZiBDTEVBUkNPQVRcXG5cXHR2ZWMzIGNsZWFyY29hdE5vcm1hbDtcXG4jZW5kaWZcXG59O1xcbnZlYzMgdHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIGRpciwgaW4gbWF0NCBtYXRyaXggKSB7XFxuXFx0cmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7XFxufVxcbnZlYzMgaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xcblxcdHJldHVybiBub3JtYWxpemUoICggdmVjNCggZGlyLCAwLjAgKSAqIG1hdHJpeCApLnh5eiApO1xcbn1cXG52ZWMzIHByb2plY3RPblBsYW5lKGluIHZlYzMgcG9pbnQsIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xcblxcdGZsb2F0IGRpc3RhbmNlID0gZG90KCBwbGFuZU5vcm1hbCwgcG9pbnQgLSBwb2ludE9uUGxhbmUgKTtcXG5cXHRyZXR1cm4gLSBkaXN0YW5jZSAqIHBsYW5lTm9ybWFsICsgcG9pbnQ7XFxufVxcbmZsb2F0IHNpZGVPZlBsYW5lKCBpbiB2ZWMzIHBvaW50LCBpbiB2ZWMzIHBvaW50T25QbGFuZSwgaW4gdmVjMyBwbGFuZU5vcm1hbCApIHtcXG5cXHRyZXR1cm4gc2lnbiggZG90KCBwb2ludCAtIHBvaW50T25QbGFuZSwgcGxhbmVOb3JtYWwgKSApO1xcbn1cXG52ZWMzIGxpbmVQbGFuZUludGVyc2VjdCggaW4gdmVjMyBwb2ludE9uTGluZSwgaW4gdmVjMyBsaW5lRGlyZWN0aW9uLCBpbiB2ZWMzIHBvaW50T25QbGFuZSwgaW4gdmVjMyBwbGFuZU5vcm1hbCApIHtcXG5cXHRyZXR1cm4gbGluZURpcmVjdGlvbiAqICggZG90KCBwbGFuZU5vcm1hbCwgcG9pbnRPblBsYW5lIC0gcG9pbnRPbkxpbmUgKSAvIGRvdCggcGxhbmVOb3JtYWwsIGxpbmVEaXJlY3Rpb24gKSApICsgcG9pbnRPbkxpbmU7XFxufVxcbm1hdDMgdHJhbnNwb3NlTWF0MyggY29uc3QgaW4gbWF0MyBtICkge1xcblxcdG1hdDMgdG1wO1xcblxcdHRtcFsgMCBdID0gdmVjMyggbVsgMCBdLngsIG1bIDEgXS54LCBtWyAyIF0ueCApO1xcblxcdHRtcFsgMSBdID0gdmVjMyggbVsgMCBdLnksIG1bIDEgXS55LCBtWyAyIF0ueSApO1xcblxcdHRtcFsgMiBdID0gdmVjMyggbVsgMCBdLnosIG1bIDEgXS56LCBtWyAyIF0ueiApO1xcblxcdHJldHVybiB0bXA7XFxufVxcbmZsb2F0IGxpbmVhclRvUmVsYXRpdmVMdW1pbmFuY2UoIGNvbnN0IGluIHZlYzMgY29sb3IgKSB7XFxuXFx0dmVjMyB3ZWlnaHRzID0gdmVjMyggMC4yMTI2LCAwLjcxNTIsIDAuMDcyMiApO1xcblxcdHJldHVybiBkb3QoIHdlaWdodHMsIGNvbG9yLnJnYiApO1xcbn1cXG5ib29sIGlzUGVyc3BlY3RpdmVNYXRyaXgoIG1hdDQgbSApIHtcXG4gIHJldHVybiBtWyAyIF1bIDMgXSA9PSAtIDEuMDtcXG59XCIsY3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50OlwiI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVfVVZcXG4jZGVmaW5lIGN1YmVVVl9tYXhNaXBMZXZlbCA4LjBcXG4jZGVmaW5lIGN1YmVVVl9taW5NaXBMZXZlbCA0LjBcXG4jZGVmaW5lIGN1YmVVVl9tYXhUaWxlU2l6ZSAyNTYuMFxcbiNkZWZpbmUgY3ViZVVWX21pblRpbGVTaXplIDE2LjBcXG5mbG9hdCBnZXRGYWNlKHZlYzMgZGlyZWN0aW9uKSB7XFxuICAgIHZlYzMgYWJzRGlyZWN0aW9uID0gYWJzKGRpcmVjdGlvbik7XFxuICAgIGZsb2F0IGZhY2UgPSAtMS4wO1xcbiAgICBpZiAoYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueikge1xcbiAgICAgIGlmIChhYnNEaXJlY3Rpb24ueCA+IGFic0RpcmVjdGlvbi55KVxcbiAgICAgICAgZmFjZSA9IGRpcmVjdGlvbi54ID4gMC4wID8gMC4wIDogMy4wO1xcbiAgICAgIGVsc2VcXG4gICAgICAgIGZhY2UgPSBkaXJlY3Rpb24ueSA+IDAuMCA/IDEuMCA6IDQuMDtcXG4gICAgfSBlbHNlIHtcXG4gICAgICBpZiAoYWJzRGlyZWN0aW9uLnogPiBhYnNEaXJlY3Rpb24ueSlcXG4gICAgICAgIGZhY2UgPSBkaXJlY3Rpb24ueiA+IDAuMCA/IDIuMCA6IDUuMDtcXG4gICAgICBlbHNlXFxuICAgICAgICBmYWNlID0gZGlyZWN0aW9uLnkgPiAwLjAgPyAxLjAgOiA0LjA7XFxuICAgIH1cXG4gICAgcmV0dXJuIGZhY2U7XFxufVxcbnZlYzIgZ2V0VVYodmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UpIHtcXG4gICAgdmVjMiB1djtcXG4gICAgaWYgKGZhY2UgPT0gMC4wKSB7XFxuICAgICAgdXYgPSB2ZWMyKC1kaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkpIC8gYWJzKGRpcmVjdGlvbi54KTtcXG4gICAgfSBlbHNlIGlmIChmYWNlID09IDEuMCkge1xcbiAgICAgIHV2ID0gdmVjMihkaXJlY3Rpb24ueCwgLWRpcmVjdGlvbi56KSAvIGFicyhkaXJlY3Rpb24ueSk7XFxuICAgIH0gZWxzZSBpZiAoZmFjZSA9PSAyLjApIHtcXG4gICAgICB1diA9IGRpcmVjdGlvbi54eSAvIGFicyhkaXJlY3Rpb24ueik7XFxuICAgIH0gZWxzZSBpZiAoZmFjZSA9PSAzLjApIHtcXG4gICAgICB1diA9IHZlYzIoZGlyZWN0aW9uLnosIGRpcmVjdGlvbi55KSAvIGFicyhkaXJlY3Rpb24ueCk7XFxuICAgIH0gZWxzZSBpZiAoZmFjZSA9PSA0LjApIHtcXG4gICAgICB1diA9IGRpcmVjdGlvbi54eiAvIGFicyhkaXJlY3Rpb24ueSk7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgdXYgPSB2ZWMyKC1kaXJlY3Rpb24ueCwgZGlyZWN0aW9uLnkpIC8gYWJzKGRpcmVjdGlvbi56KTtcXG4gICAgfVxcbiAgICByZXR1cm4gMC41ICogKHV2ICsgMS4wKTtcXG59XFxudmVjMyBiaWxpbmVhckN1YmVVVihzYW1wbGVyMkQgZW52TWFwLCB2ZWMzIGRpcmVjdGlvbiwgZmxvYXQgbWlwSW50KSB7XFxuICBmbG9hdCBmYWNlID0gZ2V0RmFjZShkaXJlY3Rpb24pO1xcbiAgZmxvYXQgZmlsdGVySW50ID0gbWF4KGN1YmVVVl9taW5NaXBMZXZlbCAtIG1pcEludCwgMC4wKTtcXG4gIG1pcEludCA9IG1heChtaXBJbnQsIGN1YmVVVl9taW5NaXBMZXZlbCk7XFxuICBmbG9hdCBmYWNlU2l6ZSA9IGV4cDIobWlwSW50KTtcXG4gIGZsb2F0IHRleGVsU2l6ZSA9IDEuMCAvICgzLjAgKiBjdWJlVVZfbWF4VGlsZVNpemUpO1xcbiAgdmVjMiB1diA9IGdldFVWKGRpcmVjdGlvbiwgZmFjZSkgKiAoZmFjZVNpemUgLSAxLjApO1xcbiAgdmVjMiBmID0gZnJhY3QodXYpO1xcbiAgdXYgKz0gMC41IC0gZjtcXG4gIGlmIChmYWNlID4gMi4wKSB7XFxuICAgIHV2LnkgKz0gZmFjZVNpemU7XFxuICAgIGZhY2UgLT0gMy4wO1xcbiAgfVxcbiAgdXYueCArPSBmYWNlICogZmFjZVNpemU7XFxuICBpZihtaXBJbnQgPCBjdWJlVVZfbWF4TWlwTGV2ZWwpe1xcbiAgICB1di55ICs9IDIuMCAqIGN1YmVVVl9tYXhUaWxlU2l6ZTtcXG4gIH1cXG4gIHV2LnkgKz0gZmlsdGVySW50ICogMi4wICogY3ViZVVWX21pblRpbGVTaXplO1xcbiAgdXYueCArPSAzLjAgKiBtYXgoMC4wLCBjdWJlVVZfbWF4VGlsZVNpemUgLSAyLjAgKiBmYWNlU2l6ZSk7XFxuICB1diAqPSB0ZXhlbFNpemU7XFxuICB2ZWMzIHRsID0gZW52TWFwVGV4ZWxUb0xpbmVhcih0ZXh0dXJlMkQoZW52TWFwLCB1dikpLnJnYjtcXG4gIHV2LnggKz0gdGV4ZWxTaXplO1xcbiAgdmVjMyB0ciA9IGVudk1hcFRleGVsVG9MaW5lYXIodGV4dHVyZTJEKGVudk1hcCwgdXYpKS5yZ2I7XFxuICB1di55ICs9IHRleGVsU2l6ZTtcXG4gIHZlYzMgYnIgPSBlbnZNYXBUZXhlbFRvTGluZWFyKHRleHR1cmUyRChlbnZNYXAsIHV2KSkucmdiO1xcbiAgdXYueCAtPSB0ZXhlbFNpemU7XFxuICB2ZWMzIGJsID0gZW52TWFwVGV4ZWxUb0xpbmVhcih0ZXh0dXJlMkQoZW52TWFwLCB1dikpLnJnYjtcXG4gIHZlYzMgdG0gPSBtaXgodGwsIHRyLCBmLngpO1xcbiAgdmVjMyBibSA9IG1peChibCwgYnIsIGYueCk7XFxuICByZXR1cm4gbWl4KHRtLCBibSwgZi55KTtcXG59XFxuI2RlZmluZSByMCAxLjBcXG4jZGVmaW5lIHYwIDAuMzM5XFxuI2RlZmluZSBtMCAtMi4wXFxuI2RlZmluZSByMSAwLjhcXG4jZGVmaW5lIHYxIDAuMjc2XFxuI2RlZmluZSBtMSAtMS4wXFxuI2RlZmluZSByNCAwLjRcXG4jZGVmaW5lIHY0IDAuMDQ2XFxuI2RlZmluZSBtNCAyLjBcXG4jZGVmaW5lIHI1IDAuMzA1XFxuI2RlZmluZSB2NSAwLjAxNlxcbiNkZWZpbmUgbTUgMy4wXFxuI2RlZmluZSByNiAwLjIxXFxuI2RlZmluZSB2NiAwLjAwMzhcXG4jZGVmaW5lIG02IDQuMFxcbmZsb2F0IHJvdWdobmVzc1RvVmFyaWFuY2UoZmxvYXQgcm91Z2huZXNzKSB7XFxuICBmbG9hdCB2YXJpYW5jZSA9IDAuMDtcXG4gIGlmIChyb3VnaG5lc3MgPj0gcjEpIHtcXG4gICAgdmFyaWFuY2UgPSAocjAgLSByb3VnaG5lc3MpICogKHYxIC0gdjApIC8gKHIwIC0gcjEpICsgdjA7XFxuICB9IGVsc2UgaWYgKHJvdWdobmVzcyA+PSByNCkge1xcbiAgICB2YXJpYW5jZSA9IChyMSAtIHJvdWdobmVzcykgKiAodjQgLSB2MSkgLyAocjEgLSByNCkgKyB2MTtcXG4gIH0gZWxzZSBpZiAocm91Z2huZXNzID49IHI1KSB7XFxuICAgIHZhcmlhbmNlID0gKHI0IC0gcm91Z2huZXNzKSAqICh2NSAtIHY0KSAvIChyNCAtIHI1KSArIHY0O1xcbiAgfSBlbHNlIHtcXG4gICAgZmxvYXQgcm91Z2huZXNzMiA9IHJvdWdobmVzcyAqIHJvdWdobmVzcztcXG4gICAgdmFyaWFuY2UgPSAxLjc5ICogcm91Z2huZXNzMiAqIHJvdWdobmVzczI7XFxuICB9XFxuICByZXR1cm4gdmFyaWFuY2U7XFxufVxcbmZsb2F0IHZhcmlhbmNlVG9Sb3VnaG5lc3MoZmxvYXQgdmFyaWFuY2UpIHtcXG4gIGZsb2F0IHJvdWdobmVzcyA9IDAuMDtcXG4gIGlmICh2YXJpYW5jZSA+PSB2MSkge1xcbiAgICByb3VnaG5lc3MgPSAodjAgLSB2YXJpYW5jZSkgKiAocjEgLSByMCkgLyAodjAgLSB2MSkgKyByMDtcXG4gIH0gZWxzZSBpZiAodmFyaWFuY2UgPj0gdjQpIHtcXG4gICAgcm91Z2huZXNzID0gKHYxIC0gdmFyaWFuY2UpICogKHI0IC0gcjEpIC8gKHYxIC0gdjQpICsgcjE7XFxuICB9IGVsc2UgaWYgKHZhcmlhbmNlID49IHY1KSB7XFxuICAgIHJvdWdobmVzcyA9ICh2NCAtIHZhcmlhbmNlKSAqIChyNSAtIHI0KSAvICh2NCAtIHY1KSArIHI0O1xcbiAgfSBlbHNlIHtcXG4gICAgcm91Z2huZXNzID0gcG93KDAuNTU5ICogdmFyaWFuY2UsIDAuMjUpOyAgfVxcbiAgcmV0dXJuIHJvdWdobmVzcztcXG59XFxuZmxvYXQgcm91Z2huZXNzVG9NaXAoZmxvYXQgcm91Z2huZXNzKSB7XFxuICBmbG9hdCBtaXAgPSAwLjA7XFxuICBpZiAocm91Z2huZXNzID49IHIxKSB7XFxuICAgIG1pcCA9IChyMCAtIHJvdWdobmVzcykgKiAobTEgLSBtMCkgLyAocjAgLSByMSkgKyBtMDtcXG4gIH0gZWxzZSBpZiAocm91Z2huZXNzID49IHI0KSB7XFxuICAgIG1pcCA9IChyMSAtIHJvdWdobmVzcykgKiAobTQgLSBtMSkgLyAocjEgLSByNCkgKyBtMTtcXG4gIH0gZWxzZSBpZiAocm91Z2huZXNzID49IHI1KSB7XFxuICAgIG1pcCA9IChyNCAtIHJvdWdobmVzcykgKiAobTUgLSBtNCkgLyAocjQgLSByNSkgKyBtNDtcXG4gIH0gZWxzZSBpZiAocm91Z2huZXNzID49IHI2KSB7XFxuICAgIG1pcCA9IChyNSAtIHJvdWdobmVzcykgKiAobTYgLSBtNSkgLyAocjUgLSByNikgKyBtNTtcXG4gIH0gZWxzZSB7XFxuICAgIG1pcCA9IC0yLjAgKiBsb2cyKDEuMTYgKiByb3VnaG5lc3MpOyAgfVxcbiAgcmV0dXJuIG1pcDtcXG59XFxudmVjNCB0ZXh0dXJlQ3ViZVVWKHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgc2FtcGxlRGlyLCBmbG9hdCByb3VnaG5lc3MpIHtcXG4gIGZsb2F0IG1pcCA9IGNsYW1wKHJvdWdobmVzc1RvTWlwKHJvdWdobmVzcyksIG0wLCBjdWJlVVZfbWF4TWlwTGV2ZWwpO1xcbiAgZmxvYXQgbWlwRiA9IGZyYWN0KG1pcCk7XFxuICBmbG9hdCBtaXBJbnQgPSBmbG9vcihtaXApO1xcbiAgdmVjMyBjb2xvcjAgPSBiaWxpbmVhckN1YmVVVihlbnZNYXAsIHNhbXBsZURpciwgbWlwSW50KTtcXG4gIGlmIChtaXBGID09IDAuMCkge1xcbiAgICByZXR1cm4gdmVjNChjb2xvcjAsIDEuMCk7XFxuICB9IGVsc2Uge1xcbiAgICB2ZWMzIGNvbG9yMSA9IGJpbGluZWFyQ3ViZVVWKGVudk1hcCwgc2FtcGxlRGlyLCBtaXBJbnQgKyAxLjApO1xcbiAgICByZXR1cm4gdmVjNChtaXgoY29sb3IwLCBjb2xvcjEsIG1pcEYpLCAxLjApO1xcbiAgfVxcbn1cXG4jZW5kaWZcIixkZWZhdWx0bm9ybWFsX3ZlcnRleDpcInZlYzMgdHJhbnNmb3JtZWROb3JtYWwgPSBvYmplY3ROb3JtYWw7XFxuI2lmZGVmIFVTRV9JTlNUQU5DSU5HXFxuXFx0dHJhbnNmb3JtZWROb3JtYWwgPSBtYXQzKCBpbnN0YW5jZU1hdHJpeCApICogdHJhbnNmb3JtZWROb3JtYWw7XFxuI2VuZGlmXFxudHJhbnNmb3JtZWROb3JtYWwgPSBub3JtYWxNYXRyaXggKiB0cmFuc2Zvcm1lZE5vcm1hbDtcXG4jaWZkZWYgRkxJUF9TSURFRFxcblxcdHRyYW5zZm9ybWVkTm9ybWFsID0gLSB0cmFuc2Zvcm1lZE5vcm1hbDtcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX1RBTkdFTlRcXG5cXHR2ZWMzIHRyYW5zZm9ybWVkVGFuZ2VudCA9ICggbW9kZWxWaWV3TWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XFxuXFx0I2lmZGVmIEZMSVBfU0lERURcXG5cXHRcXHR0cmFuc2Zvcm1lZFRhbmdlbnQgPSAtIHRyYW5zZm9ybWVkVGFuZ2VudDtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGRpc3BsYWNlbWVudE1hcDtcXG5cXHR1bmlmb3JtIGZsb2F0IGRpc3BsYWNlbWVudFNjYWxlO1xcblxcdHVuaWZvcm0gZmxvYXQgZGlzcGxhY2VtZW50QmlhcztcXG4jZW5kaWZcIixkaXNwbGFjZW1lbnRtYXBfdmVydGV4OlwiI2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVBcXG5cXHR0cmFuc2Zvcm1lZCArPSBub3JtYWxpemUoIG9iamVjdE5vcm1hbCApICogKCB0ZXh0dXJlMkQoIGRpc3BsYWNlbWVudE1hcCwgdlV2ICkueCAqIGRpc3BsYWNlbWVudFNjYWxlICsgZGlzcGxhY2VtZW50QmlhcyApO1xcbiNlbmRpZlwiLGVtaXNzaXZlbWFwX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxcblxcdHZlYzQgZW1pc3NpdmVDb2xvciA9IHRleHR1cmUyRCggZW1pc3NpdmVNYXAsIHZVdiApO1xcblxcdGVtaXNzaXZlQ29sb3IucmdiID0gZW1pc3NpdmVNYXBUZXhlbFRvTGluZWFyKCBlbWlzc2l2ZUNvbG9yICkucmdiO1xcblxcdHRvdGFsRW1pc3NpdmVSYWRpYW5jZSAqPSBlbWlzc2l2ZUNvbG9yLnJnYjtcXG4jZW5kaWZcIixlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGVtaXNzaXZlTWFwO1xcbiNlbmRpZlwiLGVuY29kaW5nc19mcmFnbWVudDpcImdsX0ZyYWdDb2xvciA9IGxpbmVhclRvT3V0cHV0VGV4ZWwoIGdsX0ZyYWdDb2xvciApO1wiLGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OlwiXFxudmVjNCBMaW5lYXJUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSApIHtcXG5cXHRyZXR1cm4gdmFsdWU7XFxufVxcbnZlYzQgR2FtbWFUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgZ2FtbWFGYWN0b3IgKSB7XFxuXFx0cmV0dXJuIHZlYzQoIHBvdyggdmFsdWUucmdiLCB2ZWMzKCBnYW1tYUZhY3RvciApICksIHZhbHVlLmEgKTtcXG59XFxudmVjNCBMaW5lYXJUb0dhbW1hKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBnYW1tYUZhY3RvciApIHtcXG5cXHRyZXR1cm4gdmVjNCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIDEuMCAvIGdhbW1hRmFjdG9yICkgKSwgdmFsdWUuYSApO1xcbn1cXG52ZWM0IHNSR0JUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSApIHtcXG5cXHRyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCB2YWx1ZS5yZ2IgKiAwLjA3NzM5OTM4MDgsIHZlYzMoIGxlc3NUaGFuRXF1YWwoIHZhbHVlLnJnYiwgdmVjMyggMC4wNDA0NSApICkgKSApLCB2YWx1ZS5hICk7XFxufVxcbnZlYzQgTGluZWFyVG9zUkdCKCBpbiB2ZWM0IHZhbHVlICkge1xcblxcdHJldHVybiB2ZWM0KCBtaXgoIHBvdyggdmFsdWUucmdiLCB2ZWMzKCAwLjQxNjY2ICkgKSAqIDEuMDU1IC0gdmVjMyggMC4wNTUgKSwgdmFsdWUucmdiICogMTIuOTIsIHZlYzMoIGxlc3NUaGFuRXF1YWwoIHZhbHVlLnJnYiwgdmVjMyggMC4wMDMxMzA4ICkgKSApICksIHZhbHVlLmEgKTtcXG59XFxudmVjNCBSR0JFVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XFxuXFx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqIGV4cDIoIHZhbHVlLmEgKiAyNTUuMCAtIDEyOC4wICksIDEuMCApO1xcbn1cXG52ZWM0IExpbmVhclRvUkdCRSggaW4gdmVjNCB2YWx1ZSApIHtcXG5cXHRmbG9hdCBtYXhDb21wb25lbnQgPSBtYXgoIG1heCggdmFsdWUuciwgdmFsdWUuZyApLCB2YWx1ZS5iICk7XFxuXFx0ZmxvYXQgZkV4cCA9IGNsYW1wKCBjZWlsKCBsb2cyKCBtYXhDb21wb25lbnQgKSApLCAtMTI4LjAsIDEyNy4wICk7XFxuXFx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAvIGV4cDIoIGZFeHAgKSwgKCBmRXhwICsgMTI4LjAgKSAvIDI1NS4wICk7XFxufVxcbnZlYzQgUkdCTVRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcXG5cXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiICogdmFsdWUuYSAqIG1heFJhbmdlLCAxLjAgKTtcXG59XFxudmVjNCBMaW5lYXJUb1JHQk0oIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IG1heFJhbmdlICkge1xcblxcdGZsb2F0IG1heFJHQiA9IG1heCggdmFsdWUuciwgbWF4KCB2YWx1ZS5nLCB2YWx1ZS5iICkgKTtcXG5cXHRmbG9hdCBNID0gY2xhbXAoIG1heFJHQiAvIG1heFJhbmdlLCAwLjAsIDEuMCApO1xcblxcdE0gPSBjZWlsKCBNICogMjU1LjAgKSAvIDI1NS4wO1xcblxcdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgLyAoIE0gKiBtYXhSYW5nZSApLCBNICk7XFxufVxcbnZlYzQgUkdCRFRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcXG5cXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiICogKCAoIG1heFJhbmdlIC8gMjU1LjAgKSAvIHZhbHVlLmEgKSwgMS4wICk7XFxufVxcbnZlYzQgTGluZWFyVG9SR0JEKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcXG5cXHRmbG9hdCBtYXhSR0IgPSBtYXgoIHZhbHVlLnIsIG1heCggdmFsdWUuZywgdmFsdWUuYiApICk7XFxuXFx0ZmxvYXQgRCA9IG1heCggbWF4UmFuZ2UgLyBtYXhSR0IsIDEuMCApO1xcblxcdEQgPSBtaW4oIGZsb29yKCBEICkgLyAyNTUuMCwgMS4wICk7XFxuXFx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqICggRCAqICggMjU1LjAgLyBtYXhSYW5nZSApICksIEQgKTtcXG59XFxuY29uc3QgbWF0MyBjTG9nTHV2TSA9IG1hdDMoIDAuMjIwOSwgMC4zMzkwLCAwLjQxODQsIDAuMTEzOCwgMC42NzgwLCAwLjczMTksIDAuMDEwMiwgMC4xMTMwLCAwLjI5NjkgKTtcXG52ZWM0IExpbmVhclRvTG9nTHV2KCBpbiB2ZWM0IHZhbHVlICkgIHtcXG5cXHR2ZWMzIFhwX1lfWFlacCA9IGNMb2dMdXZNICogdmFsdWUucmdiO1xcblxcdFhwX1lfWFlacCA9IG1heCggWHBfWV9YWVpwLCB2ZWMzKCAxZS02LCAxZS02LCAxZS02ICkgKTtcXG5cXHR2ZWM0IHZSZXN1bHQ7XFxuXFx0dlJlc3VsdC54eSA9IFhwX1lfWFlacC54eSAvIFhwX1lfWFlacC56O1xcblxcdGZsb2F0IExlID0gMi4wICogbG9nMihYcF9ZX1hZWnAueSkgKyAxMjcuMDtcXG5cXHR2UmVzdWx0LncgPSBmcmFjdCggTGUgKTtcXG5cXHR2UmVzdWx0LnogPSAoIExlIC0gKCBmbG9vciggdlJlc3VsdC53ICogMjU1LjAgKSApIC8gMjU1LjAgKSAvIDI1NS4wO1xcblxcdHJldHVybiB2UmVzdWx0O1xcbn1cXG5jb25zdCBtYXQzIGNMb2dMdXZJbnZlcnNlTSA9IG1hdDMoIDYuMDAxNCwgLTIuNzAwOCwgLTEuNzk5NiwgLTEuMzMyMCwgMy4xMDI5LCAtNS43NzIxLCAwLjMwMDgsIC0xLjA4ODIsIDUuNjI2OCApO1xcbnZlYzQgTG9nTHV2VG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XFxuXFx0ZmxvYXQgTGUgPSB2YWx1ZS56ICogMjU1LjAgKyB2YWx1ZS53O1xcblxcdHZlYzMgWHBfWV9YWVpwO1xcblxcdFhwX1lfWFlacC55ID0gZXhwMiggKCBMZSAtIDEyNy4wICkgLyAyLjAgKTtcXG5cXHRYcF9ZX1hZWnAueiA9IFhwX1lfWFlacC55IC8gdmFsdWUueTtcXG5cXHRYcF9ZX1hZWnAueCA9IHZhbHVlLnggKiBYcF9ZX1hZWnAuejtcXG5cXHR2ZWMzIHZSR0IgPSBjTG9nTHV2SW52ZXJzZU0gKiBYcF9ZX1hZWnAucmdiO1xcblxcdHJldHVybiB2ZWM0KCBtYXgoIHZSR0IsIDAuMCApLCAxLjAgKTtcXG59XCIsZW52bWFwX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9FTlZNQVBcXG5cXHQjaWZkZWYgRU5WX1dPUkxEUE9TXFxuXFx0XFx0dmVjMyBjYW1lcmFUb0ZyYWc7XFxuXFx0XFx0XFxuXFx0XFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHtcXG5cXHRcXHRcXHRjYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZlYzMoIC0gdmlld01hdHJpeFsgMCBdWyAyIF0sIC0gdmlld01hdHJpeFsgMSBdWyAyIF0sIC0gdmlld01hdHJpeFsgMiBdWyAyIF0gKSApO1xcblxcdFxcdH0gIGVsc2Uge1xcblxcdFxcdFxcdGNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApO1xcblxcdFxcdH1cXG5cXHRcXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7XFxuXFx0XFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cXG5cXHRcXHRcXHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZsZWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsICk7XFxuXFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZyYWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHQjZWxzZVxcblxcdFxcdHZlYzMgcmVmbGVjdFZlYyA9IHZSZWZsZWN0O1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFXFxuXFx0XFx0dmVjNCBlbnZDb2xvciA9IHRleHR1cmVDdWJlKCBlbnZNYXAsIHZlYzMoIGZsaXBFbnZNYXAgKiByZWZsZWN0VmVjLngsIHJlZmxlY3RWZWMueXogKSApO1xcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHZlYzMoIGZsaXBFbnZNYXAgKiByZWZsZWN0VmVjLngsIHJlZmxlY3RWZWMueXogKSwgMC4wICk7XFxuXFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfRVFVSVJFQyApXFxuXFx0XFx0dmVjMiBzYW1wbGVVVjtcXG5cXHRcXHRyZWZsZWN0VmVjID0gbm9ybWFsaXplKCByZWZsZWN0VmVjICk7XFxuXFx0XFx0c2FtcGxlVVYueSA9IGFzaW4oIGNsYW1wKCByZWZsZWN0VmVjLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcXG5cXHRcXHRzYW1wbGVVVi54ID0gYXRhbiggcmVmbGVjdFZlYy56LCByZWZsZWN0VmVjLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1xcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlMkQoIGVudk1hcCwgc2FtcGxlVVYgKTtcXG5cXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9TUEhFUkUgKVxcblxcdFxcdHJlZmxlY3RWZWMgPSBub3JtYWxpemUoIHJlZmxlY3RWZWMgKTtcXG5cXHRcXHR2ZWMzIHJlZmxlY3RWaWV3ID0gbm9ybWFsaXplKCAoIHZpZXdNYXRyaXggKiB2ZWM0KCByZWZsZWN0VmVjLCAwLjAgKSApLnh5eiArIHZlYzMoIDAuMCwgMC4wLCAxLjAgKSApO1xcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlMkQoIGVudk1hcCwgcmVmbGVjdFZpZXcueHkgKiAwLjUgKyAwLjUgKTtcXG5cXHQjZWxzZVxcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB2ZWM0KCAwLjAgKTtcXG5cXHQjZW5kaWZcXG5cXHQjaWZuZGVmIEVOVk1BUF9UWVBFX0NVQkVfVVZcXG5cXHRcXHRlbnZDb2xvciA9IGVudk1hcFRleGVsVG9MaW5lYXIoIGVudkNvbG9yICk7XFxuXFx0I2VuZGlmXFxuXFx0I2lmZGVmIEVOVk1BUF9CTEVORElOR19NVUxUSVBMWVxcblxcdFxcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIG91dGdvaW5nTGlnaHQgKiBlbnZDb2xvci54eXosIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHkgKTtcXG5cXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfTUlYIClcXG5cXHRcXHRvdXRnb2luZ0xpZ2h0ID0gbWl4KCBvdXRnb2luZ0xpZ2h0LCBlbnZDb2xvci54eXosIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHkgKTtcXG5cXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREIClcXG5cXHRcXHRvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9FTlZNQVBcXG5cXHR1bmlmb3JtIGZsb2F0IGVudk1hcEludGVuc2l0eTtcXG5cXHR1bmlmb3JtIGZsb2F0IGZsaXBFbnZNYXA7XFxuXFx0dW5pZm9ybSBpbnQgbWF4TWlwTGV2ZWw7XFxuXFx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcXG5cXHRcXHR1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDtcXG5cXHQjZWxzZVxcblxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcXG5cXHQjZW5kaWZcXG5cXHRcXG4jZW5kaWZcIixlbnZtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfRU5WTUFQXFxuXFx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XFxuXFx0I2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFBIT05HIClcXG5cXHRcXHQjZGVmaW5lIEVOVl9XT1JMRFBPU1xcblxcdCNlbmRpZlxcblxcdCNpZmRlZiBFTlZfV09STERQT1NcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuXFx0XFx0dW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87XFxuXFx0I2Vsc2VcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdlJlZmxlY3Q7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsZW52bWFwX3BhcnNfdmVydGV4OlwiI2lmZGVmIFVTRV9FTlZNQVBcXG5cXHQjaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfTk9STUFMTUFQICkgfHxkZWZpbmVkKCBQSE9ORyApXFxuXFx0XFx0I2RlZmluZSBFTlZfV09STERQT1NcXG5cXHQjZW5kaWZcXG5cXHQjaWZkZWYgRU5WX1dPUkxEUE9TXFxuXFx0XFx0XFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xcblxcdCNlbHNlXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xcblxcdFxcdHVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLGVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50OlwiI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKVxcblxcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZSQUNUSU9OXFxuXFx0XFx0dW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87XFxuXFx0I2VuZGlmXFxuXFx0dmVjMyBnZXRMaWdodFByb2JlSW5kaXJlY3RJcnJhZGlhbmNlKCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBpbnQgbWF4TUlQTGV2ZWwgKSB7XFxuXFx0XFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGdlb21ldHJ5Lm5vcm1hbCwgdmlld01hdHJpeCApO1xcblxcdFxcdCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFXFxuXFx0XFx0XFx0dmVjMyBxdWVyeVZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiB3b3JsZE5vcm1hbC54LCB3b3JsZE5vcm1hbC55eiApO1xcblxcdFxcdFxcdCNpZmRlZiBURVhUVVJFX0xPRF9FWFRcXG5cXHRcXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVMb2RFWFQoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XFxuXFx0XFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XFxuXFx0XFx0XFx0I2VuZGlmXFxuXFx0XFx0XFx0ZW52TWFwQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52TWFwQ29sb3IgKS5yZ2I7XFxuXFx0XFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXFxuXFx0XFx0XFx0dmVjMyBxdWVyeVZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiB3b3JsZE5vcm1hbC54LCB3b3JsZE5vcm1hbC55eiApO1xcblxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHF1ZXJ5VmVjLCAxLjAgKTtcXG5cXHRcXHQjZWxzZVxcblxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB2ZWM0KCAwLjAgKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRyZXR1cm4gUEkgKiBlbnZNYXBDb2xvci5yZ2IgKiBlbnZNYXBJbnRlbnNpdHk7XFxuXFx0fVxcblxcdGZsb2F0IGdldFNwZWN1bGFyTUlQTGV2ZWwoIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xcblxcdFxcdGZsb2F0IG1heE1JUExldmVsU2NhbGFyID0gZmxvYXQoIG1heE1JUExldmVsICk7XFxuXFx0XFx0ZmxvYXQgc2lnbWEgPSBQSSAqIHJvdWdobmVzcyAqIHJvdWdobmVzcyAvICggMS4wICsgcm91Z2huZXNzICk7XFxuXFx0XFx0ZmxvYXQgZGVzaXJlZE1JUExldmVsID0gbWF4TUlQTGV2ZWxTY2FsYXIgKyBsb2cyKCBzaWdtYSApO1xcblxcdFxcdHJldHVybiBjbGFtcCggZGVzaXJlZE1JUExldmVsLCAwLjAsIG1heE1JUExldmVsU2NhbGFyICk7XFxuXFx0fVxcblxcdHZlYzMgZ2V0TGlnaHRQcm9iZUluZGlyZWN0UmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xcblxcdFxcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXFxuXFx0XFx0ICB2ZWMzIHJlZmxlY3RWZWMgPSByZWZsZWN0KCAtdmlld0Rpciwgbm9ybWFsICk7XFxuXFx0XFx0ICByZWZsZWN0VmVjID0gbm9ybWFsaXplKCBtaXgoIHJlZmxlY3RWZWMsIG5vcm1hbCwgcm91Z2huZXNzICogcm91Z2huZXNzKSApO1xcblxcdFxcdCNlbHNlXFxuXFx0XFx0ICB2ZWMzIHJlZmxlY3RWZWMgPSByZWZyYWN0KCAtdmlld0Rpciwgbm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRyZWZsZWN0VmVjID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggcmVmbGVjdFZlYywgdmlld01hdHJpeCApO1xcblxcdFxcdGZsb2F0IHNwZWN1bGFyTUlQTGV2ZWwgPSBnZXRTcGVjdWxhck1JUExldmVsKCByb3VnaG5lc3MsIG1heE1JUExldmVsICk7XFxuXFx0XFx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcXG5cXHRcXHRcXHR2ZWMzIHF1ZXJ5UmVmbGVjdFZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiByZWZsZWN0VmVjLngsIHJlZmxlY3RWZWMueXogKTtcXG5cXHRcXHRcXHQjaWZkZWYgVEVYVFVSRV9MT0RfRVhUXFxuXFx0XFx0XFx0XFx0dmVjNCBlbnZNYXBDb2xvciA9IHRleHR1cmVDdWJlTG9kRVhUKCBlbnZNYXAsIHF1ZXJ5UmVmbGVjdFZlYywgc3BlY3VsYXJNSVBMZXZlbCApO1xcblxcdFxcdFxcdCNlbHNlXFxuXFx0XFx0XFx0XFx0dmVjNCBlbnZNYXBDb2xvciA9IHRleHR1cmVDdWJlKCBlbnZNYXAsIHF1ZXJ5UmVmbGVjdFZlYywgc3BlY3VsYXJNSVBMZXZlbCApO1xcblxcdFxcdFxcdCNlbmRpZlxcblxcdFxcdFxcdGVudk1hcENvbG9yLnJnYiA9IGVudk1hcFRleGVsVG9MaW5lYXIoIGVudk1hcENvbG9yICkucmdiO1xcblxcdFxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxcblxcdFxcdFxcdHZlYzMgcXVlcnlSZWZsZWN0VmVjID0gdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApO1xcblxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHF1ZXJ5UmVmbGVjdFZlYywgcm91Z2huZXNzICk7XFxuXFx0XFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfRVFVSVJFQyApXFxuXFx0XFx0XFx0dmVjMiBzYW1wbGVVVjtcXG5cXHRcXHRcXHRzYW1wbGVVVi55ID0gYXNpbiggY2xhbXAoIHJlZmxlY3RWZWMueSwgLSAxLjAsIDEuMCApICkgKiBSRUNJUFJPQ0FMX1BJICsgMC41O1xcblxcdFxcdFxcdHNhbXBsZVVWLnggPSBhdGFuKCByZWZsZWN0VmVjLnosIHJlZmxlY3RWZWMueCApICogUkVDSVBST0NBTF9QSTIgKyAwLjU7XFxuXFx0XFx0XFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxcblxcdFxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlMkRMb2RFWFQoIGVudk1hcCwgc2FtcGxlVVYsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcXG5cXHRcXHRcXHQjZWxzZVxcblxcdFxcdFxcdFxcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlMkQoIGVudk1hcCwgc2FtcGxlVVYsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcXG5cXHRcXHRcXHQjZW5kaWZcXG5cXHRcXHRcXHRlbnZNYXBDb2xvci5yZ2IgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCBlbnZNYXBDb2xvciApLnJnYjtcXG5cXHRcXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9TUEhFUkUgKVxcblxcdFxcdFxcdHZlYzMgcmVmbGVjdFZpZXcgPSBub3JtYWxpemUoICggdmlld01hdHJpeCAqIHZlYzQoIHJlZmxlY3RWZWMsIDAuMCApICkueHl6ICsgdmVjMyggMC4wLDAuMCwxLjAgKSApO1xcblxcdFxcdFxcdCNpZmRlZiBURVhUVVJFX0xPRF9FWFRcXG5cXHRcXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZTJETG9kRVhUKCBlbnZNYXAsIHJlZmxlY3RWaWV3Lnh5ICogMC41ICsgMC41LCBzcGVjdWxhck1JUExldmVsICk7XFxuXFx0XFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHRcXHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZTJEKCBlbnZNYXAsIHJlZmxlY3RWaWV3Lnh5ICogMC41ICsgMC41LCBzcGVjdWxhck1JUExldmVsICk7XFxuXFx0XFx0XFx0I2VuZGlmXFxuXFx0XFx0XFx0ZW52TWFwQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52TWFwQ29sb3IgKS5yZ2I7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0cmV0dXJuIGVudk1hcENvbG9yLnJnYiAqIGVudk1hcEludGVuc2l0eTtcXG5cXHR9XFxuI2VuZGlmXCIsZW52bWFwX3ZlcnRleDpcIiNpZmRlZiBVU0VfRU5WTUFQXFxuXFx0I2lmZGVmIEVOVl9XT1JMRFBPU1xcblxcdFxcdHZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7XFxuXFx0I2Vsc2VcXG5cXHRcXHR2ZWMzIGNhbWVyYVRvVmVydGV4O1xcblxcdFxcdGlmICggaXNPcnRob2dyYXBoaWMgKSB7IFxcblxcdFxcdFxcdGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB2ZWMzKCAtIHZpZXdNYXRyaXhbIDAgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDEgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDIgXVsgMiBdICkgKTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB3b3JsZFBvc2l0aW9uLnh5eiAtIGNhbWVyYVBvc2l0aW9uICk7XFxuXFx0XFx0fVxcblxcdFxcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApO1xcblxcdFxcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXFxuXFx0XFx0XFx0dlJlZmxlY3QgPSByZWZsZWN0KCBjYW1lcmFUb1ZlcnRleCwgd29ybGROb3JtYWwgKTtcXG5cXHRcXHQjZWxzZVxcblxcdFxcdFxcdHZSZWZsZWN0ID0gcmVmcmFjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixmb2dfdmVydGV4OlwiI2lmZGVmIFVTRV9GT0dcXG5cXHRmb2dEZXB0aCA9IC1tdlBvc2l0aW9uLno7XFxuI2VuZGlmXCIsZm9nX3BhcnNfdmVydGV4OlwiI2lmZGVmIFVTRV9GT0dcXG5cXHR2YXJ5aW5nIGZsb2F0IGZvZ0RlcHRoO1xcbiNlbmRpZlwiLGZvZ19mcmFnbWVudDpcIiNpZmRlZiBVU0VfRk9HXFxuXFx0I2lmZGVmIEZPR19FWFAyXFxuXFx0XFx0ZmxvYXQgZm9nRmFjdG9yID0gMS4wIC0gZXhwKCAtIGZvZ0RlbnNpdHkgKiBmb2dEZW5zaXR5ICogZm9nRGVwdGggKiBmb2dEZXB0aCApO1xcblxcdCNlbHNlXFxuXFx0XFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggZm9nTmVhciwgZm9nRmFyLCBmb2dEZXB0aCApO1xcblxcdCNlbmRpZlxcblxcdGdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgoIGdsX0ZyYWdDb2xvci5yZ2IsIGZvZ0NvbG9yLCBmb2dGYWN0b3IgKTtcXG4jZW5kaWZcIixmb2dfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfRk9HXFxuXFx0dW5pZm9ybSB2ZWMzIGZvZ0NvbG9yO1xcblxcdHZhcnlpbmcgZmxvYXQgZm9nRGVwdGg7XFxuXFx0I2lmZGVmIEZPR19FWFAyXFxuXFx0XFx0dW5pZm9ybSBmbG9hdCBmb2dEZW5zaXR5O1xcblxcdCNlbHNlXFxuXFx0XFx0dW5pZm9ybSBmbG9hdCBmb2dOZWFyO1xcblxcdFxcdHVuaWZvcm0gZmxvYXQgZm9nRmFyO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLGdyYWRpZW50bWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0dSQURJRU5UTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgZ3JhZGllbnRNYXA7XFxuI2VuZGlmXFxudmVjMyBnZXRHcmFkaWVudElycmFkaWFuY2UoIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyZWN0aW9uICkge1xcblxcdGZsb2F0IGRvdE5MID0gZG90KCBub3JtYWwsIGxpZ2h0RGlyZWN0aW9uICk7XFxuXFx0dmVjMiBjb29yZCA9IHZlYzIoIGRvdE5MICogMC41ICsgMC41LCAwLjAgKTtcXG5cXHQjaWZkZWYgVVNFX0dSQURJRU5UTUFQXFxuXFx0XFx0cmV0dXJuIHRleHR1cmUyRCggZ3JhZGllbnRNYXAsIGNvb3JkICkucmdiO1xcblxcdCNlbHNlXFxuXFx0XFx0cmV0dXJuICggY29vcmQueCA8IDAuNyApID8gdmVjMyggMC43ICkgOiB2ZWMzKCAxLjAgKTtcXG5cXHQjZW5kaWZcXG59XCIsbGlnaHRtYXBfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0xJR0hUTUFQXFxuXFx0dmVjNCBsaWdodE1hcFRleGVsPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7XFxuXFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IFBJICogbGlnaHRNYXBUZXhlbFRvTGluZWFyKCBsaWdodE1hcFRleGVsICkucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7XFxuI2VuZGlmXCIsbGlnaHRtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfTElHSFRNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBsaWdodE1hcDtcXG5cXHR1bmlmb3JtIGZsb2F0IGxpZ2h0TWFwSW50ZW5zaXR5O1xcbiNlbmRpZlwiLFxubGlnaHRzX2xhbWJlcnRfdmVydGV4OlwidmVjMyBkaWZmdXNlID0gdmVjMyggMS4wICk7XFxuR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeTtcXG5nZW9tZXRyeS5wb3NpdGlvbiA9IG12UG9zaXRpb24ueHl6O1xcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcXG5nZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCAtbXZQb3NpdGlvbi54eXogKTtcXG5HZW9tZXRyaWNDb250ZXh0IGJhY2tHZW9tZXRyeTtcXG5iYWNrR2VvbWV0cnkucG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcXG5iYWNrR2VvbWV0cnkubm9ybWFsID0gLWdlb21ldHJ5Lm5vcm1hbDtcXG5iYWNrR2VvbWV0cnkudmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7XFxudkxpZ2h0RnJvbnQgPSB2ZWMzKCAwLjAgKTtcXG52SW5kaXJlY3RGcm9udCA9IHZlYzMoIDAuMCApO1xcbiNpZmRlZiBET1VCTEVfU0lERURcXG5cXHR2TGlnaHRCYWNrID0gdmVjMyggMC4wICk7XFxuXFx0dkluZGlyZWN0QmFjayA9IHZlYzMoIDAuMCApO1xcbiNlbmRpZlxcbkluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7XFxuZmxvYXQgZG90Tkw7XFxudmVjMyBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XFxuI2lmIE5VTV9QT0lOVF9MSUdIVFMgPiAwXFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0Z2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xcblxcdFxcdGRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApO1xcblxcdFxcdGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IFBJICogZGlyZWN0TGlnaHQuY29sb3I7XFxuXFx0XFx0dkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XFxuXFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdFxcdHZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC1kb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xcblxcdFxcdCNlbmRpZlxcblxcdH1cXG4jZW5kaWZcXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcXG5cXHRcXHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcXG5cXHRcXHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdFxcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xcblxcdFxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRcXHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcXG5cXHRcXHQjZW5kaWZcXG5cXHR9XFxuI2VuZGlmXFxuI2lmIE5VTV9ESVJfTElHSFRTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcXG5cXHRcXHRnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XFxuXFx0XFx0ZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7XFxuXFx0XFx0ZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gUEkgKiBkaXJlY3RMaWdodC5jb2xvcjtcXG5cXHRcXHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcXG5cXHRcXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0XFx0XFx0dkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLWRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XFxuXFx0XFx0I2VuZGlmXFxuXFx0fVxcbiNlbmRpZlxcbiNpZiBOVU1fSEVNSV9MSUdIVFMgPiAwXFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHtcXG5cXHRcXHR2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5ICk7XFxuXFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdFxcdHZJbmRpcmVjdEJhY2sgKz0gZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggaGVtaXNwaGVyZUxpZ2h0c1sgaSBdLCBiYWNrR2VvbWV0cnkgKTtcXG5cXHRcXHQjZW5kaWZcXG5cXHR9XFxuI2VuZGlmXCIsbGlnaHRzX3BhcnNfYmVnaW46XCJ1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdztcXG51bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7XFxudW5pZm9ybSB2ZWMzIGxpZ2h0UHJvYmVbIDkgXTtcXG52ZWMzIHNoR2V0SXJyYWRpYW5jZUF0KCBpbiB2ZWMzIG5vcm1hbCwgaW4gdmVjMyBzaENvZWZmaWNpZW50c1sgOSBdICkge1xcblxcdGZsb2F0IHggPSBub3JtYWwueCwgeSA9IG5vcm1hbC55LCB6ID0gbm9ybWFsLno7XFxuXFx0dmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAxIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHk7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAyIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHo7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA0IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB5O1xcblxcdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNSBdICogMi4wICogMC40MjkwNDMgKiB5ICogejtcXG5cXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7XFxuXFx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA3IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB6O1xcblxcdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgOCBdICogMC40MjkwNDMgKiAoIHggKiB4IC0geSAqIHkgKTtcXG5cXHRyZXR1cm4gcmVzdWx0O1xcbn1cXG52ZWMzIGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGxpZ2h0UHJvYmVbIDkgXSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSApIHtcXG5cXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggZ2VvbWV0cnkubm9ybWFsLCB2aWV3TWF0cml4ICk7XFxuXFx0dmVjMyBpcnJhZGlhbmNlID0gc2hHZXRJcnJhZGlhbmNlQXQoIHdvcmxkTm9ybWFsLCBsaWdodFByb2JlICk7XFxuXFx0cmV0dXJuIGlycmFkaWFuY2U7XFxufVxcbnZlYzMgZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBhbWJpZW50TGlnaHRDb2xvciApIHtcXG5cXHR2ZWMzIGlycmFkaWFuY2UgPSBhbWJpZW50TGlnaHRDb2xvcjtcXG5cXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcXG5cXHRcXHRpcnJhZGlhbmNlICo9IFBJO1xcblxcdCNlbmRpZlxcblxcdHJldHVybiBpcnJhZGlhbmNlO1xcbn1cXG4jaWYgTlVNX0RJUl9MSUdIVFMgPiAwXFxuXFx0c3RydWN0IERpcmVjdGlvbmFsTGlnaHQge1xcblxcdFxcdHZlYzMgZGlyZWN0aW9uO1xcblxcdFxcdHZlYzMgY29sb3I7XFxuXFx0XFx0aW50IHNoYWRvdztcXG5cXHRcXHRmbG9hdCBzaGFkb3dCaWFzO1xcblxcdFxcdGZsb2F0IHNoYWRvd1JhZGl1cztcXG5cXHRcXHR2ZWMyIHNoYWRvd01hcFNpemU7XFxuXFx0fTtcXG5cXHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07XFxuXFx0dm9pZCBnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gRGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCApIHtcXG5cXHRcXHRkaXJlY3RMaWdodC5jb2xvciA9IGRpcmVjdGlvbmFsTGlnaHQuY29sb3I7XFxuXFx0XFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gZGlyZWN0aW9uYWxMaWdodC5kaXJlY3Rpb247XFxuXFx0XFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9IHRydWU7XFxuXFx0fVxcbiNlbmRpZlxcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxcblxcdHN0cnVjdCBQb2ludExpZ2h0IHtcXG5cXHRcXHR2ZWMzIHBvc2l0aW9uO1xcblxcdFxcdHZlYzMgY29sb3I7XFxuXFx0XFx0ZmxvYXQgZGlzdGFuY2U7XFxuXFx0XFx0ZmxvYXQgZGVjYXk7XFxuXFx0XFx0aW50IHNoYWRvdztcXG5cXHRcXHRmbG9hdCBzaGFkb3dCaWFzO1xcblxcdFxcdGZsb2F0IHNoYWRvd1JhZGl1cztcXG5cXHRcXHR2ZWMyIHNoYWRvd01hcFNpemU7XFxuXFx0XFx0ZmxvYXQgc2hhZG93Q2FtZXJhTmVhcjtcXG5cXHRcXHRmbG9hdCBzaGFkb3dDYW1lcmFGYXI7XFxuXFx0fTtcXG5cXHR1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTtcXG5cXHR2b2lkIGdldFBvaW50RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBQb2ludExpZ2h0IHBvaW50TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIG91dCBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0ICkge1xcblxcdFxcdHZlYzMgbFZlY3RvciA9IHBvaW50TGlnaHQucG9zaXRpb24gLSBnZW9tZXRyeS5wb3NpdGlvbjtcXG5cXHRcXHRkaXJlY3RMaWdodC5kaXJlY3Rpb24gPSBub3JtYWxpemUoIGxWZWN0b3IgKTtcXG5cXHRcXHRmbG9hdCBsaWdodERpc3RhbmNlID0gbGVuZ3RoKCBsVmVjdG9yICk7XFxuXFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgPSBwb2ludExpZ2h0LmNvbG9yO1xcblxcdFxcdGRpcmVjdExpZ2h0LmNvbG9yICo9IHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGxpZ2h0RGlzdGFuY2UsIHBvaW50TGlnaHQuZGlzdGFuY2UsIHBvaW50TGlnaHQuZGVjYXkgKTtcXG5cXHRcXHRkaXJlY3RMaWdodC52aXNpYmxlID0gKCBkaXJlY3RMaWdodC5jb2xvciAhPSB2ZWMzKCAwLjAgKSApO1xcblxcdH1cXG4jZW5kaWZcXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxcblxcdHN0cnVjdCBTcG90TGlnaHQge1xcblxcdFxcdHZlYzMgcG9zaXRpb247XFxuXFx0XFx0dmVjMyBkaXJlY3Rpb247XFxuXFx0XFx0dmVjMyBjb2xvcjtcXG5cXHRcXHRmbG9hdCBkaXN0YW5jZTtcXG5cXHRcXHRmbG9hdCBkZWNheTtcXG5cXHRcXHRmbG9hdCBjb25lQ29zO1xcblxcdFxcdGZsb2F0IHBlbnVtYnJhQ29zO1xcblxcdFxcdGludCBzaGFkb3c7XFxuXFx0XFx0ZmxvYXQgc2hhZG93QmlhcztcXG5cXHRcXHRmbG9hdCBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0dmVjMiBzaGFkb3dNYXBTaXplO1xcblxcdH07XFxuXFx0dW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07XFxuXFx0dm9pZCBnZXRTcG90RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBTcG90TGlnaHQgc3BvdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCAgKSB7XFxuXFx0XFx0dmVjMyBsVmVjdG9yID0gc3BvdExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XFxuXFx0XFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XFxuXFx0XFx0ZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCggbFZlY3RvciApO1xcblxcdFxcdGZsb2F0IGFuZ2xlQ29zID0gZG90KCBkaXJlY3RMaWdodC5kaXJlY3Rpb24sIHNwb3RMaWdodC5kaXJlY3Rpb24gKTtcXG5cXHRcXHRpZiAoIGFuZ2xlQ29zID4gc3BvdExpZ2h0LmNvbmVDb3MgKSB7XFxuXFx0XFx0XFx0ZmxvYXQgc3BvdEVmZmVjdCA9IHNtb290aHN0ZXAoIHNwb3RMaWdodC5jb25lQ29zLCBzcG90TGlnaHQucGVudW1icmFDb3MsIGFuZ2xlQ29zICk7XFxuXFx0XFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgPSBzcG90TGlnaHQuY29sb3I7XFxuXFx0XFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gc3BvdEVmZmVjdCAqIHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGxpZ2h0RGlzdGFuY2UsIHNwb3RMaWdodC5kaXN0YW5jZSwgc3BvdExpZ2h0LmRlY2F5ICk7XFxuXFx0XFx0XFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9IHRydWU7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRkaXJlY3RMaWdodC5jb2xvciA9IHZlYzMoIDAuMCApO1xcblxcdFxcdFxcdGRpcmVjdExpZ2h0LnZpc2libGUgPSBmYWxzZTtcXG5cXHRcXHR9XFxuXFx0fVxcbiNlbmRpZlxcbiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDBcXG5cXHRzdHJ1Y3QgUmVjdEFyZWFMaWdodCB7XFxuXFx0XFx0dmVjMyBjb2xvcjtcXG5cXHRcXHR2ZWMzIHBvc2l0aW9uO1xcblxcdFxcdHZlYzMgaGFsZldpZHRoO1xcblxcdFxcdHZlYzMgaGFsZkhlaWdodDtcXG5cXHR9O1xcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGx0Y18xO1xcdHVuaWZvcm0gc2FtcGxlcjJEIGx0Y18yO1xcblxcdHVuaWZvcm0gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0c1sgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgXTtcXG4jZW5kaWZcXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxcblxcdHN0cnVjdCBIZW1pc3BoZXJlTGlnaHQge1xcblxcdFxcdHZlYzMgZGlyZWN0aW9uO1xcblxcdFxcdHZlYzMgc2t5Q29sb3I7XFxuXFx0XFx0dmVjMyBncm91bmRDb2xvcjtcXG5cXHR9O1xcblxcdHVuaWZvcm0gSGVtaXNwaGVyZUxpZ2h0IGhlbWlzcGhlcmVMaWdodHNbIE5VTV9IRU1JX0xJR0hUUyBdO1xcblxcdHZlYzMgZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gSGVtaXNwaGVyZUxpZ2h0IGhlbWlMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSApIHtcXG5cXHRcXHRmbG9hdCBkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBoZW1pTGlnaHQuZGlyZWN0aW9uICk7XFxuXFx0XFx0ZmxvYXQgaGVtaURpZmZ1c2VXZWlnaHQgPSAwLjUgKiBkb3ROTCArIDAuNTtcXG5cXHRcXHR2ZWMzIGlycmFkaWFuY2UgPSBtaXgoIGhlbWlMaWdodC5ncm91bmRDb2xvciwgaGVtaUxpZ2h0LnNreUNvbG9yLCBoZW1pRGlmZnVzZVdlaWdodCApO1xcblxcdFxcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xcblxcdFxcdFxcdGlycmFkaWFuY2UgKj0gUEk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0cmV0dXJuIGlycmFkaWFuY2U7XFxuXFx0fVxcbiNlbmRpZlwiLGxpZ2h0c190b29uX2ZyYWdtZW50OlwiVG9vbk1hdGVyaWFsIG1hdGVyaWFsO1xcbm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7XFxubWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyO1xcbm1hdGVyaWFsLnNwZWN1bGFyU2hpbmluZXNzID0gc2hpbmluZXNzO1xcbm1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGggPSBzcGVjdWxhclN0cmVuZ3RoO1wiLGxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQ6XCJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuI2VuZGlmXFxuc3RydWN0IFRvb25NYXRlcmlhbCB7XFxuXFx0dmVjM1xcdGRpZmZ1c2VDb2xvcjtcXG5cXHR2ZWMzXFx0c3BlY3VsYXJDb2xvcjtcXG5cXHRmbG9hdFxcdHNwZWN1bGFyU2hpbmluZXNzO1xcblxcdGZsb2F0XFx0c3BlY3VsYXJTdHJlbmd0aDtcXG59O1xcbnZvaWQgUkVfRGlyZWN0X1Rvb24oIGNvbnN0IGluIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFRvb25NYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XFxuXFx0dmVjMyBpcnJhZGlhbmNlID0gZ2V0R3JhZGllbnRJcnJhZGlhbmNlKCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICogZGlyZWN0TGlnaHQuY29sb3I7XFxuXFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXFxuXFx0XFx0aXJyYWRpYW5jZSAqPSBQSTtcXG5cXHQjZW5kaWZcXG5cXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XFxuXFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfU3BlY3VsYXJfQmxpbm5QaG9uZyggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyApICogbWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aDtcXG59XFxudm9pZCBSRV9JbmRpcmVjdERpZmZ1c2VfVG9vbiggY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9EaWZmdXNlX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xcbn1cXG4jZGVmaW5lIFJFX0RpcmVjdFxcdFxcdFxcdFxcdFJFX0RpcmVjdF9Ub29uXFxuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcXHRcXHRSRV9JbmRpcmVjdERpZmZ1c2VfVG9vblxcbiNkZWZpbmUgTWF0ZXJpYWxfTGlnaHRQcm9iZUxPRCggbWF0ZXJpYWwgKVxcdCgwKVwiLGxpZ2h0c19waG9uZ19mcmFnbWVudDpcIkJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbDtcXG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO1xcbm1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhcjtcXG5tYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyA9IHNoaW5pbmVzcztcXG5tYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoID0gc3BlY3VsYXJTdHJlbmd0aDtcIixsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudDpcInZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4jZW5kaWZcXG5zdHJ1Y3QgQmxpbm5QaG9uZ01hdGVyaWFsIHtcXG5cXHR2ZWMzXFx0ZGlmZnVzZUNvbG9yO1xcblxcdHZlYzNcXHRzcGVjdWxhckNvbG9yO1xcblxcdGZsb2F0XFx0c3BlY3VsYXJTaGluaW5lc3M7XFxuXFx0ZmxvYXRcXHRzcGVjdWxhclN0cmVuZ3RoO1xcbn07XFxudm9pZCBSRV9EaXJlY3RfQmxpbm5QaG9uZyggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcXG5cXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTtcXG5cXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xcblxcdFxcdGlycmFkaWFuY2UgKj0gUEk7XFxuXFx0I2VuZGlmXFxuXFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9EaWZmdXNlX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xcblxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX0JsaW5uUGhvbmcoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgKSAqIG1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGg7XFxufVxcbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcXG5cXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcXG59XFxuI2RlZmluZSBSRV9EaXJlY3RcXHRcXHRcXHRcXHRSRV9EaXJlY3RfQmxpbm5QaG9uZ1xcbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXFx0XFx0UkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmdcXG4jZGVmaW5lIE1hdGVyaWFsX0xpZ2h0UHJvYmVMT0QoIG1hdGVyaWFsIClcXHQoMClcIixsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ6XCJQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsO1xcbm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2IgKiAoIDEuMCAtIG1ldGFsbmVzc0ZhY3RvciApO1xcbnZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTtcXG5mbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTtcXG5tYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1heCggcm91Z2huZXNzRmFjdG9yLCAwLjA1MjUgKTttYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzcztcXG5tYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIDEuMCApO1xcbiNpZmRlZiBSRUZMRUNUSVZJVFlcXG5cXHRtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbWl4KCB2ZWMzKCBNQVhJTVVNX1NQRUNVTEFSX0NPRUZGSUNJRU5UICogcG93MiggcmVmbGVjdGl2aXR5ICkgKSwgZGlmZnVzZUNvbG9yLnJnYiwgbWV0YWxuZXNzRmFjdG9yICk7XFxuI2Vsc2VcXG5cXHRtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbWl4KCB2ZWMzKCBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICksIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApO1xcbiNlbmRpZlxcbiNpZmRlZiBDTEVBUkNPQVRcXG5cXHRtYXRlcmlhbC5jbGVhcmNvYXQgPSBzYXR1cmF0ZSggY2xlYXJjb2F0ICk7XFx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWF4KCBjbGVhcmNvYXRSb3VnaG5lc3MsIDAuMDUyNSApO1xcblxcdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzcztcXG5cXHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMS4wICk7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9TSEVFTlxcblxcdG1hdGVyaWFsLnNoZWVuQ29sb3IgPSBzaGVlbjtcXG4jZW5kaWZcIixsaWdodHNfcGh5c2ljYWxfcGFyc19mcmFnbWVudDpcInN0cnVjdCBQaHlzaWNhbE1hdGVyaWFsIHtcXG5cXHR2ZWMzXFx0ZGlmZnVzZUNvbG9yO1xcblxcdGZsb2F0XFx0c3BlY3VsYXJSb3VnaG5lc3M7XFxuXFx0dmVjM1xcdHNwZWN1bGFyQ29sb3I7XFxuI2lmZGVmIENMRUFSQ09BVFxcblxcdGZsb2F0IGNsZWFyY29hdDtcXG5cXHRmbG9hdCBjbGVhcmNvYXRSb3VnaG5lc3M7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9TSEVFTlxcblxcdHZlYzMgc2hlZW5Db2xvcjtcXG4jZW5kaWZcXG59O1xcbiNkZWZpbmUgTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAwLjE2XFxuI2RlZmluZSBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UIDAuMDRcXG5mbG9hdCBjbGVhcmNvYXRESFJBcHByb3goIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gZmxvYXQgZG90TkwgKSB7XFxuXFx0cmV0dXJuIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgKyAoIDEuMCAtIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgKSAqICggcG93KCAxLjAgLSBkb3ROTCwgNS4wICkgKiBwb3coIDEuMCAtIHJvdWdobmVzcywgMi4wICkgKTtcXG59XFxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxcblxcdHZvaWQgUkVfRGlyZWN0X1JlY3RBcmVhX1BoeXNpY2FsKCBjb25zdCBpbiBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xcblxcdFxcdHZlYzMgbm9ybWFsID0gZ2VvbWV0cnkubm9ybWFsO1xcblxcdFxcdHZlYzMgdmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7XFxuXFx0XFx0dmVjMyBwb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uO1xcblxcdFxcdHZlYzMgbGlnaHRQb3MgPSByZWN0QXJlYUxpZ2h0LnBvc2l0aW9uO1xcblxcdFxcdHZlYzMgaGFsZldpZHRoID0gcmVjdEFyZWFMaWdodC5oYWxmV2lkdGg7XFxuXFx0XFx0dmVjMyBoYWxmSGVpZ2h0ID0gcmVjdEFyZWFMaWdodC5oYWxmSGVpZ2h0O1xcblxcdFxcdHZlYzMgbGlnaHRDb2xvciA9IHJlY3RBcmVhTGlnaHQuY29sb3I7XFxuXFx0XFx0ZmxvYXQgcm91Z2huZXNzID0gbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3M7XFxuXFx0XFx0dmVjMyByZWN0Q29vcmRzWyA0IF07XFxuXFx0XFx0cmVjdENvb3Jkc1sgMCBdID0gbGlnaHRQb3MgKyBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0O1xcdFxcdHJlY3RDb29yZHNbIDEgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoIC0gaGFsZkhlaWdodDtcXG5cXHRcXHRyZWN0Q29vcmRzWyAyIF0gPSBsaWdodFBvcyAtIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7XFxuXFx0XFx0cmVjdENvb3Jkc1sgMyBdID0gbGlnaHRQb3MgKyBoYWxmV2lkdGggKyBoYWxmSGVpZ2h0O1xcblxcdFxcdHZlYzIgdXYgPSBMVENfVXYoIG5vcm1hbCwgdmlld0Rpciwgcm91Z2huZXNzICk7XFxuXFx0XFx0dmVjNCB0MSA9IHRleHR1cmUyRCggbHRjXzEsIHV2ICk7XFxuXFx0XFx0dmVjNCB0MiA9IHRleHR1cmUyRCggbHRjXzIsIHV2ICk7XFxuXFx0XFx0bWF0MyBtSW52ID0gbWF0MyhcXG5cXHRcXHRcXHR2ZWMzKCB0MS54LCAwLCB0MS55ICksXFxuXFx0XFx0XFx0dmVjMyggICAgMCwgMSwgICAgMCApLFxcblxcdFxcdFxcdHZlYzMoIHQxLnosIDAsIHQxLncgKVxcblxcdFxcdCk7XFxuXFx0XFx0dmVjMyBmcmVzbmVsID0gKCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yICogdDIueCArICggdmVjMyggMS4wICkgLSBtYXRlcmlhbC5zcGVjdWxhckNvbG9yICkgKiB0Mi55ICk7XFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gbGlnaHRDb2xvciAqIGZyZXNuZWwgKiBMVENfRXZhbHVhdGUoIG5vcm1hbCwgdmlld0RpciwgcG9zaXRpb24sIG1JbnYsIHJlY3RDb29yZHMgKTtcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGxpZ2h0Q29sb3IgKiBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKiBMVENfRXZhbHVhdGUoIG5vcm1hbCwgdmlld0RpciwgcG9zaXRpb24sIG1hdDMoIDEuMCApLCByZWN0Q29vcmRzICk7XFxuXFx0fVxcbiNlbmRpZlxcbnZvaWQgUkVfRGlyZWN0X1BoeXNpY2FsKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcXG5cXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTtcXG5cXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xcblxcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xcblxcdFxcdGlycmFkaWFuY2UgKj0gUEk7XFxuXFx0I2VuZGlmXFxuXFx0I2lmZGVmIENMRUFSQ09BVFxcblxcdFxcdGZsb2F0IGNjRG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XFxuXFx0XFx0dmVjMyBjY0lycmFkaWFuY2UgPSBjY0RvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7XFxuXFx0XFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXFxuXFx0XFx0XFx0Y2NJcnJhZGlhbmNlICo9IFBJO1xcblxcdFxcdCNlbmRpZlxcblxcdFxcdGZsb2F0IGNsZWFyY29hdERIUiA9IG1hdGVyaWFsLmNsZWFyY29hdCAqIGNsZWFyY29hdERIUkFwcHJveCggbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzLCBjY0RvdE5MICk7XFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gY2NJcnJhZGlhbmNlICogbWF0ZXJpYWwuY2xlYXJjb2F0ICogQlJERl9TcGVjdWxhcl9HR1goIGRpcmVjdExpZ2h0LCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIHZlYzMoIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgKSwgbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICk7XFxuXFx0I2Vsc2VcXG5cXHRcXHRmbG9hdCBjbGVhcmNvYXRESFIgPSAwLjA7XFxuXFx0I2VuZGlmXFxuXFx0I2lmZGVmIFVTRV9TSEVFTlxcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9ICggMS4wIC0gY2xlYXJjb2F0REhSICkgKiBpcnJhZGlhbmNlICogQlJERl9TcGVjdWxhcl9TaGVlbihcXG5cXHRcXHRcXHRtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyxcXG5cXHRcXHRcXHRkaXJlY3RMaWdodC5kaXJlY3Rpb24sXFxuXFx0XFx0XFx0Z2VvbWV0cnksXFxuXFx0XFx0XFx0bWF0ZXJpYWwuc2hlZW5Db2xvclxcblxcdFxcdCk7XFxuXFx0I2Vsc2VcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSAoIDEuMCAtIGNsZWFyY29hdERIUiApICogaXJyYWRpYW5jZSAqIEJSREZfU3BlY3VsYXJfR0dYKCBkaXJlY3RMaWdodCwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyk7XFxuXFx0I2VuZGlmXFxuXFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArPSAoIDEuMCAtIGNsZWFyY29hdERIUiApICogaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcXG59XFxudm9pZCBSRV9JbmRpcmVjdERpZmZ1c2VfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XFxuXFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XFxufVxcbnZvaWQgUkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbCggY29uc3QgaW4gdmVjMyByYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiB2ZWMzIGNsZWFyY29hdFJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCkge1xcblxcdCNpZmRlZiBDTEVBUkNPQVRcXG5cXHRcXHRmbG9hdCBjY0RvdE5WID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTtcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICs9IGNsZWFyY29hdFJhZGlhbmNlICogbWF0ZXJpYWwuY2xlYXJjb2F0ICogQlJERl9TcGVjdWxhcl9HR1hfRW52aXJvbm1lbnQoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTtcXG5cXHRcXHRmbG9hdCBjY0RvdE5MID0gY2NEb3ROVjtcXG5cXHRcXHRmbG9hdCBjbGVhcmNvYXRESFIgPSBtYXRlcmlhbC5jbGVhcmNvYXQgKiBjbGVhcmNvYXRESFJBcHByb3goIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgY2NEb3ROTCApO1xcblxcdCNlbHNlXFxuXFx0XFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gMC4wO1xcblxcdCNlbmRpZlxcblxcdGZsb2F0IGNsZWFyY29hdEludiA9IDEuMCAtIGNsZWFyY29hdERIUjtcXG5cXHR2ZWMzIHNpbmdsZVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcXG5cXHR2ZWMzIG11bHRpU2NhdHRlcmluZyA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzMgY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlID0gaXJyYWRpYW5jZSAqIFJFQ0lQUk9DQUxfUEk7XFxuXFx0QlJERl9TcGVjdWxhcl9NdWx0aXNjYXR0ZXJpbmdfRW52aXJvbm1lbnQoIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgc2luZ2xlU2NhdHRlcmluZywgbXVsdGlTY2F0dGVyaW5nICk7XFxuXFx0dmVjMyBkaWZmdXNlID0gbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICogKCAxLjAgLSAoIHNpbmdsZVNjYXR0ZXJpbmcgKyBtdWx0aVNjYXR0ZXJpbmcgKSApO1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gY2xlYXJjb2F0SW52ICogcmFkaWFuY2UgKiBzaW5nbGVTY2F0dGVyaW5nO1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gbXVsdGlTY2F0dGVyaW5nICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlO1xcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBkaWZmdXNlICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlO1xcbn1cXG4jZGVmaW5lIFJFX0RpcmVjdFxcdFxcdFxcdFxcdFJFX0RpcmVjdF9QaHlzaWNhbFxcbiNkZWZpbmUgUkVfRGlyZWN0X1JlY3RBcmVhXFx0XFx0UkVfRGlyZWN0X1JlY3RBcmVhX1BoeXNpY2FsXFxuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcXHRcXHRSRV9JbmRpcmVjdERpZmZ1c2VfUGh5c2ljYWxcXG4jZGVmaW5lIFJFX0luZGlyZWN0U3BlY3VsYXJcXHRcXHRSRV9JbmRpcmVjdFNwZWN1bGFyX1BoeXNpY2FsXFxuZmxvYXQgY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgYW1iaWVudE9jY2x1c2lvbiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xcblxcdHJldHVybiBzYXR1cmF0ZSggcG93KCBkb3ROViArIGFtYmllbnRPY2NsdXNpb24sIGV4cDIoIC0gMTYuMCAqIHJvdWdobmVzcyAtIDEuMCApICkgLSAxLjAgKyBhbWJpZW50T2NjbHVzaW9uICk7XFxufVwiLGxpZ2h0c19mcmFnbWVudF9iZWdpbjpcIlxcbkdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnk7XFxuZ2VvbWV0cnkucG9zaXRpb24gPSAtIHZWaWV3UG9zaXRpb247XFxuZ2VvbWV0cnkubm9ybWFsID0gbm9ybWFsO1xcbmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcXG4jaWZkZWYgQ0xFQVJDT0FUXFxuXFx0Z2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsID0gY2xlYXJjb2F0Tm9ybWFsO1xcbiNlbmRpZlxcbkluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7XFxuI2lmICggTlVNX1BPSU5UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxcblxcdFBvaW50TGlnaHQgcG9pbnRMaWdodDtcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUUzsgaSArKyApIHtcXG5cXHRcXHRwb2ludExpZ2h0ID0gcG9pbnRMaWdodHNbIGkgXTtcXG5cXHRcXHRnZXRQb2ludERpcmVjdExpZ2h0SXJyYWRpYW5jZSggcG9pbnRMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XFxuXFx0XFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyApXFxuXFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMyggcG9pbnRMaWdodC5zaGFkb3csIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0UG9pbnRTaGFkb3coIHBvaW50U2hhZG93TWFwWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93TWFwU2l6ZSwgcG9pbnRMaWdodC5zaGFkb3dCaWFzLCBwb2ludExpZ2h0LnNoYWRvd1JhZGl1cywgdlBvaW50U2hhZG93Q29vcmRbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFOZWFyLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYUZhciApIDogMS4wO1xcblxcdFxcdCNlbmRpZlxcblxcdFxcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcXG5cXHR9XFxuI2VuZGlmXFxuI2lmICggTlVNX1NQT1RfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApXFxuXFx0U3BvdExpZ2h0IHNwb3RMaWdodDtcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkge1xcblxcdFxcdHNwb3RMaWdodCA9IHNwb3RMaWdodHNbIGkgXTtcXG5cXHRcXHRnZXRTcG90RGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBzcG90TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xcblxcdFxcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyApXFxuXFx0XFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMyggc3BvdExpZ2h0LnNoYWRvdywgZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIHNwb3RTaGFkb3dNYXBbIGkgXSwgc3BvdExpZ2h0LnNoYWRvd01hcFNpemUsIHNwb3RMaWdodC5zaGFkb3dCaWFzLCBzcG90TGlnaHQuc2hhZG93UmFkaXVzLCB2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XFxuXFx0fVxcbiNlbmRpZlxcbiNpZiAoIE5VTV9ESVJfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApXFxuXFx0RGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0O1xcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcXG5cXHRcXHRkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodHNbIGkgXTtcXG5cXHRcXHRnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggZGlyZWN0aW9uYWxMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XFxuXFx0XFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fRElSX0xJR0hUX1NIQURPV1MgKVxcblxcdFxcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzMoIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0UkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xcblxcdH1cXG4jZW5kaWZcXG4jaWYgKCBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3RfUmVjdEFyZWEgKVxcblxcdFJlY3RBcmVhTGlnaHQgcmVjdEFyZWFMaWdodDtcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1JFQ1RfQVJFQV9MSUdIVFM7IGkgKysgKSB7XFxuXFx0XFx0cmVjdEFyZWFMaWdodCA9IHJlY3RBcmVhTGlnaHRzWyBpIF07XFxuXFx0XFx0UkVfRGlyZWN0X1JlY3RBcmVhKCByZWN0QXJlYUxpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XFxuXFx0fVxcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxcblxcdHZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzMgaXJyYWRpYW5jZSA9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7XFxuXFx0aXJyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkgKTtcXG5cXHQjaWYgKCBOVU1fSEVNSV9MSUdIVFMgPiAwIClcXG5cXHRcXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0XFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0hFTUlfTElHSFRTOyBpICsrICkge1xcblxcdFxcdFxcdGlycmFkaWFuY2UgKz0gZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggaGVtaXNwaGVyZUxpZ2h0c1sgaSBdLCBnZW9tZXRyeSApO1xcblxcdFxcdH1cXG5cXHQjZW5kaWZcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApXFxuXFx0dmVjMyByYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzMgY2xlYXJjb2F0UmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcXG4jZW5kaWZcIixsaWdodHNfZnJhZ21lbnRfbWFwczpcIiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxcblxcdCNpZmRlZiBVU0VfTElHSFRNQVBcXG5cXHRcXHR2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcXG5cXHRcXHR2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xcblxcdFxcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xcblxcdFxcdFxcdGxpZ2h0TWFwSXJyYWRpYW5jZSAqPSBQSTtcXG5cXHRcXHQjZW5kaWZcXG5cXHRcXHRpcnJhZGlhbmNlICs9IGxpZ2h0TWFwSXJyYWRpYW5jZTtcXG5cXHQjZW5kaWZcXG5cXHQjaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFNUQU5EQVJEICkgJiYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXFxuXFx0XFx0aWJsSXJyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSW5kaXJlY3RJcnJhZGlhbmNlKCBnZW9tZXRyeSwgbWF4TWlwTGV2ZWwgKTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxcblxcdHJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJbmRpcmVjdFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzLCBtYXhNaXBMZXZlbCApO1xcblxcdCNpZmRlZiBDTEVBUkNPQVRcXG5cXHRcXHRjbGVhcmNvYXRSYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIG1heE1pcExldmVsICk7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsbGlnaHRzX2ZyYWdtZW50X2VuZDpcIiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxcblxcdFJFX0luZGlyZWN0RGlmZnVzZSggaXJyYWRpYW5jZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdFNwZWN1bGFyIClcXG5cXHRSRV9JbmRpcmVjdFNwZWN1bGFyKCByYWRpYW5jZSwgaWJsSXJyYWRpYW5jZSwgY2xlYXJjb2F0UmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcXG4jZW5kaWZcIixsb2dkZXB0aGJ1Zl9mcmFnbWVudDpcIiNpZiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUYgKSAmJiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUZfRVhUIClcXG5cXHRnbF9GcmFnRGVwdGhFWFQgPSB2SXNQZXJzcGVjdGl2ZSA9PSAwLjAgPyBnbF9GcmFnQ29vcmQueiA6IGxvZzIoIHZGcmFnRGVwdGggKSAqIGxvZ0RlcHRoQnVmRkMgKiAwLjU7XFxuI2VuZGlmXCIsbG9nZGVwdGhidWZfcGFyc19mcmFnbWVudDpcIiNpZiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUYgKSAmJiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUZfRVhUIClcXG5cXHR1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7XFxuXFx0dmFyeWluZyBmbG9hdCB2RnJhZ0RlcHRoO1xcblxcdHZhcnlpbmcgZmxvYXQgdklzUGVyc3BlY3RpdmU7XFxuI2VuZGlmXCIsbG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX0xPR0RFUFRIQlVGXFxuXFx0I2lmZGVmIFVTRV9MT0dERVBUSEJVRl9FWFRcXG5cXHRcXHR2YXJ5aW5nIGZsb2F0IHZGcmFnRGVwdGg7XFxuXFx0XFx0dmFyeWluZyBmbG9hdCB2SXNQZXJzcGVjdGl2ZTtcXG5cXHQjZWxzZVxcblxcdFxcdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixsb2dkZXB0aGJ1Zl92ZXJ0ZXg6XCIjaWZkZWYgVVNFX0xPR0RFUFRIQlVGXFxuXFx0I2lmZGVmIFVTRV9MT0dERVBUSEJVRl9FWFRcXG5cXHRcXHR2RnJhZ0RlcHRoID0gMS4wICsgZ2xfUG9zaXRpb24udztcXG5cXHRcXHR2SXNQZXJzcGVjdGl2ZSA9IGZsb2F0KCBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICkgKTtcXG5cXHQjZWxzZVxcblxcdFxcdGlmICggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICkge1xcblxcdFxcdFxcdGdsX1Bvc2l0aW9uLnogPSBsb2cyKCBtYXgoIEVQU0lMT04sIGdsX1Bvc2l0aW9uLncgKyAxLjAgKSApICogbG9nRGVwdGhCdWZGQyAtIDEuMDtcXG5cXHRcXHRcXHRnbF9Qb3NpdGlvbi56ICo9IGdsX1Bvc2l0aW9uLnc7XFxuXFx0XFx0fVxcblxcdCNlbmRpZlxcbiNlbmRpZlwiLG1hcF9mcmFnbWVudDpcIiNpZmRlZiBVU0VfTUFQXFxuXFx0dmVjNCB0ZXhlbENvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApO1xcblxcdHRleGVsQ29sb3IgPSBtYXBUZXhlbFRvTGluZWFyKCB0ZXhlbENvbG9yICk7XFxuXFx0ZGlmZnVzZUNvbG9yICo9IHRleGVsQ29sb3I7XFxuI2VuZGlmXCIsbWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX01BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIG1hcDtcXG4jZW5kaWZcIixtYXBfcGFydGljbGVfZnJhZ21lbnQ6XCIjaWYgZGVmaW5lZCggVVNFX01BUCApIHx8IGRlZmluZWQoIFVTRV9BTFBIQU1BUCApXFxuXFx0dmVjMiB1diA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCBnbF9Qb2ludENvb3JkLngsIDEuMCAtIGdsX1BvaW50Q29vcmQueSwgMSApICkueHk7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9NQVBcXG5cXHR2ZWM0IG1hcFRleGVsID0gdGV4dHVyZTJEKCBtYXAsIHV2ICk7XFxuXFx0ZGlmZnVzZUNvbG9yICo9IG1hcFRleGVsVG9MaW5lYXIoIG1hcFRleGVsICk7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9BTFBIQU1BUFxcblxcdGRpZmZ1c2VDb2xvci5hICo9IHRleHR1cmUyRCggYWxwaGFNYXAsIHV2ICkuZztcXG4jZW5kaWZcIixtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudDpcIiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcXG5cXHR1bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9NQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XFxuI2VuZGlmXFxuI2lmZGVmIFVTRV9BTFBIQU1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGFscGhhTWFwO1xcbiNlbmRpZlwiLG1ldGFsbmVzc21hcF9mcmFnbWVudDpcImZsb2F0IG1ldGFsbmVzc0ZhY3RvciA9IG1ldGFsbmVzcztcXG4jaWZkZWYgVVNFX01FVEFMTkVTU01BUFxcblxcdHZlYzQgdGV4ZWxNZXRhbG5lc3MgPSB0ZXh0dXJlMkQoIG1ldGFsbmVzc01hcCwgdlV2ICk7XFxuXFx0bWV0YWxuZXNzRmFjdG9yICo9IHRleGVsTWV0YWxuZXNzLmI7XFxuI2VuZGlmXCIsbWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX01FVEFMTkVTU01BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIG1ldGFsbmVzc01hcDtcXG4jZW5kaWZcIixtb3JwaG5vcm1hbF92ZXJ0ZXg6XCIjaWZkZWYgVVNFX01PUlBITk9STUFMU1xcblxcdG9iamVjdE5vcm1hbCAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7XFxuXFx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdO1xcblxcdG9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDEgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTtcXG5cXHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwyICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAyIF07XFxuXFx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdO1xcbiNlbmRpZlwiLG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4OlwiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcXG5cXHR1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcXG5cXHQjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFNcXG5cXHR1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgOCBdO1xcblxcdCNlbHNlXFxuXFx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixtb3JwaHRhcmdldF92ZXJ0ZXg6XCIjaWZkZWYgVVNFX01PUlBIVEFSR0VUU1xcblxcdHRyYW5zZm9ybWVkICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDAgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDAgXTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDEgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDMgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDMgXTtcXG5cXHQjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFNcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDQgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDUgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDUgXTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDYgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDYgXTtcXG5cXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDcgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDcgXTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixub3JtYWxfZnJhZ21lbnRfYmVnaW46XCIjaWZkZWYgRkxBVF9TSEFERURcXG5cXHR2ZWMzIGZkeCA9IHZlYzMoIGRGZHgoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeCggdlZpZXdQb3NpdGlvbi56ICkgKTtcXG5cXHR2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTtcXG5cXHR2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSggY3Jvc3MoIGZkeCwgZmR5ICkgKTtcXG4jZWxzZVxcblxcdHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCB2Tm9ybWFsICk7XFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdG5vcm1hbCA9IG5vcm1hbCAqICggZmxvYXQoIGdsX0Zyb250RmFjaW5nICkgKiAyLjAgLSAxLjAgKTtcXG5cXHQjZW5kaWZcXG5cXHQjaWZkZWYgVVNFX1RBTkdFTlRcXG5cXHRcXHR2ZWMzIHRhbmdlbnQgPSBub3JtYWxpemUoIHZUYW5nZW50ICk7XFxuXFx0XFx0dmVjMyBiaXRhbmdlbnQgPSBub3JtYWxpemUoIHZCaXRhbmdlbnQgKTtcXG5cXHRcXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0XFx0XFx0dGFuZ2VudCA9IHRhbmdlbnQgKiAoIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICogMi4wIC0gMS4wICk7XFxuXFx0XFx0XFx0Yml0YW5nZW50ID0gYml0YW5nZW50ICogKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xcblxcdFxcdCNlbmRpZlxcblxcdFxcdCNpZiBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCggVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAgKVxcblxcdFxcdFxcdG1hdDMgdlRCTiA9IG1hdDMoIHRhbmdlbnQsIGJpdGFuZ2VudCwgbm9ybWFsICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0I2VuZGlmXFxuI2VuZGlmXFxudmVjMyBnZW9tZXRyeU5vcm1hbCA9IG5vcm1hbDtcIixub3JtYWxfZnJhZ21lbnRfbWFwczpcIiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcXG5cXHRub3JtYWwgPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wO1xcblxcdCNpZmRlZiBGTElQX1NJREVEXFxuXFx0XFx0bm9ybWFsID0gLSBub3JtYWw7XFxuXFx0I2VuZGlmXFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdG5vcm1hbCA9IG5vcm1hbCAqICggZmxvYXQoIGdsX0Zyb250RmFjaW5nICkgKiAyLjAgLSAxLjAgKTtcXG5cXHQjZW5kaWZcXG5cXHRub3JtYWwgPSBub3JtYWxpemUoIG5vcm1hbE1hdHJpeCAqIG5vcm1hbCApO1xcbiNlbGlmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKVxcblxcdHZlYzMgbWFwTiA9IHRleHR1cmUyRCggbm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XFxuXFx0bWFwTi54eSAqPSBub3JtYWxTY2FsZTtcXG5cXHQjaWZkZWYgVVNFX1RBTkdFTlRcXG5cXHRcXHRub3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBtYXBOICk7XFxuXFx0I2Vsc2VcXG5cXHRcXHRub3JtYWwgPSBwZXJ0dXJiTm9ybWFsMkFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgbWFwTiApO1xcblxcdCNlbmRpZlxcbiNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQIClcXG5cXHRub3JtYWwgPSBwZXJ0dXJiTm9ybWFsQXJiKCAtdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBkSGR4eV9md2QoKSApO1xcbiNlbmRpZlwiLG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9OT1JNQUxNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBub3JtYWxNYXA7XFxuXFx0dW5pZm9ybSB2ZWMyIG5vcm1hbFNjYWxlO1xcbiNlbmRpZlxcbiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcXG5cXHR1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4O1xcbiNlbmRpZlxcbiNpZiAhIGRlZmluZWQgKCBVU0VfVEFOR0VOVCApICYmICggZGVmaW5lZCAoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkICggVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAgKSApXFxuXFx0dmVjMyBwZXJ0dXJiTm9ybWFsMkFyYiggdmVjMyBleWVfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMyBtYXBOICkge1xcblxcdFxcdHZlYzMgcTAgPSB2ZWMzKCBkRmR4KCBleWVfcG9zLnggKSwgZEZkeCggZXllX3Bvcy55ICksIGRGZHgoIGV5ZV9wb3MueiApICk7XFxuXFx0XFx0dmVjMyBxMSA9IHZlYzMoIGRGZHkoIGV5ZV9wb3MueCApLCBkRmR5KCBleWVfcG9zLnkgKSwgZEZkeSggZXllX3Bvcy56ICkgKTtcXG5cXHRcXHR2ZWMyIHN0MCA9IGRGZHgoIHZVdi5zdCApO1xcblxcdFxcdHZlYzIgc3QxID0gZEZkeSggdlV2LnN0ICk7XFxuXFx0XFx0ZmxvYXQgc2NhbGUgPSBzaWduKCBzdDEudCAqIHN0MC5zIC0gc3QwLnQgKiBzdDEucyApO1xcblxcdFxcdHZlYzMgUyA9IG5vcm1hbGl6ZSggKCBxMCAqIHN0MS50IC0gcTEgKiBzdDAudCApICogc2NhbGUgKTtcXG5cXHRcXHR2ZWMzIFQgPSBub3JtYWxpemUoICggLSBxMCAqIHN0MS5zICsgcTEgKiBzdDAucyApICogc2NhbGUgKTtcXG5cXHRcXHR2ZWMzIE4gPSBub3JtYWxpemUoIHN1cmZfbm9ybSApO1xcblxcdFxcdG1hdDMgdHNuID0gbWF0MyggUywgVCwgTiApO1xcblxcdFxcdG1hcE4ueHkgKj0gKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApO1xcblxcdFxcdHJldHVybiBub3JtYWxpemUoIHRzbiAqIG1hcE4gKTtcXG5cXHR9XFxuI2VuZGlmXCIsY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbjpcIiNpZmRlZiBDTEVBUkNPQVRcXG5cXHR2ZWMzIGNsZWFyY29hdE5vcm1hbCA9IGdlb21ldHJ5Tm9ybWFsO1xcbiNlbmRpZlwiLGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfbWFwczpcIiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUFxcblxcdHZlYzMgY2xlYXJjb2F0TWFwTiA9IHRleHR1cmUyRCggY2xlYXJjb2F0Tm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XFxuXFx0Y2xlYXJjb2F0TWFwTi54eSAqPSBjbGVhcmNvYXROb3JtYWxTY2FsZTtcXG5cXHQjaWZkZWYgVVNFX1RBTkdFTlRcXG5cXHRcXHRjbGVhcmNvYXROb3JtYWwgPSBub3JtYWxpemUoIHZUQk4gKiBjbGVhcmNvYXRNYXBOICk7XFxuXFx0I2Vsc2VcXG5cXHRcXHRjbGVhcmNvYXROb3JtYWwgPSBwZXJ0dXJiTm9ybWFsMkFyYiggLSB2Vmlld1Bvc2l0aW9uLCBjbGVhcmNvYXROb3JtYWwsIGNsZWFyY29hdE1hcE4gKTtcXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixjbGVhcmNvYXRfbm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVBcXG5cXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXROb3JtYWxNYXA7XFxuXFx0dW5pZm9ybSB2ZWMyIGNsZWFyY29hdE5vcm1hbFNjYWxlO1xcbiNlbmRpZlwiLHBhY2tpbmc6XCJ2ZWMzIHBhY2tOb3JtYWxUb1JHQiggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7XFxuXFx0cmV0dXJuIG5vcm1hbGl6ZSggbm9ybWFsICkgKiAwLjUgKyAwLjU7XFxufVxcbnZlYzMgdW5wYWNrUkdCVG9Ob3JtYWwoIGNvbnN0IGluIHZlYzMgcmdiICkge1xcblxcdHJldHVybiAyLjAgKiByZ2IueHl6IC0gMS4wO1xcbn1cXG5jb25zdCBmbG9hdCBQYWNrVXBzY2FsZSA9IDI1Ni4gLyAyNTUuO2NvbnN0IGZsb2F0IFVucGFja0Rvd25zY2FsZSA9IDI1NS4gLyAyNTYuO1xcbmNvbnN0IHZlYzMgUGFja0ZhY3RvcnMgPSB2ZWMzKCAyNTYuICogMjU2LiAqIDI1Ni4sIDI1Ni4gKiAyNTYuLCAgMjU2LiApO1xcbmNvbnN0IHZlYzQgVW5wYWNrRmFjdG9ycyA9IFVucGFja0Rvd25zY2FsZSAvIHZlYzQoIFBhY2tGYWN0b3JzLCAxLiApO1xcbmNvbnN0IGZsb2F0IFNoaWZ0UmlnaHQ4ID0gMS4gLyAyNTYuO1xcbnZlYzQgcGFja0RlcHRoVG9SR0JBKCBjb25zdCBpbiBmbG9hdCB2ICkge1xcblxcdHZlYzQgciA9IHZlYzQoIGZyYWN0KCB2ICogUGFja0ZhY3RvcnMgKSwgdiApO1xcblxcdHIueXp3IC09IHIueHl6ICogU2hpZnRSaWdodDg7XFx0cmV0dXJuIHIgKiBQYWNrVXBzY2FsZTtcXG59XFxuZmxvYXQgdW5wYWNrUkdCQVRvRGVwdGgoIGNvbnN0IGluIHZlYzQgdiApIHtcXG5cXHRyZXR1cm4gZG90KCB2LCBVbnBhY2tGYWN0b3JzICk7XFxufVxcbnZlYzQgcGFjazJIYWxmVG9SR0JBKCB2ZWMyIHYgKSB7XFxuXFx0dmVjNCByID0gdmVjNCggdi54LCBmcmFjdCggdi54ICogMjU1LjAgKSwgdi55LCBmcmFjdCggdi55ICogMjU1LjAgKSk7XFxuXFx0cmV0dXJuIHZlYzQoIHIueCAtIHIueSAvIDI1NS4wLCByLnksIHIueiAtIHIudyAvIDI1NS4wLCByLncpO1xcbn1cXG52ZWMyIHVucGFjazJIYWxmVG9SR0JBKCB2ZWM0IHYgKSB7XFxuXFx0cmV0dXJuIHZlYzIoIHYueCArICggdi55IC8gMjU1LjAgKSwgdi56ICsgKCB2LncgLyAyNTUuMCApICk7XFxufVxcbmZsb2F0IHZpZXdaVG9PcnRob2dyYXBoaWNEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcXG5cXHRyZXR1cm4gKCB2aWV3WiArIG5lYXIgKSAvICggbmVhciAtIGZhciApO1xcbn1cXG5mbG9hdCBvcnRob2dyYXBoaWNEZXB0aFRvVmlld1ooIGNvbnN0IGluIGZsb2F0IGxpbmVhckNsaXBaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XFxuXFx0cmV0dXJuIGxpbmVhckNsaXBaICogKCBuZWFyIC0gZmFyICkgLSBuZWFyO1xcbn1cXG5mbG9hdCB2aWV3WlRvUGVyc3BlY3RpdmVEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcXG5cXHRyZXR1cm4gKCggbmVhciArIHZpZXdaICkgKiBmYXIgKSAvICgoIGZhciAtIG5lYXIgKSAqIHZpZXdaICk7XFxufVxcbmZsb2F0IHBlcnNwZWN0aXZlRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBpbnZDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xcblxcdHJldHVybiAoIG5lYXIgKiBmYXIgKSAvICggKCBmYXIgLSBuZWFyICkgKiBpbnZDbGlwWiAtIGZhciApO1xcbn1cIixwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50OlwiI2lmZGVmIFBSRU1VTFRJUExJRURfQUxQSEFcXG5cXHRnbF9GcmFnQ29sb3IucmdiICo9IGdsX0ZyYWdDb2xvci5hO1xcbiNlbmRpZlwiLHByb2plY3RfdmVydGV4OlwidmVjNCBtdlBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xcbiNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xcblxcdG12UG9zaXRpb24gPSBpbnN0YW5jZU1hdHJpeCAqIG12UG9zaXRpb247XFxuI2VuZGlmXFxubXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIG12UG9zaXRpb247XFxuZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcIixkaXRoZXJpbmdfZnJhZ21lbnQ6XCIjaWZkZWYgRElUSEVSSU5HXFxuXFx0Z2xfRnJhZ0NvbG9yLnJnYiA9IGRpdGhlcmluZyggZ2xfRnJhZ0NvbG9yLnJnYiApO1xcbiNlbmRpZlwiLGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIERJVEhFUklOR1xcblxcdHZlYzMgZGl0aGVyaW5nKCB2ZWMzIGNvbG9yICkge1xcblxcdFxcdGZsb2F0IGdyaWRfcG9zaXRpb24gPSByYW5kKCBnbF9GcmFnQ29vcmQueHkgKTtcXG5cXHRcXHR2ZWMzIGRpdGhlcl9zaGlmdF9SR0IgPSB2ZWMzKCAwLjI1IC8gMjU1LjAsIC0wLjI1IC8gMjU1LjAsIDAuMjUgLyAyNTUuMCApO1xcblxcdFxcdGRpdGhlcl9zaGlmdF9SR0IgPSBtaXgoIDIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIC0yLjAgKiBkaXRoZXJfc2hpZnRfUkdCLCBncmlkX3Bvc2l0aW9uICk7XFxuXFx0XFx0cmV0dXJuIGNvbG9yICsgZGl0aGVyX3NoaWZ0X1JHQjtcXG5cXHR9XFxuI2VuZGlmXCIscm91Z2huZXNzbWFwX2ZyYWdtZW50OlwiZmxvYXQgcm91Z2huZXNzRmFjdG9yID0gcm91Z2huZXNzO1xcbiNpZmRlZiBVU0VfUk9VR0hORVNTTUFQXFxuXFx0dmVjNCB0ZXhlbFJvdWdobmVzcyA9IHRleHR1cmUyRCggcm91Z2huZXNzTWFwLCB2VXYgKTtcXG5cXHRyb3VnaG5lc3NGYWN0b3IgKj0gdGV4ZWxSb3VnaG5lc3MuZztcXG4jZW5kaWZcIixyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudDpcIiNpZmRlZiBVU0VfUk9VR0hORVNTTUFQXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgcm91Z2huZXNzTWFwO1xcbiNlbmRpZlwiLFxuc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ6XCIjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0XFx0dW5pZm9ybSBzYW1wbGVyMkQgZGlyZWN0aW9uYWxTaGFkb3dNYXBbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XFxuXFx0I2VuZGlmXFxuXFx0I2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0XFx0dW5pZm9ybSBzYW1wbGVyMkQgc3BvdFNoYWRvd01hcFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHZhcnlpbmcgdmVjNCB2U3BvdFNoYWRvd0Nvb3JkWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XFxuXFx0I2VuZGlmXFxuXFx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIHBvaW50U2hhZG93TWFwWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHZhcnlpbmcgdmVjNCB2UG9pbnRTaGFkb3dDb29yZFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcXG5cXHQjZW5kaWZcXG5cXHRmbG9hdCB0ZXh0dXJlMkRDb21wYXJlKCBzYW1wbGVyMkQgZGVwdGhzLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICkge1xcblxcdFxcdHJldHVybiBzdGVwKCBjb21wYXJlLCB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBkZXB0aHMsIHV2ICkgKSApO1xcblxcdH1cXG5cXHR2ZWMyIHRleHR1cmUyRERpc3RyaWJ1dGlvbiggc2FtcGxlcjJEIHNoYWRvdywgdmVjMiB1diApIHtcXG5cXHRcXHRyZXR1cm4gdW5wYWNrMkhhbGZUb1JHQkEoIHRleHR1cmUyRCggc2hhZG93LCB1diApICk7XFxuXFx0fVxcblxcdGZsb2F0IFZTTVNoYWRvdyAoc2FtcGxlcjJEIHNoYWRvdywgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApe1xcblxcdFxcdGZsb2F0IG9jY2x1c2lvbiA9IDEuMDtcXG5cXHRcXHR2ZWMyIGRpc3RyaWJ1dGlvbiA9IHRleHR1cmUyRERpc3RyaWJ1dGlvbiggc2hhZG93LCB1diApO1xcblxcdFxcdGZsb2F0IGhhcmRfc2hhZG93ID0gc3RlcCggY29tcGFyZSAsIGRpc3RyaWJ1dGlvbi54ICk7XFxuXFx0XFx0aWYgKGhhcmRfc2hhZG93ICE9IDEuMCApIHtcXG5cXHRcXHRcXHRmbG9hdCBkaXN0YW5jZSA9IGNvbXBhcmUgLSBkaXN0cmlidXRpb24ueCA7XFxuXFx0XFx0XFx0ZmxvYXQgdmFyaWFuY2UgPSBtYXgoIDAuMDAwMDAsIGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKTtcXG5cXHRcXHRcXHRmbG9hdCBzb2Z0bmVzc19wcm9iYWJpbGl0eSA9IHZhcmlhbmNlIC8gKHZhcmlhbmNlICsgZGlzdGFuY2UgKiBkaXN0YW5jZSApO1xcdFxcdFxcdHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gY2xhbXAoICggc29mdG5lc3NfcHJvYmFiaWxpdHkgLSAwLjMgKSAvICggMC45NSAtIDAuMyApLCAwLjAsIDEuMCApO1xcdFxcdFxcdG9jY2x1c2lvbiA9IGNsYW1wKCBtYXgoIGhhcmRfc2hhZG93LCBzb2Z0bmVzc19wcm9iYWJpbGl0eSApLCAwLjAsIDEuMCApO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gb2NjbHVzaW9uO1xcblxcdH1cXG5cXHRmbG9hdCB0ZXh0dXJlMkRTaGFkb3dMZXJwKCBzYW1wbGVyMkQgZGVwdGhzLCB2ZWMyIHNpemUsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUgKSB7XFxuXFx0XFx0Y29uc3QgdmVjMiBvZmZzZXQgPSB2ZWMyKCAwLjAsIDEuMCApO1xcblxcdFxcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaXplO1xcblxcdFxcdHZlYzIgY2VudHJvaWRVViA9ICggZmxvb3IoIHV2ICogc2l6ZSAtIDAuNSApICsgMC41ICkgKiB0ZXhlbFNpemU7XFxuXFx0XFx0ZmxvYXQgbGIgPSB0ZXh0dXJlMkRDb21wYXJlKCBkZXB0aHMsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUgKiBvZmZzZXQueHgsIGNvbXBhcmUgKTtcXG5cXHRcXHRmbG9hdCBsdCA9IHRleHR1cmUyRENvbXBhcmUoIGRlcHRocywgY2VudHJvaWRVViArIHRleGVsU2l6ZSAqIG9mZnNldC54eSwgY29tcGFyZSApO1xcblxcdFxcdGZsb2F0IHJiID0gdGV4dHVyZTJEQ29tcGFyZSggZGVwdGhzLCBjZW50cm9pZFVWICsgdGV4ZWxTaXplICogb2Zmc2V0Lnl4LCBjb21wYXJlICk7XFxuXFx0XFx0ZmxvYXQgcnQgPSB0ZXh0dXJlMkRDb21wYXJlKCBkZXB0aHMsIGNlbnRyb2lkVVYgKyB0ZXhlbFNpemUgKiBvZmZzZXQueXksIGNvbXBhcmUgKTtcXG5cXHRcXHR2ZWMyIGYgPSBmcmFjdCggdXYgKiBzaXplICsgMC41ICk7XFxuXFx0XFx0ZmxvYXQgYSA9IG1peCggbGIsIGx0LCBmLnkgKTtcXG5cXHRcXHRmbG9hdCBiID0gbWl4KCByYiwgcnQsIGYueSApO1xcblxcdFxcdGZsb2F0IGMgPSBtaXgoIGEsIGIsIGYueCApO1xcblxcdFxcdHJldHVybiBjO1xcblxcdH1cXG5cXHRmbG9hdCBnZXRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkICkge1xcblxcdFxcdGZsb2F0IHNoYWRvdyA9IDEuMDtcXG5cXHRcXHRzaGFkb3dDb29yZC54eXogLz0gc2hhZG93Q29vcmQudztcXG5cXHRcXHRzaGFkb3dDb29yZC56ICs9IHNoYWRvd0JpYXM7XFxuXFx0XFx0YnZlYzQgaW5GcnVzdHVtVmVjID0gYnZlYzQgKCBzaGFkb3dDb29yZC54ID49IDAuMCwgc2hhZG93Q29vcmQueCA8PSAxLjAsIHNoYWRvd0Nvb3JkLnkgPj0gMC4wLCBzaGFkb3dDb29yZC55IDw9IDEuMCApO1xcblxcdFxcdGJvb2wgaW5GcnVzdHVtID0gYWxsKCBpbkZydXN0dW1WZWMgKTtcXG5cXHRcXHRidmVjMiBmcnVzdHVtVGVzdFZlYyA9IGJ2ZWMyKCBpbkZydXN0dW0sIHNoYWRvd0Nvb3JkLnogPD0gMS4wICk7XFxuXFx0XFx0Ym9vbCBmcnVzdHVtVGVzdCA9IGFsbCggZnJ1c3R1bVRlc3RWZWMgKTtcXG5cXHRcXHRpZiAoIGZydXN0dW1UZXN0ICkge1xcblxcdFxcdCNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKVxcblxcdFxcdFxcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaGFkb3dNYXBTaXplO1xcblxcdFxcdFxcdGZsb2F0IGR4MCA9IC0gdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0ZmxvYXQgZHkwID0gLSB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcXG5cXHRcXHRcXHRmbG9hdCBkeDEgPSArIHRleGVsU2l6ZS54ICogc2hhZG93UmFkaXVzO1xcblxcdFxcdFxcdGZsb2F0IGR5MSA9ICsgdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0ZmxvYXQgZHgyID0gZHgwIC8gMi4wO1xcblxcdFxcdFxcdGZsb2F0IGR5MiA9IGR5MCAvIDIuMDtcXG5cXHRcXHRcXHRmbG9hdCBkeDMgPSBkeDEgLyAyLjA7XFxuXFx0XFx0XFx0ZmxvYXQgZHkzID0gZHkxIC8gMi4wO1xcblxcdFxcdFxcdHNoYWRvdyA9IChcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MSApLCBzaGFkb3dDb29yZC56IClcXG5cXHRcXHRcXHQpICogKCAxLjAgLyAxNy4wICk7XFxuXFx0XFx0I2VsaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKVxcblxcdFxcdFxcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaGFkb3dNYXBTaXplO1xcblxcdFxcdFxcdGZsb2F0IGR4MCA9IC0gdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0ZmxvYXQgZHkwID0gLSB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcXG5cXHRcXHRcXHRmbG9hdCBkeDEgPSArIHRleGVsU2l6ZS54ICogc2hhZG93UmFkaXVzO1xcblxcdFxcdFxcdGZsb2F0IGR5MSA9ICsgdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7XFxuXFx0XFx0XFx0c2hhZG93ID0gKFxcblxcdFxcdFxcdFxcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRFNoYWRvd0xlcnAoIHNoYWRvd01hcCwgc2hhZG93TWFwU2l6ZSwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEU2hhZG93TGVycCggc2hhZG93TWFwLCBzaGFkb3dNYXBTaXplLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICksIHNoYWRvd0Nvb3JkLnogKVxcblxcdFxcdFxcdCkgKiAoIDEuMCAvIDkuMCApO1xcblxcdFxcdCNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1ZTTSApXFxuXFx0XFx0XFx0c2hhZG93ID0gVlNNU2hhZG93KCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7XFxuXFx0XFx0I2Vsc2VcXG5cXHRcXHRcXHRzaGFkb3cgPSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiBzaGFkb3c7XFxuXFx0fVxcblxcdHZlYzIgY3ViZVRvVVYoIHZlYzMgdiwgZmxvYXQgdGV4ZWxTaXplWSApIHtcXG5cXHRcXHR2ZWMzIGFic1YgPSBhYnMoIHYgKTtcXG5cXHRcXHRmbG9hdCBzY2FsZVRvQ3ViZSA9IDEuMCAvIG1heCggYWJzVi54LCBtYXgoIGFic1YueSwgYWJzVi56ICkgKTtcXG5cXHRcXHRhYnNWICo9IHNjYWxlVG9DdWJlO1xcblxcdFxcdHYgKj0gc2NhbGVUb0N1YmUgKiAoIDEuMCAtIDIuMCAqIHRleGVsU2l6ZVkgKTtcXG5cXHRcXHR2ZWMyIHBsYW5hciA9IHYueHk7XFxuXFx0XFx0ZmxvYXQgYWxtb3N0QVRleGVsID0gMS41ICogdGV4ZWxTaXplWTtcXG5cXHRcXHRmbG9hdCBhbG1vc3RPbmUgPSAxLjAgLSBhbG1vc3RBVGV4ZWw7XFxuXFx0XFx0aWYgKCBhYnNWLnogPj0gYWxtb3N0T25lICkge1xcblxcdFxcdFxcdGlmICggdi56ID4gMC4wIClcXG5cXHRcXHRcXHRcXHRwbGFuYXIueCA9IDQuMCAtIHYueDtcXG5cXHRcXHR9IGVsc2UgaWYgKCBhYnNWLnggPj0gYWxtb3N0T25lICkge1xcblxcdFxcdFxcdGZsb2F0IHNpZ25YID0gc2lnbiggdi54ICk7XFxuXFx0XFx0XFx0cGxhbmFyLnggPSB2LnogKiBzaWduWCArIDIuMCAqIHNpZ25YO1xcblxcdFxcdH0gZWxzZSBpZiAoIGFic1YueSA+PSBhbG1vc3RPbmUgKSB7XFxuXFx0XFx0XFx0ZmxvYXQgc2lnblkgPSBzaWduKCB2LnkgKTtcXG5cXHRcXHRcXHRwbGFuYXIueCA9IHYueCArIDIuMCAqIHNpZ25ZICsgMi4wO1xcblxcdFxcdFxcdHBsYW5hci55ID0gdi56ICogc2lnblkgLSAyLjA7XFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiB2ZWMyKCAwLjEyNSwgMC4yNSApICogcGxhbmFyICsgdmVjMiggMC4zNzUsIDAuNzUgKTtcXG5cXHR9XFxuXFx0ZmxvYXQgZ2V0UG9pbnRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkLCBmbG9hdCBzaGFkb3dDYW1lcmFOZWFyLCBmbG9hdCBzaGFkb3dDYW1lcmFGYXIgKSB7XFxuXFx0XFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvICggc2hhZG93TWFwU2l6ZSAqIHZlYzIoIDQuMCwgMi4wICkgKTtcXG5cXHRcXHR2ZWMzIGxpZ2h0VG9Qb3NpdGlvbiA9IHNoYWRvd0Nvb3JkLnh5ejtcXG5cXHRcXHRmbG9hdCBkcCA9ICggbGVuZ3RoKCBsaWdodFRvUG9zaXRpb24gKSAtIHNoYWRvd0NhbWVyYU5lYXIgKSAvICggc2hhZG93Q2FtZXJhRmFyIC0gc2hhZG93Q2FtZXJhTmVhciApO1xcdFxcdGRwICs9IHNoYWRvd0JpYXM7XFxuXFx0XFx0dmVjMyBiZDNEID0gbm9ybWFsaXplKCBsaWdodFRvUG9zaXRpb24gKTtcXG5cXHRcXHQjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKSB8fCBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKVxcblxcdFxcdFxcdHZlYzIgb2Zmc2V0ID0gdmVjMiggLSAxLCAxICkgKiBzaGFkb3dSYWRpdXMgKiB0ZXhlbFNpemUueTtcXG5cXHRcXHRcXHRyZXR1cm4gKFxcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHl5LCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eXgsIHRleGVsU2l6ZS55ICksIGRwICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXl4LCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXFxuXFx0XFx0XFx0XFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eHksIHRleGVsU2l6ZS55ICksIGRwICkgK1xcblxcdFxcdFxcdFxcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh4LCB0ZXhlbFNpemUueSApLCBkcCApICtcXG5cXHRcXHRcXHRcXHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKVxcblxcdFxcdFxcdCkgKiAoIDEuMCAvIDkuMCApO1xcblxcdFxcdCNlbHNlXFxuXFx0XFx0XFx0cmV0dXJuIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QsIHRleGVsU2l6ZS55ICksIGRwICk7XFxuXFx0XFx0I2VuZGlmXFxuXFx0fVxcbiNlbmRpZlwiLHNoYWRvd21hcF9wYXJzX3ZlcnRleDpcIiNpZmRlZiBVU0VfU0hBRE9XTUFQXFxuXFx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRcXHR1bmlmb3JtIG1hdDQgZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xcblxcdFxcdHZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XFxuXFx0I2VuZGlmXFxuXFx0I2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0XFx0dW5pZm9ybSBtYXQ0IHNwb3RTaGFkb3dNYXRyaXhbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcXG5cXHRcXHR2YXJ5aW5nIHZlYzQgdlNwb3RTaGFkb3dDb29yZFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHRcXHR1bmlmb3JtIG1hdDQgcG9pbnRTaGFkb3dNYXRyaXhbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XFxuXFx0XFx0dmFyeWluZyB2ZWM0IHZQb2ludFNoYWRvd0Nvb3JkWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xcblxcdCNlbmRpZlxcbiNlbmRpZlwiLHNoYWRvd21hcF92ZXJ0ZXg6XCIjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcXG5cXHRcXHR2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdID0gZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIGkgXSAqIHdvcmxkUG9zaXRpb247XFxuXFx0fVxcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xcblxcdFxcdHZTcG90U2hhZG93Q29vcmRbIGkgXSA9IHNwb3RTaGFkb3dNYXRyaXhbIGkgXSAqIHdvcmxkUG9zaXRpb247XFxuXFx0fVxcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0dlBvaW50U2hhZG93Q29vcmRbIGkgXSA9IHBvaW50U2hhZG93TWF0cml4WyBpIF0gKiB3b3JsZFBvc2l0aW9uO1xcblxcdH1cXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ6XCJmbG9hdCBnZXRTaGFkb3dNYXNrKCkge1xcblxcdGZsb2F0IHNoYWRvdyA9IDEuMDtcXG5cXHQjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0RGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0O1xcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0ZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRzWyBpIF07XFxuXFx0XFx0c2hhZG93ICo9IGFsbCggYnZlYzIoIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7XFxuXFx0fVxcblxcdCNlbmRpZlxcblxcdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxcblxcdFNwb3RMaWdodCBzcG90TGlnaHQ7XFxuXFx0I3ByYWdtYSB1bnJvbGxfbG9vcFxcblxcdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XFxuXFx0XFx0c3BvdExpZ2h0ID0gc3BvdExpZ2h0c1sgaSBdO1xcblxcdFxcdHNoYWRvdyAqPSBhbGwoIGJ2ZWMyKCBzcG90TGlnaHQuc2hhZG93LCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHQuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0LnNoYWRvd0JpYXMsIHNwb3RMaWdodC5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xcblxcdH1cXG5cXHQjZW5kaWZcXG5cXHQjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXFxuXFx0UG9pbnRMaWdodCBwb2ludExpZ2h0O1xcblxcdCNwcmFnbWEgdW5yb2xsX2xvb3BcXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcXG5cXHRcXHRwb2ludExpZ2h0ID0gcG9pbnRMaWdodHNbIGkgXTtcXG5cXHRcXHRzaGFkb3cgKj0gYWxsKCBidmVjMiggcG9pbnRMaWdodC5zaGFkb3csIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0UG9pbnRTaGFkb3coIHBvaW50U2hhZG93TWFwWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93TWFwU2l6ZSwgcG9pbnRMaWdodC5zaGFkb3dCaWFzLCBwb2ludExpZ2h0LnNoYWRvd1JhZGl1cywgdlBvaW50U2hhZG93Q29vcmRbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFOZWFyLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYUZhciApIDogMS4wO1xcblxcdH1cXG5cXHQjZW5kaWZcXG5cXHQjZW5kaWZcXG5cXHRyZXR1cm4gc2hhZG93O1xcbn1cIixza2luYmFzZV92ZXJ0ZXg6XCIjaWZkZWYgVVNFX1NLSU5OSU5HXFxuXFx0bWF0NCBib25lTWF0WCA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC54ICk7XFxuXFx0bWF0NCBib25lTWF0WSA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC55ICk7XFxuXFx0bWF0NCBib25lTWF0WiA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC56ICk7XFxuXFx0bWF0NCBib25lTWF0VyA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC53ICk7XFxuI2VuZGlmXCIsc2tpbm5pbmdfcGFyc192ZXJ0ZXg6XCIjaWZkZWYgVVNFX1NLSU5OSU5HXFxuXFx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXg7XFxuXFx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXhJbnZlcnNlO1xcblxcdCNpZmRlZiBCT05FX1RFWFRVUkVcXG5cXHRcXHR1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBib25lVGV4dHVyZTtcXG5cXHRcXHR1bmlmb3JtIGludCBib25lVGV4dHVyZVNpemU7XFxuXFx0XFx0bWF0NCBnZXRCb25lTWF0cml4KCBjb25zdCBpbiBmbG9hdCBpICkge1xcblxcdFxcdFxcdGZsb2F0IGogPSBpICogNC4wO1xcblxcdFxcdFxcdGZsb2F0IHggPSBtb2QoIGosIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApO1xcblxcdFxcdFxcdGZsb2F0IHkgPSBmbG9vciggaiAvIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApO1xcblxcdFxcdFxcdGZsb2F0IGR4ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApO1xcblxcdFxcdFxcdGZsb2F0IGR5ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApO1xcblxcdFxcdFxcdHkgPSBkeSAqICggeSArIDAuNSApO1xcblxcdFxcdFxcdHZlYzQgdjEgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDAuNSApLCB5ICkgKTtcXG5cXHRcXHRcXHR2ZWM0IHYyID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAxLjUgKSwgeSApICk7XFxuXFx0XFx0XFx0dmVjNCB2MyA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMi41ICksIHkgKSApO1xcblxcdFxcdFxcdHZlYzQgdjQgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDMuNSApLCB5ICkgKTtcXG5cXHRcXHRcXHRtYXQ0IGJvbmUgPSBtYXQ0KCB2MSwgdjIsIHYzLCB2NCApO1xcblxcdFxcdFxcdHJldHVybiBib25lO1xcblxcdFxcdH1cXG5cXHQjZWxzZVxcblxcdFxcdHVuaWZvcm0gbWF0NCBib25lTWF0cmljZXNbIE1BWF9CT05FUyBdO1xcblxcdFxcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcXG5cXHRcXHRcXHRtYXQ0IGJvbmUgPSBib25lTWF0cmljZXNbIGludChpKSBdO1xcblxcdFxcdFxcdHJldHVybiBib25lO1xcblxcdFxcdH1cXG5cXHQjZW5kaWZcXG4jZW5kaWZcIixza2lubmluZ192ZXJ0ZXg6XCIjaWZkZWYgVVNFX1NLSU5OSU5HXFxuXFx0dmVjNCBza2luVmVydGV4ID0gYmluZE1hdHJpeCAqIHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcXG5cXHR2ZWM0IHNraW5uZWQgPSB2ZWM0KCAwLjAgKTtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRYICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueDtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRZICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueTtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRaICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQuejtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRXICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQudztcXG5cXHR0cmFuc2Zvcm1lZCA9ICggYmluZE1hdHJpeEludmVyc2UgKiBza2lubmVkICkueHl6O1xcbiNlbmRpZlwiLHNraW5ub3JtYWxfdmVydGV4OlwiI2lmZGVmIFVTRV9TS0lOTklOR1xcblxcdG1hdDQgc2tpbk1hdHJpeCA9IG1hdDQoIDAuMCApO1xcblxcdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC54ICogYm9uZU1hdFg7XFxuXFx0c2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LnkgKiBib25lTWF0WTtcXG5cXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueiAqIGJvbmVNYXRaO1xcblxcdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC53ICogYm9uZU1hdFc7XFxuXFx0c2tpbk1hdHJpeCAgPSBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5NYXRyaXggKiBiaW5kTWF0cml4O1xcblxcdG9iamVjdE5vcm1hbCA9IHZlYzQoIHNraW5NYXRyaXggKiB2ZWM0KCBvYmplY3ROb3JtYWwsIDAuMCApICkueHl6O1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdG9iamVjdFRhbmdlbnQgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXCIsc3BlY3VsYXJtYXBfZnJhZ21lbnQ6XCJmbG9hdCBzcGVjdWxhclN0cmVuZ3RoO1xcbiNpZmRlZiBVU0VfU1BFQ1VMQVJNQVBcXG5cXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTtcXG5cXHRzcGVjdWxhclN0cmVuZ3RoID0gdGV4ZWxTcGVjdWxhci5yO1xcbiNlbHNlXFxuXFx0c3BlY3VsYXJTdHJlbmd0aCA9IDEuMDtcXG4jZW5kaWZcIixzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50OlwiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwO1xcbiNlbmRpZlwiLHRvbmVtYXBwaW5nX2ZyYWdtZW50OlwiI2lmIGRlZmluZWQoIFRPTkVfTUFQUElORyApXFxuXFx0Z2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7XFxuI2VuZGlmXCIsdG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudDpcIiNpZm5kZWYgc2F0dXJhdGVcXG4jZGVmaW5lIHNhdHVyYXRlKGEpIGNsYW1wKCBhLCAwLjAsIDEuMCApXFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB0b25lTWFwcGluZ0V4cG9zdXJlO1xcbnVuaWZvcm0gZmxvYXQgdG9uZU1hcHBpbmdXaGl0ZVBvaW50O1xcbnZlYzMgTGluZWFyVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7XFxuXFx0cmV0dXJuIHRvbmVNYXBwaW5nRXhwb3N1cmUgKiBjb2xvcjtcXG59XFxudmVjMyBSZWluaGFyZFRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xcblxcdGNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmU7XFxuXFx0cmV0dXJuIHNhdHVyYXRlKCBjb2xvciAvICggdmVjMyggMS4wICkgKyBjb2xvciApICk7XFxufVxcbiNkZWZpbmUgVW5jaGFydGVkMkhlbHBlciggeCApIG1heCggKCAoIHggKiAoIDAuMTUgKiB4ICsgMC4xMCAqIDAuNTAgKSArIDAuMjAgKiAwLjAyICkgLyAoIHggKiAoIDAuMTUgKiB4ICsgMC41MCApICsgMC4yMCAqIDAuMzAgKSApIC0gMC4wMiAvIDAuMzAsIHZlYzMoIDAuMCApIClcXG52ZWMzIFVuY2hhcnRlZDJUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcXG5cXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xcblxcdHJldHVybiBzYXR1cmF0ZSggVW5jaGFydGVkMkhlbHBlciggY29sb3IgKSAvIFVuY2hhcnRlZDJIZWxwZXIoIHZlYzMoIHRvbmVNYXBwaW5nV2hpdGVQb2ludCApICkgKTtcXG59XFxudmVjMyBPcHRpbWl6ZWRDaW5lb25Ub25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcXG5cXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xcblxcdGNvbG9yID0gbWF4KCB2ZWMzKCAwLjAgKSwgY29sb3IgLSAwLjAwNCApO1xcblxcdHJldHVybiBwb3coICggY29sb3IgKiAoIDYuMiAqIGNvbG9yICsgMC41ICkgKSAvICggY29sb3IgKiAoIDYuMiAqIGNvbG9yICsgMS43ICkgKyAwLjA2ICksIHZlYzMoIDIuMiApICk7XFxufVxcbnZlYzMgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xcblxcdGNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmU7XFxuXFx0cmV0dXJuIHNhdHVyYXRlKCAoIGNvbG9yICogKCAyLjUxICogY29sb3IgKyAwLjAzICkgKSAvICggY29sb3IgKiAoIDIuNDMgKiBjb2xvciArIDAuNTkgKSArIDAuMTQgKSApO1xcbn1cIix1dl9wYXJzX2ZyYWdtZW50OlwiI2lmICggZGVmaW5lZCggVVNFX1VWICkgJiYgISBkZWZpbmVkKCBVVlNfVkVSVEVYX09OTFkgKSApXFxuXFx0dmFyeWluZyB2ZWMyIHZVdjtcXG4jZW5kaWZcIix1dl9wYXJzX3ZlcnRleDpcIiNpZmRlZiBVU0VfVVZcXG5cXHQjaWZkZWYgVVZTX1ZFUlRFWF9PTkxZXFxuXFx0XFx0dmVjMiB2VXY7XFxuXFx0I2Vsc2VcXG5cXHRcXHR2YXJ5aW5nIHZlYzIgdlV2O1xcblxcdCNlbmRpZlxcblxcdHVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcXG4jZW5kaWZcIix1dl92ZXJ0ZXg6XCIjaWZkZWYgVVNFX1VWXFxuXFx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcXG4jZW5kaWZcIix1djJfcGFyc19mcmFnbWVudDpcIiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxcblxcdHZhcnlpbmcgdmVjMiB2VXYyO1xcbiNlbmRpZlwiLHV2Ml9wYXJzX3ZlcnRleDpcIiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxcblxcdGF0dHJpYnV0ZSB2ZWMyIHV2MjtcXG5cXHR2YXJ5aW5nIHZlYzIgdlV2MjtcXG5cXHR1bmlmb3JtIG1hdDMgdXYyVHJhbnNmb3JtO1xcbiNlbmRpZlwiLHV2Ml92ZXJ0ZXg6XCIjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQIClcXG5cXHR2VXYyID0gKCB1djJUcmFuc2Zvcm0gKiB2ZWMzKCB1djIsIDEgKSApLnh5O1xcbiNlbmRpZlwiLHdvcmxkcG9zX3ZlcnRleDpcIiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgfHwgZGVmaW5lZCggRElTVEFOQ0UgKSB8fCBkZWZpbmVkICggVVNFX1NIQURPV01BUCApXFxuXFx0dmVjNCB3b3JsZFBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xcblxcdCNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xcblxcdFxcdHdvcmxkUG9zaXRpb24gPSBpbnN0YW5jZU1hdHJpeCAqIHdvcmxkUG9zaXRpb247XFxuXFx0I2VuZGlmXFxuXFx0d29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogd29ybGRQb3NpdGlvbjtcXG4jZW5kaWZcIixiYWNrZ3JvdW5kX2ZyYWc6XCJ1bmlmb3JtIHNhbXBsZXIyRCB0MkQ7XFxudmFyeWluZyB2ZWMyIHZVdjtcXG52b2lkIG1haW4oKSB7XFxuXFx0dmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCggdDJELCB2VXYgKTtcXG5cXHRnbF9GcmFnQ29sb3IgPSBtYXBUZXhlbFRvTGluZWFyKCB0ZXhDb2xvciApO1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50Plxcbn1cIixiYWNrZ3JvdW5kX3ZlcnQ6XCJ2YXJ5aW5nIHZlYzIgdlV2O1xcbnVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcXG52b2lkIG1haW4oKSB7XFxuXFx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcXG5cXHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLnh5LCAxLjAsIDEuMCApO1xcbn1cIixjdWJlX2ZyYWc6XCIjaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdHZlYzMgdlJlZmxlY3QgPSB2V29ybGREaXJlY3Rpb247XFxuXFx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cXG5cXHRnbF9GcmFnQ29sb3IgPSBlbnZDb2xvcjtcXG5cXHRnbF9GcmFnQ29sb3IuYSAqPSBvcGFjaXR5O1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50Plxcbn1cIixjdWJlX3ZlcnQ6XCJ2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjb21tb24+XFxudm9pZCBtYWluKCkge1xcblxcdHZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7XFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0Z2xfUG9zaXRpb24ueiA9IGdsX1Bvc2l0aW9uLnc7XFxufVwiLGRlcHRoX2ZyYWc6XCIjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwXFxuXFx0dW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHBhY2tpbmc+XFxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApO1xcblxcdCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcXG5cXHRcXHRkaWZmdXNlQ29sb3IuYSA9IG9wYWNpdHk7XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMFxcblxcdFxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIHZlYzMoIDEuMCAtIGdsX0ZyYWdDb29yZC56ICksIG9wYWNpdHkgKTtcXG5cXHQjZWxpZiBERVBUSF9QQUNLSU5HID09IDMyMDFcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSBwYWNrRGVwdGhUb1JHQkEoIGdsX0ZyYWdDb29yZC56ICk7XFxuXFx0I2VuZGlmXFxufVwiLGRlcHRoX3ZlcnQ6XCIjaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxcblxcdFxcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0XFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cXG5cXHRcXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XFxufVwiLGRpc3RhbmNlUkdCQV9mcmFnOlwiI2RlZmluZSBESVNUQU5DRVxcbnVuaWZvcm0gdmVjMyByZWZlcmVuY2VQb3NpdGlvbjtcXG51bmlmb3JtIGZsb2F0IG5lYXJEaXN0YW5jZTtcXG51bmlmb3JtIGZsb2F0IGZhckRpc3RhbmNlO1xcbnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluICgpIHtcXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggMS4wICk7XFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHRmbG9hdCBkaXN0ID0gbGVuZ3RoKCB2V29ybGRQb3NpdGlvbiAtIHJlZmVyZW5jZVBvc2l0aW9uICk7XFxuXFx0ZGlzdCA9ICggZGlzdCAtIG5lYXJEaXN0YW5jZSApIC8gKCBmYXJEaXN0YW5jZSAtIG5lYXJEaXN0YW5jZSApO1xcblxcdGRpc3QgPSBzYXR1cmF0ZSggZGlzdCApO1xcblxcdGdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZGlzdCApO1xcbn1cIixkaXN0YW5jZVJHQkFfdmVydDpcIiNkZWZpbmUgRElTVEFOQ0VcXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxcblxcdFxcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0XFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cXG5cXHRcXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XFxuXFx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcXG59XCIsZXF1aXJlY3RfZnJhZzpcInVuaWZvcm0gc2FtcGxlcjJEIHRFcXVpcmVjdDtcXG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xcbiNpbmNsdWRlIDxjb21tb24+XFxudm9pZCBtYWluKCkge1xcblxcdHZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTtcXG5cXHR2ZWMyIHNhbXBsZVVWO1xcblxcdHNhbXBsZVVWLnkgPSBhc2luKCBjbGFtcCggZGlyZWN0aW9uLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcXG5cXHRzYW1wbGVVVi54ID0gYXRhbiggZGlyZWN0aW9uLnosIGRpcmVjdGlvbi54ICkgKiBSRUNJUFJPQ0FMX1BJMiArIDAuNTtcXG5cXHR2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKCB0RXF1aXJlY3QsIHNhbXBsZVVWICk7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4Q29sb3IgKTtcXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG59XCIsZXF1aXJlY3RfdmVydDpcInZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG52b2lkIG1haW4oKSB7XFxuXFx0dldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTtcXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG59XCIsbGluZWRhc2hlZF9mcmFnOlwidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbnVuaWZvcm0gZmxvYXQgZGFzaFNpemU7XFxudW5pZm9ybSBmbG9hdCB0b3RhbFNpemU7XFxudmFyeWluZyBmbG9hdCB2TGluZURpc3RhbmNlO1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHRpZiAoIG1vZCggdkxpbmVEaXN0YW5jZSwgdG90YWxTaXplICkgPiBkYXNoU2l6ZSApIHtcXG5cXHRcXHRkaXNjYXJkO1xcblxcdH1cXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTtcXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG59XCIsbGluZWRhc2hlZF92ZXJ0OlwidW5pZm9ybSBmbG9hdCBzY2FsZTtcXG5hdHRyaWJ1dGUgZmxvYXQgbGluZURpc3RhbmNlO1xcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcdHZMaW5lRGlzdGFuY2UgPSBzY2FsZSAqIGxpbmVEaXN0YW5jZTtcXG5cXHR2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxuXFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixtZXNoYmFzaWNfZnJhZzpcInVuaWZvcm0gdmVjMyBkaWZmdXNlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuI2VuZGlmXFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PlxcblxcdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XFxuXFx0I2lmZGVmIFVTRV9MSUdIVE1BUFxcblxcdFxcblxcdFxcdHZlYzQgbGlnaHRNYXBUZXhlbD0gdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApO1xcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBsaWdodE1hcFRleGVsVG9MaW5lYXIoIGxpZ2h0TWFwVGV4ZWwgKS5yZ2IgKiBsaWdodE1hcEludGVuc2l0eTtcXG5cXHQjZWxzZVxcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2ZWMzKCAxLjAgKTtcXG5cXHQjZW5kaWZcXG5cXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XFxuXFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGRpZmZ1c2VDb2xvci5yZ2I7XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlO1xcblxcdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50Plxcbn1cIixtZXNoYmFzaWNfdmVydDpcIiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx1djJfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaWZkZWYgVVNFX0VOVk1BUFxcblxcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcblxcdCNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwiLG1lc2hsYW1iZXJ0X2ZyYWc6XCJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDtcXG52YXJ5aW5nIHZlYzMgdkluZGlyZWN0RnJvbnQ7XFxuI2lmZGVmIERPVUJMRV9TSURFRFxcblxcdHZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrO1xcblxcdHZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrO1xcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHBhY2tpbmc+XFxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcXG5cXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSA9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7XFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2SW5kaXJlY3RGcm9udCA6IHZJbmRpcmVjdEJhY2s7XFxuXFx0I2Vsc2VcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gdkluZGlyZWN0RnJvbnQ7XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGxpZ2h0bWFwX2ZyYWdtZW50PlxcblxcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0RpZmZ1c2VfTGFtYmVydCggZGlmZnVzZUNvbG9yLnJnYiApO1xcblxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXHRcXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlID0gKCBnbF9Gcm9udEZhY2luZyApID8gdkxpZ2h0RnJvbnQgOiB2TGlnaHRCYWNrO1xcblxcdCNlbHNlXFxuXFx0XFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSA9IHZMaWdodEZyb250O1xcblxcdCNlbmRpZlxcblxcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKj0gQlJERl9EaWZmdXNlX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKSAqIGdldFNoYWRvd01hc2soKTtcXG5cXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTtcXG5cXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Plxcbn1cIixtZXNobGFtYmVydF92ZXJ0OlwiI2RlZmluZSBMQU1CRVJUXFxudmFyeWluZyB2ZWMzIHZMaWdodEZyb250O1xcbnZhcnlpbmcgdmVjMyB2SW5kaXJlY3RGcm9udDtcXG4jaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZMaWdodEJhY2s7XFxuXFx0dmFyeWluZyB2ZWMzIHZJbmRpcmVjdEJhY2s7XFxuI2VuZGlmXFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxic2Rmcz5cXG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx1djJfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfbGFtYmVydF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwiLG1lc2htYXRjYXBfZnJhZzpcIiNkZWZpbmUgTUFUQ0FQXFxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hdGNhcDtcXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuI2VuZGlmXFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cXG5cXHR2ZWMzIHZpZXdEaXIgPSBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcXG5cXHR2ZWMzIHggPSBub3JtYWxpemUoIHZlYzMoIHZpZXdEaXIueiwgMC4wLCAtIHZpZXdEaXIueCApICk7XFxuXFx0dmVjMyB5ID0gY3Jvc3MoIHZpZXdEaXIsIHggKTtcXG5cXHR2ZWMyIHV2ID0gdmVjMiggZG90KCB4LCBub3JtYWwgKSwgZG90KCB5LCBub3JtYWwgKSApICogMC40OTUgKyAwLjU7XFxuXFx0I2lmZGVmIFVTRV9NQVRDQVBcXG5cXHRcXHR2ZWM0IG1hdGNhcENvbG9yID0gdGV4dHVyZTJEKCBtYXRjYXAsIHV2ICk7XFxuXFx0XFx0bWF0Y2FwQ29sb3IgPSBtYXRjYXBUZXhlbFRvTGluZWFyKCBtYXRjYXBDb2xvciApO1xcblxcdCNlbHNlXFxuXFx0XFx0dmVjNCBtYXRjYXBDb2xvciA9IHZlYzQoIDEuMCApO1xcblxcdCNlbmRpZlxcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2IgKiBtYXRjYXBDb2xvci5yZ2I7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50Plxcbn1cIixtZXNobWF0Y2FwX3ZlcnQ6XCIjZGVmaW5lIE1BVENBUFxcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcblxcdCNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHRcXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcblxcdCNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxcblxcdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xcbn1cIixcbm1lc2h0b29uX2ZyYWc6XCIjZGVmaW5lIFRPT05cXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XFxudW5pZm9ybSB2ZWMzIHNwZWN1bGFyO1xcbnVuaWZvcm0gZmxvYXQgc2hpbmluZXNzO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcXG5cXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XFxuXFx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfdG9vbl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD5cXG5cXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cXG59XCIsbWVzaHRvb25fdmVydDpcIiNkZWZpbmUgVE9PTlxcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4jZW5kaWZcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx1djJfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dk5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcXG4jZW5kaWZcXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixtZXNocGhvbmdfZnJhZzpcIiNkZWZpbmUgUEhPTkdcXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XFxudW5pZm9ybSB2ZWMzIHNwZWN1bGFyO1xcbnVuaWZvcm0gZmxvYXQgc2hpbmluZXNzO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxic2Rmcz5cXG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XFxuI2luY2x1ZGUgPGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcXG5cXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XFxuXFx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfcGhvbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+XFxuXFx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XFxuXFx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xcblxcdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cXG59XCIsbWVzaHBob25nX3ZlcnQ6XCIjZGVmaW5lIFBIT05HXFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XFxuI2VuZGlmXFxuXFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XFxuXFx0dlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XFxuXFx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cXG59XCIsbWVzaHBoeXNpY2FsX2ZyYWc6XCIjZGVmaW5lIFNUQU5EQVJEXFxuI2lmZGVmIFBIWVNJQ0FMXFxuXFx0I2RlZmluZSBSRUZMRUNUSVZJVFlcXG5cXHQjZGVmaW5lIENMRUFSQ09BVFxcblxcdCNkZWZpbmUgVFJBTlNQQVJFTkNZXFxuI2VuZGlmXFxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xcbnVuaWZvcm0gZmxvYXQgcm91Z2huZXNzO1xcbnVuaWZvcm0gZmxvYXQgbWV0YWxuZXNzO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4jaWZkZWYgVFJBTlNQQVJFTkNZXFxuXFx0dW5pZm9ybSBmbG9hdCB0cmFuc3BhcmVuY3k7XFxuI2VuZGlmXFxuI2lmZGVmIFJFRkxFQ1RJVklUWVxcblxcdHVuaWZvcm0gZmxvYXQgcmVmbGVjdGl2aXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBDTEVBUkNPQVRcXG5cXHR1bmlmb3JtIGZsb2F0IGNsZWFyY29hdDtcXG5cXHR1bmlmb3JtIGZsb2F0IGNsZWFyY29hdFJvdWdobmVzcztcXG4jZW5kaWZcXG4jaWZkZWYgVVNFX1NIRUVOXFxuXFx0dW5pZm9ybSB2ZWMzIHNoZWVuO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXHQjaWZkZWYgVVNFX1RBTkdFTlRcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdlRhbmdlbnQ7XFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZCaXRhbmdlbnQ7XFxuXFx0I2VuZGlmXFxuI2VuZGlmXFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8cGFja2luZz5cXG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cXG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGNsZWFyY29hdF9ub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcXG5cXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xcblxcdHZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG1ldGFsbmVzc21hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxcblxcdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cXG5cXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPlxcblxcdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+XFxuXFx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9tYXBzPlxcblxcdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxcblxcdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xcblxcdCNpZmRlZiBUUkFOU1BBUkVOQ1lcXG5cXHRcXHRkaWZmdXNlQ29sb3IuYSAqPSBzYXR1cmF0ZSggMS4gLSB0cmFuc3BhcmVuY3kgKyBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKSApO1xcblxcdCNlbmRpZlxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxuXFx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50Plxcbn1cIixtZXNocGh5c2ljYWxfdmVydDpcIiNkZWZpbmUgU1RBTkRBUkRcXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFx0I2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdHZUYW5nZW50ID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZFRhbmdlbnQgKTtcXG5cXHRcXHR2Qml0YW5nZW50ID0gbm9ybWFsaXplKCBjcm9zcyggdk5vcm1hbCwgdlRhbmdlbnQgKSAqIHRhbmdlbnQudyApO1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcblxcdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwiLG5vcm1hbF9mcmFnOlwiI2RlZmluZSBOT1JNQUxcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcXG5cXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jZW5kaWZcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFx0I2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cXG5cXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggcGFja05vcm1hbFRvUkdCKCBub3JtYWwgKSwgb3BhY2l0eSApO1xcbn1cIixub3JtYWxfdmVydDpcIiNkZWZpbmUgTk9STUFMXFxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcXG5cXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG4jZW5kaWZcXG4jaWZuZGVmIEZMQVRfU0hBREVEXFxuXFx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFx0I2lmZGVmIFVTRV9UQU5HRU5UXFxuXFx0XFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xcblxcdFxcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG52b2lkIG1haW4oKSB7XFxuXFx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xcblxcdCNpZmRlZiBVU0VfVEFOR0VOVFxcblxcdFxcdHZUYW5nZW50ID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZFRhbmdlbnQgKTtcXG5cXHRcXHR2Qml0YW5nZW50ID0gbm9ybWFsaXplKCBjcm9zcyggdk5vcm1hbCwgdlRhbmdlbnQgKSAqIHRhbmdlbnQudyApO1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxcbiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXFxuXFx0dlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XFxuI2VuZGlmXFxufVwiLHBvaW50c19mcmFnOlwidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxtYXBfcGFydGljbGVfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuXFx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG5cXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50Plxcbn1cIixwb2ludHNfdmVydDpcInVuaWZvcm0gZmxvYXQgc2l6ZTtcXG51bmlmb3JtIGZsb2F0IHNjYWxlO1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0Z2xfUG9pbnRTaXplID0gc2l6ZTtcXG5cXHQjaWZkZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxcblxcdFxcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcXG5cXHRcXHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBnbF9Qb2ludFNpemUgKj0gKCBzY2FsZSAvIC0gbXZQb3NpdGlvbi56ICk7XFxuXFx0I2VuZGlmXFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cIixzaGFkb3dfZnJhZzpcInVuaWZvcm0gdmVjMyBjb2xvcjtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxuI2luY2x1ZGUgPGNvbW1vbj5cXG4jaW5jbHVkZSA8cGFja2luZz5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPGJzZGZzPlxcbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cXG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD5cXG52b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IsIG9wYWNpdHkgKiAoIDEuMCAtIGdldFNoYWRvd01hc2soKSApICk7XFxuXFx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG59XCIsc2hhZG93X3ZlcnQ6XCIjaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwiLHNwcml0ZV9mcmFnOlwidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XFxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XFxudm9pZCBtYWluKCkge1xcblxcdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuXFx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XFxuXFx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxcblxcdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuXFx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG5cXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cXG5cXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50Plxcbn1cIixzcHJpdGVfdmVydDpcInVuaWZvcm0gZmxvYXQgcm90YXRpb247XFxudW5pZm9ybSB2ZWMyIGNlbnRlcjtcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxcbnZvaWQgbWFpbigpIHtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApO1xcblxcdHZlYzIgc2NhbGU7XFxuXFx0c2NhbGUueCA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDAgXS54LCBtb2RlbE1hdHJpeFsgMCBdLnksIG1vZGVsTWF0cml4WyAwIF0ueiApICk7XFxuXFx0c2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54LCBtb2RlbE1hdHJpeFsgMSBdLnksIG1vZGVsTWF0cml4WyAxIF0ueiApICk7XFxuXFx0I2lmbmRlZiBVU0VfU0laRUFUVEVOVUFUSU9OXFxuXFx0XFx0Ym9vbCBpc1BlcnNwZWN0aXZlID0gaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApO1xcblxcdFxcdGlmICggaXNQZXJzcGVjdGl2ZSApIHNjYWxlICo9IC0gbXZQb3NpdGlvbi56O1xcblxcdCNlbmRpZlxcblxcdHZlYzIgYWxpZ25lZFBvc2l0aW9uID0gKCBwb3NpdGlvbi54eSAtICggY2VudGVyIC0gdmVjMiggMC41ICkgKSApICogc2NhbGU7XFxuXFx0dmVjMiByb3RhdGVkUG9zaXRpb247XFxuXFx0cm90YXRlZFBvc2l0aW9uLnggPSBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueCAtIHNpbiggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi55O1xcblxcdHJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcXG5cXHRtdlBvc2l0aW9uLnh5ICs9IHJvdGF0ZWRQb3NpdGlvbjtcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xcblxcdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxufVwifSxzdT17Y29tbW9uOntkaWZmdXNlOnt2YWx1ZTpuZXcgdygxNTY1ODczNCl9LG9wYWNpdHk6e3ZhbHVlOjF9LG1hcDp7dmFsdWU6bnVsbH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyBhfSx1djJUcmFuc2Zvcm06e3ZhbHVlOm5ldyBhfSxhbHBoYU1hcDp7dmFsdWU6bnVsbH19LHNwZWN1bGFybWFwOntzcGVjdWxhck1hcDp7dmFsdWU6bnVsbH19LGVudm1hcDp7ZW52TWFwOnt2YWx1ZTpudWxsfSxmbGlwRW52TWFwOnt2YWx1ZTotMX0scmVmbGVjdGl2aXR5Ont2YWx1ZToxfSxyZWZyYWN0aW9uUmF0aW86e3ZhbHVlOi45OH0sbWF4TWlwTGV2ZWw6e3ZhbHVlOjB9fSxhb21hcDp7YW9NYXA6e3ZhbHVlOm51bGx9LGFvTWFwSW50ZW5zaXR5Ont2YWx1ZToxfX0sbGlnaHRtYXA6e2xpZ2h0TWFwOnt2YWx1ZTpudWxsfSxsaWdodE1hcEludGVuc2l0eTp7dmFsdWU6MX19LGVtaXNzaXZlbWFwOntlbWlzc2l2ZU1hcDp7dmFsdWU6bnVsbH19LGJ1bXBtYXA6e2J1bXBNYXA6e3ZhbHVlOm51bGx9LGJ1bXBTY2FsZTp7dmFsdWU6MX19LG5vcm1hbG1hcDp7bm9ybWFsTWFwOnt2YWx1ZTpudWxsfSxub3JtYWxTY2FsZTp7dmFsdWU6bmV3IG4oMSwxKX19LGRpc3BsYWNlbWVudG1hcDp7ZGlzcGxhY2VtZW50TWFwOnt2YWx1ZTpudWxsfSxkaXNwbGFjZW1lbnRTY2FsZTp7dmFsdWU6MX0sZGlzcGxhY2VtZW50Qmlhczp7dmFsdWU6MH19LHJvdWdobmVzc21hcDp7cm91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfX0sbWV0YWxuZXNzbWFwOnttZXRhbG5lc3NNYXA6e3ZhbHVlOm51bGx9fSxncmFkaWVudG1hcDp7Z3JhZGllbnRNYXA6e3ZhbHVlOm51bGx9fSxmb2c6e2ZvZ0RlbnNpdHk6e3ZhbHVlOjI1ZS01fSxmb2dOZWFyOnt2YWx1ZToxfSxmb2dGYXI6e3ZhbHVlOjJlM30sZm9nQ29sb3I6e3ZhbHVlOm5ldyB3KDE2Nzc3MjE1KX19LGxpZ2h0czp7YW1iaWVudExpZ2h0Q29sb3I6e3ZhbHVlOltdfSxsaWdodFByb2JlOnt2YWx1ZTpbXX0sZGlyZWN0aW9uYWxMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2RpcmVjdGlvbjp7fSxjb2xvcjp7fSxzaGFkb3c6e30sc2hhZG93Qmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LGRpcmVjdGlvbmFsU2hhZG93TWFwOnt2YWx1ZTpbXX0sZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxzcG90TGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSxkaXJlY3Rpb246e30sZGlzdGFuY2U6e30sY29uZUNvczp7fSxwZW51bWJyYUNvczp7fSxkZWNheTp7fSxzaGFkb3c6e30sc2hhZG93Qmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LHNwb3RTaGFkb3dNYXA6e3ZhbHVlOltdfSxzcG90U2hhZG93TWF0cml4Ont2YWx1ZTpbXX0scG9pbnRMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRlY2F5Ont9LGRpc3RhbmNlOnt9LHNoYWRvdzp7fSxzaGFkb3dCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9LHNoYWRvd0NhbWVyYU5lYXI6e30sc2hhZG93Q2FtZXJhRmFyOnt9fX0scG9pbnRTaGFkb3dNYXA6e3ZhbHVlOltdfSxwb2ludFNoYWRvd01hdHJpeDp7dmFsdWU6W119LGhlbWlzcGhlcmVMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2RpcmVjdGlvbjp7fSxza3lDb2xvcjp7fSxncm91bmRDb2xvcjp7fX19LHJlY3RBcmVhTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSx3aWR0aDp7fSxoZWlnaHQ6e319fX0scG9pbnRzOntkaWZmdXNlOnt2YWx1ZTpuZXcgdygxNTY1ODczNCl9LG9wYWNpdHk6e3ZhbHVlOjF9LHNpemU6e3ZhbHVlOjF9LHNjYWxlOnt2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IGF9fSxzcHJpdGU6e2RpZmZ1c2U6e3ZhbHVlOm5ldyB3KDE1NjU4NzM0KX0sb3BhY2l0eTp7dmFsdWU6MX0sY2VudGVyOnt2YWx1ZTpuZXcgbiguNSwuNSl9LHJvdGF0aW9uOnt2YWx1ZTowfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IGF9fX0sY3U9e2Jhc2ljOnt1bmlmb3JtczpxKFtzdS5jb21tb24sc3Uuc3BlY3VsYXJtYXAsc3UuZW52bWFwLHN1LmFvbWFwLHN1LmxpZ2h0bWFwLHN1LmZvZ10pLHZlcnRleFNoYWRlcjpvdS5tZXNoYmFzaWNfdmVydCxmcmFnbWVudFNoYWRlcjpvdS5tZXNoYmFzaWNfZnJhZ30sbGFtYmVydDp7dW5pZm9ybXM6cShbc3UuY29tbW9uLHN1LnNwZWN1bGFybWFwLHN1LmVudm1hcCxzdS5hb21hcCxzdS5saWdodG1hcCxzdS5lbWlzc2l2ZW1hcCxzdS5mb2csc3UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IHcoMCl9fV0pLHZlcnRleFNoYWRlcjpvdS5tZXNobGFtYmVydF92ZXJ0LGZyYWdtZW50U2hhZGVyOm91Lm1lc2hsYW1iZXJ0X2ZyYWd9LHBob25nOnt1bmlmb3JtczpxKFtzdS5jb21tb24sc3Uuc3BlY3VsYXJtYXAsc3UuZW52bWFwLHN1LmFvbWFwLHN1LmxpZ2h0bWFwLHN1LmVtaXNzaXZlbWFwLHN1LmJ1bXBtYXAsc3Uubm9ybWFsbWFwLHN1LmRpc3BsYWNlbWVudG1hcCxzdS5mb2csc3UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IHcoMCl9LHNwZWN1bGFyOnt2YWx1ZTpuZXcgdygxMTE4NDgxKX0sc2hpbmluZXNzOnt2YWx1ZTozMH19XSksdmVydGV4U2hhZGVyOm91Lm1lc2hwaG9uZ192ZXJ0LGZyYWdtZW50U2hhZGVyOm91Lm1lc2hwaG9uZ19mcmFnfSxzdGFuZGFyZDp7dW5pZm9ybXM6cShbc3UuY29tbW9uLHN1LmVudm1hcCxzdS5hb21hcCxzdS5saWdodG1hcCxzdS5lbWlzc2l2ZW1hcCxzdS5idW1wbWFwLHN1Lm5vcm1hbG1hcCxzdS5kaXNwbGFjZW1lbnRtYXAsc3Uucm91Z2huZXNzbWFwLHN1Lm1ldGFsbmVzc21hcCxzdS5mb2csc3UubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IHcoMCl9LHJvdWdobmVzczp7dmFsdWU6LjV9LG1ldGFsbmVzczp7dmFsdWU6LjV9LGVudk1hcEludGVuc2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOm91Lm1lc2hwaHlzaWNhbF92ZXJ0LGZyYWdtZW50U2hhZGVyOm91Lm1lc2hwaHlzaWNhbF9mcmFnfSx0b29uOnt1bmlmb3JtczpxKFtzdS5jb21tb24sc3Uuc3BlY3VsYXJtYXAsc3UuYW9tYXAsc3UubGlnaHRtYXAsc3UuZW1pc3NpdmVtYXAsc3UuYnVtcG1hcCxzdS5ub3JtYWxtYXAsc3UuZGlzcGxhY2VtZW50bWFwLHN1LmdyYWRpZW50bWFwLHN1LmZvZyxzdS5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgdygwKX0sc3BlY3VsYXI6e3ZhbHVlOm5ldyB3KDExMTg0ODEpfSxzaGluaW5lc3M6e3ZhbHVlOjMwfX1dKSx2ZXJ0ZXhTaGFkZXI6b3UubWVzaHRvb25fdmVydCxmcmFnbWVudFNoYWRlcjpvdS5tZXNodG9vbl9mcmFnfSxtYXRjYXA6e3VuaWZvcm1zOnEoW3N1LmNvbW1vbixzdS5idW1wbWFwLHN1Lm5vcm1hbG1hcCxzdS5kaXNwbGFjZW1lbnRtYXAsc3UuZm9nLHttYXRjYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpvdS5tZXNobWF0Y2FwX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3UubWVzaG1hdGNhcF9mcmFnfSxwb2ludHM6e3VuaWZvcm1zOnEoW3N1LnBvaW50cyxzdS5mb2ddKSx2ZXJ0ZXhTaGFkZXI6b3UucG9pbnRzX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3UucG9pbnRzX2ZyYWd9LGRhc2hlZDp7dW5pZm9ybXM6cShbc3UuY29tbW9uLHN1LmZvZyx7c2NhbGU6e3ZhbHVlOjF9LGRhc2hTaXplOnt2YWx1ZToxfSx0b3RhbFNpemU6e3ZhbHVlOjJ9fV0pLHZlcnRleFNoYWRlcjpvdS5saW5lZGFzaGVkX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3UubGluZWRhc2hlZF9mcmFnfSxkZXB0aDp7dW5pZm9ybXM6cShbc3UuY29tbW9uLHN1LmRpc3BsYWNlbWVudG1hcF0pLHZlcnRleFNoYWRlcjpvdS5kZXB0aF92ZXJ0LGZyYWdtZW50U2hhZGVyOm91LmRlcHRoX2ZyYWd9LG5vcm1hbDp7dW5pZm9ybXM6cShbc3UuY29tbW9uLHN1LmJ1bXBtYXAsc3Uubm9ybWFsbWFwLHN1LmRpc3BsYWNlbWVudG1hcCx7b3BhY2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOm91Lm5vcm1hbF92ZXJ0LGZyYWdtZW50U2hhZGVyOm91Lm5vcm1hbF9mcmFnfSxzcHJpdGU6e3VuaWZvcm1zOnEoW3N1LnNwcml0ZSxzdS5mb2ddKSx2ZXJ0ZXhTaGFkZXI6b3Uuc3ByaXRlX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3Uuc3ByaXRlX2ZyYWd9LGJhY2tncm91bmQ6e3VuaWZvcm1zOnt1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IGF9LHQyRDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpvdS5iYWNrZ3JvdW5kX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3UuYmFja2dyb3VuZF9mcmFnfSxjdWJlOnt1bmlmb3JtczpxKFtzdS5lbnZtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpvdS5jdWJlX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3UuY3ViZV9mcmFnfSxlcXVpcmVjdDp7dW5pZm9ybXM6e3RFcXVpcmVjdDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpvdS5lcXVpcmVjdF92ZXJ0LGZyYWdtZW50U2hhZGVyOm91LmVxdWlyZWN0X2ZyYWd9LGRpc3RhbmNlUkdCQTp7dW5pZm9ybXM6cShbc3UuY29tbW9uLHN1LmRpc3BsYWNlbWVudG1hcCx7cmVmZXJlbmNlUG9zaXRpb246e3ZhbHVlOm5ldyBpfSxuZWFyRGlzdGFuY2U6e3ZhbHVlOjF9LGZhckRpc3RhbmNlOnt2YWx1ZToxZTN9fV0pLHZlcnRleFNoYWRlcjpvdS5kaXN0YW5jZVJHQkFfdmVydCxmcmFnbWVudFNoYWRlcjpvdS5kaXN0YW5jZVJHQkFfZnJhZ30sc2hhZG93Ont1bmlmb3JtczpxKFtzdS5saWdodHMsc3UuZm9nLHtjb2xvcjp7dmFsdWU6bmV3IHcoMCl9LG9wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpvdS5zaGFkb3dfdmVydCxmcmFnbWVudFNoYWRlcjpvdS5zaGFkb3dfZnJhZ319O2N1LnBoeXNpY2FsPXt1bmlmb3JtczpxKFtjdS5zdGFuZGFyZC51bmlmb3Jtcyx7dHJhbnNwYXJlbmN5Ont2YWx1ZTowfSxjbGVhcmNvYXQ6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzczp7dmFsdWU6MH0sc2hlZW46e3ZhbHVlOm5ldyB3KDApfSxjbGVhcmNvYXROb3JtYWxTY2FsZTp7dmFsdWU6bmV3IG4oMSwxKX0sY2xlYXJjb2F0Tm9ybWFsTWFwOnt2YWx1ZTpudWxsfX1dKSx2ZXJ0ZXhTaGFkZXI6b3UubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6b3UubWVzaHBoeXNpY2FsX2ZyYWd9LG5lLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxuZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bmUscmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRy5wcm90b3R5cGUpLHJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yZSxtZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSksbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW1lLG1lLnByb3RvdHlwZS5pc0N1YmVUZXh0dXJlPSEwLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZS5wcm90b3R5cGUsXCJpbWFnZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2V9LHNldDpmdW5jdGlvbihlKXt0aGlzLmltYWdlPWV9fSksdmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHZlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj12ZSx2ZS5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZTJEQXJyYXk9ITAsZ2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGdlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1nZSxnZS5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZTNEPSEwO3ZhciBsdT1uZXcgbyxodT1uZXcgdmUsdXU9bmV3IGdlLHB1PW5ldyBtZSxkdT1bXSxmdT1bXSxtdT1uZXcgRmxvYXQzMkFycmF5KDE2KSx2dT1uZXcgRmxvYXQzMkFycmF5KDkpLGd1PW5ldyBGbG9hdDMyQXJyYXkoNCk7JGUucHJvdG90eXBlLnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2FjaGU7ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmdC5sZW5ndGghPT1lLmxlbmd0aCYmKHRoaXMuY2FjaGU9bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCkpLGJlKHQsZSl9LGV0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPXRoaXMuc2VxLGk9MCxhPXIubGVuZ3RoO2khPT1hOysraSl7dmFyIG89cltpXTtvLnNldFZhbHVlKGUsdFtvLmlkXSxuKX19O3ZhciB5dT0vKFtcXHdcXGRfXSspKFxcXSk/KFxcW3xcXC4pPy9nO3J0LnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLm1hcFt0XTt2b2lkIDAhPT1pJiZpLnNldFZhbHVlKGUsbixyKX0scnQucHJvdG90eXBlLnNldE9wdGlvbmFsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10W25dO3ZvaWQgMCE9PXImJnRoaXMuc2V0VmFsdWUoZSxuLHIpfSxydC51cGxvYWQ9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPTAsYT10Lmxlbmd0aDtpIT09YTsrK2kpe3ZhciBvPXRbaV0scz1uW28uaWRdOyExIT09cy5uZWVkc1VwZGF0ZSYmby5zZXRWYWx1ZShlLHMudmFsdWUscil9fSxydC5zZXFXaXRoVmFsdWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wLGk9ZS5sZW5ndGg7ciE9PWk7KytyKXt2YXIgYT1lW3JdO2EuaWQgaW4gdCYmbi5wdXNoKGEpfXJldHVybiBufTt2YXIgeHU9MCxidT0vXlsgXFx0XSojaW5jbHVkZSArPChbXFx3XFxkLlxcL10rKT4vZ20sd3U9LyNwcmFnbWEgdW5yb2xsX2xvb3BbXFxzXSs/Zm9yIFxcKCBpbnQgaSBcXD0gKFxcZCspXFw7IGkgPCAoXFxkKylcXDsgaSBcXCtcXCsgXFwpIFxceyhbXFxzXFxTXSs/KSg/PVxcfSlcXH0vZyxfdT0wO1V0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxVdC5wcm90b3R5cGUuY29uc3RydWN0b3I9VXQsVXQucHJvdG90eXBlLmlzTWVzaERlcHRoTWF0ZXJpYWw9ITAsVXQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuZGVwdGhQYWNraW5nPWUuZGVwdGhQYWNraW5nLHRoaXMuc2tpbm5pbmc9ZS5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsdGhpc30sRnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRS5wcm90b3R5cGUpLEZ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1GdCxGdC5wcm90b3R5cGUuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD0hMCxGdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtyZXR1cm4gRS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5yZWZlcmVuY2VQb3NpdGlvbi5jb3B5KGUucmVmZXJlbmNlUG9zaXRpb24pLHRoaXMubmVhckRpc3RhbmNlPWUubmVhckRpc3RhbmNlLHRoaXMuZmFyRGlzdGFuY2U9ZS5mYXJEaXN0YW5jZSx0aGlzLnNraW5uaW5nPWUuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9ZS5tb3JwaFRhcmdldHMsdGhpcy5tYXA9ZS5tYXAsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXN9O3ZhciBNdT1cInVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd19wYXNzO1xcbnVuaWZvcm0gdmVjMiByZXNvbHV0aW9uO1xcbnVuaWZvcm0gZmxvYXQgcmFkaXVzO1xcbiNpbmNsdWRlIDxwYWNraW5nPlxcbnZvaWQgbWFpbigpIHtcXG4gIGZsb2F0IG1lYW4gPSAwLjA7XFxuICBmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7XFxuXFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgICkgLyByZXNvbHV0aW9uICkgKTtcXG4gIGZvciAoIGZsb2F0IGkgPSAtMS4wOyBpIDwgMS4wIDsgaSArPSBTQU1QTEVfUkFURSkge1xcbiAgICAjaWZkZWYgSE9SSVpPTkFMX1BBU1NcXG4gICAgICB2ZWMyIGRpc3RyaWJ1dGlvbiA9IHVucGFjazJIYWxmVG9SR0JBICggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKyB2ZWMyKCBpLCAwLjAgKSAqIHJhZGl1cyApIC8gcmVzb2x1dGlvbiApICk7XFxuICAgICAgbWVhbiArPSBkaXN0cmlidXRpb24ueDtcXG4gICAgICBzcXVhcmVkX21lYW4gKz0gZGlzdHJpYnV0aW9uLnkgKiBkaXN0cmlidXRpb24ueSArIGRpc3RyaWJ1dGlvbi54ICogZGlzdHJpYnV0aW9uLng7XFxuICAgICNlbHNlXFxuICAgICAgZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKyB2ZWMyKCAwLjAsICBpICkgICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTtcXG4gICAgICBtZWFuICs9IGRlcHRoO1xcbiAgICAgIHNxdWFyZWRfbWVhbiArPSBkZXB0aCAqIGRlcHRoO1xcbiAgICAjZW5kaWZcXG4gIH1cXG4gIG1lYW4gPSBtZWFuICogSEFMRl9TQU1QTEVfUkFURTtcXG4gIHNxdWFyZWRfbWVhbiA9IHNxdWFyZWRfbWVhbiAqIEhBTEZfU0FNUExFX1JBVEU7XFxuICBmbG9hdCBzdGRfZGV2ID0gc3FydCggc3F1YXJlZF9tZWFuIC0gbWVhbiAqIG1lYW4gKTtcXG4gIGdsX0ZyYWdDb2xvciA9IHBhY2sySGFsZlRvUkdCQSggdmVjMiggbWVhbiwgc3RkX2RldiApICk7XFxufVwiLFN1PVwidm9pZCBtYWluKCkge1xcblxcdGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cIjtrdC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6a3QsaXNXZWJHTE11bHRpdmlld1JlbmRlclRhcmdldDohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBjLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLm51bVZpZXdzPWUubnVtVmlld3MsdGhpc30sc2V0TnVtVmlld3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubnVtVmlld3MhPT1lJiYodGhpcy5udW1WaWV3cz1lLHRoaXMuZGlzcG9zZSgpKSx0aGlzfX0pLHF0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpxdCxpc0dyb3VwOiEwfSksWHQucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShaLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlh0LGlzQXJyYXlDYW1lcmE6ITB9KTt2YXIgVHU9bmV3IGksRXU9bmV3IGk7T2JqZWN0LmFzc2lnbihadC5wcm90b3R5cGUsdC5wcm90b3R5cGUpLE9iamVjdC5hc3NpZ24oSnQucHJvdG90eXBlLHQucHJvdG90eXBlKSxPYmplY3QuYXNzaWduKEt0LnByb3RvdHlwZSx7aXNGb2dFeHAyOiEwLGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLdCh0aGlzLmNvbG9yLHRoaXMuZGVuc2l0eSl9LHRvSlNPTjpmdW5jdGlvbigpe3JldHVybnt0eXBlOlwiRm9nRXhwMlwiLGNvbG9yOnRoaXMuY29sb3IuZ2V0SGV4KCksZGVuc2l0eTp0aGlzLmRlbnNpdHl9fX0pLE9iamVjdC5hc3NpZ24oJHQucHJvdG90eXBlLHtpc0ZvZzohMCxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgJHQodGhpcy5jb2xvcix0aGlzLm5lYXIsdGhpcy5mYXIpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkZvZ1wiLGNvbG9yOnRoaXMuY29sb3IuZ2V0SGV4KCksbmVhcjp0aGlzLm5lYXIsZmFyOnRoaXMuZmFyfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZW4ucHJvdG90eXBlLFwibmVlZHNVcGRhdGVcIix7c2V0OmZ1bmN0aW9uKGUpeyEwPT09ZSYmdGhpcy52ZXJzaW9uKyt9fSksT2JqZWN0LmFzc2lnbihlbi5wcm90b3R5cGUse2lzSW50ZXJsZWF2ZWRCdWZmZXI6ITAsb25VcGxvYWRDYWxsYmFjazpmdW5jdGlvbigpe30sc2V0VXNhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXNhZ2U9ZSx0aGlzfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFycmF5PW5ldyBlLmFycmF5LmNvbnN0cnVjdG9yKGUuYXJyYXkpLHRoaXMuY291bnQ9ZS5jb3VudCx0aGlzLnN0cmlkZT1lLnN0cmlkZSx0aGlzLnVzYWdlPWUudXNhZ2UsdGhpc30sY29weUF0OmZ1bmN0aW9uKGUsdCxuKXtlKj10aGlzLnN0cmlkZSxuKj10LnN0cmlkZTtmb3IodmFyIHI9MCxpPXRoaXMuc3RyaWRlO3I8aTtyKyspdGhpcy5hcnJheVtlK3JdPXQuYXJyYXlbbityXTtyZXR1cm4gdGhpc30sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHRoaXMuYXJyYXkuc2V0KGUsdCksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LG9uVXBsb2FkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9ZSx0aGlzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRuLnByb3RvdHlwZSx7Y291bnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuY291bnR9fSxhcnJheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheX19fSksT2JqZWN0LmFzc2lnbih0bi5wcm90b3R5cGUse2lzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU6ITAsc2V0WDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XT10LHRoaXN9LHNldFk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsxXT10LHRoaXN9LHNldFo6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXT10LHRoaXN9LHNldFc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2UqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXT10LHRoaXN9LGdldFg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtlKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXRdfSxnZXRZOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzFdfSxnZXRaOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzJdfSxnZXRXOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzNdfSxzZXRYWTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09bix0aGlzfSxzZXRYWVo6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGU9ZSp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVtlKzBdPXQsdGhpcy5kYXRhLmFycmF5W2UrMV09bix0aGlzLmRhdGEuYXJyYXlbZSsyXT1yLHRoaXN9LHNldFhZWlc6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gZT1lKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQsdGhpcy5kYXRhLmFycmF5W2UrMF09dCx0aGlzLmRhdGEuYXJyYXlbZSsxXT1uLHRoaXMuZGF0YS5hcnJheVtlKzJdPXIsdGhpcy5kYXRhLmFycmF5W2UrM109aSx0aGlzfX0pLG5uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxubi5wcm90b3R5cGUuY29uc3RydWN0b3I9bm4sbm4ucHJvdG90eXBlLmlzU3ByaXRlTWF0ZXJpYWw9ITAsbm4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5yb3RhdGlvbj1lLnJvdGF0aW9uLHRoaXMuc2l6ZUF0dGVudWF0aW9uPWUuc2l6ZUF0dGVudWF0aW9uLHRoaXN9O3ZhciBBdSxMdT1uZXcgaSxSdT1uZXcgaSxQdT1uZXcgaSxDdT1uZXcgbixPdT1uZXcgbixEdT1uZXcgaCxJdT1uZXcgaSxOdT1uZXcgaSx6dT1uZXcgaSxCdT1uZXcgbixVdT1uZXcgbixGdT1uZXcgbjtybi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6cm4saXNTcHJpdGU6ITAscmF5Y2FzdDpmdW5jdGlvbihlLHQpe251bGw9PT1lLmNhbWVyYSYmY29uc29sZS5lcnJvcignVEhSRUUuU3ByaXRlOiBcIlJheWNhc3Rlci5jYW1lcmFcIiBuZWVkcyB0byBiZSBzZXQgaW4gb3JkZXIgdG8gcmF5Y2FzdCBhZ2FpbnN0IHNwcml0ZXMuJyksUnUuc2V0RnJvbU1hdHJpeFNjYWxlKHRoaXMubWF0cml4V29ybGQpLER1LmNvcHkoZS5jYW1lcmEubWF0cml4V29ybGQpLHRoaXMubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoZS5jYW1lcmEubWF0cml4V29ybGRJbnZlcnNlLHRoaXMubWF0cml4V29ybGQpLFB1LnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1vZGVsVmlld01hdHJpeCksZS5jYW1lcmEuaXNQZXJzcGVjdGl2ZUNhbWVyYSYmITE9PT10aGlzLm1hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiYmUnUubXVsdGlwbHlTY2FsYXIoLVB1LnopO3ZhciByLGksYT10aGlzLm1hdGVyaWFsLnJvdGF0aW9uOzAhPT1hJiYoaT1NYXRoLmNvcyhhKSxyPU1hdGguc2luKGEpKTt2YXIgbz10aGlzLmNlbnRlcjthbihJdS5zZXQoLS41LC0uNSwwKSxQdSxvLFJ1LHIsaSksYW4oTnUuc2V0KC41LC0uNSwwKSxQdSxvLFJ1LHIsaSksYW4oenUuc2V0KC41LC41LDApLFB1LG8sUnUscixpKSxCdS5zZXQoMCwwKSxVdS5zZXQoMSwwKSxGdS5zZXQoMSwxKTt2YXIgcz1lLnJheS5pbnRlcnNlY3RUcmlhbmdsZShJdSxOdSx6dSwhMSxMdSk7aWYobnVsbCE9PXN8fChhbihOdS5zZXQoLS41LC41LDApLFB1LG8sUnUscixpKSxVdS5zZXQoMCwxKSxudWxsIT09KHM9ZS5yYXkuaW50ZXJzZWN0VHJpYW5nbGUoSXUsenUsTnUsITEsTHUpKSkpe3ZhciBjPWUucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKEx1KTtjPGUubmVhcnx8Yz5lLmZhcnx8dC5wdXNoKHtkaXN0YW5jZTpjLHBvaW50Okx1LmNsb25lKCksdXY6Yi5nZXRVVihMdSxJdSxOdSx6dSxCdSxVdSxGdSxuZXcgbiksZmFjZTpudWxsLG9iamVjdDp0aGlzfSl9fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm1hdGVyaWFsKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBkLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx2b2lkIDAhPT1lLmNlbnRlciYmdGhpcy5jZW50ZXIuY29weShlLmNlbnRlciksdGhpc319KTt2YXIgR3U9bmV3IGksSHU9bmV3IGk7b24ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOm9uLGlzTE9EOiEwLGNvcHk6ZnVuY3Rpb24oZSl7ZC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSwhMSk7Zm9yKHZhciB0PWUubGV2ZWxzLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBpPXRbbl07dGhpcy5hZGRMZXZlbChpLm9iamVjdC5jbG9uZSgpLGkuZGlzdGFuY2UpfXJldHVybiB0aGlzLmF1dG9VcGRhdGU9ZS5hdXRvVXBkYXRlLHRoaXN9LGFkZExldmVsOmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9MCksdD1NYXRoLmFicyh0KTtmb3IodmFyIG49dGhpcy5sZXZlbHMscj0wO3I8bi5sZW5ndGgmJiEodDxuW3JdLmRpc3RhbmNlKTtyKyspO3JldHVybiBuLnNwbGljZShyLDAse2Rpc3RhbmNlOnQsb2JqZWN0OmV9KSx0aGlzLmFkZChlKSx0aGlzfSxnZXRPYmplY3RGb3JEaXN0YW5jZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxldmVscztpZih0Lmxlbmd0aD4wKXtmb3IodmFyIG49MSxyPXQubGVuZ3RoO248ciYmIShlPHRbbl0uZGlzdGFuY2UpO24rKyk7cmV0dXJuIHRbbi0xXS5vYmplY3R9cmV0dXJuIG51bGx9LHJheWNhc3Q6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmxldmVscy5sZW5ndGg+MCl7R3Uuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO3ZhciBuPWUucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKEd1KTt0aGlzLmdldE9iamVjdEZvckRpc3RhbmNlKG4pLnJheWNhc3QoZSx0KX19LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxldmVscztpZih0Lmxlbmd0aD4xKXtHdS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksSHUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO3ZhciBuPUd1LmRpc3RhbmNlVG8oSHUpO3RbMF0ub2JqZWN0LnZpc2libGU9ITA7Zm9yKHZhciByPTEsaT10Lmxlbmd0aDtyPGkmJm4+PXRbcl0uZGlzdGFuY2U7cisrKXRbci0xXS5vYmplY3QudmlzaWJsZT0hMSx0W3JdLm9iamVjdC52aXNpYmxlPSEwO2Zvcig7cjxpO3IrKyl0W3JdLm9iamVjdC52aXNpYmxlPSExfX0sdG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0PWQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSk7ITE9PT10aGlzLmF1dG9VcGRhdGUmJih0Lm9iamVjdC5hdXRvVXBkYXRlPSExKSx0Lm9iamVjdC5sZXZlbHM9W107Zm9yKHZhciBuPXRoaXMubGV2ZWxzLHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspe3ZhciBhPW5bcl07dC5vYmplY3QubGV2ZWxzLnB1c2goe29iamVjdDphLm9iamVjdC51dWlkLGRpc3RhbmNlOmEuZGlzdGFuY2V9KX1yZXR1cm4gdH19KSxzbi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEgucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6c24saXNTa2lubmVkTWVzaDohMCxiaW5kOmZ1bmN0aW9uKGUsdCl7dGhpcy5za2VsZXRvbj1lLHZvaWQgMD09PXQmJih0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSx0aGlzLnNrZWxldG9uLmNhbGN1bGF0ZUludmVyc2VzKCksdD10aGlzLm1hdHJpeFdvcmxkKSx0aGlzLmJpbmRNYXRyaXguY29weSh0KSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodCl9LHBvc2U6ZnVuY3Rpb24oKXt0aGlzLnNrZWxldG9uLnBvc2UoKX0sbm9ybWFsaXplU2tpbldlaWdodHM6ZnVuY3Rpb24oKXtcbmZvcih2YXIgZT1uZXcgcyx0PXRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0LG49MCxyPXQuY291bnQ7bjxyO24rKyl7ZS54PXQuZ2V0WChuKSxlLnk9dC5nZXRZKG4pLGUuej10LmdldFoobiksZS53PXQuZ2V0VyhuKTt2YXIgaT0xL2UubWFuaGF0dGFuTGVuZ3RoKCk7aSE9PTEvMD9lLm11bHRpcGx5U2NhbGFyKGkpOmUuc2V0KDEsMCwwLDApLHQuc2V0WFlaVyhuLGUueCxlLnksZS56LGUudyl9fSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbihlKXtILnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSksXCJhdHRhY2hlZFwiPT09dGhpcy5iaW5kTW9kZT90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCk6XCJkZXRhY2hlZFwiPT09dGhpcy5iaW5kTW9kZT90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5iaW5kTWF0cml4KTpjb25zb2xlLndhcm4oXCJUSFJFRS5Ta2lubmVkTWVzaDogVW5yZWNvZ25pemVkIGJpbmRNb2RlOiBcIit0aGlzLmJpbmRNb2RlKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsKS5jb3B5KHRoaXMpfX0pO3ZhciBWdT1uZXcgaCxqdT1uZXcgaDtPYmplY3QuYXNzaWduKGNuLnByb3RvdHlwZSx7Y2FsY3VsYXRlSW52ZXJzZXM6ZnVuY3Rpb24oKXt0aGlzLmJvbmVJbnZlcnNlcz1bXTtmb3IodmFyIGU9MCx0PXRoaXMuYm9uZXMubGVuZ3RoO2U8dDtlKyspe3ZhciBuPW5ldyBoO3RoaXMuYm9uZXNbZV0mJm4uZ2V0SW52ZXJzZSh0aGlzLmJvbmVzW2VdLm1hdHJpeFdvcmxkKSx0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKG4pfX0scG9zZTpmdW5jdGlvbigpe3ZhciBlLHQsbjtmb3IodD0wLG49dGhpcy5ib25lcy5sZW5ndGg7dDxuO3QrKykoZT10aGlzLmJvbmVzW3RdKSYmZS5tYXRyaXhXb3JsZC5nZXRJbnZlcnNlKHRoaXMuYm9uZUludmVyc2VzW3RdKTtmb3IodD0wLG49dGhpcy5ib25lcy5sZW5ndGg7dDxuO3QrKykoZT10aGlzLmJvbmVzW3RdKSYmKGUucGFyZW50JiZlLnBhcmVudC5pc0JvbmU/KGUubWF0cml4LmdldEludmVyc2UoZS5wYXJlbnQubWF0cml4V29ybGQpLGUubWF0cml4Lm11bHRpcGx5KGUubWF0cml4V29ybGQpKTplLm1hdHJpeC5jb3B5KGUubWF0cml4V29ybGQpLGUubWF0cml4LmRlY29tcG9zZShlLnBvc2l0aW9uLGUucXVhdGVybmlvbixlLnNjYWxlKSl9LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJvbmVzLHQ9dGhpcy5ib25lSW52ZXJzZXMsbj10aGlzLmJvbmVNYXRyaWNlcyxyPXRoaXMuYm9uZVRleHR1cmUsaT0wLGE9ZS5sZW5ndGg7aTxhO2krKyl7dmFyIG89ZVtpXT9lW2ldLm1hdHJpeFdvcmxkOmp1O1Z1Lm11bHRpcGx5TWF0cmljZXMobyx0W2ldKSxWdS50b0FycmF5KG4sMTYqaSl9dm9pZCAwIT09ciYmKHIubmVlZHNVcGRhdGU9ITApfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgY24odGhpcy5ib25lcyx0aGlzLmJvbmVJbnZlcnNlcyl9LGdldEJvbmVCeU5hbWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmJvbmVzLmxlbmd0aDt0PG47dCsrKXt2YXIgcj10aGlzLmJvbmVzW3RdO2lmKHIubmFtZT09PWUpcmV0dXJuIHJ9fX0pLGxuLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjpsbixpc0JvbmU6ITB9KTt2YXIga3U9bmV3IGgsV3U9bmV3IGgscXU9W10sWHU9bmV3IEg7aG4ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShILnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmhuLGlzSW5zdGFuY2VkTWVzaDohMCxnZXRNYXRyaXhBdDpmdW5jdGlvbihlLHQpe3QuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksMTYqZSl9LHJheWNhc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1hdHJpeFdvcmxkLHI9dGhpcy5jb3VudDtpZihYdS5nZW9tZXRyeT10aGlzLmdlb21ldHJ5LFh1Lm1hdGVyaWFsPXRoaXMubWF0ZXJpYWwsdm9pZCAwIT09WHUubWF0ZXJpYWwpZm9yKHZhciBpPTA7aTxyO2krKyl0aGlzLmdldE1hdHJpeEF0KGksa3UpLFd1Lm11bHRpcGx5TWF0cmljZXMobixrdSksWHUubWF0cml4V29ybGQ9V3UsWHUucmF5Y2FzdChlLHF1KSxxdS5sZW5ndGg+MCYmKHF1WzBdLmluc3RhbmNlSWQ9aSxxdVswXS5vYmplY3Q9dGhpcyx0LnB1c2gocXVbMF0pLHF1Lmxlbmd0aD0wKX0sc2V0TWF0cml4QXQ6ZnVuY3Rpb24oZSx0KXt0LnRvQXJyYXkodGhpcy5pbnN0YW5jZU1hdHJpeC5hcnJheSwxNiplKX0sdXBkYXRlTW9ycGhUYXJnZXRzOmZ1bmN0aW9uKCl7fX0pLHVuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSx1bi5wcm90b3R5cGUuY29uc3RydWN0b3I9dW4sdW4ucHJvdG90eXBlLmlzTGluZUJhc2ljTWF0ZXJpYWw9ITAsdW4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLmxpbmV3aWR0aD1lLmxpbmV3aWR0aCx0aGlzLmxpbmVjYXA9ZS5saW5lY2FwLHRoaXMubGluZWpvaW49ZS5saW5lam9pbix0aGlzfTt2YXIgWXU9bmV3IGksWnU9bmV3IGksSnU9bmV3IGgsUXU9bmV3IHksS3U9bmV3IGc7cG4ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnBuLGlzTGluZTohMCxjb21wdXRlTGluZURpc3RhbmNlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2VvbWV0cnk7aWYoZS5pc0J1ZmZlckdlb21ldHJ5KWlmKG51bGw9PT1lLmluZGV4KXtmb3IodmFyIHQ9ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uLG49WzBdLHI9MSxpPXQuY291bnQ7cjxpO3IrKylZdS5mcm9tQnVmZmVyQXR0cmlidXRlKHQsci0xKSxadS5mcm9tQnVmZmVyQXR0cmlidXRlKHQsciksbltyXT1uW3ItMV0sbltyXSs9WXUuZGlzdGFuY2VUbyhadSk7ZS5zZXRBdHRyaWJ1dGUoXCJsaW5lRGlzdGFuY2VcIixuZXcgeihuLDEpKX1lbHNlIGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LlwiKTtlbHNlIGlmKGUuaXNHZW9tZXRyeSl7dmFyIGE9ZS52ZXJ0aWNlcyxuPWUubGluZURpc3RhbmNlcztuWzBdPTA7Zm9yKHZhciByPTEsaT1hLmxlbmd0aDtyPGk7cisrKW5bcl09bltyLTFdLG5bcl0rPWFbci0xXS5kaXN0YW5jZVRvKGFbcl0pfXJldHVybiB0aGlzfSxyYXljYXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5saW5lUHJlY2lzaW9uLHI9dGhpcy5nZW9tZXRyeSxhPXRoaXMubWF0cml4V29ybGQ7aWYobnVsbD09PXIuYm91bmRpbmdTcGhlcmUmJnIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksS3UuY29weShyLmJvdW5kaW5nU3BoZXJlKSxLdS5hcHBseU1hdHJpeDQoYSksS3UucmFkaXVzKz1uLCExIT09ZS5yYXkuaW50ZXJzZWN0c1NwaGVyZShLdSkpe0p1LmdldEludmVyc2UoYSksUXUuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KEp1KTt2YXIgbz1uLygodGhpcy5zY2FsZS54K3RoaXMuc2NhbGUueSt0aGlzLnNjYWxlLnopLzMpLHM9bypvLGM9bmV3IGksbD1uZXcgaSxoPW5ldyBpLHU9bmV3IGkscD10aGlzJiZ0aGlzLmlzTGluZVNlZ21lbnRzPzI6MTtpZihyLmlzQnVmZmVyR2VvbWV0cnkpe3ZhciBkPXIuaW5kZXgsZj1yLmF0dHJpYnV0ZXMsbT1mLnBvc2l0aW9uLmFycmF5O2lmKG51bGwhPT1kKWZvcih2YXIgdj1kLmFycmF5LGc9MCx5PXYubGVuZ3RoLTE7Zzx5O2crPXApe3ZhciB4PXZbZ10sYj12W2crMV07Yy5mcm9tQXJyYXkobSwzKngpLGwuZnJvbUFycmF5KG0sMypiKTt2YXIgdz1RdS5kaXN0YW5jZVNxVG9TZWdtZW50KGMsbCx1LGgpO2lmKCEodz5zKSl7dS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7dmFyIF89ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8odSk7XzxlLm5lYXJ8fF8+ZS5mYXJ8fHQucHVzaCh7ZGlzdGFuY2U6Xyxwb2ludDpoLmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLGluZGV4OmcsZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSl9fWVsc2UgZm9yKHZhciBnPTAseT1tLmxlbmd0aC8zLTE7Zzx5O2crPXApe2MuZnJvbUFycmF5KG0sMypnKSxsLmZyb21BcnJheShtLDMqZyszKTt2YXIgdz1RdS5kaXN0YW5jZVNxVG9TZWdtZW50KGMsbCx1LGgpO2lmKCEodz5zKSl7dS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7dmFyIF89ZS5yYXkub3JpZ2luLmRpc3RhbmNlVG8odSk7XzxlLm5lYXJ8fF8+ZS5mYXJ8fHQucHVzaCh7ZGlzdGFuY2U6Xyxwb2ludDpoLmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLGluZGV4OmcsZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSl9fX1lbHNlIGlmKHIuaXNHZW9tZXRyeSlmb3IodmFyIE09ci52ZXJ0aWNlcyxTPU0ubGVuZ3RoLGc9MDtnPFMtMTtnKz1wKXt2YXIgdz1RdS5kaXN0YW5jZVNxVG9TZWdtZW50KE1bZ10sTVtnKzFdLHUsaCk7aWYoISh3PnMpKXt1LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTt2YXIgXz1lLnJheS5vcmlnaW4uZGlzdGFuY2VUbyh1KTtfPGUubmVhcnx8Xz5lLmZhcnx8dC5wdXNoKHtkaXN0YW5jZTpfLHBvaW50OmguY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6ZyxmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KX19fX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsKS5jb3B5KHRoaXMpfX0pO3ZhciAkdT1uZXcgaSxlcD1uZXcgaTtkbi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHBuLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmRuLGlzTGluZVNlZ21lbnRzOiEwLGNvbXB1dGVMaW5lRGlzdGFuY2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZW9tZXRyeTtpZihlLmlzQnVmZmVyR2VvbWV0cnkpaWYobnVsbD09PWUuaW5kZXgpe2Zvcih2YXIgdD1lLmF0dHJpYnV0ZXMucG9zaXRpb24sbj1bXSxyPTAsaT10LmNvdW50O3I8aTtyKz0yKSR1LmZyb21CdWZmZXJBdHRyaWJ1dGUodCxyKSxlcC5mcm9tQnVmZmVyQXR0cmlidXRlKHQscisxKSxuW3JdPTA9PT1yPzA6bltyLTFdLG5bcisxXT1uW3JdKyR1LmRpc3RhbmNlVG8oZXApO2Uuc2V0QXR0cmlidXRlKFwibGluZURpc3RhbmNlXCIsbmV3IHoobiwxKSl9ZWxzZSBjb25zb2xlLndhcm4oXCJUSFJFRS5MaW5lU2VnbWVudHMuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LlwiKTtlbHNlIGlmKGUuaXNHZW9tZXRyeSlmb3IodmFyIGE9ZS52ZXJ0aWNlcyxuPWUubGluZURpc3RhbmNlcyxyPTAsaT1hLmxlbmd0aDtyPGk7cis9MikkdS5jb3B5KGFbcl0pLGVwLmNvcHkoYVtyKzFdKSxuW3JdPTA9PT1yPzA6bltyLTFdLG5bcisxXT1uW3JdKyR1LmRpc3RhbmNlVG8oZXApO3JldHVybiB0aGlzfX0pLGZuLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUocG4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Zm4saXNMaW5lTG9vcDohMH0pLG1uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxtbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bW4sbW4ucHJvdG90eXBlLmlzUG9pbnRzTWF0ZXJpYWw9ITAsbW4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy5zaXplPWUuc2l6ZSx0aGlzLnNpemVBdHRlbnVhdGlvbj1lLnNpemVBdHRlbnVhdGlvbix0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzfTt2YXIgdHA9bmV3IGgsbnA9bmV3IHkscnA9bmV3IGcsaXA9bmV3IGk7dm4ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnZuLGlzUG9pbnRzOiEwLHJheWNhc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdlb21ldHJ5LHI9dGhpcy5tYXRyaXhXb3JsZCxpPWUucGFyYW1zLlBvaW50cy50aHJlc2hvbGQ7aWYobnVsbD09PW4uYm91bmRpbmdTcGhlcmUmJm4uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCkscnAuY29weShuLmJvdW5kaW5nU3BoZXJlKSxycC5hcHBseU1hdHJpeDQocikscnAucmFkaXVzKz1pLCExIT09ZS5yYXkuaW50ZXJzZWN0c1NwaGVyZShycCkpe3RwLmdldEludmVyc2UociksbnAuY29weShlLnJheSkuYXBwbHlNYXRyaXg0KHRwKTt2YXIgYT1pLygodGhpcy5zY2FsZS54K3RoaXMuc2NhbGUueSt0aGlzLnNjYWxlLnopLzMpLG89YSphO2lmKG4uaXNCdWZmZXJHZW9tZXRyeSl7dmFyIHM9bi5pbmRleCxjPW4uYXR0cmlidXRlcyxsPWMucG9zaXRpb24uYXJyYXk7aWYobnVsbCE9PXMpZm9yKHZhciBoPXMuYXJyYXksdT0wLHA9aC5sZW5ndGg7dTxwO3UrKyl7dmFyIGQ9aFt1XTtpcC5mcm9tQXJyYXkobCwzKmQpLGduKGlwLGQsbyxyLGUsdCx0aGlzKX1lbHNlIGZvcih2YXIgdT0wLGY9bC5sZW5ndGgvMzt1PGY7dSsrKWlwLmZyb21BcnJheShsLDMqdSksZ24oaXAsdSxvLHIsZSx0LHRoaXMpfWVsc2UgZm9yKHZhciBtPW4udmVydGljZXMsdT0wLGY9bS5sZW5ndGg7dTxmO3UrKylnbihtW3VdLHUsbyxyLGUsdCx0aGlzKX19LHVwZGF0ZU1vcnBoVGFyZ2V0czpmdW5jdGlvbigpe3ZhciBlLHQsbixyPXRoaXMuZ2VvbWV0cnk7aWYoci5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgaT1yLm1vcnBoQXR0cmlidXRlcyxhPU9iamVjdC5rZXlzKGkpO2lmKGEubGVuZ3RoPjApe3ZhciBvPWlbYVswXV07aWYodm9pZCAwIT09bylmb3IodGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9W10sdGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9e30sZT0wLHQ9by5sZW5ndGg7ZTx0O2UrKyluPW9bZV0ubmFtZXx8U3RyaW5nKGUpLHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnB1c2goMCksdGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnlbbl09ZX19ZWxzZXt2YXIgcz1yLm1vcnBoVGFyZ2V0czt2b2lkIDAhPT1zJiZzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuUG9pbnRzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLlwiKX19LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2VvbWV0cnksdGhpcy5tYXRlcmlhbCkuY29weSh0aGlzKX19KSx5bi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6eW4saXNWaWRlb1RleHR1cmU6ITAsdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbWFnZTtlLnJlYWR5U3RhdGU+PWUuSEFWRV9DVVJSRU5UX0RBVEEmJih0aGlzLm5lZWRzVXBkYXRlPSEwKX19KSx4bi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkseG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPXhuLHhuLnByb3RvdHlwZS5pc0NvbXByZXNzZWRUZXh0dXJlPSEwLGJuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxibi5wcm90b3R5cGUuY29uc3RydWN0b3I9Ym4sYm4ucHJvdG90eXBlLmlzQ2FudmFzVGV4dHVyZT0hMCx3bi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSksd24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPXduLHduLnByb3RvdHlwZS5pc0RlcHRoVGV4dHVyZT0hMCxfbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHLnByb3RvdHlwZSksX24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPV9uLE1uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxNbi5wcm90b3R5cGUuY29uc3RydWN0b3I9TW4sU24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRy5wcm90b3R5cGUpLFNuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TbixUbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSksVG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRuLEVuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcucHJvdG90eXBlKSxFbi5wcm90b3R5cGUuY29uc3RydWN0b3I9RW4sQW4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLEFuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1BbixMbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFbi5wcm90b3R5cGUpLExuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1MbixSbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSksUm4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVJuLFBuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVuLnByb3RvdHlwZSksUG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVBuLENuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxDbi5wcm90b3R5cGUuY29uc3RydWN0b3I9Q24sT24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRW4ucHJvdG90eXBlKSxPbi5wcm90b3R5cGUuY29uc3RydWN0b3I9T24sRG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLERuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1EbixJbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFbi5wcm90b3R5cGUpLEluLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1JbixObi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSksTm4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPU5uLHpuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcucHJvdG90eXBlKSx6bi5wcm90b3R5cGUuY29uc3RydWN0b3I9em4sem4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPUcucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBlLnBhdGg9dGhpcy5wYXJhbWV0ZXJzLnBhdGgudG9KU09OKCksZX0sQm4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLEJuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1CbixVbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHLnByb3RvdHlwZSksVW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVVuLEZuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxGbi5wcm90b3R5cGUuY29uc3RydWN0b3I9Rm4sR24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRy5wcm90b3R5cGUpLEduLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Hbjt2YXIgYXA9e3RyaWFuZ3VsYXRlOmZ1bmN0aW9uKGUsdCxuKXtuPW58fDI7dmFyIHI9dCYmdC5sZW5ndGgsaT1yP3RbMF0qbjplLmxlbmd0aCxhPUhuKGUsMCxpLG4sITApLG89W107aWYoIWF8fGEubmV4dD09PWEucHJldilyZXR1cm4gbzt2YXIgcyxjLGwsaCx1LHAsZDtpZihyJiYoYT1ZbihlLHQsYSxuKSksZS5sZW5ndGg+ODAqbil7cz1sPWVbMF0sYz1oPWVbMV07Zm9yKHZhciBmPW47ZjxpO2YrPW4pdT1lW2ZdLHA9ZVtmKzFdLHU8cyYmKHM9dSkscDxjJiYoYz1wKSx1PmwmJihsPXUpLHA+aCYmKGg9cCk7ZD1NYXRoLm1heChsLXMsaC1jKSxkPTAhPT1kPzEvZDowfXJldHVybiBqbihhLG8sbixzLGMsZCksb319LG9wPXthcmVhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxuPTAscj10LTEsaT0wO2k8dDtyPWkrKyluKz1lW3JdLngqZVtpXS55LWVbaV0ueCplW3JdLnk7cmV0dXJuLjUqbn0saXNDbG9ja1dpc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG9wLmFyZWEoZSk8MH0sdHJpYW5ndWxhdGVTaGFwZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9W10saT1bXTttcihlKSx2cihuLGUpO3ZhciBhPWUubGVuZ3RoO3QuZm9yRWFjaChtcik7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspci5wdXNoKGEpLGErPXRbb10ubGVuZ3RoLHZyKG4sdFtvXSk7Zm9yKHZhciBzPWFwLnRyaWFuZ3VsYXRlKG4sciksbz0wO288cy5sZW5ndGg7bys9MylpLnB1c2gocy5zbGljZShvLG8rMykpO3JldHVybiBpfX07Z3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLGdyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ncixnci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9ay5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIHhyKHRoaXMucGFyYW1ldGVycy5zaGFwZXMsdGhpcy5wYXJhbWV0ZXJzLm9wdGlvbnMsZSl9LHlyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcucHJvdG90eXBlKSx5ci5wcm90b3R5cGUuY29uc3RydWN0b3I9eXIseXIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPUcucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB4cih0aGlzLnBhcmFtZXRlcnMuc2hhcGVzLHRoaXMucGFyYW1ldGVycy5vcHRpb25zLGUpfTt2YXIgc3A9e2dlbmVyYXRlVG9wVVY6ZnVuY3Rpb24oZSx0LHIsaSxhKXt2YXIgbz10WzMqcl0scz10WzMqcisxXSxjPXRbMyppXSxsPXRbMyppKzFdLGg9dFszKmFdLHU9dFszKmErMV07cmV0dXJuW25ldyBuKG8scyksbmV3IG4oYyxsKSxuZXcgbihoLHUpXX0sZ2VuZXJhdGVTaWRlV2FsbFVWOmZ1bmN0aW9uKGUsdCxyLGksYSxvKXt2YXIgcz10WzMqcl0sYz10WzMqcisxXSxsPXRbMypyKzJdLGg9dFszKmldLHU9dFszKmkrMV0scD10WzMqaSsyXSxkPXRbMyphXSxmPXRbMyphKzFdLG09dFszKmErMl0sdj10WzMqb10sZz10WzMqbysxXSx5PXRbMypvKzJdO3JldHVybiBNYXRoLmFicyhjLXUpPC4wMT9bbmV3IG4ocywxLWwpLG5ldyBuKGgsMS1wKSxuZXcgbihkLDEtbSksbmV3IG4odiwxLXkpXTpbbmV3IG4oYywxLWwpLG5ldyBuKHUsMS1wKSxuZXcgbihmLDEtbSksbmV3IG4oZywxLXkpXX19O2JyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxici5wcm90b3R5cGUuY29uc3RydWN0b3I9YnIsd3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeXIucHJvdG90eXBlKSx3ci5wcm90b3R5cGUuY29uc3RydWN0b3I9d3IsX3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLF9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1fcixNci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHLnByb3RvdHlwZSksTXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPU1yLFNyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxTci5wcm90b3R5cGUuY29uc3RydWN0b3I9U3IsVHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRy5wcm90b3R5cGUpLFRyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UcixFci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSksRXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPUVyLEFyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcucHJvdG90eXBlKSxBci5wcm90b3R5cGUuY29uc3RydWN0b3I9QXIsTHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoay5wcm90b3R5cGUpLExyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1McixMci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9ay5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIFByKHRoaXMucGFyYW1ldGVycy5zaGFwZXMsZSl9LFJyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcucHJvdG90eXBlKSxSci5wcm90b3R5cGUuY29uc3RydWN0b3I9UnIsUnIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPUcucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBQcih0aGlzLnBhcmFtZXRlcnMuc2hhcGVzLGUpfSxDci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShHLnByb3RvdHlwZSksQ3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPUNyLE9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxPci5wcm90b3R5cGUuY29uc3RydWN0b3I9T3IsRHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRy5wcm90b3R5cGUpLERyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1EcixJci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShPci5wcm90b3R5cGUpLElyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1JcixOci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShEci5wcm90b3R5cGUpLE5yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1Ocix6ci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSksenIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXpyLEJyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEcucHJvdG90eXBlKSxCci5wcm90b3R5cGUuY29uc3RydWN0b3I9QnI7dmFyIGNwPU9iamVjdC5mcmVlemUoe1dpcmVmcmFtZUdlb21ldHJ5Ol9uLFBhcmFtZXRyaWNHZW9tZXRyeTpNbixQYXJhbWV0cmljQnVmZmVyR2VvbWV0cnk6U24sVGV0cmFoZWRyb25HZW9tZXRyeTpBbixUZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OkxuLE9jdGFoZWRyb25HZW9tZXRyeTpSbixPY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk6UG4sSWNvc2FoZWRyb25HZW9tZXRyeTpDbixJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5Ok9uLERvZGVjYWhlZHJvbkdlb21ldHJ5OkRuLERvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OkluLFBvbHloZWRyb25HZW9tZXRyeTpUbixQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnk6RW4sVHViZUdlb21ldHJ5Ok5uLFR1YmVCdWZmZXJHZW9tZXRyeTp6bixUb3J1c0tub3RHZW9tZXRyeTpCbixUb3J1c0tub3RCdWZmZXJHZW9tZXRyeTpVbixUb3J1c0dlb21ldHJ5OkZuLFRvcnVzQnVmZmVyR2VvbWV0cnk6R24sVGV4dEdlb21ldHJ5OmJyLFRleHRCdWZmZXJHZW9tZXRyeTp3cixTcGhlcmVHZW9tZXRyeTpfcixTcGhlcmVCdWZmZXJHZW9tZXRyeTpNcixSaW5nR2VvbWV0cnk6U3IsUmluZ0J1ZmZlckdlb21ldHJ5OlRyLFBsYW5lR2VvbWV0cnk6bmUsUGxhbmVCdWZmZXJHZW9tZXRyeTpyZSxMYXRoZUdlb21ldHJ5OkVyLExhdGhlQnVmZmVyR2VvbWV0cnk6QXIsU2hhcGVHZW9tZXRyeTpMcixTaGFwZUJ1ZmZlckdlb21ldHJ5OlJyLEV4dHJ1ZGVHZW9tZXRyeTpncixFeHRydWRlQnVmZmVyR2VvbWV0cnk6eXIsRWRnZXNHZW9tZXRyeTpDcixDb25lR2VvbWV0cnk6SXIsQ29uZUJ1ZmZlckdlb21ldHJ5Ok5yLEN5bGluZGVyR2VvbWV0cnk6T3IsQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeTpEcixDaXJjbGVHZW9tZXRyeTp6cixDaXJjbGVCdWZmZXJHZW9tZXRyeTpCcixCb3hHZW9tZXRyeTpRaCxCb3hCdWZmZXJHZW9tZXRyeTpLaH0pO1VyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxVci5wcm90b3R5cGUuY29uc3RydWN0b3I9VXIsVXIucHJvdG90eXBlLmlzU2hhZG93TWF0ZXJpYWw9ITAsVXIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzfSxGci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShYLnByb3RvdHlwZSksRnIucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZyLEZyLnByb3RvdHlwZS5pc1Jhd1NoYWRlck1hdGVyaWFsPSEwLEdyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxHci5wcm90b3R5cGUuY29uc3RydWN0b3I9R3IsR3IucHJvdG90eXBlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw9ITAsR3IucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6XCJcIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMucm91Z2huZXNzPWUucm91Z2huZXNzLHRoaXMubWV0YWxuZXNzPWUubWV0YWxuZXNzLHRoaXMubWFwPWUubWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMucm91Z2huZXNzTWFwPWUucm91Z2huZXNzTWFwLHRoaXMubWV0YWxuZXNzTWFwPWUubWV0YWxuZXNzTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmVudk1hcEludGVuc2l0eT1lLmVudk1hcEludGVuc2l0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz1lLnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT1lLndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49ZS53aXJlZnJhbWVMaW5lam9pbix0aGlzLnNraW5uaW5nPWUuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9ZS5tb3JwaFRhcmdldHMsdGhpcy5tb3JwaE5vcm1hbHM9ZS5tb3JwaE5vcm1hbHMsdGhpc30sSHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR3IucHJvdG90eXBlKSxIci5wcm90b3R5cGUuY29uc3RydWN0b3I9SHIsSHIucHJvdG90eXBlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw9ITAsSHIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEdyLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOlwiXCIsUEhZU0lDQUw6XCJcIn0sdGhpcy5yZWZsZWN0aXZpdHk9ZS5yZWZsZWN0aXZpdHksdGhpcy5jbGVhcmNvYXQ9ZS5jbGVhcmNvYXQsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M9ZS5jbGVhcmNvYXRSb3VnaG5lc3MsZS5zaGVlbj90aGlzLnNoZWVuPSh0aGlzLnNoZWVufHxuZXcgdykuY29weShlLnNoZWVuKTp0aGlzLnNoZWVuPW51bGwsdGhpcy5jbGVhcmNvYXROb3JtYWxNYXA9ZS5jbGVhcmNvYXROb3JtYWxNYXAsdGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZS5jb3B5KGUuY2xlYXJjb2F0Tm9ybWFsU2NhbGUpLHRoaXMudHJhbnNwYXJlbmN5PWUudHJhbnNwYXJlbmN5LHRoaXN9LFZyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxWci5wcm90b3R5cGUuY29uc3RydWN0b3I9VnIsVnIucHJvdG90eXBlLmlzTWVzaFBob25nTWF0ZXJpYWw9ITAsVnIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLnNwZWN1bGFyLmNvcHkoZS5zcGVjdWxhciksdGhpcy5zaGluaW5lc3M9ZS5zaGluaW5lc3MsdGhpcy5tYXA9ZS5tYXAsdGhpcy5saWdodE1hcD1lLmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9ZS5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPWUuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT1lLmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weShlLmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPWUuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT1lLmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9ZS5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz1lLm1vcnBoTm9ybWFscyx0aGlzfSxqci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFLnByb3RvdHlwZSksanIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWpyLGpyLnByb3RvdHlwZS5pc01lc2hUb29uTWF0ZXJpYWw9ITAsanIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLnNwZWN1bGFyLmNvcHkoZS5zcGVjdWxhciksdGhpcy5zaGluaW5lc3M9ZS5zaGluaW5lc3MsdGhpcy5tYXA9ZS5tYXAsdGhpcy5ncmFkaWVudE1hcD1lLmdyYWRpZW50TWFwLHRoaXMubGlnaHRNYXA9ZS5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD1lLmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9ZS5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkoZS5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD1lLmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9ZS5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMuc3BlY3VsYXJNYXA9ZS5zcGVjdWxhck1hcCx0aGlzLmFscGhhTWFwPWUuYWxwaGFNYXAsdGhpcy53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPWUud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPWUud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz1lLnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPWUubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPWUubW9ycGhOb3JtYWxzLHRoaXN9LGtyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEUucHJvdG90eXBlKSxrci5wcm90b3R5cGUuY29uc3RydWN0b3I9a3Isa3IucHJvdG90eXBlLmlzTWVzaE5vcm1hbE1hdGVyaWFsPSEwLGtyLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiBFLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmJ1bXBNYXA9ZS5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPWUuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPWUubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT1lLm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KGUubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPWUuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMuc2tpbm5pbmc9ZS5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz1lLm1vcnBoTm9ybWFscyx0aGlzfSxXci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFLnByb3RvdHlwZSksV3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPVdyLFdyLnByb3RvdHlwZS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw9ITAsV3IucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY29sb3IuY29weShlLmNvbG9yKSx0aGlzLm1hcD1lLm1hcCx0aGlzLmxpZ2h0TWFwPWUubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT1lLmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9ZS5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KGUuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9ZS5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD1lLnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9ZS5hbHBoYU1hcCx0aGlzLmVudk1hcD1lLmVudk1hcCx0aGlzLmNvbWJpbmU9ZS5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PWUucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPWUucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPWUud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD1lLndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9ZS5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz1lLm1vcnBoTm9ybWFscyx0aGlzfSxxci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFLnByb3RvdHlwZSkscXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXFyLHFyLnByb3RvdHlwZS5pc01lc2hNYXRjYXBNYXRlcmlhbD0hMCxxci5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtyZXR1cm4gRS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5kZWZpbmVzPXtNQVRDQVA6XCJcIn0sdGhpcy5jb2xvci5jb3B5KGUuY29sb3IpLHRoaXMubWF0Y2FwPWUubWF0Y2FwLHRoaXMubWFwPWUubWFwLHRoaXMuYnVtcE1hcD1lLmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9ZS5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9ZS5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPWUubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkoZS5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9ZS5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1lLmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMsdGhpcy5hbHBoYU1hcD1lLmFscGhhTWFwLHRoaXMuc2tpbm5pbmc9ZS5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz1lLm1vcnBoTm9ybWFscyx0aGlzfSxYci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh1bi5wcm90b3R5cGUpLFhyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1YcixYci5wcm90b3R5cGUuaXNMaW5lRGFzaGVkTWF0ZXJpYWw9ITAsWHIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHVuLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLnNjYWxlPWUuc2NhbGUsdGhpcy5kYXNoU2l6ZT1lLmRhc2hTaXplLHRoaXMuZ2FwU2l6ZT1lLmdhcFNpemUsdGhpc307dmFyIGxwPU9iamVjdC5mcmVlemUoe1NoYWRvd01hdGVyaWFsOlVyLFNwcml0ZU1hdGVyaWFsOm5uLFJhd1NoYWRlck1hdGVyaWFsOkZyLFNoYWRlck1hdGVyaWFsOlgsUG9pbnRzTWF0ZXJpYWw6bW4sTWVzaFBoeXNpY2FsTWF0ZXJpYWw6SHIsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6R3IsTWVzaFBob25nTWF0ZXJpYWw6VnIsTWVzaFRvb25NYXRlcmlhbDpqcixNZXNoTm9ybWFsTWF0ZXJpYWw6a3IsTWVzaExhbWJlcnRNYXRlcmlhbDpXcixNZXNoRGVwdGhNYXRlcmlhbDpVdCxNZXNoRGlzdGFuY2VNYXRlcmlhbDpGdCxNZXNoQmFzaWNNYXRlcmlhbDpBLE1lc2hNYXRjYXBNYXRlcmlhbDpxcixMaW5lRGFzaGVkTWF0ZXJpYWw6WHIsTGluZUJhc2ljTWF0ZXJpYWw6dW4sTWF0ZXJpYWw6RX0pLGhwPXthcnJheVNsaWNlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaHAuaXNUeXBlZEFycmF5KGUpP25ldyBlLmNvbnN0cnVjdG9yKGUuc3ViYXJyYXkodCx2b2lkIDAhPT1uP246ZS5sZW5ndGgpKTplLnNsaWNlKHQsbil9LGNvbnZlcnRBcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIWV8fCFuJiZlLmNvbnN0cnVjdG9yPT09dD9lOlwibnVtYmVyXCI9PXR5cGVvZiB0LkJZVEVTX1BFUl9FTEVNRU5UP25ldyB0KGUpOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpfSxpc1R5cGVkQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhlKSYmIShlIGluc3RhbmNlb2YgRGF0YVZpZXcpfSxnZXRLZXlmcmFtZU9yZGVyOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gZVt0XS1lW25dfWZvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTA7aSE9PW47KytpKXJbaV09aTtyZXR1cm4gci5zb3J0KHQpLHJ9LHNvcnRlZEFycmF5OmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5sZW5ndGgsaT1uZXcgZS5jb25zdHJ1Y3RvcihyKSxhPTAsbz0wO28hPT1yOysrYSlmb3IodmFyIHM9blthXSp0LGM9MDtjIT09dDsrK2MpaVtvKytdPWVbcytjXTtyZXR1cm4gaX0sZmxhdHRlbkpTT046ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPTEsYT1lWzBdO3ZvaWQgMCE9PWEmJnZvaWQgMD09PWFbcl07KWE9ZVtpKytdO2lmKHZvaWQgMCE9PWEpe3ZhciBvPWFbcl07aWYodm9pZCAwIT09bylpZihBcnJheS5pc0FycmF5KG8pKWRve289YVtyXSx2b2lkIDAhPT1vJiYodC5wdXNoKGEudGltZSksbi5wdXNoLmFwcGx5KG4sbykpLGE9ZVtpKytdfXdoaWxlKHZvaWQgMCE9PWEpO2Vsc2UgaWYodm9pZCAwIT09by50b0FycmF5KWRve289YVtyXSx2b2lkIDAhPT1vJiYodC5wdXNoKGEudGltZSksby50b0FycmF5KG4sbi5sZW5ndGgpKSxhPWVbaSsrXX13aGlsZSh2b2lkIDAhPT1hKTtlbHNlIGRve289YVtyXSx2b2lkIDAhPT1vJiYodC5wdXNoKGEudGltZSksbi5wdXNoKG8pKSxhPWVbaSsrXX13aGlsZSh2b2lkIDAhPT1hKX19LHN1YmNsaXA6ZnVuY3Rpb24oZSx0LG4scixpKXtpPWl8fDMwO3ZhciBhPWUuY2xvbmUoKTthLm5hbWU9dDtmb3IodmFyIG89W10scz0wO3M8YS50cmFja3MubGVuZ3RoOysrcyl7Zm9yKHZhciBjPWEudHJhY2tzW3NdLGw9Yy5nZXRWYWx1ZVNpemUoKSxoPVtdLHU9W10scD0wO3A8Yy50aW1lcy5sZW5ndGg7KytwKXt2YXIgZD1jLnRpbWVzW3BdKmk7aWYoIShkPG58fGQ+PXIpKXtoLnB1c2goYy50aW1lc1twXSk7Zm9yKHZhciBmPTA7ZjxsOysrZil1LnB1c2goYy52YWx1ZXNbcCpsK2ZdKX19MCE9PWgubGVuZ3RoJiYoYy50aW1lcz1ocC5jb252ZXJ0QXJyYXkoaCxjLnRpbWVzLmNvbnN0cnVjdG9yKSxjLnZhbHVlcz1ocC5jb252ZXJ0QXJyYXkodSxjLnZhbHVlcy5jb25zdHJ1Y3Rvciksby5wdXNoKGMpKX1hLnRyYWNrcz1vO2Zvcih2YXIgbT0xLzAscz0wO3M8YS50cmFja3MubGVuZ3RoOysrcyltPmEudHJhY2tzW3NdLnRpbWVzWzBdJiYobT1hLnRyYWNrc1tzXS50aW1lc1swXSk7Zm9yKHZhciBzPTA7czxhLnRyYWNrcy5sZW5ndGg7KytzKWEudHJhY2tzW3NdLnNoaWZ0KC0xKm0pO3JldHVybiBhLnJlc2V0RHVyYXRpb24oKSxhfX07T2JqZWN0LmFzc2lnbihZci5wcm90b3R5cGUse2V2YWx1YXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyYW1ldGVyUG9zaXRpb25zLG49dGhpcy5fY2FjaGVkSW5kZXgscj10W25dLGk9dFtuLTFdO2U6e3Q6e3ZhciBhO246e3I6aWYoIShlPHIpKXtmb3IodmFyIG89bisyOzspe2lmKHZvaWQgMD09PXIpe2lmKGU8aSlicmVhayByO3JldHVybiBuPXQubGVuZ3RoLHRoaXMuX2NhY2hlZEluZGV4PW4sdGhpcy5hZnRlckVuZF8obi0xLGUsaSl9aWYobj09PW8pYnJlYWs7aWYoaT1yLHI9dFsrK25dLGU8cilicmVhayB0fWE9dC5sZW5ndGg7YnJlYWsgbn17aWYoZT49aSlicmVhayBlO3ZhciBzPXRbMV07ZTxzJiYobj0yLGk9cyk7Zm9yKHZhciBvPW4tMjs7KXtpZih2b2lkIDA9PT1pKXJldHVybiB0aGlzLl9jYWNoZWRJbmRleD0wLHRoaXMuYmVmb3JlU3RhcnRfKDAsZSxyKTtpZihuPT09bylicmVhaztpZihyPWksaT10Wy0tbi0xXSxlPj1pKWJyZWFrIHR9YT1uLG49MH19Zm9yKDtuPGE7KXt2YXIgYz1uK2E+Pj4xO2U8dFtjXT9hPWM6bj1jKzF9aWYocj10W25dLHZvaWQgMD09PShpPXRbbi0xXSkpcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCxlLHIpO2lmKHZvaWQgMD09PXIpcmV0dXJuIG49dC5sZW5ndGgsdGhpcy5fY2FjaGVkSW5kZXg9bix0aGlzLmFmdGVyRW5kXyhuLTEsaSxlKX10aGlzLl9jYWNoZWRJbmRleD1uLHRoaXMuaW50ZXJ2YWxDaGFuZ2VkXyhuLGkscil9cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfKG4saSxlLHIpfSxzZXR0aW5nczpudWxsLERlZmF1bHRTZXR0aW5nc186e30sZ2V0U2V0dGluZ3NfOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3N8fHRoaXMuRGVmYXVsdFNldHRpbmdzX30sY29weVNhbXBsZVZhbHVlXzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5yZXN1bHRCdWZmZXIsbj10aGlzLnNhbXBsZVZhbHVlcyxyPXRoaXMudmFsdWVTaXplLGk9ZSpyLGE9MDthIT09cjsrK2EpdFthXT1uW2krYV07cmV0dXJuIHR9LGludGVycG9sYXRlXzpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImNhbGwgdG8gYWJzdHJhY3QgbWV0aG9kXCIpfSxpbnRlcnZhbENoYW5nZWRfOmZ1bmN0aW9uKCl7fX0pLE9iamVjdC5hc3NpZ24oWXIucHJvdG90eXBlLHtiZWZvcmVTdGFydF86WXIucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV8sYWZ0ZXJFbmRfOllyLnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVffSksWnIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShZci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpacixEZWZhdWx0U2V0dGluZ3NfOntlbmRpbmdTdGFydDpXYyxlbmRpbmdFbmQ6V2N9LGludGVydmFsQ2hhbmdlZF86ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMucGFyYW1ldGVyUG9zaXRpb25zLGk9ZS0yLGE9ZSsxLG89cltpXSxzPXJbYV07aWYodm9pZCAwPT09bylzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdTdGFydCl7Y2FzZSAyNDAxOmk9ZSxvPTIqdC1uO2JyZWFrO2Nhc2UgMjQwMjppPXIubGVuZ3RoLTIsbz10K3JbaV0tcltpKzFdO2JyZWFrO2RlZmF1bHQ6aT1lLG89bn1pZih2b2lkIDA9PT1zKXN3aXRjaCh0aGlzLmdldFNldHRpbmdzXygpLmVuZGluZ0VuZCl7Y2FzZSAyNDAxOmE9ZSxzPTIqbi10O2JyZWFrO2Nhc2UgMjQwMjphPTEscz1uK3JbMV0tclswXTticmVhaztkZWZhdWx0OmE9ZS0xLHM9dH12YXIgYz0uNSoobi10KSxsPXRoaXMudmFsdWVTaXplO3RoaXMuX3dlaWdodFByZXY9Yy8odC1vKSx0aGlzLl93ZWlnaHROZXh0PWMvKHMtbiksdGhpcy5fb2Zmc2V0UHJldj1pKmwsdGhpcy5fb2Zmc2V0TmV4dD1hKmx9LGludGVycG9sYXRlXzpmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIGk9dGhpcy5yZXN1bHRCdWZmZXIsYT10aGlzLnNhbXBsZVZhbHVlcyxvPXRoaXMudmFsdWVTaXplLHM9ZSpvLGM9cy1vLGw9dGhpcy5fb2Zmc2V0UHJldixoPXRoaXMuX29mZnNldE5leHQsdT10aGlzLl93ZWlnaHRQcmV2LHA9dGhpcy5fd2VpZ2h0TmV4dCxkPShuLXQpLyhyLXQpLGY9ZCpkLG09ZipkLHY9LXUqbSsyKnUqZi11KmQsZz0oMSt1KSptKygtMS41LTIqdSkqZisoLS41K3UpKmQrMSx5PSgtMS1wKSptKygxLjUrcCkqZisuNSpkLHg9cCptLXAqZixiPTA7YiE9PW87KytiKWlbYl09diphW2wrYl0rZyphW2MrYl0reSphW3MrYl0reCphW2grYl07cmV0dXJuIGl9fSksSnIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShZci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpKcixpbnRlcnBvbGF0ZV86ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPXRoaXMucmVzdWx0QnVmZmVyLGE9dGhpcy5zYW1wbGVWYWx1ZXMsbz10aGlzLnZhbHVlU2l6ZSxzPWUqbyxjPXMtbyxsPShuLXQpLyhyLXQpLGg9MS1sLHU9MDt1IT09bzsrK3UpaVt1XT1hW2MrdV0qaCthW3MrdV0qbDtyZXR1cm4gaX19KSxRci5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFlyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlFyLGludGVycG9sYXRlXzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb3B5U2FtcGxlVmFsdWVfKGUtMSl9fSksT2JqZWN0LmFzc2lnbihLcix7dG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5jb25zdHJ1Y3RvcjtpZih2b2lkIDAhPT1uLnRvSlNPTil0PW4udG9KU09OKGUpO2Vsc2V7dD17bmFtZTplLm5hbWUsdGltZXM6aHAuY29udmVydEFycmF5KGUudGltZXMsQXJyYXkpLHZhbHVlczpocC5jb252ZXJ0QXJyYXkoZS52YWx1ZXMsQXJyYXkpfTt2YXIgcj1lLmdldEludGVycG9sYXRpb24oKTtyIT09ZS5EZWZhdWx0SW50ZXJwb2xhdGlvbiYmKHQuaW50ZXJwb2xhdGlvbj1yKX1yZXR1cm4gdC50eXBlPWUuVmFsdWVUeXBlTmFtZSx0fX0pLE9iamVjdC5hc3NpZ24oS3IucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpLcixUaW1lQnVmZmVyVHlwZTpGbG9hdDMyQXJyYXksVmFsdWVCdWZmZXJUeXBlOkZsb2F0MzJBcnJheSxEZWZhdWx0SW50ZXJwb2xhdGlvbjoyMzAxLEludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUXIodGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLGUpfSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKcih0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksZSl9LEludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFpyKHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxlKX0sc2V0SW50ZXJwb2xhdGlvbjpmdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goZSl7Y2FzZSAyMzAwOnQ9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTticmVhaztjYXNlIDIzMDE6dD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjticmVhaztjYXNlIDIzMDI6dD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aH1pZih2b2lkIDA9PT10KXt2YXIgbj1cInVuc3VwcG9ydGVkIGludGVycG9sYXRpb24gZm9yIFwiK3RoaXMuVmFsdWVUeXBlTmFtZStcIiBrZXlmcmFtZSB0cmFjayBuYW1lZCBcIit0aGlzLm5hbWU7aWYodm9pZCAwPT09dGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7aWYoZT09PXRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pdGhyb3cgbmV3IEVycm9yKG4pO3RoaXMuc2V0SW50ZXJwb2xhdGlvbih0aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKX1yZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuS2V5ZnJhbWVUcmFjazpcIixuKSx0aGlzfXJldHVybiB0aGlzLmNyZWF0ZUludGVycG9sYW50PXQsdGhpc30sZ2V0SW50ZXJwb2xhdGlvbjpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmNyZWF0ZUludGVycG9sYW50KXtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGU6cmV0dXJuIDIzMDA7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjpyZXR1cm4gMjMwMTtjYXNlIHRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnJldHVybiAyMzAyfX0sZ2V0VmFsdWVTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aC90aGlzLnRpbWVzLmxlbmd0aH0sc2hpZnQ6ZnVuY3Rpb24oZSl7aWYoMCE9PWUpZm9yKHZhciB0PXRoaXMudGltZXMsbj0wLHI9dC5sZW5ndGg7biE9PXI7KytuKXRbbl0rPWU7cmV0dXJuIHRoaXN9LHNjYWxlOmZ1bmN0aW9uKGUpe2lmKDEhPT1lKWZvcih2YXIgdD10aGlzLnRpbWVzLG49MCxyPXQubGVuZ3RoO24hPT1yOysrbil0W25dKj1lO3JldHVybiB0aGlzfSx0cmltOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudGltZXMscj1uLmxlbmd0aCxpPTAsYT1yLTE7aSE9PXImJm5baV08ZTspKytpO2Zvcig7LTEhPT1hJiZuW2FdPnQ7KS0tYTtpZigrK2EsMCE9PWl8fGEhPT1yKXtpPj1hJiYoYT1NYXRoLm1heChhLDEpLGk9YS0xKTt2YXIgbz10aGlzLmdldFZhbHVlU2l6ZSgpO3RoaXMudGltZXM9aHAuYXJyYXlTbGljZShuLGksYSksdGhpcy52YWx1ZXM9aHAuYXJyYXlTbGljZSh0aGlzLnZhbHVlcyxpKm8sYSpvKX1yZXR1cm4gdGhpc30sdmFsaWRhdGU6ZnVuY3Rpb24oKXt2YXIgZT0hMCx0PXRoaXMuZ2V0VmFsdWVTaXplKCk7dC1NYXRoLmZsb29yKHQpIT0wJiYoY29uc29sZS5lcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IEludmFsaWQgdmFsdWUgc2l6ZSBpbiB0cmFjay5cIix0aGlzKSxlPSExKTt2YXIgbj10aGlzLnRpbWVzLHI9dGhpcy52YWx1ZXMsaT1uLmxlbmd0aDswPT09aSYmKGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBUcmFjayBpcyBlbXB0eS5cIix0aGlzKSxlPSExKTtmb3IodmFyIGE9bnVsbCxvPTA7byE9PWk7bysrKXt2YXIgcz1uW29dO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBzJiZpc05hTihzKSl7Y29uc29sZS5lcnJvcihcIlRIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLlwiLHRoaXMsbyxzKSxlPSExO2JyZWFrfWlmKG51bGwhPT1hJiZhPnMpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBPdXQgb2Ygb3JkZXIga2V5cy5cIix0aGlzLG8scyxhKSxlPSExO2JyZWFrfWE9c31pZih2b2lkIDAhPT1yJiZocC5pc1R5cGVkQXJyYXkocikpZm9yKHZhciBvPTAsYz1yLmxlbmd0aDtvIT09YzsrK28pe3ZhciBsPXJbb107aWYoaXNOYU4obCkpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBWYWx1ZSBpcyBub3QgYSB2YWxpZCBudW1iZXIuXCIsdGhpcyxvLGwpLGU9ITE7YnJlYWt9fXJldHVybiBlfSxvcHRpbWl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnRpbWVzLHQ9dGhpcy52YWx1ZXMsbj10aGlzLmdldFZhbHVlU2l6ZSgpLHI9MjMwMj09PXRoaXMuZ2V0SW50ZXJwb2xhdGlvbigpLGk9MSxhPWUubGVuZ3RoLTEsbz0xO288YTsrK28pe3ZhciBzPSExLGM9ZVtvXTtpZihjIT09ZVtvKzFdJiYoMSE9PW98fGMhPT1jWzBdKSlpZihyKXM9ITA7ZWxzZSBmb3IodmFyIGw9bypuLGg9bC1uLHU9bCtuLHA9MDtwIT09bjsrK3Ape3ZhciBkPXRbbCtwXTtpZihkIT09dFtoK3BdfHxkIT09dFt1K3BdKXtzPSEwO2JyZWFrfX1pZihzKXtpZihvIT09aSl7ZVtpXT1lW29dO2Zvcih2YXIgZj1vKm4sbT1pKm4scD0wO3AhPT1uOysrcCl0W20rcF09dFtmK3BdfSsraX19aWYoYT4wKXtlW2ldPWVbYV07Zm9yKHZhciBmPWEqbixtPWkqbixwPTA7cCE9PW47KytwKXRbbStwXT10W2YrcF07KytpfXJldHVybiBpIT09ZS5sZW5ndGgmJih0aGlzLnRpbWVzPWhwLmFycmF5U2xpY2UoZSwwLGkpLHRoaXMudmFsdWVzPWhwLmFycmF5U2xpY2UodCwwLGkqbikpLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9aHAuYXJyYXlTbGljZSh0aGlzLnRpbWVzLDApLHQ9aHAuYXJyYXlTbGljZSh0aGlzLnZhbHVlcywwKSxuPXRoaXMuY29uc3RydWN0b3Iscj1uZXcgbih0aGlzLm5hbWUsZSx0KTtyZXR1cm4gci5jcmVhdGVJbnRlcnBvbGFudD10aGlzLmNyZWF0ZUludGVycG9sYW50LHJ9fSksJHIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShLci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjokcixWYWx1ZVR5cGVOYW1lOlwiYm9vbFwiLFZhbHVlQnVmZmVyVHlwZTpBcnJheSxEZWZhdWx0SW50ZXJwb2xhdGlvbjoyMzAwLEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjp2b2lkIDAsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnZvaWQgMH0pLGVpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoS3IucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6ZWksVmFsdWVUeXBlTmFtZTpcImNvbG9yXCJ9KSx0aS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEtyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnRpLFZhbHVlVHlwZU5hbWU6XCJudW1iZXJcIn0pLG5pLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoWXIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6bmksaW50ZXJwb2xhdGVfOmZ1bmN0aW9uKGUsdCxuLGkpe2Zvcih2YXIgYT10aGlzLnJlc3VsdEJ1ZmZlcixvPXRoaXMuc2FtcGxlVmFsdWVzLHM9dGhpcy52YWx1ZVNpemUsYz1lKnMsbD0obi10KS8oaS10KSxoPWMrcztjIT09aDtjKz00KXIuc2xlcnBGbGF0KGEsMCxvLGMtcyxvLGMsbCk7cmV0dXJuIGF9fSkscmkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShLci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpyaSxWYWx1ZVR5cGVOYW1lOlwicXVhdGVybmlvblwiLERlZmF1bHRJbnRlcnBvbGF0aW9uOjIzMDEsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbmkodGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLGUpfSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6dm9pZCAwfSksaWkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShLci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjppaSxWYWx1ZVR5cGVOYW1lOlwic3RyaW5nXCIsVmFsdWVCdWZmZXJUeXBlOkFycmF5LERlZmF1bHRJbnRlcnBvbGF0aW9uOjIzMDAsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOnZvaWQgMCxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6dm9pZCAwfSksYWkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShLci5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjphaSxWYWx1ZVR5cGVOYW1lOlwidmVjdG9yXCJ9KSxPYmplY3QuYXNzaWduKG9pLHtwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1lLnRyYWNrcyxyPTEvKGUuZnBzfHwxKSxpPTAsYT1uLmxlbmd0aDtpIT09YTsrK2kpdC5wdXNoKGNpKG5baV0pLnNjYWxlKHIpKTtyZXR1cm4gbmV3IG9pKGUubmFtZSxlLmR1cmF0aW9uLHQpfSx0b0pTT046ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZS50cmFja3Mscj17bmFtZTplLm5hbWUsZHVyYXRpb246ZS5kdXJhdGlvbix0cmFja3M6dCx1dWlkOmUudXVpZH0saT0wLGE9bi5sZW5ndGg7aSE9PWE7KytpKXQucHVzaChLci50b0pTT04obltpXSkpO3JldHVybiByfSxDcmVhdGVGcm9tTW9ycGhUYXJnZXRTZXF1ZW5jZTpmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIGk9dC5sZW5ndGgsYT1bXSxvPTA7bzxpO28rKyl7dmFyIHM9W10sYz1bXTtzLnB1c2goKG8raS0xKSVpLG8sKG8rMSklaSksYy5wdXNoKDAsMSwwKTt2YXIgbD1ocC5nZXRLZXlmcmFtZU9yZGVyKHMpO3M9aHAuc29ydGVkQXJyYXkocywxLGwpLGM9aHAuc29ydGVkQXJyYXkoYywxLGwpLHJ8fDAhPT1zWzBdfHwocy5wdXNoKGkpLGMucHVzaChjWzBdKSksYS5wdXNoKG5ldyB0aShcIi5tb3JwaFRhcmdldEluZmx1ZW5jZXNbXCIrdFtvXS5uYW1lK1wiXVwiLHMsYykuc2NhbGUoMS9uKSl9cmV0dXJuIG5ldyBvaShlLC0xLGEpfSxmaW5kQnlOYW1lOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZTtpZighQXJyYXkuaXNBcnJheShlKSl7dmFyIHI9ZTtuPXIuZ2VvbWV0cnkmJnIuZ2VvbWV0cnkuYW5pbWF0aW9uc3x8ci5hbmltYXRpb25zfWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKG5baV0ubmFtZT09PXQpcmV0dXJuIG5baV07cmV0dXJuIG51bGx9LENyZWF0ZUNsaXBzRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2VzOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9e30saT0vXihbXFx3LV0qPykoW1xcZF0rKSQvLGE9MCxvPWUubGVuZ3RoO2E8bzthKyspe3ZhciBzPWVbYV0sYz1zLm5hbWUubWF0Y2goaSk7aWYoYyYmYy5sZW5ndGg+MSl7dmFyIGw9Y1sxXSxoPXJbbF07aHx8KHJbbF09aD1bXSksaC5wdXNoKHMpfX12YXIgdT1bXTtmb3IodmFyIGwgaW4gcil1LnB1c2gob2kuQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UobCxyW2xdLHQsbikpO3JldHVybiB1fSxwYXJzZUFuaW1hdGlvbjpmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiBjb25zb2xlLmVycm9yKFwiVEhSRUUuQW5pbWF0aW9uQ2xpcDogTm8gYW5pbWF0aW9uIGluIEpTT05Mb2FkZXIgZGF0YS5cIiksbnVsbDtmb3IodmFyIG49ZnVuY3Rpb24oZSx0LG4scixpKXtpZigwIT09bi5sZW5ndGgpe3ZhciBhPVtdLG89W107aHAuZmxhdHRlbkpTT04obixhLG8sciksMCE9PWEubGVuZ3RoJiZpLnB1c2gobmV3IGUodCxhLG8pKX19LHI9W10saT1lLm5hbWV8fFwiZGVmYXVsdFwiLGE9ZS5sZW5ndGh8fC0xLG89ZS5mcHN8fDMwLHM9ZS5oaWVyYXJjaHl8fFtdLGM9MDtjPHMubGVuZ3RoO2MrKyl7dmFyIGw9c1tjXS5rZXlzO2lmKGwmJjAhPT1sLmxlbmd0aClpZihsWzBdLm1vcnBoVGFyZ2V0cyl7Zm9yKHZhciBoPXt9LHU9MDt1PGwubGVuZ3RoO3UrKylpZihsW3VdLm1vcnBoVGFyZ2V0cylmb3IodmFyIHA9MDtwPGxbdV0ubW9ycGhUYXJnZXRzLmxlbmd0aDtwKyspaFtsW3VdLm1vcnBoVGFyZ2V0c1twXV09LTE7Zm9yKHZhciBkIGluIGgpe2Zvcih2YXIgZj1bXSxtPVtdLHA9MDtwIT09bFt1XS5tb3JwaFRhcmdldHMubGVuZ3RoOysrcCl7dmFyIHY9bFt1XTtmLnB1c2godi50aW1lKSxtLnB1c2godi5tb3JwaFRhcmdldD09PWQ/MTowKX1yLnB1c2gobmV3IHRpKFwiLm1vcnBoVGFyZ2V0SW5mbHVlbmNlW1wiK2QrXCJdXCIsZixtKSl9YT1oLmxlbmd0aCoob3x8MSl9ZWxzZXt2YXIgZz1cIi5ib25lc1tcIit0W2NdLm5hbWUrXCJdXCI7bihhaSxnK1wiLnBvc2l0aW9uXCIsbCxcInBvc1wiLHIpLG4ocmksZytcIi5xdWF0ZXJuaW9uXCIsbCxcInJvdFwiLHIpLG4oYWksZytcIi5zY2FsZVwiLGwsXCJzY2xcIixyKX19cmV0dXJuIDA9PT1yLmxlbmd0aD9udWxsOm5ldyBvaShpLGEscil9fSksT2JqZWN0LmFzc2lnbihvaS5wcm90b3R5cGUse3Jlc2V0RHVyYXRpb246ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy50cmFja3MsdD0wLG49MCxyPWUubGVuZ3RoO24hPT1yOysrbil7dmFyIGk9dGhpcy50cmFja3Nbbl07dD1NYXRoLm1heCh0LGkudGltZXNbaS50aW1lcy5sZW5ndGgtMV0pfXJldHVybiB0aGlzLmR1cmF0aW9uPXQsdGhpc30sdHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy50cmFja3MubGVuZ3RoO2UrKyl0aGlzLnRyYWNrc1tlXS50cmltKDAsdGhpcy5kdXJhdGlvbik7cmV0dXJuIHRoaXN9LHZhbGlkYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPSEwLHQ9MDt0PHRoaXMudHJhY2tzLmxlbmd0aDt0KyspZT1lJiZ0aGlzLnRyYWNrc1t0XS52YWxpZGF0ZSgpO3JldHVybiBlfSxvcHRpbWl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy50cmFja3MubGVuZ3RoO2UrKyl0aGlzLnRyYWNrc1tlXS5vcHRpbWl6ZSgpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLnRyYWNrcy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLnRyYWNrc1t0XS5jbG9uZSgpKTtyZXR1cm4gbmV3IG9pKHRoaXMubmFtZSx0aGlzLmR1cmF0aW9uLGUpfX0pO3ZhciB1cD17ZW5hYmxlZDohMSxmaWxlczp7fSxhZGQ6ZnVuY3Rpb24oZSx0KXshMSE9PXRoaXMuZW5hYmxlZCYmKHRoaXMuZmlsZXNbZV09dCl9LFxuZ2V0OmZ1bmN0aW9uKGUpe2lmKCExIT09dGhpcy5lbmFibGVkKXJldHVybiB0aGlzLmZpbGVzW2VdfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuZmlsZXNbZV19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5maWxlcz17fX19LHBwPW5ldyBsaTtPYmplY3QuYXNzaWduKGhpLnByb3RvdHlwZSx7bG9hZDpmdW5jdGlvbigpe30scGFyc2U6ZnVuY3Rpb24oKXt9LHNldENyb3NzT3JpZ2luOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNyb3NzT3JpZ2luPWUsdGhpc30sc2V0UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXRoPWUsdGhpc30sc2V0UmVzb3VyY2VQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlc291cmNlUGF0aD1lLHRoaXN9fSk7dmFyIGRwPXt9O3VpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaGkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6dWksbG9hZDpmdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1lJiYoZT1cIlwiKSx2b2lkIDAhPT10aGlzLnBhdGgmJihlPXRoaXMucGF0aCtlKSxlPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpO3ZhciBpPXRoaXMsYT11cC5nZXQoZSk7aWYodm9pZCAwIT09YSlyZXR1cm4gaS5tYW5hZ2VyLml0ZW1TdGFydChlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCYmdChhKSxpLm1hbmFnZXIuaXRlbUVuZChlKX0sMCksYTtpZih2b2lkIDAhPT1kcFtlXSlyZXR1cm4gdm9pZCBkcFtlXS5wdXNoKHtvbkxvYWQ6dCxvblByb2dyZXNzOm4sb25FcnJvcjpyfSk7dmFyIG89L15kYXRhOiguKj8pKDtiYXNlNjQpPywoLiopJC8scz1lLm1hdGNoKG8pO2lmKHMpe3ZhciBjPXNbMV0sbD0hIXNbMl0saD1zWzNdO2g9ZGVjb2RlVVJJQ29tcG9uZW50KGgpLGwmJihoPWF0b2IoaCkpO3RyeXt2YXIgdSxwPSh0aGlzLnJlc3BvbnNlVHlwZXx8XCJcIikudG9Mb3dlckNhc2UoKTtzd2l0Y2gocCl7Y2FzZVwiYXJyYXlidWZmZXJcIjpjYXNlXCJibG9iXCI6Zm9yKHZhciBkPW5ldyBVaW50OEFycmF5KGgubGVuZ3RoKSxmPTA7ZjxoLmxlbmd0aDtmKyspZFtmXT1oLmNoYXJDb2RlQXQoZik7dT1cImJsb2JcIj09PXA/bmV3IEJsb2IoW2QuYnVmZmVyXSx7dHlwZTpjfSk6ZC5idWZmZXI7YnJlYWs7Y2FzZVwiZG9jdW1lbnRcIjp2YXIgbT1uZXcgRE9NUGFyc2VyO3U9bS5wYXJzZUZyb21TdHJpbmcoaCxjKTticmVhaztjYXNlXCJqc29uXCI6dT1KU09OLnBhcnNlKGgpO2JyZWFrO2RlZmF1bHQ6dT1ofXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0JiZ0KHUpLGkubWFuYWdlci5pdGVtRW5kKGUpfSwwKX1jYXRjaCh0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ciYmcih0KSxpLm1hbmFnZXIuaXRlbUVycm9yKGUpLGkubWFuYWdlci5pdGVtRW5kKGUpfSwwKX19ZWxzZXtkcFtlXT1bXSxkcFtlXS5wdXNoKHtvbkxvYWQ6dCxvblByb2dyZXNzOm4sb25FcnJvcjpyfSk7dmFyIHY9bmV3IFhNTEh0dHBSZXF1ZXN0O3Yub3BlbihcIkdFVFwiLGUsITApLHYuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbih0KXt2YXIgbj10aGlzLnJlc3BvbnNlLHI9ZHBbZV07aWYoZGVsZXRlIGRwW2VdLDIwMD09PXRoaXMuc3RhdHVzfHwwPT09dGhpcy5zdGF0dXMpezA9PT10aGlzLnN0YXR1cyYmY29uc29sZS53YXJuKFwiVEhSRUUuRmlsZUxvYWRlcjogSFRUUCBTdGF0dXMgMCByZWNlaXZlZC5cIiksdXAuYWRkKGUsbik7Zm9yKHZhciBhPTAsbz1yLmxlbmd0aDthPG87YSsrKXt2YXIgcz1yW2FdO3Mub25Mb2FkJiZzLm9uTG9hZChuKX1pLm1hbmFnZXIuaXRlbUVuZChlKX1lbHNle2Zvcih2YXIgYT0wLG89ci5sZW5ndGg7YTxvO2ErKyl7dmFyIHM9clthXTtzLm9uRXJyb3ImJnMub25FcnJvcih0KX1pLm1hbmFnZXIuaXRlbUVycm9yKGUpLGkubWFuYWdlci5pdGVtRW5kKGUpfX0sITEpLHYuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZnVuY3Rpb24odCl7Zm9yKHZhciBuPWRwW2VdLHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspe3ZhciBhPW5bcl07YS5vblByb2dyZXNzJiZhLm9uUHJvZ3Jlc3ModCl9fSwhMSksdi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixmdW5jdGlvbih0KXt2YXIgbj1kcFtlXTtkZWxldGUgZHBbZV07Zm9yKHZhciByPTAsYT1uLmxlbmd0aDtyPGE7cisrKXt2YXIgbz1uW3JdO28ub25FcnJvciYmby5vbkVycm9yKHQpfWkubWFuYWdlci5pdGVtRXJyb3IoZSksaS5tYW5hZ2VyLml0ZW1FbmQoZSl9LCExKSx2LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGZ1bmN0aW9uKHQpe3ZhciBuPWRwW2VdO2RlbGV0ZSBkcFtlXTtmb3IodmFyIHI9MCxhPW4ubGVuZ3RoO3I8YTtyKyspe3ZhciBvPW5bcl07by5vbkVycm9yJiZvLm9uRXJyb3IodCl9aS5tYW5hZ2VyLml0ZW1FcnJvcihlKSxpLm1hbmFnZXIuaXRlbUVuZChlKX0sITEpLHZvaWQgMCE9PXRoaXMucmVzcG9uc2VUeXBlJiYodi5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUpLHZvaWQgMCE9PXRoaXMud2l0aENyZWRlbnRpYWxzJiYodi53aXRoQ3JlZGVudGlhbHM9dGhpcy53aXRoQ3JlZGVudGlhbHMpLHYub3ZlcnJpZGVNaW1lVHlwZSYmdi5vdmVycmlkZU1pbWVUeXBlKHZvaWQgMCE9PXRoaXMubWltZVR5cGU/dGhpcy5taW1lVHlwZTpcInRleHQvcGxhaW5cIik7Zm9yKHZhciBnIGluIHRoaXMucmVxdWVzdEhlYWRlcil2LnNldFJlcXVlc3RIZWFkZXIoZyx0aGlzLnJlcXVlc3RIZWFkZXJbZ10pO3Yuc2VuZChudWxsKX1yZXR1cm4gaS5tYW5hZ2VyLml0ZW1TdGFydChlKSx2fSxzZXRSZXNwb25zZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlPWUsdGhpc30sc2V0V2l0aENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLndpdGhDcmVkZW50aWFscz1lLHRoaXN9LHNldE1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbWVUeXBlPWUsdGhpc30sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXF1ZXN0SGVhZGVyPWUsdGhpc319KSxwaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnBpLGxvYWQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcyxhPW5ldyB1aShpLm1hbmFnZXIpO2Euc2V0UGF0aChpLnBhdGgpLGEubG9hZChlLGZ1bmN0aW9uKGUpe3QoaS5wYXJzZShKU09OLnBhcnNlKGUpKSl9LG4scil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPW9pLnBhcnNlKGVbbl0pO3QucHVzaChyKX1yZXR1cm4gdH19KSxkaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmRpLGxvYWQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcyxhPVtdLG89bmV3IHhuO28uaW1hZ2U9YTt2YXIgcz1uZXcgdWkodGhpcy5tYW5hZ2VyKTtpZihzLnNldFBhdGgodGhpcy5wYXRoKSxzLnNldFJlc3BvbnNlVHlwZShcImFycmF5YnVmZmVyXCIpLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBjPTAsbD0wLGg9ZS5sZW5ndGg7bDxoOysrbCkhZnVuY3Rpb24obCl7cy5sb2FkKGVbbF0sZnVuY3Rpb24oZSl7dmFyIG49aS5wYXJzZShlLCEwKTthW2xdPXt3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodCxmb3JtYXQ6bi5mb3JtYXQsbWlwbWFwczpuLm1pcG1hcHN9LDY9PT0oYys9MSkmJigxPT09bi5taXBtYXBDb3VudCYmKG8ubWluRmlsdGVyPVFzKSxvLmZvcm1hdD1uLmZvcm1hdCxvLm5lZWRzVXBkYXRlPSEwLHQmJnQobykpfSxuLHIpfShsKTtlbHNlIHMubG9hZChlLGZ1bmN0aW9uKGUpe3ZhciBuPWkucGFyc2UoZSwhMCk7aWYobi5pc0N1YmVtYXApZm9yKHZhciByPW4ubWlwbWFwcy5sZW5ndGgvbi5taXBtYXBDb3VudCxzPTA7czxyO3MrKyl7YVtzXT17bWlwbWFwczpbXX07Zm9yKHZhciBjPTA7YzxuLm1pcG1hcENvdW50O2MrKylhW3NdLm1pcG1hcHMucHVzaChuLm1pcG1hcHNbcypuLm1pcG1hcENvdW50K2NdKSxhW3NdLmZvcm1hdD1uLmZvcm1hdCxhW3NdLndpZHRoPW4ud2lkdGgsYVtzXS5oZWlnaHQ9bi5oZWlnaHR9ZWxzZSBvLmltYWdlLndpZHRoPW4ud2lkdGgsby5pbWFnZS5oZWlnaHQ9bi5oZWlnaHQsby5taXBtYXBzPW4ubWlwbWFwczsxPT09bi5taXBtYXBDb3VudCYmKG8ubWluRmlsdGVyPVFzKSxvLmZvcm1hdD1uLmZvcm1hdCxvLm5lZWRzVXBkYXRlPSEwLHQmJnQobyl9LG4scik7cmV0dXJuIG99fSksZmkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShoaS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpmaSxsb2FkOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMsYT1uZXcgSyxvPW5ldyB1aSh0aGlzLm1hbmFnZXIpO3JldHVybiBvLnNldFJlc3BvbnNlVHlwZShcImFycmF5YnVmZmVyXCIpLG8uc2V0UGF0aCh0aGlzLnBhdGgpLG8ubG9hZChlLGZ1bmN0aW9uKGUpe3ZhciBuPWkucGFyc2UoZSk7biYmKHZvaWQgMCE9PW4uaW1hZ2U/YS5pbWFnZT1uLmltYWdlOnZvaWQgMCE9PW4uZGF0YSYmKGEuaW1hZ2Uud2lkdGg9bi53aWR0aCxhLmltYWdlLmhlaWdodD1uLmhlaWdodCxhLmltYWdlLmRhdGE9bi5kYXRhKSxhLndyYXBTPXZvaWQgMCE9PW4ud3JhcFM/bi53cmFwUzpxcyxhLndyYXBUPXZvaWQgMCE9PW4ud3JhcFQ/bi53cmFwVDpxcyxhLm1hZ0ZpbHRlcj12b2lkIDAhPT1uLm1hZ0ZpbHRlcj9uLm1hZ0ZpbHRlcjpRcyxhLm1pbkZpbHRlcj12b2lkIDAhPT1uLm1pbkZpbHRlcj9uLm1pbkZpbHRlcjpRcyxhLmFuaXNvdHJvcHk9dm9pZCAwIT09bi5hbmlzb3Ryb3B5P24uYW5pc290cm9weToxLHZvaWQgMCE9PW4uZm9ybWF0JiYoYS5mb3JtYXQ9bi5mb3JtYXQpLHZvaWQgMCE9PW4udHlwZSYmKGEudHlwZT1uLnR5cGUpLHZvaWQgMCE9PW4ubWlwbWFwcyYmKGEubWlwbWFwcz1uLm1pcG1hcHMsYS5taW5GaWx0ZXI9JHMpLDE9PT1uLm1pcG1hcENvdW50JiYoYS5taW5GaWx0ZXI9UXMpLGEubmVlZHNVcGRhdGU9ITAsdCYmdChhLG4pKX0sbixyKSxhfX0pLG1pLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaGkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6bWksbG9hZDpmdW5jdGlvbihlLHQsbixyKXtmdW5jdGlvbiBpKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLGksITEpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYSwhMSksdXAuYWRkKGUsdGhpcyksdCYmdCh0aGlzKSxvLm1hbmFnZXIuaXRlbUVuZChlKX1mdW5jdGlvbiBhKHQpe2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixpLCExKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGEsITEpLHImJnIodCksby5tYW5hZ2VyLml0ZW1FcnJvcihlKSxvLm1hbmFnZXIuaXRlbUVuZChlKX12b2lkIDAhPT10aGlzLnBhdGgmJihlPXRoaXMucGF0aCtlKSxlPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpO3ZhciBvPXRoaXMscz11cC5nZXQoZSk7aWYodm9pZCAwIT09cylyZXR1cm4gby5tYW5hZ2VyLml0ZW1TdGFydChlKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCYmdChzKSxvLm1hbmFnZXIuaXRlbUVuZChlKX0sMCksczt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJpbWdcIik7cmV0dXJuIGMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixpLCExKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGEsITEpLFwiZGF0YTpcIiE9PWUuc3Vic3RyKDAsNSkmJnZvaWQgMCE9PXRoaXMuY3Jvc3NPcmlnaW4mJihjLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW4pLG8ubWFuYWdlci5pdGVtU3RhcnQoZSksYy5zcmM9ZSxjfX0pLHZpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaGkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6dmksbG9hZDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uZXcgbWUsYT1uZXcgbWkodGhpcy5tYW5hZ2VyKTthLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLGEuc2V0UGF0aCh0aGlzLnBhdGgpO2Zvcih2YXIgbz0wLHM9MDtzPGUubGVuZ3RoOysrcykhZnVuY3Rpb24obil7YS5sb2FkKGVbbl0sZnVuY3Rpb24oZSl7aS5pbWFnZXNbbl09ZSw2PT0rK28mJihpLm5lZWRzVXBkYXRlPSEwLHQmJnQoaSkpfSx2b2lkIDAscil9KHMpO3JldHVybiBpfX0pLGdpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaGkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Z2ksbG9hZDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uZXcgbyxhPW5ldyBtaSh0aGlzLm1hbmFnZXIpO3JldHVybiBhLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLGEuc2V0UGF0aCh0aGlzLnBhdGgpLGEubG9hZChlLGZ1bmN0aW9uKG4pe2kuaW1hZ2U9bjt2YXIgcj1lLnNlYXJjaCgvXFwuanBlP2coJHxcXD8pL2kpPjB8fDA9PT1lLnNlYXJjaCgvXmRhdGFcXDppbWFnZVxcL2pwZWcvKTtpLmZvcm1hdD1yP2RjOmZjLGkubmVlZHNVcGRhdGU9ITAsdm9pZCAwIT09dCYmdChpKX0sbixyKSxpfX0pLE9iamVjdC5hc3NpZ24oeWkucHJvdG90eXBlLHtnZXRQb2ludDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5DdXJ2ZTogLmdldFBvaW50KCkgbm90IGltcGxlbWVudGVkLlwiKSxudWxsfSxnZXRQb2ludEF0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRVdG9UbWFwcGluZyhlKTtyZXR1cm4gdGhpcy5nZXRQb2ludChuLHQpfSxnZXRQb2ludHM6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9NSk7Zm9yKHZhciB0PVtdLG49MDtuPD1lO24rKyl0LnB1c2godGhpcy5nZXRQb2ludChuL2UpKTtyZXR1cm4gdH0sZ2V0U3BhY2VkUG9pbnRzOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPTUpO2Zvcih2YXIgdD1bXSxuPTA7bjw9ZTtuKyspdC5wdXNoKHRoaXMuZ2V0UG9pbnRBdChuL2UpKTtyZXR1cm4gdH0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRMZW5ndGhzKCk7cmV0dXJuIGVbZS5sZW5ndGgtMV19LGdldExlbmd0aHM6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnMpLHRoaXMuY2FjaGVBcmNMZW5ndGhzJiZ0aGlzLmNhY2hlQXJjTGVuZ3Rocy5sZW5ndGg9PT1lKzEmJiF0aGlzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Roczt0aGlzLm5lZWRzVXBkYXRlPSExO3ZhciB0LG4scj1bXSxpPXRoaXMuZ2V0UG9pbnQoMCksYT0wO2ZvcihyLnB1c2goMCksbj0xO248PWU7bisrKXQ9dGhpcy5nZXRQb2ludChuL2UpLGErPXQuZGlzdGFuY2VUbyhpKSxyLnB1c2goYSksaT10O3JldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Rocz1yLHJ9LHVwZGF0ZUFyY0xlbmd0aHM6ZnVuY3Rpb24oKXt0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXMuZ2V0TGVuZ3RocygpfSxnZXRVdG9UbWFwcGluZzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5nZXRMZW5ndGhzKCksaT0wLGE9ci5sZW5ndGg7bj10fHxlKnJbYS0xXTtmb3IodmFyIG8scz0wLGM9YS0xO3M8PWM7KWlmKGk9TWF0aC5mbG9vcihzKyhjLXMpLzIpLChvPXJbaV0tbik8MClzPWkrMTtlbHNle2lmKCEobz4wKSl7Yz1pO2JyZWFrfWM9aS0xfWlmKGk9YyxyW2ldPT09bilyZXR1cm4gaS8oYS0xKTt2YXIgbD1yW2ldO3JldHVybihpKyhuLWwpLyhyW2krMV0tbCkpLyhhLTEpfSxnZXRUYW5nZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUtMWUtNCxuPWUrMWUtNDt0PDAmJih0PTApLG4+MSYmKG49MSk7dmFyIHI9dGhpcy5nZXRQb2ludCh0KTtyZXR1cm4gdGhpcy5nZXRQb2ludChuKS5jbG9uZSgpLnN1YihyKS5ub3JtYWxpemUoKX0sZ2V0VGFuZ2VudEF0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VXRvVG1hcHBpbmcoZSk7cmV0dXJuIHRoaXMuZ2V0VGFuZ2VudCh0KX0sY29tcHV0ZUZyZW5ldEZyYW1lczpmdW5jdGlvbihlLHQpe3ZhciBuLHIsYSxvPW5ldyBpLHM9W10sYz1bXSxsPVtdLHU9bmV3IGkscD1uZXcgaDtmb3Iobj0wO248PWU7bisrKXI9bi9lLHNbbl09dGhpcy5nZXRUYW5nZW50QXQociksc1tuXS5ub3JtYWxpemUoKTtjWzBdPW5ldyBpLGxbMF09bmV3IGk7dmFyIGQ9TnVtYmVyLk1BWF9WQUxVRSxmPU1hdGguYWJzKHNbMF0ueCksbT1NYXRoLmFicyhzWzBdLnkpLHY9TWF0aC5hYnMoc1swXS56KTtmb3IoZjw9ZCYmKGQ9ZixvLnNldCgxLDAsMCkpLG08PWQmJihkPW0sby5zZXQoMCwxLDApKSx2PD1kJiZvLnNldCgwLDAsMSksdS5jcm9zc1ZlY3RvcnMoc1swXSxvKS5ub3JtYWxpemUoKSxjWzBdLmNyb3NzVmVjdG9ycyhzWzBdLHUpLGxbMF0uY3Jvc3NWZWN0b3JzKHNbMF0sY1swXSksbj0xO248PWU7bisrKWNbbl09Y1tuLTFdLmNsb25lKCksbFtuXT1sW24tMV0uY2xvbmUoKSx1LmNyb3NzVmVjdG9ycyhzW24tMV0sc1tuXSksdS5sZW5ndGgoKT5OdW1iZXIuRVBTSUxPTiYmKHUubm9ybWFsaXplKCksYT1NYXRoLmFjb3MobGwuY2xhbXAoc1tuLTFdLmRvdChzW25dKSwtMSwxKSksY1tuXS5hcHBseU1hdHJpeDQocC5tYWtlUm90YXRpb25BeGlzKHUsYSkpKSxsW25dLmNyb3NzVmVjdG9ycyhzW25dLGNbbl0pO2lmKCEwPT09dClmb3IoYT1NYXRoLmFjb3MobGwuY2xhbXAoY1swXS5kb3QoY1tlXSksLTEsMSkpLGEvPWUsc1swXS5kb3QodS5jcm9zc1ZlY3RvcnMoY1swXSxjW2VdKSk+MCYmKGE9LWEpLG49MTtuPD1lO24rKyljW25dLmFwcGx5TWF0cml4NChwLm1ha2VSb3RhdGlvbkF4aXMoc1tuXSxhKm4pKSxsW25dLmNyb3NzVmVjdG9ycyhzW25dLGNbbl0pO3JldHVybnt0YW5nZW50czpzLG5vcm1hbHM6YyxiaW5vcm1hbHM6bH19LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz1lLmFyY0xlbmd0aERpdmlzaW9ucyx0aGlzfSx0b0pTT046ZnVuY3Rpb24oKXt2YXIgZT17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6XCJDdXJ2ZVwiLGdlbmVyYXRvcjpcIkN1cnZlLnRvSlNPTlwifX07cmV0dXJuIGUuYXJjTGVuZ3RoRGl2aXNpb25zPXRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zLGUudHlwZT10aGlzLnR5cGUsZX0sZnJvbUpTT046ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPWUuYXJjTGVuZ3RoRGl2aXNpb25zLHRoaXN9fSkseGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeWkucHJvdG90eXBlKSx4aS5wcm90b3R5cGUuY29uc3RydWN0b3I9eGkseGkucHJvdG90eXBlLmlzRWxsaXBzZUN1cnZlPSEwLHhpLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10fHxuZXcgbixpPTIqTWF0aC5QSSxhPXRoaXMuYUVuZEFuZ2xlLXRoaXMuYVN0YXJ0QW5nbGUsbz1NYXRoLmFicyhhKTxOdW1iZXIuRVBTSUxPTjthPDA7KWErPWk7Zm9yKDthPmk7KWEtPWk7YTxOdW1iZXIuRVBTSUxPTiYmKGE9bz8wOmkpLCEwIT09dGhpcy5hQ2xvY2t3aXNlfHxvfHwoYT09PWk/YT0taTphLT1pKTt2YXIgcz10aGlzLmFTdGFydEFuZ2xlK2UqYSxjPXRoaXMuYVgrdGhpcy54UmFkaXVzKk1hdGguY29zKHMpLGw9dGhpcy5hWSt0aGlzLnlSYWRpdXMqTWF0aC5zaW4ocyk7aWYoMCE9PXRoaXMuYVJvdGF0aW9uKXt2YXIgaD1NYXRoLmNvcyh0aGlzLmFSb3RhdGlvbiksdT1NYXRoLnNpbih0aGlzLmFSb3RhdGlvbikscD1jLXRoaXMuYVgsZD1sLXRoaXMuYVk7Yz1wKmgtZCp1K3RoaXMuYVgsbD1wKnUrZCpoK3RoaXMuYVl9cmV0dXJuIHIuc2V0KGMsbCl9LHhpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5hWD1lLmFYLHRoaXMuYVk9ZS5hWSx0aGlzLnhSYWRpdXM9ZS54UmFkaXVzLHRoaXMueVJhZGl1cz1lLnlSYWRpdXMsdGhpcy5hU3RhcnRBbmdsZT1lLmFTdGFydEFuZ2xlLHRoaXMuYUVuZEFuZ2xlPWUuYUVuZEFuZ2xlLHRoaXMuYUNsb2Nrd2lzZT1lLmFDbG9ja3dpc2UsdGhpcy5hUm90YXRpb249ZS5hUm90YXRpb24sdGhpc30seGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXlpLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS5hWD10aGlzLmFYLGUuYVk9dGhpcy5hWSxlLnhSYWRpdXM9dGhpcy54UmFkaXVzLGUueVJhZGl1cz10aGlzLnlSYWRpdXMsZS5hU3RhcnRBbmdsZT10aGlzLmFTdGFydEFuZ2xlLGUuYUVuZEFuZ2xlPXRoaXMuYUVuZEFuZ2xlLGUuYUNsb2Nrd2lzZT10aGlzLmFDbG9ja3dpc2UsZS5hUm90YXRpb249dGhpcy5hUm90YXRpb24sZX0seGkucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMuYVg9ZS5hWCx0aGlzLmFZPWUuYVksdGhpcy54UmFkaXVzPWUueFJhZGl1cyx0aGlzLnlSYWRpdXM9ZS55UmFkaXVzLHRoaXMuYVN0YXJ0QW5nbGU9ZS5hU3RhcnRBbmdsZSx0aGlzLmFFbmRBbmdsZT1lLmFFbmRBbmdsZSx0aGlzLmFDbG9ja3dpc2U9ZS5hQ2xvY2t3aXNlLHRoaXMuYVJvdGF0aW9uPWUuYVJvdGF0aW9uLHRoaXN9LGJpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHhpLnByb3RvdHlwZSksYmkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWJpLGJpLnByb3RvdHlwZS5pc0FyY0N1cnZlPSEwO3ZhciBmcD1uZXcgaSxtcD1uZXcgd2ksdnA9bmV3IHdpLGdwPW5ldyB3aTtfaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh5aS5wcm90b3R5cGUpLF9pLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1faSxfaS5wcm90b3R5cGUuaXNDYXRtdWxsUm9tQ3VydmUzPSEwLF9pLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbihlLHQpe3ZhciBuPXR8fG5ldyBpLHI9dGhpcy5wb2ludHMsYT1yLmxlbmd0aCxvPShhLSh0aGlzLmNsb3NlZD8wOjEpKSplLHM9TWF0aC5mbG9vcihvKSxjPW8tczt0aGlzLmNsb3NlZD9zKz1zPjA/MDooTWF0aC5mbG9vcihNYXRoLmFicyhzKS9hKSsxKSphOjA9PT1jJiZzPT09YS0xJiYocz1hLTIsYz0xKTt2YXIgbCxoLHUscDtpZih0aGlzLmNsb3NlZHx8cz4wP2w9clsocy0xKSVhXTooZnAuc3ViVmVjdG9ycyhyWzBdLHJbMV0pLmFkZChyWzBdKSxsPWZwKSxoPXJbcyVhXSx1PXJbKHMrMSklYV0sdGhpcy5jbG9zZWR8fHMrMjxhP3A9clsocysyKSVhXTooZnAuc3ViVmVjdG9ycyhyW2EtMV0sclthLTJdKS5hZGQoclthLTFdKSxwPWZwKSxcImNlbnRyaXBldGFsXCI9PT10aGlzLmN1cnZlVHlwZXx8XCJjaG9yZGFsXCI9PT10aGlzLmN1cnZlVHlwZSl7dmFyIGQ9XCJjaG9yZGFsXCI9PT10aGlzLmN1cnZlVHlwZT8uNTouMjUsZj1NYXRoLnBvdyhsLmRpc3RhbmNlVG9TcXVhcmVkKGgpLGQpLG09TWF0aC5wb3coaC5kaXN0YW5jZVRvU3F1YXJlZCh1KSxkKSx2PU1hdGgucG93KHUuZGlzdGFuY2VUb1NxdWFyZWQocCksZCk7bTwxZS00JiYobT0xKSxmPDFlLTQmJihmPW0pLHY8MWUtNCYmKHY9bSksbXAuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueCxoLngsdS54LHAueCxmLG0sdiksdnAuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueSxoLnksdS55LHAueSxmLG0sdiksZ3AuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKGwueixoLnosdS56LHAueixmLG0sdil9ZWxzZVwiY2F0bXVsbHJvbVwiPT09dGhpcy5jdXJ2ZVR5cGUmJihtcC5pbml0Q2F0bXVsbFJvbShsLngsaC54LHUueCxwLngsdGhpcy50ZW5zaW9uKSx2cC5pbml0Q2F0bXVsbFJvbShsLnksaC55LHUueSxwLnksdGhpcy50ZW5zaW9uKSxncC5pbml0Q2F0bXVsbFJvbShsLnosaC56LHUueixwLnosdGhpcy50ZW5zaW9uKSk7cmV0dXJuIG4uc2V0KG1wLmNhbGMoYyksdnAuY2FsYyhjKSxncC5jYWxjKGMpKSxufSxfaS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXt5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5wb2ludHM9W107Zm9yKHZhciB0PTAsbj1lLnBvaW50cy5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaChyLmNsb25lKCkpfXJldHVybiB0aGlzLmNsb3NlZD1lLmNsb3NlZCx0aGlzLmN1cnZlVHlwZT1lLmN1cnZlVHlwZSx0aGlzLnRlbnNpb249ZS50ZW5zaW9uLHRoaXN9LF9pLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT15aS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7ZS5wb2ludHM9W107Zm9yKHZhciB0PTAsbj10aGlzLnBvaW50cy5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9dGhpcy5wb2ludHNbdF07ZS5wb2ludHMucHVzaChyLnRvQXJyYXkoKSl9cmV0dXJuIGUuY2xvc2VkPXRoaXMuY2xvc2VkLGUuY3VydmVUeXBlPXRoaXMuY3VydmVUeXBlLGUudGVuc2lvbj10aGlzLnRlbnNpb24sZX0sX2kucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3lpLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsZSksdGhpcy5wb2ludHM9W107Zm9yKHZhciB0PTAsbj1lLnBvaW50cy5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9ZS5wb2ludHNbdF07dGhpcy5wb2ludHMucHVzaCgobmV3IGkpLmZyb21BcnJheShyKSl9cmV0dXJuIHRoaXMuY2xvc2VkPWUuY2xvc2VkLHRoaXMuY3VydmVUeXBlPWUuY3VydmVUeXBlLHRoaXMudGVuc2lvbj1lLnRlbnNpb24sdGhpc30sRGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeWkucHJvdG90eXBlKSxEaS5wcm90b3R5cGUuY29uc3RydWN0b3I9RGksRGkucHJvdG90eXBlLmlzQ3ViaWNCZXppZXJDdXJ2ZT0hMCxEaS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxuZXcgbixpPXRoaXMudjAsYT10aGlzLnYxLG89dGhpcy52MixzPXRoaXMudjM7cmV0dXJuIHIuc2V0KE9pKGUsaS54LGEueCxvLngscy54KSxPaShlLGkueSxhLnksby55LHMueSkpLHJ9LERpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpcy52My5jb3B5KGUudjMpLHRoaXN9LERpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT15aS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGUudjM9dGhpcy52My50b0FycmF5KCksZX0sRGkucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9LElpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSksSWkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUlpLElpLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPSEwLElpLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbihlLHQpe3ZhciBuPXR8fG5ldyBpLHI9dGhpcy52MCxhPXRoaXMudjEsbz10aGlzLnYyLHM9dGhpcy52MztyZXR1cm4gbi5zZXQoT2koZSxyLngsYS54LG8ueCxzLngpLE9pKGUsci55LGEueSxvLnkscy55KSxPaShlLHIueixhLnosby56LHMueikpLG59LElpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpcy52My5jb3B5KGUudjMpLHRoaXN9LElpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT15aS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGUudjM9dGhpcy52My50b0FycmF5KCksZX0sSWkucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9LE5pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSksTmkucHJvdG90eXBlLmNvbnN0cnVjdG9yPU5pLE5pLnByb3RvdHlwZS5pc0xpbmVDdXJ2ZT0hMCxOaS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxuZXcgbjtyZXR1cm4gMT09PWU/ci5jb3B5KHRoaXMudjIpOihyLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLHIubXVsdGlwbHlTY2FsYXIoZSkuYWRkKHRoaXMudjEpKSxyfSxOaS5wcm90b3R5cGUuZ2V0UG9pbnRBdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldFBvaW50KGUsdCl9LE5pLnByb3RvdHlwZS5nZXRUYW5nZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudjIuY2xvbmUoKS5zdWIodGhpcy52MSkubm9ybWFsaXplKCl9LE5pLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MS5jb3B5KGUudjEpLHRoaXMudjIuY29weShlLnYyKSx0aGlzfSxOaS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9eWkucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX0sTmkucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9LHppLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSksemkucHJvdG90eXBlLmNvbnN0cnVjdG9yPXppLHppLnByb3RvdHlwZS5pc0xpbmVDdXJ2ZTM9ITAsemkucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8bmV3IGk7cmV0dXJuIDE9PT1lP24uY29weSh0aGlzLnYyKToobi5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxuLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLnYxKSksbn0semkucHJvdG90eXBlLmdldFBvaW50QXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZXRQb2ludChlLHQpfSx6aS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtyZXR1cm4geWkucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc30semkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXlpLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9LHppLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4geWkucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxlKSx0aGlzLnYxLmZyb21BcnJheShlLnYxKSx0aGlzLnYyLmZyb21BcnJheShlLnYyKSx0aGlzfSxCaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh5aS5wcm90b3R5cGUpLEJpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1CaSxCaS5wcm90b3R5cGUuaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZT0hMCxCaS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxuZXcgbixpPXRoaXMudjAsYT10aGlzLnYxLG89dGhpcy52MjtyZXR1cm4gci5zZXQoQWkoZSxpLngsYS54LG8ueCksQWkoZSxpLnksYS55LG8ueSkpLHJ9LEJpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc30sQmkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXlpLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS52MD10aGlzLnYwLnRvQXJyYXkoKSxlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX0sQmkucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9LFVpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSksVWkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVVpLFVpLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlMz0hMCxVaS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxuZXcgaSxyPXRoaXMudjAsYT10aGlzLnYxLG89dGhpcy52MjtyZXR1cm4gbi5zZXQoQWkoZSxyLngsYS54LG8ueCksQWkoZSxyLnksYS55LG8ueSksQWkoZSxyLnosYS56LG8ueikpLG59LFVpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc30sVWkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXlpLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS52MD10aGlzLnYwLnRvQXJyYXkoKSxlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX0sVWkucHJvdG90eXBlLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9LEZpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSksRmkucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZpLEZpLnByb3RvdHlwZS5pc1NwbGluZUN1cnZlPSEwLEZpLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbihlLHQpe3ZhciByPXR8fG5ldyBuLGk9dGhpcy5wb2ludHMsYT0oaS5sZW5ndGgtMSkqZSxvPU1hdGguZmxvb3IoYSkscz1hLW8sYz1pWzA9PT1vP286by0xXSxsPWlbb10saD1pW28+aS5sZW5ndGgtMj9pLmxlbmd0aC0xOm8rMV0sdT1pW28+aS5sZW5ndGgtMz9pLmxlbmd0aC0xOm8rMl07cmV0dXJuIHIuc2V0KE1pKHMsYy54LGwueCxoLngsdS54KSxNaShzLGMueSxsLnksaC55LHUueSkpLHJ9LEZpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3lpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLnBvaW50cz1bXTtmb3IodmFyIHQ9MCxuPWUucG9pbnRzLmxlbmd0aDt0PG47dCsrKXt2YXIgcj1lLnBvaW50c1t0XTt0aGlzLnBvaW50cy5wdXNoKHIuY2xvbmUoKSl9cmV0dXJuIHRoaXN9LEZpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT15aS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7ZS5wb2ludHM9W107Zm9yKHZhciB0PTAsbj10aGlzLnBvaW50cy5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9dGhpcy5wb2ludHNbdF07ZS5wb2ludHMucHVzaChyLnRvQXJyYXkoKSl9cmV0dXJuIGV9LEZpLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbihlKXt5aS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMucG9pbnRzPVtdO2Zvcih2YXIgdD0wLHI9ZS5wb2ludHMubGVuZ3RoO3Q8cjt0Kyspe3ZhciBpPWUucG9pbnRzW3RdO3RoaXMucG9pbnRzLnB1c2goKG5ldyBuKS5mcm9tQXJyYXkoaSkpfXJldHVybiB0aGlzfTt2YXIgeXA9T2JqZWN0LmZyZWV6ZSh7QXJjQ3VydmU6YmksQ2F0bXVsbFJvbUN1cnZlMzpfaSxDdWJpY0JlemllckN1cnZlOkRpLEN1YmljQmV6aWVyQ3VydmUzOklpLEVsbGlwc2VDdXJ2ZTp4aSxMaW5lQ3VydmU6TmksTGluZUN1cnZlMzp6aSxRdWFkcmF0aWNCZXppZXJDdXJ2ZTpCaSxRdWFkcmF0aWNCZXppZXJDdXJ2ZTM6VWksU3BsaW5lQ3VydmU6Rml9KTtHaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkdpLGFkZDpmdW5jdGlvbihlKXt0aGlzLmN1cnZlcy5wdXNoKGUpfSxjbG9zZVBhdGg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnZlc1swXS5nZXRQb2ludCgwKSx0PXRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aC0xXS5nZXRQb2ludCgxKTtlLmVxdWFscyh0KXx8dGhpcy5jdXJ2ZXMucHVzaChuZXcgTmkodCxlKSl9LGdldFBvaW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lKnRoaXMuZ2V0TGVuZ3RoKCksbj10aGlzLmdldEN1cnZlTGVuZ3RocygpLHI9MDtyPG4ubGVuZ3RoOyl7aWYobltyXT49dCl7dmFyIGk9bltyXS10LGE9dGhpcy5jdXJ2ZXNbcl0sbz1hLmdldExlbmd0aCgpLHM9MD09PW8/MDoxLWkvbztyZXR1cm4gYS5nZXRQb2ludEF0KHMpfXIrK31yZXR1cm4gbnVsbH0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtyZXR1cm4gZVtlLmxlbmd0aC0xXX0sdXBkYXRlQXJjTGVuZ3RoczpmdW5jdGlvbigpe3RoaXMubmVlZHNVcGRhdGU9ITAsdGhpcy5jYWNoZUxlbmd0aHM9bnVsbCx0aGlzLmdldEN1cnZlTGVuZ3RocygpfSxnZXRDdXJ2ZUxlbmd0aHM6ZnVuY3Rpb24oKXtpZih0aGlzLmNhY2hlTGVuZ3RocyYmdGhpcy5jYWNoZUxlbmd0aHMubGVuZ3RoPT09dGhpcy5jdXJ2ZXMubGVuZ3RoKXJldHVybiB0aGlzLmNhY2hlTGVuZ3Rocztmb3IodmFyIGU9W10sdD0wLG49MCxyPXRoaXMuY3VydmVzLmxlbmd0aDtuPHI7bisrKXQrPXRoaXMuY3VydmVzW25dLmdldExlbmd0aCgpLGUucHVzaCh0KTtyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM9ZSxlfSxnZXRTcGFjZWRQb2ludHM6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9NDApO2Zvcih2YXIgdD1bXSxuPTA7bjw9ZTtuKyspdC5wdXNoKHRoaXMuZ2V0UG9pbnQobi9lKSk7cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZ0LnB1c2godFswXSksdH0sZ2V0UG9pbnRzOmZ1bmN0aW9uKGUpe2U9ZXx8MTI7Zm9yKHZhciB0LG49W10scj0wLGk9dGhpcy5jdXJ2ZXM7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz1hJiZhLmlzRWxsaXBzZUN1cnZlPzIqZTphJiYoYS5pc0xpbmVDdXJ2ZXx8YS5pc0xpbmVDdXJ2ZTMpPzE6YSYmYS5pc1NwbGluZUN1cnZlP2UqYS5wb2ludHMubGVuZ3RoOmUscz1hLmdldFBvaW50cyhvKSxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBsPXNbY107dCYmdC5lcXVhbHMobCl8fChuLnB1c2gobCksdD1sKX1yZXR1cm4gdGhpcy5hdXRvQ2xvc2UmJm4ubGVuZ3RoPjEmJiFuW24ubGVuZ3RoLTFdLmVxdWFscyhuWzBdKSYmbi5wdXNoKG5bMF0pLG59LGNvcHk6ZnVuY3Rpb24oZSl7eWkucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY3VydmVzPVtdO2Zvcih2YXIgdD0wLG49ZS5jdXJ2ZXMubGVuZ3RoO3Q8bjt0Kyspe3ZhciByPWUuY3VydmVzW3RdO3RoaXMuY3VydmVzLnB1c2goci5jbG9uZSgpKX1yZXR1cm4gdGhpcy5hdXRvQ2xvc2U9ZS5hdXRvQ2xvc2UsdGhpc30sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIGU9eWkucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2UuYXV0b0Nsb3NlPXRoaXMuYXV0b0Nsb3NlLGUuY3VydmVzPVtdO2Zvcih2YXIgdD0wLG49dGhpcy5jdXJ2ZXMubGVuZ3RoO3Q8bjt0Kyspe3ZhciByPXRoaXMuY3VydmVzW3RdO2UuY3VydmVzLnB1c2goci50b0pTT04oKSl9cmV0dXJuIGV9LGZyb21KU09OOmZ1bmN0aW9uKGUpe3lpLnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsZSksdGhpcy5hdXRvQ2xvc2U9ZS5hdXRvQ2xvc2UsdGhpcy5jdXJ2ZXM9W107Zm9yKHZhciB0PTAsbj1lLmN1cnZlcy5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9ZS5jdXJ2ZXNbdF07dGhpcy5jdXJ2ZXMucHVzaCgobmV3IHlwW3IudHlwZV0pLmZyb21KU09OKHIpKX1yZXR1cm4gdGhpc319KSxIaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEdpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkhpLHNldEZyb21Qb2ludHM6ZnVuY3Rpb24oZSl7dGhpcy5tb3ZlVG8oZVswXS54LGVbMF0ueSk7Zm9yKHZhciB0PTEsbj1lLmxlbmd0aDt0PG47dCsrKXRoaXMubGluZVRvKGVbdF0ueCxlW3RdLnkpO3JldHVybiB0aGlzfSxtb3ZlVG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jdXJyZW50UG9pbnQuc2V0KGUsdCksdGhpc30sbGluZVRvOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IE5pKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IG4oZSx0KSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gociksdGhpcy5jdXJyZW50UG9pbnQuc2V0KGUsdCksdGhpc30scXVhZHJhdGljQ3VydmVUbzpmdW5jdGlvbihlLHQscixpKXt2YXIgYT1uZXcgQmkodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgbihlLHQpLG5ldyBuKHIsaSkpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKGEpLHRoaXMuY3VycmVudFBvaW50LnNldChyLGkpLHRoaXN9LGJlemllckN1cnZlVG86ZnVuY3Rpb24oZSx0LHIsaSxhLG8pe3ZhciBzPW5ldyBEaSh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLG5ldyBuKGUsdCksbmV3IG4ocixpKSxuZXcgbihhLG8pKTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChzKSx0aGlzLmN1cnJlbnRQb2ludC5zZXQoYSxvKSx0aGlzfSxzcGxpbmVUaHJ1OmZ1bmN0aW9uKGUpe3ZhciB0PVt0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpXS5jb25jYXQoZSksbj1uZXcgRmkodCk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gobiksdGhpcy5jdXJyZW50UG9pbnQuY29weShlW2UubGVuZ3RoLTFdKSx0aGlzfSxhcmM6ZnVuY3Rpb24oZSx0LG4scixpLGEpe3ZhciBvPXRoaXMuY3VycmVudFBvaW50Lngscz10aGlzLmN1cnJlbnRQb2ludC55O3JldHVybiB0aGlzLmFic2FyYyhlK28sdCtzLG4scixpLGEpLHRoaXN9LGFic2FyYzpmdW5jdGlvbihlLHQsbixyLGksYSl7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZShlLHQsbixuLHIsaSxhKSx0aGlzfSxlbGxpcHNlOmZ1bmN0aW9uKGUsdCxuLHIsaSxhLG8scyl7dmFyIGM9dGhpcy5jdXJyZW50UG9pbnQueCxsPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZShlK2MsdCtsLG4scixpLGEsbyxzKSx0aGlzfSxhYnNlbGxpcHNlOmZ1bmN0aW9uKGUsdCxuLHIsaSxhLG8scyl7dmFyIGM9bmV3IHhpKGUsdCxuLHIsaSxhLG8scyk7aWYodGhpcy5jdXJ2ZXMubGVuZ3RoPjApe3ZhciBsPWMuZ2V0UG9pbnQoMCk7bC5lcXVhbHModGhpcy5jdXJyZW50UG9pbnQpfHx0aGlzLmxpbmVUbyhsLngsbC55KX10aGlzLmN1cnZlcy5wdXNoKGMpO3ZhciBoPWMuZ2V0UG9pbnQoMSk7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LmNvcHkoaCksdGhpc30sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gR2kucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY3VycmVudFBvaW50LmNvcHkoZS5jdXJyZW50UG9pbnQpLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe3ZhciBlPUdpLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50UG9pbnQudG9BcnJheSgpLGV9LGZyb21KU09OOmZ1bmN0aW9uKGUpe3JldHVybiBHaS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMuY3VycmVudFBvaW50LmZyb21BcnJheShlLmN1cnJlbnRQb2ludCksdGhpc319KSxWaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlZpLGdldFBvaW50c0hvbGVzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTAscj10aGlzLmhvbGVzLmxlbmd0aDtuPHI7bisrKXRbbl09dGhpcy5ob2xlc1tuXS5nZXRQb2ludHMoZSk7cmV0dXJuIHR9LGV4dHJhY3RQb2ludHM6ZnVuY3Rpb24oZSl7cmV0dXJue3NoYXBlOnRoaXMuZ2V0UG9pbnRzKGUpLGhvbGVzOnRoaXMuZ2V0UG9pbnRzSG9sZXMoZSl9fSxjb3B5OmZ1bmN0aW9uKGUpe0hpLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmhvbGVzPVtdO2Zvcih2YXIgdD0wLG49ZS5ob2xlcy5sZW5ndGg7dDxuO3QrKyl7dmFyIHI9ZS5ob2xlc1t0XTt0aGlzLmhvbGVzLnB1c2goci5jbG9uZSgpKX1yZXR1cm4gdGhpc30sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIGU9SGkucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2UudXVpZD10aGlzLnV1aWQsZS5ob2xlcz1bXTtmb3IodmFyIHQ9MCxuPXRoaXMuaG9sZXMubGVuZ3RoO3Q8bjt0Kyspe3ZhciByPXRoaXMuaG9sZXNbdF07ZS5ob2xlcy5wdXNoKHIudG9KU09OKCkpfXJldHVybiBlfSxmcm9tSlNPTjpmdW5jdGlvbihlKXtIaS5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudXVpZD1lLnV1aWQsdGhpcy5ob2xlcz1bXTtmb3IodmFyIHQ9MCxuPWUuaG9sZXMubGVuZ3RoO3Q8bjt0Kyspe3ZhciByPWUuaG9sZXNbdF07dGhpcy5ob2xlcy5wdXNoKChuZXcgSGkpLmZyb21KU09OKHIpKX1yZXR1cm4gdGhpc319KSxqaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6amksaXNMaWdodDohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBkLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmNvbG9yLmNvcHkoZS5jb2xvciksdGhpcy5pbnRlbnNpdHk9ZS5pbnRlbnNpdHksdGhpc30sdG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0PWQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSk7cmV0dXJuIHQub2JqZWN0LmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksdC5vYmplY3QuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5LHZvaWQgMCE9PXRoaXMuZ3JvdW5kQ29sb3ImJih0Lm9iamVjdC5ncm91bmRDb2xvcj10aGlzLmdyb3VuZENvbG9yLmdldEhleCgpKSx2b2lkIDAhPT10aGlzLmRpc3RhbmNlJiYodC5vYmplY3QuZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSksdm9pZCAwIT09dGhpcy5hbmdsZSYmKHQub2JqZWN0LmFuZ2xlPXRoaXMuYW5nbGUpLHZvaWQgMCE9PXRoaXMuZGVjYXkmJih0Lm9iamVjdC5kZWNheT10aGlzLmRlY2F5KSx2b2lkIDAhPT10aGlzLnBlbnVtYnJhJiYodC5vYmplY3QucGVudW1icmE9dGhpcy5wZW51bWJyYSksdm9pZCAwIT09dGhpcy5zaGFkb3cmJih0Lm9iamVjdC5zaGFkb3c9dGhpcy5zaGFkb3cudG9KU09OKCkpLHR9fSksa2kucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShqaS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpraSxpc0hlbWlzcGhlcmVMaWdodDohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBqaS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5ncm91bmRDb2xvci5jb3B5KGUuZ3JvdW5kQ29sb3IpLHRoaXN9fSksT2JqZWN0LmFzc2lnbihXaS5wcm90b3R5cGUse19wcm9qU2NyZWVuTWF0cml4Om5ldyBoLF9saWdodFBvc2l0aW9uV29ybGQ6bmV3IGksX2xvb2tUYXJnZXQ6bmV3IGksZ2V0Vmlld3BvcnRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cG9ydENvdW50fSxnZXRGcnVzdHVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZydXN0dW19LHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2FtZXJhLG49dGhpcy5tYXRyaXgscj10aGlzLl9wcm9qU2NyZWVuTWF0cml4LGk9dGhpcy5fbG9va1RhcmdldCxhPXRoaXMuX2xpZ2h0UG9zaXRpb25Xb3JsZDthLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSx0LnBvc2l0aW9uLmNvcHkoYSksaS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS50YXJnZXQubWF0cml4V29ybGQpLHQubG9va0F0KGkpLHQudXBkYXRlTWF0cml4V29ybGQoKSxyLm11bHRpcGx5TWF0cmljZXModC5wcm9qZWN0aW9uTWF0cml4LHQubWF0cml4V29ybGRJbnZlcnNlKSx0aGlzLl9mcnVzdHVtLnNldEZyb21NYXRyaXgociksbi5zZXQoLjUsMCwwLC41LDAsLjUsMCwuNSwwLDAsLjUsLjUsMCwwLDAsMSksbi5tdWx0aXBseSh0LnByb2plY3Rpb25NYXRyaXgpLG4ubXVsdGlwbHkodC5tYXRyaXhXb3JsZEludmVyc2UpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW2VdfSxnZXRGcmFtZUV4dGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVFeHRlbnRzfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNhbWVyYT1lLmNhbWVyYS5jbG9uZSgpLHRoaXMuYmlhcz1lLmJpYXMsdGhpcy5yYWRpdXM9ZS5yYWRpdXMsdGhpcy5tYXBTaXplLmNvcHkoZS5tYXBTaXplKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIDAhPT10aGlzLmJpYXMmJihlLmJpYXM9dGhpcy5iaWFzKSwxIT09dGhpcy5yYWRpdXMmJihlLnJhZGl1cz10aGlzLnJhZGl1cyksNTEyPT09dGhpcy5tYXBTaXplLngmJjUxMj09PXRoaXMubWFwU2l6ZS55fHwoZS5tYXBTaXplPXRoaXMubWFwU2l6ZS50b0FycmF5KCkpLGUuY2FtZXJhPXRoaXMuY2FtZXJhLnRvSlNPTighMSkub2JqZWN0LGRlbGV0ZSBlLmNhbWVyYS5tYXRyaXgsZX19KSxxaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFdpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnFpLGlzU3BvdExpZ2h0U2hhZG93OiEwLHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2FtZXJhLG49MipsbC5SQUQyREVHKmUuYW5nbGUscj10aGlzLm1hcFNpemUud2lkdGgvdGhpcy5tYXBTaXplLmhlaWdodCxpPWUuZGlzdGFuY2V8fHQuZmFyO249PT10LmZvdiYmcj09PXQuYXNwZWN0JiZpPT09dC5mYXJ8fCh0LmZvdj1uLHQuYXNwZWN0PXIsdC5mYXI9aSx0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSksV2kucHJvdG90eXBlLnVwZGF0ZU1hdHJpY2VzLmNhbGwodGhpcyxlKX19KSxYaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGppLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlhpLGlzU3BvdExpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGppLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmRpc3RhbmNlPWUuZGlzdGFuY2UsdGhpcy5hbmdsZT1lLmFuZ2xlLHRoaXMucGVudW1icmE9ZS5wZW51bWJyYSx0aGlzLmRlY2F5PWUuZGVjYXksdGhpcy50YXJnZXQ9ZS50YXJnZXQuY2xvbmUoKSx0aGlzLnNoYWRvdz1lLnNoYWRvdy5jbG9uZSgpLHRoaXN9fSksWWkucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShXaS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpZaSxpc1BvaW50TGlnaHRTaGFkb3c6ITAsdXBkYXRlTWF0cmljZXM6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0wKTt2YXIgbj10aGlzLmNhbWVyYSxyPXRoaXMubWF0cml4LGk9dGhpcy5fbGlnaHRQb3NpdGlvbldvcmxkLGE9dGhpcy5fbG9va1RhcmdldCxvPXRoaXMuX3Byb2pTY3JlZW5NYXRyaXg7aS5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksbi5wb3NpdGlvbi5jb3B5KGkpLGEuY29weShuLnBvc2l0aW9uKSxhLmFkZCh0aGlzLl9jdWJlRGlyZWN0aW9uc1t0XSksbi51cC5jb3B5KHRoaXMuX2N1YmVVcHNbdF0pLG4ubG9va0F0KGEpLG4udXBkYXRlTWF0cml4V29ybGQoKSxyLm1ha2VUcmFuc2xhdGlvbigtaS54LC1pLnksLWkueiksby5tdWx0aXBseU1hdHJpY2VzKG4ucHJvamVjdGlvbk1hdHJpeCxuLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5fZnJ1c3R1bS5zZXRGcm9tTWF0cml4KG8pfX0pLFppLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoamkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6WmksaXNQb2ludExpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGppLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLmRpc3RhbmNlPWUuZGlzdGFuY2UsdGhpcy5kZWNheT1lLmRlY2F5LHRoaXMuc2hhZG93PWUuc2hhZG93LmNsb25lKCksdGhpc319KSxKaS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6SmksaXNPcnRob2dyYXBoaWNDYW1lcmE6ITAsY29weTpmdW5jdGlvbihlLHQpe3JldHVybiBZLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlLHQpLHRoaXMubGVmdD1lLmxlZnQsdGhpcy5yaWdodD1lLnJpZ2h0LHRoaXMudG9wPWUudG9wLHRoaXMuYm90dG9tPWUuYm90dG9tLHRoaXMubmVhcj1lLm5lYXIsdGhpcy5mYXI9ZS5mYXIsdGhpcy56b29tPWUuem9vbSx0aGlzLnZpZXc9bnVsbD09PWUudmlldz9udWxsOk9iamVjdC5hc3NpZ24oe30sZS52aWV3KSx0aGlzfSxzZXRWaWV3T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuLHIsaSxhKXtudWxsPT09dGhpcy52aWV3JiYodGhpcy52aWV3PXtlbmFibGVkOiEwLGZ1bGxXaWR0aDoxLGZ1bGxIZWlnaHQ6MSxvZmZzZXRYOjAsb2Zmc2V0WTowLHdpZHRoOjEsaGVpZ2h0OjF9KSx0aGlzLnZpZXcuZW5hYmxlZD0hMCx0aGlzLnZpZXcuZnVsbFdpZHRoPWUsdGhpcy52aWV3LmZ1bGxIZWlnaHQ9dCx0aGlzLnZpZXcub2Zmc2V0WD1uLHRoaXMudmlldy5vZmZzZXRZPXIsdGhpcy52aWV3LndpZHRoPWksdGhpcy52aWV3LmhlaWdodD1hLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSxjbGVhclZpZXdPZmZzZXQ6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy52aWV3JiYodGhpcy52aWV3LmVuYWJsZWQ9ITEpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSx1cGRhdGVQcm9qZWN0aW9uTWF0cml4OmZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS8oMip0aGlzLnpvb20pLHQ9KHRoaXMudG9wLXRoaXMuYm90dG9tKS8oMip0aGlzLnpvb20pLG49KHRoaXMucmlnaHQrdGhpcy5sZWZ0KS8yLHI9KHRoaXMudG9wK3RoaXMuYm90dG9tKS8yLGk9bi1lLGE9bitlLG89cit0LHM9ci10O2lmKG51bGwhPT10aGlzLnZpZXcmJnRoaXMudmlldy5lbmFibGVkKXt2YXIgYz10aGlzLnpvb20vKHRoaXMudmlldy53aWR0aC90aGlzLnZpZXcuZnVsbFdpZHRoKSxsPXRoaXMuem9vbS8odGhpcy52aWV3LmhlaWdodC90aGlzLnZpZXcuZnVsbEhlaWdodCksaD0odGhpcy5yaWdodC10aGlzLmxlZnQpL3RoaXMudmlldy53aWR0aCx1PSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvdGhpcy52aWV3LmhlaWdodDtpKz1oKih0aGlzLnZpZXcub2Zmc2V0WC9jKSxhPWkraCoodGhpcy52aWV3LndpZHRoL2MpLG8tPXUqKHRoaXMudmlldy5vZmZzZXRZL2wpLHM9by11Kih0aGlzLnZpZXcuaGVpZ2h0L2wpfXRoaXMucHJvamVjdGlvbk1hdHJpeC5tYWtlT3J0aG9ncmFwaGljKGksYSxvLHMsdGhpcy5uZWFyLHRoaXMuZmFyKSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmdldEludmVyc2UodGhpcy5wcm9qZWN0aW9uTWF0cml4KX0sdG9KU09OOmZ1bmN0aW9uKGUpe3ZhciB0PWQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSk7cmV0dXJuIHQub2JqZWN0Lnpvb209dGhpcy56b29tLHQub2JqZWN0LmxlZnQ9dGhpcy5sZWZ0LHQub2JqZWN0LnJpZ2h0PXRoaXMucmlnaHQsdC5vYmplY3QudG9wPXRoaXMudG9wLHQub2JqZWN0LmJvdHRvbT10aGlzLmJvdHRvbSx0Lm9iamVjdC5uZWFyPXRoaXMubmVhcix0Lm9iamVjdC5mYXI9dGhpcy5mYXIsbnVsbCE9PXRoaXMudmlldyYmKHQub2JqZWN0LnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0aGlzLnZpZXcpKSx0fX0pLFFpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoV2kucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UWksaXNEaXJlY3Rpb25hbExpZ2h0U2hhZG93OiEwLHVwZGF0ZU1hdHJpY2VzOmZ1bmN0aW9uKGUpe1dpLnByb3RvdHlwZS51cGRhdGVNYXRyaWNlcy5jYWxsKHRoaXMsZSl9fSksS2kucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShqaS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpLaSxpc0RpcmVjdGlvbmFsTGlnaHQ6ITAsY29weTpmdW5jdGlvbihlKXtyZXR1cm4gamkucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMudGFyZ2V0PWUudGFyZ2V0LmNsb25lKCksdGhpcy5zaGFkb3c9ZS5zaGFkb3cuY2xvbmUoKSx0aGlzfX0pLCRpLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoamkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6JGksaXNBbWJpZW50TGlnaHQ6ITB9KSxlYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGppLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmVhLGlzUmVjdEFyZWFMaWdodDohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBqaS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXN9LHRvSlNPTjpmdW5jdGlvbihlKXt2YXIgdD1qaS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxlKTtyZXR1cm4gdC5vYmplY3Qud2lkdGg9dGhpcy53aWR0aCx0Lm9iamVjdC5oZWlnaHQ9dGhpcy5oZWlnaHQsdH19KSx0YS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnRhLGxvYWQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcyxhPW5ldyB1aShpLm1hbmFnZXIpO2Euc2V0UGF0aChpLnBhdGgpLGEubG9hZChlLGZ1bmN0aW9uKGUpe3QoaS5wYXJzZShKU09OLnBhcnNlKGUpKSl9LG4scil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIHZvaWQgMD09PXJbZV0mJmNvbnNvbGUud2FybihcIlRIUkVFLk1hdGVyaWFsTG9hZGVyOiBVbmRlZmluZWQgdGV4dHVyZVwiLGUpLHJbZV19dmFyIHI9dGhpcy50ZXh0dXJlcyxvPW5ldyBscFtlLnR5cGVdO2lmKHZvaWQgMCE9PWUudXVpZCYmKG8udXVpZD1lLnV1aWQpLHZvaWQgMCE9PWUubmFtZSYmKG8ubmFtZT1lLm5hbWUpLHZvaWQgMCE9PWUuY29sb3ImJm8uY29sb3Iuc2V0SGV4KGUuY29sb3IpLHZvaWQgMCE9PWUucm91Z2huZXNzJiYoby5yb3VnaG5lc3M9ZS5yb3VnaG5lc3MpLHZvaWQgMCE9PWUubWV0YWxuZXNzJiYoby5tZXRhbG5lc3M9ZS5tZXRhbG5lc3MpLHZvaWQgMCE9PWUuc2hlZW4mJihvLnNoZWVuPShuZXcgdykuc2V0SGV4KGUuc2hlZW4pKSx2b2lkIDAhPT1lLmVtaXNzaXZlJiZvLmVtaXNzaXZlLnNldEhleChlLmVtaXNzaXZlKSx2b2lkIDAhPT1lLnNwZWN1bGFyJiZvLnNwZWN1bGFyLnNldEhleChlLnNwZWN1bGFyKSx2b2lkIDAhPT1lLnNoaW5pbmVzcyYmKG8uc2hpbmluZXNzPWUuc2hpbmluZXNzKSx2b2lkIDAhPT1lLmNsZWFyY29hdCYmKG8uY2xlYXJjb2F0PWUuY2xlYXJjb2F0KSx2b2lkIDAhPT1lLmNsZWFyY29hdFJvdWdobmVzcyYmKG8uY2xlYXJjb2F0Um91Z2huZXNzPWUuY2xlYXJjb2F0Um91Z2huZXNzKSx2b2lkIDAhPT1lLnZlcnRleENvbG9ycyYmKG8udmVydGV4Q29sb3JzPWUudmVydGV4Q29sb3JzKSx2b2lkIDAhPT1lLmZvZyYmKG8uZm9nPWUuZm9nKSx2b2lkIDAhPT1lLmZsYXRTaGFkaW5nJiYoby5mbGF0U2hhZGluZz1lLmZsYXRTaGFkaW5nKSx2b2lkIDAhPT1lLmJsZW5kaW5nJiYoby5ibGVuZGluZz1lLmJsZW5kaW5nKSx2b2lkIDAhPT1lLmNvbWJpbmUmJihvLmNvbWJpbmU9ZS5jb21iaW5lKSx2b2lkIDAhPT1lLnNpZGUmJihvLnNpZGU9ZS5zaWRlKSx2b2lkIDAhPT1lLm9wYWNpdHkmJihvLm9wYWNpdHk9ZS5vcGFjaXR5KSx2b2lkIDAhPT1lLnRyYW5zcGFyZW50JiYoby50cmFuc3BhcmVudD1lLnRyYW5zcGFyZW50KSx2b2lkIDAhPT1lLmFscGhhVGVzdCYmKG8uYWxwaGFUZXN0PWUuYWxwaGFUZXN0KSx2b2lkIDAhPT1lLmRlcHRoVGVzdCYmKG8uZGVwdGhUZXN0PWUuZGVwdGhUZXN0KSx2b2lkIDAhPT1lLmRlcHRoV3JpdGUmJihvLmRlcHRoV3JpdGU9ZS5kZXB0aFdyaXRlKSx2b2lkIDAhPT1lLmNvbG9yV3JpdGUmJihvLmNvbG9yV3JpdGU9ZS5jb2xvcldyaXRlKSx2b2lkIDAhPT1lLnN0ZW5jaWxXcml0ZSYmKG8uc3RlbmNpbFdyaXRlPWUuc3RlbmNpbFdyaXRlKSx2b2lkIDAhPT1lLnN0ZW5jaWxXcml0ZU1hc2smJihvLnN0ZW5jaWxXcml0ZU1hc2s9ZS5zdGVuY2lsV3JpdGVNYXNrKSx2b2lkIDAhPT1lLnN0ZW5jaWxGdW5jJiYoby5zdGVuY2lsRnVuYz1lLnN0ZW5jaWxGdW5jKSx2b2lkIDAhPT1lLnN0ZW5jaWxSZWYmJihvLnN0ZW5jaWxSZWY9ZS5zdGVuY2lsUmVmKSx2b2lkIDAhPT1lLnN0ZW5jaWxGdW5jTWFzayYmKG8uc3RlbmNpbEZ1bmNNYXNrPWUuc3RlbmNpbEZ1bmNNYXNrKSx2b2lkIDAhPT1lLnN0ZW5jaWxGYWlsJiYoby5zdGVuY2lsRmFpbD1lLnN0ZW5jaWxGYWlsKSx2b2lkIDAhPT1lLnN0ZW5jaWxaRmFpbCYmKG8uc3RlbmNpbFpGYWlsPWUuc3RlbmNpbFpGYWlsKSx2b2lkIDAhPT1lLnN0ZW5jaWxaUGFzcyYmKG8uc3RlbmNpbFpQYXNzPWUuc3RlbmNpbFpQYXNzKSx2b2lkIDAhPT1lLndpcmVmcmFtZSYmKG8ud2lyZWZyYW1lPWUud2lyZWZyYW1lKSx2b2lkIDAhPT1lLndpcmVmcmFtZUxpbmV3aWR0aCYmKG8ud2lyZWZyYW1lTGluZXdpZHRoPWUud2lyZWZyYW1lTGluZXdpZHRoKSx2b2lkIDAhPT1lLndpcmVmcmFtZUxpbmVjYXAmJihvLndpcmVmcmFtZUxpbmVjYXA9ZS53aXJlZnJhbWVMaW5lY2FwKSx2b2lkIDAhPT1lLndpcmVmcmFtZUxpbmVqb2luJiYoby53aXJlZnJhbWVMaW5lam9pbj1lLndpcmVmcmFtZUxpbmVqb2luKSx2b2lkIDAhPT1lLnJvdGF0aW9uJiYoby5yb3RhdGlvbj1lLnJvdGF0aW9uKSwxIT09ZS5saW5ld2lkdGgmJihvLmxpbmV3aWR0aD1lLmxpbmV3aWR0aCksdm9pZCAwIT09ZS5kYXNoU2l6ZSYmKG8uZGFzaFNpemU9ZS5kYXNoU2l6ZSksdm9pZCAwIT09ZS5nYXBTaXplJiYoby5nYXBTaXplPWUuZ2FwU2l6ZSksdm9pZCAwIT09ZS5zY2FsZSYmKG8uc2NhbGU9ZS5zY2FsZSksdm9pZCAwIT09ZS5wb2x5Z29uT2Zmc2V0JiYoby5wb2x5Z29uT2Zmc2V0PWUucG9seWdvbk9mZnNldCksdm9pZCAwIT09ZS5wb2x5Z29uT2Zmc2V0RmFjdG9yJiYoby5wb2x5Z29uT2Zmc2V0RmFjdG9yPWUucG9seWdvbk9mZnNldEZhY3Rvciksdm9pZCAwIT09ZS5wb2x5Z29uT2Zmc2V0VW5pdHMmJihvLnBvbHlnb25PZmZzZXRVbml0cz1lLnBvbHlnb25PZmZzZXRVbml0cyksdm9pZCAwIT09ZS5za2lubmluZyYmKG8uc2tpbm5pbmc9ZS5za2lubmluZyksdm9pZCAwIT09ZS5tb3JwaFRhcmdldHMmJihvLm1vcnBoVGFyZ2V0cz1lLm1vcnBoVGFyZ2V0cyksdm9pZCAwIT09ZS5tb3JwaE5vcm1hbHMmJihvLm1vcnBoTm9ybWFscz1lLm1vcnBoTm9ybWFscyksdm9pZCAwIT09ZS5kaXRoZXJpbmcmJihvLmRpdGhlcmluZz1lLmRpdGhlcmluZyksdm9pZCAwIT09ZS52aXNpYmxlJiYoby52aXNpYmxlPWUudmlzaWJsZSksdm9pZCAwIT09ZS50b25lTWFwcGVkJiYoby50b25lTWFwcGVkPWUudG9uZU1hcHBlZCksdm9pZCAwIT09ZS51c2VyRGF0YSYmKG8udXNlckRhdGE9ZS51c2VyRGF0YSksdm9pZCAwIT09ZS51bmlmb3Jtcylmb3IodmFyIGMgaW4gZS51bmlmb3Jtcyl7dmFyIGw9ZS51bmlmb3Jtc1tjXTtzd2l0Y2goby51bmlmb3Jtc1tjXT17fSxsLnR5cGUpe2Nhc2VcInRcIjpvLnVuaWZvcm1zW2NdLnZhbHVlPXQobC52YWx1ZSk7YnJlYWs7Y2FzZVwiY1wiOm8udW5pZm9ybXNbY10udmFsdWU9KG5ldyB3KS5zZXRIZXgobC52YWx1ZSk7YnJlYWs7Y2FzZVwidjJcIjpvLnVuaWZvcm1zW2NdLnZhbHVlPShuZXcgbikuZnJvbUFycmF5KGwudmFsdWUpO2JyZWFrO2Nhc2VcInYzXCI6by51bmlmb3Jtc1tjXS52YWx1ZT0obmV3IGkpLmZyb21BcnJheShsLnZhbHVlKTticmVhaztjYXNlXCJ2NFwiOm8udW5pZm9ybXNbY10udmFsdWU9KG5ldyBzKS5mcm9tQXJyYXkobC52YWx1ZSk7YnJlYWs7Y2FzZVwibTNcIjpvLnVuaWZvcm1zW2NdLnZhbHVlPShuZXcgYSkuZnJvbUFycmF5KGwudmFsdWUpO2Nhc2VcIm00XCI6by51bmlmb3Jtc1tjXS52YWx1ZT0obmV3IGgpLmZyb21BcnJheShsLnZhbHVlKTticmVhaztkZWZhdWx0Om8udW5pZm9ybXNbY10udmFsdWU9bC52YWx1ZX19aWYodm9pZCAwIT09ZS5kZWZpbmVzJiYoby5kZWZpbmVzPWUuZGVmaW5lcyksXG52b2lkIDAhPT1lLnZlcnRleFNoYWRlciYmKG8udmVydGV4U2hhZGVyPWUudmVydGV4U2hhZGVyKSx2b2lkIDAhPT1lLmZyYWdtZW50U2hhZGVyJiYoby5mcmFnbWVudFNoYWRlcj1lLmZyYWdtZW50U2hhZGVyKSx2b2lkIDAhPT1lLmV4dGVuc2lvbnMpZm9yKHZhciB1IGluIGUuZXh0ZW5zaW9ucylvLmV4dGVuc2lvbnNbdV09ZS5leHRlbnNpb25zW3VdO2lmKHZvaWQgMCE9PWUuc2hhZGluZyYmKG8uZmxhdFNoYWRpbmc9MT09PWUuc2hhZGluZyksdm9pZCAwIT09ZS5zaXplJiYoby5zaXplPWUuc2l6ZSksdm9pZCAwIT09ZS5zaXplQXR0ZW51YXRpb24mJihvLnNpemVBdHRlbnVhdGlvbj1lLnNpemVBdHRlbnVhdGlvbiksdm9pZCAwIT09ZS5tYXAmJihvLm1hcD10KGUubWFwKSksdm9pZCAwIT09ZS5tYXRjYXAmJihvLm1hdGNhcD10KGUubWF0Y2FwKSksdm9pZCAwIT09ZS5hbHBoYU1hcCYmKG8uYWxwaGFNYXA9dChlLmFscGhhTWFwKSxvLnRyYW5zcGFyZW50PSEwKSx2b2lkIDAhPT1lLmJ1bXBNYXAmJihvLmJ1bXBNYXA9dChlLmJ1bXBNYXApKSx2b2lkIDAhPT1lLmJ1bXBTY2FsZSYmKG8uYnVtcFNjYWxlPWUuYnVtcFNjYWxlKSx2b2lkIDAhPT1lLm5vcm1hbE1hcCYmKG8ubm9ybWFsTWFwPXQoZS5ub3JtYWxNYXApKSx2b2lkIDAhPT1lLm5vcm1hbE1hcFR5cGUmJihvLm5vcm1hbE1hcFR5cGU9ZS5ub3JtYWxNYXBUeXBlKSx2b2lkIDAhPT1lLm5vcm1hbFNjYWxlKXt2YXIgcD1lLm5vcm1hbFNjYWxlOyExPT09QXJyYXkuaXNBcnJheShwKSYmKHA9W3AscF0pLG8ubm9ybWFsU2NhbGU9KG5ldyBuKS5mcm9tQXJyYXkocCl9cmV0dXJuIHZvaWQgMCE9PWUuZGlzcGxhY2VtZW50TWFwJiYoby5kaXNwbGFjZW1lbnRNYXA9dChlLmRpc3BsYWNlbWVudE1hcCkpLHZvaWQgMCE9PWUuZGlzcGxhY2VtZW50U2NhbGUmJihvLmRpc3BsYWNlbWVudFNjYWxlPWUuZGlzcGxhY2VtZW50U2NhbGUpLHZvaWQgMCE9PWUuZGlzcGxhY2VtZW50QmlhcyYmKG8uZGlzcGxhY2VtZW50Qmlhcz1lLmRpc3BsYWNlbWVudEJpYXMpLHZvaWQgMCE9PWUucm91Z2huZXNzTWFwJiYoby5yb3VnaG5lc3NNYXA9dChlLnJvdWdobmVzc01hcCkpLHZvaWQgMCE9PWUubWV0YWxuZXNzTWFwJiYoby5tZXRhbG5lc3NNYXA9dChlLm1ldGFsbmVzc01hcCkpLHZvaWQgMCE9PWUuZW1pc3NpdmVNYXAmJihvLmVtaXNzaXZlTWFwPXQoZS5lbWlzc2l2ZU1hcCkpLHZvaWQgMCE9PWUuZW1pc3NpdmVJbnRlbnNpdHkmJihvLmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHkpLHZvaWQgMCE9PWUuc3BlY3VsYXJNYXAmJihvLnNwZWN1bGFyTWFwPXQoZS5zcGVjdWxhck1hcCkpLHZvaWQgMCE9PWUuZW52TWFwJiYoby5lbnZNYXA9dChlLmVudk1hcCkpLHZvaWQgMCE9PWUuZW52TWFwSW50ZW5zaXR5JiYoby5lbnZNYXBJbnRlbnNpdHk9ZS5lbnZNYXBJbnRlbnNpdHkpLHZvaWQgMCE9PWUucmVmbGVjdGl2aXR5JiYoby5yZWZsZWN0aXZpdHk9ZS5yZWZsZWN0aXZpdHkpLHZvaWQgMCE9PWUucmVmcmFjdGlvblJhdGlvJiYoby5yZWZyYWN0aW9uUmF0aW89ZS5yZWZyYWN0aW9uUmF0aW8pLHZvaWQgMCE9PWUubGlnaHRNYXAmJihvLmxpZ2h0TWFwPXQoZS5saWdodE1hcCkpLHZvaWQgMCE9PWUubGlnaHRNYXBJbnRlbnNpdHkmJihvLmxpZ2h0TWFwSW50ZW5zaXR5PWUubGlnaHRNYXBJbnRlbnNpdHkpLHZvaWQgMCE9PWUuYW9NYXAmJihvLmFvTWFwPXQoZS5hb01hcCkpLHZvaWQgMCE9PWUuYW9NYXBJbnRlbnNpdHkmJihvLmFvTWFwSW50ZW5zaXR5PWUuYW9NYXBJbnRlbnNpdHkpLHZvaWQgMCE9PWUuZ3JhZGllbnRNYXAmJihvLmdyYWRpZW50TWFwPXQoZS5ncmFkaWVudE1hcCkpLHZvaWQgMCE9PWUuY2xlYXJjb2F0Tm9ybWFsTWFwJiYoby5jbGVhcmNvYXROb3JtYWxNYXA9dChlLmNsZWFyY29hdE5vcm1hbE1hcCkpLHZvaWQgMCE9PWUuY2xlYXJjb2F0Tm9ybWFsU2NhbGUmJihvLmNsZWFyY29hdE5vcm1hbFNjYWxlPShuZXcgbikuZnJvbUFycmF5KGUuY2xlYXJjb2F0Tm9ybWFsU2NhbGUpKSxvfSxzZXRUZXh0dXJlczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50ZXh0dXJlcz1lLHRoaXN9fSk7dmFyIHhwPXtkZWNvZGVUZXh0OmZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RGVjb2RlcilyZXR1cm4obmV3IFRleHREZWNvZGVyKS5kZWNvZGUoZSk7Zm9yKHZhciB0PVwiXCIsbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZSh0KSl9Y2F0Y2goZSl7cmV0dXJuIHR9fSxleHRyYWN0VXJsQmFzZTpmdW5jdGlvbihlKXt2YXIgdD1lLmxhc3RJbmRleE9mKFwiL1wiKTtyZXR1cm4tMT09PXQ/XCIuL1wiOmUuc3Vic3RyKDAsdCsxKX19O25hLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpuYSxpc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5OiEwLGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIEcucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMubWF4SW5zdGFuY2VkQ291bnQ9ZS5tYXhJbnN0YW5jZWRDb3VudCx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIGU9Ry5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUubWF4SW5zdGFuY2VkQ291bnQ9dGhpcy5tYXhJbnN0YW5jZWRDb3VudCxlLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9ITAsZX19KSxyYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEwucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6cmEsaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU6ITAsY29weTpmdW5jdGlvbihlKXtyZXR1cm4gTC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5tZXNoUGVyQXR0cmlidXRlPWUubWVzaFBlckF0dHJpYnV0ZSx0aGlzfSx0b0pTT046ZnVuY3Rpb24oKXt2YXIgZT1MLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS5tZXNoUGVyQXR0cmlidXRlPXRoaXMubWVzaFBlckF0dHJpYnV0ZSxlLmlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlPSEwLGV9fSksaWEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShoaS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjppYSxsb2FkOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMsYT1uZXcgdWkoaS5tYW5hZ2VyKTthLnNldFBhdGgoaS5wYXRoKSxhLmxvYWQoZSxmdW5jdGlvbihlKXt0KGkucGFyc2UoSlNPTi5wYXJzZShlKSkpfSxuLHIpfSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdD1lLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk/bmV3IG5hOm5ldyBHLG49ZS5kYXRhLmluZGV4O2lmKHZvaWQgMCE9PW4pe3ZhciByPW5ldyBicFtuLnR5cGVdKG4uYXJyYXkpO3Quc2V0SW5kZXgobmV3IEwociwxKSl9dmFyIGE9ZS5kYXRhLmF0dHJpYnV0ZXM7Zm9yKHZhciBvIGluIGEpe3ZhciBzPWFbb10scj1uZXcgYnBbcy50eXBlXShzLmFycmF5KSxjPXMuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU/cmE6TCxsPW5ldyBjKHIscy5pdGVtU2l6ZSxzLm5vcm1hbGl6ZWQpO3ZvaWQgMCE9PXMubmFtZSYmKGwubmFtZT1zLm5hbWUpLHQuc2V0QXR0cmlidXRlKG8sbCl9dmFyIGg9ZS5kYXRhLm1vcnBoQXR0cmlidXRlcztpZihoKWZvcih2YXIgbyBpbiBoKXtmb3IodmFyIHU9aFtvXSxwPVtdLGQ9MCxmPXUubGVuZ3RoO2Q8ZjtkKyspe3ZhciBzPXVbZF0scj1uZXcgYnBbcy50eXBlXShzLmFycmF5KSxsPW5ldyBMKHIscy5pdGVtU2l6ZSxzLm5vcm1hbGl6ZWQpO3ZvaWQgMCE9PXMubmFtZSYmKGwubmFtZT1zLm5hbWUpLHAucHVzaChsKX10Lm1vcnBoQXR0cmlidXRlc1tvXT1wfWUuZGF0YS5tb3JwaFRhcmdldHNSZWxhdGl2ZSYmKHQubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITApO3ZhciBtPWUuZGF0YS5ncm91cHN8fGUuZGF0YS5kcmF3Y2FsbHN8fGUuZGF0YS5vZmZzZXRzO2lmKHZvaWQgMCE9PW0pZm9yKHZhciBkPTAsdj1tLmxlbmd0aDtkIT09djsrK2Qpe3ZhciB5PW1bZF07dC5hZGRHcm91cCh5LnN0YXJ0LHkuY291bnQseS5tYXRlcmlhbEluZGV4KX12YXIgeD1lLmRhdGEuYm91bmRpbmdTcGhlcmU7aWYodm9pZCAwIT09eCl7dmFyIGI9bmV3IGk7dm9pZCAwIT09eC5jZW50ZXImJmIuZnJvbUFycmF5KHguY2VudGVyKSx0LmJvdW5kaW5nU3BoZXJlPW5ldyBnKGIseC5yYWRpdXMpfXJldHVybiBlLm5hbWUmJih0Lm5hbWU9ZS5uYW1lKSxlLnVzZXJEYXRhJiYodC51c2VyRGF0YT1lLnVzZXJEYXRhKSx0fX0pO3ZhciBicD17SW50OEFycmF5OkludDhBcnJheSxVaW50OEFycmF5OlVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P1VpbnQ4Q2xhbXBlZEFycmF5OlVpbnQ4QXJyYXksSW50MTZBcnJheTpJbnQxNkFycmF5LFVpbnQxNkFycmF5OlVpbnQxNkFycmF5LEludDMyQXJyYXk6SW50MzJBcnJheSxVaW50MzJBcnJheTpVaW50MzJBcnJheSxGbG9hdDMyQXJyYXk6RmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheTpGbG9hdDY0QXJyYXl9O2FhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoaGkucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6YWEsbG9hZDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLGE9XCJcIj09PXRoaXMucGF0aD94cC5leHRyYWN0VXJsQmFzZShlKTp0aGlzLnBhdGg7dGhpcy5yZXNvdXJjZVBhdGg9dGhpcy5yZXNvdXJjZVBhdGh8fGE7dmFyIG89bmV3IHVpKGkubWFuYWdlcik7by5zZXRQYXRoKHRoaXMucGF0aCksby5sb2FkKGUsZnVuY3Rpb24obil7dmFyIGE9bnVsbDt0cnl7YT1KU09OLnBhcnNlKG4pfWNhdGNoKHQpe3JldHVybiB2b2lkIDAhPT1yJiZyKHQpLHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFOk9iamVjdExvYWRlcjogQ2FuJ3QgcGFyc2UgXCIrZStcIi5cIix0Lm1lc3NhZ2UpfXZhciBvPWEubWV0YWRhdGE7aWYodm9pZCAwPT09b3x8dm9pZCAwPT09by50eXBlfHxcImdlb21ldHJ5XCI9PT1vLnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuT2JqZWN0TG9hZGVyOiBDYW4ndCBsb2FkIFwiK2UpO2kucGFyc2UoYSx0KX0sbixyKX0scGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnBhcnNlU2hhcGUoZS5zaGFwZXMpLHI9dGhpcy5wYXJzZUdlb21ldHJpZXMoZS5nZW9tZXRyaWVzLG4pLGk9dGhpcy5wYXJzZUltYWdlcyhlLmltYWdlcyxmdW5jdGlvbigpe3ZvaWQgMCE9PXQmJnQocyl9KSxhPXRoaXMucGFyc2VUZXh0dXJlcyhlLnRleHR1cmVzLGkpLG89dGhpcy5wYXJzZU1hdGVyaWFscyhlLm1hdGVyaWFscyxhKSxzPXRoaXMucGFyc2VPYmplY3QoZS5vYmplY3QscixvKTtyZXR1cm4gZS5hbmltYXRpb25zJiYocy5hbmltYXRpb25zPXRoaXMucGFyc2VBbmltYXRpb25zKGUuYW5pbWF0aW9ucykpLHZvaWQgMCE9PWUuaW1hZ2VzJiYwIT09ZS5pbWFnZXMubGVuZ3RofHx2b2lkIDAhPT10JiZ0KHMpLHN9LHBhcnNlU2hhcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYodm9pZCAwIT09ZSlmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspe3ZhciBpPShuZXcgVmkpLmZyb21KU09OKGVbbl0pO3RbaS51dWlkXT1pfXJldHVybiB0fSxwYXJzZUdlb21ldHJpZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZih2b2lkIDAhPT1lKWZvcih2YXIgcj1uZXcgaWEsaT0wLGE9ZS5sZW5ndGg7aTxhO2krKyl7dmFyIG8scz1lW2ldO3N3aXRjaChzLnR5cGUpe2Nhc2VcIlBsYW5lR2VvbWV0cnlcIjpjYXNlXCJQbGFuZUJ1ZmZlckdlb21ldHJ5XCI6bz1uZXcgY3Bbcy50eXBlXShzLndpZHRoLHMuaGVpZ2h0LHMud2lkdGhTZWdtZW50cyxzLmhlaWdodFNlZ21lbnRzKTticmVhaztjYXNlXCJCb3hHZW9tZXRyeVwiOmNhc2VcIkJveEJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiQ3ViZUdlb21ldHJ5XCI6bz1uZXcgY3Bbcy50eXBlXShzLndpZHRoLHMuaGVpZ2h0LHMuZGVwdGgscy53aWR0aFNlZ21lbnRzLHMuaGVpZ2h0U2VnbWVudHMscy5kZXB0aFNlZ21lbnRzKTticmVhaztjYXNlXCJDaXJjbGVHZW9tZXRyeVwiOmNhc2VcIkNpcmNsZUJ1ZmZlckdlb21ldHJ5XCI6bz1uZXcgY3Bbcy50eXBlXShzLnJhZGl1cyxzLnNlZ21lbnRzLHMudGhldGFTdGFydCxzLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlXCJDeWxpbmRlckdlb21ldHJ5XCI6Y2FzZVwiQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeVwiOm89bmV3IGNwW3MudHlwZV0ocy5yYWRpdXNUb3Ascy5yYWRpdXNCb3R0b20scy5oZWlnaHQscy5yYWRpYWxTZWdtZW50cyxzLmhlaWdodFNlZ21lbnRzLHMub3BlbkVuZGVkLHMudGhldGFTdGFydCxzLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlXCJDb25lR2VvbWV0cnlcIjpjYXNlXCJDb25lQnVmZmVyR2VvbWV0cnlcIjpvPW5ldyBjcFtzLnR5cGVdKHMucmFkaXVzLHMuaGVpZ2h0LHMucmFkaWFsU2VnbWVudHMscy5oZWlnaHRTZWdtZW50cyxzLm9wZW5FbmRlZCxzLnRoZXRhU3RhcnQscy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZVwiU3BoZXJlR2VvbWV0cnlcIjpjYXNlXCJTcGhlcmVCdWZmZXJHZW9tZXRyeVwiOm89bmV3IGNwW3MudHlwZV0ocy5yYWRpdXMscy53aWR0aFNlZ21lbnRzLHMuaGVpZ2h0U2VnbWVudHMscy5waGlTdGFydCxzLnBoaUxlbmd0aCxzLnRoZXRhU3RhcnQscy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZVwiRG9kZWNhaGVkcm9uR2VvbWV0cnlcIjpjYXNlXCJEb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeVwiOmNhc2VcIkljb3NhaGVkcm9uR2VvbWV0cnlcIjpjYXNlXCJJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiT2N0YWhlZHJvbkdlb21ldHJ5XCI6Y2FzZVwiT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiVGV0cmFoZWRyb25HZW9tZXRyeVwiOmNhc2VcIlRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnlcIjpvPW5ldyBjcFtzLnR5cGVdKHMucmFkaXVzLHMuZGV0YWlsKTticmVhaztjYXNlXCJSaW5nR2VvbWV0cnlcIjpjYXNlXCJSaW5nQnVmZmVyR2VvbWV0cnlcIjpvPW5ldyBjcFtzLnR5cGVdKHMuaW5uZXJSYWRpdXMscy5vdXRlclJhZGl1cyxzLnRoZXRhU2VnbWVudHMscy5waGlTZWdtZW50cyxzLnRoZXRhU3RhcnQscy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZVwiVG9ydXNHZW9tZXRyeVwiOmNhc2VcIlRvcnVzQnVmZmVyR2VvbWV0cnlcIjpvPW5ldyBjcFtzLnR5cGVdKHMucmFkaXVzLHMudHViZSxzLnJhZGlhbFNlZ21lbnRzLHMudHVidWxhclNlZ21lbnRzLHMuYXJjKTticmVhaztjYXNlXCJUb3J1c0tub3RHZW9tZXRyeVwiOmNhc2VcIlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5XCI6bz1uZXcgY3Bbcy50eXBlXShzLnJhZGl1cyxzLnR1YmUscy50dWJ1bGFyU2VnbWVudHMscy5yYWRpYWxTZWdtZW50cyxzLnAscy5xKTticmVhaztjYXNlXCJUdWJlR2VvbWV0cnlcIjpjYXNlXCJUdWJlQnVmZmVyR2VvbWV0cnlcIjpvPW5ldyBjcFtzLnR5cGVdKChuZXcgeXBbcy5wYXRoLnR5cGVdKS5mcm9tSlNPTihzLnBhdGgpLHMudHVidWxhclNlZ21lbnRzLHMucmFkaXVzLHMucmFkaWFsU2VnbWVudHMscy5jbG9zZWQpO2JyZWFrO2Nhc2VcIkxhdGhlR2VvbWV0cnlcIjpjYXNlXCJMYXRoZUJ1ZmZlckdlb21ldHJ5XCI6bz1uZXcgY3Bbcy50eXBlXShzLnBvaW50cyxzLnNlZ21lbnRzLHMucGhpU3RhcnQscy5waGlMZW5ndGgpO2JyZWFrO2Nhc2VcIlBvbHloZWRyb25HZW9tZXRyeVwiOmNhc2VcIlBvbHloZWRyb25CdWZmZXJHZW9tZXRyeVwiOm89bmV3IGNwW3MudHlwZV0ocy52ZXJ0aWNlcyxzLmluZGljZXMscy5yYWRpdXMscy5kZXRhaWxzKTticmVhaztjYXNlXCJTaGFwZUdlb21ldHJ5XCI6Y2FzZVwiU2hhcGVCdWZmZXJHZW9tZXRyeVwiOmZvcih2YXIgYz1bXSxsPTAsaD1zLnNoYXBlcy5sZW5ndGg7bDxoO2wrKyl7dmFyIHU9dFtzLnNoYXBlc1tsXV07Yy5wdXNoKHUpfW89bmV3IGNwW3MudHlwZV0oYyxzLmN1cnZlU2VnbWVudHMpO2JyZWFrO2Nhc2VcIkV4dHJ1ZGVHZW9tZXRyeVwiOmNhc2VcIkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeVwiOmZvcih2YXIgYz1bXSxsPTAsaD1zLnNoYXBlcy5sZW5ndGg7bDxoO2wrKyl7dmFyIHU9dFtzLnNoYXBlc1tsXV07Yy5wdXNoKHUpfXZhciBwPXMub3B0aW9ucy5leHRydWRlUGF0aDt2b2lkIDAhPT1wJiYocy5vcHRpb25zLmV4dHJ1ZGVQYXRoPShuZXcgeXBbcC50eXBlXSkuZnJvbUpTT04ocCkpLG89bmV3IGNwW3MudHlwZV0oYyxzLm9wdGlvbnMpO2JyZWFrO2Nhc2VcIkJ1ZmZlckdlb21ldHJ5XCI6Y2FzZVwiSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnlcIjpvPXIucGFyc2Uocyk7YnJlYWs7Y2FzZVwiR2VvbWV0cnlcIjppZihcIlRIUkVFXCJpbiB3aW5kb3cmJlwiTGVnYWN5SlNPTkxvYWRlclwiaW4gVEhSRUUpe3ZhciBkPW5ldyBUSFJFRS5MZWdhY3lKU09OTG9hZGVyO289ZC5wYXJzZShzLHRoaXMucmVzb3VyY2VQYXRoKS5nZW9tZXRyeX1lbHNlIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdExvYWRlcjogWW91IGhhdmUgdG8gaW1wb3J0IExlZ2FjeUpTT05Mb2FkZXIgaW4gb3JkZXIgbG9hZCBnZW9tZXRyeSBkYXRhIG9mIHR5cGUgXCJHZW9tZXRyeVwiLicpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IFVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGUgXCInK3MudHlwZSsnXCInKTtjb250aW51ZX1vLnV1aWQ9cy51dWlkLHZvaWQgMCE9PXMubmFtZSYmKG8ubmFtZT1zLm5hbWUpLCEwPT09by5pc0J1ZmZlckdlb21ldHJ5JiZ2b2lkIDAhPT1zLnVzZXJEYXRhJiYoby51c2VyRGF0YT1zLnVzZXJEYXRhKSxuW3MudXVpZF09b31yZXR1cm4gbn0scGFyc2VNYXRlcmlhbHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxyPXt9O2lmKHZvaWQgMCE9PWUpe3ZhciBpPW5ldyB0YTtpLnNldFRleHR1cmVzKHQpO2Zvcih2YXIgYT0wLG89ZS5sZW5ndGg7YTxvO2ErKyl7dmFyIHM9ZVthXTtpZihcIk11bHRpTWF0ZXJpYWxcIj09PXMudHlwZSl7Zm9yKHZhciBjPVtdLGw9MDtsPHMubWF0ZXJpYWxzLmxlbmd0aDtsKyspe3ZhciBoPXMubWF0ZXJpYWxzW2xdO3ZvaWQgMD09PW5baC51dWlkXSYmKG5baC51dWlkXT1pLnBhcnNlKGgpKSxjLnB1c2gobltoLnV1aWRdKX1yW3MudXVpZF09Y31lbHNlIHZvaWQgMD09PW5bcy51dWlkXSYmKG5bcy51dWlkXT1pLnBhcnNlKHMpKSxyW3MudXVpZF09bltzLnV1aWRdfX1yZXR1cm4gcn0scGFyc2VBbmltYXRpb25zOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0saT1vaS5wYXJzZShyKTt2b2lkIDAhPT1yLnV1aWQmJihpLnV1aWQ9ci51dWlkKSx0LnB1c2goaSl9cmV0dXJuIHR9LHBhcnNlSW1hZ2VzOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gci5tYW5hZ2VyLml0ZW1TdGFydChlKSxvLmxvYWQoZSxmdW5jdGlvbigpe3IubWFuYWdlci5pdGVtRW5kKGUpfSx2b2lkIDAsZnVuY3Rpb24oKXtyLm1hbmFnZXIuaXRlbUVycm9yKGUpLHIubWFuYWdlci5pdGVtRW5kKGUpfSl9dmFyIHI9dGhpcyxpPXt9O2lmKHZvaWQgMCE9PWUmJmUubGVuZ3RoPjApe3ZhciBhPW5ldyBsaSh0KSxvPW5ldyBtaShhKTtvLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2Zvcih2YXIgcz0wLGM9ZS5sZW5ndGg7czxjO3MrKyl7dmFyIGw9ZVtzXSxoPWwudXJsO2lmKEFycmF5LmlzQXJyYXkoaCkpe2lbbC51dWlkXT1bXTtmb3IodmFyIHU9MCxwPWgubGVuZ3RoO3U8cDt1Kyspe3ZhciBkPWhbdV0sZj0vXihcXC9cXC8pfChbYS16XSs6KFxcL1xcLyk/KS9pLnRlc3QoZCk/ZDpyLnJlc291cmNlUGF0aCtkO2lbbC51dWlkXS5wdXNoKG4oZikpfX1lbHNle3ZhciBmPS9eKFxcL1xcLyl8KFthLXpdKzooXFwvXFwvKT8pL2kudGVzdChsLnVybCk/bC51cmw6ci5yZXNvdXJjZVBhdGgrbC51cmw7aVtsLnV1aWRdPW4oZil9fX1yZXR1cm4gaX0scGFyc2VUZXh0dXJlczpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9lOihjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXIucGFyc2VUZXh0dXJlOiBDb25zdGFudCBzaG91bGQgYmUgaW4gbnVtZXJpYyBmb3JtLlwiLGUpLHRbZV0pfXZhciByPXt9O2lmKHZvaWQgMCE9PWUpZm9yKHZhciBpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKXt2YXIgcz1lW2ldO3ZvaWQgMD09PXMuaW1hZ2UmJmNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBObyBcImltYWdlXCIgc3BlY2lmaWVkIGZvcicscy51dWlkKSx2b2lkIDA9PT10W3MuaW1hZ2VdJiZjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBpbWFnZVwiLHMuaW1hZ2UpO3ZhciBjO2M9QXJyYXkuaXNBcnJheSh0W3MuaW1hZ2VdKT9uZXcgbWUodFtzLmltYWdlXSk6bmV3IG8odFtzLmltYWdlXSksYy5uZWVkc1VwZGF0ZT0hMCxjLnV1aWQ9cy51dWlkLHZvaWQgMCE9PXMubmFtZSYmKGMubmFtZT1zLm5hbWUpLHZvaWQgMCE9PXMubWFwcGluZyYmKGMubWFwcGluZz1uKHMubWFwcGluZyx3cCkpLHZvaWQgMCE9PXMub2Zmc2V0JiZjLm9mZnNldC5mcm9tQXJyYXkocy5vZmZzZXQpLHZvaWQgMCE9PXMucmVwZWF0JiZjLnJlcGVhdC5mcm9tQXJyYXkocy5yZXBlYXQpLHZvaWQgMCE9PXMuY2VudGVyJiZjLmNlbnRlci5mcm9tQXJyYXkocy5jZW50ZXIpLHZvaWQgMCE9PXMucm90YXRpb24mJihjLnJvdGF0aW9uPXMucm90YXRpb24pLHZvaWQgMCE9PXMud3JhcCYmKGMud3JhcFM9bihzLndyYXBbMF0sX3ApLGMud3JhcFQ9bihzLndyYXBbMV0sX3ApKSx2b2lkIDAhPT1zLmZvcm1hdCYmKGMuZm9ybWF0PXMuZm9ybWF0KSx2b2lkIDAhPT1zLnR5cGUmJihjLnR5cGU9cy50eXBlKSx2b2lkIDAhPT1zLmVuY29kaW5nJiYoYy5lbmNvZGluZz1zLmVuY29kaW5nKSx2b2lkIDAhPT1zLm1pbkZpbHRlciYmKGMubWluRmlsdGVyPW4ocy5taW5GaWx0ZXIsTXApKSx2b2lkIDAhPT1zLm1hZ0ZpbHRlciYmKGMubWFnRmlsdGVyPW4ocy5tYWdGaWx0ZXIsTXApKSx2b2lkIDAhPT1zLmFuaXNvdHJvcHkmJihjLmFuaXNvdHJvcHk9cy5hbmlzb3Ryb3B5KSx2b2lkIDAhPT1zLmZsaXBZJiYoYy5mbGlwWT1zLmZsaXBZKSx2b2lkIDAhPT1zLnByZW11bHRpcGx5QWxwaGEmJihjLnByZW11bHRpcGx5QWxwaGE9cy5wcmVtdWx0aXBseUFscGhhKSx2b2lkIDAhPT1zLnVucGFja0FsaWdubWVudCYmKGMudW5wYWNrQWxpZ25tZW50PXMudW5wYWNrQWxpZ25tZW50KSxyW3MudXVpZF09Y31yZXR1cm4gcn0scGFyc2VPYmplY3Q6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIHZvaWQgMD09PXRbZV0mJmNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIGdlb21ldHJ5XCIsZSksdFtlXX1mdW5jdGlvbiBpKGUpe2lmKHZvaWQgMCE9PWUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD1bXSxyPTAsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgYT1lW3JdO3ZvaWQgMD09PW5bYV0mJmNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIG1hdGVyaWFsXCIsYSksdC5wdXNoKG5bYV0pfXJldHVybiB0fXJldHVybiB2b2lkIDA9PT1uW2VdJiZjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBtYXRlcmlhbFwiLGUpLG5bZV19fXZhciBhO3N3aXRjaChlLnR5cGUpe2Nhc2VcIlNjZW5lXCI6YT1uZXcgZix2b2lkIDAhPT1lLmJhY2tncm91bmQmJk51bWJlci5pc0ludGVnZXIoZS5iYWNrZ3JvdW5kKSYmKGEuYmFja2dyb3VuZD1uZXcgdyhlLmJhY2tncm91bmQpKSx2b2lkIDAhPT1lLmZvZyYmKFwiRm9nXCI9PT1lLmZvZy50eXBlP2EuZm9nPW5ldyAkdChlLmZvZy5jb2xvcixlLmZvZy5uZWFyLGUuZm9nLmZhcik6XCJGb2dFeHAyXCI9PT1lLmZvZy50eXBlJiYoYS5mb2c9bmV3IEt0KGUuZm9nLmNvbG9yLGUuZm9nLmRlbnNpdHkpKSk7YnJlYWs7Y2FzZVwiUGVyc3BlY3RpdmVDYW1lcmFcIjphPW5ldyBaKGUuZm92LGUuYXNwZWN0LGUubmVhcixlLmZhciksdm9pZCAwIT09ZS5mb2N1cyYmKGEuZm9jdXM9ZS5mb2N1cyksdm9pZCAwIT09ZS56b29tJiYoYS56b29tPWUuem9vbSksdm9pZCAwIT09ZS5maWxtR2F1Z2UmJihhLmZpbG1HYXVnZT1lLmZpbG1HYXVnZSksdm9pZCAwIT09ZS5maWxtT2Zmc2V0JiYoYS5maWxtT2Zmc2V0PWUuZmlsbU9mZnNldCksdm9pZCAwIT09ZS52aWV3JiYoYS52aWV3PU9iamVjdC5hc3NpZ24oe30sZS52aWV3KSk7YnJlYWs7Y2FzZVwiT3J0aG9ncmFwaGljQ2FtZXJhXCI6YT1uZXcgSmkoZS5sZWZ0LGUucmlnaHQsZS50b3AsZS5ib3R0b20sZS5uZWFyLGUuZmFyKSx2b2lkIDAhPT1lLnpvb20mJihhLnpvb209ZS56b29tKSx2b2lkIDAhPT1lLnZpZXcmJihhLnZpZXc9T2JqZWN0LmFzc2lnbih7fSxlLnZpZXcpKTticmVhaztjYXNlXCJBbWJpZW50TGlnaHRcIjphPW5ldyAkaShlLmNvbG9yLGUuaW50ZW5zaXR5KTticmVhaztjYXNlXCJEaXJlY3Rpb25hbExpZ2h0XCI6YT1uZXcgS2koZS5jb2xvcixlLmludGVuc2l0eSk7YnJlYWs7Y2FzZVwiUG9pbnRMaWdodFwiOmE9bmV3IFppKGUuY29sb3IsZS5pbnRlbnNpdHksZS5kaXN0YW5jZSxlLmRlY2F5KTticmVhaztjYXNlXCJSZWN0QXJlYUxpZ2h0XCI6YT1uZXcgZWEoZS5jb2xvcixlLmludGVuc2l0eSxlLndpZHRoLGUuaGVpZ2h0KTticmVhaztjYXNlXCJTcG90TGlnaHRcIjphPW5ldyBYaShlLmNvbG9yLGUuaW50ZW5zaXR5LGUuZGlzdGFuY2UsZS5hbmdsZSxlLnBlbnVtYnJhLGUuZGVjYXkpO2JyZWFrO2Nhc2VcIkhlbWlzcGhlcmVMaWdodFwiOmE9bmV3IGtpKGUuY29sb3IsZS5ncm91bmRDb2xvcixlLmludGVuc2l0eSk7YnJlYWs7Y2FzZVwiU2tpbm5lZE1lc2hcIjpjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXIucGFyc2VPYmplY3QoKSBkb2VzIG5vdCBzdXBwb3J0IFNraW5uZWRNZXNoIHlldC5cIik7Y2FzZVwiTWVzaFwiOnZhciBvPXIoZS5nZW9tZXRyeSkscz1pKGUubWF0ZXJpYWwpO2E9by5ib25lcyYmby5ib25lcy5sZW5ndGg+MD9uZXcgc24obyxzKTpuZXcgSChvLHMpO2JyZWFrO2Nhc2VcIkluc3RhbmNlZE1lc2hcIjp2YXIgbz1yKGUuZ2VvbWV0cnkpLHM9aShlLm1hdGVyaWFsKSxjPWUuY291bnQsbD1lLmluc3RhbmNlTWF0cml4O2E9bmV3IGhuKG8scyxjKSxhLmluc3RhbmNlTWF0cml4PW5ldyBMKG5ldyBGbG9hdDMyQXJyYXkobC5hcnJheSksMTYpO2JyZWFrO2Nhc2VcIkxPRFwiOmE9bmV3IG9uO2JyZWFrO2Nhc2VcIkxpbmVcIjphPW5ldyBwbihyKGUuZ2VvbWV0cnkpLGkoZS5tYXRlcmlhbCksZS5tb2RlKTticmVhaztjYXNlXCJMaW5lTG9vcFwiOmE9bmV3IGZuKHIoZS5nZW9tZXRyeSksaShlLm1hdGVyaWFsKSk7YnJlYWs7Y2FzZVwiTGluZVNlZ21lbnRzXCI6YT1uZXcgZG4ocihlLmdlb21ldHJ5KSxpKGUubWF0ZXJpYWwpKTticmVhaztjYXNlXCJQb2ludENsb3VkXCI6Y2FzZVwiUG9pbnRzXCI6YT1uZXcgdm4ocihlLmdlb21ldHJ5KSxpKGUubWF0ZXJpYWwpKTticmVhaztjYXNlXCJTcHJpdGVcIjphPW5ldyBybihpKGUubWF0ZXJpYWwpKTticmVhaztjYXNlXCJHcm91cFwiOmE9bmV3IHF0O2JyZWFrO2RlZmF1bHQ6YT1uZXcgZH1pZihhLnV1aWQ9ZS51dWlkLHZvaWQgMCE9PWUubmFtZSYmKGEubmFtZT1lLm5hbWUpLHZvaWQgMCE9PWUubWF0cml4PyhhLm1hdHJpeC5mcm9tQXJyYXkoZS5tYXRyaXgpLHZvaWQgMCE9PWUubWF0cml4QXV0b1VwZGF0ZSYmKGEubWF0cml4QXV0b1VwZGF0ZT1lLm1hdHJpeEF1dG9VcGRhdGUpLGEubWF0cml4QXV0b1VwZGF0ZSYmYS5tYXRyaXguZGVjb21wb3NlKGEucG9zaXRpb24sYS5xdWF0ZXJuaW9uLGEuc2NhbGUpKToodm9pZCAwIT09ZS5wb3NpdGlvbiYmYS5wb3NpdGlvbi5mcm9tQXJyYXkoZS5wb3NpdGlvbiksdm9pZCAwIT09ZS5yb3RhdGlvbiYmYS5yb3RhdGlvbi5mcm9tQXJyYXkoZS5yb3RhdGlvbiksdm9pZCAwIT09ZS5xdWF0ZXJuaW9uJiZhLnF1YXRlcm5pb24uZnJvbUFycmF5KGUucXVhdGVybmlvbiksdm9pZCAwIT09ZS5zY2FsZSYmYS5zY2FsZS5mcm9tQXJyYXkoZS5zY2FsZSkpLHZvaWQgMCE9PWUuY2FzdFNoYWRvdyYmKGEuY2FzdFNoYWRvdz1lLmNhc3RTaGFkb3cpLHZvaWQgMCE9PWUucmVjZWl2ZVNoYWRvdyYmKGEucmVjZWl2ZVNoYWRvdz1lLnJlY2VpdmVTaGFkb3cpLGUuc2hhZG93JiYodm9pZCAwIT09ZS5zaGFkb3cuYmlhcyYmKGEuc2hhZG93LmJpYXM9ZS5zaGFkb3cuYmlhcyksdm9pZCAwIT09ZS5zaGFkb3cucmFkaXVzJiYoYS5zaGFkb3cucmFkaXVzPWUuc2hhZG93LnJhZGl1cyksdm9pZCAwIT09ZS5zaGFkb3cubWFwU2l6ZSYmYS5zaGFkb3cubWFwU2l6ZS5mcm9tQXJyYXkoZS5zaGFkb3cubWFwU2l6ZSksdm9pZCAwIT09ZS5zaGFkb3cuY2FtZXJhJiYoYS5zaGFkb3cuY2FtZXJhPXRoaXMucGFyc2VPYmplY3QoZS5zaGFkb3cuY2FtZXJhKSkpLHZvaWQgMCE9PWUudmlzaWJsZSYmKGEudmlzaWJsZT1lLnZpc2libGUpLHZvaWQgMCE9PWUuZnJ1c3R1bUN1bGxlZCYmKGEuZnJ1c3R1bUN1bGxlZD1lLmZydXN0dW1DdWxsZWQpLHZvaWQgMCE9PWUucmVuZGVyT3JkZXImJihhLnJlbmRlck9yZGVyPWUucmVuZGVyT3JkZXIpLHZvaWQgMCE9PWUudXNlckRhdGEmJihhLnVzZXJEYXRhPWUudXNlckRhdGEpLHZvaWQgMCE9PWUubGF5ZXJzJiYoYS5sYXllcnMubWFzaz1lLmxheWVycyksdm9pZCAwIT09ZS5jaGlsZHJlbilmb3IodmFyIGg9ZS5jaGlsZHJlbix1PTA7dTxoLmxlbmd0aDt1KyspYS5hZGQodGhpcy5wYXJzZU9iamVjdChoW3VdLHQsbikpO2lmKFwiTE9EXCI9PT1lLnR5cGUpe3ZvaWQgMCE9PWUuYXV0b1VwZGF0ZSYmKGEuYXV0b1VwZGF0ZT1lLmF1dG9VcGRhdGUpO2Zvcih2YXIgcD1lLmxldmVscyxtPTA7bTxwLmxlbmd0aDttKyspe3ZhciB2PXBbbV0sZz1hLmdldE9iamVjdEJ5UHJvcGVydHkoXCJ1dWlkXCIsdi5vYmplY3QpO3ZvaWQgMCE9PWcmJmEuYWRkTGV2ZWwoZyx2LmRpc3RhbmNlKX19cmV0dXJuIGF9fSk7dmFyIHdwPXtVVk1hcHBpbmc6MzAwLEN1YmVSZWZsZWN0aW9uTWFwcGluZzpVcyxDdWJlUmVmcmFjdGlvbk1hcHBpbmc6RnMsRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmc6R3MsRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc6SHMsU3BoZXJpY2FsUmVmbGVjdGlvbk1hcHBpbmc6VnMsQ3ViZVVWUmVmbGVjdGlvbk1hcHBpbmc6anMsQ3ViZVVWUmVmcmFjdGlvbk1hcHBpbmc6a3N9LF9wPXtSZXBlYXRXcmFwcGluZzpXcyxDbGFtcFRvRWRnZVdyYXBwaW5nOnFzLE1pcnJvcmVkUmVwZWF0V3JhcHBpbmc6WHN9LE1wPXtOZWFyZXN0RmlsdGVyOllzLE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyOlpzLE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXI6SnMsTGluZWFyRmlsdGVyOlFzLExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXI6S3MsTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyOiRzfTtvYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOm9hLHNldE9wdGlvbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW9ucz1lLHRoaXN9LGxvYWQ6ZnVuY3Rpb24oZSx0LG4scil7dm9pZCAwPT09ZSYmKGU9XCJcIiksdm9pZCAwIT09dGhpcy5wYXRoJiYoZT10aGlzLnBhdGgrZSksZT10aGlzLm1hbmFnZXIucmVzb2x2ZVVSTChlKTt2YXIgaT10aGlzLGE9dXAuZ2V0KGUpO2lmKHZvaWQgMCE9PWEpcmV0dXJuIGkubWFuYWdlci5pdGVtU3RhcnQoZSksc2V0VGltZW91dChmdW5jdGlvbigpe3QmJnQoYSksaS5tYW5hZ2VyLml0ZW1FbmQoZSl9LDApLGE7ZmV0Y2goZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5ibG9iKCl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1pLm9wdGlvbnM/Y3JlYXRlSW1hZ2VCaXRtYXAoZSk6Y3JlYXRlSW1hZ2VCaXRtYXAoZSxpLm9wdGlvbnMpfSkudGhlbihmdW5jdGlvbihuKXt1cC5hZGQoZSxuKSx0JiZ0KG4pLGkubWFuYWdlci5pdGVtRW5kKGUpfSkuY2F0Y2goZnVuY3Rpb24odCl7ciYmcih0KSxpLm1hbmFnZXIuaXRlbUVycm9yKGUpLGkubWFuYWdlci5pdGVtRW5kKGUpfSksaS5tYW5hZ2VyLml0ZW1TdGFydChlKX19KSxPYmplY3QuYXNzaWduKHNhLnByb3RvdHlwZSx7bW92ZVRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGg9bmV3IEhpLHRoaXMuc3ViUGF0aHMucHVzaCh0aGlzLmN1cnJlbnRQYXRoKSx0aGlzLmN1cnJlbnRQYXRoLm1vdmVUbyhlLHQpLHRoaXN9LGxpbmVUbzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoLmxpbmVUbyhlLHQpLHRoaXN9LHF1YWRyYXRpY0N1cnZlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuY3VycmVudFBhdGgucXVhZHJhdGljQ3VydmVUbyhlLHQsbixyKSx0aGlzfSxiZXppZXJDdXJ2ZVRvOmZ1bmN0aW9uKGUsdCxuLHIsaSxhKXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aC5iZXppZXJDdXJ2ZVRvKGUsdCxuLHIsaSxhKSx0aGlzfSxzcGxpbmVUaHJ1OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoLnNwbGluZVRocnUoZSksdGhpc30sdG9TaGFwZXM6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgaT1lW25dLGE9bmV3IFZpO2EuY3VydmVzPWkuY3VydmVzLHQucHVzaChhKX1yZXR1cm4gdH12YXIgcj1vcC5pc0Nsb2NrV2lzZSxpPXRoaXMuc3ViUGF0aHM7aWYoMD09PWkubGVuZ3RoKXJldHVybltdO2lmKCEwPT09dClyZXR1cm4gbihpKTt2YXIgYSxvLHMsYz1bXTtpZigxPT09aS5sZW5ndGgpcmV0dXJuIG89aVswXSxzPW5ldyBWaSxzLmN1cnZlcz1vLmN1cnZlcyxjLnB1c2gocyksYzt2YXIgbD0hcihpWzBdLmdldFBvaW50cygpKTtsPWU/IWw6bDt2YXIgaCx1PVtdLHA9W10sZD1bXSxmPTA7cFtmXT12b2lkIDAsZFtmXT1bXTtmb3IodmFyIG09MCx2PWkubGVuZ3RoO208djttKyspbz1pW21dLGg9by5nZXRQb2ludHMoKSxhPXIoaCksYT1lPyFhOmEsYT8oIWwmJnBbZl0mJmYrKyxwW2ZdPXtzOm5ldyBWaSxwOmh9LHBbZl0ucy5jdXJ2ZXM9by5jdXJ2ZXMsbCYmZisrLGRbZl09W10pOmRbZl0ucHVzaCh7aDpvLHA6aFswXX0pO2lmKCFwWzBdKXJldHVybiBuKGkpO2lmKHAubGVuZ3RoPjEpe2Zvcih2YXIgZz0hMSx5PVtdLHg9MCxiPXAubGVuZ3RoO3g8Yjt4KyspdVt4XT1bXTtmb3IodmFyIHg9MCxiPXAubGVuZ3RoO3g8Yjt4KyspZm9yKHZhciB3PWRbeF0sXz0wO188dy5sZW5ndGg7XysrKXtmb3IodmFyIE09d1tfXSxTPSEwLFQ9MDtUPHAubGVuZ3RoO1QrKykoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5sZW5ndGgscj0hMSxpPW4tMSxhPTA7YTxuO2k9YSsrKXt2YXIgbz10W2ldLHM9dFthXSxjPXMueC1vLngsbD1zLnktby55O2lmKE1hdGguYWJzKGwpPk51bWJlci5FUFNJTE9OKXtpZihsPDAmJihvPXRbYV0sYz0tYyxzPXRbaV0sbD0tbCksZS55PG8ueXx8ZS55PnMueSljb250aW51ZTtpZihlLnk9PT1vLnkpe2lmKGUueD09PW8ueClyZXR1cm4hMH1lbHNle3ZhciBoPWwqKGUueC1vLngpLWMqKGUueS1vLnkpO2lmKDA9PT1oKXJldHVybiEwO2lmKGg8MCljb250aW51ZTtyPSFyfX1lbHNle2lmKGUueSE9PW8ueSljb250aW51ZTtpZihzLng8PWUueCYmZS54PD1vLnh8fG8ueDw9ZS54JiZlLng8PXMueClyZXR1cm4hMH19cmV0dXJuIHJ9KShNLnAscFtUXS5wKSYmKHghPT1UJiZ5LnB1c2goe2Zyb21zOngsdG9zOlQsaG9sZTpffSksUz8oUz0hMSx1W1RdLnB1c2goTSkpOmc9ITApO1MmJnVbeF0ucHVzaChNKX15Lmxlbmd0aD4wJiYoZ3x8KGQ9dSkpfWZvcih2YXIgRSxtPTAsQT1wLmxlbmd0aDttPEE7bSsrKXtzPXBbbV0ucyxjLnB1c2gocyksRT1kW21dO2Zvcih2YXIgTD0wLFI9RS5sZW5ndGg7TDxSO0wrKylzLmhvbGVzLnB1c2goRVtMXS5oKX1yZXR1cm4gY319KSxPYmplY3QuYXNzaWduKGNhLnByb3RvdHlwZSx7aXNGb250OiEwLGdlbmVyYXRlU2hhcGVzOmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9MTAwKTtmb3IodmFyIG49W10scj1sYShlLHQsdGhpcy5kYXRhKSxpPTAsYT1yLmxlbmd0aDtpPGE7aSsrKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KG4scltpXS50b1NoYXBlcygpKTtyZXR1cm4gbn19KSx1YS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnVhLGxvYWQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcyxhPW5ldyB1aSh0aGlzLm1hbmFnZXIpO2Euc2V0UGF0aCh0aGlzLnBhdGgpLGEubG9hZChlLGZ1bmN0aW9uKGUpe3ZhciBuO3RyeXtuPUpTT04ucGFyc2UoZSl9Y2F0Y2godCl7Y29uc29sZS53YXJuKFwiVEhSRUUuRm9udExvYWRlcjogdHlwZWZhY2UuanMgc3VwcG9ydCBpcyBiZWluZyBkZXByZWNhdGVkLiBVc2UgdHlwZWZhY2UuanNvbiBpbnN0ZWFkLlwiKSxuPUpTT04ucGFyc2UoZS5zdWJzdHJpbmcoNjUsZS5sZW5ndGgtMikpfXZhciByPWkucGFyc2Uobik7dCYmdChyKX0sbixyKX0scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBjYShlKX19KTt2YXIgU3AsVHA9e2dldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09U3AmJihTcD1uZXcod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkpLFNwfSxzZXRDb250ZXh0OmZ1bmN0aW9uKGUpe1NwPWV9fTtwYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGhpLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnBhLGxvYWQ6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9bmV3IHVpKHRoaXMubWFuYWdlcik7aS5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKSxpLnNldFBhdGgodGhpcy5wYXRoKSxpLmxvYWQoZSxmdW5jdGlvbihlKXt2YXIgbj1lLnNsaWNlKDApO1RwLmdldENvbnRleHQoKS5kZWNvZGVBdWRpb0RhdGEobixmdW5jdGlvbihlKXt0KGUpfSl9LG4scil9fSksT2JqZWN0LmFzc2lnbihkYS5wcm90b3R5cGUse2lzU3BoZXJpY2FsSGFybW9uaWNzMzohMCxzZXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50c1t0XS5jb3B5KGVbdF0pO3JldHVybiB0aGlzfSx6ZXJvOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50c1tlXS5zZXQoMCwwLDApO3JldHVybiB0aGlzfSxnZXRBdDpmdW5jdGlvbihlLHQpe3ZhciBuPWUueCxyPWUueSxpPWUueixhPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoYVswXSkubXVsdGlwbHlTY2FsYXIoLjI4MjA5NSksdC5hZGRTY2FsZShhWzFdLC40ODg2MDMqciksdC5hZGRTY2FsZShhWzJdLC40ODg2MDMqaSksdC5hZGRTY2FsZShhWzNdLC40ODg2MDMqbiksdC5hZGRTY2FsZShhWzRdLG4qcioxLjA5MjU0OCksdC5hZGRTY2FsZShhWzVdLHIqaSoxLjA5MjU0OCksdC5hZGRTY2FsZShhWzZdLC4zMTUzOTIqKDMqaSppLTEpKSx0LmFkZFNjYWxlKGFbN10sbippKjEuMDkyNTQ4KSx0LmFkZFNjYWxlKGFbOF0sLjU0NjI3NCoobipuLXIqcikpLHR9LGdldElycmFkaWFuY2VBdDpmdW5jdGlvbihlLHQpe3ZhciBuPWUueCxyPWUueSxpPWUueixhPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiB0LmNvcHkoYVswXSkubXVsdGlwbHlTY2FsYXIoLjg4NjIyNyksdC5hZGRTY2FsZShhWzFdLDEuMDIzMzI4KnIpLHQuYWRkU2NhbGUoYVsyXSwxLjAyMzMyOCppKSx0LmFkZFNjYWxlKGFbM10sMS4wMjMzMjgqbiksdC5hZGRTY2FsZShhWzRdLC44NTgwODYqbipyKSx0LmFkZFNjYWxlKGFbNV0sLjg1ODA4NipyKmkpLHQuYWRkU2NhbGUoYVs2XSwuNzQzMTI1KmkqaS0uMjQ3NzA4KSx0LmFkZFNjYWxlKGFbN10sLjg1ODA4NipuKmkpLHQuYWRkU2NhbGUoYVs4XSwuNDI5MDQzKihuKm4tcipyKSksdH0sYWRkOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8OTt0KyspdGhpcy5jb2VmZmljaWVudHNbdF0uYWRkKGUuY29lZmZpY2llbnRzW3RdKTtyZXR1cm4gdGhpc30sc2NhbGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDw5O3QrKyl0aGlzLmNvZWZmaWNpZW50c1t0XS5tdWx0aXBseVNjYWxhcihlKTtyZXR1cm4gdGhpc30sbGVycDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248OTtuKyspdGhpcy5jb2VmZmljaWVudHNbbl0ubGVycChlLmNvZWZmaWNpZW50c1tuXSx0KTtyZXR1cm4gdGhpc30sZXF1YWxzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8OTt0KyspaWYoIXRoaXMuY29lZmZpY2llbnRzW3RdLmVxdWFscyhlLmNvZWZmaWNpZW50c1t0XSkpcmV0dXJuITE7cmV0dXJuITB9LGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0KGUuY29lZmZpY2llbnRzKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGZyb21BcnJheTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTApO2Zvcih2YXIgbj10aGlzLmNvZWZmaWNpZW50cyxyPTA7cjw5O3IrKyluW3JdLmZyb21BcnJheShlLHQrMypyKTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD0wKTtmb3IodmFyIG49dGhpcy5jb2VmZmljaWVudHMscj0wO3I8OTtyKyspbltyXS50b0FycmF5KGUsdCszKnIpO3JldHVybiBlfX0pLE9iamVjdC5hc3NpZ24oZGEse2dldEJhc2lzQXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLngscj1lLnksaT1lLno7dFswXT0uMjgyMDk1LHRbMV09LjQ4ODYwMypyLHRbMl09LjQ4ODYwMyppLHRbM109LjQ4ODYwMypuLHRbNF09MS4wOTI1NDgqbipyLHRbNV09MS4wOTI1NDgqcippLHRbNl09LjMxNTM5MiooMyppKmktMSksdFs3XT0xLjA5MjU0OCpuKmksdFs4XT0uNTQ2Mjc0KihuKm4tcipyKX19KSxmYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGppLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmZhLGlzTGlnaHRQcm9iZTohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBqaS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5zaC5jb3B5KGUuc2gpLHRoaXMuaW50ZW5zaXR5PWUuaW50ZW5zaXR5LHRoaXN9LHRvSlNPTjpmdW5jdGlvbihlKXtyZXR1cm4gamkucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsZSl9fSksbWEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShmYS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjptYSxpc0hlbWlzcGhlcmVMaWdodFByb2JlOiEwLGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGZhLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzfSx0b0pTT046ZnVuY3Rpb24oZSl7cmV0dXJuIGZhLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLGUpfX0pLHZhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZmEucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6dmEsaXNBbWJpZW50TGlnaHRQcm9iZTohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBmYS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpc30sdG9KU09OOmZ1bmN0aW9uKGUpe3JldHVybiBmYS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyxlKX19KTt2YXIgRXA9bmV3IGgsQXA9bmV3IGg7T2JqZWN0LmFzc2lnbihnYS5wcm90b3R5cGUse3VwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jYWNoZTtpZih0LmZvY3VzIT09ZS5mb2N1c3x8dC5mb3YhPT1lLmZvdnx8dC5hc3BlY3QhPT1lLmFzcGVjdCp0aGlzLmFzcGVjdHx8dC5uZWFyIT09ZS5uZWFyfHx0LmZhciE9PWUuZmFyfHx0Lnpvb20hPT1lLnpvb218fHQuZXllU2VwIT09dGhpcy5leWVTZXApe3QuZm9jdXM9ZS5mb2N1cyx0LmZvdj1lLmZvdix0LmFzcGVjdD1lLmFzcGVjdCp0aGlzLmFzcGVjdCx0Lm5lYXI9ZS5uZWFyLHQuZmFyPWUuZmFyLHQuem9vbT1lLnpvb20sdC5leWVTZXA9dGhpcy5leWVTZXA7dmFyIG4scixpPWUucHJvamVjdGlvbk1hdHJpeC5jbG9uZSgpLGE9dC5leWVTZXAvMixvPWEqdC5uZWFyL3QuZm9jdXMscz10Lm5lYXIqTWF0aC50YW4obGwuREVHMlJBRCp0LmZvdiouNSkvdC56b29tO0FwLmVsZW1lbnRzWzEyXT0tYSxFcC5lbGVtZW50c1sxMl09YSxuPS1zKnQuYXNwZWN0K28scj1zKnQuYXNwZWN0K28saS5lbGVtZW50c1swXT0yKnQubmVhci8oci1uKSxpLmVsZW1lbnRzWzhdPShyK24pLyhyLW4pLHRoaXMuY2FtZXJhTC5wcm9qZWN0aW9uTWF0cml4LmNvcHkoaSksbj0tcyp0LmFzcGVjdC1vLHI9cyp0LmFzcGVjdC1vLGkuZWxlbWVudHNbMF09Mip0Lm5lYXIvKHItbiksaS5lbGVtZW50c1s4XT0ocituKS8oci1uKSx0aGlzLmNhbWVyYVIucHJvamVjdGlvbk1hdHJpeC5jb3B5KGkpfXRoaXMuY2FtZXJhTC5tYXRyaXhXb3JsZC5jb3B5KGUubWF0cml4V29ybGQpLm11bHRpcGx5KEFwKSx0aGlzLmNhbWVyYVIubWF0cml4V29ybGQuY29weShlLm1hdHJpeFdvcmxkKS5tdWx0aXBseShFcCl9fSksT2JqZWN0LmFzc2lnbih5YS5wcm90b3R5cGUse3N0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdGFydFRpbWU9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwZXJmb3JtYW5jZT9EYXRlOnBlcmZvcm1hbmNlKS5ub3coKSx0aGlzLm9sZFRpbWU9dGhpcy5zdGFydFRpbWUsdGhpcy5lbGFwc2VkVGltZT0wLHRoaXMucnVubmluZz0hMH0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZ2V0RWxhcHNlZFRpbWUoKSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy5hdXRvU3RhcnQ9ITF9LGdldEVsYXBzZWRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGVsdGEoKSx0aGlzLmVsYXBzZWRUaW1lfSxnZXREZWx0YTpmdW5jdGlvbigpe3ZhciBlPTA7aWYodGhpcy5hdXRvU3RhcnQmJiF0aGlzLnJ1bm5pbmcpcmV0dXJuIHRoaXMuc3RhcnQoKSwwO2lmKHRoaXMucnVubmluZyl7dmFyIHQ9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwZXJmb3JtYW5jZT9EYXRlOnBlcmZvcm1hbmNlKS5ub3coKTtlPSh0LXRoaXMub2xkVGltZSkvMWUzLHRoaXMub2xkVGltZT10LHRoaXMuZWxhcHNlZFRpbWUrPWV9cmV0dXJuIGV9fSk7dmFyIExwPW5ldyBpLFJwPW5ldyByLFBwPW5ldyBpLENwPW5ldyBpO3hhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjp4YSxnZXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdhaW59LHJlbW92ZUZpbHRlcjpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5maWx0ZXImJih0aGlzLmdhaW4uZGlzY29ubmVjdCh0aGlzLmZpbHRlciksdGhpcy5maWx0ZXIuZGlzY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuZ2Fpbi5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5maWx0ZXI9bnVsbCksdGhpc30sZ2V0RmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyfSxzZXRGaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT10aGlzLmZpbHRlcj8odGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXIpLHRoaXMuZmlsdGVyLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSk6dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmZpbHRlcj1lLHRoaXMuZ2Fpbi5jb25uZWN0KHRoaXMuZmlsdGVyKSx0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpc30sZ2V0TWFzdGVyVm9sdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnZhbHVlfSxzZXRNYXN0ZXJWb2x1bWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnNldFRhcmdldEF0VGltZShlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwuMDEpLHRoaXN9LHVwZGF0ZU1hdHJpeFdvcmxkOmZ1bmN0aW9uKGUpe2QucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkLmNhbGwodGhpcyxlKTt2YXIgdD10aGlzLmNvbnRleHQubGlzdGVuZXIsbj10aGlzLnVwO2lmKHRoaXMudGltZURlbHRhPXRoaXMuX2Nsb2NrLmdldERlbHRhKCksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoTHAsUnAsUHApLENwLnNldCgwLDAsLTEpLmFwcGx5UXVhdGVybmlvbihScCksdC5wb3NpdGlvblgpe3ZhciByPXRoaXMuY29udGV4dC5jdXJyZW50VGltZSt0aGlzLnRpbWVEZWx0YTt0LnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShMcC54LHIpLHQucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKExwLnksciksdC5wb3NpdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoTHAueixyKSx0LmZvcndhcmRYLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKENwLngsciksdC5mb3J3YXJkWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShDcC55LHIpLHQuZm9yd2FyZFoubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoQ3AueixyKSx0LnVwWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShuLngsciksdC51cFkubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUobi55LHIpLHQudXBaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG4ueixyKX1lbHNlIHQuc2V0UG9zaXRpb24oTHAueCxMcC55LExwLnopLHQuc2V0T3JpZW50YXRpb24oQ3AueCxDcC55LENwLnosbi54LG4ueSxuLnopfX0pLGJhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpiYSxnZXRPdXRwdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYWlufSxzZXROb2RlU291cmNlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9XCJhdWRpb05vZGVcIix0aGlzLnNvdXJjZT1lLHRoaXMuY29ubmVjdCgpLHRoaXN9LHNldE1lZGlhRWxlbWVudFNvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPVwibWVkaWFOb2RlXCIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShlKSx0aGlzLmNvbm5lY3QoKSx0aGlzfSxzZXRNZWRpYVN0cmVhbVNvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPVwibWVkaWFTdHJlYW1Ob2RlXCIsdGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpLHRoaXMuY29ubmVjdCgpLHRoaXN9LHNldEJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5idWZmZXI9ZSx0aGlzLnNvdXJjZVR5cGU9XCJidWZmZXJcIix0aGlzLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKSx0aGlzfSxwbGF5OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPTApLCEwPT09dGhpcy5pc1BsYXlpbmcpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiVEhSRUUuQXVkaW86IEF1ZGlvIGlzIGFscmVhZHkgcGxheWluZy5cIik7aWYoITE9PT10aGlzLmhhc1BsYXliYWNrQ29udHJvbClyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC5cIik7dGhpcy5fc3RhcnRlZEF0PXRoaXMuY29udGV4dC5jdXJyZW50VGltZStlO3ZhciB0PXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gdC5idWZmZXI9dGhpcy5idWZmZXIsdC5sb29wPXRoaXMubG9vcCx0Lmxvb3BTdGFydD10aGlzLmxvb3BTdGFydCx0Lmxvb3BFbmQ9dGhpcy5sb29wRW5kLHQub25lbmRlZD10aGlzLm9uRW5kZWQuYmluZCh0aGlzKSx0LnN0YXJ0KHRoaXMuX3N0YXJ0ZWRBdCx0aGlzLl9wYXVzZWRBdCt0aGlzLm9mZnNldCx0aGlzLmR1cmF0aW9uKSx0aGlzLmlzUGxheWluZz0hMCx0aGlzLnNvdXJjZT10LHRoaXMuc2V0RGV0dW5lKHRoaXMuZGV0dW5lKSx0aGlzLnNldFBsYXliYWNrUmF0ZSh0aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5jb25uZWN0KCl9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuITE9PT10aGlzLmhhc1BsYXliYWNrQ29udHJvbD92b2lkIGNvbnNvbGUud2FybihcIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLlwiKTooITA9PT10aGlzLmlzUGxheWluZyYmKHRoaXMuX3BhdXNlZEF0PSh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5fc3RhcnRlZEF0KSp0aGlzLnBsYXliYWNrUmF0ZSx0aGlzLnNvdXJjZS5zdG9wKCksdGhpcy5zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuaXNQbGF5aW5nPSExKSx0aGlzKX0sc3RvcDpmdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2w/dm9pZCBjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC5cIik6KHRoaXMuX3BhdXNlZEF0PTAsdGhpcy5zb3VyY2Uuc3RvcCgpLHRoaXMuc291cmNlLm9uZW5kZWQ9bnVsbCx0aGlzLmlzUGxheWluZz0hMSx0aGlzKX0sY29ubmVjdDpmdW5jdGlvbigpe2lmKHRoaXMuZmlsdGVycy5sZW5ndGg+MCl7dGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmZpbHRlcnNbMF0pO2Zvcih2YXIgZT0xLHQ9dGhpcy5maWx0ZXJzLmxlbmd0aDtlPHQ7ZSsrKXRoaXMuZmlsdGVyc1tlLTFdLmNvbm5lY3QodGhpcy5maWx0ZXJzW2VdKTt0aGlzLmZpbHRlcnNbdGhpcy5maWx0ZXJzLmxlbmd0aC0xXS5jb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpfWVsc2UgdGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKTtyZXR1cm4gdGhpc30sZGlzY29ubmVjdDpmdW5jdGlvbigpe2lmKHRoaXMuZmlsdGVycy5sZW5ndGg+MCl7dGhpcy5zb3VyY2UuZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbMF0pO2Zvcih2YXIgZT0xLHQ9dGhpcy5maWx0ZXJzLmxlbmd0aDtlPHQ7ZSsrKXRoaXMuZmlsdGVyc1tlLTFdLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXJzW2VdKTt0aGlzLmZpbHRlcnNbdGhpcy5maWx0ZXJzLmxlbmd0aC0xXS5kaXNjb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpfWVsc2UgdGhpcy5zb3VyY2UuZGlzY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKTtyZXR1cm4gdGhpc30sZ2V0RmlsdGVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcnN9LHNldEZpbHRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fChlPVtdKSwhMD09PXRoaXMuaXNQbGF5aW5nPyh0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLmZpbHRlcnM9ZSx0aGlzLmNvbm5lY3QoKSk6dGhpcy5maWx0ZXJzPWUsdGhpc30sc2V0RGV0dW5lOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZGV0dW5lPWUsdm9pZCAwIT09dGhpcy5zb3VyY2UuZGV0dW5lKXJldHVybiEwPT09dGhpcy5pc1BsYXlpbmcmJnRoaXMuc291cmNlLmRldHVuZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5kZXR1bmUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpc30sZ2V0RGV0dW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGV0dW5lfSxnZXRGaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKClbMF19LHNldEZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRGaWx0ZXJzKGU/W2VdOltdKX0sc2V0UGxheWJhY2tSYXRlOmZ1bmN0aW9uKGUpe3JldHVybiExPT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2w/dm9pZCBjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC5cIik6KHRoaXMucGxheWJhY2tSYXRlPWUsITA9PT10aGlzLmlzUGxheWluZyYmdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlLnNldFRhcmdldEF0VGltZSh0aGlzLnBsYXliYWNrUmF0ZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzKX0sZ2V0UGxheWJhY2tSYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWJhY2tSYXRlfSxvbkVuZGVkOmZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmc9ITF9LGdldExvb3A6ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXRoaXMuaGFzUGxheWJhY2tDb250cm9sPyhjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC5cIiksITEpOnRoaXMubG9vcH0sc2V0TG9vcDpmdW5jdGlvbihlKXtyZXR1cm4hMT09PXRoaXMuaGFzUGxheWJhY2tDb250cm9sP3ZvaWQgY29uc29sZS53YXJuKFwiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuXCIpOih0aGlzLmxvb3A9ZSwhMD09PXRoaXMuaXNQbGF5aW5nJiYodGhpcy5zb3VyY2UubG9vcD10aGlzLmxvb3ApLHRoaXMpfSxzZXRMb29wU3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9vcFN0YXJ0PWUsdGhpc30sc2V0TG9vcEVuZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb29wRW5kPWUsdGhpc30sZ2V0Vm9sdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnZhbHVlfSxzZXRWb2x1bWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnNldFRhcmdldEF0VGltZShlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwuMDEpLHRoaXN9fSk7dmFyIE9wPW5ldyBpLERwPW5ldyByLElwPW5ldyBpLE5wPW5ldyBpO3dhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoYmEucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6d2EsZ2V0T3V0cHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFubmVyfSxnZXRSZWZEaXN0YW5jZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbm5lci5yZWZEaXN0YW5jZX0sc2V0UmVmRGlzdGFuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFubmVyLnJlZkRpc3RhbmNlPWUsdGhpc30sZ2V0Um9sbG9mZkZhY3RvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbm5lci5yb2xsb2ZmRmFjdG9yfSxzZXRSb2xsb2ZmRmFjdG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhbm5lci5yb2xsb2ZmRmFjdG9yPWUsdGhpc30sZ2V0RGlzdGFuY2VNb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbm5lci5kaXN0YW5jZU1vZGVsfSxzZXREaXN0YW5jZU1vZGVsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhbm5lci5kaXN0YW5jZU1vZGVsPWUsdGhpc30sZ2V0TWF4RGlzdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYW5uZXIubWF4RGlzdGFuY2V9LHNldE1heERpc3RhbmNlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhbm5lci5tYXhEaXN0YW5jZT1lLHRoaXN9LHNldERpcmVjdGlvbmFsQ29uZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMucGFubmVyLmNvbmVJbm5lckFuZ2xlPWUsdGhpcy5wYW5uZXIuY29uZU91dGVyQW5nbGU9dCx0aGlzLnBhbm5lci5jb25lT3V0ZXJHYWluPW4sdGhpc30sdXBkYXRlTWF0cml4V29ybGQ6ZnVuY3Rpb24oZSl7aWYoZC5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLGUpLCEwIT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2x8fCExIT09dGhpcy5pc1BsYXlpbmcpe3RoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKE9wLERwLElwKSxOcC5zZXQoMCwwLDEpLmFwcGx5UXVhdGVybmlvbihEcCk7dmFyIHQ9dGhpcy5wYW5uZXI7aWYodC5wb3NpdGlvblgpe3ZhciBuPXRoaXMuY29udGV4dC5jdXJyZW50VGltZSt0aGlzLmxpc3RlbmVyLnRpbWVEZWx0YTt0LnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShPcC54LG4pLHQucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKE9wLnksbiksdC5wb3NpdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoT3AueixuKSx0Lm9yaWVudGF0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShOcC54LG4pLHQub3JpZW50YXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKE5wLnksbiksdC5vcmllbnRhdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoTnAueixuKX1lbHNlIHQuc2V0UG9zaXRpb24oT3AueCxPcC55LE9wLnopLHQuc2V0T3JpZW50YXRpb24oTnAueCxOcC55LE5wLnopfX19KSxPYmplY3QuYXNzaWduKF9hLnByb3RvdHlwZSx7Z2V0RnJlcXVlbmN5RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YSksdGhpcy5kYXRhfSxnZXRBdmVyYWdlRnJlcXVlbmN5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLmdldEZyZXF1ZW5jeURhdGEoKSxuPTA7bjx0Lmxlbmd0aDtuKyspZSs9dFtuXTtyZXR1cm4gZS90Lmxlbmd0aH19KSxPYmplY3QuYXNzaWduKE1hLnByb3RvdHlwZSx7YWNjdW11bGF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYnVmZmVyLHI9dGhpcy52YWx1ZVNpemUsaT1lKnIrcixhPXRoaXMuY3VtdWxhdGl2ZVdlaWdodDtpZigwPT09YSl7Zm9yKHZhciBvPTA7byE9PXI7KytvKW5baStvXT1uW29dO2E9dH1lbHNle2ErPXQ7dmFyIHM9dC9hO3RoaXMuX21peEJ1ZmZlclJlZ2lvbihuLGksMCxzLHIpfXRoaXMuY3VtdWxhdGl2ZVdlaWdodD1hfSxhcHBseTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnZhbHVlU2l6ZSxuPXRoaXMuYnVmZmVyLHI9ZSp0K3QsaT10aGlzLmN1bXVsYXRpdmVXZWlnaHQsYT10aGlzLmJpbmRpbmc7aWYodGhpcy5jdW11bGF0aXZlV2VpZ2h0PTAsaTwxKXt2YXIgbz0zKnQ7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKG4scixvLDEtaSx0KX1mb3IodmFyIHM9dCxjPXQrdDtzIT09YzsrK3MpaWYobltzXSE9PW5bcyt0XSl7YS5zZXRWYWx1ZShuLHIpO2JyZWFrfX0sc2F2ZU9yaWdpbmFsU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJpbmRpbmcsdD10aGlzLmJ1ZmZlcixuPXRoaXMudmFsdWVTaXplLHI9MypuO2UuZ2V0VmFsdWUodCxyKTtmb3IodmFyIGk9bixhPXI7aSE9PWE7KytpKXRbaV09dFtyK2klbl07dGhpcy5jdW11bGF0aXZlV2VpZ2h0PTB9LHJlc3RvcmVPcmlnaW5hbFN0YXRlOmZ1bmN0aW9uKCl7dmFyIGU9Myp0aGlzLnZhbHVlU2l6ZTt0aGlzLmJpbmRpbmcuc2V0VmFsdWUodGhpcy5idWZmZXIsZSl9LF9zZWxlY3Q6ZnVuY3Rpb24oZSx0LG4scixpKXtpZihyPj0uNSlmb3IodmFyIGE9MDthIT09aTsrK2EpZVt0K2FdPWVbbithXX0sX3NsZXJwOmZ1bmN0aW9uKGUsdCxuLGkpe3Iuc2xlcnBGbGF0KGUsdCxlLHQsZSxuLGkpfSxfbGVycDpmdW5jdGlvbihlLHQsbixyLGkpe2Zvcih2YXIgYT0xLXIsbz0wO28hPT1pOysrbyl7dmFyIHM9dCtvO2Vbc109ZVtzXSphK2VbbitvXSpyfX19KTt2YXIgenA9XCJcXFxcW1xcXFxdXFxcXC46XFxcXC9cIixCcD1uZXcgUmVnRXhwKFwiW1wiK3pwK1wiXVwiLFwiZ1wiKSxVcD1cIlteXCIrenArXCJdXCIsRnA9XCJbXlwiK3pwLnJlcGxhY2UoXCJcXFxcLlwiLFwiXCIpK1wiXVwiLEdwPS8oKD86V0MrW1xcLzpdKSopLy5zb3VyY2UucmVwbGFjZShcIldDXCIsVXApLEhwPS8oV0NPRCspPy8uc291cmNlLnJlcGxhY2UoXCJXQ09EXCIsRnApLFZwPS8oPzpcXC4oV0MrKSg/OlxcWyguKylcXF0pPyk/Ly5zb3VyY2UucmVwbGFjZShcIldDXCIsVXApLGpwPS9cXC4oV0MrKSg/OlxcWyguKylcXF0pPy8uc291cmNlLnJlcGxhY2UoXCJXQ1wiLFVwKSxrcD1uZXcgUmVnRXhwKFwiXlwiK0dwK0hwK1ZwK2pwK1wiJFwiKSxXcD1bXCJtYXRlcmlhbFwiLFwibWF0ZXJpYWxzXCIsXCJib25lc1wiXTtPYmplY3QuYXNzaWduKFNhLnByb3RvdHlwZSx7Z2V0VmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmJpbmQoKTt2YXIgbj10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18scj10aGlzLl9iaW5kaW5nc1tuXTt2b2lkIDAhPT1yJiZyLmdldFZhbHVlKGUsdCl9LHNldFZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuX2JpbmRpbmdzLHI9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLGk9bi5sZW5ndGg7ciE9PWk7KytyKW5bcl0uc2V0VmFsdWUoZSx0KX0sYmluZDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9iaW5kaW5ncyx0PXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPWUubGVuZ3RoO3QhPT1uOysrdCllW3RdLmJpbmQoKX0sdW5iaW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2JpbmRpbmdzLHQ9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLG49ZS5sZW5ndGg7dCE9PW47Kyt0KWVbdF0udW5iaW5kKCl9fSksT2JqZWN0LmFzc2lnbihUYSx7Q29tcG9zaXRlOlNhLGNyZWF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUmJmUuaXNBbmltYXRpb25PYmplY3RHcm91cD9uZXcgVGEuQ29tcG9zaXRlKGUsdCxuKTpuZXcgVGEoZSx0LG4pfSxzYW5pdGl6ZU5vZGVOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xccy9nLFwiX1wiKS5yZXBsYWNlKEJwLFwiXCIpfSxcbnBhcnNlVHJhY2tOYW1lOmZ1bmN0aW9uKGUpe3ZhciB0PWtwLmV4ZWMoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHlCaW5kaW5nOiBDYW5ub3QgcGFyc2UgdHJhY2tOYW1lOiBcIitlKTt2YXIgbj17bm9kZU5hbWU6dFsyXSxvYmplY3ROYW1lOnRbM10sb2JqZWN0SW5kZXg6dFs0XSxwcm9wZXJ0eU5hbWU6dFs1XSxwcm9wZXJ0eUluZGV4OnRbNl19LHI9bi5ub2RlTmFtZSYmbi5ub2RlTmFtZS5sYXN0SW5kZXhPZihcIi5cIik7aWYodm9pZCAwIT09ciYmLTEhPT1yKXt2YXIgaT1uLm5vZGVOYW1lLnN1YnN0cmluZyhyKzEpOy0xIT09V3AuaW5kZXhPZihpKSYmKG4ubm9kZU5hbWU9bi5ub2RlTmFtZS5zdWJzdHJpbmcoMCxyKSxuLm9iamVjdE5hbWU9aSl9aWYobnVsbD09PW4ucHJvcGVydHlOYW1lfHwwPT09bi5wcm9wZXJ0eU5hbWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlByb3BlcnR5QmluZGluZzogY2FuIG5vdCBwYXJzZSBwcm9wZXJ0eU5hbWUgZnJvbSB0cmFja05hbWU6IFwiK2UpO3JldHVybiBufSxmaW5kTm9kZTpmdW5jdGlvbihlLHQpe2lmKCF0fHxcIlwiPT09dHx8XCJyb290XCI9PT10fHxcIi5cIj09PXR8fC0xPT09dHx8dD09PWUubmFtZXx8dD09PWUudXVpZClyZXR1cm4gZTtpZihlLnNrZWxldG9uKXt2YXIgbj1lLnNrZWxldG9uLmdldEJvbmVCeU5hbWUodCk7aWYodm9pZCAwIT09bilyZXR1cm4gbn1pZihlLmNoaWxkcmVuKXt2YXIgcj1mdW5jdGlvbihlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZihpLm5hbWU9PT10fHxpLnV1aWQ9PT10KXJldHVybiBpO3ZhciBhPXIoaS5jaGlsZHJlbik7aWYoYSlyZXR1cm4gYX1yZXR1cm4gbnVsbH0saT1yKGUuY2hpbGRyZW4pO2lmKGkpcmV0dXJuIGl9cmV0dXJuIG51bGx9fSksT2JqZWN0LmFzc2lnbihUYS5wcm90b3R5cGUse19nZXRWYWx1ZV91bmF2YWlsYWJsZTpmdW5jdGlvbigpe30sX3NldFZhbHVlX3VuYXZhaWxhYmxlOmZ1bmN0aW9uKCl7fSxCaW5kaW5nVHlwZTp7RGlyZWN0OjAsRW50aXJlQXJyYXk6MSxBcnJheUVsZW1lbnQ6MixIYXNGcm9tVG9BcnJheTozfSxWZXJzaW9uaW5nOntOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9LEdldHRlckJ5QmluZGluZ1R5cGU6W2Z1bmN0aW9uKGUsdCl7ZVt0XT10aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eU5hbWVdfSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnJlc29sdmVkUHJvcGVydHkscj0wLGk9bi5sZW5ndGg7ciE9PWk7KytyKWVbdCsrXT1uW3JdfSxmdW5jdGlvbihlLHQpe2VbdF09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF19LGZ1bmN0aW9uKGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LnRvQXJyYXkoZSx0KX1dLFNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nOltbZnVuY3Rpb24oZSx0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09ZVt0XX0sZnVuY3Rpb24oZSx0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09ZVt0XSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH0sZnVuY3Rpb24oZSx0KXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09ZVt0XSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV0sW2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eSxyPTAsaT1uLmxlbmd0aDtyIT09aTsrK3IpbltyXT1lW3QrK119LGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eSxyPTAsaT1uLmxlbmd0aDtyIT09aTsrK3IpbltyXT1lW3QrK107dGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9LGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eSxyPTAsaT1uLmxlbmd0aDtyIT09aTsrK3IpbltyXT1lW3QrK107dGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1dLFtmdW5jdGlvbihlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWVbdF19LGZ1bmN0aW9uKGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09ZVt0XSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH0sZnVuY3Rpb24oZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT1lW3RdLHRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9XSxbZnVuY3Rpb24oZSx0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGUsdCl9LGZ1bmN0aW9uKGUsdCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheShlLHQpLHRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPSEwfSxmdW5jdGlvbihlLHQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkoZSx0KSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV1dLGdldFZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5iaW5kKCksdGhpcy5nZXRWYWx1ZShlLHQpfSxzZXRWYWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuYmluZCgpLHRoaXMuc2V0VmFsdWUoZSx0KX0sYmluZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMubm9kZSx0PXRoaXMucGFyc2VkUGF0aCxuPXQub2JqZWN0TmFtZSxyPXQucHJvcGVydHlOYW1lLGk9dC5wcm9wZXJ0eUluZGV4O2lmKGV8fChlPVRhLmZpbmROb2RlKHRoaXMucm9vdE5vZGUsdC5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGUsdGhpcy5ub2RlPWUpLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5hdmFpbGFibGUsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmF2YWlsYWJsZSwhZSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIG5vZGUgZm9yIHRyYWNrOiBcIit0aGlzLnBhdGgrXCIgYnV0IGl0IHdhc24ndCBmb3VuZC5cIik7aWYobil7dmFyIGE9dC5vYmplY3RJbmRleDtzd2l0Y2gobil7Y2FzZVwibWF0ZXJpYWxzXCI6aWYoIWUubWF0ZXJpYWwpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1hdGVyaWFsIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFsLlwiLHRoaXMpO2lmKCFlLm1hdGVyaWFsLm1hdGVyaWFscylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwubWF0ZXJpYWxzIGFzIG5vZGUubWF0ZXJpYWwgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFscyBhcnJheS5cIix0aGlzKTtlPWUubWF0ZXJpYWwubWF0ZXJpYWxzO2JyZWFrO2Nhc2VcImJvbmVzXCI6aWYoIWUuc2tlbGV0b24pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIGJvbmVzIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIHNrZWxldG9uLlwiLHRoaXMpO2U9ZS5za2VsZXRvbi5ib25lcztmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylpZihlW29dLm5hbWU9PT1hKXthPW87YnJlYWt9YnJlYWs7ZGVmYXVsdDppZih2b2lkIDA9PT1lW25dKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBvYmplY3ROYW1lIG9mIG5vZGUgdW5kZWZpbmVkLlwiLHRoaXMpO2U9ZVtuXX1pZih2b2lkIDAhPT1hKXtpZih2b2lkIDA9PT1lW2FdKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byBiaW5kIHRvIG9iamVjdEluZGV4IG9mIG9iamVjdE5hbWUsIGJ1dCBpcyB1bmRlZmluZWQuXCIsdGhpcyxlKTtlPWVbYV19fXZhciBzPWVbcl07aWYodm9pZCAwPT09cyl7dmFyIGM9dC5ub2RlTmFtZTtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIHByb3BlcnR5IGZvciB0cmFjazogXCIrYytcIi5cIityK1wiIGJ1dCBpdCB3YXNuJ3QgZm91bmQuXCIsZSl9dmFyIGw9dGhpcy5WZXJzaW9uaW5nLk5vbmU7dGhpcy50YXJnZXRPYmplY3Q9ZSx2b2lkIDAhPT1lLm5lZWRzVXBkYXRlP2w9dGhpcy5WZXJzaW9uaW5nLk5lZWRzVXBkYXRlOnZvaWQgMCE9PWUubWF0cml4V29ybGROZWVkc1VwZGF0ZSYmKGw9dGhpcy5WZXJzaW9uaW5nLk1hdHJpeFdvcmxkTmVlZHNVcGRhdGUpO3ZhciBoPXRoaXMuQmluZGluZ1R5cGUuRGlyZWN0O2lmKHZvaWQgMCE9PWkpe2lmKFwibW9ycGhUYXJnZXRJbmZsdWVuY2VzXCI9PT1yKXtpZighZS5nZW9tZXRyeSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkuXCIsdGhpcyk7aWYoZS5nZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXtpZighZS5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBiZWNhdXNlIG5vZGUgZG9lcyBub3QgaGF2ZSBhIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5cIix0aGlzKTtmb3IodmFyIG89MDtvPHRoaXMubm9kZS5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24ubGVuZ3RoO28rKylpZihlLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbltvXS5uYW1lPT09aSl7aT1vO2JyZWFrfX1lbHNle2lmKCFlLmdlb21ldHJ5Lm1vcnBoVGFyZ2V0cylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkubW9ycGhUYXJnZXRzLlwiLHRoaXMpO2Zvcih2YXIgbz0wO288dGhpcy5ub2RlLmdlb21ldHJ5Lm1vcnBoVGFyZ2V0cy5sZW5ndGg7bysrKWlmKGUuZ2VvbWV0cnkubW9ycGhUYXJnZXRzW29dLm5hbWU9PT1pKXtpPW87YnJlYWt9fX1oPXRoaXMuQmluZGluZ1R5cGUuQXJyYXlFbGVtZW50LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1zLHRoaXMucHJvcGVydHlJbmRleD1pfWVsc2Ugdm9pZCAwIT09cy5mcm9tQXJyYXkmJnZvaWQgMCE9PXMudG9BcnJheT8oaD10aGlzLkJpbmRpbmdUeXBlLkhhc0Zyb21Ub0FycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1zKTpBcnJheS5pc0FycmF5KHMpPyhoPXRoaXMuQmluZGluZ1R5cGUuRW50aXJlQXJyYXksdGhpcy5yZXNvbHZlZFByb3BlcnR5PXMpOnRoaXMucHJvcGVydHlOYW1lPXI7dGhpcy5nZXRWYWx1ZT10aGlzLkdldHRlckJ5QmluZGluZ1R5cGVbaF0sdGhpcy5zZXRWYWx1ZT10aGlzLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nW2hdW2xdfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLm5vZGU9bnVsbCx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfX0pLE9iamVjdC5hc3NpZ24oVGEucHJvdG90eXBlLHtfZ2V0VmFsdWVfdW5ib3VuZDpUYS5wcm90b3R5cGUuZ2V0VmFsdWUsX3NldFZhbHVlX3VuYm91bmQ6VGEucHJvdG90eXBlLnNldFZhbHVlfSksT2JqZWN0LmFzc2lnbihFYS5wcm90b3R5cGUse2lzQW5pbWF0aW9uT2JqZWN0R3JvdXA6ITAsYWRkOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX29iamVjdHMsdD1lLmxlbmd0aCxuPXRoaXMubkNhY2hlZE9iamVjdHNfLHI9dGhpcy5faW5kaWNlc0J5VVVJRCxpPXRoaXMuX3BhdGhzLGE9dGhpcy5fcGFyc2VkUGF0aHMsbz10aGlzLl9iaW5kaW5ncyxzPW8ubGVuZ3RoLGM9dm9pZCAwLGw9MCxoPWFyZ3VtZW50cy5sZW5ndGg7bCE9PWg7KytsKXt2YXIgdT1hcmd1bWVudHNbbF0scD11LnV1aWQsZD1yW3BdO2lmKHZvaWQgMD09PWQpe2Q9dCsrLHJbcF09ZCxlLnB1c2godSk7Zm9yKHZhciBmPTAsbT1zO2YhPT1tOysrZilvW2ZdLnB1c2gobmV3IFRhKHUsaVtmXSxhW2ZdKSl9ZWxzZSBpZihkPG4pe2M9ZVtkXTt2YXIgdj0tLW4sZz1lW3ZdO3JbZy51dWlkXT1kLGVbZF09ZyxyW3BdPXYsZVt2XT11O2Zvcih2YXIgZj0wLG09cztmIT09bTsrK2Ype3ZhciB5PW9bZl0seD15W3ZdLGI9eVtkXTt5W2RdPXgsdm9pZCAwPT09YiYmKGI9bmV3IFRhKHUsaVtmXSxhW2ZdKSkseVt2XT1ifX1lbHNlIGVbZF0hPT1jJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuQW5pbWF0aW9uT2JqZWN0R3JvdXA6IERpZmZlcmVudCBvYmplY3RzIHdpdGggdGhlIHNhbWUgVVVJRCBkZXRlY3RlZC4gQ2xlYW4gdGhlIGNhY2hlcyBvciByZWNyZWF0ZSB5b3VyIGluZnJhc3RydWN0dXJlIHdoZW4gcmVsb2FkaW5nIHNjZW5lcy5cIil9dGhpcy5uQ2FjaGVkT2JqZWN0c189bn0scmVtb3ZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX29iamVjdHMsdD10aGlzLm5DYWNoZWRPYmplY3RzXyxuPXRoaXMuX2luZGljZXNCeVVVSUQscj10aGlzLl9iaW5kaW5ncyxpPXIubGVuZ3RoLGE9MCxvPWFyZ3VtZW50cy5sZW5ndGg7YSE9PW87KythKXt2YXIgcz1hcmd1bWVudHNbYV0sYz1zLnV1aWQsbD1uW2NdO2lmKHZvaWQgMCE9PWwmJmw+PXQpe3ZhciBoPXQrKyx1PWVbaF07blt1LnV1aWRdPWwsZVtsXT11LG5bY109aCxlW2hdPXM7Zm9yKHZhciBwPTAsZD1pO3AhPT1kOysrcCl7dmFyIGY9cltwXSxtPWZbaF0sdj1mW2xdO2ZbbF09bSxmW2hdPXZ9fX10aGlzLm5DYWNoZWRPYmplY3RzXz10fSx1bmNhY2hlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX29iamVjdHMsdD1lLmxlbmd0aCxuPXRoaXMubkNhY2hlZE9iamVjdHNfLHI9dGhpcy5faW5kaWNlc0J5VVVJRCxpPXRoaXMuX2JpbmRpbmdzLGE9aS5sZW5ndGgsbz0wLHM9YXJndW1lbnRzLmxlbmd0aDtvIT09czsrK28pe3ZhciBjPWFyZ3VtZW50c1tvXSxsPWMudXVpZCxoPXJbbF07aWYodm9pZCAwIT09aClpZihkZWxldGUgcltsXSxoPG4pe3ZhciB1PS0tbixwPWVbdV0sZD0tLXQsZj1lW2RdO3JbcC51dWlkXT1oLGVbaF09cCxyW2YudXVpZF09dSxlW3VdPWYsZS5wb3AoKTtmb3IodmFyIG09MCx2PWE7bSE9PXY7KyttKXt2YXIgZz1pW21dLHk9Z1t1XSx4PWdbZF07Z1toXT15LGdbdV09eCxnLnBvcCgpfX1lbHNle3ZhciBkPS0tdCxmPWVbZF07cltmLnV1aWRdPWgsZVtoXT1mLGUucG9wKCk7Zm9yKHZhciBtPTAsdj1hO20hPT12OysrbSl7dmFyIGc9aVttXTtnW2hdPWdbZF0sZy5wb3AoKX19fXRoaXMubkNhY2hlZE9iamVjdHNfPW59LHN1YnNjcmliZV86ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9iaW5kaW5nc0luZGljZXNCeVBhdGgscj1uW2VdLGk9dGhpcy5fYmluZGluZ3M7aWYodm9pZCAwIT09cilyZXR1cm4gaVtyXTt2YXIgYT10aGlzLl9wYXRocyxvPXRoaXMuX3BhcnNlZFBhdGhzLHM9dGhpcy5fb2JqZWN0cyxjPXMubGVuZ3RoLGw9dGhpcy5uQ2FjaGVkT2JqZWN0c18saD1uZXcgQXJyYXkoYyk7cj1pLmxlbmd0aCxuW2VdPXIsYS5wdXNoKGUpLG8ucHVzaCh0KSxpLnB1c2goaCk7Zm9yKHZhciB1PWwscD1zLmxlbmd0aDt1IT09cDsrK3Upe3ZhciBkPXNbdV07aFt1XT1uZXcgVGEoZCxlLHQpfXJldHVybiBofSx1bnN1YnNjcmliZV86ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoLG49dFtlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj10aGlzLl9wYXRocyxpPXRoaXMuX3BhcnNlZFBhdGhzLGE9dGhpcy5fYmluZGluZ3Msbz1hLmxlbmd0aC0xLHM9YVtvXTt0W2Vbb11dPW4sYVtuXT1zLGEucG9wKCksaVtuXT1pW29dLGkucG9wKCkscltuXT1yW29dLHIucG9wKCl9fX0pLE9iamVjdC5hc3NpZ24oQWEucHJvdG90eXBlLHtwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21peGVyLl9hY3RpdmF0ZUFjdGlvbih0aGlzKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21peGVyLl9kZWFjdGl2YXRlQWN0aW9uKHRoaXMpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWQ9ITEsdGhpcy5lbmFibGVkPSEwLHRoaXMudGltZT0wLHRoaXMuX2xvb3BDb3VudD0tMSx0aGlzLl9zdGFydFRpbWU9bnVsbCx0aGlzLnN0b3BGYWRpbmcoKS5zdG9wV2FycGluZygpfSxpc1J1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiYhdGhpcy5wYXVzZWQmJjAhPT10aGlzLnRpbWVTY2FsZSYmbnVsbD09PXRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fbWl4ZXIuX2lzQWN0aXZlQWN0aW9uKHRoaXMpfSxpc1NjaGVkdWxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyl9LHN0YXJ0QXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3N0YXJ0VGltZT1lLHRoaXN9LHNldExvb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5sb29wPWUsdGhpcy5yZXBldGl0aW9ucz10LHRoaXN9LHNldEVmZmVjdGl2ZVdlaWdodDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53ZWlnaHQ9ZSx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9dGhpcy5lbmFibGVkP2U6MCx0aGlzLnN0b3BGYWRpbmcoKX0sZ2V0RWZmZWN0aXZlV2VpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVdlaWdodH0sZmFkZUluOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyhlLDAsMSl9LGZhZGVPdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRmFkaW5nKGUsMSwwKX0sY3Jvc3NGYWRlRnJvbTpmdW5jdGlvbihlLHQsbil7aWYoZS5mYWRlT3V0KHQpLHRoaXMuZmFkZUluKHQpLG4pe3ZhciByPXRoaXMuX2NsaXAuZHVyYXRpb24saT1lLl9jbGlwLmR1cmF0aW9uLGE9aS9yLG89ci9pO2Uud2FycCgxLGEsdCksdGhpcy53YXJwKG8sMSx0KX1yZXR1cm4gdGhpc30sY3Jvc3NGYWRlVG86ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmNyb3NzRmFkZUZyb20odGhpcyx0LG4pfSxzdG9wRmFkaW5nOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7cmV0dXJuIG51bGwhPT1lJiYodGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQoZSkpLHRoaXN9LHNldEVmZmVjdGl2ZVRpbWVTY2FsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aW1lU2NhbGU9ZSx0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9dGhpcy5wYXVzZWQ/MDplLHRoaXMuc3RvcFdhcnBpbmcoKX0sZ2V0RWZmZWN0aXZlVGltZVNjYWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZX0sc2V0RHVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGltZVNjYWxlPXRoaXMuX2NsaXAuZHVyYXRpb24vZSx0aGlzLnN0b3BXYXJwaW5nKCl9LHN5bmNXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRpbWU9ZS50aW1lLHRoaXMudGltZVNjYWxlPWUudGltZVNjYWxlLHRoaXMuc3RvcFdhcnBpbmcoKX0saGFsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53YXJwKHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZSwwLGUpfSx3YXJwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl9taXhlcixpPXIudGltZSxhPXRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50LG89dGhpcy50aW1lU2NhbGU7bnVsbD09PWEmJihhPXIuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1hKTt2YXIgcz1hLnBhcmFtZXRlclBvc2l0aW9ucyxjPWEuc2FtcGxlVmFsdWVzO3JldHVybiBzWzBdPWksc1sxXT1pK24sY1swXT1lL28sY1sxXT10L28sdGhpc30sc3RvcFdhcnBpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtyZXR1cm4gbnVsbCE9PWUmJih0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1udWxsLHRoaXMuX21peGVyLl90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudChlKSksdGhpc30sZ2V0TWl4ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWl4ZXJ9LGdldENsaXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcH0sZ2V0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFJvb3R8fHRoaXMuX21peGVyLl9yb290fSxfdXBkYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuIHZvaWQgdGhpcy5fdXBkYXRlV2VpZ2h0KGUpO3ZhciBpPXRoaXMuX3N0YXJ0VGltZTtpZihudWxsIT09aSl7dmFyIGE9KGUtaSkqbjtpZihhPDB8fDA9PT1uKXJldHVybjt0aGlzLl9zdGFydFRpbWU9bnVsbCx0PW4qYX10Kj10aGlzLl91cGRhdGVUaW1lU2NhbGUoZSk7dmFyIG89dGhpcy5fdXBkYXRlVGltZSh0KSxzPXRoaXMuX3VwZGF0ZVdlaWdodChlKTtpZihzPjApZm9yKHZhciBjPXRoaXMuX2ludGVycG9sYW50cyxsPXRoaXMuX3Byb3BlcnR5QmluZGluZ3MsaD0wLHU9Yy5sZW5ndGg7aCE9PXU7KytoKWNbaF0uZXZhbHVhdGUobyksbFtoXS5hY2N1bXVsYXRlKHIscyl9LF91cGRhdGVXZWlnaHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9MDtpZih0aGlzLmVuYWJsZWQpe3Q9dGhpcy53ZWlnaHQ7dmFyIG49dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe3ZhciByPW4uZXZhbHVhdGUoZSlbMF07dCo9cixlPm4ucGFyYW1ldGVyUG9zaXRpb25zWzFdJiYodGhpcy5zdG9wRmFkaW5nKCksMD09PXImJih0aGlzLmVuYWJsZWQ9ITEpKX19cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVdlaWdodD10LHR9LF91cGRhdGVUaW1lU2NhbGU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDtpZighdGhpcy5wYXVzZWQpe3Q9dGhpcy50aW1lU2NhbGU7dmFyIG49dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe3QqPW4uZXZhbHVhdGUoZSlbMF0sZT5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcFdhcnBpbmcoKSwwPT09dD90aGlzLnBhdXNlZD0hMDp0aGlzLnRpbWVTY2FsZT10KX19cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT10LHR9LF91cGRhdGVUaW1lOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudGltZStlLG49dGhpcy5fY2xpcC5kdXJhdGlvbixyPXRoaXMubG9vcCxpPXRoaXMuX2xvb3BDb3VudCxhPTIyMDI9PT1yO2lmKDA9PT1lKXJldHVybi0xPT09aT90OmEmJjE9PSgxJmkpP24tdDp0O2lmKDIyMDA9PT1yKXstMT09PWkmJih0aGlzLl9sb29wQ291bnQ9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLCEwLCExKSk7ZTp7aWYodD49bil0PW47ZWxzZXtpZighKHQ8MCkpe3RoaXMudGltZT10O2JyZWFrIGV9dD0wfXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLHRoaXMudGltZT10LHRoaXMuX21peGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaW5pc2hlZFwiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjplPDA/LTE6MX0pfX1lbHNle2lmKC0xPT09aSYmKGU+PTA/KGk9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLDA9PT10aGlzLnJlcGV0aXRpb25zLGEpKTp0aGlzLl9zZXRFbmRpbmdzKDA9PT10aGlzLnJlcGV0aXRpb25zLCEwLGEpKSx0Pj1ufHx0PDApe3ZhciBvPU1hdGguZmxvb3IodC9uKTt0LT1uKm8saSs9TWF0aC5hYnMobyk7dmFyIHM9dGhpcy5yZXBldGl0aW9ucy1pO2lmKHM8PTApdGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEsdD1lPjA/bjowLHRoaXMudGltZT10LHRoaXMuX21peGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJmaW5pc2hlZFwiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjplPjA/MTotMX0pO2Vsc2V7aWYoMT09PXMpe3ZhciBjPWU8MDt0aGlzLl9zZXRFbmRpbmdzKGMsIWMsYSl9ZWxzZSB0aGlzLl9zZXRFbmRpbmdzKCExLCExLGEpO3RoaXMuX2xvb3BDb3VudD1pLHRoaXMudGltZT10LHRoaXMuX21peGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsb29wXCIsYWN0aW9uOnRoaXMsbG9vcERlbHRhOm99KX19ZWxzZSB0aGlzLnRpbWU9dDtpZihhJiYxPT0oMSZpKSlyZXR1cm4gbi10fXJldHVybiB0fSxfc2V0RW5kaW5nczpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncztuPyhyLmVuZGluZ1N0YXJ0PTI0MDEsci5lbmRpbmdFbmQ9MjQwMSk6KHIuZW5kaW5nU3RhcnQ9ZT90aGlzLnplcm9TbG9wZUF0U3RhcnQ/MjQwMTpXYzoyNDAyLHIuZW5kaW5nRW5kPXQ/dGhpcy56ZXJvU2xvcGVBdEVuZD8yNDAxOldjOjI0MDIpfSxfc2NoZWR1bGVGYWRpbmc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX21peGVyLGk9ci50aW1lLGE9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7bnVsbD09PWEmJihhPXIuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1hKTt2YXIgbz1hLnBhcmFtZXRlclBvc2l0aW9ucyxzPWEuc2FtcGxlVmFsdWVzO3JldHVybiBvWzBdPWksc1swXT10LG9bMV09aStlLHNbMV09bix0aGlzfX0pLExhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpMYSxfYmluZEFjdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPWUuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCxyPWUuX2NsaXAudHJhY2tzLGk9ci5sZW5ndGgsYT1lLl9wcm9wZXJ0eUJpbmRpbmdzLG89ZS5faW50ZXJwb2xhbnRzLHM9bi51dWlkLGM9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGw9Y1tzXTt2b2lkIDA9PT1sJiYobD17fSxjW3NdPWwpO2Zvcih2YXIgaD0wO2ghPT1pOysraCl7dmFyIHU9cltoXSxwPXUubmFtZSxkPWxbcF07aWYodm9pZCAwIT09ZClhW2hdPWQ7ZWxzZXtpZih2b2lkIDAhPT0oZD1hW2hdKSl7bnVsbD09PWQuX2NhY2hlSW5kZXgmJigrK2QucmVmZXJlbmNlQ291bnQsdGhpcy5fYWRkSW5hY3RpdmVCaW5kaW5nKGQscyxwKSk7Y29udGludWV9dmFyIGY9dCYmdC5fcHJvcGVydHlCaW5kaW5nc1toXS5iaW5kaW5nLnBhcnNlZFBhdGg7ZD1uZXcgTWEoVGEuY3JlYXRlKG4scCxmKSx1LlZhbHVlVHlwZU5hbWUsdS5nZXRWYWx1ZVNpemUoKSksKytkLnJlZmVyZW5jZUNvdW50LHRoaXMuX2FkZEluYWN0aXZlQmluZGluZyhkLHMscCksYVtoXT1kfW9baF0ucmVzdWx0QnVmZmVyPWQuYnVmZmVyfX0sX2FjdGl2YXRlQWN0aW9uOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9pc0FjdGl2ZUFjdGlvbihlKSl7aWYobnVsbD09PWUuX2NhY2hlSW5kZXgpe3ZhciB0PShlLl9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QpLnV1aWQsbj1lLl9jbGlwLnV1aWQscj10aGlzLl9hY3Rpb25zQnlDbGlwW25dO3RoaXMuX2JpbmRBY3Rpb24oZSxyJiZyLmtub3duQWN0aW9uc1swXSksdGhpcy5fYWRkSW5hY3RpdmVBY3Rpb24oZSxuLHQpfWZvcih2YXIgaT1lLl9wcm9wZXJ0eUJpbmRpbmdzLGE9MCxvPWkubGVuZ3RoO2EhPT1vOysrYSl7dmFyIHM9aVthXTswPT1zLnVzZUNvdW50KysmJih0aGlzLl9sZW5kQmluZGluZyhzKSxzLnNhdmVPcmlnaW5hbFN0YXRlKCkpfXRoaXMuX2xlbmRBY3Rpb24oZSl9fSxfZGVhY3RpdmF0ZUFjdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLl9pc0FjdGl2ZUFjdGlvbihlKSl7Zm9yKHZhciB0PWUuX3Byb3BlcnR5QmluZGluZ3Msbj0wLHI9dC5sZW5ndGg7biE9PXI7KytuKXt2YXIgaT10W25dOzA9PS0taS51c2VDb3VudCYmKGkucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl90YWtlQmFja0JpbmRpbmcoaSkpfXRoaXMuX3Rha2VCYWNrQWN0aW9uKGUpfX0sX2luaXRNZW1vcnlNYW5hZ2VyOmZ1bmN0aW9uKCl7dGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9uQWN0aXZlQWN0aW9ucz0wLHRoaXMuX2FjdGlvbnNCeUNsaXA9e30sdGhpcy5fYmluZGluZ3M9W10sdGhpcy5fbkFjdGl2ZUJpbmRpbmdzPTAsdGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lPXt9LHRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHM9W10sdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHM9MDt2YXIgZT10aGlzO3RoaXMuc3RhdHM9e2FjdGlvbnM6e2dldCB0b3RhbCgpe3JldHVybiBlLl9hY3Rpb25zLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIGUuX25BY3RpdmVBY3Rpb25zfX0sYmluZGluZ3M6e2dldCB0b3RhbCgpe3JldHVybiBlLl9iaW5kaW5ncy5sZW5ndGh9LGdldCBpblVzZSgpe3JldHVybiBlLl9uQWN0aXZlQmluZGluZ3N9fSxjb250cm9sSW50ZXJwb2xhbnRzOntnZXQgdG90YWwoKXtyZXR1cm4gZS5fY29udHJvbEludGVycG9sYW50cy5sZW5ndGh9LGdldCBpblVzZSgpe3JldHVybiBlLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50c319fX0sX2lzQWN0aXZlQWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUuX2NhY2hlSW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0PHRoaXMuX25BY3RpdmVBY3Rpb25zfSxfYWRkSW5hY3RpdmVBY3Rpb246ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2FjdGlvbnMsaT10aGlzLl9hY3Rpb25zQnlDbGlwLGE9aVt0XTtpZih2b2lkIDA9PT1hKWE9e2tub3duQWN0aW9uczpbZV0sYWN0aW9uQnlSb290Ont9fSxlLl9ieUNsaXBDYWNoZUluZGV4PTAsaVt0XT1hO2Vsc2V7dmFyIG89YS5rbm93bkFjdGlvbnM7ZS5fYnlDbGlwQ2FjaGVJbmRleD1vLmxlbmd0aCxvLnB1c2goZSl9ZS5fY2FjaGVJbmRleD1yLmxlbmd0aCxyLnB1c2goZSksYS5hY3Rpb25CeVJvb3Rbbl09ZX0sX3JlbW92ZUluYWN0aXZlQWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2FjdGlvbnMsbj10W3QubGVuZ3RoLTFdLHI9ZS5fY2FjaGVJbmRleDtuLl9jYWNoZUluZGV4PXIsdFtyXT1uLHQucG9wKCksZS5fY2FjaGVJbmRleD1udWxsO3ZhciBpPWUuX2NsaXAudXVpZCxhPXRoaXMuX2FjdGlvbnNCeUNsaXAsbz1hW2ldLHM9by5rbm93bkFjdGlvbnMsYz1zW3MubGVuZ3RoLTFdLGw9ZS5fYnlDbGlwQ2FjaGVJbmRleDtjLl9ieUNsaXBDYWNoZUluZGV4PWwsc1tsXT1jLHMucG9wKCksZS5fYnlDbGlwQ2FjaGVJbmRleD1udWxsLGRlbGV0ZSBvLmFjdGlvbkJ5Um9vdFsoZS5fbG9jYWxSb290fHx0aGlzLl9yb290KS51dWlkXSwwPT09cy5sZW5ndGgmJmRlbGV0ZSBhW2ldLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oZSl9LF9yZW1vdmVJbmFjdGl2ZUJpbmRpbmdzRm9yQWN0aW9uOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLl9wcm9wZXJ0eUJpbmRpbmdzLG49MCxyPXQubGVuZ3RoO24hPT1yOysrbil7dmFyIGk9dFtuXTswPT0tLWkucmVmZXJlbmNlQ291bnQmJnRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhpKX19LF9sZW5kQWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2FjdGlvbnMsbj1lLl9jYWNoZUluZGV4LHI9dGhpcy5fbkFjdGl2ZUFjdGlvbnMrKyxpPXRbcl07ZS5fY2FjaGVJbmRleD1yLHRbcl09ZSxpLl9jYWNoZUluZGV4PW4sdFtuXT1pfSxfdGFrZUJhY2tBY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYWN0aW9ucyxuPWUuX2NhY2hlSW5kZXgscj0tLXRoaXMuX25BY3RpdmVBY3Rpb25zLGk9dFtyXTtlLl9jYWNoZUluZGV4PXIsdFtyXT1lLGkuX2NhY2hlSW5kZXg9bix0W25dPWl9LF9hZGRJbmFjdGl2ZUJpbmRpbmc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxpPXJbdF0sYT10aGlzLl9iaW5kaW5nczt2b2lkIDA9PT1pJiYoaT17fSxyW3RdPWkpLGlbbl09ZSxlLl9jYWNoZUluZGV4PWEubGVuZ3RoLGEucHVzaChlKX0sX3JlbW92ZUluYWN0aXZlQmluZGluZzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9iaW5kaW5ncyxuPWUuYmluZGluZyxyPW4ucm9vdE5vZGUudXVpZCxpPW4ucGF0aCxhPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxvPWFbcl0scz10W3QubGVuZ3RoLTFdLGM9ZS5fY2FjaGVJbmRleDtzLl9jYWNoZUluZGV4PWMsdFtjXT1zLHQucG9wKCksZGVsZXRlIG9baV0sMD09PU9iamVjdC5rZXlzKG8pLmxlbmd0aCYmZGVsZXRlIGFbcl19LF9sZW5kQmluZGluZzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9iaW5kaW5ncyxuPWUuX2NhY2hlSW5kZXgscj10aGlzLl9uQWN0aXZlQmluZGluZ3MrKyxpPXRbcl07ZS5fY2FjaGVJbmRleD1yLHRbcl09ZSxpLl9jYWNoZUluZGV4PW4sdFtuXT1pfSxfdGFrZUJhY2tCaW5kaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2JpbmRpbmdzLG49ZS5fY2FjaGVJbmRleCxyPS0tdGhpcy5fbkFjdGl2ZUJpbmRpbmdzLGk9dFtyXTtlLl9jYWNoZUluZGV4PXIsdFtyXT1lLGkuX2NhY2hlSW5kZXg9bix0W25dPWl9LF9sZW5kQ29udHJvbEludGVycG9sYW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29udHJvbEludGVycG9sYW50cyx0PXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzKyssbj1lW3RdO3JldHVybiB2b2lkIDA9PT1uJiYobj1uZXcgSnIobmV3IEZsb2F0MzJBcnJheSgyKSxuZXcgRmxvYXQzMkFycmF5KDIpLDEsdGhpcy5fY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlciksbi5fX2NhY2hlSW5kZXg9dCxlW3RdPW4pLG59LF90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzLG49ZS5fX2NhY2hlSW5kZXgscj0tLXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzLGk9dFtyXTtlLl9fY2FjaGVJbmRleD1yLHRbcl09ZSxpLl9fY2FjaGVJbmRleD1uLHRbbl09aX0sX2NvbnRyb2xJbnRlcnBvbGFudHNSZXN1bHRCdWZmZXI6bmV3IEZsb2F0MzJBcnJheSgxKSxjbGlwQWN0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8dGhpcy5fcm9vdCxyPW4udXVpZCxpPVwic3RyaW5nXCI9PXR5cGVvZiBlP29pLmZpbmRCeU5hbWUobixlKTplLGE9bnVsbCE9PWk/aS51dWlkOmUsbz10aGlzLl9hY3Rpb25zQnlDbGlwW2FdLHM9bnVsbDtpZih2b2lkIDAhPT1vKXt2YXIgYz1vLmFjdGlvbkJ5Um9vdFtyXTtpZih2b2lkIDAhPT1jKXJldHVybiBjO3M9by5rbm93bkFjdGlvbnNbMF0sbnVsbD09PWkmJihpPXMuX2NsaXApfWlmKG51bGw9PT1pKXJldHVybiBudWxsO3ZhciBsPW5ldyBBYSh0aGlzLGksdCk7cmV0dXJuIHRoaXMuX2JpbmRBY3Rpb24obCxzKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihsLGEsciksbH0sZXhpc3RpbmdBY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHx0aGlzLl9yb290LHI9bi51dWlkLGk9XCJzdHJpbmdcIj09dHlwZW9mIGU/b2kuZmluZEJ5TmFtZShuLGUpOmUsYT1pP2kudXVpZDplLG89dGhpcy5fYWN0aW9uc0J5Q2xpcFthXTtyZXR1cm4gdm9pZCAwIT09bz9vLmFjdGlvbkJ5Um9vdFtyXXx8bnVsbDpudWxsfSxzdG9wQWxsQWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fYWN0aW9ucyx0PXRoaXMuX25BY3RpdmVBY3Rpb25zLG49dGhpcy5fYmluZGluZ3Mscj10aGlzLl9uQWN0aXZlQmluZGluZ3M7dGhpcy5fbkFjdGl2ZUFjdGlvbnM9MCx0aGlzLl9uQWN0aXZlQmluZGluZ3M9MDtmb3IodmFyIGk9MDtpIT09dDsrK2kpZVtpXS5yZXNldCgpO2Zvcih2YXIgaT0wO2khPT1yOysraSluW2ldLnVzZUNvdW50PTA7cmV0dXJuIHRoaXN9LHVwZGF0ZTpmdW5jdGlvbihlKXtlKj10aGlzLnRpbWVTY2FsZTtmb3IodmFyIHQ9dGhpcy5fYWN0aW9ucyxuPXRoaXMuX25BY3RpdmVBY3Rpb25zLHI9dGhpcy50aW1lKz1lLGk9TWF0aC5zaWduKGUpLGE9dGhpcy5fYWNjdUluZGV4Xj0xLG89MDtvIT09bjsrK28pe3Rbb10uX3VwZGF0ZShyLGUsaSxhKX1mb3IodmFyIHM9dGhpcy5fYmluZGluZ3MsYz10aGlzLl9uQWN0aXZlQmluZGluZ3Msbz0wO28hPT1jOysrbylzW29dLmFwcGx5KGEpO3JldHVybiB0aGlzfSxzZXRUaW1lOmZ1bmN0aW9uKGUpe3RoaXMudGltZT0wO2Zvcih2YXIgdD0wO3Q8dGhpcy5fYWN0aW9ucy5sZW5ndGg7dCsrKXRoaXMuX2FjdGlvbnNbdF0udGltZT0wO3JldHVybiB0aGlzLnVwZGF0ZShlKX0sZ2V0Um9vdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290fSx1bmNhY2hlQ2xpcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9hY3Rpb25zLG49ZS51dWlkLHI9dGhpcy5fYWN0aW9uc0J5Q2xpcCxpPXJbbl07aWYodm9pZCAwIT09aSl7Zm9yKHZhciBhPWkua25vd25BY3Rpb25zLG89MCxzPWEubGVuZ3RoO28hPT1zOysrbyl7dmFyIGM9YVtvXTt0aGlzLl9kZWFjdGl2YXRlQWN0aW9uKGMpO3ZhciBsPWMuX2NhY2hlSW5kZXgsaD10W3QubGVuZ3RoLTFdO2MuX2NhY2hlSW5kZXg9bnVsbCxjLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsaC5fY2FjaGVJbmRleD1sLHRbbF09aCx0LnBvcCgpLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oYyl9ZGVsZXRlIHJbbl19fSx1bmNhY2hlUm9vdDpmdW5jdGlvbihlKXt2YXIgdD1lLnV1aWQsbj10aGlzLl9hY3Rpb25zQnlDbGlwO2Zvcih2YXIgciBpbiBuKXt2YXIgaT1uW3JdLmFjdGlvbkJ5Um9vdCxhPWlbdF07dm9pZCAwIT09YSYmKHRoaXMuX2RlYWN0aXZhdGVBY3Rpb24oYSksdGhpcy5fcmVtb3ZlSW5hY3RpdmVBY3Rpb24oYSkpfXZhciBvPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxzPW9bdF07aWYodm9pZCAwIT09cylmb3IodmFyIGMgaW4gcyl7dmFyIGw9c1tjXTtsLnJlc3RvcmVPcmlnaW5hbFN0YXRlKCksdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGwpfX0sdW5jYWNoZUFjdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXhpc3RpbmdBY3Rpb24oZSx0KTtudWxsIT09biYmKHRoaXMuX2RlYWN0aXZhdGVBY3Rpb24obiksdGhpcy5fcmVtb3ZlSW5hY3RpdmVBY3Rpb24obikpfX0pLFJhLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUmEodm9pZCAwPT09dGhpcy52YWx1ZS5jbG9uZT90aGlzLnZhbHVlOnRoaXMudmFsdWUuY2xvbmUoKSl9LFBhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6UGEsaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcjohMCxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiBlbi5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5tZXNoUGVyQXR0cmlidXRlPWUubWVzaFBlckF0dHJpYnV0ZSx0aGlzfX0pLE9iamVjdC5hc3NpZ24oQ2EucHJvdG90eXBlLHtsaW5lUHJlY2lzaW9uOjEsc2V0OmZ1bmN0aW9uKGUsdCl7dGhpcy5yYXkuc2V0KGUsdCl9LHNldEZyb21DYW1lcmE6ZnVuY3Rpb24oZSx0KXt0JiZ0LmlzUGVyc3BlY3RpdmVDYW1lcmE/KHRoaXMucmF5Lm9yaWdpbi5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksdGhpcy5yYXkuZGlyZWN0aW9uLnNldChlLngsZS55LC41KS51bnByb2plY3QodCkuc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCksdGhpcy5jYW1lcmE9dCk6dCYmdC5pc09ydGhvZ3JhcGhpY0NhbWVyYT8odGhpcy5yYXkub3JpZ2luLnNldChlLngsZS55LCh0Lm5lYXIrdC5mYXIpLyh0Lm5lYXItdC5mYXIpKS51bnByb2plY3QodCksdGhpcy5yYXkuZGlyZWN0aW9uLnNldCgwLDAsLTEpLnRyYW5zZm9ybURpcmVjdGlvbih0Lm1hdHJpeFdvcmxkKSx0aGlzLmNhbWVyYT10KTpjb25zb2xlLmVycm9yKFwiVEhSRUUuUmF5Y2FzdGVyOiBVbnN1cHBvcnRlZCBjYW1lcmEgdHlwZS5cIil9LGludGVyc2VjdE9iamVjdDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bnx8W107cmV0dXJuIERhKGUsdGhpcyxyLHQpLHIuc29ydChPYSkscn0saW50ZXJzZWN0T2JqZWN0czpmdW5jdGlvbihlLHQsbil7dmFyIHI9bnx8W107aWYoITE9PT1BcnJheS5pc0FycmF5KGUpKXJldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5SYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0czogb2JqZWN0cyBpcyBub3QgYW4gQXJyYXkuXCIpLHI7Zm9yKHZhciBpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKURhKGVbaV0sdGhpcyxyLHQpO3JldHVybiByLnNvcnQoT2EpLHJ9fSksT2JqZWN0LmFzc2lnbihJYS5wcm90b3R5cGUse3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMucmFkaXVzPWUsdGhpcy5waGk9dCx0aGlzLnRoZXRhPW4sdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmFkaXVzPWUucmFkaXVzLHRoaXMucGhpPWUucGhpLHRoaXMudGhldGE9ZS50aGV0YSx0aGlzfSxtYWtlU2FmZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBoaT1NYXRoLm1heCgxZS02LE1hdGgubWluKE1hdGguUEktMWUtNix0aGlzLnBoaSkpLHRoaXN9LHNldEZyb21WZWN0b3IzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldEZyb21DYXJ0ZXNpYW5Db29yZHMoZS54LGUueSxlLnopfSxzZXRGcm9tQ2FydGVzaWFuQ29vcmRzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KGUqZSt0KnQrbipuKSwwPT09dGhpcy5yYWRpdXM/KHRoaXMudGhldGE9MCx0aGlzLnBoaT0wKToodGhpcy50aGV0YT1NYXRoLmF0YW4yKGUsbiksdGhpcy5waGk9TWF0aC5hY29zKGxsLmNsYW1wKHQvdGhpcy5yYWRpdXMsLTEsMSkpKSx0aGlzfX0pLE9iamVjdC5hc3NpZ24oTmEucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnJhZGl1cz1lLHRoaXMudGhldGE9dCx0aGlzLnk9bix0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yYWRpdXM9ZS5yYWRpdXMsdGhpcy50aGV0YT1lLnRoZXRhLHRoaXMueT1lLnksdGhpc30sc2V0RnJvbVZlY3RvcjM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2V0RnJvbUNhcnRlc2lhbkNvb3JkcyhlLngsZS55LGUueil9LHNldEZyb21DYXJ0ZXNpYW5Db29yZHM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnJhZGl1cz1NYXRoLnNxcnQoZSplK24qbiksdGhpcy50aGV0YT1NYXRoLmF0YW4yKGUsbiksdGhpcy55PXQsdGhpc319KTt2YXIgcXA9bmV3IG47T2JqZWN0LmFzc2lnbih6YS5wcm90b3R5cGUse3NldDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1pbi5jb3B5KGUpLHRoaXMubWF4LmNvcHkodCksdGhpc30sc2V0RnJvbVBvaW50czpmdW5jdGlvbihlKXt0aGlzLm1ha2VFbXB0eSgpO2Zvcih2YXIgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl0aGlzLmV4cGFuZEJ5UG9pbnQoZVt0XSk7cmV0dXJuIHRoaXN9LHNldEZyb21DZW50ZXJBbmRTaXplOmZ1bmN0aW9uKGUsdCl7dmFyIG49cXAuY29weSh0KS5tdWx0aXBseVNjYWxhciguNSk7cmV0dXJuIHRoaXMubWluLmNvcHkoZSkuc3ViKG4pLHRoaXMubWF4LmNvcHkoZSkuYWRkKG4pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbi5jb3B5KGUubWluKSx0aGlzLm1heC5jb3B5KGUubWF4KSx0aGlzfSxtYWtlRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW4ueD10aGlzLm1pbi55PTEvMCx0aGlzLm1heC54PXRoaXMubWF4Lnk9LTEvMCx0aGlzfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55fSxnZXRDZW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gyOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSxlPW5ldyBuKSx0aGlzLmlzRW1wdHkoKT9lLnNldCgwLDApOmUuYWRkVmVjdG9ycyh0aGlzLm1pbix0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoLjUpfSxnZXRTaXplOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuQm94MjogLmdldFNpemUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IG4pLHRoaXMuaXNFbXB0eSgpP2Uuc2V0KDAsMCk6ZS5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKX0sZXhwYW5kQnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4ubWluKGUpLHRoaXMubWF4Lm1heChlKSx0aGlzfSxleHBhbmRCeVZlY3RvcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4uc3ViKGUpLHRoaXMubWF4LmFkZChlKSx0aGlzfSxleHBhbmRCeVNjYWxhcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW4uYWRkU2NhbGFyKC1lKSx0aGlzLm1heC5hZGRTY2FsYXIoZSksdGhpc30sY29udGFpbnNQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4hKGUueDx0aGlzLm1pbi54fHxlLng+dGhpcy5tYXgueHx8ZS55PHRoaXMubWluLnl8fGUueT50aGlzLm1heC55KX0sY29udGFpbnNCb3g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWluLng8PWUubWluLngmJmUubWF4Lng8PXRoaXMubWF4LngmJnRoaXMubWluLnk8PWUubWluLnkmJmUubWF4Lnk8PXRoaXMubWF4Lnl9LGdldFBhcmFtZXRlcjpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuQm94MjogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksdD1uZXcgbiksdC5zZXQoKGUueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC10aGlzLm1pbi54KSwoZS55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpKX0saW50ZXJzZWN0c0JveDpmdW5jdGlvbihlKXtyZXR1cm4hKGUubWF4Lng8dGhpcy5taW4ueHx8ZS5taW4ueD50aGlzLm1heC54fHxlLm1heC55PHRoaXMubWluLnl8fGUubWluLnk+dGhpcy5tYXgueSl9LGNsYW1wUG9pbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybihcIlRIUkVFLkJveDI6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZFwiKSx0PW5ldyBuKSx0LmNvcHkoZSkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpfSxkaXN0YW5jZVRvUG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHFwLmNvcHkoZSkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1YihlKS5sZW5ndGgoKX0saW50ZXJzZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1pbi5tYXgoZS5taW4pLHRoaXMubWF4Lm1pbihlLm1heCksdGhpc30sdW5pb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWluLm1pbihlLm1pbiksdGhpcy5tYXgubWF4KGUubWF4KSx0aGlzfSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWluLmFkZChlKSx0aGlzLm1heC5hZGQoZSksdGhpc30sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1pbi5lcXVhbHModGhpcy5taW4pJiZlLm1heC5lcXVhbHModGhpcy5tYXgpfX0pO3ZhciBYcD1uZXcgaSxZcD1uZXcgaTtPYmplY3QuYXNzaWduKEJhLnByb3RvdHlwZSx7c2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3RhcnQuY29weShlKSx0aGlzLmVuZC5jb3B5KHQpLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0YXJ0LmNvcHkoZS5zdGFydCksdGhpcy5lbmQuY29weShlLmVuZCksdGhpc30sZ2V0Q2VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuTGluZTM6IC5nZXRDZW50ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkXCIpLGU9bmV3IGkpLGUuYWRkVmVjdG9ycyh0aGlzLnN0YXJ0LHRoaXMuZW5kKS5tdWx0aXBseVNjYWxhciguNSl9LGRlbHRhOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKFwiVEhSRUUuTGluZTM6IC5kZWx0YSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksZT1uZXcgaSksZS5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpfSxkaXN0YW5jZVNxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5lbmQpfSxkaXN0YW5jZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG8odGhpcy5lbmQpfSxhdDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKFwiVEhSRUUuTGluZTM6IC5hdCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksdD1uZXcgaSksdGhpcy5kZWx0YSh0KS5tdWx0aXBseVNjYWxhcihlKS5hZGQodGhpcy5zdGFydCl9LGNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXI6ZnVuY3Rpb24oZSx0KXtYcC5zdWJWZWN0b3JzKGUsdGhpcy5zdGFydCksWXAuc3ViVmVjdG9ycyh0aGlzLmVuZCx0aGlzLnN0YXJ0KTt2YXIgbj1ZcC5kb3QoWXApLHI9WXAuZG90KFhwKSxpPXIvbjtyZXR1cm4gdCYmKGk9bGwuY2xhbXAoaSwwLDEpKSxpfSxjbG9zZXN0UG9pbnRUb1BvaW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoZSx0KTtyZXR1cm4gdm9pZCAwPT09biYmKGNvbnNvbGUud2FybihcIlRIUkVFLkxpbmUzOiAuY2xvc2VzdFBvaW50VG9Qb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWRcIiksbj1uZXcgaSksdGhpcy5kZWx0YShuKS5tdWx0aXBseVNjYWxhcihyKS5hZGQodGhpcy5zdGFydCl9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdGFydC5hcHBseU1hdHJpeDQoZSksdGhpcy5lbmQuYXBwbHlNYXRyaXg0KGUpLHRoaXN9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydC5lcXVhbHModGhpcy5zdGFydCkmJmUuZW5kLmVxdWFscyh0aGlzLmVuZCl9fSksVWEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLFVhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1VYSxVYS5wcm90b3R5cGUuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3Q9ITA7dmFyIFpwPW5ldyBpLEpwPW5ldyBpLFFwPW5ldyBhLEtwPVtcImFcIixcImJcIixcImNcIl07RmEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZG4ucHJvdG90eXBlKSxGYS5wcm90b3R5cGUuY29uc3RydWN0b3I9RmEsRmEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMub2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSxRcC5nZXROb3JtYWxNYXRyaXgodGhpcy5vYmplY3QubWF0cml4V29ybGQpO3ZhciBlPXRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkLHQ9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLG49dGhpcy5vYmplY3QuZ2VvbWV0cnk7aWYobiYmbi5pc0dlb21ldHJ5KWZvcih2YXIgcj1uLnZlcnRpY2VzLGk9bi5mYWNlcyxhPTAsbz0wLHM9aS5sZW5ndGg7bzxzO28rKylmb3IodmFyIGM9aVtvXSxsPTAsaD1jLnZlcnRleE5vcm1hbHMubGVuZ3RoO2w8aDtsKyspe3ZhciB1PXJbY1tLcFtsXV1dLHA9Yy52ZXJ0ZXhOb3JtYWxzW2xdO1pwLmNvcHkodSkuYXBwbHlNYXRyaXg0KGUpLEpwLmNvcHkocCkuYXBwbHlNYXRyaXgzKFFwKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpLmFkZChacCksdC5zZXRYWVooYSxacC54LFpwLnksWnAueiksYSs9MSx0LnNldFhZWihhLEpwLngsSnAueSxKcC56KSxhKz0xfWVsc2UgaWYobiYmbi5pc0J1ZmZlckdlb21ldHJ5KWZvcih2YXIgZD1uLmF0dHJpYnV0ZXMucG9zaXRpb24sZj1uLmF0dHJpYnV0ZXMubm9ybWFsLGE9MCxsPTAsaD1kLmNvdW50O2w8aDtsKyspWnAuc2V0KGQuZ2V0WChsKSxkLmdldFkobCksZC5nZXRaKGwpKS5hcHBseU1hdHJpeDQoZSksSnAuc2V0KGYuZ2V0WChsKSxmLmdldFkobCksZi5nZXRaKGwpKSxKcC5hcHBseU1hdHJpeDMoUXApLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMuc2l6ZSkuYWRkKFpwKSx0LnNldFhZWihhLFpwLngsWnAueSxacC56KSxhKz0xLHQuc2V0WFlaKGEsSnAueCxKcC55LEpwLnopLGErPTE7dC5uZWVkc1VwZGF0ZT0hMH07dmFyICRwPW5ldyBpLGVkPW5ldyBpO0dhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGRuLnByb3RvdHlwZSksR2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPUdhLEdhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm9iamVjdC51cGRhdGVNYXRyaXhXb3JsZCghMCk7Zm9yKHZhciBlPXRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkLHQ9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLG49dGhpcy5vYmplY3QuZ2VvbWV0cnkscj1uLmF0dHJpYnV0ZXMucG9zaXRpb24saT1uLmF0dHJpYnV0ZXMudGFuZ2VudCxhPTAsbz0wLHM9ci5jb3VudDtvPHM7bysrKSRwLnNldChyLmdldFgobyksci5nZXRZKG8pLHIuZ2V0WihvKSkuYXBwbHlNYXRyaXg0KGUpLGVkLnNldChpLmdldFgobyksaS5nZXRZKG8pLGkuZ2V0WihvKSksZWQudHJhbnNmb3JtRGlyZWN0aW9uKGUpLm11bHRpcGx5U2NhbGFyKHRoaXMuc2l6ZSkuYWRkKCRwKSx0LnNldFhZWihhLCRwLngsJHAueSwkcC56KSxhKz0xLHQuc2V0WFlaKGEsZWQueCxlZC55LGVkLnopLGErPTE7dC5uZWVkc1VwZGF0ZT0hMH07dmFyIHRkPW5ldyBpO0hhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxIYS5wcm90b3R5cGUuY29uc3RydWN0b3I9SGEsSGEucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbmUuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMuY29uZS5tYXRlcmlhbC5kaXNwb3NlKCl9LEhhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7dmFyIGU9dGhpcy5saWdodC5kaXN0YW5jZT90aGlzLmxpZ2h0LmRpc3RhbmNlOjFlMyx0PWUqTWF0aC50YW4odGhpcy5saWdodC5hbmdsZSk7dGhpcy5jb25lLnNjYWxlLnNldCh0LHQsZSksdGQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKSx0aGlzLmNvbmUubG9va0F0KHRkKSx2b2lkIDAhPT10aGlzLmNvbG9yP3RoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik6dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcil9O3ZhciBuZD1uZXcgaSxyZD1uZXcgaCxpZD1uZXcgaDtqYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkbi5wcm90b3R5cGUpLGphLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1qYSxqYS5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ib25lcyxuPXRoaXMuZ2VvbWV0cnkscj1uLmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpO2lkLmdldEludmVyc2UodGhpcy5yb290Lm1hdHJpeFdvcmxkKTtmb3IodmFyIGk9MCxhPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBvPXRbaV07by5wYXJlbnQmJm8ucGFyZW50LmlzQm9uZSYmKHJkLm11bHRpcGx5TWF0cmljZXMoaWQsby5tYXRyaXhXb3JsZCksbmQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHJkKSxyLnNldFhZWihhLG5kLngsbmQueSxuZC56KSxyZC5tdWx0aXBseU1hdHJpY2VzKGlkLG8ucGFyZW50Lm1hdHJpeFdvcmxkKSxuZC5zZXRGcm9tTWF0cml4UG9zaXRpb24ocmQpLHIuc2V0WFlaKGErMSxuZC54LG5kLnksbmQueiksYSs9Mil9bi5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKS5uZWVkc1VwZGF0ZT0hMCxkLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSl9LGthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEgucHJvdG90eXBlKSxrYS5wcm90b3R5cGUuY29uc3RydWN0b3I9a2Esa2EucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKX0sa2EucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuY29sb3I/dGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik6dGhpcy5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpfSxXYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwbi5wcm90b3R5cGUpLFdhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1XYSxXYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5zY2FsZS5zZXQoLjUqdGhpcy5saWdodC53aWR0aCwuNSp0aGlzLmxpZ2h0LmhlaWdodCwxKSx2b2lkIDAhPT10aGlzLmNvbG9yKXRoaXMubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpLHRoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpO2Vsc2V7dGhpcy5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpLm11bHRpcGx5U2NhbGFyKHRoaXMubGlnaHQuaW50ZW5zaXR5KTt2YXIgZT10aGlzLm1hdGVyaWFsLmNvbG9yLHQ9TWF0aC5tYXgoZS5yLGUuZyxlLmIpO3Q+MSYmZS5tdWx0aXBseVNjYWxhcigxL3QpLHRoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLm1hdGVyaWFsLmNvbG9yKX19LFdhLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCksdGhpcy5jaGlsZHJlblswXS5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5jaGlsZHJlblswXS5tYXRlcmlhbC5kaXNwb3NlKCl9O3ZhciBhZD1uZXcgaSxvZD1uZXcgdyxzZD1uZXcgdztxYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSkscWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPXFhLHFhLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlblswXS5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5jaGlsZHJlblswXS5tYXRlcmlhbC5kaXNwb3NlKCl9LHFhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNoaWxkcmVuWzBdO2lmKHZvaWQgMCE9PXRoaXMuY29sb3IpdGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik7ZWxzZXt2YXIgdD1lLmdlb21ldHJ5LmdldEF0dHJpYnV0ZShcImNvbG9yXCIpO29kLmNvcHkodGhpcy5saWdodC5jb2xvciksc2QuY29weSh0aGlzLmxpZ2h0Lmdyb3VuZENvbG9yKTtmb3IodmFyIG49MCxyPXQuY291bnQ7bjxyO24rKyl7dmFyIGk9bjxyLzI/b2Q6c2Q7dC5zZXRYWVoobixpLnIsaS5nLGkuYil9dC5uZWVkc1VwZGF0ZT0hMH1lLmxvb2tBdChhZC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC5tYXRyaXhXb3JsZCkubmVnYXRlKCkpfSxYYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShILnByb3RvdHlwZSksWGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPVhhLFhhLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCl9LFhhLnByb3RvdHlwZS5vbkJlZm9yZVJlbmRlcj1mdW5jdGlvbigpe3RoaXMucG9zaXRpb24uY29weSh0aGlzLmxpZ2h0UHJvYmUucG9zaXRpb24pLHRoaXMuc2NhbGUuc2V0KDEsMSwxKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpLHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuaW50ZW5zaXR5LnZhbHVlPXRoaXMubGlnaHRQcm9iZS5pbnRlbnNpdHl9LFlhLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZG4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6WWEsY29weTpmdW5jdGlvbihlKXtyZXR1cm4gZG4ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuZ2VvbWV0cnkuY29weShlLmdlb21ldHJ5KSx0aGlzLm1hdGVyaWFsLmNvcHkoZS5tYXRlcmlhbCksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fSksWmEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZG4ucHJvdG90eXBlKSxaYS5wcm90b3R5cGUuY29uc3RydWN0b3I9WmEsSmEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocG4ucHJvdG90eXBlKSxKYS5wcm90b3R5cGUuY29uc3RydWN0b3I9SmEsSmEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyLGEsbyl7dmFyIHM9KHItZSkvYTtmb3IoZi5zZXRYWVoodSwwLDAsMCkscCsrLHQ9ZTt0PHI7dCs9cyluPXUrcCxmLnNldFhZWihuLE1hdGguc2luKHQpKmksMCxNYXRoLmNvcyh0KSppKSxmLnNldFhZWihuKzEsTWF0aC5zaW4oTWF0aC5taW4odCtzLHIpKSppLDAsTWF0aC5jb3MoTWF0aC5taW4odCtzLHIpKSppKSxmLnNldFhZWihuKzIsMCwwLDApLHArPTM7ZC5hZGRHcm91cCh1LHAsbyksdSs9cCxwPTB9dmFyIHQsbixyPXRoaXMuYXVkaW8saT10aGlzLnJhbmdlLGE9dGhpcy5kaXZpc2lvbnNJbm5lckFuZ2xlLG89dGhpcy5kaXZpc2lvbnNPdXRlckFuZ2xlLHM9bGwuZGVnVG9SYWQoci5wYW5uZXIuY29uZUlubmVyQW5nbGUpLGM9bGwuZGVnVG9SYWQoci5wYW5uZXIuY29uZU91dGVyQW5nbGUpLGw9cy8yLGg9Yy8yLHU9MCxwPTAsZD10aGlzLmdlb21ldHJ5LGY9ZC5hdHRyaWJ1dGVzLnBvc2l0aW9uO2QuY2xlYXJHcm91cHMoKSxlKC1oLC1sLG8sMCksZSgtbCxsLGEsMSksZShsLGgsbywwKSxmLm5lZWRzVXBkYXRlPSEwLHM9PT1jJiYodGhpcy5tYXRlcmlhbFswXS52aXNpYmxlPSExKX0sSmEucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLm1hdGVyaWFsWzBdLmRpc3Bvc2UoKSx0aGlzLm1hdGVyaWFsWzFdLmRpc3Bvc2UoKX07dmFyIGNkPW5ldyBpLGxkPW5ldyBpLGhkPW5ldyBhO1FhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGRuLnByb3RvdHlwZSksUWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPVFhLFFhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm9iamVjdC51cGRhdGVNYXRyaXhXb3JsZCghMCksaGQuZ2V0Tm9ybWFsTWF0cml4KHRoaXMub2JqZWN0Lm1hdHJpeFdvcmxkKTtmb3IodmFyIGU9dGhpcy5vYmplY3QubWF0cml4V29ybGQsdD10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24sbj10aGlzLm9iamVjdC5nZW9tZXRyeSxyPW4udmVydGljZXMsaT1uLmZhY2VzLGE9MCxvPTAscz1pLmxlbmd0aDtvPHM7bysrKXt2YXIgYz1pW29dLGw9Yy5ub3JtYWw7Y2QuY29weShyW2MuYV0pLmFkZChyW2MuYl0pLmFkZChyW2MuY10pLmRpdmlkZVNjYWxhcigzKS5hcHBseU1hdHJpeDQoZSksbGQuY29weShsKS5hcHBseU1hdHJpeDMoaGQpLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMuc2l6ZSkuYWRkKGNkKSx0LnNldFhZWihhLGNkLngsY2QueSxjZC56KSxhKz0xLHQuc2V0WFlaKGEsbGQueCxsZC55LGxkLnopLGErPTF9dC5uZWVkc1VwZGF0ZT0hMH07dmFyIHVkPW5ldyBpLHBkPW5ldyBpLGRkPW5ldyBpO0thLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxLYS5wcm90b3R5cGUuY29uc3RydWN0b3I9S2EsS2EucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxpZ2h0UGxhbmUuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5kaXNwb3NlKCksdGhpcy50YXJnZXRMaW5lLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuZGlzcG9zZSgpfSxLYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dWQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQubWF0cml4V29ybGQpLHBkLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCksZGQuc3ViVmVjdG9ycyhwZCx1ZCksdGhpcy5saWdodFBsYW5lLmxvb2tBdChwZCksdm9pZCAwIT09dGhpcy5jb2xvcj8odGhpcy5saWdodFBsYW5lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKSx0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpKToodGhpcy5saWdodFBsYW5lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvciksdGhpcy50YXJnZXRMaW5lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcikpLHRoaXMudGFyZ2V0TGluZS5sb29rQXQocGQpLHRoaXMudGFyZ2V0TGluZS5zY2FsZS56PWRkLmxlbmd0aCgpfTt2YXIgZmQ9bmV3IGksbWQ9bmV3IFk7JGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZG4ucHJvdG90eXBlKSwkYS5wcm90b3R5cGUuY29uc3RydWN0b3I9JGEsJGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2VvbWV0cnksdD10aGlzLnBvaW50TWFwO21kLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5jYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLGVvKFwiY1wiLHQsZSxtZCwwLDAsLTEpLGVvKFwidFwiLHQsZSxtZCwwLDAsMSksZW8oXCJuMVwiLHQsZSxtZCwtMSwtMSwtMSksXG5lbyhcIm4yXCIsdCxlLG1kLDEsLTEsLTEpLGVvKFwibjNcIix0LGUsbWQsLTEsMSwtMSksZW8oXCJuNFwiLHQsZSxtZCwxLDEsLTEpLGVvKFwiZjFcIix0LGUsbWQsLTEsLTEsMSksZW8oXCJmMlwiLHQsZSxtZCwxLC0xLDEpLGVvKFwiZjNcIix0LGUsbWQsLTEsMSwxKSxlbyhcImY0XCIsdCxlLG1kLDEsMSwxKSxlbyhcInUxXCIsdCxlLG1kLC43LDEuMSwtMSksZW8oXCJ1MlwiLHQsZSxtZCwtLjcsMS4xLC0xKSxlbyhcInUzXCIsdCxlLG1kLDAsMiwtMSksZW8oXCJjZjFcIix0LGUsbWQsLTEsMCwxKSxlbyhcImNmMlwiLHQsZSxtZCwxLDAsMSksZW8oXCJjZjNcIix0LGUsbWQsMCwtMSwxKSxlbyhcImNmNFwiLHQsZSxtZCwwLDEsMSksZW8oXCJjbjFcIix0LGUsbWQsLTEsMCwtMSksZW8oXCJjbjJcIix0LGUsbWQsMSwwLC0xKSxlbyhcImNuM1wiLHQsZSxtZCwwLC0xLC0xKSxlbyhcImNuNFwiLHQsZSxtZCwwLDEsLTEpLGUuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIikubmVlZHNVcGRhdGU9ITB9O3ZhciB2ZD1uZXcgbTt0by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkbi5wcm90b3R5cGUpLHRvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10byx0by5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJmNvbnNvbGUud2FybihcIlRIUkVFLkJveEhlbHBlcjogLnVwZGF0ZSgpIGhhcyBubyBsb25nZXIgYXJndW1lbnRzLlwiKSx2b2lkIDAhPT10aGlzLm9iamVjdCYmdmQuc2V0RnJvbU9iamVjdCh0aGlzLm9iamVjdCksIXZkLmlzRW1wdHkoKSl7dmFyIHQ9dmQubWluLG49dmQubWF4LHI9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLGk9ci5hcnJheTtpWzBdPW4ueCxpWzFdPW4ueSxpWzJdPW4ueixpWzNdPXQueCxpWzRdPW4ueSxpWzVdPW4ueixpWzZdPXQueCxpWzddPXQueSxpWzhdPW4ueixpWzldPW4ueCxpWzEwXT10LnksaVsxMV09bi56LGlbMTJdPW4ueCxpWzEzXT1uLnksaVsxNF09dC56LGlbMTVdPXQueCxpWzE2XT1uLnksaVsxN109dC56LGlbMThdPXQueCxpWzE5XT10LnksaVsyMF09dC56LGlbMjFdPW4ueCxpWzIyXT10LnksaVsyM109dC56LHIubmVlZHNVcGRhdGU9ITAsdGhpcy5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKX19LHRvLnByb3RvdHlwZS5zZXRGcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9iamVjdD1lLHRoaXMudXBkYXRlKCksdGhpc30sdG8ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGRuLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLm9iamVjdD1lLm9iamVjdCx0aGlzfSx0by5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LG5vLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGRuLnByb3RvdHlwZSksbm8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW5vLG5vLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJveDt0LmlzRW1wdHkoKXx8KHQuZ2V0Q2VudGVyKHRoaXMucG9zaXRpb24pLHQuZ2V0U2l6ZSh0aGlzLnNjYWxlKSx0aGlzLnNjYWxlLm11bHRpcGx5U2NhbGFyKC41KSxkLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSkpfSxyby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwbi5wcm90b3R5cGUpLHJvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ybyxyby5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9LXRoaXMucGxhbmUuY29uc3RhbnQ7TWF0aC5hYnModCk8MWUtOCYmKHQ9MWUtOCksdGhpcy5zY2FsZS5zZXQoLjUqdGhpcy5zaXplLC41KnRoaXMuc2l6ZSx0KSx0aGlzLmNoaWxkcmVuWzBdLm1hdGVyaWFsLnNpZGU9dDwwP1lvOlhvLHRoaXMubG9va0F0KHRoaXMucGxhbmUubm9ybWFsKSxkLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSl9O3ZhciBnZCx5ZCx4ZD1uZXcgaTtpby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksaW8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWlvLGlvLnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24oZSl7aWYoZS55Pi45OTk5OSl0aGlzLnF1YXRlcm5pb24uc2V0KDAsMCwwLDEpO2Vsc2UgaWYoZS55PC0uOTk5OTkpdGhpcy5xdWF0ZXJuaW9uLnNldCgxLDAsMCwwKTtlbHNle3hkLnNldChlLnosMCwtZS54KS5ub3JtYWxpemUoKTt2YXIgdD1NYXRoLmFjb3MoZS55KTt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZSh4ZCx0KX19LGlvLnByb3RvdHlwZS5zZXRMZW5ndGg9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQmJih0PS4yKmUpLHZvaWQgMD09PW4mJihuPS4yKnQpLHRoaXMubGluZS5zY2FsZS5zZXQoMSxNYXRoLm1heCgxZS00LGUtdCksMSksdGhpcy5saW5lLnVwZGF0ZU1hdHJpeCgpLHRoaXMuY29uZS5zY2FsZS5zZXQobix0LG4pLHRoaXMuY29uZS5wb3NpdGlvbi55PWUsdGhpcy5jb25lLnVwZGF0ZU1hdHJpeCgpfSxpby5wcm90b3R5cGUuc2V0Q29sb3I9ZnVuY3Rpb24oZSl7dGhpcy5saW5lLm1hdGVyaWFsLmNvbG9yLnNldChlKSx0aGlzLmNvbmUubWF0ZXJpYWwuY29sb3Iuc2V0KGUpfSxpby5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXtyZXR1cm4gZC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSwhMSksdGhpcy5saW5lLmNvcHkoZS5saW5lKSx0aGlzLmNvbmUuY29weShlLmNvbmUpLHRoaXN9LGlvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sYW8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZG4ucHJvdG90eXBlKSxhby5wcm90b3R5cGUuY29uc3RydWN0b3I9YW87eWkuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiVEhSRUUuQ3VydmUuY3JlYXRlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZFwiKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHlpLnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXRQb2ludD10LGV9LE9iamVjdC5hc3NpZ24oR2kucHJvdG90eXBlLHtjcmVhdGVQb2ludHNHZW9tZXRyeTpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5DdXJ2ZVBhdGg6IC5jcmVhdGVQb2ludHNHZW9tZXRyeSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuR2VvbWV0cnkoKS5zZXRGcm9tUG9pbnRzKCBwb2ludHMgKSBpbnN0ZWFkLlwiKTt2YXIgdD10aGlzLmdldFBvaW50cyhlKTtyZXR1cm4gdGhpcy5jcmVhdGVHZW9tZXRyeSh0KX0sY3JlYXRlU3BhY2VkUG9pbnRzR2VvbWV0cnk6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuQ3VydmVQYXRoOiAuY3JlYXRlU3BhY2VkUG9pbnRzR2VvbWV0cnkoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkdlb21ldHJ5KCkuc2V0RnJvbVBvaW50cyggcG9pbnRzICkgaW5zdGVhZC5cIik7dmFyIHQ9dGhpcy5nZXRTcGFjZWRQb2ludHMoZSk7cmV0dXJuIHRoaXMuY3JlYXRlR2VvbWV0cnkodCl9LGNyZWF0ZUdlb21ldHJ5OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkN1cnZlUGF0aDogLmNyZWF0ZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5HZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIHBvaW50cyApIGluc3RlYWQuXCIpO2Zvcih2YXIgdD1uZXcgayxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgYT1lW25dO3QudmVydGljZXMucHVzaChuZXcgaShhLngsYS55LGEuenx8MCkpfXJldHVybiB0fX0pLE9iamVjdC5hc3NpZ24oSGkucHJvdG90eXBlLHtmcm9tUG9pbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5QYXRoOiAuZnJvbVBvaW50cygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qb2ludHMoKS5cIiksdGhpcy5zZXRGcm9tUG9pbnRzKGUpfX0pLEFvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKF9pLnByb3RvdHlwZSksTG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoX2kucHJvdG90eXBlKSxSby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShfaS5wcm90b3R5cGUpLE9iamVjdC5hc3NpZ24oUm8ucHJvdG90eXBlLHtpbml0RnJvbUFycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlNwbGluZTogLmluaXRGcm9tQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sZ2V0Q29udHJvbFBvaW50c0FycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlNwbGluZTogLmdldENvbnRyb2xQb2ludHNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyZXBhcmFtZXRyaXplQnlBcmNMZW5ndGg6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuU3BsaW5lOiAucmVwYXJhbWV0cml6ZUJ5QXJjTGVuZ3RoKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSksWWEucHJvdG90eXBlLnNldENvbG9ycz1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5HcmlkSGVscGVyOiBzZXRDb2xvcnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwYXNzIHRoZW0gaW4gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQuXCIpfSxqYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlNrZWxldG9uSGVscGVyOiB1cGRhdGUoKSBubyBsb25nZXIgbmVlZHMgdG8gYmUgY2FsbGVkLlwiKX0sT2JqZWN0LmFzc2lnbihoaS5wcm90b3R5cGUse2V4dHJhY3RVcmxCYXNlOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Mb2FkZXI6IC5leHRyYWN0VXJsQmFzZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSgpIGluc3RlYWQuXCIpLHhwLmV4dHJhY3RVcmxCYXNlKGUpfX0pLGhpLkhhbmRsZXJzPXthZGQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTG9hZGVyOiBIYW5kbGVycy5hZGQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgTG9hZGluZ01hbmFnZXIuYWRkSGFuZGxlcigpIGluc3RlYWQuXCIpfSxnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTG9hZGVyOiBIYW5kbGVycy5nZXQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgTG9hZGluZ01hbmFnZXIuZ2V0SGFuZGxlcigpIGluc3RlYWQuXCIpfX0sT2JqZWN0LmFzc2lnbihhYS5wcm90b3R5cGUse3NldFRleHR1cmVQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IC5zZXRUZXh0dXJlUGF0aCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldFJlc291cmNlUGF0aCgpLlwiKSx0aGlzLnNldFJlc291cmNlUGF0aChlKX19KSxPYmplY3QuYXNzaWduKHphLnByb3RvdHlwZSx7Y2VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gyOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuXCIpLHRoaXMuZ2V0Q2VudGVyKGUpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gyOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuXCIpLHRoaXMuaXNFbXB0eSgpfSxpc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQm94MjogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLlwiKSx0aGlzLmludGVyc2VjdHNCb3goZSl9LHNpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJveDI6IC5zaXplKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0U2l6ZSgpLlwiKSx0aGlzLmdldFNpemUoZSl9fSksT2JqZWN0LmFzc2lnbihtLnByb3RvdHlwZSx7Y2VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuXCIpLHRoaXMuZ2V0Q2VudGVyKGUpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuXCIpLHRoaXMuaXNFbXB0eSgpfSxpc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQm94MzogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLlwiKSx0aGlzLmludGVyc2VjdHNCb3goZSl9LGlzSW50ZXJzZWN0aW9uU3BoZXJlOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Cb3gzOiAuaXNJbnRlcnNlY3Rpb25TcGhlcmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzU3BoZXJlKCkuXCIpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShlKX0sc2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuXCIpLHRoaXMuZ2V0U2l6ZShlKX19KSxCYS5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5MaW5lMzogLmNlbnRlcigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldENlbnRlcigpLlwiKSx0aGlzLmdldENlbnRlcihlKX0sT2JqZWN0LmFzc2lnbihsbCx7cmFuZG9tMTY6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0aDogLnJhbmRvbTE2KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIE1hdGgucmFuZG9tKCkgaW5zdGVhZC5cIiksTWF0aC5yYW5kb20oKX0sbmVhcmVzdFBvd2VyT2ZUd286ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdGg6IC5uZWFyZXN0UG93ZXJPZlR3bygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZsb29yUG93ZXJPZlR3bygpLlwiKSxsbC5mbG9vclBvd2VyT2ZUd28oZSl9LG5leHRQb3dlck9mVHdvOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRoOiAubmV4dFBvd2VyT2ZUd28oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5jZWlsUG93ZXJPZlR3bygpLlwiKSxsbC5jZWlsUG93ZXJPZlR3byhlKX19KSxPYmplY3QuYXNzaWduKGEucHJvdG90eXBlLHtmbGF0dGVuVG9BcnJheU9mZnNldDpmdW5jdGlvbihlLHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXgzOiAuZmxhdHRlblRvQXJyYXlPZmZzZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnRvQXJyYXkoKSBpbnN0ZWFkLlwiKSx0aGlzLnRvQXJyYXkoZSx0KX0sbXVsdGlwbHlWZWN0b3IzOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuXCIpLGUuYXBwbHlNYXRyaXgzKHRoaXMpfSxtdWx0aXBseVZlY3RvcjNBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYXBwbHlUb0J1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4MzogLmFwcGx5VG9CdWZmZXIoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4LmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoIGF0dHJpYnV0ZSApIGluc3RlYWQuXCIpLHRoaXMuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZShlKX0sYXBwbHlUb1ZlY3RvcjNBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NYXRyaXgzOiAuYXBwbHlUb1ZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfX0pLE9iamVjdC5hc3NpZ24oaC5wcm90b3R5cGUse2V4dHJhY3RQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmV4dHJhY3RQb3NpdGlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNvcHlQb3NpdGlvbigpLlwiKSx0aGlzLmNvcHlQb3NpdGlvbihlKX0sZmxhdHRlblRvQXJyYXlPZmZzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC5cIiksdGhpcy50b0FycmF5KGUsdCl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5nZXRQb3NpdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbiggbWF0cml4ICkgaW5zdGVhZC5cIiksKG5ldyBpKS5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMyl9LHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oKS5cIiksdGhpcy5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihlKX0sbXVsdGlwbHlUb0FycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VG9BcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxtdWx0aXBseVZlY3RvcjM6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC5cIiksZS5hcHBseU1hdHJpeDQodGhpcyl9LG11bHRpcGx5VmVjdG9yNDpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yNCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLlwiKSxlLmFwcGx5TWF0cml4NCh0aGlzKX0sbXVsdGlwbHlWZWN0b3IzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHJvdGF0ZUF4aXM6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy50cmFuc2Zvcm1EaXJlY3Rpb24oIG1hdHJpeCApIGluc3RlYWQuXCIpLGUudHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMpfSxjcm9zc1ZlY3RvcjpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmNyb3NzVmVjdG9yKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuXCIpLGUuYXBwbHlNYXRyaXg0KHRoaXMpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyb3RhdGVYOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVYKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHJvdGF0ZVk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVkoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0scm90YXRlWjpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWigpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyb3RhdGVCeUF4aXM6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZUJ5QXhpcygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxhcHBseVRvQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb0J1ZmZlcigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBtYXRyaXguYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZSggYXR0cmlidXRlICkgaW5zdGVhZC5cIiksdGhpcy5hcHBseVRvQnVmZmVyQXR0cmlidXRlKGUpfSxhcHBseVRvVmVjdG9yM0FycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5hcHBseVRvVmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LG1ha2VGcnVzdHVtOmZ1bmN0aW9uKGUsdCxuLHIsaSxhKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0cml4NDogLm1ha2VGcnVzdHVtKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5tYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkgaW5zdGVhZC5cIiksdGhpcy5tYWtlUGVyc3BlY3RpdmUoZSx0LHIsbixpLGEpfX0pLHgucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uTGluZT1mdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuUGxhbmU6IC5pc0ludGVyc2VjdGlvbkxpbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzTGluZSgpLlwiKSx0aGlzLmludGVyc2VjdHNMaW5lKGUpfSxyLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseVZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgaXMgbm93IHZlY3Rvci5hcHBseVF1YXRlcm5pb24oIHF1YXRlcm5pb24gKSBpbnN0ZWFkLlwiKSxlLmFwcGx5UXVhdGVybmlvbih0aGlzKX0sT2JqZWN0LmFzc2lnbih5LnByb3RvdHlwZSx7aXNJbnRlcnNlY3Rpb25Cb3g6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLlwiKSx0aGlzLmludGVyc2VjdHNCb3goZSl9LGlzSW50ZXJzZWN0aW9uUGxhbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uUGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzUGxhbmUoKS5cIiksdGhpcy5pbnRlcnNlY3RzUGxhbmUoZSl9LGlzSW50ZXJzZWN0aW9uU3BoZXJlOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5SYXk6IC5pc0ludGVyc2VjdGlvblNwaGVyZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNTcGhlcmUoKS5cIiksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKGUpfX0pLE9iamVjdC5hc3NpZ24oYi5wcm90b3R5cGUse2FyZWE6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5hcmVhKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QXJlYSgpLlwiKSx0aGlzLmdldEFyZWEoKX0sYmFyeWNvb3JkRnJvbVBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuXCIpLHRoaXMuZ2V0QmFyeWNvb3JkKGUsdCl9LG1pZHBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLm1pZHBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0TWlkcG9pbnQoKS5cIiksdGhpcy5nZXRNaWRwb2ludChlKX0sbm9ybWFsOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLlwiKSx0aGlzLmdldE5vcm1hbChlKX0scGxhbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlRyaWFuZ2xlOiAucGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRQbGFuZSgpLlwiKSx0aGlzLmdldFBsYW5lKGUpfX0pLE9iamVjdC5hc3NpZ24oYix7YmFyeWNvb3JkRnJvbVBvaW50OmZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuXCIpLGIuZ2V0QmFyeWNvb3JkKGUsdCxuLHIsaSl9LG5vcm1hbDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS5cIiksYi5nZXROb3JtYWwoZSx0LG4scil9fSksT2JqZWN0LmFzc2lnbihWaS5wcm90b3R5cGUse2V4dHJhY3RBbGxQb2ludHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlNoYXBlOiAuZXh0cmFjdEFsbFBvaW50cygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuZXh0cmFjdFBvaW50cygpIGluc3RlYWQuXCIpLHRoaXMuZXh0cmFjdFBvaW50cyhlKX0sZXh0cnVkZTpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuU2hhcGU6IC5leHRydWRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV4dHJ1ZGVHZW9tZXRyeSgpIGluc3RlYWQuXCIpLG5ldyBncih0aGlzLGUpfSxtYWtlR2VvbWV0cnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlNoYXBlOiAubWFrZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFNoYXBlR2VvbWV0cnkoKSBpbnN0ZWFkLlwiKSxuZXcgTHIodGhpcyxlKX19KSxPYmplY3QuYXNzaWduKG4ucHJvdG90eXBlLHtmcm9tQXR0cmlidXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMjogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuXCIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQsbil9LGRpc3RhbmNlVG9NYW5oYXR0YW46ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjI6IC5kaXN0YW5jZVRvTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuRGlzdGFuY2VUbygpLlwiKSx0aGlzLm1hbmhhdHRhbkRpc3RhbmNlVG8oZSl9LGxlbmd0aE1hbmhhdHRhbjpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IyOiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuXCIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9fSksT2JqZWN0LmFzc2lnbihpLnByb3RvdHlwZSx7c2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuXCIpfSxzZXRFdWxlckZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlZlY3RvcjM6IC5zZXRFdWxlckZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKCkgaW5zdGVhZC5cIil9LGdldFBvc2l0aW9uRnJvbU1hdHJpeDpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLmdldFBvc2l0aW9uRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhQb3NpdGlvbigpLlwiKSx0aGlzLnNldEZyb21NYXRyaXhQb3NpdGlvbihlKX0sZ2V0U2NhbGVGcm9tTWF0cml4OmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuXCIpLHRoaXMuc2V0RnJvbU1hdHJpeFNjYWxlKGUpfSxnZXRDb2x1bW5Gcm9tTWF0cml4OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5nZXRDb2x1bW5Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeENvbHVtbigpLlwiKSx0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4odCxlKX0sYXBwbHlQcm9qZWN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuYXBwbHlQcm9qZWN0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5hcHBseU1hdHJpeDQoIG0gKSBpbnN0ZWFkLlwiKSx0aGlzLmFwcGx5TWF0cml4NChlKX0sZnJvbUF0dHJpYnV0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLlwiKSx0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0LG4pfSxkaXN0YW5jZVRvTWFuaGF0dGFuOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuZGlzdGFuY2VUb01hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkRpc3RhbmNlVG8oKS5cIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKGUpfSxsZW5ndGhNYW5oYXR0YW46ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLlwiKSx0aGlzLm1hbmhhdHRhbkxlbmd0aCgpfX0pLE9iamVjdC5hc3NpZ24ocy5wcm90b3R5cGUse2Zyb21BdHRyaWJ1dGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5WZWN0b3I0OiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS5cIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCxuKX0sbGVuZ3RoTWFuaGF0dGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLlZlY3RvcjQ6IC5sZW5ndGhNYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5MZW5ndGgoKS5cIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX19KSxPYmplY3QuYXNzaWduKGsucHJvdG90eXBlLHtjb21wdXRlVGFuZ2VudHM6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuR2VvbWV0cnk6IC5jb21wdXRlVGFuZ2VudHMoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sY29tcHV0ZUxpbmVEaXN0YW5jZXM6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuR2VvbWV0cnk6IC5jb21wdXRlTGluZURpc3RhbmNlcygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgaW5zdGVhZC5cIil9fSksT2JqZWN0LmFzc2lnbihkLnByb3RvdHlwZSx7Z2V0Q2hpbGRCeU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAuZ2V0Q2hpbGRCeU5hbWUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRPYmplY3RCeU5hbWUoKS5cIiksdGhpcy5nZXRPYmplY3RCeU5hbWUoZSl9LHJlbmRlckRlcHRoOmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5yZW5kZXJEZXB0aCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnJlbmRlck9yZGVyLCBpbnN0ZWFkLlwiKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAudHJhbnNsYXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC50cmFuc2xhdGVPbkF4aXMoIGF4aXMsIGRpc3RhbmNlICkgaW5zdGVhZC5cIiksdGhpcy50cmFuc2xhdGVPbkF4aXModCxlKX0sZ2V0V29ybGRSb3RhdGlvbjpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUm90YXRpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuT2JqZWN0M0QuZ2V0V29ybGRRdWF0ZXJuaW9uKCB0YXJnZXQgKSBpbnN0ZWFkLlwiKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkLnByb3RvdHlwZSx7ZXVsZXJPcmRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLlwiKSx0aGlzLnJvdGF0aW9uLm9yZGVyfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5ldWxlck9yZGVyIGlzIG5vdyAucm90YXRpb24ub3JkZXIuXCIpLHRoaXMucm90YXRpb24ub3JkZXI9ZX19LHVzZVF1YXRlcm5pb246e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LlwiKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuXCIpfX19KSxPYmplY3QuYXNzaWduKEgucHJvdG90eXBlLHtzZXREcmF3TW9kZTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NZXNoOiAuc2V0RHJhd01vZGUoKSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiBUcmFuc2Zvcm0geW91ciBnZW9tZXRyeSB2aWEgQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCkgaWYgbmVjZXNzYXJ5LlwiKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhILnByb3RvdHlwZSx7ZHJhd01vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKFwiVEhSRUUuTWVzaDogLmRyYXdNb2RlIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuXCIpLDB9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4gVHJhbnNmb3JtIHlvdXIgZ2VvbWV0cnkgdmlhIEJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpIGlmIG5lY2Vzc2FyeS5cIil9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9uLnByb3RvdHlwZSx7b2JqZWN0czp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkxPRDogLm9iamVjdHMgaGFzIGJlZW4gcmVuYW1lZCB0byAubGV2ZWxzLlwiKSx0aGlzLmxldmVsc319fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGNuLnByb3RvdHlwZSxcInVzZVZlcnRleFRleHR1cmVcIix7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuU2tlbGV0b246IHVzZVZlcnRleFRleHR1cmUgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLlNrZWxldG9uOiB1c2VWZXJ0ZXhUZXh0dXJlIGhhcyBiZWVuIHJlbW92ZWQuXCIpfX0pLHNuLnByb3RvdHlwZS5pbml0Qm9uZXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuU2tpbm5lZE1lc2g6IGluaXRCb25lcygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeWkucHJvdG90eXBlLFwiX19hcmNMZW5ndGhEaXZpc2lvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkN1cnZlOiAuX19hcmNMZW5ndGhEaXZpc2lvbnMgaXMgbm93IC5hcmNMZW5ndGhEaXZpc2lvbnMuXCIpLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuQ3VydmU6IC5fX2FyY0xlbmd0aERpdmlzaW9ucyBpcyBub3cgLmFyY0xlbmd0aERpdmlzaW9ucy5cIiksdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9ZX19KSxaLnByb3RvdHlwZS5zZXRMZW5zPWZ1bmN0aW9uKGUsdCl7Y29uc29sZS53YXJuKFwiVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEuc2V0TGVucyBpcyBkZXByZWNhdGVkLiBVc2UgLnNldEZvY2FsTGVuZ3RoIGFuZCAuZmlsbUdhdWdlIGZvciBhIHBob3RvZ3JhcGhpYyBzZXR1cC5cIiksdm9pZCAwIT09dCYmKHRoaXMuZmlsbUdhdWdlPXQpLHRoaXMuc2V0Rm9jYWxMZW5ndGgoZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGppLnByb3RvdHlwZSx7b25seVNoYWRvdzp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5vbmx5U2hhZG93IGhhcyBiZWVuIHJlbW92ZWQuXCIpfX0sc2hhZG93Q2FtZXJhRm92OntzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFGb3YgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmZvdi5cIiksdGhpcy5zaGFkb3cuY2FtZXJhLmZvdj1lfX0sc2hhZG93Q2FtZXJhTGVmdDp7c2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhTGVmdCBpcyBub3cgLnNoYWRvdy5jYW1lcmEubGVmdC5cIiksdGhpcy5zaGFkb3cuY2FtZXJhLmxlZnQ9ZX19LHNoYWRvd0NhbWVyYVJpZ2h0OntzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFSaWdodCBpcyBub3cgLnNoYWRvdy5jYW1lcmEucmlnaHQuXCIpLHRoaXMuc2hhZG93LmNhbWVyYS5yaWdodD1lfX0sc2hhZG93Q2FtZXJhVG9wOntzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFUb3AgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnRvcC5cIiksdGhpcy5zaGFkb3cuY2FtZXJhLnRvcD1lfX0sc2hhZG93Q2FtZXJhQm90dG9tOntzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFCb3R0b20gaXMgbm93IC5zaGFkb3cuY2FtZXJhLmJvdHRvbS5cIiksdGhpcy5zaGFkb3cuY2FtZXJhLmJvdHRvbT1lfX0sc2hhZG93Q2FtZXJhTmVhcjp7c2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhTmVhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEubmVhci5cIiksdGhpcy5zaGFkb3cuY2FtZXJhLm5lYXI9ZX19LHNoYWRvd0NhbWVyYUZhcjp7c2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRmFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mYXIuXCIpLHRoaXMuc2hhZG93LmNhbWVyYS5mYXI9ZX19LHNoYWRvd0NhbWVyYVZpc2libGU6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhVmlzaWJsZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggbGlnaHQuc2hhZG93LmNhbWVyYSApIGluc3RlYWQuXCIpfX0sc2hhZG93Qmlhczp7c2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkxpZ2h0OiAuc2hhZG93QmlhcyBpcyBub3cgLnNoYWRvdy5iaWFzLlwiKSx0aGlzLnNoYWRvdy5iaWFzPWV9fSxzaGFkb3dEYXJrbmVzczp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dEYXJrbmVzcyBoYXMgYmVlbiByZW1vdmVkLlwiKX19LHNoYWRvd01hcFdpZHRoOntzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuTGlnaHQ6IC5zaGFkb3dNYXBXaWR0aCBpcyBub3cgLnNoYWRvdy5tYXBTaXplLndpZHRoLlwiKSx0aGlzLnNoYWRvdy5tYXBTaXplLndpZHRoPWV9fSxzaGFkb3dNYXBIZWlnaHQ6e3NldDpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5MaWdodDogLnNoYWRvd01hcEhlaWdodCBpcyBub3cgLnNoYWRvdy5tYXBTaXplLmhlaWdodC5cIiksdGhpcy5zaGFkb3cubWFwU2l6ZS5oZWlnaHQ9ZX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTC5wcm90b3R5cGUse2xlbmd0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmNvdW50IGluc3RlYWQuXCIpLHRoaXMuYXJyYXkubGVuZ3RofX0sZHluYW1pYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmR5bmFtaWMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLlwiKSwzNTA0OD09PXRoaXMudXNhZ2V9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmR5bmFtaWMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLlwiKSx0aGlzLnNldFVzYWdlKDM1MDQ4KX19fSksT2JqZWN0LmFzc2lnbihMLnByb3RvdHlwZSx7c2V0RHluYW1pYzpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLlwiKSx0aGlzLnNldFVzYWdlKCEwPT09ZT8zNTA0ODpvbCksdGhpc30sY29weUluZGljZXNBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5jb3B5SW5kaWNlc0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldEFycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzXCIpfX0pLE9iamVjdC5hc3NpZ24oRy5wcm90b3R5cGUse2FkZEluZGV4OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkSW5kZXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRJbmRleCgpLlwiKSx0aGlzLnNldEluZGV4KGUpfSxhZGRBdHRyaWJ1dGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGRBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRBdHRyaWJ1dGUoKS5cIiksdCYmdC5pc0J1ZmZlckF0dHJpYnV0ZXx8dCYmdC5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlP1wiaW5kZXhcIj09PWU/KGNvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5LmFkZEF0dHJpYnV0ZTogVXNlIC5zZXRJbmRleCgpIGZvciBpbmRleCBhdHRyaWJ1dGUuXCIpLHRoaXMuc2V0SW5kZXgodCksdGhpcyk6dGhpcy5zZXRBdHRyaWJ1dGUoZSx0KTooY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGRBdHRyaWJ1dGUoKSBub3cgZXhwZWN0cyAoIG5hbWUsIGF0dHJpYnV0ZSApLlwiKSx0aGlzLnNldEF0dHJpYnV0ZShlLG5ldyBMKGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pKSl9LGFkZERyYXdDYWxsOmZ1bmN0aW9uKGUsdCxuKXt2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIGluZGV4T2Zmc2V0LlwiKSxjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgaXMgbm93IC5hZGRHcm91cCgpLlwiKSx0aGlzLmFkZEdyb3VwKGUsdCl9LGNsZWFyRHJhd0NhbGxzOmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5jbGVhckRyYXdDYWxscygpIGlzIG5vdyAuY2xlYXJHcm91cHMoKS5cIiksdGhpcy5jbGVhckdyb3VwcygpfSxjb21wdXRlVGFuZ2VudHM6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVUYW5nZW50cygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxjb21wdXRlT2Zmc2V0czpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZU9mZnNldHMoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLnJlbW92ZUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmRlbGV0ZUF0dHJpYnV0ZSgpLlwiKSx0aGlzLmRlbGV0ZUF0dHJpYnV0ZShlKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhHLnByb3RvdHlwZSx7ZHJhd2NhbGxzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS5lcnJvcihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuZHJhd2NhbGxzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy5cIiksdGhpcy5ncm91cHN9fSxvZmZzZXRzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5vZmZzZXRzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy5cIiksdGhpcy5ncm91cHN9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGVuLnByb3RvdHlwZSx7ZHluYW1pYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudXNhZ2UgaW5zdGVhZC5cIiksMzUwNDg9PT10aGlzLnVzYWdlfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXI6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLlwiKSx0aGlzLnNldFVzYWdlKGUpfX19KSxPYmplY3QuYXNzaWduKGVuLnByb3RvdHlwZSx7c2V0RHluYW1pYzpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXI6IC5zZXREeW5hbWljKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRVc2FnZSgpIGluc3RlYWQuXCIpLHRoaXMuc2V0VXNhZ2UoITA9PT1lPzM1MDQ4Om9sKSx0aGlzfSxzZXRBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLnNldEFycmF5IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeSAuc2V0QXR0cmlidXRlIHRvIHJlcGxhY2UvcmVzaXplIGF0dHJpYnV0ZSBidWZmZXJzXCIpfX0pLE9iamVjdC5hc3NpZ24oeXIucHJvdG90eXBlLHtnZXRBcnJheXM6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OiAuZ2V0QXJyYXlzKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGFkZFNoYXBlTGlzdDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IC5hZGRTaGFwZUxpc3QoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYWRkU2hhcGU6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OiAuYWRkU2hhcGUoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSYS5wcm90b3R5cGUse2R5bmFtaWM6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLlVuaWZvcm06IC5keW5hbWljIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBvYmplY3Qub25CZWZvcmVSZW5kZXIoKSBpbnN0ZWFkLlwiKX19LG9uVXBkYXRlOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5Vbmlmb3JtOiAub25VcGRhdGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugb2JqZWN0Lm9uQmVmb3JlUmVuZGVyKCkgaW5zdGVhZC5cIiksdGhpc319fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRS5wcm90b3R5cGUse3dyYXBBcm91bmQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk1hdGVyaWFsOiAud3JhcEFyb3VuZCBoYXMgYmVlbiByZW1vdmVkLlwiKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6IC53cmFwQXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQuXCIpfX0sb3ZlcmRyYXc6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSx3cmFwUkdCOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuTWF0ZXJpYWw6IC53cmFwUkdCIGhhcyBiZWVuIHJlbW92ZWQuXCIpLG5ldyB3fX0sc2hhZGluZzp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLlwiKX0sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLlwiKSx0aGlzLmZsYXRTaGFkaW5nPTE9PT1lfX0sc3RlbmNpbE1hc2s6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5cIit0aGlzLnR5cGUrXCI6IC5zdGVuY2lsTWFzayBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnN0ZW5jaWxGdW5jTWFzayBpbnN0ZWFkLlwiKSx0aGlzLnN0ZW5jaWxGdW5jTWFza30sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLlwiK3RoaXMudHlwZStcIjogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuXCIpLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPWV9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZyLnByb3RvdHlwZSx7bWV0YWw6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbDogLm1ldGFsIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCBpbnN0ZWFkLlwiKSwhMX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuTWVzaFBob25nTWF0ZXJpYWw6IC5tZXRhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwgaW5zdGVhZFwiKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoWC5wcm90b3R5cGUse2Rlcml2YXRpdmVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IC5kZXJpdmF0aXZlcyBoYXMgYmVlbiBtb3ZlZCB0byAuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcy5cIiksdGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuIFNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuXCIpLHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcz1lfX19KSxPYmplY3QuYXNzaWduKFF0LnByb3RvdHlwZSx7Y2xlYXJUYXJnZXQ6ZnVuY3Rpb24oZSx0LG4scil7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmNsZWFyVGFyZ2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBhbmQgLmNsZWFyKCkgaW5zdGVhZC5cIiksdGhpcy5zZXRSZW5kZXJUYXJnZXQoZSksdGhpcy5jbGVhcih0LG4scil9LGFuaW1hdGU6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFuaW1hdGUoKSBpcyBub3cgLnNldEFuaW1hdGlvbkxvb3AoKS5cIiksdGhpcy5zZXRBbmltYXRpb25Mb29wKGUpfSxnZXRDdXJyZW50UmVuZGVyVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0KCkgaXMgbm93IC5nZXRSZW5kZXJUYXJnZXQoKS5cIiksdGhpcy5nZXRSZW5kZXJUYXJnZXQoKX0sZ2V0TWF4QW5pc290cm9weTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0TWF4QW5pc290cm9weSgpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKS5cIiksdGhpcy5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpfSxnZXRQcmVjaXNpb246ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldFByZWNpc2lvbigpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnByZWNpc2lvbi5cIiksdGhpcy5jYXBhYmlsaXRpZXMucHJlY2lzaW9ufSxyZXNldEdMU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnJlc2V0R0xTdGF0ZSgpIGlzIG5vdyAuc3RhdGUucmVzZXQoKS5cIiksdGhpcy5zdGF0ZS5yZXNldCgpfSxzdXBwb3J0c0Zsb2F0VGV4dHVyZXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfdGV4dHVyZV9mbG9hdCcgKS5cIiksdGhpcy5leHRlbnNpb25zLmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpfSxzdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnICkuXCIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpfSxzdXBwb3J0c1N0YW5kYXJkRGVyaXZhdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMnICkuXCIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIil9LHN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycgKS5cIiksdGhpcy5leHRlbnNpb25zLmdldChcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpfSxzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVQVlJUQygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnICkuXCIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIil9LHN1cHBvcnRzQmxlbmRNaW5NYXg6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQmxlbmRNaW5NYXgoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnRVhUX2JsZW5kX21pbm1heCcgKS5cIiksdGhpcy5leHRlbnNpb25zLmdldChcIkVYVF9ibGVuZF9taW5tYXhcIil9LHN1cHBvcnRzVmVydGV4VGV4dHVyZXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzVmVydGV4VGV4dHVyZXMoKSBpcyBub3cgLmNhcGFiaWxpdGllcy52ZXJ0ZXhUZXh0dXJlcy5cIiksdGhpcy5jYXBhYmlsaXRpZXMudmVydGV4VGV4dHVyZXN9LHN1cHBvcnRzSW5zdGFuY2VkQXJyYXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0luc3RhbmNlZEFycmF5cygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyApLlwiKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKX0sZW5hYmxlU2Npc3NvclRlc3Q6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmVuYWJsZVNjaXNzb3JUZXN0KCkgaXMgbm93IC5zZXRTY2lzc29yVGVzdCgpLlwiKSx0aGlzLnNldFNjaXNzb3JUZXN0KGUpfSxpbml0TWF0ZXJpYWw6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuaW5pdE1hdGVyaWFsKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LGFkZFByZVBsdWdpbjpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQcmVQbHVnaW4oKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYWRkUG9zdFBsdWdpbjpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQb3N0UGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHVwZGF0ZVNoYWRvd01hcDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC51cGRhdGVTaGFkb3dNYXAoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sc2V0RmFjZUN1bGxpbmc6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0RmFjZUN1bGxpbmcoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0sYWxsb2NUZXh0dXJlVW5pdDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbGxvY1RleHR1cmVVbml0KCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHNldFRleHR1cmU6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxzZXRUZXh0dXJlQ3ViZTpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlQ3ViZSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxnZXRBY3RpdmVNaXBNYXBMZXZlbDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0QWN0aXZlTWlwTWFwTGV2ZWwoKSBpcyBub3cgLmdldEFjdGl2ZU1pcG1hcExldmVsKCkuXCIpLHRoaXMuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRdC5wcm90b3R5cGUse3NoYWRvd01hcEVuYWJsZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYWRvd01hcC5lbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEVuYWJsZWQgaXMgbm93IC5zaGFkb3dNYXAuZW5hYmxlZC5cIiksdGhpcy5zaGFkb3dNYXAuZW5hYmxlZD1lfX0sc2hhZG93TWFwVHlwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLnR5cGV9LHNldDpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwVHlwZSBpcyBub3cgLnNoYWRvd01hcC50eXBlLlwiKSx0aGlzLnNoYWRvd01hcC50eXBlPWV9fSxzaGFkb3dNYXBDdWxsRmFjZTp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwQ3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC5cIil9fSxjb250ZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmNvbnRleHQgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5nZXRDb250ZXh0KCkgaW5zdGVhZC5cIiksdGhpcy5nZXRDb250ZXh0KCl9fSx2cjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC52ciBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnhyIGluc3RlYWQuXCIpLHRoaXMueHJ9fSxnYW1tYUlucHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hSW5wdXQgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIGRlZmluZSB0aGUgY29ycmVjdCBjb2xvciBzcGFjZXMgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuXCIpLCExfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFJbnB1dCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgZGVmaW5lIHRoZSBjb3JyZWN0IGNvbG9yIHNwYWNlcyBmb3IgdGV4dHVyZXMgdmlhIFRleHR1cmUuZW5jb2RpbmcgaW5zdGVhZC5cIil9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEd0LnByb3RvdHlwZSx7Y3VsbEZhY2U6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC5cIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC5cIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyUmV2ZXJzZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLlwiKX19LHJlbmRlclNpbmdsZVNpZGVkOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclNpbmdsZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclNpbmdsZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuXCIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRLnByb3RvdHlwZSx7YWN0aXZlQ3ViZUZhY2U6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZTogLmFjdGl2ZUN1YmVGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIEl0IGlzIG5vdyB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBXZWJHTFJlbmRlcmVyLnNldFJlbmRlclRhcmdldCgpLlwiKX19LGFjdGl2ZU1pcE1hcExldmVsOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmU6IC5hY3RpdmVNaXBNYXBMZXZlbCBoYXMgYmVlbiByZW1vdmVkLiBJdCBpcyBub3cgdGhlIHRoaXJkIHBhcmFtZXRlciBvZiBXZWJHTFJlbmRlcmVyLnNldFJlbmRlclRhcmdldCgpLlwiKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYy5wcm90b3R5cGUse3dyYXBTOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuXCIpLHRoaXMudGV4dHVyZS53cmFwU30sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFMgaXMgbm93IC50ZXh0dXJlLndyYXBTLlwiKSx0aGlzLnRleHR1cmUud3JhcFM9ZX19LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwVCBpcyBub3cgLnRleHR1cmUud3JhcFQuXCIpLHRoaXMudGV4dHVyZS53cmFwVH0sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULlwiKSx0aGlzLnRleHR1cmUud3JhcFQ9ZX19LG1hZ0ZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7XG5yZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5tYWdGaWx0ZXIgaXMgbm93IC50ZXh0dXJlLm1hZ0ZpbHRlci5cIiksdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcn0sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuXCIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXI9ZX19LG1pbkZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuXCIpLHRoaXMudGV4dHVyZS5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLlwiKSx0aGlzLnRleHR1cmUubWluRmlsdGVyPWV9fSxhbmlzb3Ryb3B5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5hbmlzb3Ryb3B5IGlzIG5vdyAudGV4dHVyZS5hbmlzb3Ryb3B5LlwiKSx0aGlzLnRleHR1cmUuYW5pc290cm9weX0sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuYW5pc290cm9weSBpcyBub3cgLnRleHR1cmUuYW5pc290cm9weS5cIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9ZX19LG9mZnNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAub2Zmc2V0IGlzIG5vdyAudGV4dHVyZS5vZmZzZXQuXCIpLHRoaXMudGV4dHVyZS5vZmZzZXR9LHNldDpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LlwiKSx0aGlzLnRleHR1cmUub2Zmc2V0PWV9fSxyZXBlYXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LlwiKSx0aGlzLnRleHR1cmUucmVwZWF0fSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC5cIiksdGhpcy50ZXh0dXJlLnJlcGVhdD1lfX0sZm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5mb3JtYXQgaXMgbm93IC50ZXh0dXJlLmZvcm1hdC5cIiksdGhpcy50ZXh0dXJlLmZvcm1hdH0sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZm9ybWF0IGlzIG5vdyAudGV4dHVyZS5mb3JtYXQuXCIpLHRoaXMudGV4dHVyZS5mb3JtYXQ9ZX19LHR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnR5cGUgaXMgbm93IC50ZXh0dXJlLnR5cGUuXCIpLHRoaXMudGV4dHVyZS50eXBlfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLlwiKSx0aGlzLnRleHR1cmUudHlwZT1lfX0sZ2VuZXJhdGVNaXBtYXBzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy5cIiksdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwc30sc2V0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuXCIpLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoWnQucHJvdG90eXBlLHtzdGFuZGluZzp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuV2ViVlJNYW5hZ2VyOiAuc3RhbmRpbmcgaGFzIGJlZW4gcmVtb3ZlZC5cIil9fSx1c2VySGVpZ2h0OntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5XZWJWUk1hbmFnZXI6IC51c2VySGVpZ2h0IGhhcyBiZWVuIHJlbW92ZWQuXCIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhiYS5wcm90b3R5cGUse2xvYWQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlRIUkVFLkF1ZGlvOiAubG9hZCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQXVkaW9Mb2FkZXIgaW5zdGVhZC5cIik7dmFyIHQ9dGhpcztyZXR1cm4obmV3IHBhKS5sb2FkKGUsZnVuY3Rpb24oZSl7dC5zZXRCdWZmZXIoZSl9KSx0aGlzfX0sc3RhcnRUaW1lOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpbzogLnN0YXJ0VGltZSBpcyBub3cgLnBsYXkoIGRlbGF5ICkuXCIpfX19KSxfYS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5BdWRpb0FuYWx5c2VyOiAuZ2V0RGF0YSgpIGlzIG5vdyAuZ2V0RnJlcXVlbmN5RGF0YSgpLlwiKSx0aGlzLmdldEZyZXF1ZW5jeURhdGEoKX0sSi5wcm90b3R5cGUudXBkYXRlQ3ViZU1hcD1mdW5jdGlvbihlLHQpe3JldHVybiBjb25zb2xlLndhcm4oXCJUSFJFRS5DdWJlQ2FtZXJhOiAudXBkYXRlQ3ViZU1hcCgpIGlzIG5vdyAudXBkYXRlKCkuXCIpLHRoaXMudXBkYXRlKGUsdCl9O3ZhciBiZD17bWVyZ2U6ZnVuY3Rpb24oZSx0LG4pe2NvbnNvbGUud2FybihcIlRIUkVFLkdlb21ldHJ5VXRpbHM6IC5tZXJnZSgpIGhhcyBiZWVuIG1vdmVkIHRvIEdlb21ldHJ5LiBVc2UgZ2VvbWV0cnkubWVyZ2UoIGdlb21ldHJ5MiwgbWF0cml4LCBtYXRlcmlhbEluZGV4T2Zmc2V0ICkgaW5zdGVhZC5cIik7dmFyIHI7dC5pc01lc2gmJih0Lm1hdHJpeEF1dG9VcGRhdGUmJnQudXBkYXRlTWF0cml4KCkscj10Lm1hdHJpeCx0PXQuZ2VvbWV0cnkpLGUubWVyZ2UodCxyLG4pfSxjZW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIlRIUkVFLkdlb21ldHJ5VXRpbHM6IC5jZW50ZXIoKSBoYXMgYmVlbiBtb3ZlZCB0byBHZW9tZXRyeS4gVXNlIGdlb21ldHJ5LmNlbnRlcigpIGluc3RlYWQuXCIpLGUuY2VudGVyKCl9fTtmbC5jcm9zc09yaWdpbj12b2lkIDAsZmwubG9hZFRleHR1cmU9ZnVuY3Rpb24oZSx0LG4scil7Y29uc29sZS53YXJuKFwiVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuVGV4dHVyZUxvYWRlcigpIGluc3RlYWQuXCIpO3ZhciBpPW5ldyBnaTtpLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO3ZhciBhPWkubG9hZChlLG4sdm9pZCAwLHIpO3JldHVybiB0JiYoYS5tYXBwaW5nPXQpLGF9LGZsLmxvYWRUZXh0dXJlQ3ViZT1mdW5jdGlvbihlLHQsbixyKXtjb25zb2xlLndhcm4oXCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLlwiKTt2YXIgaT1uZXcgdmk7aS5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTt2YXIgYT1pLmxvYWQoZSxuLHZvaWQgMCxyKTtyZXR1cm4gdCYmKGEubWFwcGluZz10KSxhfSxmbC5sb2FkQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuSW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLlwiKX0sZmwubG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLlwiKX07dmFyIHdkPXtjcmVhdGVNdWx0aU1hdGVyaWFsT2JqZWN0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzL3V0aWxzL1NjZW5lVXRpbHMuanNcIil9LGRldGFjaDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJUSFJFRS5TY2VuZVV0aWxzIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qcy91dGlscy9TY2VuZVV0aWxzLmpzXCIpfSxhdHRhY2g6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiVEhSRUUuU2NlbmVVdGlscyBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanMvdXRpbHMvU2NlbmVVdGlscy5qc1wiKX19O1widW5kZWZpbmVkXCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInJlZ2lzdGVyXCIse2RldGFpbDp7cmV2aXNpb246XCIxMTFkZXZcIn19KSksZS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc9QnMsZS5BZGRFcXVhdGlvbj1hcyxlLkFkZE9wZXJhdGlvbj1DcyxlLkFkZGl0aXZlQmxlbmRpbmc9dHMsZS5BbHBoYUZvcm1hdD1wYyxlLkFsd2F5c0RlcHRoPV9zLGUuQWx3YXlzU3RlbmNpbEZ1bmM9YWwsZS5BbWJpZW50TGlnaHQ9JGksZS5BbWJpZW50TGlnaHRQcm9iZT12YSxlLkFuaW1hdGlvbkNsaXA9b2ksZS5BbmltYXRpb25Mb2FkZXI9cGksZS5BbmltYXRpb25NaXhlcj1MYSxlLkFuaW1hdGlvbk9iamVjdEdyb3VwPUVhLGUuQW5pbWF0aW9uVXRpbHM9aHAsZS5BcmNDdXJ2ZT1iaSxlLkFycmF5Q2FtZXJhPVh0LGUuQXJyb3dIZWxwZXI9aW8sZS5BdWRpbz1iYSxlLkF1ZGlvQW5hbHlzZXI9X2EsZS5BdWRpb0NvbnRleHQ9VHAsZS5BdWRpb0xpc3RlbmVyPXhhLGUuQXVkaW9Mb2FkZXI9cGEsZS5BeGVzSGVscGVyPWFvLGUuQXhpc0hlbHBlcj1QbyxlLkJhY2tTaWRlPVlvLGUuQmFzaWNEZXB0aFBhY2tpbmc9ZWwsZS5CYXNpY1NoYWRvd01hcD0wLGUuQmluYXJ5VGV4dHVyZUxvYWRlcj1ObyxlLkJvbmU9bG4sZS5Cb29sZWFuS2V5ZnJhbWVUcmFjaz0kcixlLkJvdW5kaW5nQm94SGVscGVyPUNvLGUuQm94Mj16YSxlLkJveDM9bSxlLkJveDNIZWxwZXI9bm8sZS5Cb3hCdWZmZXJHZW9tZXRyeT1LaCxlLkJveEdlb21ldHJ5PVFoLGUuQm94SGVscGVyPXRvLGUuQnVmZmVyQXR0cmlidXRlPUwsZS5CdWZmZXJHZW9tZXRyeT1HLGUuQnVmZmVyR2VvbWV0cnlMb2FkZXI9aWEsZS5CeXRlVHlwZT10YyxlLkNhY2hlPXVwLGUuQ2FtZXJhPVksZS5DYW1lcmFIZWxwZXI9JGEsZS5DYW52YXNSZW5kZXJlcj16byxlLkNhbnZhc1RleHR1cmU9Ym4sZS5DYXRtdWxsUm9tQ3VydmUzPV9pLGUuQ2luZW9uVG9uZU1hcHBpbmc9enMsZS5DaXJjbGVCdWZmZXJHZW9tZXRyeT1CcixlLkNpcmNsZUdlb21ldHJ5PXpyLGUuQ2xhbXBUb0VkZ2VXcmFwcGluZz1xcyxlLkNsb2NrPXlhLGUuQ2xvc2VkU3BsaW5lQ3VydmUzPUFvLGUuQ29sb3I9dyxlLkNvbG9yS2V5ZnJhbWVUcmFjaz1laSxlLkNvbXByZXNzZWRUZXh0dXJlPXhuLGUuQ29tcHJlc3NlZFRleHR1cmVMb2FkZXI9ZGksZS5Db25lQnVmZmVyR2VvbWV0cnk9TnIsZS5Db25lR2VvbWV0cnk9SXIsZS5DdWJlQ2FtZXJhPUosZS5DdWJlR2VvbWV0cnk9UWgsZS5DdWJlUmVmbGVjdGlvbk1hcHBpbmc9VXMsZS5DdWJlUmVmcmFjdGlvbk1hcHBpbmc9RnMsZS5DdWJlVGV4dHVyZT1tZSxlLkN1YmVUZXh0dXJlTG9hZGVyPXZpLGUuQ3ViZVVWUmVmbGVjdGlvbk1hcHBpbmc9anMsZS5DdWJlVVZSZWZyYWN0aW9uTWFwcGluZz1rcyxlLkN1YmljQmV6aWVyQ3VydmU9RGksZS5DdWJpY0JlemllckN1cnZlMz1JaSxlLkN1YmljSW50ZXJwb2xhbnQ9WnIsZS5DdWxsRmFjZUJhY2s9Vm8sZS5DdWxsRmFjZUZyb250PWpvLGUuQ3VsbEZhY2VGcm9udEJhY2s9MyxlLkN1bGxGYWNlTm9uZT1IbyxlLkN1cnZlPXlpLGUuQ3VydmVQYXRoPUdpLGUuQ3VzdG9tQmxlbmRpbmc9aXMsZS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5PURyLGUuQ3lsaW5kZXJHZW9tZXRyeT1PcixlLkN5bGluZHJpY2FsPU5hLGUuRGF0YVRleHR1cmU9SyxlLkRhdGFUZXh0dXJlMkRBcnJheT12ZSxlLkRhdGFUZXh0dXJlM0Q9Z2UsZS5EYXRhVGV4dHVyZUxvYWRlcj1maSxlLkRlY3JlbWVudFN0ZW5jaWxPcD03NjgzLGUuRGVjcmVtZW50V3JhcFN0ZW5jaWxPcD0zNDA1NixlLkRlZmF1bHRMb2FkaW5nTWFuYWdlcj1wcCxlLkRlcHRoRm9ybWF0PXljLGUuRGVwdGhTdGVuY2lsRm9ybWF0PXhjLGUuRGVwdGhUZXh0dXJlPXduLGUuRGlyZWN0aW9uYWxMaWdodD1LaSxlLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXI9S2EsZS5EaXJlY3Rpb25hbExpZ2h0U2hhZG93PVFpLGUuRGlzY3JldGVJbnRlcnBvbGFudD1RcixlLkRvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5PUluLGUuRG9kZWNhaGVkcm9uR2VvbWV0cnk9RG4sZS5Eb3VibGVTaWRlPVpvLGUuRHN0QWxwaGFGYWN0b3I9dnMsZS5Ec3RDb2xvckZhY3Rvcj15cyxlLkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGU9Z28sZS5EeW5hbWljQ29weVVzYWdlPTM1MDUwLGUuRHluYW1pY0RyYXdVc2FnZT0zNTA0OCxlLkR5bmFtaWNSZWFkVXNhZ2U9MzUwNDksZS5FZGdlc0dlb21ldHJ5PUNyLGUuRWRnZXNIZWxwZXI9T28sZS5FbGxpcHNlQ3VydmU9eGksZS5FcXVhbERlcHRoPVRzLGUuRXF1YWxTdGVuY2lsRnVuYz01MTQsZS5FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZz1HcyxlLkVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nPUhzLGUuRXVsZXI9dSxlLkV2ZW50RGlzcGF0Y2hlcj10LGUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5PXlyLGUuRXh0cnVkZUdlb21ldHJ5PWdyLGUuRmFjZTM9VCxlLkZhY2U0PW9vLGUuRmFjZUNvbG9ycz1RbyxlLkZhY2VOb3JtYWxzSGVscGVyPVFhLGUuRmlsZUxvYWRlcj11aSxlLkZsYXRTaGFkaW5nPTEsZS5GbG9hdDMyQXR0cmlidXRlPVRvLGUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZT16LGUuRmxvYXQ2NEF0dHJpYnV0ZT1FbyxlLkZsb2F0NjRCdWZmZXJBdHRyaWJ1dGU9QixlLkZsb2F0VHlwZT1vYyxlLkZvZz0kdCxlLkZvZ0V4cDI9S3QsZS5Gb250PWNhLGUuRm9udExvYWRlcj11YSxlLkZyb250RmFjZURpcmVjdGlvbkNDVz0xLGUuRnJvbnRGYWNlRGlyZWN0aW9uQ1c9MCxlLkZyb250U2lkZT1YbyxlLkZydXN0dW09JCxlLkdhbW1hRW5jb2Rpbmc9WWMsZS5HZW9tZXRyeT1rLGUuR2VvbWV0cnlVdGlscz1iZCxlLkdyZWF0ZXJEZXB0aD1BcyxlLkdyZWF0ZXJFcXVhbERlcHRoPUVzLGUuR3JlYXRlckVxdWFsU3RlbmNpbEZ1bmM9NTE4LGUuR3JlYXRlclN0ZW5jaWxGdW5jPTUxNixlLkdyaWRIZWxwZXI9WWEsZS5Hcm91cD1xdCxlLkhhbGZGbG9hdFR5cGU9c2MsZS5IZW1pc3BoZXJlTGlnaHQ9a2ksZS5IZW1pc3BoZXJlTGlnaHRIZWxwZXI9cWEsZS5IZW1pc3BoZXJlTGlnaHRQcm9iZT1tYSxlLkljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnk9T24sZS5JY29zYWhlZHJvbkdlb21ldHJ5PUNuLGUuSW1hZ2VCaXRtYXBMb2FkZXI9b2EsZS5JbWFnZUxvYWRlcj1taSxlLkltYWdlVXRpbHM9ZmwsZS5JbW1lZGlhdGVSZW5kZXJPYmplY3Q9VWEsZS5JbmNyZW1lbnRTdGVuY2lsT3A9NzY4MixlLkluY3JlbWVudFdyYXBTdGVuY2lsT3A9MzQwNTUsZS5JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9cmEsZS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT1uYSxlLkluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPVBhLGUuSW5zdGFuY2VkTWVzaD1obixlLkludDE2QXR0cmlidXRlPXdvLGUuSW50MTZCdWZmZXJBdHRyaWJ1dGU9TyxlLkludDMyQXR0cmlidXRlPU1vLGUuSW50MzJCdWZmZXJBdHRyaWJ1dGU9SSxlLkludDhBdHRyaWJ1dGU9eW8sZS5JbnQ4QnVmZmVyQXR0cmlidXRlPVIsZS5JbnRUeXBlPWljLGUuSW50ZXJsZWF2ZWRCdWZmZXI9ZW4sZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT10bixlLkludGVycG9sYW50PVlyLGUuSW50ZXJwb2xhdGVEaXNjcmV0ZT0yMzAwLGUuSW50ZXJwb2xhdGVMaW5lYXI9MjMwMSxlLkludGVycG9sYXRlU21vb3RoPTIzMDIsZS5JbnZlcnRTdGVuY2lsT3A9NTM4NixlLkpTT05Mb2FkZXI9Qm8sZS5LZWVwU3RlbmNpbE9wPWlsLGUuS2V5ZnJhbWVUcmFjaz1LcixlLkxPRD1vbixlLkxhdGhlQnVmZmVyR2VvbWV0cnk9QXIsZS5MYXRoZUdlb21ldHJ5PUVyLGUuTGF5ZXJzPXAsZS5MZW5zRmxhcmU9VW8sZS5MZXNzRGVwdGg9TXMsZS5MZXNzRXF1YWxEZXB0aD1TcyxlLkxlc3NFcXVhbFN0ZW5jaWxGdW5jPTUxNSxlLkxlc3NTdGVuY2lsRnVuYz01MTMsZS5MaWdodD1qaSxlLkxpZ2h0UHJvYmU9ZmEsZS5MaWdodFByb2JlSGVscGVyPVhhLGUuTGlnaHRTaGFkb3c9V2ksZS5MaW5lPXBuLGUuTGluZTM9QmEsZS5MaW5lQmFzaWNNYXRlcmlhbD11bixlLkxpbmVDdXJ2ZT1OaSxlLkxpbmVDdXJ2ZTM9emksZS5MaW5lRGFzaGVkTWF0ZXJpYWw9WHIsZS5MaW5lTG9vcD1mbixlLkxpbmVQaWVjZXM9MSxlLkxpbmVTZWdtZW50cz1kbixlLkxpbmVTdHJpcD0wLGUuTGluZWFyRW5jb2Rpbmc9cWM7ZS5MaW5lYXJGaWx0ZXI9UXMsZS5MaW5lYXJJbnRlcnBvbGFudD1KcixlLkxpbmVhck1pcE1hcExpbmVhckZpbHRlcj0xMDA4LGUuTGluZWFyTWlwTWFwTmVhcmVzdEZpbHRlcj0xMDA3LGUuTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyPSRzLGUuTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcj1LcyxlLkxpbmVhclRvbmVNYXBwaW5nPURzLGUuTG9hZGVyPWhpLGUuTG9hZGVyVXRpbHM9eHAsZS5Mb2FkaW5nTWFuYWdlcj1saSxlLkxvZ0x1dkVuY29kaW5nPUpjLGUuTG9vcE9uY2U9MjIwMCxlLkxvb3BQaW5nUG9uZz0yMjAyLGUuTG9vcFJlcGVhdD1rYyxlLkx1bWluYW5jZUFscGhhRm9ybWF0PXZjLGUuTHVtaW5hbmNlRm9ybWF0PW1jLGUuTU9VU0U9Rm8sZS5NYXRlcmlhbD1FLGUuTWF0ZXJpYWxMb2FkZXI9dGEsZS5NYXRoPWxsLGUuTWF0cml4Mz1hLGUuTWF0cml4ND1oLGUuTWF4RXF1YXRpb249bHMsZS5NZXNoPUgsZS5NZXNoQmFzaWNNYXRlcmlhbD1BLGUuTWVzaERlcHRoTWF0ZXJpYWw9VXQsZS5NZXNoRGlzdGFuY2VNYXRlcmlhbD1GdCxlLk1lc2hGYWNlTWF0ZXJpYWw9c28sZS5NZXNoTGFtYmVydE1hdGVyaWFsPVdyLGUuTWVzaE1hdGNhcE1hdGVyaWFsPXFyLGUuTWVzaE5vcm1hbE1hdGVyaWFsPWtyLGUuTWVzaFBob25nTWF0ZXJpYWw9VnIsZS5NZXNoUGh5c2ljYWxNYXRlcmlhbD1IcixlLk1lc2hTdGFuZGFyZE1hdGVyaWFsPUdyLGUuTWVzaFRvb25NYXRlcmlhbD1qcixlLk1pbkVxdWF0aW9uPWNzLGUuTWlycm9yZWRSZXBlYXRXcmFwcGluZz1YcyxlLk1peE9wZXJhdGlvbj1QcyxlLk11bHRpTWF0ZXJpYWw9Y28sZS5NdWx0aXBseUJsZW5kaW5nPXJzLGUuTXVsdGlwbHlPcGVyYXRpb249UnMsZS5OZWFyZXN0RmlsdGVyPVlzLGUuTmVhcmVzdE1pcE1hcExpbmVhckZpbHRlcj0xMDA1LGUuTmVhcmVzdE1pcE1hcE5lYXJlc3RGaWx0ZXI9MTAwNCxlLk5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXI9SnMsZS5OZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcj1acyxlLk5ldmVyRGVwdGg9d3MsZS5OZXZlclN0ZW5jaWxGdW5jPTUxMixlLk5vQmxlbmRpbmc9JG8sZS5Ob0NvbG9ycz1KbyxlLk5vVG9uZU1hcHBpbmc9T3MsZS5Ob3JtYWxCbGVuZGluZz1lcyxlLk5vdEVxdWFsRGVwdGg9THMsZS5Ob3RFcXVhbFN0ZW5jaWxGdW5jPTUxNyxlLk51bWJlcktleWZyYW1lVHJhY2s9dGksZS5PYmplY3QzRD1kLGUuT2JqZWN0TG9hZGVyPWFhLGUuT2JqZWN0U3BhY2VOb3JtYWxNYXA9cmwsZS5PY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk9UG4sZS5PY3RhaGVkcm9uR2VvbWV0cnk9Um4sZS5PbmVGYWN0b3I9dXMsZS5PbmVNaW51c0RzdEFscGhhRmFjdG9yPWdzLGUuT25lTWludXNEc3RDb2xvckZhY3Rvcj14cyxlLk9uZU1pbnVzU3JjQWxwaGFGYWN0b3I9bXMsZS5PbmVNaW51c1NyY0NvbG9yRmFjdG9yPWRzLGUuT3J0aG9ncmFwaGljQ2FtZXJhPUppLGUuUENGU2hhZG93TWFwPWtvLGUuUENGU29mdFNoYWRvd01hcD1XbyxlLlBhcmFtZXRyaWNCdWZmZXJHZW9tZXRyeT1TbixlLlBhcmFtZXRyaWNHZW9tZXRyeT1NbixlLlBhcnRpY2xlPWhvLGUuUGFydGljbGVCYXNpY01hdGVyaWFsPWZvLGUuUGFydGljbGVTeXN0ZW09dW8sZS5QYXJ0aWNsZVN5c3RlbU1hdGVyaWFsPW1vLGUuUGF0aD1IaSxlLlBlcnNwZWN0aXZlQ2FtZXJhPVosZS5QbGFuZT14LGUuUGxhbmVCdWZmZXJHZW9tZXRyeT1yZSxlLlBsYW5lR2VvbWV0cnk9bmUsZS5QbGFuZUhlbHBlcj1ybyxlLlBvaW50Q2xvdWQ9bG8sZS5Qb2ludENsb3VkTWF0ZXJpYWw9cG8sZS5Qb2ludExpZ2h0PVppLGUuUG9pbnRMaWdodEhlbHBlcj1rYSxlLlBvaW50cz12bixlLlBvaW50c01hdGVyaWFsPW1uLGUuUG9sYXJHcmlkSGVscGVyPVphLGUuUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5PUVuLGUuUG9seWhlZHJvbkdlb21ldHJ5PVRuLGUuUG9zaXRpb25hbEF1ZGlvPXdhLGUuUG9zaXRpb25hbEF1ZGlvSGVscGVyPUphLGUuUHJvcGVydHlCaW5kaW5nPVRhLGUuUHJvcGVydHlNaXhlcj1NYSxlLlF1YWRyYXRpY0JlemllckN1cnZlPUJpLGUuUXVhZHJhdGljQmV6aWVyQ3VydmUzPVVpLGUuUXVhdGVybmlvbj1yLGUuUXVhdGVybmlvbktleWZyYW1lVHJhY2s9cmksZS5RdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQ9bmksZS5SRVZJU0lPTj1cIjExMWRldlwiLGUuUkdCQURlcHRoUGFja2luZz10bCxlLlJHQkFGb3JtYXQ9ZmMsZS5SR0JBX0FTVENfMTB4MTBfRm9ybWF0PUhjLGUuUkdCQV9BU1RDXzEweDVfRm9ybWF0PVVjLGUuUkdCQV9BU1RDXzEweDZfRm9ybWF0PUZjLGUuUkdCQV9BU1RDXzEweDhfRm9ybWF0PUdjLGUuUkdCQV9BU1RDXzEyeDEwX0Zvcm1hdD1WYyxlLlJHQkFfQVNUQ18xMngxMl9Gb3JtYXQ9amMsZS5SR0JBX0FTVENfNHg0X0Zvcm1hdD1QYyxlLlJHQkFfQVNUQ181eDRfRm9ybWF0PUNjLGUuUkdCQV9BU1RDXzV4NV9Gb3JtYXQ9T2MsZS5SR0JBX0FTVENfNng1X0Zvcm1hdD1EYyxlLlJHQkFfQVNUQ182eDZfRm9ybWF0PUljLGUuUkdCQV9BU1RDXzh4NV9Gb3JtYXQ9TmMsZS5SR0JBX0FTVENfOHg2X0Zvcm1hdD16YyxlLlJHQkFfQVNUQ184eDhfRm9ybWF0PUJjLGUuUkdCQV9QVlJUQ18yQlBQVjFfRm9ybWF0PUxjLGUuUkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0PUFjLGUuUkdCQV9TM1RDX0RYVDFfRm9ybWF0PV9jLGUuUkdCQV9TM1RDX0RYVDNfRm9ybWF0PU1jLGUuUkdCQV9TM1RDX0RYVDVfRm9ybWF0PVNjLGUuUkdCREVuY29kaW5nPSRjLGUuUkdCRUVuY29kaW5nPVpjLGUuUkdCRUZvcm1hdD1nYyxlLlJHQkZvcm1hdD1kYyxlLlJHQk0xNkVuY29kaW5nPUtjLGUuUkdCTTdFbmNvZGluZz1RYyxlLlJHQl9FVEMxX0Zvcm1hdD1SYyxlLlJHQl9QVlJUQ18yQlBQVjFfRm9ybWF0PUVjLGUuUkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9VGMsZS5SR0JfUzNUQ19EWFQxX0Zvcm1hdD13YyxlLlJhd1NoYWRlck1hdGVyaWFsPUZyLGUuUmF5PXksZS5SYXljYXN0ZXI9Q2EsZS5SZWN0QXJlYUxpZ2h0PWVhLGUuUmVjdEFyZWFMaWdodEhlbHBlcj1XYSxlLlJlZEZvcm1hdD1iYyxlLlJlaW5oYXJkVG9uZU1hcHBpbmc9SXMsZS5SZXBlYXRXcmFwcGluZz1XcyxlLlJlcGxhY2VTdGVuY2lsT3A9NzY4MSxlLlJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uPXNzLGUuUmluZ0J1ZmZlckdlb21ldHJ5PVRyLGUuUmluZ0dlb21ldHJ5PVNyLGUuU2NlbmU9ZixlLlNjZW5lVXRpbHM9d2QsZS5TaGFkZXJDaHVuaz1vdSxlLlNoYWRlckxpYj1jdSxlLlNoYWRlck1hdGVyaWFsPVgsZS5TaGFkb3dNYXRlcmlhbD1VcixlLlNoYXBlPVZpLGUuU2hhcGVCdWZmZXJHZW9tZXRyeT1ScixlLlNoYXBlR2VvbWV0cnk9THIsZS5TaGFwZVBhdGg9c2EsZS5TaGFwZVV0aWxzPW9wLGUuU2hvcnRUeXBlPW5jLGUuU2tlbGV0b249Y24sZS5Ta2VsZXRvbkhlbHBlcj1qYSxlLlNraW5uZWRNZXNoPXNuLGUuU21vb3RoU2hhZGluZz0yLGUuU3BoZXJlPWcsZS5TcGhlcmVCdWZmZXJHZW9tZXRyeT1NcixlLlNwaGVyZUdlb21ldHJ5PV9yLGUuU3BoZXJpY2FsPUlhLGUuU3BoZXJpY2FsSGFybW9uaWNzMz1kYSxlLlNwaGVyaWNhbFJlZmxlY3Rpb25NYXBwaW5nPVZzLGUuU3BsaW5lPVJvLGUuU3BsaW5lQ3VydmU9RmksZS5TcGxpbmVDdXJ2ZTM9TG8sZS5TcG90TGlnaHQ9WGksZS5TcG90TGlnaHRIZWxwZXI9SGEsZS5TcG90TGlnaHRTaGFkb3c9cWksZS5TcHJpdGU9cm4sZS5TcHJpdGVNYXRlcmlhbD1ubixlLlNyY0FscGhhRmFjdG9yPWZzLGUuU3JjQWxwaGFTYXR1cmF0ZUZhY3Rvcj1icyxlLlNyY0NvbG9yRmFjdG9yPXBzLGUuU3RhdGljQ29weVVzYWdlPTM1MDQ2LGUuU3RhdGljRHJhd1VzYWdlPW9sLGUuU3RhdGljUmVhZFVzYWdlPTM1MDQ1LGUuU3RlcmVvQ2FtZXJhPWdhLGUuU3RyZWFtQ29weVVzYWdlPTM1MDQyLGUuU3RyZWFtRHJhd1VzYWdlPTM1MDQwLGUuU3RyZWFtUmVhZFVzYWdlPTM1MDQxLGUuU3RyaW5nS2V5ZnJhbWVUcmFjaz1paSxlLlN1YnRyYWN0RXF1YXRpb249b3MsZS5TdWJ0cmFjdGl2ZUJsZW5kaW5nPW5zLGUuVE9VQ0g9R28sZS5UYW5nZW50U3BhY2VOb3JtYWxNYXA9bmwsZS5UZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5PUxuLGUuVGV0cmFoZWRyb25HZW9tZXRyeT1BbixlLlRleHRCdWZmZXJHZW9tZXRyeT13cixlLlRleHRHZW9tZXRyeT1icixlLlRleHR1cmU9byxlLlRleHR1cmVMb2FkZXI9Z2ksZS5Ub3J1c0J1ZmZlckdlb21ldHJ5PUduLGUuVG9ydXNHZW9tZXRyeT1GbixlLlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5PVVuLGUuVG9ydXNLbm90R2VvbWV0cnk9Qm4sZS5UcmlhbmdsZT1iLGUuVHJpYW5nbGVGYW5EcmF3TW9kZT0yLGUuVHJpYW5nbGVTdHJpcERyYXdNb2RlPTE7ZS5UcmlhbmdsZXNEcmF3TW9kZT0wLGUuVHViZUJ1ZmZlckdlb21ldHJ5PXpuLGUuVHViZUdlb21ldHJ5PU5uLGUuVVZNYXBwaW5nPTMwMCxlLlVpbnQxNkF0dHJpYnV0ZT1fbyxlLlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZT1ELGUuVWludDMyQXR0cmlidXRlPVNvLGUuVWludDMyQnVmZmVyQXR0cmlidXRlPU4sZS5VaW50OEF0dHJpYnV0ZT14byxlLlVpbnQ4QnVmZmVyQXR0cmlidXRlPVAsZS5VaW50OENsYW1wZWRBdHRyaWJ1dGU9Ym8sZS5VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGU9QyxlLlVuY2hhcnRlZDJUb25lTWFwcGluZz1OcyxlLlVuaWZvcm09UmEsZS5Vbmlmb3Jtc0xpYj1zdSxlLlVuaWZvcm1zVXRpbHM9JGgsZS5VbnNpZ25lZEJ5dGVUeXBlPWVjLGUuVW5zaWduZWRJbnQyNDhUeXBlPXVjLGUuVW5zaWduZWRJbnRUeXBlPWFjLGUuVW5zaWduZWRTaG9ydDQ0NDRUeXBlPWNjLGUuVW5zaWduZWRTaG9ydDU1NTFUeXBlPWxjLGUuVW5zaWduZWRTaG9ydDU2NVR5cGU9aGMsZS5VbnNpZ25lZFNob3J0VHlwZT1yYyxlLlZTTVNoYWRvd01hcD1xbyxlLlZlY3RvcjI9bixlLlZlY3RvcjM9aSxlLlZlY3RvcjQ9cyxlLlZlY3RvcktleWZyYW1lVHJhY2s9YWksZS5WZXJ0ZXg9dm8sZS5WZXJ0ZXhDb2xvcnM9S28sZS5WZXJ0ZXhOb3JtYWxzSGVscGVyPUZhLGUuVmVydGV4VGFuZ2VudHNIZWxwZXI9R2EsZS5WaWRlb1RleHR1cmU9eW4sZS5XZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0PWwsZS5XZWJHTFJlbmRlclRhcmdldD1jLGUuV2ViR0xSZW5kZXJUYXJnZXRDdWJlPVEsZS5XZWJHTFJlbmRlcmVyPVF0LGUuV2ViR0xVdGlscz1qdCxlLldpcmVmcmFtZUdlb21ldHJ5PV9uLGUuV2lyZWZyYW1lSGVscGVyPURvLGUuV3JhcEFyb3VuZEVuZGluZz0yNDAyLGUuWEhSTG9hZGVyPUlvLGUuWmVyb0N1cnZhdHVyZUVuZGluZz1XYyxlLlplcm9GYWN0b3I9aHMsZS5aZXJvU2xvcGVFbmRpbmc9MjQwMSxlLlplcm9TdGVuY2lsT3A9MCxlLnNSR0JFbmNvZGluZz1YYyxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pO1xufSx7fV0sMzg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBAYXV0aG9yIERvbiBNY0N1cmR5IC8gaHR0cHM6Ly93d3cuZG9ubWNjdXJkeS5jb21cbiAqL1xuXG5USFJFRS5EUkFDT0xvYWRlciA9IGZ1bmN0aW9uICggbWFuYWdlciApIHtcblxuXHRUSFJFRS5Mb2FkZXIuY2FsbCggdGhpcywgbWFuYWdlciApO1xuXG5cdHRoaXMuZGVjb2RlclBhdGggPSAnJztcblx0dGhpcy5kZWNvZGVyQ29uZmlnID0ge307XG5cdHRoaXMuZGVjb2RlckJpbmFyeSA9IG51bGw7XG5cdHRoaXMuZGVjb2RlclBlbmRpbmcgPSBudWxsO1xuXG5cdHRoaXMud29ya2VyTGltaXQgPSA0O1xuXHR0aGlzLndvcmtlclBvb2wgPSBbXTtcblx0dGhpcy53b3JrZXJOZXh0VGFza0lEID0gMTtcblx0dGhpcy53b3JrZXJTb3VyY2VVUkwgPSAnJztcblxuXHR0aGlzLmRlZmF1bHRBdHRyaWJ1dGVJRHMgPSB7XG5cdFx0cG9zaXRpb246ICdQT1NJVElPTicsXG5cdFx0bm9ybWFsOiAnTk9STUFMJyxcblx0XHRjb2xvcjogJ0NPTE9SJyxcblx0XHR1djogJ1RFWF9DT09SRCdcblx0fTtcblx0dGhpcy5kZWZhdWx0QXR0cmlidXRlVHlwZXMgPSB7XG5cdFx0cG9zaXRpb246ICdGbG9hdDMyQXJyYXknLFxuXHRcdG5vcm1hbDogJ0Zsb2F0MzJBcnJheScsXG5cdFx0Y29sb3I6ICdGbG9hdDMyQXJyYXknLFxuXHRcdHV2OiAnRmxvYXQzMkFycmF5J1xuXHR9O1xuXG59O1xuXG5USFJFRS5EUkFDT0xvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKCBPYmplY3QuY3JlYXRlKCBUSFJFRS5Mb2FkZXIucHJvdG90eXBlICksIHtcblxuXHRjb25zdHJ1Y3RvcjogVEhSRUUuRFJBQ09Mb2FkZXIsXG5cblx0c2V0RGVjb2RlclBhdGg6IGZ1bmN0aW9uICggcGF0aCApIHtcblxuXHRcdHRoaXMuZGVjb2RlclBhdGggPSBwYXRoO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fSxcblxuXHRzZXREZWNvZGVyQ29uZmlnOiBmdW5jdGlvbiAoIGNvbmZpZyApIHtcblxuXHRcdHRoaXMuZGVjb2RlckNvbmZpZyA9IGNvbmZpZztcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0c2V0V29ya2VyTGltaXQ6IGZ1bmN0aW9uICggd29ya2VyTGltaXQgKSB7XG5cblx0XHR0aGlzLndvcmtlckxpbWl0ID0gd29ya2VyTGltaXQ7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9LFxuXG5cdC8qKiBAZGVwcmVjYXRlZCAqL1xuXHRzZXRWZXJib3NpdHk6IGZ1bmN0aW9uICgpIHtcblxuXHRcdGNvbnNvbGUud2FybiggJ1RIUkVFLkRSQUNPTG9hZGVyOiBUaGUgLnNldFZlcmJvc2l0eSgpIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkLicgKTtcblxuXHR9LFxuXG5cdC8qKiBAZGVwcmVjYXRlZCAqL1xuXHRzZXREcmF3TW9kZTogZnVuY3Rpb24gKCkge1xuXG5cdFx0Y29uc29sZS53YXJuKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IFRoZSAuc2V0RHJhd01vZGUoKSBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZC4nICk7XG5cblx0fSxcblxuXHQvKiogQGRlcHJlY2F0ZWQgKi9cblx0c2V0U2tpcERlcXVhbnRpemF0aW9uOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRjb25zb2xlLndhcm4oICdUSFJFRS5EUkFDT0xvYWRlcjogVGhlIC5zZXRTa2lwRGVxdWFudGl6YXRpb24oKSBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZC4nICk7XG5cblx0fSxcblxuXHRsb2FkOiBmdW5jdGlvbiAoIHVybCwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yICkge1xuXG5cdFx0dmFyIGxvYWRlciA9IG5ldyBUSFJFRS5GaWxlTG9hZGVyKCB0aGlzLm1hbmFnZXIgKTtcblxuXHRcdGxvYWRlci5zZXRQYXRoKCB0aGlzLnBhdGggKTtcblx0XHRsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCAnYXJyYXlidWZmZXInICk7XG5cblx0XHRpZiAoIHRoaXMuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnICkge1xuXG5cdFx0XHRsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKCB0cnVlICk7XG5cblx0XHR9XG5cblx0XHRsb2FkZXIubG9hZCggdXJsLCAoIGJ1ZmZlciApID0+IHtcblxuXHRcdFx0dmFyIHRhc2tDb25maWcgPSB7XG5cdFx0XHRcdGF0dHJpYnV0ZUlEczogdGhpcy5kZWZhdWx0QXR0cmlidXRlSURzLFxuXHRcdFx0XHRhdHRyaWJ1dGVUeXBlczogdGhpcy5kZWZhdWx0QXR0cmlidXRlVHlwZXMsXG5cdFx0XHRcdHVzZVVuaXF1ZUlEczogZmFsc2Vcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuZGVjb2RlR2VvbWV0cnkoIGJ1ZmZlciwgdGFza0NvbmZpZyApXG5cdFx0XHRcdC50aGVuKCBvbkxvYWQgKVxuXHRcdFx0XHQuY2F0Y2goIG9uRXJyb3IgKTtcblxuXHRcdH0sIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKTtcblxuXHR9LFxuXG5cdC8qKiBAZGVwcmVjYXRlZCBLZXB0IGZvciBiYWNrd2FyZC1jb21wYXRpYmlsaXR5IHdpdGggcHJldmlvdXMgRFJBQ09Mb2FkZXIgdmVyc2lvbnMuICovXG5cdGRlY29kZURyYWNvRmlsZTogZnVuY3Rpb24gKCBidWZmZXIsIGNhbGxiYWNrLCBhdHRyaWJ1dGVJRHMsIGF0dHJpYnV0ZVR5cGVzICkge1xuXG5cdFx0dmFyIHRhc2tDb25maWcgPSB7XG5cdFx0XHRhdHRyaWJ1dGVJRHM6IGF0dHJpYnV0ZUlEcyB8fCB0aGlzLmRlZmF1bHRBdHRyaWJ1dGVJRHMsXG5cdFx0XHRhdHRyaWJ1dGVUeXBlczogYXR0cmlidXRlVHlwZXMgfHwgdGhpcy5kZWZhdWx0QXR0cmlidXRlVHlwZXMsXG5cdFx0XHR1c2VVbmlxdWVJRHM6ICEhIGF0dHJpYnV0ZUlEc1xuXHRcdH07XG5cblx0XHR0aGlzLmRlY29kZUdlb21ldHJ5KCBidWZmZXIsIHRhc2tDb25maWcgKS50aGVuKCBjYWxsYmFjayApO1xuXG5cdH0sXG5cblx0ZGVjb2RlR2VvbWV0cnk6IGZ1bmN0aW9uICggYnVmZmVyLCB0YXNrQ29uZmlnICkge1xuXG5cdFx0dmFyIHdvcmtlcjtcblx0XHR2YXIgdGFza0lEID0gdGhpcy53b3JrZXJOZXh0VGFza0lEICsrO1xuXHRcdHZhciB0YXNrQ29zdCA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuXG5cdFx0Ly8gVE9ETzogRm9yIGJhY2t3YXJkLWNvbXBhdGliaWxpdHksIHN1cHBvcnQgJ2F0dHJpYnV0ZVR5cGVzJyBvYmplY3RzIGNvbnRhaW5pbmdcblx0XHQvLyByZWZlcmVuY2VzIChyYXRoZXIgdGhhbiBuYW1lcykgdG8gdHlwZWQgYXJyYXkgY29uc3RydWN0b3JzLiBUaGVzZSBtdXN0IGJlXG5cdFx0Ly8gc2VyaWFsaXplZCBiZWZvcmUgc2VuZGluZyB0aGVtIHRvIHRoZSB3b3JrZXIuXG5cdFx0Zm9yICggdmFyIGF0dHJpYnV0ZSBpbiB0YXNrQ29uZmlnLmF0dHJpYnV0ZVR5cGVzICkge1xuXG5cdFx0XHR2YXIgdHlwZSA9IHRhc2tDb25maWcuYXR0cmlidXRlVHlwZXNbIGF0dHJpYnV0ZSBdO1xuXG5cdFx0XHRpZiAoIHR5cGUuQllURVNfUEVSX0VMRU1FTlQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHR0YXNrQ29uZmlnLmF0dHJpYnV0ZVR5cGVzWyBhdHRyaWJ1dGUgXSA9IHR5cGUubmFtZTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0Ly8gT2J0YWluIGEgd29ya2VyIGFuZCBhc3NpZ24gYSB0YXNrLCBhbmQgY29uc3RydWN0IGEgZ2VvbWV0cnkgaW5zdGFuY2Vcblx0XHQvLyB3aGVuIHRoZSB0YXNrIGNvbXBsZXRlcy5cblx0XHR2YXIgZ2VvbWV0cnlQZW5kaW5nID0gdGhpcy5fZ2V0V29ya2VyKCB0YXNrSUQsIHRhc2tDb3N0IClcblx0XHRcdC50aGVuKCAoIF93b3JrZXIgKSA9PiB7XG5cblx0XHRcdFx0d29ya2VyID0gX3dvcmtlcjtcblxuXHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4ge1xuXG5cdFx0XHRcdFx0d29ya2VyLl9jYWxsYmFja3NbIHRhc2tJRCBdID0geyByZXNvbHZlLCByZWplY3QgfTtcblxuXHRcdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZSggeyB0eXBlOiAnZGVjb2RlJywgaWQ6IHRhc2tJRCwgdGFza0NvbmZpZywgYnVmZmVyIH0sIFsgYnVmZmVyIF0gKTtcblxuXHRcdFx0XHRcdC8vIHRoaXMuZGVidWcoKTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKVxuXHRcdFx0LnRoZW4oICggbWVzc2FnZSApID0+IHRoaXMuX2NyZWF0ZUdlb21ldHJ5KCBtZXNzYWdlLmdlb21ldHJ5ICkgKTtcblxuXHRcdC8vIFJlbW92ZSB0YXNrIGZyb20gdGhlIHRhc2sgbGlzdC5cblx0XHRnZW9tZXRyeVBlbmRpbmdcblx0XHRcdC5maW5hbGx5KCAoKSA9PiB7XG5cblx0XHRcdFx0aWYgKCB3b3JrZXIgJiYgdGFza0lEICkge1xuXG5cdFx0XHRcdFx0dGhpcy5fcmVsZWFzZVRhc2soIHdvcmtlciwgdGFza0lEICk7XG5cblx0XHRcdFx0XHQvLyB0aGlzLmRlYnVnKCk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRyZXR1cm4gZ2VvbWV0cnlQZW5kaW5nO1xuXG5cdH0sXG5cblx0X2NyZWF0ZUdlb21ldHJ5OiBmdW5jdGlvbiAoIGdlb21ldHJ5RGF0YSApIHtcblxuXHRcdHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuXG5cdFx0aWYgKCBnZW9tZXRyeURhdGEuaW5kZXggKSB7XG5cblx0XHRcdGdlb21ldHJ5LnNldEluZGV4KCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBnZW9tZXRyeURhdGEuaW5kZXguYXJyYXksIDEgKSApO1xuXG5cdFx0fVxuXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnlEYXRhLmF0dHJpYnV0ZXMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHR2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnlEYXRhLmF0dHJpYnV0ZXNbIGkgXTtcblx0XHRcdHZhciBuYW1lID0gYXR0cmlidXRlLm5hbWU7XG5cdFx0XHR2YXIgYXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXk7XG5cdFx0XHR2YXIgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG5cblx0XHRcdGdlb21ldHJ5LnNldEF0dHJpYnV0ZSggbmFtZSwgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplICkgKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiBnZW9tZXRyeTtcblxuXHR9LFxuXG5cdF9sb2FkTGlicmFyeTogZnVuY3Rpb24gKCB1cmwsIHJlc3BvbnNlVHlwZSApIHtcblxuXHRcdHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuRmlsZUxvYWRlciggdGhpcy5tYW5hZ2VyICk7XG5cdFx0bG9hZGVyLnNldFBhdGgoIHRoaXMuZGVjb2RlclBhdGggKTtcblx0XHRsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCByZXNwb25zZVR5cGUgKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cblx0XHRcdGxvYWRlci5sb2FkKCB1cmwsIHJlc29sdmUsIHVuZGVmaW5lZCwgcmVqZWN0ICk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHRwcmVsb2FkOiBmdW5jdGlvbiAoKSB7XG5cblx0XHR0aGlzLl9pbml0RGVjb2RlcigpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fSxcblxuXHRfaW5pdERlY29kZXI6IGZ1bmN0aW9uICgpIHtcblxuXHRcdGlmICggdGhpcy5kZWNvZGVyUGVuZGluZyApIHJldHVybiB0aGlzLmRlY29kZXJQZW5kaW5nO1xuXG5cdFx0dmFyIHVzZUpTID0gdHlwZW9mIFdlYkFzc2VtYmx5ICE9PSAnb2JqZWN0JyB8fCB0aGlzLmRlY29kZXJDb25maWcudHlwZSA9PT0gJ2pzJztcblx0XHR2YXIgbGlicmFyaWVzUGVuZGluZyA9IFtdO1xuXG5cdFx0aWYgKCB1c2VKUyApIHtcblxuXHRcdFx0bGlicmFyaWVzUGVuZGluZy5wdXNoKCB0aGlzLl9sb2FkTGlicmFyeSggJ2RyYWNvX2RlY29kZXIuanMnLCAndGV4dCcgKSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bGlicmFyaWVzUGVuZGluZy5wdXNoKCB0aGlzLl9sb2FkTGlicmFyeSggJ2RyYWNvX3dhc21fd3JhcHBlci5qcycsICd0ZXh0JyApICk7XG5cdFx0XHRsaWJyYXJpZXNQZW5kaW5nLnB1c2goIHRoaXMuX2xvYWRMaWJyYXJ5KCAnZHJhY29fZGVjb2Rlci53YXNtJywgJ2FycmF5YnVmZmVyJyApICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLmRlY29kZXJQZW5kaW5nID0gUHJvbWlzZS5hbGwoIGxpYnJhcmllc1BlbmRpbmcgKVxuXHRcdFx0LnRoZW4oICggbGlicmFyaWVzICkgPT4ge1xuXG5cdFx0XHRcdHZhciBqc0NvbnRlbnQgPSBsaWJyYXJpZXNbIDAgXTtcblxuXHRcdFx0XHRpZiAoICEgdXNlSlMgKSB7XG5cblx0XHRcdFx0XHR0aGlzLmRlY29kZXJDb25maWcud2FzbUJpbmFyeSA9IGxpYnJhcmllc1sgMSBdO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgZm4gPSBUSFJFRS5EUkFDT0xvYWRlci5EUkFDT1dvcmtlci50b1N0cmluZygpO1xuXG5cdFx0XHRcdHZhciBib2R5ID0gW1xuXHRcdFx0XHRcdCcvKiBkcmFjbyBkZWNvZGVyICovJyxcblx0XHRcdFx0XHRqc0NvbnRlbnQsXG5cdFx0XHRcdFx0JycsXG5cdFx0XHRcdFx0Jy8qIHdvcmtlciAqLycsXG5cdFx0XHRcdFx0Zm4uc3Vic3RyaW5nKCBmbi5pbmRleE9mKCAneycgKSArIDEsIGZuLmxhc3RJbmRleE9mKCAnfScgKSApXG5cdFx0XHRcdF0uam9pbiggJ1xcbicgKTtcblxuXHRcdFx0XHR0aGlzLndvcmtlclNvdXJjZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIG5ldyBCbG9iKCBbIGJvZHkgXSApICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdHJldHVybiB0aGlzLmRlY29kZXJQZW5kaW5nO1xuXG5cdH0sXG5cblx0X2dldFdvcmtlcjogZnVuY3Rpb24gKCB0YXNrSUQsIHRhc2tDb3N0ICkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX2luaXREZWNvZGVyKCkudGhlbiggKCkgPT4ge1xuXG5cdFx0XHRpZiAoIHRoaXMud29ya2VyUG9vbC5sZW5ndGggPCB0aGlzLndvcmtlckxpbWl0ICkge1xuXG5cdFx0XHRcdHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKCB0aGlzLndvcmtlclNvdXJjZVVSTCApO1xuXG5cdFx0XHRcdHdvcmtlci5fY2FsbGJhY2tzID0ge307XG5cdFx0XHRcdHdvcmtlci5fdGFza0Nvc3RzID0ge307XG5cdFx0XHRcdHdvcmtlci5fdGFza0xvYWQgPSAwO1xuXG5cdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZSggeyB0eXBlOiAnaW5pdCcsIGRlY29kZXJDb25maWc6IHRoaXMuZGVjb2RlckNvbmZpZyB9ICk7XG5cblx0XHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICggZSApIHtcblxuXHRcdFx0XHRcdHZhciBtZXNzYWdlID0gZS5kYXRhO1xuXG5cdFx0XHRcdFx0c3dpdGNoICggbWVzc2FnZS50eXBlICkge1xuXG5cdFx0XHRcdFx0XHRjYXNlICdkZWNvZGUnOlxuXHRcdFx0XHRcdFx0XHR3b3JrZXIuX2NhbGxiYWNrc1sgbWVzc2FnZS5pZCBdLnJlc29sdmUoIG1lc3NhZ2UgKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGNhc2UgJ2Vycm9yJzpcblx0XHRcdFx0XHRcdFx0d29ya2VyLl9jYWxsYmFja3NbIG1lc3NhZ2UuaWQgXS5yZWplY3QoIG1lc3NhZ2UgKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoICdUSFJFRS5EUkFDT0xvYWRlcjogVW5leHBlY3RlZCBtZXNzYWdlLCBcIicgKyBtZXNzYWdlLnR5cGUgKyAnXCInICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLndvcmtlclBvb2wucHVzaCggd29ya2VyICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0dGhpcy53b3JrZXJQb29sLnNvcnQoIGZ1bmN0aW9uICggYSwgYiApIHtcblxuXHRcdFx0XHRcdHJldHVybiBhLl90YXNrTG9hZCA+IGIuX3Rhc2tMb2FkID8gLSAxIDogMTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0dmFyIHdvcmtlciA9IHRoaXMud29ya2VyUG9vbFsgdGhpcy53b3JrZXJQb29sLmxlbmd0aCAtIDEgXTtcblx0XHRcdHdvcmtlci5fdGFza0Nvc3RzWyB0YXNrSUQgXSA9IHRhc2tDb3N0O1xuXHRcdFx0d29ya2VyLl90YXNrTG9hZCArPSB0YXNrQ29zdDtcblx0XHRcdHJldHVybiB3b3JrZXI7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHRfcmVsZWFzZVRhc2s6IGZ1bmN0aW9uICggd29ya2VyLCB0YXNrSUQgKSB7XG5cblx0XHR3b3JrZXIuX3Rhc2tMb2FkIC09IHdvcmtlci5fdGFza0Nvc3RzWyB0YXNrSUQgXTtcblx0XHRkZWxldGUgd29ya2VyLl9jYWxsYmFja3NbIHRhc2tJRCBdO1xuXHRcdGRlbGV0ZSB3b3JrZXIuX3Rhc2tDb3N0c1sgdGFza0lEIF07XG5cblx0fSxcblxuXHRkZWJ1ZzogZnVuY3Rpb24gKCkge1xuXG5cdFx0Y29uc29sZS5sb2coICdUYXNrIGxvYWQ6ICcsIHRoaXMud29ya2VyUG9vbC5tYXAoICggd29ya2VyICkgPT4gd29ya2VyLl90YXNrTG9hZCApICk7XG5cblx0fSxcblxuXHRkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLndvcmtlclBvb2wubGVuZ3RoOyArKyBpICkge1xuXG5cdFx0XHR0aGlzLndvcmtlclBvb2xbIGkgXS50ZXJtaW5hdGUoKTtcblxuXHRcdH1cblxuXHRcdHRoaXMud29ya2VyUG9vbC5sZW5ndGggPSAwO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59ICk7XG5cbi8qIFdFQiBXT1JLRVIgKi9cblxuVEhSRUUuRFJBQ09Mb2FkZXIuRFJBQ09Xb3JrZXIgPSBmdW5jdGlvbiAoKSB7XG5cblx0dmFyIGRlY29kZXJDb25maWc7XG5cdHZhciBkZWNvZGVyUGVuZGluZztcblxuXHRvbm1lc3NhZ2UgPSBmdW5jdGlvbiAoIGUgKSB7XG5cblx0XHR2YXIgbWVzc2FnZSA9IGUuZGF0YTtcblxuXHRcdHN3aXRjaCAoIG1lc3NhZ2UudHlwZSApIHtcblxuXHRcdFx0Y2FzZSAnaW5pdCc6XG5cdFx0XHRcdGRlY29kZXJDb25maWcgPSBtZXNzYWdlLmRlY29kZXJDb25maWc7XG5cdFx0XHRcdGRlY29kZXJQZW5kaW5nID0gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZS8qLCByZWplY3QqLyApIHtcblxuXHRcdFx0XHRcdGRlY29kZXJDb25maWcub25Nb2R1bGVMb2FkZWQgPSBmdW5jdGlvbiAoIGRyYWNvICkge1xuXG5cdFx0XHRcdFx0XHQvLyBNb2R1bGUgaXMgUHJvbWlzZS1saWtlLiBXcmFwIGJlZm9yZSByZXNvbHZpbmcgdG8gYXZvaWQgbG9vcC5cblx0XHRcdFx0XHRcdHJlc29sdmUoIHsgZHJhY286IGRyYWNvIH0gKTtcblxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHREcmFjb0RlY29kZXJNb2R1bGUoIGRlY29kZXJDb25maWcgKTtcblxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICdkZWNvZGUnOlxuXHRcdFx0XHR2YXIgYnVmZmVyID0gbWVzc2FnZS5idWZmZXI7XG5cdFx0XHRcdHZhciB0YXNrQ29uZmlnID0gbWVzc2FnZS50YXNrQ29uZmlnO1xuXHRcdFx0XHRkZWNvZGVyUGVuZGluZy50aGVuKCAoIG1vZHVsZSApID0+IHtcblxuXHRcdFx0XHRcdHZhciBkcmFjbyA9IG1vZHVsZS5kcmFjbztcblx0XHRcdFx0XHR2YXIgZGVjb2RlciA9IG5ldyBkcmFjby5EZWNvZGVyKCk7XG5cdFx0XHRcdFx0dmFyIGRlY29kZXJCdWZmZXIgPSBuZXcgZHJhY28uRGVjb2RlckJ1ZmZlcigpO1xuXHRcdFx0XHRcdGRlY29kZXJCdWZmZXIuSW5pdCggbmV3IEludDhBcnJheSggYnVmZmVyICksIGJ1ZmZlci5ieXRlTGVuZ3RoICk7XG5cblx0XHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0XHR2YXIgZ2VvbWV0cnkgPSBkZWNvZGVHZW9tZXRyeSggZHJhY28sIGRlY29kZXIsIGRlY29kZXJCdWZmZXIsIHRhc2tDb25maWcgKTtcblxuXHRcdFx0XHRcdFx0dmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLm1hcCggKCBhdHRyICkgPT4gYXR0ci5hcnJheS5idWZmZXIgKTtcblxuXHRcdFx0XHRcdFx0aWYgKCBnZW9tZXRyeS5pbmRleCApIGJ1ZmZlcnMucHVzaCggZ2VvbWV0cnkuaW5kZXguYXJyYXkuYnVmZmVyICk7XG5cblx0XHRcdFx0XHRcdHNlbGYucG9zdE1lc3NhZ2UoIHsgdHlwZTogJ2RlY29kZScsIGlkOiBtZXNzYWdlLmlkLCBnZW9tZXRyeSB9LCBidWZmZXJzICk7XG5cblx0XHRcdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7XG5cblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoIGVycm9yICk7XG5cblx0XHRcdFx0XHRcdHNlbGYucG9zdE1lc3NhZ2UoIHsgdHlwZTogJ2Vycm9yJywgaWQ6IG1lc3NhZ2UuaWQsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0gKTtcblxuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cblx0XHRcdFx0XHRcdGRyYWNvLmRlc3Ryb3koIGRlY29kZXJCdWZmZXIgKTtcblx0XHRcdFx0XHRcdGRyYWNvLmRlc3Ryb3koIGRlY29kZXIgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0fVxuXG5cdH07XG5cblx0ZnVuY3Rpb24gZGVjb2RlR2VvbWV0cnkoIGRyYWNvLCBkZWNvZGVyLCBkZWNvZGVyQnVmZmVyLCB0YXNrQ29uZmlnICkge1xuXG5cdFx0dmFyIGF0dHJpYnV0ZUlEcyA9IHRhc2tDb25maWcuYXR0cmlidXRlSURzO1xuXHRcdHZhciBhdHRyaWJ1dGVUeXBlcyA9IHRhc2tDb25maWcuYXR0cmlidXRlVHlwZXM7XG5cblx0XHR2YXIgZHJhY29HZW9tZXRyeTtcblx0XHR2YXIgZGVjb2RpbmdTdGF0dXM7XG5cblx0XHR2YXIgZ2VvbWV0cnlUeXBlID0gZGVjb2Rlci5HZXRFbmNvZGVkR2VvbWV0cnlUeXBlKCBkZWNvZGVyQnVmZmVyICk7XG5cblx0XHRpZiAoIGdlb21ldHJ5VHlwZSA9PT0gZHJhY28uVFJJQU5HVUxBUl9NRVNIICkge1xuXG5cdFx0XHRkcmFjb0dlb21ldHJ5ID0gbmV3IGRyYWNvLk1lc2goKTtcblx0XHRcdGRlY29kaW5nU3RhdHVzID0gZGVjb2Rlci5EZWNvZGVCdWZmZXJUb01lc2goIGRlY29kZXJCdWZmZXIsIGRyYWNvR2VvbWV0cnkgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGdlb21ldHJ5VHlwZSA9PT0gZHJhY28uUE9JTlRfQ0xPVUQgKSB7XG5cblx0XHRcdGRyYWNvR2VvbWV0cnkgPSBuZXcgZHJhY28uUG9pbnRDbG91ZCgpO1xuXHRcdFx0ZGVjb2RpbmdTdGF0dXMgPSBkZWNvZGVyLkRlY29kZUJ1ZmZlclRvUG9pbnRDbG91ZCggZGVjb2RlckJ1ZmZlciwgZHJhY29HZW9tZXRyeSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IFVuZXhwZWN0ZWQgZ2VvbWV0cnkgdHlwZS4nICk7XG5cblx0XHR9XG5cblx0XHRpZiAoICEgZGVjb2RpbmdTdGF0dXMub2soKSB8fCBkcmFjb0dlb21ldHJ5LnB0ciA9PT0gMCApIHtcblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IERlY29kaW5nIGZhaWxlZDogJyArIGRlY29kaW5nU3RhdHVzLmVycm9yX21zZygpICk7XG5cblx0XHR9XG5cblx0XHR2YXIgZ2VvbWV0cnkgPSB7IGluZGV4OiBudWxsLCBhdHRyaWJ1dGVzOiBbXSB9O1xuXG5cdFx0Ly8gR2F0aGVyIGFsbCB2ZXJ0ZXggYXR0cmlidXRlcy5cblx0XHRmb3IgKCB2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVJRHMgKSB7XG5cblx0XHRcdHZhciBhdHRyaWJ1dGVUeXBlID0gc2VsZlsgYXR0cmlidXRlVHlwZXNbIGF0dHJpYnV0ZU5hbWUgXSBdO1xuXG5cdFx0XHR2YXIgYXR0cmlidXRlO1xuXHRcdFx0dmFyIGF0dHJpYnV0ZUlEO1xuXG5cdFx0XHQvLyBBIERyYWNvIGZpbGUgbWF5IGJlIGNyZWF0ZWQgd2l0aCBkZWZhdWx0IHZlcnRleCBhdHRyaWJ1dGVzLCB3aG9zZSBhdHRyaWJ1dGUgSURzXG5cdFx0XHQvLyBhcmUgbWFwcGVkIDE6MSBmcm9tIHRoZWlyIHNlbWFudGljIG5hbWUgKFBPU0lUSU9OLCBOT1JNQUwsIC4uLikuIEFsdGVybmF0aXZlbHksXG5cdFx0XHQvLyBhIERyYWNvIGZpbGUgbWF5IGNvbnRhaW4gYSBjdXN0b20gc2V0IG9mIGF0dHJpYnV0ZXMsIGlkZW50aWZpZWQgYnkga25vd24gdW5pcXVlXG5cdFx0XHQvLyBJRHMuIGdsVEYgZmlsZXMgYWx3YXlzIGRvIHRoZSBsYXR0ZXIsIGFuZCBgLmRyY2AgZmlsZXMgdHlwaWNhbGx5IGRvIHRoZSBmb3JtZXIuXG5cdFx0XHRpZiAoIHRhc2tDb25maWcudXNlVW5pcXVlSURzICkge1xuXG5cdFx0XHRcdGF0dHJpYnV0ZUlEID0gYXR0cmlidXRlSURzWyBhdHRyaWJ1dGVOYW1lIF07XG5cdFx0XHRcdGF0dHJpYnV0ZSA9IGRlY29kZXIuR2V0QXR0cmlidXRlQnlVbmlxdWVJZCggZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlSUQgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRhdHRyaWJ1dGVJRCA9IGRlY29kZXIuR2V0QXR0cmlidXRlSWQoIGRyYWNvR2VvbWV0cnksIGRyYWNvWyBhdHRyaWJ1dGVJRHNbIGF0dHJpYnV0ZU5hbWUgXSBdICk7XG5cblx0XHRcdFx0aWYgKCBhdHRyaWJ1dGVJRCA9PT0gLSAxICkgY29udGludWU7XG5cblx0XHRcdFx0YXR0cmlidXRlID0gZGVjb2Rlci5HZXRBdHRyaWJ1dGUoIGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZUlEICk7XG5cblx0XHRcdH1cblxuXHRcdFx0Z2VvbWV0cnkuYXR0cmlidXRlcy5wdXNoKCBkZWNvZGVBdHRyaWJ1dGUoIGRyYWNvLCBkZWNvZGVyLCBkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBhdHRyaWJ1dGUgKSApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gQWRkIGluZGV4LlxuXHRcdGlmICggZ2VvbWV0cnlUeXBlID09PSBkcmFjby5UUklBTkdVTEFSX01FU0ggKSB7XG5cblx0XHRcdC8vIEdlbmVyYXRlIG1lc2ggZmFjZXMuXG5cdFx0XHR2YXIgbnVtRmFjZXMgPSBkcmFjb0dlb21ldHJ5Lm51bV9mYWNlcygpO1xuXHRcdFx0dmFyIG51bUluZGljZXMgPSBudW1GYWNlcyAqIDM7XG5cdFx0XHR2YXIgaW5kZXggPSBuZXcgVWludDMyQXJyYXkoIG51bUluZGljZXMgKTtcblx0XHRcdHZhciBpbmRleEFycmF5ID0gbmV3IGRyYWNvLkRyYWNvSW50MzJBcnJheSgpO1xuXG5cdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBudW1GYWNlczsgKysgaSApIHtcblxuXHRcdFx0XHRkZWNvZGVyLkdldEZhY2VGcm9tTWVzaCggZHJhY29HZW9tZXRyeSwgaSwgaW5kZXhBcnJheSApO1xuXG5cdFx0XHRcdGZvciAoIHZhciBqID0gMDsgaiA8IDM7ICsrIGogKSB7XG5cblx0XHRcdFx0XHRpbmRleFsgaSAqIDMgKyBqIF0gPSBpbmRleEFycmF5LkdldFZhbHVlKCBqICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGdlb21ldHJ5LmluZGV4ID0geyBhcnJheTogaW5kZXgsIGl0ZW1TaXplOiAxIH07XG5cblx0XHRcdGRyYWNvLmRlc3Ryb3koIGluZGV4QXJyYXkgKTtcblxuXHRcdH1cblxuXHRcdGRyYWNvLmRlc3Ryb3koIGRyYWNvR2VvbWV0cnkgKTtcblxuXHRcdHJldHVybiBnZW9tZXRyeTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZGVjb2RlQXR0cmlidXRlKCBkcmFjbywgZGVjb2RlciwgZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgYXR0cmlidXRlICkge1xuXG5cdFx0dmFyIG51bUNvbXBvbmVudHMgPSBhdHRyaWJ1dGUubnVtX2NvbXBvbmVudHMoKTtcblx0XHR2YXIgbnVtUG9pbnRzID0gZHJhY29HZW9tZXRyeS5udW1fcG9pbnRzKCk7XG5cdFx0dmFyIG51bVZhbHVlcyA9IG51bVBvaW50cyAqIG51bUNvbXBvbmVudHM7XG5cdFx0dmFyIGRyYWNvQXJyYXk7XG5cblx0XHR2YXIgYXJyYXk7XG5cblx0XHRzd2l0Y2ggKCBhdHRyaWJ1dGVUeXBlICkge1xuXG5cdFx0XHRjYXNlIEZsb2F0MzJBcnJheTpcblx0XHRcdFx0ZHJhY29BcnJheSA9IG5ldyBkcmFjby5EcmFjb0Zsb2F0MzJBcnJheSgpO1xuXHRcdFx0XHRkZWNvZGVyLkdldEF0dHJpYnV0ZUZsb2F0Rm9yQWxsUG9pbnRzKCBkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGUsIGRyYWNvQXJyYXkgKTtcblx0XHRcdFx0YXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KCBudW1WYWx1ZXMgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgSW50OEFycmF5OlxuXHRcdFx0XHRkcmFjb0FycmF5ID0gbmV3IGRyYWNvLkRyYWNvSW50OEFycmF5KCk7XG5cdFx0XHRcdGRlY29kZXIuR2V0QXR0cmlidXRlSW50OEZvckFsbFBvaW50cyggZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlLCBkcmFjb0FycmF5ICk7XG5cdFx0XHRcdGFycmF5ID0gbmV3IEludDhBcnJheSggbnVtVmFsdWVzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIEludDE2QXJyYXk6XG5cdFx0XHRcdGRyYWNvQXJyYXkgPSBuZXcgZHJhY28uRHJhY29JbnQxNkFycmF5KCk7XG5cdFx0XHRcdGRlY29kZXIuR2V0QXR0cmlidXRlSW50MTZGb3JBbGxQb2ludHMoIGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZSwgZHJhY29BcnJheSApO1xuXHRcdFx0XHRhcnJheSA9IG5ldyBJbnQxNkFycmF5KCBudW1WYWx1ZXMgKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgSW50MzJBcnJheTpcblx0XHRcdFx0ZHJhY29BcnJheSA9IG5ldyBkcmFjby5EcmFjb0ludDMyQXJyYXkoKTtcblx0XHRcdFx0ZGVjb2Rlci5HZXRBdHRyaWJ1dGVJbnQzMkZvckFsbFBvaW50cyggZHJhY29HZW9tZXRyeSwgYXR0cmlidXRlLCBkcmFjb0FycmF5ICk7XG5cdFx0XHRcdGFycmF5ID0gbmV3IEludDMyQXJyYXkoIG51bVZhbHVlcyApO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBVaW50OEFycmF5OlxuXHRcdFx0XHRkcmFjb0FycmF5ID0gbmV3IGRyYWNvLkRyYWNvVUludDhBcnJheSgpO1xuXHRcdFx0XHRkZWNvZGVyLkdldEF0dHJpYnV0ZVVJbnQ4Rm9yQWxsUG9pbnRzKCBkcmFjb0dlb21ldHJ5LCBhdHRyaWJ1dGUsIGRyYWNvQXJyYXkgKTtcblx0XHRcdFx0YXJyYXkgPSBuZXcgVWludDhBcnJheSggbnVtVmFsdWVzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFVpbnQxNkFycmF5OlxuXHRcdFx0XHRkcmFjb0FycmF5ID0gbmV3IGRyYWNvLkRyYWNvVUludDE2QXJyYXkoKTtcblx0XHRcdFx0ZGVjb2Rlci5HZXRBdHRyaWJ1dGVVSW50MTZGb3JBbGxQb2ludHMoIGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZSwgZHJhY29BcnJheSApO1xuXHRcdFx0XHRhcnJheSA9IG5ldyBVaW50MTZBcnJheSggbnVtVmFsdWVzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFVpbnQzMkFycmF5OlxuXHRcdFx0XHRkcmFjb0FycmF5ID0gbmV3IGRyYWNvLkRyYWNvVUludDMyQXJyYXkoKTtcblx0XHRcdFx0ZGVjb2Rlci5HZXRBdHRyaWJ1dGVVSW50MzJGb3JBbGxQb2ludHMoIGRyYWNvR2VvbWV0cnksIGF0dHJpYnV0ZSwgZHJhY29BcnJheSApO1xuXHRcdFx0XHRhcnJheSA9IG5ldyBVaW50MzJBcnJheSggbnVtVmFsdWVzICk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5EUkFDT0xvYWRlcjogVW5leHBlY3RlZCBhdHRyaWJ1dGUgdHlwZS4nICk7XG5cblx0XHR9XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkgKysgKSB7XG5cblx0XHRcdGFycmF5WyBpIF0gPSBkcmFjb0FycmF5LkdldFZhbHVlKCBpICk7XG5cblx0XHR9XG5cblx0XHRkcmFjby5kZXN0cm95KCBkcmFjb0FycmF5ICk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogYXR0cmlidXRlTmFtZSxcblx0XHRcdGFycmF5OiBhcnJheSxcblx0XHRcdGl0ZW1TaXplOiBudW1Db21wb25lbnRzXG5cdFx0fTtcblxuXHR9XG5cbn07XG5cbi8qKiBEZXByZWNhdGVkIHN0YXRpYyBtZXRob2RzICovXG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuVEhSRUUuRFJBQ09Mb2FkZXIuc2V0RGVjb2RlclBhdGggPSBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc29sZS53YXJuKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IFRoZSAuc2V0RGVjb2RlclBhdGgoKSBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGluc3RhbmNlIG1ldGhvZHMuJyApO1xuXG59O1xuXG4vKiogQGRlcHJlY2F0ZWQgKi9cblRIUkVFLkRSQUNPTG9hZGVyLnNldERlY29kZXJDb25maWcgPSBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc29sZS53YXJuKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IFRoZSAuc2V0RGVjb2RlckNvbmZpZygpIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgaW5zdGFuY2UgbWV0aG9kcy4nICk7XG5cbn07XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuVEhSRUUuRFJBQ09Mb2FkZXIucmVsZWFzZURlY29kZXJNb2R1bGUgPSBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc29sZS53YXJuKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IFRoZSAucmVsZWFzZURlY29kZXJNb2R1bGUoKSBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGluc3RhbmNlIG1ldGhvZHMuJyApO1xuXG59O1xuXG4vKiogQGRlcHJlY2F0ZWQgKi9cblRIUkVFLkRSQUNPTG9hZGVyLmdldERlY29kZXJNb2R1bGUgPSBmdW5jdGlvbiAoKSB7XG5cblx0Y29uc29sZS53YXJuKCAnVEhSRUUuRFJBQ09Mb2FkZXI6IFRoZSAuZ2V0RGVjb2Rlck1vZHVsZSgpIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgaW5zdGFuY2UgbWV0aG9kcy4nICk7XG5cbn07XG5cbn0se31dLDM5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblRIUkVFLkdMVEZMb2FkZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe1RIUkVFLkxvYWRlci5jYWxsKHRoaXMsZSksdGhpcy5kcmFjb0xvYWRlcj1udWxsLHRoaXMuZGRzTG9hZGVyPW51bGx9ZnVuY3Rpb24gdCgpe3ZhciBlPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LGFkZDpmdW5jdGlvbih0LHIpe2VbdF09cn0scmVtb3ZlOmZ1bmN0aW9uKHQpe2RlbGV0ZSBlW3RdfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXtlPXt9fX19ZnVuY3Rpb24gcihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBBdHRlbXB0aW5nIHRvIGxvYWQgLmRkcyB0ZXh0dXJlIHdpdGhvdXQgaW1wb3J0aW5nIFRIUkVFLkREU0xvYWRlclwiKTt0aGlzLm5hbWU9eS5NU0ZUX1RFWFRVUkVfRERTLHRoaXMuZGRzTG9hZGVyPWV9ZnVuY3Rpb24gYShlKXt0aGlzLm5hbWU9eS5LSFJfTElHSFRTX1BVTkNUVUFMO3ZhciB0PWUuZXh0ZW5zaW9ucyYmZS5leHRlbnNpb25zW3kuS0hSX0xJR0hUU19QVU5DVFVBTF18fHt9O3RoaXMubGlnaHREZWZzPXQubGlnaHRzfHxbXX1mdW5jdGlvbiBuKCl7dGhpcy5uYW1lPXkuS0hSX01BVEVSSUFMU19VTkxJVH1mdW5jdGlvbiBzKGUpe3RoaXMubmFtZT15LktIUl9CSU5BUllfR0xURix0aGlzLmNvbnRlbnQ9bnVsbCx0aGlzLmJvZHk9bnVsbDt2YXIgdD1uZXcgRGF0YVZpZXcoZSwwLEEpO2lmKHRoaXMuaGVhZGVyPXttYWdpYzpUSFJFRS5Mb2FkZXJVdGlscy5kZWNvZGVUZXh0KG5ldyBVaW50OEFycmF5KGUuc2xpY2UoMCw0KSkpLHZlcnNpb246dC5nZXRVaW50MzIoNCwhMCksbGVuZ3RoOnQuZ2V0VWludDMyKDgsITApfSx0aGlzLmhlYWRlci5tYWdpYyE9PUwpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgZ2xURi1CaW5hcnkgaGVhZGVyLlwiKTtpZih0aGlzLmhlYWRlci52ZXJzaW9uPDIpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogTGVnYWN5IGJpbmFyeSBmaWxlIGRldGVjdGVkLlwiKTtmb3IodmFyIHI9bmV3IERhdGFWaWV3KGUsQSksYT0wO2E8ci5ieXRlTGVuZ3RoOyl7dmFyIG49ci5nZXRVaW50MzIoYSwhMCk7YSs9NDt2YXIgcz1yLmdldFVpbnQzMihhLCEwKTtpZihhKz00LHM9PT1ILkpTT04pe3ZhciBpPW5ldyBVaW50OEFycmF5KGUsQSthLG4pO3RoaXMuY29udGVudD1USFJFRS5Mb2FkZXJVdGlscy5kZWNvZGVUZXh0KGkpfWVsc2UgaWYocz09PUguQklOKXt2YXIgbz1BK2E7dGhpcy5ib2R5PWUuc2xpY2UobyxvK24pfWErPW59aWYobnVsbD09PXRoaXMuY29udGVudCl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBKU09OIGNvbnRlbnQgbm90IGZvdW5kLlwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuXCIpO3RoaXMubmFtZT15LktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OLHRoaXMuanNvbj1lLHRoaXMuZHJhY29Mb2FkZXI9dCx0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKX1mdW5jdGlvbiBvKCl7dGhpcy5uYW1lPXkuS0hSX1RFWFRVUkVfVFJBTlNGT1JNfWZ1bmN0aW9uIGwoKXtyZXR1cm57bmFtZTp5LktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1Msc3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zOltcImNvbG9yXCIsXCJtYXBcIixcImxpZ2h0TWFwXCIsXCJsaWdodE1hcEludGVuc2l0eVwiLFwiYW9NYXBcIixcImFvTWFwSW50ZW5zaXR5XCIsXCJlbWlzc2l2ZVwiLFwiZW1pc3NpdmVJbnRlbnNpdHlcIixcImVtaXNzaXZlTWFwXCIsXCJidW1wTWFwXCIsXCJidW1wU2NhbGVcIixcIm5vcm1hbE1hcFwiLFwiZGlzcGxhY2VtZW50TWFwXCIsXCJkaXNwbGFjZW1lbnRTY2FsZVwiLFwiZGlzcGxhY2VtZW50Qmlhc1wiLFwic3BlY3VsYXJNYXBcIixcInNwZWN1bGFyXCIsXCJnbG9zc2luZXNzTWFwXCIsXCJnbG9zc2luZXNzXCIsXCJhbHBoYU1hcFwiLFwiZW52TWFwXCIsXCJlbnZNYXBJbnRlbnNpdHlcIixcInJlZnJhY3Rpb25SYXRpb1wiXSxnZXRNYXRlcmlhbFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gVEhSRUUuU2hhZGVyTWF0ZXJpYWx9LGV4dGVuZFBhcmFtczpmdW5jdGlvbihlLHQscil7dmFyIGE9dC5leHRlbnNpb25zW3RoaXMubmFtZV0sbj1USFJFRS5TaGFkZXJMaWIuc3RhbmRhcmQscz1USFJFRS5Vbmlmb3Jtc1V0aWxzLmNsb25lKG4udW5pZm9ybXMpLGk9W1wiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFwiLFwiXFx0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7XCIsXCIjZW5kaWZcIl0uam9pbihcIlxcblwiKSxvPVtcIiNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUFwiLFwiXFx0dW5pZm9ybSBzYW1wbGVyMkQgZ2xvc3NpbmVzc01hcDtcIixcIiNlbmRpZlwiXS5qb2luKFwiXFxuXCIpLGw9W1widmVjMyBzcGVjdWxhckZhY3RvciA9IHNwZWN1bGFyO1wiLFwiI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFwiLFwiXFx0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7XCIsXCJcXHR0ZXhlbFNwZWN1bGFyID0gc1JHQlRvTGluZWFyKCB0ZXhlbFNwZWN1bGFyICk7XCIsXCJcXHQvLyByZWFkcyBjaGFubmVsIFJHQiwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlXCIsXCJcXHRzcGVjdWxhckZhY3RvciAqPSB0ZXhlbFNwZWN1bGFyLnJnYjtcIixcIiNlbmRpZlwiXS5qb2luKFwiXFxuXCIpLHA9W1wiZmxvYXQgZ2xvc3NpbmVzc0ZhY3RvciA9IGdsb3NzaW5lc3M7XCIsXCIjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVBcIixcIlxcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTtcIixcIlxcdC8vIHJlYWRzIGNoYW5uZWwgQSwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlXCIsXCJcXHRnbG9zc2luZXNzRmFjdG9yICo9IHRleGVsR2xvc3NpbmVzcy5hO1wiLFwiI2VuZGlmXCJdLmpvaW4oXCJcXG5cIiksdT1bXCJQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsO1wiLFwibWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjtcIixcIm1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gY2xhbXAoIDEuMCAtIGdsb3NzaW5lc3NGYWN0b3IsIDAuMDQsIDEuMCApO1wiLFwibWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyRmFjdG9yLnJnYjtcIl0uam9pbihcIlxcblwiKSxjPW4uZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcInVuaWZvcm0gZmxvYXQgcm91Z2huZXNzO1wiLFwidW5pZm9ybSB2ZWMzIHNwZWN1bGFyO1wiKS5yZXBsYWNlKFwidW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7XCIsXCJ1bmlmb3JtIGZsb2F0IGdsb3NzaW5lc3M7XCIpLnJlcGxhY2UoXCIjaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+XCIsaSkucmVwbGFjZShcIiNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfcGFyc19mcmFnbWVudD5cIixvKS5yZXBsYWNlKFwiI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD5cIixsKS5yZXBsYWNlKFwiI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9mcmFnbWVudD5cIixwKS5yZXBsYWNlKFwiI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD5cIix1KTtkZWxldGUgcy5yb3VnaG5lc3MsZGVsZXRlIHMubWV0YWxuZXNzLGRlbGV0ZSBzLnJvdWdobmVzc01hcCxkZWxldGUgcy5tZXRhbG5lc3NNYXAscy5zcGVjdWxhcj17dmFsdWU6KG5ldyBUSFJFRS5Db2xvcikuc2V0SGV4KDExMTg0ODEpfSxzLmdsb3NzaW5lc3M9e3ZhbHVlOi41fSxzLnNwZWN1bGFyTWFwPXt2YWx1ZTpudWxsfSxzLmdsb3NzaW5lc3NNYXA9e3ZhbHVlOm51bGx9LGUudmVydGV4U2hhZGVyPW4udmVydGV4U2hhZGVyLGUuZnJhZ21lbnRTaGFkZXI9YyxlLnVuaWZvcm1zPXMsZS5kZWZpbmVzPXtTVEFOREFSRDpcIlwifSxlLmNvbG9yPW5ldyBUSFJFRS5Db2xvcigxLDEsMSksZS5vcGFjaXR5PTE7dmFyIGQ9W107aWYoQXJyYXkuaXNBcnJheShhLmRpZmZ1c2VGYWN0b3IpKXt2YXIgaD1hLmRpZmZ1c2VGYWN0b3I7ZS5jb2xvci5mcm9tQXJyYXkoaCksZS5vcGFjaXR5PWhbM119aWYodm9pZCAwIT09YS5kaWZmdXNlVGV4dHVyZSYmZC5wdXNoKHIuYXNzaWduVGV4dHVyZShlLFwibWFwXCIsYS5kaWZmdXNlVGV4dHVyZSkpLGUuZW1pc3NpdmU9bmV3IFRIUkVFLkNvbG9yKDAsMCwwKSxlLmdsb3NzaW5lc3M9dm9pZCAwIT09YS5nbG9zc2luZXNzRmFjdG9yP2EuZ2xvc3NpbmVzc0ZhY3RvcjoxLGUuc3BlY3VsYXI9bmV3IFRIUkVFLkNvbG9yKDEsMSwxKSxBcnJheS5pc0FycmF5KGEuc3BlY3VsYXJGYWN0b3IpJiZlLnNwZWN1bGFyLmZyb21BcnJheShhLnNwZWN1bGFyRmFjdG9yKSx2b2lkIDAhPT1hLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUpe3ZhciBtPWEuc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZTtkLnB1c2goci5hc3NpZ25UZXh0dXJlKGUsXCJnbG9zc2luZXNzTWFwXCIsbSkpLGQucHVzaChyLmFzc2lnblRleHR1cmUoZSxcInNwZWN1bGFyTWFwXCIsbSkpfXJldHVybiBQcm9taXNlLmFsbChkKX0sY3JlYXRlTWF0ZXJpYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtkZWZpbmVzOmUuZGVmaW5lcyx2ZXJ0ZXhTaGFkZXI6ZS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ZS5mcmFnbWVudFNoYWRlcix1bmlmb3JtczplLnVuaWZvcm1zLGZvZzohMCxsaWdodHM6ITAsb3BhY2l0eTplLm9wYWNpdHksdHJhbnNwYXJlbnQ6ZS50cmFuc3BhcmVudH0pO3JldHVybiB0LmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsPSEwLHQuY29sb3I9ZS5jb2xvcix0Lm1hcD12b2lkIDA9PT1lLm1hcD9udWxsOmUubWFwLHQubGlnaHRNYXA9bnVsbCx0LmxpZ2h0TWFwSW50ZW5zaXR5PTEsdC5hb01hcD12b2lkIDA9PT1lLmFvTWFwP251bGw6ZS5hb01hcCx0LmFvTWFwSW50ZW5zaXR5PTEsdC5lbWlzc2l2ZT1lLmVtaXNzaXZlLHQuZW1pc3NpdmVJbnRlbnNpdHk9MSx0LmVtaXNzaXZlTWFwPXZvaWQgMD09PWUuZW1pc3NpdmVNYXA/bnVsbDplLmVtaXNzaXZlTWFwLHQuYnVtcE1hcD12b2lkIDA9PT1lLmJ1bXBNYXA/bnVsbDplLmJ1bXBNYXAsdC5idW1wU2NhbGU9MSx0Lm5vcm1hbE1hcD12b2lkIDA9PT1lLm5vcm1hbE1hcD9udWxsOmUubm9ybWFsTWFwLGUubm9ybWFsU2NhbGUmJih0Lm5vcm1hbFNjYWxlPWUubm9ybWFsU2NhbGUpLHQuZGlzcGxhY2VtZW50TWFwPW51bGwsdC5kaXNwbGFjZW1lbnRTY2FsZT0xLHQuZGlzcGxhY2VtZW50Qmlhcz0wLHQuc3BlY3VsYXJNYXA9dm9pZCAwPT09ZS5zcGVjdWxhck1hcD9udWxsOmUuc3BlY3VsYXJNYXAsdC5zcGVjdWxhcj1lLnNwZWN1bGFyLHQuZ2xvc3NpbmVzc01hcD12b2lkIDA9PT1lLmdsb3NzaW5lc3NNYXA/bnVsbDplLmdsb3NzaW5lc3NNYXAsdC5nbG9zc2luZXNzPWUuZ2xvc3NpbmVzcyx0LmFscGhhTWFwPW51bGwsdC5lbnZNYXA9dm9pZCAwPT09ZS5lbnZNYXA/bnVsbDplLmVudk1hcCx0LmVudk1hcEludGVuc2l0eT0xLHQucmVmcmFjdGlvblJhdGlvPS45OCx0LmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXM9ITAsdH0sY2xvbmVNYXRlcmlhbDpmdW5jdGlvbihlKXt2YXIgdD1lLmNsb25lKCk7dC5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbD0hMDtmb3IodmFyIHI9dGhpcy5zcGVjdWxhckdsb3NzaW5lc3NQYXJhbXMsYT0wLG49ci5sZW5ndGg7YTxuO2ErKyl7dmFyIHM9ZVtyW2FdXTt0W3JbYV1dPXMmJnMuaXNDb2xvcj9zLmNsb25lKCk6c31yZXR1cm4gdH0scmVmcmVzaFVuaWZvcm1zOmZ1bmN0aW9uKGUsdCxyLGEsbil7aWYoITA9PT1uLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsKXt2YXIgcz1uLnVuaWZvcm1zLGk9bi5kZWZpbmVzO3Mub3BhY2l0eS52YWx1ZT1uLm9wYWNpdHkscy5kaWZmdXNlLnZhbHVlLmNvcHkobi5jb2xvcikscy5lbWlzc2l2ZS52YWx1ZS5jb3B5KG4uZW1pc3NpdmUpLm11bHRpcGx5U2NhbGFyKG4uZW1pc3NpdmVJbnRlbnNpdHkpLHMubWFwLnZhbHVlPW4ubWFwLHMuc3BlY3VsYXJNYXAudmFsdWU9bi5zcGVjdWxhck1hcCxzLmFscGhhTWFwLnZhbHVlPW4uYWxwaGFNYXAscy5saWdodE1hcC52YWx1ZT1uLmxpZ2h0TWFwLHMubGlnaHRNYXBJbnRlbnNpdHkudmFsdWU9bi5saWdodE1hcEludGVuc2l0eSxzLmFvTWFwLnZhbHVlPW4uYW9NYXAscy5hb01hcEludGVuc2l0eS52YWx1ZT1uLmFvTWFwSW50ZW5zaXR5O3ZhciBvO24ubWFwP289bi5tYXA6bi5zcGVjdWxhck1hcD9vPW4uc3BlY3VsYXJNYXA6bi5kaXNwbGFjZW1lbnRNYXA/bz1uLmRpc3BsYWNlbWVudE1hcDpuLm5vcm1hbE1hcD9vPW4ubm9ybWFsTWFwOm4uYnVtcE1hcD9vPW4uYnVtcE1hcDpuLmdsb3NzaW5lc3NNYXA/bz1uLmdsb3NzaW5lc3NNYXA6bi5hbHBoYU1hcD9vPW4uYWxwaGFNYXA6bi5lbWlzc2l2ZU1hcCYmKG89bi5lbWlzc2l2ZU1hcCksdm9pZCAwIT09byYmKG8uaXNXZWJHTFJlbmRlclRhcmdldCYmKG89by50ZXh0dXJlKSwhMD09PW8ubWF0cml4QXV0b1VwZGF0ZSYmby51cGRhdGVNYXRyaXgoKSxzLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkoby5tYXRyaXgpKSxuLmVudk1hcCYmKHMuZW52TWFwLnZhbHVlPW4uZW52TWFwLHMuZW52TWFwSW50ZW5zaXR5LnZhbHVlPW4uZW52TWFwSW50ZW5zaXR5LHMuZmxpcEVudk1hcC52YWx1ZT1uLmVudk1hcC5pc0N1YmVUZXh0dXJlPy0xOjEscy5yZWZsZWN0aXZpdHkudmFsdWU9bi5yZWZsZWN0aXZpdHkscy5yZWZyYWN0aW9uUmF0aW8udmFsdWU9bi5yZWZyYWN0aW9uUmF0aW8scy5tYXhNaXBMZXZlbC52YWx1ZT1lLnByb3BlcnRpZXMuZ2V0KG4uZW52TWFwKS5fX21heE1pcExldmVsKSxzLnNwZWN1bGFyLnZhbHVlLmNvcHkobi5zcGVjdWxhcikscy5nbG9zc2luZXNzLnZhbHVlPW4uZ2xvc3NpbmVzcyxzLmdsb3NzaW5lc3NNYXAudmFsdWU9bi5nbG9zc2luZXNzTWFwLHMuZW1pc3NpdmVNYXAudmFsdWU9bi5lbWlzc2l2ZU1hcCxzLmJ1bXBNYXAudmFsdWU9bi5idW1wTWFwLHMubm9ybWFsTWFwLnZhbHVlPW4ubm9ybWFsTWFwLHMuZGlzcGxhY2VtZW50TWFwLnZhbHVlPW4uZGlzcGxhY2VtZW50TWFwLHMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bi5kaXNwbGFjZW1lbnRTY2FsZSxzLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9bi5kaXNwbGFjZW1lbnRCaWFzLG51bGwhPT1zLmdsb3NzaW5lc3NNYXAudmFsdWUmJnZvaWQgMD09PWkuVVNFX0dMT1NTSU5FU1NNQVAmJihpLlVTRV9HTE9TU0lORVNTTUFQPVwiXCIsaS5VU0VfUk9VR0hORVNTTUFQPVwiXCIpLG51bGw9PT1zLmdsb3NzaW5lc3NNYXAudmFsdWUmJnZvaWQgMCE9PWkuVVNFX0dMT1NTSU5FU1NNQVAmJihkZWxldGUgaS5VU0VfR0xPU1NJTkVTU01BUCxkZWxldGUgaS5VU0VfUk9VR0hORVNTTUFQKX19fX1mdW5jdGlvbiBwKCl7dGhpcy5uYW1lPXkuS0hSX01FU0hfUVVBTlRJWkFUSU9OfWZ1bmN0aW9uIHUoZSx0LHIsYSl7VEhSRUUuSW50ZXJwb2xhbnQuY2FsbCh0aGlzLGUsdCxyLGEpfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZXx8XCJcIj09PWU/XCJcIjooL15odHRwcz86XFwvXFwvL2kudGVzdCh0KSYmL15cXC8vLnRlc3QoZSkmJih0PXQucmVwbGFjZSgvKF5odHRwcz86XFwvXFwvW15cXC9dKykuKi9pLFwiJDFcIikpLC9eKGh0dHBzPzopP1xcL1xcLy9pLnRlc3QoZSk/ZTovXmRhdGE6LiosLiokL2kudGVzdChlKT9lOi9eYmxvYjouKiQvaS50ZXN0KGUpP2U6dCtlKX1mdW5jdGlvbiBkKGUpe3JldHVybiB2b2lkIDA9PT1lLkRlZmF1bHRNYXRlcmlhbCYmKGUuRGVmYXVsdE1hdGVyaWFsPW5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7Y29sb3I6MTY3NzcyMTUsZW1pc3NpdmU6MCxtZXRhbG5lc3M6MSxyb3VnaG5lc3M6MSx0cmFuc3BhcmVudDohMSxkZXB0aFRlc3Q6ITAsc2lkZTpUSFJFRS5Gcm9udFNpZGV9KSksZS5EZWZhdWx0TWF0ZXJpYWx9ZnVuY3Rpb24gaChlLHQscil7Zm9yKHZhciBhIGluIHIuZXh0ZW5zaW9ucyl2b2lkIDA9PT1lW2FdJiYodC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucz10LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zfHx7fSx0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zW2FdPXIuZXh0ZW5zaW9uc1thXSl9ZnVuY3Rpb24gbShlLHQpe3ZvaWQgMCE9PXQuZXh0cmFzJiYoXCJvYmplY3RcIj09dHlwZW9mIHQuZXh0cmFzP09iamVjdC5hc3NpZ24oZS51c2VyRGF0YSx0LmV4dHJhcyk6Y29uc29sZS53YXJuKFwiVEhSRUUuR0xURkxvYWRlcjogSWdub3JpbmcgcHJpbWl0aXZlIHR5cGUgLmV4dHJhcywgXCIrdC5leHRyYXMpKX1mdW5jdGlvbiBmKGUsdCxyKXtmb3IodmFyIGE9ITEsbj0hMSxzPTAsaT10Lmxlbmd0aDtzPGk7cysrKXt2YXIgbz10W3NdO2lmKHZvaWQgMCE9PW8uUE9TSVRJT04mJihhPSEwKSx2b2lkIDAhPT1vLk5PUk1BTCYmKG49ITApLGEmJm4pYnJlYWt9aWYoIWEmJiFuKXJldHVybiBQcm9taXNlLnJlc29sdmUoZSk7Zm9yKHZhciBsPVtdLHA9W10scz0wLGk9dC5sZW5ndGg7czxpO3MrKyl7dmFyIG89dFtzXTtpZihhKXt2YXIgdT12b2lkIDAhPT1vLlBPU0lUSU9OP3IuZ2V0RGVwZW5kZW5jeShcImFjY2Vzc29yXCIsby5QT1NJVElPTik6ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uO2wucHVzaCh1KX1pZihuKXt2YXIgdT12b2lkIDAhPT1vLk5PUk1BTD9yLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLG8uTk9STUFMKTplLmF0dHJpYnV0ZXMubm9ybWFsO3AucHVzaCh1KX19cmV0dXJuIFByb21pc2UuYWxsKFtQcm9taXNlLmFsbChsKSxQcm9taXNlLmFsbChwKV0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9dFswXSxzPXRbMV07cmV0dXJuIGEmJihlLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbj1yKSxuJiYoZS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsPXMpLGUubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITAsZX0pfWZ1bmN0aW9uIEUoZSx0KXtpZihlLnVwZGF0ZU1vcnBoVGFyZ2V0cygpLHZvaWQgMCE9PXQud2VpZ2h0cylmb3IodmFyIHI9MCxhPXQud2VpZ2h0cy5sZW5ndGg7cjxhO3IrKyllLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tyXT10LndlaWdodHNbcl07aWYodC5leHRyYXMmJkFycmF5LmlzQXJyYXkodC5leHRyYXMudGFyZ2V0TmFtZXMpKXt2YXIgbj10LmV4dHJhcy50YXJnZXROYW1lcztpZihlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGg9PT1uLmxlbmd0aCl7ZS5tb3JwaFRhcmdldERpY3Rpb25hcnk9e307Zm9yKHZhciByPTAsYT1uLmxlbmd0aDtyPGE7cisrKWUubW9ycGhUYXJnZXREaWN0aW9uYXJ5W25bcl1dPXJ9ZWxzZSBjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGTG9hZGVyOiBJbnZhbGlkIGV4dHJhcy50YXJnZXROYW1lcyBsZW5ndGguIElnbm9yaW5nIG5hbWVzLlwiKX19ZnVuY3Rpb24gdihlKXt2YXIgdD1lLmV4dGVuc2lvbnMmJmUuZXh0ZW5zaW9uc1t5LktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXTtyZXR1cm4gdD9cImRyYWNvOlwiK3QuYnVmZmVyVmlldytcIjpcIit0LmluZGljZXMrXCI6XCIrVCh0LmF0dHJpYnV0ZXMpOmUuaW5kaWNlcytcIjpcIitUKGUuYXR0cmlidXRlcykrXCI6XCIrZS5tb2RlfWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0PVwiXCIscj1PYmplY3Qua2V5cyhlKS5zb3J0KCksYT0wLG49ci5sZW5ndGg7YTxuO2ErKyl0Kz1yW2FdK1wiOlwiK2VbclthXV0rXCI7XCI7cmV0dXJuIHR9ZnVuY3Rpb24gZyhlLHIsYSl7dGhpcy5qc29uPWV8fHt9LHRoaXMuZXh0ZW5zaW9ucz1yfHx7fSx0aGlzLm9wdGlvbnM9YXx8e30sdGhpcy5jYWNoZT1uZXcgdCx0aGlzLnByaW1pdGl2ZUNhY2hlPXt9LHRoaXMudGV4dHVyZUxvYWRlcj1uZXcgVEhSRUUuVGV4dHVyZUxvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlciksdGhpcy50ZXh0dXJlTG9hZGVyLnNldENyb3NzT3JpZ2luKHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiksdGhpcy5maWxlTG9hZGVyPW5ldyBUSFJFRS5GaWxlTG9hZGVyKHRoaXMub3B0aW9ucy5tYW5hZ2VyKSx0aGlzLmZpbGVMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFwiYXJyYXlidWZmZXJcIiksXCJ1c2UtY3JlZGVudGlhbHNcIj09PXRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiYmdGhpcy5maWxlTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyghMCl9ZnVuY3Rpb24gUihlLHQscil7dmFyIGE9dC5hdHRyaWJ1dGVzLG49bmV3IFRIUkVFLkJveDM7aWYodm9pZCAwIT09YS5QT1NJVElPTil7dmFyIHM9ci5qc29uLmFjY2Vzc29yc1thLlBPU0lUSU9OXSxpPXMubWluLG89cy5tYXg7bi5zZXQobmV3IFRIUkVFLlZlY3RvcjMoaVswXSxpWzFdLGlbMl0pLG5ldyBUSFJFRS5WZWN0b3IzKG9bMF0sb1sxXSxvWzJdKSk7dmFyIGw9dC50YXJnZXRzO2lmKHZvaWQgMCE9PWwpZm9yKHZhciBwPW5ldyBUSFJFRS5WZWN0b3IzLHU9MCxjPWwubGVuZ3RoO3U8Yzt1Kyspe3ZhciBkPWxbdV07aWYodm9pZCAwIT09ZC5QT1NJVElPTil7dmFyIHM9ci5qc29uLmFjY2Vzc29yc1tkLlBPU0lUSU9OXSxpPXMubWluLG89cy5tYXg7cC5zZXRYKE1hdGgubWF4KE1hdGguYWJzKGlbMF0pLE1hdGguYWJzKG9bMF0pKSkscC5zZXRZKE1hdGgubWF4KE1hdGguYWJzKGlbMV0pLE1hdGguYWJzKG9bMV0pKSkscC5zZXRaKE1hdGgubWF4KE1hdGguYWJzKGlbMl0pLE1hdGguYWJzKG9bMl0pKSksbi5leHBhbmRCeVZlY3RvcihwKX19ZS5ib3VuZGluZ0JveD1uO3ZhciBoPW5ldyBUSFJFRS5TcGhlcmU7bi5nZXRDZW50ZXIoaC5jZW50ZXIpLGgucmFkaXVzPW4ubWluLmRpc3RhbmNlVG8obi5tYXgpLzIsZS5ib3VuZGluZ1NwaGVyZT1ofX1mdW5jdGlvbiBNKGUsdCxyKXt2YXIgYT10LmF0dHJpYnV0ZXMsbj1bXTtmb3IodmFyIHMgaW4gYSl7dmFyIGk9UFtzXXx8cy50b0xvd2VyQ2FzZSgpO2kgaW4gZS5hdHRyaWJ1dGVzfHxuLnB1c2goZnVuY3Rpb24odCxhKXtyZXR1cm4gci5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIix0KS50aGVuKGZ1bmN0aW9uKHQpe2Uuc2V0QXR0cmlidXRlKGEsdCl9KX0oYVtzXSxpKSl9aWYodm9pZCAwIT09dC5pbmRpY2VzJiYhZS5pbmRleCl7dmFyIG89ci5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIix0LmluZGljZXMpLnRoZW4oZnVuY3Rpb24odCl7ZS5zZXRJbmRleCh0KX0pO24ucHVzaChvKX1yZXR1cm4gbShlLHQpLFIoZSx0LHIpLFByb21pc2UuYWxsKG4pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dC50YXJnZXRzP2YoZSx0LnRhcmdldHMscik6ZX0pfWZ1bmN0aW9uIFMoZSx0KXt2YXIgcj1lLmdldEluZGV4KCk7aWYobnVsbD09PXIpe3ZhciBhPVtdLG49ZS5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKTtpZih2b2lkIDA9PT1uKXJldHVybiBjb25zb2xlLmVycm9yKFwiVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLlwiKSxlO2Zvcih2YXIgcz0wO3M8bi5jb3VudDtzKyspYS5wdXNoKHMpO2Uuc2V0SW5kZXgoYSkscj1lLmdldEluZGV4KCl9dmFyIGk9ci5jb3VudC0yLG89W107aWYodD09PVRIUkVFLlRyaWFuZ2xlRmFuRHJhd01vZGUpZm9yKHZhciBzPTE7czw9aTtzKyspby5wdXNoKHIuZ2V0WCgwKSksby5wdXNoKHIuZ2V0WChzKSksby5wdXNoKHIuZ2V0WChzKzEpKTtlbHNlIGZvcih2YXIgcz0wO3M8aTtzKyspcyUyPT0wPyhvLnB1c2goci5nZXRYKHMpKSxvLnB1c2goci5nZXRYKHMrMSkpLG8ucHVzaChyLmdldFgocysyKSkpOihvLnB1c2goci5nZXRYKHMrMikpLG8ucHVzaChyLmdldFgocysxKSksby5wdXNoKHIuZ2V0WChzKSkpO28ubGVuZ3RoLzMhPT1pJiZjb25zb2xlLmVycm9yKFwiVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuXCIpO3ZhciBsPWUuY2xvbmUoKTtyZXR1cm4gbC5zZXRJbmRleChvKSxsfWUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShUSFJFRS5Mb2FkZXIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6ZSxsb2FkOmZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBuLHM9dGhpcztuPVwiXCIhPT10aGlzLnJlc291cmNlUGF0aD90aGlzLnJlc291cmNlUGF0aDpcIlwiIT09dGhpcy5wYXRoP3RoaXMucGF0aDpUSFJFRS5Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZShlKSxzLm1hbmFnZXIuaXRlbVN0YXJ0KGUpO3ZhciBpPWZ1bmN0aW9uKHQpe2E/YSh0KTpjb25zb2xlLmVycm9yKHQpLHMubWFuYWdlci5pdGVtRXJyb3IoZSkscy5tYW5hZ2VyLml0ZW1FbmQoZSl9LG89bmV3IFRIUkVFLkZpbGVMb2FkZXIocy5tYW5hZ2VyKTtvLnNldFBhdGgodGhpcy5wYXRoKSxvLnNldFJlc3BvbnNlVHlwZShcImFycmF5YnVmZmVyXCIpLFwidXNlLWNyZWRlbnRpYWxzXCI9PT1zLmNyb3NzT3JpZ2luJiZvLnNldFdpdGhDcmVkZW50aWFscyghMCksby5sb2FkKGUsZnVuY3Rpb24ocil7dHJ5e3MucGFyc2UocixuLGZ1bmN0aW9uKHIpe3Qocikscy5tYW5hZ2VyLml0ZW1FbmQoZSl9LGkpfWNhdGNoKGUpe2koZSl9fSxyLGkpfSxzZXREUkFDT0xvYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kcmFjb0xvYWRlcj1lLHRoaXN9LHNldEREU0xvYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kZHNMb2FkZXI9ZSx0aGlzfSxwYXJzZTpmdW5jdGlvbihlLHQsdSxjKXt2YXIgZCxoPXt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWQ9ZTtlbHNle2lmKFRIUkVFLkxvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZSwwLDQpKT09PUwpe3RyeXtoW3kuS0hSX0JJTkFSWV9HTFRGXT1uZXcgcyhlKX1jYXRjaChlKXtyZXR1cm4gdm9pZChjJiZjKGUpKX1kPWhbeS5LSFJfQklOQVJZX0dMVEZdLmNvbnRlbnR9ZWxzZSBkPVRIUkVFLkxvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZSkpfXZhciBtPUpTT04ucGFyc2UoZCk7aWYodm9pZCAwPT09bS5hc3NldHx8bS5hc3NldC52ZXJzaW9uWzBdPDIpcmV0dXJuIHZvaWQoYyYmYyhuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBhc3NldC4gZ2xURiB2ZXJzaW9ucyA+PTIuMCBhcmUgc3VwcG9ydGVkLlwiKSkpO2lmKG0uZXh0ZW5zaW9uc1VzZWQpZm9yKHZhciBmPTA7ZjxtLmV4dGVuc2lvbnNVc2VkLmxlbmd0aDsrK2Ype3ZhciBFPW0uZXh0ZW5zaW9uc1VzZWRbZl0sdj1tLmV4dGVuc2lvbnNSZXF1aXJlZHx8W107c3dpdGNoKEUpe2Nhc2UgeS5LSFJfTElHSFRTX1BVTkNUVUFMOmhbRV09bmV3IGEobSk7YnJlYWs7Y2FzZSB5LktIUl9NQVRFUklBTFNfVU5MSVQ6aFtFXT1uZXcgbjticmVhaztjYXNlIHkuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzpoW0VdPW5ldyBsO2JyZWFrO2Nhc2UgeS5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjpoW0VdPW5ldyBpKG0sdGhpcy5kcmFjb0xvYWRlcik7YnJlYWs7Y2FzZSB5Lk1TRlRfVEVYVFVSRV9ERFM6aFtFXT1uZXcgcih0aGlzLmRkc0xvYWRlcik7YnJlYWs7Y2FzZSB5LktIUl9URVhUVVJFX1RSQU5TRk9STTpoW0VdPW5ldyBvO2JyZWFrO2Nhc2UgeS5LSFJfTUVTSF9RVUFOVElaQVRJT046aFtFXT1uZXcgcDticmVhaztkZWZhdWx0OnYuaW5kZXhPZihFKT49MCYmY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBVbmtub3duIGV4dGVuc2lvbiBcIicrRSsnXCIuJyl9fW5ldyBnKG0saCx7cGF0aDp0fHx0aGlzLnJlc291cmNlUGF0aHx8XCJcIixjcm9zc09yaWdpbjp0aGlzLmNyb3NzT3JpZ2luLG1hbmFnZXI6dGhpcy5tYW5hZ2VyfSkucGFyc2UodSxjKX19KTt2YXIgeT17S0hSX0JJTkFSWV9HTFRGOlwiS0hSX2JpbmFyeV9nbFRGXCIsS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046XCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvblwiLEtIUl9MSUdIVFNfUFVOQ1RVQUw6XCJLSFJfbGlnaHRzX3B1bmN0dWFsXCIsS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzpcIktIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzXCIsS0hSX01BVEVSSUFMU19VTkxJVDpcIktIUl9tYXRlcmlhbHNfdW5saXRcIixLSFJfVEVYVFVSRV9UUkFOU0ZPUk06XCJLSFJfdGV4dHVyZV90cmFuc2Zvcm1cIixLSFJfTUVTSF9RVUFOVElaQVRJT046XCJLSFJfbWVzaF9xdWFudGl6YXRpb25cIixNU0ZUX1RFWFRVUkVfRERTOlwiTVNGVF90ZXh0dXJlX2Rkc1wifTthLnByb3RvdHlwZS5sb2FkTGlnaHQ9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLmxpZ2h0RGVmc1tlXSxhPW5ldyBUSFJFRS5Db2xvcigxNjc3NzIxNSk7dm9pZCAwIT09ci5jb2xvciYmYS5mcm9tQXJyYXkoci5jb2xvcik7dmFyIG49dm9pZCAwIT09ci5yYW5nZT9yLnJhbmdlOjA7c3dpdGNoKHIudHlwZSl7Y2FzZVwiZGlyZWN0aW9uYWxcIjp0PW5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KGEpLHQudGFyZ2V0LnBvc2l0aW9uLnNldCgwLDAsLTEpLHQuYWRkKHQudGFyZ2V0KTticmVhaztjYXNlXCJwb2ludFwiOnQ9bmV3IFRIUkVFLlBvaW50TGlnaHQoYSksdC5kaXN0YW5jZT1uO2JyZWFrO2Nhc2VcInNwb3RcIjp0PW5ldyBUSFJFRS5TcG90TGlnaHQoYSksdC5kaXN0YW5jZT1uLHIuc3BvdD1yLnNwb3R8fHt9LHIuc3BvdC5pbm5lckNvbmVBbmdsZT12b2lkIDAhPT1yLnNwb3QuaW5uZXJDb25lQW5nbGU/ci5zcG90LmlubmVyQ29uZUFuZ2xlOjAsci5zcG90Lm91dGVyQ29uZUFuZ2xlPXZvaWQgMCE9PXIuc3BvdC5vdXRlckNvbmVBbmdsZT9yLnNwb3Qub3V0ZXJDb25lQW5nbGU6TWF0aC5QSS80LHQuYW5nbGU9ci5zcG90Lm91dGVyQ29uZUFuZ2xlLHQucGVudW1icmE9MS1yLnNwb3QuaW5uZXJDb25lQW5nbGUvci5zcG90Lm91dGVyQ29uZUFuZ2xlLHQudGFyZ2V0LnBvc2l0aW9uLnNldCgwLDAsLTEpLHQuYWRkKHQudGFyZ2V0KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5leHBlY3RlZCBsaWdodCB0eXBlLCBcIicrci50eXBlKydcIi4nKX1yZXR1cm4gdC5wb3NpdGlvbi5zZXQoMCwwLDApLHQuZGVjYXk9Mix2b2lkIDAhPT1yLmludGVuc2l0eSYmKHQuaW50ZW5zaXR5PXIuaW50ZW5zaXR5KSx0Lm5hbWU9ci5uYW1lfHxcImxpZ2h0X1wiK2UsUHJvbWlzZS5yZXNvbHZlKHQpfSxuLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWx9LG4ucHJvdG90eXBlLmV4dGVuZFBhcmFtcz1mdW5jdGlvbihlLHQscil7dmFyIGE9W107ZS5jb2xvcj1uZXcgVEhSRUUuQ29sb3IoMSwxLDEpLGUub3BhY2l0eT0xO3ZhciBuPXQucGJyTWV0YWxsaWNSb3VnaG5lc3M7aWYobil7aWYoQXJyYXkuaXNBcnJheShuLmJhc2VDb2xvckZhY3Rvcikpe3ZhciBzPW4uYmFzZUNvbG9yRmFjdG9yO2UuY29sb3IuZnJvbUFycmF5KHMpLGUub3BhY2l0eT1zWzNdfXZvaWQgMCE9PW4uYmFzZUNvbG9yVGV4dHVyZSYmYS5wdXNoKHIuYXNzaWduVGV4dHVyZShlLFwibWFwXCIsbi5iYXNlQ29sb3JUZXh0dXJlKSl9cmV0dXJuIFByb21pc2UuYWxsKGEpfTt2YXIgTD1cImdsVEZcIixBPTEyLEg9e0pTT046MTMxMzgyMTUxNCxCSU46NTEzMDU2Mn07aS5wcm90b3R5cGUuZGVjb2RlUHJpbWl0aXZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5qc29uLGE9dGhpcy5kcmFjb0xvYWRlcixuPWUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmJ1ZmZlclZpZXcscz1lLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5hdHRyaWJ1dGVzLGk9e30sbz17fSxsPXt9O2Zvcih2YXIgcCBpbiBzKXt2YXIgdT1QW3BdfHxwLnRvTG93ZXJDYXNlKCk7aVt1XT1zW3BdfWZvcihwIGluIGUuYXR0cmlidXRlcyl7dmFyIHU9UFtwXXx8cC50b0xvd2VyQ2FzZSgpO2lmKHZvaWQgMCE9PXNbcF0pe3ZhciBjPXIuYWNjZXNzb3JzW2UuYXR0cmlidXRlc1twXV0sZD14W2MuY29tcG9uZW50VHlwZV07bFt1XT1kLG9bdV09ITA9PT1jLm5vcm1hbGl6ZWR9fXJldHVybiB0LmdldERlcGVuZGVuY3koXCJidWZmZXJWaWV3XCIsbikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCl7YS5kZWNvZGVEcmFjb0ZpbGUoZSxmdW5jdGlvbihlKXtmb3IodmFyIHIgaW4gZS5hdHRyaWJ1dGVzKXt2YXIgYT1lLmF0dHJpYnV0ZXNbcl0sbj1vW3JdO3ZvaWQgMCE9PW4mJihhLm5vcm1hbGl6ZWQ9bil9dChlKX0saSxsKX0pfSl9LG8ucHJvdG90eXBlLmV4dGVuZFRleHR1cmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lLmNsb25lKCksdm9pZCAwIT09dC5vZmZzZXQmJmUub2Zmc2V0LmZyb21BcnJheSh0Lm9mZnNldCksdm9pZCAwIT09dC5yb3RhdGlvbiYmKGUucm90YXRpb249dC5yb3RhdGlvbiksdm9pZCAwIT09dC5zY2FsZSYmZS5yZXBlYXQuZnJvbUFycmF5KHQuc2NhbGUpLHZvaWQgMCE9PXQudGV4Q29vcmQmJmNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldHMgaW4gXCInK3RoaXMubmFtZSsnXCIgZXh0ZW5zaW9uIG5vdCB5ZXQgc3VwcG9ydGVkLicpLGUubmVlZHNVcGRhdGU9ITAsZX0sdS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5JbnRlcnBvbGFudC5wcm90b3R5cGUpLHUucHJvdG90eXBlLmNvbnN0cnVjdG9yPXUsdS5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5yZXN1bHRCdWZmZXIscj10aGlzLnNhbXBsZVZhbHVlcyxhPXRoaXMudmFsdWVTaXplLG49ZSphKjMrYSxzPTA7cyE9PWE7cysrKXRbc109cltuK3NdO3JldHVybiB0fSx1LnByb3RvdHlwZS5iZWZvcmVTdGFydF89dS5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXyx1LnByb3RvdHlwZS5hZnRlckVuZF89dS5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXyx1LnByb3RvdHlwZS5pbnRlcnBvbGF0ZV89ZnVuY3Rpb24oZSx0LHIsYSl7Zm9yKHZhciBuPXRoaXMucmVzdWx0QnVmZmVyLHM9dGhpcy5zYW1wbGVWYWx1ZXMsaT10aGlzLnZhbHVlU2l6ZSxvPTIqaSxsPTMqaSxwPWEtdCx1PShyLXQpL3AsYz11KnUsZD1jKnUsaD1lKmwsbT1oLWwsZj0tMipkKzMqYyxFPWQtYyx2PTEtZixUPUUtYyt1LGc9MDtnIT09aTtnKyspe3ZhciBSPXNbbStnK2ldLE09c1ttK2crb10qcCxTPXNbaCtnK2ldLHk9c1toK2ddKnA7bltnXT12KlIrVCpNK2YqUytFKnl9cmV0dXJuIG59O3ZhciBfPXtGTE9BVDo1MTI2LEZMT0FUX01BVDM6MzU2NzUsRkxPQVRfTUFUNDozNTY3NixGTE9BVF9WRUMyOjM1NjY0LEZMT0FUX1ZFQzM6MzU2NjUsRkxPQVRfVkVDNDozNTY2NixMSU5FQVI6OTcyOSxSRVBFQVQ6MTA0OTcsU0FNUExFUl8yRDozNTY3OCxQT0lOVFM6MCxMSU5FUzoxLExJTkVfTE9PUDoyLExJTkVfU1RSSVA6MyxUUklBTkdMRVM6NCxUUklBTkdMRV9TVFJJUDo1LFRSSUFOR0xFX0ZBTjo2LFVOU0lHTkVEX0JZVEU6NTEyMSxVTlNJR05FRF9TSE9SVDo1MTIzfSx4PXs1MTIwOkludDhBcnJheSw1MTIxOlVpbnQ4QXJyYXksNTEyMjpJbnQxNkFycmF5LDUxMjM6VWludDE2QXJyYXksNTEyNTpVaW50MzJBcnJheSw1MTI2OkZsb2F0MzJBcnJheX0sdz17OTcyODpUSFJFRS5OZWFyZXN0RmlsdGVyLDk3Mjk6VEhSRUUuTGluZWFyRmlsdGVyLDk5ODQ6VEhSRUUuTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsOTk4NTpUSFJFRS5MaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLDk5ODY6VEhSRUUuTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlciw5OTg3OlRIUkVFLkxpbmVhck1pcG1hcExpbmVhckZpbHRlcn0sYj17MzMwNzE6VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZywzMzY0ODpUSFJFRS5NaXJyb3JlZFJlcGVhdFdyYXBwaW5nLDEwNDk3OlRIUkVFLlJlcGVhdFdyYXBwaW5nfSxJPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LFA9e1BPU0lUSU9OOlwicG9zaXRpb25cIixOT1JNQUw6XCJub3JtYWxcIixUQU5HRU5UOlwidGFuZ2VudFwiLFRFWENPT1JEXzA6XCJ1dlwiLFRFWENPT1JEXzE6XCJ1djJcIixDT0xPUl8wOlwiY29sb3JcIixXRUlHSFRTXzA6XCJza2luV2VpZ2h0XCIsSk9JTlRTXzA6XCJza2luSW5kZXhcIn0sTj17c2NhbGU6XCJzY2FsZVwiLHRyYW5zbGF0aW9uOlwicG9zaXRpb25cIixyb3RhdGlvbjpcInF1YXRlcm5pb25cIix3ZWlnaHRzOlwibW9ycGhUYXJnZXRJbmZsdWVuY2VzXCJ9LE89e0NVQklDU1BMSU5FOnZvaWQgMCxMSU5FQVI6VEhSRUUuSW50ZXJwb2xhdGVMaW5lYXIsU1RFUDpUSFJFRS5JbnRlcnBvbGF0ZURpc2NyZXRlfSxVPXtPUEFRVUU6XCJPUEFRVUVcIixNQVNLOlwiTUFTS1wiLEJMRU5EOlwiQkxFTkRcIn0sRj17XCJpbWFnZS9wbmdcIjpUSFJFRS5SR0JBRm9ybWF0LFwiaW1hZ2UvanBlZ1wiOlRIUkVFLlJHQkZvcm1hdH07cmV0dXJuIGcucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxhPXRoaXMuanNvbixuPXRoaXMuZXh0ZW5zaW9uczt0aGlzLmNhY2hlLnJlbW92ZUFsbCgpLHRoaXMubWFya0RlZnMoKSxQcm9taXNlLmFsbChbdGhpcy5nZXREZXBlbmRlbmNpZXMoXCJzY2VuZVwiKSx0aGlzLmdldERlcGVuZGVuY2llcyhcImFuaW1hdGlvblwiKSx0aGlzLmdldERlcGVuZGVuY2llcyhcImNhbWVyYVwiKV0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIHM9e3NjZW5lOnRbMF1bYS5zY2VuZXx8MF0sc2NlbmVzOnRbMF0sYW5pbWF0aW9uczp0WzFdLGNhbWVyYXM6dFsyXSxhc3NldDphLmFzc2V0LHBhcnNlcjpyLHVzZXJEYXRhOnt9fTtoKG4scyxhKSxtKHMsYSksZShzKX0pLmNhdGNoKHQpfSxnLnByb3RvdHlwZS5tYXJrRGVmcz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmpzb24ubm9kZXN8fFtdLHQ9dGhpcy5qc29uLnNraW5zfHxbXSxyPXRoaXMuanNvbi5tZXNoZXN8fFtdLGE9e30sbj17fSxzPTAsaT10Lmxlbmd0aDtzPGk7cysrKWZvcih2YXIgbz10W3NdLmpvaW50cyxsPTAscD1vLmxlbmd0aDtsPHA7bCsrKWVbb1tsXV0uaXNCb25lPSEwO2Zvcih2YXIgdT0wLGM9ZS5sZW5ndGg7dTxjO3UrKyl7dmFyIGQ9ZVt1XTt2b2lkIDAhPT1kLm1lc2gmJih2b2lkIDA9PT1hW2QubWVzaF0mJihhW2QubWVzaF09bltkLm1lc2hdPTApLGFbZC5tZXNoXSsrLHZvaWQgMCE9PWQuc2tpbiYmKHJbZC5tZXNoXS5pc1NraW5uZWRNZXNoPSEwKSl9dGhpcy5qc29uLm1lc2hSZWZlcmVuY2VzPWEsdGhpcy5qc29uLm1lc2hVc2VzPW59LGcucHJvdG90eXBlLmdldERlcGVuZGVuY3k9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lK1wiOlwiK3QsYT10aGlzLmNhY2hlLmdldChyKTtpZighYSl7c3dpdGNoKGUpe2Nhc2VcInNjZW5lXCI6YT10aGlzLmxvYWRTY2VuZSh0KTticmVhaztjYXNlXCJub2RlXCI6YT10aGlzLmxvYWROb2RlKHQpO2JyZWFrO2Nhc2VcIm1lc2hcIjphPXRoaXMubG9hZE1lc2godCk7YnJlYWs7Y2FzZVwiYWNjZXNzb3JcIjphPXRoaXMubG9hZEFjY2Vzc29yKHQpO2JyZWFrO2Nhc2VcImJ1ZmZlclZpZXdcIjphPXRoaXMubG9hZEJ1ZmZlclZpZXcodCk7YnJlYWs7Y2FzZVwiYnVmZmVyXCI6YT10aGlzLmxvYWRCdWZmZXIodCk7YnJlYWs7Y2FzZVwibWF0ZXJpYWxcIjphPXRoaXMubG9hZE1hdGVyaWFsKHQpO2JyZWFrO2Nhc2VcInRleHR1cmVcIjphPXRoaXMubG9hZFRleHR1cmUodCk7YnJlYWs7Y2FzZVwic2tpblwiOmE9dGhpcy5sb2FkU2tpbih0KTticmVhaztjYXNlXCJhbmltYXRpb25cIjphPXRoaXMubG9hZEFuaW1hdGlvbih0KTticmVhaztjYXNlXCJjYW1lcmFcIjphPXRoaXMubG9hZENhbWVyYSh0KTticmVhaztjYXNlXCJsaWdodFwiOmE9dGhpcy5leHRlbnNpb25zW3kuS0hSX0xJR0hUU19QVU5DVFVBTF0ubG9hZExpZ2h0KHQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIitlKX10aGlzLmNhY2hlLmFkZChyLGEpfXJldHVybiBhfSxnLnByb3RvdHlwZS5nZXREZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jYWNoZS5nZXQoZSk7aWYoIXQpe3ZhciByPXRoaXMsYT10aGlzLmpzb25bZSsoXCJtZXNoXCI9PT1lP1wiZXNcIjpcInNcIildfHxbXTt0PVByb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKHQsYSl7cmV0dXJuIHIuZ2V0RGVwZW5kZW5jeShlLGEpfSkpLHRoaXMuY2FjaGUuYWRkKGUsdCl9cmV0dXJuIHR9LGcucHJvdG90eXBlLmxvYWRCdWZmZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5qc29uLmJ1ZmZlcnNbZV0scj10aGlzLmZpbGVMb2FkZXI7aWYodC50eXBlJiZcImFycmF5YnVmZmVyXCIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkxvYWRlcjogXCIrdC50eXBlK1wiIGJ1ZmZlciB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2lmKHZvaWQgMD09PXQudXJpJiYwPT09ZSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZXh0ZW5zaW9uc1t5LktIUl9CSU5BUllfR0xURl0uYm9keSk7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLG4pe3IubG9hZChjKHQudXJpLGEucGF0aCksZSx2b2lkIDAsZnVuY3Rpb24oKXtuKG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyt0LnVyaSsnXCIuJykpfSl9KX0sZy5wcm90b3R5cGUubG9hZEJ1ZmZlclZpZXc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5qc29uLmJ1ZmZlclZpZXdzW2VdO3JldHVybiB0aGlzLmdldERlcGVuZGVuY3koXCJidWZmZXJcIix0LmJ1ZmZlcikudGhlbihmdW5jdGlvbihlKXt2YXIgcj10LmJ5dGVMZW5ndGh8fDAsYT10LmJ5dGVPZmZzZXR8fDA7cmV0dXJuIGUuc2xpY2UoYSxhK3IpfSl9LGcucHJvdG90eXBlLmxvYWRBY2Nlc3Nvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5qc29uLGE9dGhpcy5qc29uLmFjY2Vzc29yc1tlXTtpZih2b2lkIDA9PT1hLmJ1ZmZlclZpZXcmJnZvaWQgMD09PWEuc3BhcnNlKXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7dmFyIG49W107cmV0dXJuIHZvaWQgMCE9PWEuYnVmZmVyVmlldz9uLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KFwiYnVmZmVyVmlld1wiLGEuYnVmZmVyVmlldykpOm4ucHVzaChudWxsKSx2b2lkIDAhPT1hLnNwYXJzZSYmKG4ucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJidWZmZXJWaWV3XCIsYS5zcGFyc2UuaW5kaWNlcy5idWZmZXJWaWV3KSksbi5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIixhLnNwYXJzZS52YWx1ZXMuYnVmZmVyVmlldykpKSxQcm9taXNlLmFsbChuKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBuLHMsaT1lWzBdLG89SVthLnR5cGVdLGw9eFthLmNvbXBvbmVudFR5cGVdLHA9bC5CWVRFU19QRVJfRUxFTUVOVCx1PXAqbyxjPWEuYnl0ZU9mZnNldHx8MCxkPXZvaWQgMCE9PWEuYnVmZmVyVmlldz9yLmJ1ZmZlclZpZXdzW2EuYnVmZmVyVmlld10uYnl0ZVN0cmlkZTp2b2lkIDAsaD0hMD09PWEubm9ybWFsaXplZDtpZihkJiZkIT09dSl7dmFyIG09TWF0aC5mbG9vcihjL2QpLGY9XCJJbnRlcmxlYXZlZEJ1ZmZlcjpcIithLmJ1ZmZlclZpZXcrXCI6XCIrYS5jb21wb25lbnRUeXBlK1wiOlwiK20rXCI6XCIrYS5jb3VudCxFPXQuY2FjaGUuZ2V0KGYpO0V8fChuPW5ldyBsKGksbSpkLGEuY291bnQqZC9wKSxFPW5ldyBUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcihuLGQvcCksdC5jYWNoZS5hZGQoZixFKSkscz1uZXcgVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoRSxvLGMlZC9wLGgpfWVsc2Ugbj1udWxsPT09aT9uZXcgbChhLmNvdW50Km8pOm5ldyBsKGksYyxhLmNvdW50Km8pLHM9bmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuLG8saCk7aWYodm9pZCAwIT09YS5zcGFyc2Upe3ZhciB2PUkuU0NBTEFSLFQ9eFthLnNwYXJzZS5pbmRpY2VzLmNvbXBvbmVudFR5cGVdLGc9YS5zcGFyc2UuaW5kaWNlcy5ieXRlT2Zmc2V0fHwwLFI9YS5zcGFyc2UudmFsdWVzLmJ5dGVPZmZzZXR8fDAsTT1uZXcgVChlWzFdLGcsYS5zcGFyc2UuY291bnQqdiksUz1uZXcgbChlWzJdLFIsYS5zcGFyc2UuY291bnQqbyk7bnVsbCE9PWkmJihzPW5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocy5hcnJheS5zbGljZSgpLHMuaXRlbVNpemUscy5ub3JtYWxpemVkKSk7Zm9yKHZhciB5PTAsTD1NLmxlbmd0aDt5PEw7eSsrKXt2YXIgQT1NW3ldO2lmKHMuc2V0WChBLFNbeSpvXSksbz49MiYmcy5zZXRZKEEsU1t5Km8rMV0pLG8+PTMmJnMuc2V0WihBLFNbeSpvKzJdKSxvPj00JiZzLnNldFcoQSxTW3kqbyszXSksbz49NSl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBpdGVtU2l6ZSBpbiBzcGFyc2UgQnVmZmVyQXR0cmlidXRlLlwiKX19cmV0dXJuIHN9KX0sZy5wcm90b3R5cGUubG9hZFRleHR1cmU9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLGE9dGhpcy5qc29uLG49dGhpcy5vcHRpb25zLHM9dGhpcy50ZXh0dXJlTG9hZGVyLGk9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCxvPWEudGV4dHVyZXNbZV0sbD1vLmV4dGVuc2lvbnN8fHt9O3Q9bFt5Lk1TRlRfVEVYVFVSRV9ERFNdP2EuaW1hZ2VzW2xbeS5NU0ZUX1RFWFRVUkVfRERTXS5zb3VyY2VdOmEuaW1hZ2VzW28uc291cmNlXTt2YXIgcD10LnVyaSx1PSExO3JldHVybiB2b2lkIDAhPT10LmJ1ZmZlclZpZXcmJihwPXIuZ2V0RGVwZW5kZW5jeShcImJ1ZmZlclZpZXdcIix0LmJ1ZmZlclZpZXcpLnRoZW4oZnVuY3Rpb24oZSl7dT0hMDt2YXIgcj1uZXcgQmxvYihbZV0se3R5cGU6dC5taW1lVHlwZX0pO3JldHVybiBwPWkuY3JlYXRlT2JqZWN0VVJMKHIpfSkpLFByb21pc2UucmVzb2x2ZShwKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PW4ubWFuYWdlci5nZXRIYW5kbGVyKGUpO3JldHVybiB0fHwodD1sW3kuTVNGVF9URVhUVVJFX0REU10/ci5leHRlbnNpb25zW3kuTVNGVF9URVhUVVJFX0REU10uZGRzTG9hZGVyOnMpLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsYSl7dC5sb2FkKGMoZSxuLnBhdGgpLHIsdm9pZCAwLGEpfSl9KS50aGVuKGZ1bmN0aW9uKGUpeyEwPT09dSYmaS5yZXZva2VPYmplY3RVUkwocCksZS5mbGlwWT0hMSx2b2lkIDAhPT1vLm5hbWUmJihlLm5hbWU9by5uYW1lKSx0Lm1pbWVUeXBlIGluIEYmJihlLmZvcm1hdD1GW3QubWltZVR5cGVdKTt2YXIgcj1hLnNhbXBsZXJzfHx7fSxuPXJbby5zYW1wbGVyXXx8e307cmV0dXJuIGUubWFnRmlsdGVyPXdbbi5tYWdGaWx0ZXJdfHxUSFJFRS5MaW5lYXJGaWx0ZXIsZS5taW5GaWx0ZXI9d1tuLm1pbkZpbHRlcl18fFRIUkVFLkxpbmVhck1pcG1hcExpbmVhckZpbHRlcixlLndyYXBTPWJbbi53cmFwU118fFRIUkVFLlJlcGVhdFdyYXBwaW5nLGUud3JhcFQ9YltuLndyYXBUXXx8VEhSRUUuUmVwZWF0V3JhcHBpbmcsZX0pfSxnLnByb3RvdHlwZS5hc3NpZ25UZXh0dXJlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLmdldERlcGVuZGVuY3koXCJ0ZXh0dXJlXCIsci5pbmRleCkudGhlbihmdW5jdGlvbihuKXtpZighbi5pc0NvbXByZXNzZWRUZXh0dXJlKXN3aXRjaCh0KXtjYXNlXCJhb01hcFwiOmNhc2VcImVtaXNzaXZlTWFwXCI6Y2FzZVwibWV0YWxuZXNzTWFwXCI6Y2FzZVwibm9ybWFsTWFwXCI6Y2FzZVwicm91Z2huZXNzTWFwXCI6bi5mb3JtYXQ9VEhSRUUuUkdCRm9ybWF0fWlmKHZvaWQgMD09PXIudGV4Q29vcmR8fDA9PXIudGV4Q29vcmR8fFwiYW9NYXBcIj09PXQmJjE9PXIudGV4Q29vcmR8fGNvbnNvbGUud2FybihcIlRIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXQgXCIrci50ZXhDb29yZCtcIiBmb3IgdGV4dHVyZSBcIit0K1wiIG5vdCB5ZXQgc3VwcG9ydGVkLlwiKSxhLmV4dGVuc2lvbnNbeS5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dKXt2YXIgcz12b2lkIDAhPT1yLmV4dGVuc2lvbnM/ci5leHRlbnNpb25zW3kuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXTp2b2lkIDA7cyYmKG49YS5leHRlbnNpb25zW3kuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXS5leHRlbmRUZXh0dXJlKG4scykpfWVbdF09bn0pfSxnLnByb3RvdHlwZS5hc3NpZ25GaW5hbE1hdGVyaWFsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2VvbWV0cnkscj1lLm1hdGVyaWFsLGE9dGhpcy5leHRlbnNpb25zLG49dm9pZCAwIT09dC5hdHRyaWJ1dGVzLnRhbmdlbnQscz12b2lkIDAhPT10LmF0dHJpYnV0ZXMuY29sb3IsaT12b2lkIDA9PT10LmF0dHJpYnV0ZXMubm9ybWFsLG89ITA9PT1lLmlzU2tpbm5lZE1lc2gsbD1PYmplY3Qua2V5cyh0Lm1vcnBoQXR0cmlidXRlcykubGVuZ3RoPjAscD1sJiZ2b2lkIDAhPT10Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWw7aWYoZS5pc1BvaW50cyl7dmFyIHU9XCJQb2ludHNNYXRlcmlhbDpcIityLnV1aWQsYz10aGlzLmNhY2hlLmdldCh1KTtjfHwoYz1uZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwsVEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChjLHIpLGMuY29sb3IuY29weShyLmNvbG9yKSxjLm1hcD1yLm1hcCxjLnNpemVBdHRlbnVhdGlvbj0hMSx0aGlzLmNhY2hlLmFkZCh1LGMpKSxyPWN9ZWxzZSBpZihlLmlzTGluZSl7dmFyIHU9XCJMaW5lQmFzaWNNYXRlcmlhbDpcIityLnV1aWQsZD10aGlzLmNhY2hlLmdldCh1KTtkfHwoZD1uZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwsVEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChkLHIpLGQuY29sb3IuY29weShyLmNvbG9yKSx0aGlzLmNhY2hlLmFkZCh1LGQpKSxyPWR9aWYobnx8c3x8aXx8b3x8bCl7dmFyIHU9XCJDbG9uZWRNYXRlcmlhbDpcIityLnV1aWQrXCI6XCI7ci5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCYmKHUrPVwic3BlY3VsYXItZ2xvc3NpbmVzczpcIiksbyYmKHUrPVwic2tpbm5pbmc6XCIpLG4mJih1Kz1cInZlcnRleC10YW5nZW50czpcIikscyYmKHUrPVwidmVydGV4LWNvbG9yczpcIiksaSYmKHUrPVwiZmxhdC1zaGFkaW5nOlwiKSxsJiYodSs9XCJtb3JwaC10YXJnZXRzOlwiKSxwJiYodSs9XCJtb3JwaC1ub3JtYWxzOlwiKTt2YXIgaD10aGlzLmNhY2hlLmdldCh1KTtofHwoaD1yLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsP2FbeS5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXS5jbG9uZU1hdGVyaWFsKHIpOnIuY2xvbmUoKSxvJiYoaC5za2lubmluZz0hMCksbiYmKGgudmVydGV4VGFuZ2VudHM9ITApLHMmJihoLnZlcnRleENvbG9ycz1USFJFRS5WZXJ0ZXhDb2xvcnMpLGkmJihoLmZsYXRTaGFkaW5nPSEwKSxsJiYoaC5tb3JwaFRhcmdldHM9ITApLHAmJihoLm1vcnBoTm9ybWFscz0hMCksdGhpcy5jYWNoZS5hZGQodSxoKSkscj1ofXIuYW9NYXAmJnZvaWQgMD09PXQuYXR0cmlidXRlcy51djImJnZvaWQgMCE9PXQuYXR0cmlidXRlcy51diYmdC5zZXRBdHRyaWJ1dGUoXCJ1djJcIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHQuYXR0cmlidXRlcy51di5hcnJheSwyKSksci5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCYmKGUub25CZWZvcmVSZW5kZXI9YVt5LktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdLnJlZnJlc2hVbmlmb3JtcyksZS5tYXRlcmlhbD1yfSxnLnByb3RvdHlwZS5sb2FkTWF0ZXJpYWw9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLGE9dGhpcy5qc29uLG49dGhpcy5leHRlbnNpb25zLHM9YS5tYXRlcmlhbHNbZV0saT17fSxvPXMuZXh0ZW5zaW9uc3x8e30sbD1bXTtpZihvW3kuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTU10pe3ZhciBwPW5beS5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXTt0PXAuZ2V0TWF0ZXJpYWxUeXBlKCksbC5wdXNoKHAuZXh0ZW5kUGFyYW1zKGkscyxyKSl9ZWxzZSBpZihvW3kuS0hSX01BVEVSSUFMU19VTkxJVF0pe3ZhciB1PW5beS5LSFJfTUFURVJJQUxTX1VOTElUXTt0PXUuZ2V0TWF0ZXJpYWxUeXBlKCksbC5wdXNoKHUuZXh0ZW5kUGFyYW1zKGkscyxyKSl9ZWxzZXt0PVRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsO3ZhciBjPXMucGJyTWV0YWxsaWNSb3VnaG5lc3N8fHt9O2lmKGkuY29sb3I9bmV3IFRIUkVFLkNvbG9yKDEsMSwxKSxpLm9wYWNpdHk9MSxBcnJheS5pc0FycmF5KGMuYmFzZUNvbG9yRmFjdG9yKSl7dmFyIGQ9Yy5iYXNlQ29sb3JGYWN0b3I7aS5jb2xvci5mcm9tQXJyYXkoZCksaS5vcGFjaXR5PWRbM119dm9pZCAwIT09Yy5iYXNlQ29sb3JUZXh0dXJlJiZsLnB1c2goci5hc3NpZ25UZXh0dXJlKGksXCJtYXBcIixjLmJhc2VDb2xvclRleHR1cmUpKSxpLm1ldGFsbmVzcz12b2lkIDAhPT1jLm1ldGFsbGljRmFjdG9yP2MubWV0YWxsaWNGYWN0b3I6MSxpLnJvdWdobmVzcz12b2lkIDAhPT1jLnJvdWdobmVzc0ZhY3Rvcj9jLnJvdWdobmVzc0ZhY3RvcjoxLHZvaWQgMCE9PWMubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiYobC5wdXNoKHIuYXNzaWduVGV4dHVyZShpLFwibWV0YWxuZXNzTWFwXCIsYy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUpKSxsLnB1c2goci5hc3NpZ25UZXh0dXJlKGksXCJyb3VnaG5lc3NNYXBcIixjLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSkpKX0hMD09PXMuZG91YmxlU2lkZWQmJihpLnNpZGU9VEhSRUUuRG91YmxlU2lkZSk7dmFyIGY9cy5hbHBoYU1vZGV8fFUuT1BBUVVFO3JldHVybiBmPT09VS5CTEVORD9pLnRyYW5zcGFyZW50PSEwOihpLnRyYW5zcGFyZW50PSExLGY9PT1VLk1BU0smJihpLmFscGhhVGVzdD12b2lkIDAhPT1zLmFscGhhQ3V0b2ZmP3MuYWxwaGFDdXRvZmY6LjUpKSx2b2lkIDAhPT1zLm5vcm1hbFRleHR1cmUmJnQhPT1USFJFRS5NZXNoQmFzaWNNYXRlcmlhbCYmKGwucHVzaChyLmFzc2lnblRleHR1cmUoaSxcIm5vcm1hbE1hcFwiLHMubm9ybWFsVGV4dHVyZSkpLGkubm9ybWFsU2NhbGU9bmV3IFRIUkVFLlZlY3RvcjIoMSwxKSx2b2lkIDAhPT1zLm5vcm1hbFRleHR1cmUuc2NhbGUmJmkubm9ybWFsU2NhbGUuc2V0KHMubm9ybWFsVGV4dHVyZS5zY2FsZSxzLm5vcm1hbFRleHR1cmUuc2NhbGUpKSx2b2lkIDAhPT1zLm9jY2x1c2lvblRleHR1cmUmJnQhPT1USFJFRS5NZXNoQmFzaWNNYXRlcmlhbCYmKGwucHVzaChyLmFzc2lnblRleHR1cmUoaSxcImFvTWFwXCIscy5vY2NsdXNpb25UZXh0dXJlKSksdm9pZCAwIT09cy5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoJiYoaS5hb01hcEludGVuc2l0eT1zLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGgpKSx2b2lkIDAhPT1zLmVtaXNzaXZlRmFjdG9yJiZ0IT09VEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwmJihpLmVtaXNzaXZlPShuZXcgVEhSRUUuQ29sb3IpLmZyb21BcnJheShzLmVtaXNzaXZlRmFjdG9yKSksdm9pZCAwIT09cy5lbWlzc2l2ZVRleHR1cmUmJnQhPT1USFJFRS5NZXNoQmFzaWNNYXRlcmlhbCYmbC5wdXNoKHIuYXNzaWduVGV4dHVyZShpLFwiZW1pc3NpdmVNYXBcIixzLmVtaXNzaXZlVGV4dHVyZSkpLFByb21pc2UuYWxsKGwpLnRoZW4oZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT10PT09VEhSRUUuU2hhZGVyTWF0ZXJpYWw/blt5LktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdLmNyZWF0ZU1hdGVyaWFsKGkpOm5ldyB0KGkpLHZvaWQgMCE9PXMubmFtZSYmKGUubmFtZT1zLm5hbWUpLGUubWFwJiYoZS5tYXAuZW5jb2Rpbmc9VEhSRUUuc1JHQkVuY29kaW5nKSxlLmVtaXNzaXZlTWFwJiYoZS5lbWlzc2l2ZU1hcC5lbmNvZGluZz1USFJFRS5zUkdCRW5jb2RpbmcpLGUuc3BlY3VsYXJNYXAmJihlLnNwZWN1bGFyTWFwLmVuY29kaW5nPVRIUkVFLnNSR0JFbmNvZGluZyksbShlLHMpLHMuZXh0ZW5zaW9ucyYmaChuLGUscyksZX0pfSxnLnByb3RvdHlwZS5sb2FkR2VvbWV0cmllcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxyPXRoaXMuZXh0ZW5zaW9ucyxhPXRoaXMucHJpbWl0aXZlQ2FjaGUsbj1bXSxzPTAsaT1lLmxlbmd0aDtzPGk7cysrKXt2YXIgbz1lW3NdLGw9dihvKSxwPWFbbF07aWYocCluLnB1c2gocC5wcm9taXNlKTtlbHNle3ZhciB1O3U9by5leHRlbnNpb25zJiZvLmV4dGVuc2lvbnNbeS5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0/ZnVuY3Rpb24oZSl7cmV0dXJuIHJbeS5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0uZGVjb2RlUHJpbWl0aXZlKGUsdCkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gTShyLGUsdCl9KX0obyk6TShuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnksbyx0KSxhW2xdPXtwcmltaXRpdmU6byxwcm9taXNlOnV9LG4ucHVzaCh1KX19cmV0dXJuIFByb21pc2UuYWxsKG4pfSxnLnByb3RvdHlwZS5sb2FkTWVzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcyxyPXRoaXMuanNvbixhPXIubWVzaGVzW2VdLG49YS5wcmltaXRpdmVzLHM9W10saT0wLG89bi5sZW5ndGg7aTxvO2krKyl7dmFyIGw9dm9pZCAwPT09bltpXS5tYXRlcmlhbD9kKHRoaXMuY2FjaGUpOnRoaXMuZ2V0RGVwZW5kZW5jeShcIm1hdGVyaWFsXCIsbltpXS5tYXRlcmlhbCk7cy5wdXNoKGwpfXJldHVybiBQcm9taXNlLmFsbChzKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiB0LmxvYWRHZW9tZXRyaWVzKG4pLnRoZW4oZnVuY3Rpb24ocyl7Zm9yKHZhciBpPVtdLG89MCxsPXMubGVuZ3RoO288bDtvKyspe3ZhciBwLHU9c1tvXSxjPW5bb10sZD1yW29dO2lmKGMubW9kZT09PV8uVFJJQU5HTEVTfHxjLm1vZGU9PT1fLlRSSUFOR0xFX1NUUklQfHxjLm1vZGU9PT1fLlRSSUFOR0xFX0ZBTnx8dm9pZCAwPT09Yy5tb2RlKXA9ITA9PT1hLmlzU2tpbm5lZE1lc2g/bmV3IFRIUkVFLlNraW5uZWRNZXNoKHUsZCk6bmV3IFRIUkVFLk1lc2godSxkKSwhMCE9PXAuaXNTa2lubmVkTWVzaHx8cC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZHx8cC5ub3JtYWxpemVTa2luV2VpZ2h0cygpLGMubW9kZT09PV8uVFJJQU5HTEVfU1RSSVA/cC5nZW9tZXRyeT1TKHAuZ2VvbWV0cnksVEhSRUUuVHJpYW5nbGVTdHJpcERyYXdNb2RlKTpjLm1vZGU9PT1fLlRSSUFOR0xFX0ZBTiYmKHAuZ2VvbWV0cnk9UyhwLmdlb21ldHJ5LFRIUkVFLlRyaWFuZ2xlRmFuRHJhd01vZGUpKTtlbHNlIGlmKGMubW9kZT09PV8uTElORVMpcD1uZXcgVEhSRUUuTGluZVNlZ21lbnRzKHUsZCk7ZWxzZSBpZihjLm1vZGU9PT1fLkxJTkVfU1RSSVApcD1uZXcgVEhSRUUuTGluZSh1LGQpO2Vsc2UgaWYoYy5tb2RlPT09Xy5MSU5FX0xPT1ApcD1uZXcgVEhSRUUuTGluZUxvb3AodSxkKTtlbHNle2lmKGMubW9kZSE9PV8uUE9JTlRTKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IFByaW1pdGl2ZSBtb2RlIHVuc3VwcG9ydGVkOiBcIitjLm1vZGUpO3A9bmV3IFRIUkVFLlBvaW50cyh1LGQpfU9iamVjdC5rZXlzKHAuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKS5sZW5ndGg+MCYmRShwLGEpLHAubmFtZT1hLm5hbWV8fFwibWVzaF9cIitlLHMubGVuZ3RoPjEmJihwLm5hbWUrPVwiX1wiK28pLG0ocCxhKSx0LmFzc2lnbkZpbmFsTWF0ZXJpYWwocCksaS5wdXNoKHApfWlmKDE9PT1pLmxlbmd0aClyZXR1cm4gaVswXTtmb3IodmFyIGg9bmV3IFRIUkVFLkdyb3VwLG89MCxsPWkubGVuZ3RoO288bDtvKyspaC5hZGQoaVtvXSk7cmV0dXJuIGh9KX0pfSxnLnByb3RvdHlwZS5sb2FkQ2FtZXJhPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcy5qc29uLmNhbWVyYXNbZV0sYT1yW3IudHlwZV07cmV0dXJuIGE/KFwicGVyc3BlY3RpdmVcIj09PXIudHlwZT90PW5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShUSFJFRS5NYXRoLnJhZFRvRGVnKGEueWZvdiksYS5hc3BlY3RSYXRpb3x8MSxhLnpuZWFyfHwxLGEuemZhcnx8MmU2KTpcIm9ydGhvZ3JhcGhpY1wiPT09ci50eXBlJiYodD1uZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKGEueG1hZy8tMixhLnhtYWcvMixhLnltYWcvMixhLnltYWcvLTIsYS56bmVhcixhLnpmYXIpKSx2b2lkIDAhPT1yLm5hbWUmJih0Lm5hbWU9ci5uYW1lKSxtKHQsciksUHJvbWlzZS5yZXNvbHZlKHQpKTp2b2lkIGNvbnNvbGUud2FybihcIlRIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgY2FtZXJhIHBhcmFtZXRlcnMuXCIpfSxnLnByb3RvdHlwZS5sb2FkU2tpbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmpzb24uc2tpbnNbZV0scj17am9pbnRzOnQuam9pbnRzfTtyZXR1cm4gdm9pZCAwPT09dC5pbnZlcnNlQmluZE1hdHJpY2VzP1Byb21pc2UucmVzb2x2ZShyKTp0aGlzLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLHQuaW52ZXJzZUJpbmRNYXRyaWNlcykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5pbnZlcnNlQmluZE1hdHJpY2VzPWUscn0pfSxnLnByb3RvdHlwZS5sb2FkQW5pbWF0aW9uPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmpzb24scj10LmFuaW1hdGlvbnNbZV0sYT1bXSxuPVtdLHM9W10saT1bXSxvPVtdLGw9MCxwPXIuY2hhbm5lbHMubGVuZ3RoO2w8cDtsKyspe3ZhciBjPXIuY2hhbm5lbHNbbF0sZD1yLnNhbXBsZXJzW2Muc2FtcGxlcl0saD1jLnRhcmdldCxtPXZvaWQgMCE9PWgubm9kZT9oLm5vZGU6aC5pZCxmPXZvaWQgMCE9PXIucGFyYW1ldGVycz9yLnBhcmFtZXRlcnNbZC5pbnB1dF06ZC5pbnB1dCxFPXZvaWQgMCE9PXIucGFyYW1ldGVycz9yLnBhcmFtZXRlcnNbZC5vdXRwdXRdOmQub3V0cHV0O2EucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJub2RlXCIsbSkpLG4ucHVzaCh0aGlzLmdldERlcGVuZGVuY3koXCJhY2Nlc3NvclwiLGYpKSxzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KFwiYWNjZXNzb3JcIixFKSksaS5wdXNoKGQpLG8ucHVzaChoKX1yZXR1cm4gUHJvbWlzZS5hbGwoW1Byb21pc2UuYWxsKGEpLFByb21pc2UuYWxsKG4pLFByb21pc2UuYWxsKHMpLFByb21pc2UuYWxsKGkpLFByb21pc2UuYWxsKG8pXSkudGhlbihmdW5jdGlvbih0KXtmb3IodmFyIGE9dFswXSxuPXRbMV0scz10WzJdLGk9dFszXSxvPXRbNF0sbD1bXSxwPTAsYz1hLmxlbmd0aDtwPGM7cCsrKXt2YXIgZD1hW3BdLGg9bltwXSxtPXNbcF0sZj1pW3BdLEU9b1twXTtpZih2b2lkIDAhPT1kKXtkLnVwZGF0ZU1hdHJpeCgpLGQubWF0cml4QXV0b1VwZGF0ZT0hMDt2YXIgdjtzd2l0Y2goTltFLnBhdGhdKXtjYXNlIE4ud2VpZ2h0czp2PVRIUkVFLk51bWJlcktleWZyYW1lVHJhY2s7YnJlYWs7Y2FzZSBOLnJvdGF0aW9uOnY9VEhSRUUuUXVhdGVybmlvbktleWZyYW1lVHJhY2s7YnJlYWs7Y2FzZSBOLnBvc2l0aW9uOmNhc2UgTi5zY2FsZTpkZWZhdWx0OnY9VEhSRUUuVmVjdG9yS2V5ZnJhbWVUcmFja312YXIgVD1kLm5hbWU/ZC5uYW1lOmQudXVpZCxnPXZvaWQgMCE9PWYuaW50ZXJwb2xhdGlvbj9PW2YuaW50ZXJwb2xhdGlvbl06VEhSRUUuSW50ZXJwb2xhdGVMaW5lYXIsUj1bXTtOW0UucGF0aF09PT1OLndlaWdodHM/ZC50cmF2ZXJzZShmdW5jdGlvbihlKXshMD09PWUuaXNNZXNoJiZlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyYmUi5wdXNoKGUubmFtZT9lLm5hbWU6ZS51dWlkKX0pOlIucHVzaChUKTt2YXIgTT1tLmFycmF5O2lmKG0ubm9ybWFsaXplZCl7dmFyIFM7aWYoTS5jb25zdHJ1Y3Rvcj09PUludDhBcnJheSlTPTEvMTI3O2Vsc2UgaWYoTS5jb25zdHJ1Y3Rvcj09PVVpbnQ4QXJyYXkpUz0xLzI1NTtlbHNlIGlmKE0uY29uc3RydWN0b3I9PUludDE2QXJyYXkpUz0xLzMyNzY3O2Vsc2V7aWYoTS5jb25zdHJ1Y3RvciE9PVVpbnQxNkFycmF5KXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIG91dHB1dCBhY2Nlc3NvciBjb21wb25lbnQgdHlwZS5cIik7Uz0xLzY1NTM1fWZvcih2YXIgeT1uZXcgRmxvYXQzMkFycmF5KE0ubGVuZ3RoKSxMPTAsQT1NLmxlbmd0aDtMPEE7TCsrKXlbTF09TVtMXSpTO009eX1mb3IodmFyIEw9MCxBPVIubGVuZ3RoO0w8QTtMKyspe3ZhciBIPW5ldyB2KFJbTF0rXCIuXCIrTltFLnBhdGhdLGguYXJyYXksTSxnKTtcIkNVQklDU1BMSU5FXCI9PT1mLmludGVycG9sYXRpb24mJihILmNyZWF0ZUludGVycG9sYW50PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdSh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCkvMyxlKX0sSC5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZT0hMCksbC5wdXNoKEgpfX19dmFyIF89dm9pZCAwIT09ci5uYW1lP3IubmFtZTpcImFuaW1hdGlvbl9cIitlO3JldHVybiBuZXcgVEhSRUUuQW5pbWF0aW9uQ2xpcChfLHZvaWQgMCxsKX0pfSxnLnByb3RvdHlwZS5sb2FkTm9kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmpzb24scj10aGlzLmV4dGVuc2lvbnMsYT10aGlzLG49dC5tZXNoUmVmZXJlbmNlcyxzPXQubWVzaFVzZXMsaT10Lm5vZGVzW2VdO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB2b2lkIDAhPT1pLm1lc2gmJmUucHVzaChhLmdldERlcGVuZGVuY3koXCJtZXNoXCIsaS5tZXNoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0O2lmKG5baS5tZXNoXT4xKXt2YXIgcj1zW2kubWVzaF0rKzt0PWUuY2xvbmUoKSx0Lm5hbWUrPVwiX2luc3RhbmNlX1wiK3IsXG50Lm9uQmVmb3JlUmVuZGVyPWUub25CZWZvcmVSZW5kZXI7Zm9yKHZhciBhPTAsbz10LmNoaWxkcmVuLmxlbmd0aDthPG87YSsrKXQuY2hpbGRyZW5bYV0ubmFtZSs9XCJfaW5zdGFuY2VfXCIrcix0LmNoaWxkcmVuW2FdLm9uQmVmb3JlUmVuZGVyPWUuY2hpbGRyZW5bYV0ub25CZWZvcmVSZW5kZXJ9ZWxzZSB0PWU7cmV0dXJuIHZvaWQgMCE9PWkud2VpZ2h0cyYmdC50cmF2ZXJzZShmdW5jdGlvbihlKXtpZihlLmlzTWVzaClmb3IodmFyIHQ9MCxyPWkud2VpZ2h0cy5sZW5ndGg7dDxyO3QrKyllLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t0XT1pLndlaWdodHNbdF19KSx0fSkpLHZvaWQgMCE9PWkuY2FtZXJhJiZlLnB1c2goYS5nZXREZXBlbmRlbmN5KFwiY2FtZXJhXCIsaS5jYW1lcmEpKSxpLmV4dGVuc2lvbnMmJmkuZXh0ZW5zaW9uc1t5LktIUl9MSUdIVFNfUFVOQ1RVQUxdJiZ2b2lkIDAhPT1pLmV4dGVuc2lvbnNbeS5LSFJfTElHSFRTX1BVTkNUVUFMXS5saWdodCYmZS5wdXNoKGEuZ2V0RGVwZW5kZW5jeShcImxpZ2h0XCIsaS5leHRlbnNpb25zW3kuS0hSX0xJR0hUU19QVU5DVFVBTF0ubGlnaHQpKSxQcm9taXNlLmFsbChlKX0oKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0O2lmKCh0PSEwPT09aS5pc0JvbmU/bmV3IFRIUkVFLkJvbmU6ZS5sZW5ndGg+MT9uZXcgVEhSRUUuR3JvdXA6MT09PWUubGVuZ3RoP2VbMF06bmV3IFRIUkVFLk9iamVjdDNEKSE9PWVbMF0pZm9yKHZhciBhPTAsbj1lLmxlbmd0aDthPG47YSsrKXQuYWRkKGVbYV0pO2lmKHZvaWQgMCE9PWkubmFtZSYmKHQudXNlckRhdGEubmFtZT1pLm5hbWUsdC5uYW1lPVRIUkVFLlByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKGkubmFtZSkpLG0odCxpKSxpLmV4dGVuc2lvbnMmJmgocix0LGkpLHZvaWQgMCE9PWkubWF0cml4KXt2YXIgcz1uZXcgVEhSRUUuTWF0cml4NDtzLmZyb21BcnJheShpLm1hdHJpeCksdC5hcHBseU1hdHJpeChzKX1lbHNlIHZvaWQgMCE9PWkudHJhbnNsYXRpb24mJnQucG9zaXRpb24uZnJvbUFycmF5KGkudHJhbnNsYXRpb24pLHZvaWQgMCE9PWkucm90YXRpb24mJnQucXVhdGVybmlvbi5mcm9tQXJyYXkoaS5yb3RhdGlvbiksdm9pZCAwIT09aS5zY2FsZSYmdC5zY2FsZS5mcm9tQXJyYXkoaS5zY2FsZSk7cmV0dXJuIHR9KX0sZy5wcm90b3R5cGUubG9hZFNjZW5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsYSxuKXt2YXIgcz1hLm5vZGVzW3RdO3JldHVybiBuLmdldERlcGVuZGVuY3koXCJub2RlXCIsdCkudGhlbihmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1zLnNraW4pcmV0dXJuIGU7dmFyIHQ7cmV0dXJuIG4uZ2V0RGVwZW5kZW5jeShcInNraW5cIixzLnNraW4pLnRoZW4oZnVuY3Rpb24oZSl7dD1lO2Zvcih2YXIgcj1bXSxhPTAscz10LmpvaW50cy5sZW5ndGg7YTxzO2ErKylyLnB1c2gobi5nZXREZXBlbmRlbmN5KFwibm9kZVwiLHQuam9pbnRzW2FdKSk7cmV0dXJuIFByb21pc2UuYWxsKHIpfSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZS50cmF2ZXJzZShmdW5jdGlvbihlKXtpZihlLmlzTWVzaCl7Zm9yKHZhciBhPVtdLG49W10scz0wLGk9ci5sZW5ndGg7czxpO3MrKyl7dmFyIG89cltzXTtpZihvKXthLnB1c2gobyk7dmFyIGw9bmV3IFRIUkVFLk1hdHJpeDQ7dm9pZCAwIT09dC5pbnZlcnNlQmluZE1hdHJpY2VzJiZsLmZyb21BcnJheSh0LmludmVyc2VCaW5kTWF0cmljZXMuYXJyYXksMTYqcyksbi5wdXNoKGwpfWVsc2UgY29uc29sZS53YXJuKCdUSFJFRS5HTFRGTG9hZGVyOiBKb2ludCBcIiVzXCIgY291bGQgbm90IGJlIGZvdW5kLicsdC5qb2ludHNbc10pfWUuYmluZChuZXcgVEhSRUUuU2tlbGV0b24oYSxuKSxlLm1hdHJpeFdvcmxkKX19KSxlfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3IuYWRkKHQpO3ZhciBpPVtdO2lmKHMuY2hpbGRyZW4pZm9yKHZhciBvPXMuY2hpbGRyZW4sbD0wLHA9by5sZW5ndGg7bDxwO2wrKyl7dmFyIHU9b1tsXTtpLnB1c2goZSh1LHQsYSxuKSl9cmV0dXJuIFByb21pc2UuYWxsKGkpfSl9cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuanNvbixhPXRoaXMuZXh0ZW5zaW9ucyxuPXRoaXMuanNvbi5zY2VuZXNbdF0scz10aGlzLGk9bmV3IFRIUkVFLlNjZW5lO3ZvaWQgMCE9PW4ubmFtZSYmKGkubmFtZT1uLm5hbWUpLG0oaSxuKSxuLmV4dGVuc2lvbnMmJmgoYSxpLG4pO2Zvcih2YXIgbz1uLm5vZGVzfHxbXSxsPVtdLHA9MCx1PW8ubGVuZ3RoO3A8dTtwKyspbC5wdXNoKGUob1twXSxpLHIscykpO3JldHVybiBQcm9taXNlLmFsbChsKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KX19KCksZX0oKTtcbn0se31dLDQwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblRIUkVFLk1UTExvYWRlcj1mdW5jdGlvbihhKXtUSFJFRS5Mb2FkZXIuY2FsbCh0aGlzLGEpfSxUSFJFRS5NVExMb2FkZXIucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShUSFJFRS5Mb2FkZXIucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6VEhSRUUuTVRMTG9hZGVyLGxvYWQ6ZnVuY3Rpb24oYSx0LHIsZSl7dmFyIHM9dGhpcyxpPVwiXCI9PT10aGlzLnBhdGg/VEhSRUUuTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UoYSk6dGhpcy5wYXRoLG89bmV3IFRIUkVFLkZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtvLnNldFBhdGgodGhpcy5wYXRoKSxvLmxvYWQoYSxmdW5jdGlvbihhKXt0KHMucGFyc2UoYSxpKSl9LHIsZSl9LHNldE1hdGVyaWFsT3B0aW9uczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXRlcmlhbE9wdGlvbnM9YSx0aGlzfSxwYXJzZTpmdW5jdGlvbihhLHQpe2Zvcih2YXIgcj1hLnNwbGl0KFwiXFxuXCIpLGU9e30scz0vXFxzKy8saT17fSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBuPXJbb107aWYobj1uLnRyaW0oKSwwIT09bi5sZW5ndGgmJlwiI1wiIT09bi5jaGFyQXQoMCkpe3ZhciBwPW4uaW5kZXhPZihcIiBcIiksbD1wPj0wP24uc3Vic3RyaW5nKDAscCk6bjtsPWwudG9Mb3dlckNhc2UoKTt2YXIgYz1wPj0wP24uc3Vic3RyaW5nKHArMSk6XCJcIjtpZihjPWMudHJpbSgpLFwibmV3bXRsXCI9PT1sKWU9e25hbWU6Y30saVtjXT1lO2Vsc2UgaWYoXCJrYVwiPT09bHx8XCJrZFwiPT09bHx8XCJrc1wiPT09bHx8XCJrZVwiPT09bCl7dmFyIGg9Yy5zcGxpdChzLDMpO2VbbF09W3BhcnNlRmxvYXQoaFswXSkscGFyc2VGbG9hdChoWzFdKSxwYXJzZUZsb2F0KGhbMl0pXX1lbHNlIGVbbF09Y319dmFyIHU9bmV3IFRIUkVFLk1UTExvYWRlci5NYXRlcmlhbENyZWF0b3IodGhpcy5yZXNvdXJjZVBhdGh8fHQsdGhpcy5tYXRlcmlhbE9wdGlvbnMpO3JldHVybiB1LnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pLHUuc2V0TWFuYWdlcih0aGlzLm1hbmFnZXIpLHUuc2V0TWF0ZXJpYWxzKGkpLHV9fSksVEhSRUUuTVRMTG9hZGVyLk1hdGVyaWFsQ3JlYXRvcj1mdW5jdGlvbihhLHQpe3RoaXMuYmFzZVVybD1hfHxcIlwiLHRoaXMub3B0aW9ucz10LHRoaXMubWF0ZXJpYWxzSW5mbz17fSx0aGlzLm1hdGVyaWFscz17fSx0aGlzLm1hdGVyaWFsc0FycmF5PVtdLHRoaXMubmFtZUxvb2t1cD17fSx0aGlzLnNpZGU9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuc2lkZT90aGlzLm9wdGlvbnMuc2lkZTpUSFJFRS5Gcm9udFNpZGUsdGhpcy53cmFwPXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLndyYXA/dGhpcy5vcHRpb25zLndyYXA6VEhSRUUuUmVwZWF0V3JhcHBpbmd9LFRIUkVFLk1UTExvYWRlci5NYXRlcmlhbENyZWF0b3IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5NVExMb2FkZXIuTWF0ZXJpYWxDcmVhdG9yLGNyb3NzT3JpZ2luOlwiYW5vbnltb3VzXCIsc2V0Q3Jvc3NPcmlnaW46ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3Jvc3NPcmlnaW49YSx0aGlzfSxzZXRNYW5hZ2VyOmZ1bmN0aW9uKGEpe3RoaXMubWFuYWdlcj1hfSxzZXRNYXRlcmlhbHM6ZnVuY3Rpb24oYSl7dGhpcy5tYXRlcmlhbHNJbmZvPXRoaXMuY29udmVydChhKSx0aGlzLm1hdGVyaWFscz17fSx0aGlzLm1hdGVyaWFsc0FycmF5PVtdLHRoaXMubmFtZUxvb2t1cD17fX0sY29udmVydDpmdW5jdGlvbihhKXtpZighdGhpcy5vcHRpb25zKXJldHVybiBhO3ZhciB0PXt9O2Zvcih2YXIgciBpbiBhKXt2YXIgZT1hW3JdLHM9e307dFtyXT1zO2Zvcih2YXIgaSBpbiBlKXt2YXIgbz0hMCxuPWVbaV0scD1pLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHApe2Nhc2VcImtkXCI6Y2FzZVwia2FcIjpjYXNlXCJrc1wiOnRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLm5vcm1hbGl6ZVJHQiYmKG49W25bMF0vMjU1LG5bMV0vMjU1LG5bMl0vMjU1XSksdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuaWdub3JlWmVyb1JHQnMmJjA9PT1uWzBdJiYwPT09blsxXSYmMD09PW5bMl0mJihvPSExKX1vJiYoc1twXT1uKX19cmV0dXJuIHR9LHByZWxvYWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5tYXRlcmlhbHNJbmZvKXRoaXMuY3JlYXRlKGEpfSxnZXRJbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5uYW1lTG9va3VwW2FdfSxnZXRBc0FycmF5OmZ1bmN0aW9uKCl7dmFyIGE9MDtmb3IodmFyIHQgaW4gdGhpcy5tYXRlcmlhbHNJbmZvKXRoaXMubWF0ZXJpYWxzQXJyYXlbYV09dGhpcy5jcmVhdGUodCksdGhpcy5uYW1lTG9va3VwW3RdPWEsYSsrO3JldHVybiB0aGlzLm1hdGVyaWFsc0FycmF5fSxjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PXRoaXMubWF0ZXJpYWxzW2FdJiZ0aGlzLmNyZWF0ZU1hdGVyaWFsXyhhKSx0aGlzLm1hdGVyaWFsc1thXX0sY3JlYXRlTWF0ZXJpYWxfOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIHQoYSx0KXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdHx8XCJcIj09PXQ/XCJcIjovXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHQpP3Q6YSt0fWZ1bmN0aW9uIHIoYSxyKXtpZighaVthXSl7dmFyIHM9ZS5nZXRUZXh0dXJlUGFyYW1zKHIsaSksbz1lLmxvYWRUZXh0dXJlKHQoZS5iYXNlVXJsLHMudXJsKSk7by5yZXBlYXQuY29weShzLnNjYWxlKSxvLm9mZnNldC5jb3B5KHMub2Zmc2V0KSxvLndyYXBTPWUud3JhcCxvLndyYXBUPWUud3JhcCxpW2FdPW99fXZhciBlPXRoaXMscz10aGlzLm1hdGVyaWFsc0luZm9bYV0saT17bmFtZTphLHNpZGU6dGhpcy5zaWRlfTtmb3IodmFyIG8gaW4gcyl7dmFyIG4scD1zW29dO2lmKFwiXCIhPT1wKXN3aXRjaChvLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImtkXCI6aS5jb2xvcj0obmV3IFRIUkVFLkNvbG9yKS5mcm9tQXJyYXkocCk7YnJlYWs7Y2FzZVwia3NcIjppLnNwZWN1bGFyPShuZXcgVEhSRUUuQ29sb3IpLmZyb21BcnJheShwKTticmVhaztjYXNlXCJrZVwiOmkuZW1pc3NpdmU9KG5ldyBUSFJFRS5Db2xvcikuZnJvbUFycmF5KHApO2JyZWFrO2Nhc2VcIm1hcF9rZFwiOnIoXCJtYXBcIixwKTticmVhaztjYXNlXCJtYXBfa3NcIjpyKFwic3BlY3VsYXJNYXBcIixwKTticmVhaztjYXNlXCJtYXBfa2VcIjpyKFwiZW1pc3NpdmVNYXBcIixwKTticmVhaztjYXNlXCJub3JtXCI6cihcIm5vcm1hbE1hcFwiLHApO2JyZWFrO2Nhc2VcIm1hcF9idW1wXCI6Y2FzZVwiYnVtcFwiOnIoXCJidW1wTWFwXCIscCk7YnJlYWs7Y2FzZVwibWFwX2RcIjpyKFwiYWxwaGFNYXBcIixwKSxpLnRyYW5zcGFyZW50PSEwO2JyZWFrO2Nhc2VcIm5zXCI6aS5zaGluaW5lc3M9cGFyc2VGbG9hdChwKTticmVhaztjYXNlXCJkXCI6bj1wYXJzZUZsb2F0KHApLG48MSYmKGkub3BhY2l0eT1uLGkudHJhbnNwYXJlbnQ9ITApO2JyZWFrO2Nhc2VcInRyXCI6bj1wYXJzZUZsb2F0KHApLHRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmludmVydFRyUHJvcGVydHkmJihuPTEtbiksbj4wJiYoaS5vcGFjaXR5PTEtbixpLnRyYW5zcGFyZW50PSEwKX19cmV0dXJuIHRoaXMubWF0ZXJpYWxzW2FdPW5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbChpKSx0aGlzLm1hdGVyaWFsc1thXX0sZ2V0VGV4dHVyZVBhcmFtczpmdW5jdGlvbihhLHQpe3ZhciByLGU9e3NjYWxlOm5ldyBUSFJFRS5WZWN0b3IyKDEsMSksb2Zmc2V0Om5ldyBUSFJFRS5WZWN0b3IyKDAsMCl9LHM9YS5zcGxpdCgvXFxzKy8pO3JldHVybiByPXMuaW5kZXhPZihcIi1ibVwiKSxyPj0wJiYodC5idW1wU2NhbGU9cGFyc2VGbG9hdChzW3IrMV0pLHMuc3BsaWNlKHIsMikpLHI9cy5pbmRleE9mKFwiLXNcIikscj49MCYmKGUuc2NhbGUuc2V0KHBhcnNlRmxvYXQoc1tyKzFdKSxwYXJzZUZsb2F0KHNbcisyXSkpLHMuc3BsaWNlKHIsNCkpLHI9cy5pbmRleE9mKFwiLW9cIikscj49MCYmKGUub2Zmc2V0LnNldChwYXJzZUZsb2F0KHNbcisxXSkscGFyc2VGbG9hdChzW3IrMl0pKSxzLnNwbGljZShyLDQpKSxlLnVybD1zLmpvaW4oXCIgXCIpLnRyaW0oKSxlfSxsb2FkVGV4dHVyZTpmdW5jdGlvbihhLHQscixlLHMpe3ZhciBpLG89dm9pZCAwIT09dGhpcy5tYW5hZ2VyP3RoaXMubWFuYWdlcjpUSFJFRS5EZWZhdWx0TG9hZGluZ01hbmFnZXIsbj1vLmdldEhhbmRsZXIoYSk7cmV0dXJuIG51bGw9PT1uJiYobj1uZXcgVEhSRUUuVGV4dHVyZUxvYWRlcihvKSksbi5zZXRDcm9zc09yaWdpbiYmbi5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKSxpPW4ubG9hZChhLHIsZSxzKSx2b2lkIDAhPT10JiYoaS5tYXBwaW5nPXQpLGl9fTtcbn0se31dLDQxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblRIUkVFLk9CSkxvYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdD17b2JqZWN0czpbXSxvYmplY3Q6e30sdmVydGljZXM6W10sbm9ybWFsczpbXSxjb2xvcnM6W10sdXZzOltdLG1hdGVyaWFsTGlicmFyaWVzOltdLHN0YXJ0T2JqZWN0OmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5vYmplY3QmJiExPT09dGhpcy5vYmplY3QuZnJvbURlY2xhcmF0aW9uKXJldHVybiB0aGlzLm9iamVjdC5uYW1lPXQsdm9pZCh0aGlzLm9iamVjdC5mcm9tRGVjbGFyYXRpb249ITEhPT1lKTt2YXIgcj10aGlzLm9iamVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vYmplY3QuY3VycmVudE1hdGVyaWFsP3RoaXMub2JqZWN0LmN1cnJlbnRNYXRlcmlhbCgpOnZvaWQgMDtpZih0aGlzLm9iamVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vYmplY3QuX2ZpbmFsaXplJiZ0aGlzLm9iamVjdC5fZmluYWxpemUoITApLHRoaXMub2JqZWN0PXtuYW1lOnR8fFwiXCIsZnJvbURlY2xhcmF0aW9uOiExIT09ZSxnZW9tZXRyeTp7dmVydGljZXM6W10sbm9ybWFsczpbXSxjb2xvcnM6W10sdXZzOltdfSxtYXRlcmlhbHM6W10sc21vb3RoOiEwLHN0YXJ0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLl9maW5hbGl6ZSghMSk7ciYmKHIuaW5oZXJpdGVkfHxyLmdyb3VwQ291bnQ8PTApJiZ0aGlzLm1hdGVyaWFscy5zcGxpY2Uoci5pbmRleCwxKTt2YXIgaT17aW5kZXg6dGhpcy5tYXRlcmlhbHMubGVuZ3RoLG5hbWU6dHx8XCJcIixtdGxsaWI6QXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MD9lW2UubGVuZ3RoLTFdOlwiXCIsc21vb3RoOnZvaWQgMCE9PXI/ci5zbW9vdGg6dGhpcy5zbW9vdGgsZ3JvdXBTdGFydDp2b2lkIDAhPT1yP3IuZ3JvdXBFbmQ6MCxncm91cEVuZDotMSxncm91cENvdW50Oi0xLGluaGVyaXRlZDohMSxjbG9uZTpmdW5jdGlvbih0KXt2YXIgZT17aW5kZXg6XCJudW1iZXJcIj09dHlwZW9mIHQ/dDp0aGlzLmluZGV4LG5hbWU6dGhpcy5uYW1lLG10bGxpYjp0aGlzLm10bGxpYixzbW9vdGg6dGhpcy5zbW9vdGgsZ3JvdXBTdGFydDowLGdyb3VwRW5kOi0xLGdyb3VwQ291bnQ6LTEsaW5oZXJpdGVkOiExfTtyZXR1cm4gZS5jbG9uZT10aGlzLmNsb25lLmJpbmQoZSksZX19O3JldHVybiB0aGlzLm1hdGVyaWFscy5wdXNoKGkpLGl9LGN1cnJlbnRNYXRlcmlhbDpmdW5jdGlvbigpe2lmKHRoaXMubWF0ZXJpYWxzLmxlbmd0aD4wKXJldHVybiB0aGlzLm1hdGVyaWFsc1t0aGlzLm1hdGVyaWFscy5sZW5ndGgtMV19LF9maW5hbGl6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnRNYXRlcmlhbCgpO2lmKGUmJi0xPT09ZS5ncm91cEVuZCYmKGUuZ3JvdXBFbmQ9dGhpcy5nZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGgvMyxlLmdyb3VwQ291bnQ9ZS5ncm91cEVuZC1lLmdyb3VwU3RhcnQsZS5pbmhlcml0ZWQ9ITEpLHQmJnRoaXMubWF0ZXJpYWxzLmxlbmd0aD4xKWZvcih2YXIgcj10aGlzLm1hdGVyaWFscy5sZW5ndGgtMTtyPj0wO3ItLSl0aGlzLm1hdGVyaWFsc1tyXS5ncm91cENvdW50PD0wJiZ0aGlzLm1hdGVyaWFscy5zcGxpY2UociwxKTtyZXR1cm4gdCYmMD09PXRoaXMubWF0ZXJpYWxzLmxlbmd0aCYmdGhpcy5tYXRlcmlhbHMucHVzaCh7bmFtZTpcIlwiLHNtb290aDp0aGlzLnNtb290aH0pLGV9fSxyJiZyLm5hbWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY2xvbmUpe3ZhciBpPXIuY2xvbmUoMCk7aS5pbmhlcml0ZWQ9ITAsdGhpcy5vYmplY3QubWF0ZXJpYWxzLnB1c2goaSl9dGhpcy5vYmplY3RzLnB1c2godGhpcy5vYmplY3QpfSxmaW5hbGl6ZTpmdW5jdGlvbigpe3RoaXMub2JqZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9iamVjdC5fZmluYWxpemUmJnRoaXMub2JqZWN0Ll9maW5hbGl6ZSghMCl9LHBhcnNlVmVydGV4SW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgcj1wYXJzZUludCh0LDEwKTtyZXR1cm4gMyoocj49MD9yLTE6citlLzMpfSxwYXJzZU5vcm1hbEluZGV4OmZ1bmN0aW9uKHQsZSl7dmFyIHI9cGFyc2VJbnQodCwxMCk7cmV0dXJuIDMqKHI+PTA/ci0xOnIrZS8zKX0scGFyc2VVVkluZGV4OmZ1bmN0aW9uKHQsZSl7dmFyIHI9cGFyc2VJbnQodCwxMCk7cmV0dXJuIDIqKHI+PTA/ci0xOnIrZS8yKX0sYWRkVmVydGV4OmZ1bmN0aW9uKHQsZSxyKXt2YXIgaT10aGlzLnZlcnRpY2VzLHM9dGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXM7cy5wdXNoKGlbdCswXSxpW3QrMV0saVt0KzJdKSxzLnB1c2goaVtlKzBdLGlbZSsxXSxpW2UrMl0pLHMucHVzaChpW3IrMF0saVtyKzFdLGlbcisyXSl9LGFkZFZlcnRleFBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmVydGljZXM7dGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXMucHVzaChlW3QrMF0sZVt0KzFdLGVbdCsyXSl9LGFkZFZlcnRleExpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52ZXJ0aWNlczt0aGlzLm9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKGVbdCswXSxlW3QrMV0sZVt0KzJdKX0sYWRkTm9ybWFsOmZ1bmN0aW9uKHQsZSxyKXt2YXIgaT10aGlzLm5vcm1hbHMscz10aGlzLm9iamVjdC5nZW9tZXRyeS5ub3JtYWxzO3MucHVzaChpW3QrMF0saVt0KzFdLGlbdCsyXSkscy5wdXNoKGlbZSswXSxpW2UrMV0saVtlKzJdKSxzLnB1c2goaVtyKzBdLGlbcisxXSxpW3IrMl0pfSxhZGRDb2xvcjpmdW5jdGlvbih0LGUscil7dmFyIGk9dGhpcy5jb2xvcnMscz10aGlzLm9iamVjdC5nZW9tZXRyeS5jb2xvcnM7cy5wdXNoKGlbdCswXSxpW3QrMV0saVt0KzJdKSxzLnB1c2goaVtlKzBdLGlbZSsxXSxpW2UrMl0pLHMucHVzaChpW3IrMF0saVtyKzFdLGlbcisyXSl9LGFkZFVWOmZ1bmN0aW9uKHQsZSxyKXt2YXIgaT10aGlzLnV2cyxzPXRoaXMub2JqZWN0Lmdlb21ldHJ5LnV2cztzLnB1c2goaVt0KzBdLGlbdCsxXSkscy5wdXNoKGlbZSswXSxpW2UrMV0pLHMucHVzaChpW3IrMF0saVtyKzFdKX0sYWRkVVZMaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudXZzO3RoaXMub2JqZWN0Lmdlb21ldHJ5LnV2cy5wdXNoKGVbdCswXSxlW3QrMV0pfSxhZGRGYWNlOmZ1bmN0aW9uKHQsZSxyLGkscyxhLG8sbixsKXt2YXIgaD10aGlzLnZlcnRpY2VzLmxlbmd0aCxjPXRoaXMucGFyc2VWZXJ0ZXhJbmRleCh0LGgpLHU9dGhpcy5wYXJzZVZlcnRleEluZGV4KGUsaCkscD10aGlzLnBhcnNlVmVydGV4SW5kZXgocixoKTtpZih0aGlzLmFkZFZlcnRleChjLHUscCksdGhpcy5jb2xvcnMubGVuZ3RoPjAmJnRoaXMuYWRkQ29sb3IoYyx1LHApLHZvaWQgMCE9PWkmJlwiXCIhPT1pKXt2YXIgbT10aGlzLnV2cy5sZW5ndGg7Yz10aGlzLnBhcnNlVVZJbmRleChpLG0pLHU9dGhpcy5wYXJzZVVWSW5kZXgocyxtKSxwPXRoaXMucGFyc2VVVkluZGV4KGEsbSksdGhpcy5hZGRVVihjLHUscCl9aWYodm9pZCAwIT09byYmXCJcIiE9PW8pe3ZhciBmPXRoaXMubm9ybWFscy5sZW5ndGg7Yz10aGlzLnBhcnNlTm9ybWFsSW5kZXgobyxmKSx1PW89PT1uP2M6dGhpcy5wYXJzZU5vcm1hbEluZGV4KG4sZikscD1vPT09bD9jOnRoaXMucGFyc2VOb3JtYWxJbmRleChsLGYpLHRoaXMuYWRkTm9ybWFsKGMsdSxwKX19LGFkZFBvaW50R2VvbWV0cnk6ZnVuY3Rpb24odCl7dGhpcy5vYmplY3QuZ2VvbWV0cnkudHlwZT1cIlBvaW50c1wiO2Zvcih2YXIgZT10aGlzLnZlcnRpY2VzLmxlbmd0aCxyPTAsaT10Lmxlbmd0aDtyPGk7cisrKXRoaXMuYWRkVmVydGV4UG9pbnQodGhpcy5wYXJzZVZlcnRleEluZGV4KHRbcl0sZSkpfSxhZGRMaW5lR2VvbWV0cnk6ZnVuY3Rpb24odCxlKXt0aGlzLm9iamVjdC5nZW9tZXRyeS50eXBlPVwiTGluZVwiO2Zvcih2YXIgcj10aGlzLnZlcnRpY2VzLmxlbmd0aCxpPXRoaXMudXZzLmxlbmd0aCxzPTAsYT10Lmxlbmd0aDtzPGE7cysrKXRoaXMuYWRkVmVydGV4TGluZSh0aGlzLnBhcnNlVmVydGV4SW5kZXgodFtzXSxyKSk7Zm9yKHZhciBvPTAsYT1lLmxlbmd0aDtvPGE7bysrKXRoaXMuYWRkVVZMaW5lKHRoaXMucGFyc2VVVkluZGV4KGVbb10saSkpfX07cmV0dXJuIHQuc3RhcnRPYmplY3QoXCJcIiwhMSksdH1mdW5jdGlvbiBlKHQpe1RIUkVFLkxvYWRlci5jYWxsKHRoaXMsdCksdGhpcy5tYXRlcmlhbHM9bnVsbH12YXIgcj0vXltvZ11cXHMqKC4rKT8vLGk9L15tdGxsaWIgLyxzPS9edXNlbXRsIC8sYT0vXnVzZW1hcCAvO3JldHVybiBlLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoVEhSRUUuTG9hZGVyLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmUsbG9hZDpmdW5jdGlvbih0LGUscixpKXt2YXIgcz10aGlzLGE9bmV3IFRIUkVFLkZpbGVMb2FkZXIocy5tYW5hZ2VyKTthLnNldFBhdGgodGhpcy5wYXRoKSxhLmxvYWQodCxmdW5jdGlvbih0KXtlKHMucGFyc2UodCkpfSxyLGkpfSxzZXRNYXRlcmlhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWF0ZXJpYWxzPXQsdGhpc30scGFyc2U6ZnVuY3Rpb24oZSl7Y29uc29sZS50aW1lKFwiT0JKTG9hZGVyXCIpO3ZhciBvPW5ldyB0Oy0xIT09ZS5pbmRleE9mKFwiXFxyXFxuXCIpJiYoZT1lLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpKSwtMSE9PWUuaW5kZXhPZihcIlxcXFxcXG5cIikmJihlPWUucmVwbGFjZSgvXFxcXFxcbi9nLFwiXCIpKTtmb3IodmFyIG49ZS5zcGxpdChcIlxcblwiKSxsPVwiXCIsaD1cIlwiLGM9W10sdT1cImZ1bmN0aW9uXCI9PXR5cGVvZlwiXCIudHJpbUxlZnQscD0wLG09bi5sZW5ndGg7cDxtO3ArKylpZihsPW5bcF0sbD11P2wudHJpbUxlZnQoKTpsLnRyaW0oKSwwIT09bC5sZW5ndGgmJlwiI1wiIT09KGg9bC5jaGFyQXQoMCkpKWlmKFwidlwiPT09aCl7dmFyIGY9bC5zcGxpdCgvXFxzKy8pO3N3aXRjaChmWzBdKXtjYXNlXCJ2XCI6by52ZXJ0aWNlcy5wdXNoKHBhcnNlRmxvYXQoZlsxXSkscGFyc2VGbG9hdChmWzJdKSxwYXJzZUZsb2F0KGZbM10pKSxmLmxlbmd0aD49NyYmby5jb2xvcnMucHVzaChwYXJzZUZsb2F0KGZbNF0pLHBhcnNlRmxvYXQoZls1XSkscGFyc2VGbG9hdChmWzZdKSk7YnJlYWs7Y2FzZVwidm5cIjpvLm5vcm1hbHMucHVzaChwYXJzZUZsb2F0KGZbMV0pLHBhcnNlRmxvYXQoZlsyXSkscGFyc2VGbG9hdChmWzNdKSk7YnJlYWs7Y2FzZVwidnRcIjpvLnV2cy5wdXNoKHBhcnNlRmxvYXQoZlsxXSkscGFyc2VGbG9hdChmWzJdKSl9fWVsc2UgaWYoXCJmXCI9PT1oKXtmb3IodmFyIGQ9bC5zdWJzdHIoMSkudHJpbSgpLHY9ZC5zcGxpdCgvXFxzKy8pLGc9W10sYj0wLEU9di5sZW5ndGg7YjxFO2IrKyl7dmFyIGo9dltiXTtpZihqLmxlbmd0aD4wKXt2YXIgeD1qLnNwbGl0KFwiL1wiKTtnLnB1c2goeCl9fWZvcih2YXIgeT1nWzBdLGI9MSxFPWcubGVuZ3RoLTE7YjxFO2IrKyl7dmFyIFQ9Z1tiXSxMPWdbYisxXTtvLmFkZEZhY2UoeVswXSxUWzBdLExbMF0seVsxXSxUWzFdLExbMV0seVsyXSxUWzJdLExbMl0pfX1lbHNlIGlmKFwibFwiPT09aCl7dmFyIFI9bC5zdWJzdHJpbmcoMSkudHJpbSgpLnNwbGl0KFwiIFwiKSxIPVtdLHc9W107aWYoLTE9PT1sLmluZGV4T2YoXCIvXCIpKUg9UjtlbHNlIGZvcih2YXIgVj0wLE09Ui5sZW5ndGg7VjxNO1YrKyl7dmFyIEY9UltWXS5zcGxpdChcIi9cIik7XCJcIiE9PUZbMF0mJkgucHVzaChGWzBdKSxcIlwiIT09RlsxXSYmdy5wdXNoKEZbMV0pfW8uYWRkTGluZUdlb21ldHJ5KEgsdyl9ZWxzZSBpZihcInBcIj09PWgpe3ZhciBkPWwuc3Vic3RyKDEpLnRyaW0oKSxJPWQuc3BsaXQoXCIgXCIpO28uYWRkUG9pbnRHZW9tZXRyeShJKX1lbHNlIGlmKG51bGwhPT0oYz1yLmV4ZWMobCkpKXt2YXIgQT0oXCIgXCIrY1swXS5zdWJzdHIoMSkudHJpbSgpKS5zdWJzdHIoMSk7by5zdGFydE9iamVjdChBKX1lbHNlIGlmKHMudGVzdChsKSlvLm9iamVjdC5zdGFydE1hdGVyaWFsKGwuc3Vic3RyaW5nKDcpLnRyaW0oKSxvLm1hdGVyaWFsTGlicmFyaWVzKTtlbHNlIGlmKGkudGVzdChsKSlvLm1hdGVyaWFsTGlicmFyaWVzLnB1c2gobC5zdWJzdHJpbmcoNykudHJpbSgpKTtlbHNlIGlmKGEudGVzdChsKSljb25zb2xlLndhcm4oJ1RIUkVFLk9CSkxvYWRlcjogUmVuZGVyaW5nIGlkZW50aWZpZXIgXCJ1c2VtYXBcIiBub3Qgc3VwcG9ydGVkLiBUZXh0dXJlcyBtdXN0IGJlIGRlZmluZWQgaW4gTVRMIGZpbGVzLicpO2Vsc2V7aWYoXCJzXCIhPT1oKXtpZihcIlxcMFwiPT09bCljb250aW51ZTt0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLk9CSkxvYWRlcjogVW5leHBlY3RlZCBsaW5lOiBcIicrbCsnXCInKX1pZihjPWwuc3BsaXQoXCIgXCIpLGMubGVuZ3RoPjEpe3ZhciBCPWNbMV0udHJpbSgpLnRvTG93ZXJDYXNlKCk7by5vYmplY3Quc21vb3RoPVwiMFwiIT09QiYmXCJvZmZcIiE9PUJ9ZWxzZSBvLm9iamVjdC5zbW9vdGg9ITA7dmFyIE89by5vYmplY3QuY3VycmVudE1hdGVyaWFsKCk7TyYmKE8uc21vb3RoPW8ub2JqZWN0LnNtb290aCl9by5maW5hbGl6ZSgpO3ZhciBQPW5ldyBUSFJFRS5Hcm91cDtQLm1hdGVyaWFsTGlicmFyaWVzPVtdLmNvbmNhdChvLm1hdGVyaWFsTGlicmFyaWVzKTtmb3IodmFyIHA9MCxtPW8ub2JqZWN0cy5sZW5ndGg7cDxtO3ArKyl7dmFyIHo9by5vYmplY3RzW3BdLEM9ei5nZW9tZXRyeSxVPXoubWF0ZXJpYWxzLE49XCJMaW5lXCI9PT1DLnR5cGUsRz1cIlBvaW50c1wiPT09Qy50eXBlLFM9ITE7aWYoMCE9PUMudmVydGljZXMubGVuZ3RoKXt2YXIgXz1uZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnk7Xy5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKEMudmVydGljZXMsMykpLEMubm9ybWFscy5sZW5ndGg+MD9fLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKEMubm9ybWFscywzKSk6Xy5jb21wdXRlVmVydGV4Tm9ybWFscygpLEMuY29sb3JzLmxlbmd0aD4wJiYoUz0hMCxfLnNldEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoQy5jb2xvcnMsMykpKSxDLnV2cy5sZW5ndGg+MCYmXy5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKEMudXZzLDIpKTtmb3IodmFyIEo9W10sRD0wLGs9VS5sZW5ndGg7RDxrO0QrKyl7dmFyIHE9VVtEXSxPPXZvaWQgMDtpZihudWxsIT09dGhpcy5tYXRlcmlhbHMpaWYoTz10aGlzLm1hdGVyaWFscy5jcmVhdGUocS5uYW1lKSwhTnx8IU98fE8gaW5zdGFuY2VvZiBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCl7aWYoRyYmTyYmIShPIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRzTWF0ZXJpYWwpKXt2YXIgSz1uZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoe3NpemU6MTAsc2l6ZUF0dGVudWF0aW9uOiExfSk7VEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChLLE8pLEsuY29sb3IuY29weShPLmNvbG9yKSxLLm1hcD1PLm1hcCxPPUt9fWVsc2V7dmFyIFE9bmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsO1RIUkVFLk1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoUSxPKSxRLmNvbG9yLmNvcHkoTy5jb2xvciksTz1RfU98fChPPU4/bmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsOkc/bmV3IFRIUkVFLlBvaW50c01hdGVyaWFsKHtzaXplOjEsc2l6ZUF0dGVudWF0aW9uOiExfSk6bmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsLE8ubmFtZT1xLm5hbWUpLE8uZmxhdFNoYWRpbmc9IXEuc21vb3RoLE8udmVydGV4Q29sb3JzPVM/VEhSRUUuVmVydGV4Q29sb3JzOlRIUkVFLk5vQ29sb3JzLEoucHVzaChPKX12YXIgVztpZihKLmxlbmd0aD4xKXtmb3IodmFyIEQ9MCxrPVUubGVuZ3RoO0Q8aztEKyspe3ZhciBxPVVbRF07Xy5hZGRHcm91cChxLmdyb3VwU3RhcnQscS5ncm91cENvdW50LEQpfVc9Tj9uZXcgVEhSRUUuTGluZVNlZ21lbnRzKF8sSik6Rz9uZXcgVEhSRUUuUG9pbnRzKF8sSik6bmV3IFRIUkVFLk1lc2goXyxKKX1lbHNlIFc9Tj9uZXcgVEhSRUUuTGluZVNlZ21lbnRzKF8sSlswXSk6Rz9uZXcgVEhSRUUuUG9pbnRzKF8sSlswXSk6bmV3IFRIUkVFLk1lc2goXyxKWzBdKTtXLm5hbWU9ei5uYW1lLFAuYWRkKFcpfX1yZXR1cm4gY29uc29sZS50aW1lRW5kKFwiT0JKTG9hZGVyXCIpLFB9fSksZX0oKTtcbn0se31dLDQyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIFRleHRHZW9tZXRyeShlKXtCYXNlLmNhbGwodGhpcyksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXt0ZXh0OmV9KSx0aGlzLl9vcHQ9YXNzaWduKHt9LGUpLGUmJnRoaXMudXBkYXRlKGUpfXZhciBjcmVhdGVMYXlvdXQ9X2RlcmVxXyhcImxheW91dC1ibWZvbnQtdGV4dFwiKSxpbmhlcml0cz1fZGVyZXFfKFwiaW5oZXJpdHNcIiksY3JlYXRlSW5kaWNlcz1fZGVyZXFfKFwicXVhZC1pbmRpY2VzXCIpLGJ1ZmZlcj1fZGVyZXFfKFwidGhyZWUtYnVmZmVyLXZlcnRleC1kYXRhXCIpLGFzc2lnbj1fZGVyZXFfKFwib2JqZWN0LWFzc2lnblwiKSx2ZXJ0aWNlcz1fZGVyZXFfKFwiLi9saWIvdmVydGljZXNcIiksdXRpbHM9X2RlcmVxXyhcIi4vbGliL3V0aWxzXCIpLEJhc2U9VEhSRUUuQnVmZmVyR2VvbWV0cnk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBUZXh0R2VvbWV0cnkoZSl9LGluaGVyaXRzKFRleHRHZW9tZXRyeSxCYXNlKSxUZXh0R2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e3RleHQ6ZX0pLGU9YXNzaWduKHt9LHRoaXMuX29wdCxlKSwhZS5mb250KXRocm93IG5ldyBUeXBlRXJyb3IoXCJtdXN0IHNwZWNpZnkgYSB7IGZvbnQgfSBpbiBvcHRpb25zXCIpO3RoaXMubGF5b3V0PWNyZWF0ZUxheW91dChlKTt2YXIgdD0hMSE9PWUuZmxpcFksaT1lLmZvbnQscj1pLmNvbW1vbi5zY2FsZVcsbz1pLmNvbW1vbi5zY2FsZUgscz10aGlzLmxheW91dC5nbHlwaHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YTtyZXR1cm4gdC53aWR0aCp0LmhlaWdodD4wfSk7dGhpcy52aXNpYmxlR2x5cGhzPXM7dmFyIG49dmVydGljZXMucG9zaXRpb25zKHMpLHU9dmVydGljZXMudXZzKHMscixvLHQpLGE9Y3JlYXRlSW5kaWNlcyh7Y2xvY2t3aXNlOiEwLHR5cGU6XCJ1aW50MTZcIixjb3VudDpzLmxlbmd0aH0pO2lmKGJ1ZmZlci5pbmRleCh0aGlzLGEsMSxcInVpbnQxNlwiKSxidWZmZXIuYXR0cih0aGlzLFwicG9zaXRpb25cIixuLDIpLGJ1ZmZlci5hdHRyKHRoaXMsXCJ1dlwiLHUsMiksIWUubXVsdGlwYWdlJiZcInBhZ2VcImluIHRoaXMuYXR0cmlidXRlcyl0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInBhZ2VcIik7ZWxzZSBpZihlLm11bHRpcGFnZSl7dmFyIGg9dmVydGljZXMucGFnZXMocyk7YnVmZmVyLmF0dHIodGhpcyxcInBhZ2VcIixoLDEpfX0sVGV4dEdlb21ldHJ5LnByb3RvdHlwZS5jb21wdXRlQm91bmRpbmdTcGhlcmU9ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFRIUkVFLlNwaGVyZSk7dmFyIGU9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5LHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLml0ZW1TaXplO2lmKCFlfHwhdHx8ZS5sZW5ndGg8MilyZXR1cm4gdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXM9MCx2b2lkIHRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyLnNldCgwLDAsMCk7dXRpbHMuY29tcHV0ZVNwaGVyZShlLHRoaXMuYm91bmRpbmdTcGhlcmUpLGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSYmY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSBcInBvc2l0aW9uXCIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyl9LFRleHRHZW9tZXRyeS5wcm90b3R5cGUuY29tcHV0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuYm91bmRpbmdCb3gmJih0aGlzLmJvdW5kaW5nQm94PW5ldyBUSFJFRS5Cb3gzKTt2YXIgZT10aGlzLmJvdW5kaW5nQm94LHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5LGk9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLml0ZW1TaXplO2lmKCF0fHwhaXx8dC5sZW5ndGg8MilyZXR1cm4gdm9pZCBlLm1ha2VFbXB0eSgpO3V0aWxzLmNvbXB1dGVCb3godCxlKX07XG59LHtcIi4vbGliL3V0aWxzXCI6NDMsXCIuL2xpYi92ZXJ0aWNlc1wiOjQ0LFwiaW5oZXJpdHNcIjoxOSxcImxheW91dC1ibWZvbnQtdGV4dFwiOjI0LFwib2JqZWN0LWFzc2lnblwiOjI3LFwicXVhZC1pbmRpY2VzXCI6MzUsXCJ0aHJlZS1idWZmZXItdmVydGV4LWRhdGFcIjo0NX1dLDQzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGJvdW5kcyh4KXt2YXIgbT14Lmxlbmd0aC9pdGVtU2l6ZTtib3gubWluWzBdPXhbMF0sYm94Lm1pblsxXT14WzFdLGJveC5tYXhbMF09eFswXSxib3gubWF4WzFdPXhbMV07Zm9yKHZhciBvPTA7bzxtO28rKyl7dmFyIGk9eFtvKml0ZW1TaXplKzBdLGE9eFtvKml0ZW1TaXplKzFdO2JveC5taW5bMF09TWF0aC5taW4oaSxib3gubWluWzBdKSxib3gubWluWzFdPU1hdGgubWluKGEsYm94Lm1pblsxXSksYm94Lm1heFswXT1NYXRoLm1heChpLGJveC5tYXhbMF0pLGJveC5tYXhbMV09TWF0aC5tYXgoYSxib3gubWF4WzFdKX19dmFyIGl0ZW1TaXplPTIsYm94PXttaW46WzAsMF0sbWF4OlswLDBdfTttb2R1bGUuZXhwb3J0cy5jb21wdXRlQm94PWZ1bmN0aW9uKHgsbSl7Ym91bmRzKHgpLG0ubWluLnNldChib3gubWluWzBdLGJveC5taW5bMV0sMCksbS5tYXguc2V0KGJveC5tYXhbMF0sYm94Lm1heFsxXSwwKX0sbW9kdWxlLmV4cG9ydHMuY29tcHV0ZVNwaGVyZT1mdW5jdGlvbih4LG0pe2JvdW5kcyh4KTt2YXIgbz1ib3gubWluWzBdLGk9Ym94Lm1pblsxXSxhPWJveC5tYXhbMF0sbj1ib3gubWF4WzFdLGI9YS1vLGU9bi1pLHQ9TWF0aC5zcXJ0KGIqYitlKmUpO20uY2VudGVyLnNldChvK2IvMixpK2UvMiwwKSxtLnJhZGl1cz10LzJ9O1xufSx7fV0sNDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMucGFnZXM9ZnVuY3Rpb24odCl7dmFyIG89bmV3IEZsb2F0MzJBcnJheSg0KnQubGVuZ3RoKjEpLG49MDtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPXQuZGF0YS5wYWdlfHwwO29bbisrXT1yLG9bbisrXT1yLG9bbisrXT1yLG9bbisrXT1yfSksb30sbW9kdWxlLmV4cG9ydHMudXZzPWZ1bmN0aW9uKHQsbyxuLHIpe3ZhciBhPW5ldyBGbG9hdDMyQXJyYXkoNCp0Lmxlbmd0aCoyKSxlPTA7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT10LmRhdGEsZj1pLngraS53aWR0aCx1PWkueStpLmhlaWdodCxoPWkueC9vLHM9aS55L24sYz1mL28sbD11L247ciYmKHM9KG4taS55KS9uLGw9KG4tdSkvbiksYVtlKytdPWgsYVtlKytdPXMsYVtlKytdPWgsYVtlKytdPWwsYVtlKytdPWMsYVtlKytdPWwsYVtlKytdPWMsYVtlKytdPXN9KSxhfSxtb2R1bGUuZXhwb3J0cy5wb3NpdGlvbnM9ZnVuY3Rpb24odCl7dmFyIG89bmV3IEZsb2F0MzJBcnJheSg0KnQubGVuZ3RoKjIpLG49MDtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPXQuZGF0YSxhPXQucG9zaXRpb25bMF0rci54b2Zmc2V0LGU9dC5wb3NpdGlvblsxXStyLnlvZmZzZXQsaT1yLndpZHRoLGY9ci5oZWlnaHQ7b1tuKytdPWEsb1tuKytdPWUsb1tuKytdPWEsb1tuKytdPWUrZixvW24rK109YStpLG9bbisrXT1lK2Ysb1tuKytdPWEraSxvW24rK109ZX0pLG99O1xufSx7fV0sNDU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gc2V0SW5kZXgodCxlLHIsbil7XCJudW1iZXJcIiE9dHlwZW9mIHImJihyPTEpLFwic3RyaW5nXCIhPXR5cGVvZiBuJiYobj1cInVpbnQxNlwiKTt2YXIgaT0hdC5pbmRleCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdC5zZXRJbmRleCx1PWk/dC5nZXRBdHRyaWJ1dGUoXCJpbmRleFwiKTp0LmluZGV4LGE9dXBkYXRlQXR0cmlidXRlKHUsZSxyLG4pO2EmJihpP3QuYWRkQXR0cmlidXRlKFwiaW5kZXhcIixhKTp0LmluZGV4PWEpfWZ1bmN0aW9uIHNldEF0dHJpYnV0ZSh0LGUscixuLGkpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBuJiYobj0zKSxcInN0cmluZ1wiIT10eXBlb2YgaSYmKGk9XCJmbG9hdDMyXCIpLEFycmF5LmlzQXJyYXkocikmJkFycmF5LmlzQXJyYXkoclswXSkmJnJbMF0ubGVuZ3RoIT09bil0aHJvdyBuZXcgRXJyb3IoXCJOZXN0ZWQgdmVydGV4IGFycmF5IGhhcyB1bmV4cGVjdGVkIHNpemU7IGV4cGVjdGVkIFwiK24rXCIgYnV0IGZvdW5kIFwiK3JbMF0ubGVuZ3RoKTt2YXIgdT10LmdldEF0dHJpYnV0ZShlKSxhPXVwZGF0ZUF0dHJpYnV0ZSh1LHIsbixpKTt0LnNldEF0dHJpYnV0ZShlLGEpfWZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZSh0LGUscixuKXtyZXR1cm4gZT1lfHxbXSxlPWZsYXR0ZW4oZSxuKSx0PW5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoZSxyKSx0Lml0ZW1TaXplPXIsdC5uZWVkc1VwZGF0ZT0hMCx0fWZ1bmN0aW9uIHJlYnVpbGRBdHRyaWJ1dGUodCxlLHIpe2lmKHQuaXRlbVNpemUhPT1yKXJldHVybiEwO2lmKCF0LmFycmF5KXJldHVybiEwO3ZhciBuPXQuYXJyYXkubGVuZ3RoO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KGVbMF0pP24hPT1lLmxlbmd0aCpyOm4hPT1lLmxlbmd0aH12YXIgZmxhdHRlbj1fZGVyZXFfKFwiZmxhdHRlbi12ZXJ0ZXgtZGF0YVwiKSx3YXJuZWQ9ITE7bW9kdWxlLmV4cG9ydHMuYXR0cj1zZXRBdHRyaWJ1dGUsbW9kdWxlLmV4cG9ydHMuaW5kZXg9c2V0SW5kZXg7XG59LHtcImZsYXR0ZW4tdmVydGV4LWRhdGFcIjoxNX1dLDQ2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoc2V0SW1tZWRpYXRlLGNsZWFySW1tZWRpYXRlKXtcbmZ1bmN0aW9uIFRpbWVvdXQoZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH12YXIgbmV4dFRpY2s9X2RlcmVxXyhcInByb2Nlc3MvYnJvd3Nlci5qc1wiKS5uZXh0VGljayxhcHBseT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksc2xpY2U9QXJyYXkucHJvdG90eXBlLnNsaWNlLGltbWVkaWF0ZUlkcz17fSxuZXh0SW1tZWRpYXRlSWQ9MDtleHBvcnRzLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGV4cG9ydHMuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sZXhwb3J0cy5jbGVhclRpbWVvdXQ9ZXhwb3J0cy5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UuY2xvc2UoKX0sVGltZW91dC5wcm90b3R5cGUudW5yZWY9VGltZW91dC5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxUaW1lb3V0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxleHBvcnRzLmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSxleHBvcnRzLnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sZXhwb3J0cy5fdW5yZWZBY3RpdmU9ZXhwb3J0cy5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0O3Q+PTAmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9vblRpbWVvdXQmJmUuX29uVGltZW91dCgpfSx0KSl9LGV4cG9ydHMuc2V0SW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV4dEltbWVkaWF0ZUlkKyssaT0hKGFyZ3VtZW50cy5sZW5ndGg8MikmJnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBpbW1lZGlhdGVJZHNbdF09ITAsbmV4dFRpY2soZnVuY3Rpb24oKXtpbW1lZGlhdGVJZHNbdF0mJihpP2UuYXBwbHkobnVsbCxpKTplLmNhbGwobnVsbCksZXhwb3J0cy5jbGVhckltbWVkaWF0ZSh0KSl9KSx0fSxleHBvcnRzLmNsZWFySW1tZWRpYXRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFySW1tZWRpYXRlP2NsZWFySW1tZWRpYXRlOmZ1bmN0aW9uKGUpe2RlbGV0ZSBpbW1lZGlhdGVJZHNbZV19O1xufSkuY2FsbCh0aGlzLF9kZXJlcV8oXCJ0aW1lcnNcIikuc2V0SW1tZWRpYXRlLF9kZXJlcV8oXCJ0aW1lcnNcIikuY2xlYXJJbW1lZGlhdGUpXG5cbn0se1wicHJvY2Vzcy9icm93c2VyLmpzXCI6NDcsXCJ0aW1lcnNcIjo0Nn1dLDQ3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmFyZ3VtZW50c1s0XVs1XVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cylcbn0se1wiZHVwXCI6NX1dLDQ4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHRyaW0ocil7cmV0dXJuIHIucmVwbGFjZSgvXlxccyp8XFxzKiQvZyxcIlwiKX1leHBvcnRzPW1vZHVsZS5leHBvcnRzPXRyaW0sZXhwb3J0cy5sZWZ0PWZ1bmN0aW9uKHIpe3JldHVybiByLnJlcGxhY2UoL15cXHMqLyxcIlwiKX0sZXhwb3J0cy5yaWdodD1mdW5jdGlvbihyKXtyZXR1cm4gci5yZXBsYWNlKC9cXHMqJC8sXCJcIil9O1xufSx7fV0sNDk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6ZS5XZWJWUlBvbHlmaWxsPXQoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSl7dGhpcy5jb25maWc9bihuKHt9LGEpLGUpLHRoaXMucG9seWZpbGxEaXNwbGF5cz1bXSx0aGlzLmVuYWJsZWQ9ITEsdGhpcy5oYXNOYXRpdmU9XCJnZXRWUkRpc3BsYXlzXCJpbiBuYXZpZ2F0b3IsdGhpcy5uYXRpdmU9e30sdGhpcy5uYXRpdmUuZ2V0VlJEaXNwbGF5cz1uYXZpZ2F0b3IuZ2V0VlJEaXNwbGF5cyx0aGlzLm5hdGl2ZS5WUkZyYW1lRGF0YT13aW5kb3cuVlJGcmFtZURhdGEsdGhpcy5uYXRpdmUuVlJEaXNwbGF5PXdpbmRvdy5WUkRpc3BsYXksKCF0aGlzLmhhc05hdGl2ZXx8dGhpcy5jb25maWcuUFJPVklERV9NT0JJTEVfVlJESVNQTEFZJiZpKCkpJiYodGhpcy5lbmFibGUoKSx0aGlzLmdldFZSRGlzcGxheXMoKS50aGVuKGZ1bmN0aW9uKGUpe2UmJmVbMF0mJmVbMF0uZmlyZVZSRGlzcGxheUNvbm5lY3RfJiZlWzBdLmZpcmVWUkRpc3BsYXlDb25uZWN0XygpfSkpfXZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30saT1mdW5jdGlvbigpe3JldHVybi9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTAscj1lLmxlbmd0aDtpPHI7aSsrKXRbaV09ZVtpXX0sbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO3JldHVybiBlfSxBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9e2V4cG9ydHM6e319LGUodCx0LmV4cG9ydHMpLHQuZXhwb3J0c30oZnVuY3Rpb24oZSxpKXshZnVuY3Rpb24oaSxyKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxpKXtpZighdClyZXR1cm4gdm9pZCBpKGUpO2Zvcih2YXIgcj1bXSxuPW51bGwsQT0wO0E8dC5sZW5ndGg7KytBKXt2YXIgcz10W0FdO3N3aXRjaChzKXtjYXNlIGUuVEVYVFVSRV9CSU5ESU5HXzJEOmNhc2UgZS5URVhUVVJFX0JJTkRJTkdfQ1VCRV9NQVA6dmFyIGE9dFsrK0FdO2lmKGE8ZS5URVhUVVJFMHx8YT5lLlRFWFRVUkUzMSl7Y29uc29sZS5lcnJvcihcIlRFWFRVUkVfQklORElOR18yRCBvciBURVhUVVJFX0JJTkRJTkdfQ1VCRV9NQVAgbXVzdCBiZSBmb2xsb3dlZCBieSBhIHZhbGlkIHRleHR1cmUgdW5pdFwiKSxyLnB1c2gobnVsbCxudWxsKTticmVha31ufHwobj1lLmdldFBhcmFtZXRlcihlLkFDVElWRV9URVhUVVJFKSksZS5hY3RpdmVUZXh0dXJlKGEpLHIucHVzaChlLmdldFBhcmFtZXRlcihzKSxudWxsKTticmVhaztjYXNlIGUuQUNUSVZFX1RFWFRVUkU6bj1lLmdldFBhcmFtZXRlcihlLkFDVElWRV9URVhUVVJFKSxyLnB1c2gobnVsbCk7YnJlYWs7ZGVmYXVsdDpyLnB1c2goZS5nZXRQYXJhbWV0ZXIocykpfX1pKGUpO2Zvcih2YXIgQT0wO0E8dC5sZW5ndGg7KytBKXt2YXIgcz10W0FdLG89cltBXTtzd2l0Y2gocyl7Y2FzZSBlLkFDVElWRV9URVhUVVJFOmJyZWFrO2Nhc2UgZS5BUlJBWV9CVUZGRVJfQklORElORzplLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsbyk7YnJlYWs7Y2FzZSBlLkNPTE9SX0NMRUFSX1ZBTFVFOmUuY2xlYXJDb2xvcihvWzBdLG9bMV0sb1syXSxvWzNdKTticmVhaztjYXNlIGUuQ09MT1JfV1JJVEVNQVNLOmUuY29sb3JNYXNrKG9bMF0sb1sxXSxvWzJdLG9bM10pO2JyZWFrO2Nhc2UgZS5DVVJSRU5UX1BST0dSQU06ZS51c2VQcm9ncmFtKG8pO2JyZWFrO2Nhc2UgZS5FTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HOmUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG8pO2JyZWFrO2Nhc2UgZS5GUkFNRUJVRkZFUl9CSU5ESU5HOmUuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsbyk7YnJlYWs7Y2FzZSBlLlJFTkRFUkJVRkZFUl9CSU5ESU5HOmUuYmluZFJlbmRlcmJ1ZmZlcihlLlJFTkRFUkJVRkZFUixvKTticmVhaztjYXNlIGUuVEVYVFVSRV9CSU5ESU5HXzJEOnZhciBhPXRbKytBXTtpZihhPGUuVEVYVFVSRTB8fGE+ZS5URVhUVVJFMzEpYnJlYWs7ZS5hY3RpdmVUZXh0dXJlKGEpLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELG8pO2JyZWFrO2Nhc2UgZS5URVhUVVJFX0JJTkRJTkdfQ1VCRV9NQVA6dmFyIGE9dFsrK0FdO2lmKGE8ZS5URVhUVVJFMHx8YT5lLlRFWFRVUkUzMSlicmVhaztlLmFjdGl2ZVRleHR1cmUoYSksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfQ1VCRV9NQVAsbyk7YnJlYWs7Y2FzZSBlLlZJRVdQT1JUOmUudmlld3BvcnQob1swXSxvWzFdLG9bMl0sb1szXSk7YnJlYWs7Y2FzZSBlLkJMRU5EOmNhc2UgZS5DVUxMX0ZBQ0U6Y2FzZSBlLkRFUFRIX1RFU1Q6Y2FzZSBlLlNDSVNTT1JfVEVTVDpjYXNlIGUuU1RFTkNJTF9URVNUOm8/ZS5lbmFibGUocyk6ZS5kaXNhYmxlKHMpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5sb2coXCJObyBHTCByZXN0b3JlIGJlaGF2aW9yIGZvciAweFwiK3MudG9TdHJpbmcoMTYpKX1uJiZlLmFjdGl2ZVRleHR1cmUobil9fWZ1bmN0aW9uIGkoZSx0LGkscil7dGhpcy5nbD1lLHRoaXMuY2FyZGJvYXJkVUk9dCx0aGlzLmJ1ZmZlclNjYWxlPWksdGhpcy5kaXJ0eVN1Ym1pdEZyYW1lQmluZGluZ3M9cix0aGlzLmN0eEF0dHJpYnM9ZS5nZXRDb250ZXh0QXR0cmlidXRlcygpLHRoaXMubWVzaFdpZHRoPTIwLHRoaXMubWVzaEhlaWdodD0yMCx0aGlzLmJ1ZmZlcldpZHRoPWUuZHJhd2luZ0J1ZmZlcldpZHRoLHRoaXMuYnVmZmVySGVpZ2h0PWUuZHJhd2luZ0J1ZmZlckhlaWdodCx0aGlzLnJlYWxCaW5kRnJhbWVidWZmZXI9ZS5iaW5kRnJhbWVidWZmZXIsdGhpcy5yZWFsRW5hYmxlPWUuZW5hYmxlLHRoaXMucmVhbERpc2FibGU9ZS5kaXNhYmxlLHRoaXMucmVhbENvbG9yTWFzaz1lLmNvbG9yTWFzayx0aGlzLnJlYWxDbGVhckNvbG9yPWUuY2xlYXJDb2xvcix0aGlzLnJlYWxWaWV3cG9ydD1lLnZpZXdwb3J0LE0oKXx8KHRoaXMucmVhbENhbnZhc1dpZHRoPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jYW52YXMuX19wcm90b19fLFwid2lkdGhcIiksdGhpcy5yZWFsQ2FudmFzSGVpZ2h0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jYW52YXMuX19wcm90b19fLFwiaGVpZ2h0XCIpKSx0aGlzLmlzUGF0Y2hlZD0hMSx0aGlzLmxhc3RCb3VuZEZyYW1lYnVmZmVyPW51bGwsdGhpcy5jdWxsRmFjZT0hMSx0aGlzLmRlcHRoVGVzdD0hMSx0aGlzLmJsZW5kPSExLHRoaXMuc2Npc3NvclRlc3Q9ITEsdGhpcy5zdGVuY2lsVGVzdD0hMSx0aGlzLnZpZXdwb3J0PVswLDAsMCwwXSx0aGlzLmNvbG9yTWFzaz1bITAsITAsITAsITBdLHRoaXMuY2xlYXJDb2xvcj1bMCwwLDAsMF0sdGhpcy5hdHRyaWJzPXtwb3NpdGlvbjowLHRleENvb3JkOjF9LHRoaXMucHJvZ3JhbT1HKGUsSixxLHRoaXMuYXR0cmlicyksdGhpcy51bmlmb3Jtcz1PKGUsdGhpcy5wcm9ncmFtKSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGU9bmV3IEZsb2F0MzJBcnJheSg4KSx0aGlzLnNldFRleHR1cmVCb3VuZHMoKSx0aGlzLnZlcnRleEJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLmluZGV4Q291bnQ9MCx0aGlzLnJlbmRlclRhcmdldD1lLmNyZWF0ZVRleHR1cmUoKSx0aGlzLmZyYW1lYnVmZmVyPWUuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLmRlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLHRoaXMuZGVwdGhCdWZmZXI9bnVsbCx0aGlzLnN0ZW5jaWxCdWZmZXI9bnVsbCx0aGlzLmN0eEF0dHJpYnMuZGVwdGgmJnRoaXMuY3R4QXR0cmlicy5zdGVuY2lsP3RoaXMuZGVwdGhTdGVuY2lsQnVmZmVyPWUuY3JlYXRlUmVuZGVyYnVmZmVyKCk6dGhpcy5jdHhBdHRyaWJzLmRlcHRoP3RoaXMuZGVwdGhCdWZmZXI9ZS5jcmVhdGVSZW5kZXJidWZmZXIoKTp0aGlzLmN0eEF0dHJpYnMuc3RlbmNpbCYmKHRoaXMuc3RlbmNpbEJ1ZmZlcj1lLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpKSx0aGlzLnBhdGNoKCksdGhpcy5vblJlc2l6ZSgpfWZ1bmN0aW9uIHIoZSl7dGhpcy5nbD1lLHRoaXMuYXR0cmlicz17cG9zaXRpb246MH0sdGhpcy5wcm9ncmFtPUcoZSwkLGVlLHRoaXMuYXR0cmlicyksdGhpcy51bmlmb3Jtcz1PKGUsdGhpcy5wcm9ncmFtKSx0aGlzLnZlcnRleEJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZ2Vhck9mZnNldD0wLHRoaXMuZ2VhclZlcnRleENvdW50PTAsdGhpcy5hcnJvd09mZnNldD0wLHRoaXMuYXJyb3dWZXJ0ZXhDb3VudD0wLHRoaXMucHJvak1hdD1uZXcgRmxvYXQzMkFycmF5KDE2KSx0aGlzLmxpc3RlbmVyPW51bGwsdGhpcy5vblJlc2l6ZSgpfWZ1bmN0aW9uIG4oZSl7dGhpcy5jb2VmZmljaWVudHM9ZX1mdW5jdGlvbiBBKGUpe3RoaXMud2lkdGg9ZS53aWR0aHx8eCgpLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0fHxMKCksdGhpcy53aWR0aE1ldGVycz1lLndpZHRoTWV0ZXJzLHRoaXMuaGVpZ2h0TWV0ZXJzPWUuaGVpZ2h0TWV0ZXJzLHRoaXMuYmV2ZWxNZXRlcnM9ZS5iZXZlbE1ldGVyc31mdW5jdGlvbiBzKGUsdCl7dGhpcy52aWV3ZXI9bGUuQ2FyZGJvYXJkVjIsdGhpcy51cGRhdGVEZXZpY2VQYXJhbXMoZSksdGhpcy5kaXN0b3J0aW9uPW5ldyBuKHRoaXMudmlld2VyLmRpc3RvcnRpb25Db2VmZmljaWVudHMpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldO2xlW3IuaWRdPW5ldyBhKHIpfX1mdW5jdGlvbiBhKGUpe3RoaXMuaWQ9ZS5pZCx0aGlzLmxhYmVsPWUubGFiZWwsdGhpcy5mb3Y9ZS5mb3YsdGhpcy5pbnRlckxlbnNEaXN0YW5jZT1lLmludGVyTGVuc0Rpc3RhbmNlLHRoaXMuYmFzZWxpbmVMZW5zRGlzdGFuY2U9ZS5iYXNlbGluZUxlbnNEaXN0YW5jZSx0aGlzLnNjcmVlbkxlbnNEaXN0YW5jZT1lLnNjcmVlbkxlbnNEaXN0YW5jZSx0aGlzLmRpc3RvcnRpb25Db2VmZmljaWVudHM9ZS5kaXN0b3J0aW9uQ29lZmZpY2llbnRzLHRoaXMuaW52ZXJzZUNvZWZmaWNpZW50cz1lLmludmVyc2VDb2VmZmljaWVudHN9ZnVuY3Rpb24gbyhlLHQpe2lmKHRoaXMuZHBkYj1oZSx0aGlzLnJlY2FsY3VsYXRlRGV2aWNlUGFyYW1zXygpLGUpe3RoaXMub25EZXZpY2VQYXJhbXNVcGRhdGVkPXQ7dmFyIGk9bmV3IFhNTEh0dHBSZXF1ZXN0LHI9dGhpcztpLm9wZW4oXCJHRVRcIixlLCEwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtyLmxvYWRpbmc9ITEsaS5zdGF0dXM+PTIwMCYmaS5zdGF0dXM8PTI5OT8oci5kcGRiPUpTT04ucGFyc2UoaS5yZXNwb25zZSksci5yZWNhbGN1bGF0ZURldmljZVBhcmFtc18oKSk6Y29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgb25saW5lIERQREIhXCIpfSksaS5zZW5kKCl9fWZ1bmN0aW9uIGwoZSl7dGhpcy54ZHBpPWUueGRwaSx0aGlzLnlkcGk9ZS55ZHBpLHRoaXMuYmV2ZWxNbT1lLmJldmVsTW19ZnVuY3Rpb24gYyhlLHQpe3RoaXMuc2V0KGUsdCl9ZnVuY3Rpb24gaChlLHQpe3RoaXMua0ZpbHRlcj1lLHRoaXMuaXNEZWJ1Zz10LHRoaXMuY3VycmVudEFjY2VsTWVhc3VyZW1lbnQ9bmV3IGMsdGhpcy5jdXJyZW50R3lyb01lYXN1cmVtZW50PW5ldyBjLHRoaXMucHJldmlvdXNHeXJvTWVhc3VyZW1lbnQ9bmV3IGMsTSgpP3RoaXMuZmlsdGVyUT1uZXcgc2UoLTEsMCwwLDEpOnRoaXMuZmlsdGVyUT1uZXcgc2UoMSwwLDAsMSksdGhpcy5wcmV2aW91c0ZpbHRlclE9bmV3IHNlLHRoaXMucHJldmlvdXNGaWx0ZXJRLmNvcHkodGhpcy5maWx0ZXJRKSx0aGlzLmFjY2VsUT1uZXcgc2UsdGhpcy5pc09yaWVudGF0aW9uSW5pdGlhbGl6ZWQ9ITEsdGhpcy5lc3RpbWF0ZWRHcmF2aXR5PW5ldyBBZSx0aGlzLm1lYXN1cmVkR3Jhdml0eT1uZXcgQWUsdGhpcy5neXJvSW50ZWdyYWxRPW5ldyBzZX1mdW5jdGlvbiBkKGUsdCl7dGhpcy5wcmVkaWN0aW9uVGltZVM9ZSx0aGlzLmlzRGVidWc9dCx0aGlzLnByZXZpb3VzUT1uZXcgc2UsdGhpcy5wcmV2aW91c1RpbWVzdGFtcFM9bnVsbCx0aGlzLmRlbHRhUT1uZXcgc2UsdGhpcy5vdXRRPW5ldyBzZX1mdW5jdGlvbiB1KGUsdCxpLHIpe3RoaXMueWF3T25seT1pLHRoaXMuYWNjZWxlcm9tZXRlcj1uZXcgQWUsdGhpcy5neXJvc2NvcGU9bmV3IEFlLHRoaXMuZmlsdGVyPW5ldyBoKGUsciksdGhpcy5wb3NlUHJlZGljdG9yPW5ldyBkKHQsciksdGhpcy5pc0ZpcmVmb3hBbmRyb2lkPVQoKSx0aGlzLmlzSU9TPU0oKTt2YXIgbj1GKCk7dGhpcy5pc0RldmljZU1vdGlvbkluUmFkaWFucz0hdGhpcy5pc0lPUyYmbiYmbjw2Nix0aGlzLmlzV2l0aG91dERldmljZU1vdGlvbj1SKCksdGhpcy5maWx0ZXJUb1dvcmxkUT1uZXcgc2UsTSgpP3RoaXMuZmlsdGVyVG9Xb3JsZFEuc2V0RnJvbUF4aXNBbmdsZShuZXcgQWUoMSwwLDApLE1hdGguUEkvMik6dGhpcy5maWx0ZXJUb1dvcmxkUS5zZXRGcm9tQXhpc0FuZ2xlKG5ldyBBZSgxLDAsMCksLU1hdGguUEkvMiksdGhpcy5pbnZlcnNlV29ybGRUb1NjcmVlblE9bmV3IHNlLHRoaXMud29ybGRUb1NjcmVlblE9bmV3IHNlLHRoaXMub3JpZ2luYWxQb3NlQWRqdXN0UT1uZXcgc2UsdGhpcy5vcmlnaW5hbFBvc2VBZGp1c3RRLnNldEZyb21BeGlzQW5nbGUobmV3IEFlKDAsMCwxKSwtd2luZG93Lm9yaWVudGF0aW9uKk1hdGguUEkvMTgwKSx0aGlzLnNldFNjcmVlblRyYW5zZm9ybV8oKSxTKCkmJnRoaXMuZmlsdGVyVG9Xb3JsZFEubXVsdGlwbHkodGhpcy5pbnZlcnNlV29ybGRUb1NjcmVlblEpLHRoaXMucmVzZXRRPW5ldyBzZSx0aGlzLm9yaWVudGF0aW9uT3V0Xz1uZXcgRmxvYXQzMkFycmF5KDQpLHRoaXMuc3RhcnQoKX1mdW5jdGlvbiBwKCl7dGhpcy5sb2FkSWNvbl8oKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ9ZS5zdHlsZTt0LnBvc2l0aW9uPVwiZml4ZWRcIix0LnRvcD0wLHQucmlnaHQ9MCx0LmJvdHRvbT0wLHQubGVmdD0wLHQuYmFja2dyb3VuZENvbG9yPVwiZ3JheVwiLHQuZm9udEZhbWlseT1cInNhbnMtc2VyaWZcIix0LnpJbmRleD0xZTY7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtpLnNyYz10aGlzLmljb247dmFyIHQ9aS5zdHlsZTt0Lm1hcmdpbkxlZnQ9XCIyNSVcIix0Lm1hcmdpblRvcD1cIjI1JVwiLHQud2lkdGg9XCI1MCVcIixlLmFwcGVuZENoaWxkKGkpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdD1yLnN0eWxlO3QudGV4dEFsaWduPVwiY2VudGVyXCIsdC5mb250U2l6ZT1cIjE2cHhcIix0LmxpbmVIZWlnaHQ9XCIyNHB4XCIsdC5tYXJnaW49XCIyNHB4IDI1JVwiLHQud2lkdGg9XCI1MCVcIixyLmlubmVySFRNTD1cIlBsYWNlIHlvdXIgcGhvbmUgaW50byB5b3VyIENhcmRib2FyZCB2aWV3ZXIuXCIsZS5hcHBlbmRDaGlsZChyKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ9bi5zdHlsZTt0LmJhY2tncm91bmRDb2xvcj1cIiNDRkQ4RENcIix0LnBvc2l0aW9uPVwiZml4ZWRcIix0LmJvdHRvbT0wLHQud2lkdGg9XCIxMDAlXCIsdC5oZWlnaHQ9XCI0OHB4XCIsdC5wYWRkaW5nPVwiMTRweCAyNHB4XCIsdC5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsdC5jb2xvcj1cIiM2NTZBNkJcIixlLmFwcGVuZENoaWxkKG4pO3ZhciBBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7QS5zdHlsZS5mbG9hdD1cImxlZnRcIixBLmlubmVySFRNTD1cIk5vIENhcmRib2FyZCB2aWV3ZXI/XCI7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cy5ocmVmPVwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9nZXQvY2FyZGJvYXJkL2dldC1jYXJkYm9hcmQvXCIscy5pbm5lckhUTUw9XCJnZXQgb25lXCIscy50YXJnZXQ9XCJfYmxhbmtcIjt2YXIgdD1zLnN0eWxlO3QuZmxvYXQ9XCJyaWdodFwiLHQuZm9udFdlaWdodD02MDAsdC50ZXh0VHJhbnNmb3JtPVwidXBwZXJjYXNlXCIsdC5ib3JkZXJMZWZ0PVwiMXB4IHNvbGlkIGdyYXlcIix0LnBhZGRpbmdMZWZ0PVwiMjRweFwiLHQudGV4dERlY29yYXRpb249XCJub25lXCIsdC5jb2xvcj1cIiM2NTZBNkJcIixuLmFwcGVuZENoaWxkKEEpLG4uYXBwZW5kQ2hpbGQocyksdGhpcy5vdmVybGF5PWUsdGhpcy50ZXh0PXIsdGhpcy5oaWRlKCl9ZnVuY3Rpb24gZihlKXt0cnl7dGhpcy5zZWxlY3RlZEtleT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh2ZSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHZpZXdlciBwcm9maWxlOiAlc1wiLGUpfXRoaXMuc2VsZWN0ZWRLZXl8fCh0aGlzLnNlbGVjdGVkS2V5PWV8fG1lKSx0aGlzLmRpYWxvZz10aGlzLmNyZWF0ZURpYWxvZ18ocy5WaWV3ZXJzKSx0aGlzLnJvb3Q9bnVsbCx0aGlzLm9uQ2hhbmdlQ2FsbGJhY2tzXz1bXX1mdW5jdGlvbiBtKCl7dGhpcy5sZWZ0UHJvamVjdGlvbk1hdHJpeD1uZXcgRmxvYXQzMkFycmF5KDE2KSx0aGlzLmxlZnRWaWV3TWF0cml4PW5ldyBGbG9hdDMyQXJyYXkoMTYpLHRoaXMucmlnaHRQcm9qZWN0aW9uTWF0cml4PW5ldyBGbG9hdDMyQXJyYXkoMTYpLHRoaXMucmlnaHRWaWV3TWF0cml4PW5ldyBGbG9hdDMyQXJyYXkoMTYpLHRoaXMucG9zZT1udWxsfWZ1bmN0aW9uIHYoZSl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7aGFzUG9zaXRpb246e3dyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsdmFsdWU6ZS5oYXNQb3NpdGlvbn0saGFzRXh0ZXJuYWxEaXNwbGF5Ont3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOmUuaGFzRXh0ZXJuYWxEaXNwbGF5fSxjYW5QcmVzZW50Ont3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOmUuY2FuUHJlc2VudH0sbWF4TGF5ZXJzOnt3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLHZhbHVlOmUubWF4TGF5ZXJzfSxoYXNPcmllbnRhdGlvbjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaihcIlZSRGlzcGxheUNhcGFiaWxpdGllcy5wcm90b3R5cGUuaGFzT3JpZW50YXRpb25cIixcIlZSRGlzcGxheS5wcm90b3R5cGUuZ2V0RnJhbWVEYXRhXCIpLGUuaGFzT3JpZW50YXRpb259fX0pfWZ1bmN0aW9uIGcoZSl7ZT1lfHx7fTt2YXIgdD0hKFwid2FrZWxvY2tcImluIGUpfHxlLndha2Vsb2NrO3RoaXMuaXNQb2x5ZmlsbGVkPSEwLHRoaXMuZGlzcGxheUlkPXllKyssdGhpcy5kaXNwbGF5TmFtZT1cIlwiLHRoaXMuZGVwdGhOZWFyPS4wMSx0aGlzLmRlcHRoRmFyPTFlNCx0aGlzLmlzUHJlc2VudGluZz0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzQ29ubmVjdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqKFwiVlJEaXNwbGF5LnByb3RvdHlwZS5pc0Nvbm5lY3RlZFwiLFwiVlJEaXNwbGF5Q2FwYWJpbGl0aWVzLnByb3RvdHlwZS5oYXNFeHRlcm5hbERpc3BsYXlcIiksITF9fSksdGhpcy5jYXBhYmlsaXRpZXM9bmV3IHYoe2hhc1Bvc2l0aW9uOiExLGhhc09yaWVudGF0aW9uOiExLGhhc0V4dGVybmFsRGlzcGxheTohMSxjYW5QcmVzZW50OiExLG1heExheWVyczoxfSksdGhpcy5zdGFnZVBhcmFtZXRlcnM9bnVsbCx0aGlzLndhaXRpbmdGb3JQcmVzZW50Xz0hMSx0aGlzLmxheWVyXz1udWxsLHRoaXMub3JpZ2luYWxQYXJlbnRfPW51bGwsdGhpcy5mdWxsc2NyZWVuRWxlbWVudF89bnVsbCx0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXz1udWxsLHRoaXMuZnVsbHNjcmVlbkVsZW1lbnRDYWNoZWRTdHlsZV89bnVsbCx0aGlzLmZ1bGxzY3JlZW5FdmVudFRhcmdldF89bnVsbCx0aGlzLmZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyXz1udWxsLHRoaXMuZnVsbHNjcmVlbkVycm9ySGFuZGxlcl89bnVsbCx0JiZrKCkmJih0aGlzLndha2Vsb2NrXz1uZXcgd2UpfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9Vih7fSxNZSk7ZT1WKHQsZXx8e30pLGcuY2FsbCh0aGlzLHt3YWtlbG9jazplLk1PQklMRV9XQUtFX0xPQ0t9KSx0aGlzLmNvbmZpZz1lLHRoaXMuZGlzcGxheU5hbWU9XCJDYXJkYm9hcmQgVlJEaXNwbGF5XCIsdGhpcy5jYXBhYmlsaXRpZXM9bmV3IHYoe2hhc1Bvc2l0aW9uOiExLGhhc09yaWVudGF0aW9uOiEwLGhhc0V4dGVybmFsRGlzcGxheTohMSxjYW5QcmVzZW50OiEwLG1heExheWVyczoxfSksdGhpcy5zdGFnZVBhcmFtZXRlcnM9bnVsbCx0aGlzLmJ1ZmZlclNjYWxlXz10aGlzLmNvbmZpZy5CVUZGRVJfU0NBTEUsdGhpcy5wb3NlU2Vuc29yXz1uZXcgZmUodGhpcy5jb25maWcpLHRoaXMuZGlzdG9ydGVyXz1udWxsLHRoaXMuY2FyZGJvYXJkVUlfPW51bGwsdGhpcy5kcGRiXz1uZXcgbyh0aGlzLmNvbmZpZy5EUERCX1VSTCx0aGlzLm9uRGV2aWNlUGFyYW1zVXBkYXRlZF8uYmluZCh0aGlzKSksdGhpcy5kZXZpY2VJbmZvXz1uZXcgcyh0aGlzLmRwZGJfLmdldERldmljZVBhcmFtcygpLGUuQURESVRJT05BTF9WSUVXRVJTKSx0aGlzLnZpZXdlclNlbGVjdG9yXz1uZXcgZihlLkRFRkFVTFRfVklFV0VSKSx0aGlzLnZpZXdlclNlbGVjdG9yXy5vbkNoYW5nZSh0aGlzLm9uVmlld2VyQ2hhbmdlZF8uYmluZCh0aGlzKSksdGhpcy5kZXZpY2VJbmZvXy5zZXRWaWV3ZXIodGhpcy52aWV3ZXJTZWxlY3Rvcl8uZ2V0Q3VycmVudFZpZXdlcigpKSx0aGlzLmNvbmZpZy5ST1RBVEVfSU5TVFJVQ1RJT05TX0RJU0FCTEVEfHwodGhpcy5yb3RhdGVJbnN0cnVjdGlvbnNfPW5ldyBwKSxNKCkmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5vblJlc2l6ZV8uYmluZCh0aGlzKSl9dmFyIHk9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxyJiZlKHQsciksdH19KCksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaT1bXSxyPSEwLG49ITEsQT12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0ocz1hLm5leHQoKSkuZG9uZSkmJihpLnB1c2gocy52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe249ITAsQT1lfWZpbmFsbHl7dHJ5eyFyJiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgQX19cmV0dXJuIGl9cmV0dXJuIGZ1bmN0aW9uKHQsaSl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBlKHQsaSk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLF89ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImRhdGE6XCIrZStcIixcIitlbmNvZGVVUklDb21wb25lbnQodCl9LEQ9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlKyh0LWUpKml9LE09ZnVuY3Rpb24oKXt2YXIgZT0vaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX0oKSxCPWZ1bmN0aW9uKCl7dmFyIGU9LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJWZXJzaW9uXCIpJiYtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFuZHJvaWRcIikmJi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX0oKSxUPShmdW5jdGlvbigpe3ZhciBlPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9KCksZnVuY3Rpb24oKXt2YXIgZT0tMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3hcIikmJi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQW5kcm9pZFwiKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19KCkpLEY9ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8uKkNocm9tZVxcLyhbMC05XSspLyksdD1lP3BhcnNlSW50KGVbMV0sMTApOm51bGw7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSgpLFI9ZnVuY3Rpb24oKXt2YXIgZT0hMTtpZig2NT09PUYoKSl7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvLipDaHJvbWVcXC8oWzAtOVxcLl0qKS8pO2lmKHQpe3ZhciBpPXRbMV0uc3BsaXQoXCIuXCIpLHI9YihpLDQpLG49KHJbMF0sclsxXSxyWzJdKSxBPXJbM107ZT0zMzI1PT09cGFyc2VJbnQobiwxMCkmJnBhcnNlSW50KEEsMTApPDE0OH19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSgpLEM9ZnVuY3Rpb24oKXt2YXIgZT0tMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlI3IEJ1aWxkXCIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX0oKSxTPWZ1bmN0aW9uKCl7dmFyIGU9OTA9PXdpbmRvdy5vcmllbnRhdGlvbnx8LTkwPT13aW5kb3cub3JpZW50YXRpb247cmV0dXJuIEMoKT8hZTplfSxJPWZ1bmN0aW9uKGUpe3JldHVybiFpc05hTihlKSYmKCEoZTw9LjAwMSkmJiEoZT4xKSl9LHg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgod2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodCkqd2luZG93LmRldmljZVBpeGVsUmF0aW99LEw9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5taW4od2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodCkqd2luZG93LmRldmljZVBpeGVsUmF0aW99LFA9ZnVuY3Rpb24oZSl7aWYoQigpKXJldHVybiExO2lmKGUucmVxdWVzdEZ1bGxzY3JlZW4pZS5yZXF1ZXN0RnVsbHNjcmVlbigpO2Vsc2UgaWYoZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbillLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7ZWxzZSBpZihlLm1velJlcXVlc3RGdWxsU2NyZWVuKWUubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtlbHNle2lmKCFlLm1zUmVxdWVzdEZ1bGxzY3JlZW4pcmV0dXJuITE7ZS5tc1JlcXVlc3RGdWxsc2NyZWVuKCl9cmV0dXJuITB9LE49ZnVuY3Rpb24oKXtpZihkb2N1bWVudC5leGl0RnVsbHNjcmVlbilkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO2Vsc2UgaWYoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtlbHNlIGlmKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO2Vsc2V7aWYoIWRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pcmV0dXJuITE7ZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpfXJldHVybiEwfSxRPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnR9LEc9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG49ZS5jcmVhdGVTaGFkZXIoZS5WRVJURVhfU0hBREVSKTtlLnNoYWRlclNvdXJjZShuLHQpLGUuY29tcGlsZVNoYWRlcihuKTt2YXIgQT1lLmNyZWF0ZVNoYWRlcihlLkZSQUdNRU5UX1NIQURFUik7ZS5zaGFkZXJTb3VyY2UoQSxpKSxlLmNvbXBpbGVTaGFkZXIoQSk7dmFyIHM9ZS5jcmVhdGVQcm9ncmFtKCk7ZS5hdHRhY2hTaGFkZXIocyxuKSxlLmF0dGFjaFNoYWRlcihzLEEpO2Zvcih2YXIgYSBpbiByKWUuYmluZEF0dHJpYkxvY2F0aW9uKHMsclthXSxhKTtyZXR1cm4gZS5saW5rUHJvZ3JhbShzKSxlLmRlbGV0ZVNoYWRlcihuKSxlLmRlbGV0ZVNoYWRlcihBKSxzfSxPPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPXt9LHI9ZS5nZXRQcm9ncmFtUGFyYW1ldGVyKHQsZS5BQ1RJVkVfVU5JRk9STVMpLG49XCJcIixBPTA7QTxyO0ErKyl7bj1lLmdldEFjdGl2ZVVuaWZvcm0odCxBKS5uYW1lLnJlcGxhY2UoXCJbMF1cIixcIlwiKSxpW25dPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsbil9cmV0dXJuIGl9LFU9ZnVuY3Rpb24oZSx0LGkscixuLEEscyl7dmFyIGE9MS8odC1pKSxvPTEvKHItbiksbD0xLyhBLXMpO3JldHVybiBlWzBdPS0yKmEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqbyxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MipsLGVbMTFdPTAsZVsxMl09KHQraSkqYSxlWzEzXT0obityKSpvLGVbMTRdPShzK0EpKmwsZVsxNV09MSxlfSxrPWZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHQpeygvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdCh0KXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdCh0LnN1YnN0cigwLDQpKSkmJihlPSEwKX0obmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKSxlfSxWPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7cmV0dXJuIGV9LHo9ZnVuY3Rpb24oZSl7aWYoTSgpKXt2YXIgdD1lLnN0eWxlLndpZHRoLGk9ZS5zdHlsZS5oZWlnaHQ7ZS5zdHlsZS53aWR0aD1wYXJzZUludCh0KSsxK1wicHhcIixlLnN0eWxlLmhlaWdodD1wYXJzZUludChpKStcInB4XCIsc2V0VGltZW91dChmdW5jdGlvbigpe2Uuc3R5bGUud2lkdGg9dCxlLnN0eWxlLmhlaWdodD1pfSwxMDApfXdpbmRvdy5jYW52YXM9ZX0sSD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LGkscil7dmFyIG49TWF0aC50YW4odD90LnVwRGVncmVlcypBOnMpLGE9TWF0aC50YW4odD90LmRvd25EZWdyZWVzKkE6cyksbz1NYXRoLnRhbih0P3QubGVmdERlZ3JlZXMqQTpzKSxsPU1hdGgudGFuKHQ/dC5yaWdodERlZ3JlZXMqQTpzKSxjPTIvKG8rbCksaD0yLyhuK2EpO3JldHVybiBlWzBdPWMsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09aCxlWzZdPTAsZVs3XT0wLGVbOF09LShvLWwpKmMqLjUsZVs5XT0obi1hKSpoKi41LGVbMTBdPXIvKGktciksZVsxMV09LTEsZVsxMl09MCxlWzEzXT0wLGVbMTRdPXIqaS8oaS1yKSxlWzE1XT0wLGV9ZnVuY3Rpb24gdChlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV0sQT10WzJdLHM9dFszXSxhPXIrcixvPW4rbixsPUErQSxjPXIqYSxoPXIqbyxkPXIqbCx1PW4qbyxwPW4qbCxmPUEqbCxtPXMqYSx2PXMqbyxnPXMqbDtyZXR1cm4gZVswXT0xLSh1K2YpLGVbMV09aCtnLGVbMl09ZC12LGVbM109MCxlWzRdPWgtZyxlWzVdPTEtKGMrZiksZVs2XT1wK20sZVs3XT0wLGVbOF09ZCt2LGVbOV09cC1tLGVbMTBdPTEtKGMrdSksZVsxMV09MCxlWzEyXT1pWzBdLGVbMTNdPWlbMV0sZVsxNF09aVsyXSxlWzE1XT0xLGV9ZnVuY3Rpb24gaShlLHQsaSl7dmFyIHIsbixBLHMsYSxvLGwsYyxoLGQsdSxwLGY9aVswXSxtPWlbMV0sdj1pWzJdO3JldHVybiB0PT09ZT8oZVsxMl09dFswXSpmK3RbNF0qbSt0WzhdKnYrdFsxMl0sZVsxM109dFsxXSpmK3RbNV0qbSt0WzldKnYrdFsxM10sZVsxNF09dFsyXSpmK3RbNl0qbSt0WzEwXSp2K3RbMTRdLGVbMTVdPXRbM10qZit0WzddKm0rdFsxMV0qdit0WzE1XSk6KHI9dFswXSxuPXRbMV0sQT10WzJdLHM9dFszXSxhPXRbNF0sbz10WzVdLGw9dFs2XSxjPXRbN10saD10WzhdLGQ9dFs5XSx1PXRbMTBdLHA9dFsxMV0sZVswXT1yLGVbMV09bixlWzJdPUEsZVszXT1zLGVbNF09YSxlWzVdPW8sZVs2XT1sLGVbN109YyxlWzhdPWgsZVs5XT1kLGVbMTBdPXUsZVsxMV09cCxlWzEyXT1yKmYrYSptK2gqdit0WzEyXSxlWzEzXT1uKmYrbyptK2Qqdit0WzEzXSxlWzE0XT1BKmYrbCptK3Uqdit0WzE0XSxlWzE1XT1zKmYrYyptK3Aqdit0WzE1XSksZX1mdW5jdGlvbiByKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLEE9dFszXSxzPXRbNF0sYT10WzVdLG89dFs2XSxsPXRbN10sYz10WzhdLGg9dFs5XSxkPXRbMTBdLHU9dFsxMV0scD10WzEyXSxmPXRbMTNdLG09dFsxNF0sdj10WzE1XSxnPWkqYS1yKnMsdz1pKm8tbipzLHk9aSpsLUEqcyxFPXIqby1uKmEsYj1yKmwtQSphLF89bipsLUEqbyxEPWMqZi1oKnAsTT1jKm0tZCpwLEI9Yyp2LXUqcCxUPWgqbS1kKmYsRj1oKnYtdSpmLFI9ZCp2LXUqbSxDPWcqUi13KkYreSpUK0UqQi1iKk0rXypEO3JldHVybiBDPyhDPTEvQyxlWzBdPShhKlItbypGK2wqVCkqQyxlWzFdPShuKkYtcipSLUEqVCkqQyxlWzJdPShmKl8tbSpiK3YqRSkqQyxlWzNdPShkKmItaCpfLXUqRSkqQyxlWzRdPShvKkItcypSLWwqTSkqQyxlWzVdPShpKlItbipCK0EqTSkqQyxlWzZdPShtKnktcCpfLXYqdykqQyxlWzddPShjKl8tZCp5K3UqdykqQyxlWzhdPShzKkYtYSpCK2wqRCkqQyxlWzldPShyKkItaSpGLUEqRCkqQyxlWzEwXT0ocCpiLWYqeSt2KmcpKkMsZVsxMV09KGgqeS1jKmItdSpnKSpDLGVbMTJdPShhKk0tcypULW8qRCkqQyxlWzEzXT0oaSpULXIqTStuKkQpKkMsZVsxNF09KGYqdy1wKkUtbSpnKSpDLGVbMTVdPShjKkUtaCp3K2QqZykqQyxlKTpudWxsfWZ1bmN0aW9uIG4obixBLHMsbCxjLGgpe2UobixsfHxudWxsLGguZGVwdGhOZWFyLGguZGVwdGhGYXIpLHQoQSxzLm9yaWVudGF0aW9ufHxhLHMucG9zaXRpb258fG8pLGMmJmkoQSxBLGMpLHIoQSxBKX12YXIgQT1NYXRoLlBJLzE4MCxzPS4yNSpNYXRoLlBJLGE9bmV3IEZsb2F0MzJBcnJheShbMCwwLDAsMV0pLG89bmV3IEZsb2F0MzJBcnJheShbMCwwLDBdKTtyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe3JldHVybiEoIWV8fCF0KSYmKGUucG9zZT10LGUudGltZXN0YW1wPXQudGltZXN0YW1wLG4oZS5sZWZ0UHJvamVjdGlvbk1hdHJpeCxlLmxlZnRWaWV3TWF0cml4LHQsaS5fZ2V0RmllbGRPZlZpZXcoXCJsZWZ0XCIpLGkuX2dldEV5ZU9mZnNldChcImxlZnRcIiksaSksbihlLnJpZ2h0UHJvamVjdGlvbk1hdHJpeCxlLnJpZ2h0Vmlld01hdHJpeCx0LGkuX2dldEZpZWxkT2ZWaWV3KFwicmlnaHRcIiksaS5fZ2V0RXllT2Zmc2V0KFwicmlnaHRcIiksaSksITApfX0oKSxXPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LnNlbGYhPT13aW5kb3cudG9wLHQ9WChkb2N1bWVudC5yZWZlcnJlciksaT1YKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtyZXR1cm4gZSYmdCE9PWl9LFg9ZnVuY3Rpb24oZSl7dmFyIHQsaT1lLmluZGV4T2YoXCI6Ly9cIik7dD0tMSE9PWk/aSszOjA7dmFyIHI9ZS5pbmRleE9mKFwiL1wiLHQpO3JldHVybi0xPT09ciYmKHI9ZS5sZW5ndGgpLGUuc3Vic3RyaW5nKDAscil9LFk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudz4xPyhjb25zb2xlLndhcm4oXCJnZXRRdWF0ZXJuaW9uQW5nbGU6IHcgPiAxXCIpLDApOjIqTWF0aC5hY29zKGUudyl9LFo9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24odCxpKXt2b2lkIDA9PT1lW3RdJiYoY29uc29sZS53YXJuKFwid2VidnItcG9seWZpbGw6IFwiK2kpLGVbdF09ITApfX0oKSxqPWZ1bmN0aW9uKGUsdCl7WihlLGUrXCIgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVGhpcyBtYXkgbm90IHdvcmsgb24gbmF0aXZlIFdlYlZSIGRpc3BsYXlzLiBcIisodD9cIlBsZWFzZSB1c2UgXCIrdCtcIiBpbnN0ZWFkLlwiOlwiXCIpKX0sSz1lLEo9W1wiYXR0cmlidXRlIHZlYzIgcG9zaXRpb247XCIsXCJhdHRyaWJ1dGUgdmVjMyB0ZXhDb29yZDtcIixcInZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XCIsXCJ1bmlmb3JtIHZlYzQgdmlld3BvcnRPZmZzZXRTY2FsZVsyXTtcIixcInZvaWQgbWFpbigpIHtcIixcIiAgdmVjNCB2aWV3cG9ydCA9IHZpZXdwb3J0T2Zmc2V0U2NhbGVbaW50KHRleENvb3JkLnopXTtcIixcIiAgdlRleENvb3JkID0gKHRleENvb3JkLnh5ICogdmlld3BvcnQuencpICsgdmlld3BvcnQueHk7XCIsXCIgIGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCwgMS4wICk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIikscT1bXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2U7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1wiLFwidm9pZCBtYWluKCkge1wiLFwiICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoZGlmZnVzZSwgdlRleENvb3JkKTtcIixcIn1cIl0uam9pbihcIlxcblwiKTtpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbDt0aGlzLnVucGF0Y2goKSxlLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKSxlLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlciksZS5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlciksZS5kZWxldGVUZXh0dXJlKHRoaXMucmVuZGVyVGFyZ2V0KSxlLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpLHRoaXMuZGVwdGhTdGVuY2lsQnVmZmVyJiZlLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLmRlcHRoU3RlbmNpbEJ1ZmZlciksdGhpcy5kZXB0aEJ1ZmZlciYmZS5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5kZXB0aEJ1ZmZlciksdGhpcy5zdGVuY2lsQnVmZmVyJiZlLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLnN0ZW5jaWxCdWZmZXIpLHRoaXMuY2FyZGJvYXJkVUkmJnRoaXMuY2FyZGJvYXJkVUkuZGVzdHJveSgpfSxpLnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD10aGlzLGk9W2UuUkVOREVSQlVGRkVSX0JJTkRJTkcsZS5URVhUVVJFX0JJTkRJTkdfMkQsZS5URVhUVVJFMF07SyhlLGksZnVuY3Rpb24oZSl7dC5yZWFsQmluZEZyYW1lYnVmZmVyLmNhbGwoZSxlLkZSQU1FQlVGRkVSLG51bGwpLHQuc2Npc3NvclRlc3QmJnQucmVhbERpc2FibGUuY2FsbChlLGUuU0NJU1NPUl9URVNUKSx0LnJlYWxDb2xvck1hc2suY2FsbChlLCEwLCEwLCEwLCEwKSx0LnJlYWxWaWV3cG9ydC5jYWxsKGUsMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodCksdC5yZWFsQ2xlYXJDb2xvci5jYWxsKGUsMCwwLDAsMSksZS5jbGVhcihlLkNPTE9SX0JVRkZFUl9CSVQpLHQucmVhbEJpbmRGcmFtZWJ1ZmZlci5jYWxsKGUsZS5GUkFNRUJVRkZFUix0LmZyYW1lYnVmZmVyKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0LnJlbmRlclRhcmdldCksZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLHQuY3R4QXR0cmlicy5hbHBoYT9lLlJHQkE6ZS5SR0IsdC5idWZmZXJXaWR0aCx0LmJ1ZmZlckhlaWdodCwwLHQuY3R4QXR0cmlicy5hbHBoYT9lLlJHQkE6ZS5SR0IsZS5VTlNJR05FRF9CWVRFLG51bGwpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01BR19GSUxURVIsZS5MSU5FQVIpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01JTl9GSUxURVIsZS5MSU5FQVIpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX1dSQVBfUyxlLkNMQU1QX1RPX0VER0UpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX1dSQVBfVCxlLkNMQU1QX1RPX0VER0UpLGUuZnJhbWVidWZmZXJUZXh0dXJlMkQoZS5GUkFNRUJVRkZFUixlLkNPTE9SX0FUVEFDSE1FTlQwLGUuVEVYVFVSRV8yRCx0LnJlbmRlclRhcmdldCwwKSx0LmN0eEF0dHJpYnMuZGVwdGgmJnQuY3R4QXR0cmlicy5zdGVuY2lsPyhlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsdC5kZXB0aFN0ZW5jaWxCdWZmZXIpLGUucmVuZGVyYnVmZmVyU3RvcmFnZShlLlJFTkRFUkJVRkZFUixlLkRFUFRIX1NURU5DSUwsdC5idWZmZXJXaWR0aCx0LmJ1ZmZlckhlaWdodCksZS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihlLkZSQU1FQlVGRkVSLGUuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULGUuUkVOREVSQlVGRkVSLHQuZGVwdGhTdGVuY2lsQnVmZmVyKSk6dC5jdHhBdHRyaWJzLmRlcHRoPyhlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsdC5kZXB0aEJ1ZmZlciksZS5yZW5kZXJidWZmZXJTdG9yYWdlKGUuUkVOREVSQlVGRkVSLGUuREVQVEhfQ09NUE9ORU5UMTYsdC5idWZmZXJXaWR0aCx0LmJ1ZmZlckhlaWdodCksZS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihlLkZSQU1FQlVGRkVSLGUuREVQVEhfQVRUQUNITUVOVCxlLlJFTkRFUkJVRkZFUix0LmRlcHRoQnVmZmVyKSk6dC5jdHhBdHRyaWJzLnN0ZW5jaWwmJihlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsdC5zdGVuY2lsQnVmZmVyKSxlLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZS5SRU5ERVJCVUZGRVIsZS5TVEVOQ0lMX0lOREVYOCx0LmJ1ZmZlcldpZHRoLHQuYnVmZmVySGVpZ2h0KSxlLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGUuRlJBTUVCVUZGRVIsZS5TVEVOQ0lMX0FUVEFDSE1FTlQsZS5SRU5ERVJCVUZGRVIsdC5zdGVuY2lsQnVmZmVyKSksIWUuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhlLkZSQU1FQlVGRkVSKT09PWUuRlJBTUVCVUZGRVJfQ09NUExFVEUmJmNvbnNvbGUuZXJyb3IoXCJGcmFtZWJ1ZmZlciBpbmNvbXBsZXRlIVwiKSx0LnJlYWxCaW5kRnJhbWVidWZmZXIuY2FsbChlLGUuRlJBTUVCVUZGRVIsdC5sYXN0Qm91bmRGcmFtZWJ1ZmZlciksdC5zY2lzc29yVGVzdCYmdC5yZWFsRW5hYmxlLmNhbGwoZSxlLlNDSVNTT1JfVEVTVCksdC5yZWFsQ29sb3JNYXNrLmFwcGx5KGUsdC5jb2xvck1hc2spLHQucmVhbFZpZXdwb3J0LmFwcGx5KGUsdC52aWV3cG9ydCksdC5yZWFsQ2xlYXJDb2xvci5hcHBseShlLHQuY2xlYXJDb2xvcil9KSx0aGlzLmNhcmRib2FyZFVJJiZ0aGlzLmNhcmRib2FyZFVJLm9uUmVzaXplKCl9LGkucHJvdG90eXBlLnBhdGNoPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNQYXRjaGVkKXt2YXIgZT10aGlzLHQ9dGhpcy5nbC5jYW52YXMsaT10aGlzLmdsO00oKXx8KHQud2lkdGg9eCgpKnRoaXMuYnVmZmVyU2NhbGUsdC5oZWlnaHQ9TCgpKnRoaXMuYnVmZmVyU2NhbGUsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3aWR0aFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5idWZmZXJXaWR0aH0sc2V0OmZ1bmN0aW9uKGkpe2UuYnVmZmVyV2lkdGg9aSxlLnJlYWxDYW52YXNXaWR0aC5zZXQuY2FsbCh0LGkpLGUub25SZXNpemUoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImhlaWdodFwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5idWZmZXJIZWlnaHR9LHNldDpmdW5jdGlvbihpKXtlLmJ1ZmZlckhlaWdodD1pLGUucmVhbENhbnZhc0hlaWdodC5zZXQuY2FsbCh0LGkpLGUub25SZXNpemUoKX19KSksdGhpcy5sYXN0Qm91bmRGcmFtZWJ1ZmZlcj1pLmdldFBhcmFtZXRlcihpLkZSQU1FQlVGRkVSX0JJTkRJTkcpLG51bGw9PXRoaXMubGFzdEJvdW5kRnJhbWVidWZmZXImJih0aGlzLmxhc3RCb3VuZEZyYW1lYnVmZmVyPXRoaXMuZnJhbWVidWZmZXIsdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUix0aGlzLmZyYW1lYnVmZmVyKSksdGhpcy5nbC5iaW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24odCxyKXtlLmxhc3RCb3VuZEZyYW1lYnVmZmVyPXJ8fGUuZnJhbWVidWZmZXIsZS5yZWFsQmluZEZyYW1lYnVmZmVyLmNhbGwoaSx0LGUubGFzdEJvdW5kRnJhbWVidWZmZXIpfSx0aGlzLmN1bGxGYWNlPWkuZ2V0UGFyYW1ldGVyKGkuQ1VMTF9GQUNFKSx0aGlzLmRlcHRoVGVzdD1pLmdldFBhcmFtZXRlcihpLkRFUFRIX1RFU1QpLHRoaXMuYmxlbmQ9aS5nZXRQYXJhbWV0ZXIoaS5CTEVORCksdGhpcy5zY2lzc29yVGVzdD1pLmdldFBhcmFtZXRlcihpLlNDSVNTT1JfVEVTVCksdGhpcy5zdGVuY2lsVGVzdD1pLmdldFBhcmFtZXRlcihpLlNURU5DSUxfVEVTVCksaS5lbmFibGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgaS5DVUxMX0ZBQ0U6ZS5jdWxsRmFjZT0hMDticmVhaztjYXNlIGkuREVQVEhfVEVTVDplLmRlcHRoVGVzdD0hMDticmVhaztjYXNlIGkuQkxFTkQ6ZS5ibGVuZD0hMDticmVhaztjYXNlIGkuU0NJU1NPUl9URVNUOmUuc2Npc3NvclRlc3Q9ITA7YnJlYWs7Y2FzZSBpLlNURU5DSUxfVEVTVDplLnN0ZW5jaWxUZXN0PSEwfWUucmVhbEVuYWJsZS5jYWxsKGksdCl9LGkuZGlzYWJsZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBpLkNVTExfRkFDRTplLmN1bGxGYWNlPSExO2JyZWFrO2Nhc2UgaS5ERVBUSF9URVNUOmUuZGVwdGhUZXN0PSExO2JyZWFrO2Nhc2UgaS5CTEVORDplLmJsZW5kPSExO2JyZWFrO2Nhc2UgaS5TQ0lTU09SX1RFU1Q6ZS5zY2lzc29yVGVzdD0hMTticmVhaztjYXNlIGkuU1RFTkNJTF9URVNUOmUuc3RlbmNpbFRlc3Q9ITF9ZS5yZWFsRGlzYWJsZS5jYWxsKGksdCl9LHRoaXMuY29sb3JNYXNrPWkuZ2V0UGFyYW1ldGVyKGkuQ09MT1JfV1JJVEVNQVNLKSxpLmNvbG9yTWFzaz1mdW5jdGlvbih0LHIsbixBKXtlLmNvbG9yTWFza1swXT10LGUuY29sb3JNYXNrWzFdPXIsZS5jb2xvck1hc2tbMl09bixlLmNvbG9yTWFza1szXT1BLGUucmVhbENvbG9yTWFzay5jYWxsKGksdCxyLG4sQSl9LHRoaXMuY2xlYXJDb2xvcj1pLmdldFBhcmFtZXRlcihpLkNPTE9SX0NMRUFSX1ZBTFVFKSxpLmNsZWFyQ29sb3I9ZnVuY3Rpb24odCxyLG4sQSl7ZS5jbGVhckNvbG9yWzBdPXQsZS5jbGVhckNvbG9yWzFdPXIsZS5jbGVhckNvbG9yWzJdPW4sZS5jbGVhckNvbG9yWzNdPUEsZS5yZWFsQ2xlYXJDb2xvci5jYWxsKGksdCxyLG4sQSl9LHRoaXMudmlld3BvcnQ9aS5nZXRQYXJhbWV0ZXIoaS5WSUVXUE9SVCksaS52aWV3cG9ydD1mdW5jdGlvbih0LHIsbixBKXtlLnZpZXdwb3J0WzBdPXQsZS52aWV3cG9ydFsxXT1yLGUudmlld3BvcnRbMl09bixlLnZpZXdwb3J0WzNdPUEsZS5yZWFsVmlld3BvcnQuY2FsbChpLHQscixuLEEpfSx0aGlzLmlzUGF0Y2hlZD0hMCx6KHQpfX0saS5wcm90b3R5cGUudW5wYXRjaD1mdW5jdGlvbigpe2lmKHRoaXMuaXNQYXRjaGVkKXt2YXIgZT10aGlzLmdsLHQ9dGhpcy5nbC5jYW52YXM7TSgpfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3aWR0aFwiLHRoaXMucmVhbENhbnZhc1dpZHRoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImhlaWdodFwiLHRoaXMucmVhbENhbnZhc0hlaWdodCkpLHQud2lkdGg9dGhpcy5idWZmZXJXaWR0aCx0LmhlaWdodD10aGlzLmJ1ZmZlckhlaWdodCxlLmJpbmRGcmFtZWJ1ZmZlcj10aGlzLnJlYWxCaW5kRnJhbWVidWZmZXIsZS5lbmFibGU9dGhpcy5yZWFsRW5hYmxlLGUuZGlzYWJsZT10aGlzLnJlYWxEaXNhYmxlLGUuY29sb3JNYXNrPXRoaXMucmVhbENvbG9yTWFzayxlLmNsZWFyQ29sb3I9dGhpcy5yZWFsQ2xlYXJDb2xvcixlLnZpZXdwb3J0PXRoaXMucmVhbFZpZXdwb3J0LHRoaXMubGFzdEJvdW5kRnJhbWVidWZmZXI9PXRoaXMuZnJhbWVidWZmZXImJmUuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsbnVsbCksdGhpcy5pc1BhdGNoZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe3oodCl9LDEpfX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUJvdW5kcz1mdW5jdGlvbihlLHQpe2V8fChlPVswLDAsLjUsMV0pLHR8fCh0PVsuNSwwLC41LDFdKSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbMF09ZVswXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbMV09ZVsxXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbMl09ZVsyXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbM109ZVszXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbNF09dFswXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbNV09dFsxXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbNl09dFsyXSx0aGlzLnZpZXdwb3J0T2Zmc2V0U2NhbGVbN109dFszXX0saS5wcm90b3R5cGUuc3VibWl0RnJhbWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsLHQ9dGhpcyxpPVtdO2lmKHRoaXMuZGlydHlTdWJtaXRGcmFtZUJpbmRpbmdzfHxpLnB1c2goZS5DVVJSRU5UX1BST0dSQU0sZS5BUlJBWV9CVUZGRVJfQklORElORyxlLkVMRU1FTlRfQVJSQVlfQlVGRkVSX0JJTkRJTkcsZS5URVhUVVJFX0JJTkRJTkdfMkQsZS5URVhUVVJFMCksSyhlLGksZnVuY3Rpb24oZSl7dC5yZWFsQmluZEZyYW1lYnVmZmVyLmNhbGwoZSxlLkZSQU1FQlVGRkVSLG51bGwpLHQuY3VsbEZhY2UmJnQucmVhbERpc2FibGUuY2FsbChlLGUuQ1VMTF9GQUNFKSx0LmRlcHRoVGVzdCYmdC5yZWFsRGlzYWJsZS5jYWxsKGUsZS5ERVBUSF9URVNUKSx0LmJsZW5kJiZ0LnJlYWxEaXNhYmxlLmNhbGwoZSxlLkJMRU5EKSx0LnNjaXNzb3JUZXN0JiZ0LnJlYWxEaXNhYmxlLmNhbGwoZSxlLlNDSVNTT1JfVEVTVCksdC5zdGVuY2lsVGVzdCYmdC5yZWFsRGlzYWJsZS5jYWxsKGUsZS5TVEVOQ0lMX1RFU1QpLHQucmVhbENvbG9yTWFzay5jYWxsKGUsITAsITAsITAsITApLHQucmVhbFZpZXdwb3J0LmNhbGwoZSwwLDAsZS5kcmF3aW5nQnVmZmVyV2lkdGgsZS5kcmF3aW5nQnVmZmVySGVpZ2h0KSwodC5jdHhBdHRyaWJzLmFscGhhfHxNKCkpJiYodC5yZWFsQ2xlYXJDb2xvci5jYWxsKGUsMCwwLDAsMSksZS5jbGVhcihlLkNPTE9SX0JVRkZFUl9CSVQpKSxlLnVzZVByb2dyYW0odC5wcm9ncmFtKSxlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0LmluZGV4QnVmZmVyKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdC52ZXJ0ZXhCdWZmZXIpLGUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodC5hdHRyaWJzLnBvc2l0aW9uKSxlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQuYXR0cmlicy50ZXhDb29yZCksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQuYXR0cmlicy5wb3NpdGlvbiwyLGUuRkxPQVQsITEsMjAsMCksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQuYXR0cmlicy50ZXhDb29yZCwzLGUuRkxPQVQsITEsMjAsOCksZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLGUudW5pZm9ybTFpKHQudW5pZm9ybXMuZGlmZnVzZSwwKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0LnJlbmRlclRhcmdldCksZS51bmlmb3JtNGZ2KHQudW5pZm9ybXMudmlld3BvcnRPZmZzZXRTY2FsZSx0LnZpZXdwb3J0T2Zmc2V0U2NhbGUpLGUuZHJhd0VsZW1lbnRzKGUuVFJJQU5HTEVTLHQuaW5kZXhDb3VudCxlLlVOU0lHTkVEX1NIT1JULDApLHQuY2FyZGJvYXJkVUkmJnQuY2FyZGJvYXJkVUkucmVuZGVyTm9TdGF0ZSgpLHQucmVhbEJpbmRGcmFtZWJ1ZmZlci5jYWxsKHQuZ2wsZS5GUkFNRUJVRkZFUix0LmZyYW1lYnVmZmVyKSx0LmN0eEF0dHJpYnMucHJlc2VydmVEcmF3aW5nQnVmZmVyfHwodC5yZWFsQ2xlYXJDb2xvci5jYWxsKGUsMCwwLDAsMCksZS5jbGVhcihlLkNPTE9SX0JVRkZFUl9CSVQpKSx0LmRpcnR5U3VibWl0RnJhbWVCaW5kaW5nc3x8dC5yZWFsQmluZEZyYW1lYnVmZmVyLmNhbGwoZSxlLkZSQU1FQlVGRkVSLHQubGFzdEJvdW5kRnJhbWVidWZmZXIpLHQuY3VsbEZhY2UmJnQucmVhbEVuYWJsZS5jYWxsKGUsZS5DVUxMX0ZBQ0UpLHQuZGVwdGhUZXN0JiZ0LnJlYWxFbmFibGUuY2FsbChlLGUuREVQVEhfVEVTVCksdC5ibGVuZCYmdC5yZWFsRW5hYmxlLmNhbGwoZSxlLkJMRU5EKSx0LnNjaXNzb3JUZXN0JiZ0LnJlYWxFbmFibGUuY2FsbChlLGUuU0NJU1NPUl9URVNUKSx0LnN0ZW5jaWxUZXN0JiZ0LnJlYWxFbmFibGUuY2FsbChlLGUuU1RFTkNJTF9URVNUKSx0LnJlYWxDb2xvck1hc2suYXBwbHkoZSx0LmNvbG9yTWFzayksdC5yZWFsVmlld3BvcnQuYXBwbHkoZSx0LnZpZXdwb3J0KSwhdC5jdHhBdHRyaWJzLmFscGhhJiZ0LmN0eEF0dHJpYnMucHJlc2VydmVEcmF3aW5nQnVmZmVyfHx0LnJlYWxDbGVhckNvbG9yLmFwcGx5KGUsdC5jbGVhckNvbG9yKX0pLE0oKSl7dmFyIHI9ZS5jYW52YXM7ci53aWR0aD09dC5idWZmZXJXaWR0aCYmci5oZWlnaHQ9PXQuYnVmZmVySGVpZ2h0fHwodC5idWZmZXJXaWR0aD1yLndpZHRoLHQuYnVmZmVySGVpZ2h0PXIuaGVpZ2h0LHQub25SZXNpemUoKSl9fSxpLnByb3RvdHlwZS51cGRhdGVEZXZpY2VJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2wsaT10aGlzLHI9W3QuQVJSQVlfQlVGRkVSX0JJTkRJTkcsdC5FTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HXTtLKHQscixmdW5jdGlvbih0KXt2YXIgcj1pLmNvbXB1dGVNZXNoVmVydGljZXNfKGkubWVzaFdpZHRoLGkubWVzaEhlaWdodCxlKTtpZih0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsaS52ZXJ0ZXhCdWZmZXIpLHQuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUixyLHQuU1RBVElDX0RSQVcpLCFpLmluZGV4Q291bnQpe3ZhciBuPWkuY29tcHV0ZU1lc2hJbmRpY2VzXyhpLm1lc2hXaWR0aCxpLm1lc2hIZWlnaHQpO3QuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLGkuaW5kZXhCdWZmZXIpLHQuYnVmZmVyRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLG4sdC5TVEFUSUNfRFJBVyksaS5pbmRleENvdW50PW4ubGVuZ3RofX0pfSxpLnByb3RvdHlwZS5jb21wdXRlTWVzaFZlcnRpY2VzXz1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciByPW5ldyBGbG9hdDMyQXJyYXkoMiplKnQqNSksbj1pLmdldExlZnRFeWVWaXNpYmxlVGFuQW5nbGVzKCksQT1pLmdldExlZnRFeWVOb0xlbnNUYW5BbmdsZXMoKSxzPWkuZ2V0TGVmdEV5ZVZpc2libGVTY3JlZW5SZWN0KEEpLGE9MCxvPTA7bzwyO28rKyl7Zm9yKHZhciBsPTA7bDx0O2wrKylmb3IodmFyIGM9MDtjPGU7YysrLGErKyl7dmFyIGg9Yy8oZS0xKSxkPWwvKHQtMSksdT1oLHA9ZCxmPUQoblswXSxuWzJdLGgpLG09RChuWzNdLG5bMV0sZCksdj1NYXRoLnNxcnQoZipmK20qbSksZz1pLmRpc3RvcnRpb24uZGlzdG9ydEludmVyc2Uodiksdz1mKmcvdix5PW0qZy92O2g9KHctQVswXSkvKEFbMl0tQVswXSksZD0oeS1BWzNdKS8oQVsxXS1BWzNdKSxoPTIqKHMueCtoKnMud2lkdGgtLjUpLGQ9Mioocy55K2Qqcy5oZWlnaHQtLjUpLHJbNSphKzBdPWgscls1KmErMV09ZCxyWzUqYSsyXT11LHJbNSphKzNdPXAscls1KmErNF09b312YXIgRT1uWzJdLW5bMF07blswXT0tKEUrblswXSksblsyXT1FLW5bMl0sRT1BWzJdLUFbMF0sQVswXT0tKEUrQVswXSksQVsyXT1FLUFbMl0scy54PTEtKHMueCtzLndpZHRoKX1yZXR1cm4gcn0saS5wcm90b3R5cGUuY29tcHV0ZU1lc2hJbmRpY2VzXz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1uZXcgVWludDE2QXJyYXkoMiooZS0xKSoodC0xKSo2KSxyPWUvMixuPXQvMixBPTAscz0wLGE9MDthPDI7YSsrKWZvcih2YXIgbz0wO288dDtvKyspZm9yKHZhciBsPTA7bDxlO2wrKyxBKyspMCE9bCYmMCE9byYmKGw8PXI9PW88PW4/KGlbcysrXT1BLGlbcysrXT1BLWUtMSxpW3MrK109QS1lLGlbcysrXT1BLWUtMSxpW3MrK109QSxpW3MrK109QS0xKTooaVtzKytdPUEtMSxpW3MrK109QS1lLGlbcysrXT1BLGlbcysrXT1BLWUsaVtzKytdPUEtMSxpW3MrK109QS1lLTEpKTtyZXR1cm4gaX0saS5wcm90b3R5cGUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXz1mdW5jdGlvbihlLHQpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTtyZXR1cm4gdm9pZCAwIT09aS5nZXQmJnZvaWQgMCE9PWkuc2V0fHwoaS5jb25maWd1cmFibGU9ITAsaS5lbnVtZXJhYmxlPSEwLGkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKHQpfSxpLnNldD1mdW5jdGlvbihlKXt0aGlzLnNldEF0dHJpYnV0ZSh0LGUpfSksaX07dmFyICQ9W1wiYXR0cmlidXRlIHZlYzIgcG9zaXRpb247XCIsXCJ1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdDtcIixcInZvaWQgbWFpbigpIHtcIixcIiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0ICogdmVjNCggcG9zaXRpb24sIC0xLjAsIDEuMCApO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGVlPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidW5pZm9ybSB2ZWM0IGNvbG9yO1wiLFwidm9pZCBtYWluKCkge1wiLFwiICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcIixcIn1cIl0uam9pbihcIlxcblwiKSx0ZT1NYXRoLlBJLzE4MCxpZT0uMzEyNTtyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbDt0aGlzLmxpc3RlbmVyJiZlLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmxpc3RlbmVyLCExKSxlLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKSxlLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlcil9LHIucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuZ2wuY2FudmFzO3RoaXMubGlzdGVuZXI9ZnVuY3Rpb24ocil7dmFyIG49aS5jbGllbnRXaWR0aC8yO3IuY2xpZW50WD5uLTQyJiZyLmNsaWVudFg8bis0MiYmci5jbGllbnRZPmkuY2xpZW50SGVpZ2h0LTQyP2Uocik6ci5jbGllbnRYPDQyJiZyLmNsaWVudFk8NDImJnQocil9LGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5saXN0ZW5lciwhMSl9LHIucHJvdG90eXBlLm9uUmVzaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbCx0PXRoaXMsaT1bZS5BUlJBWV9CVUZGRVJfQklORElOR107SyhlLGksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShlLHQpe3ZhciBpPSg5MC1lKSp0ZSxyPU1hdGguY29zKGkpLHM9TWF0aC5zaW4oaSk7bi5wdXNoKGllKnIqaCtBLGllKnMqaCtoKSxuLnB1c2godCpyKmgrQSx0KnMqaCtoKX1mdW5jdGlvbiByKHQsaSl7bi5wdXNoKGQrdCxlLmRyYXdpbmdCdWZmZXJIZWlnaHQtZC1pKX12YXIgbj1bXSxBPWUuZHJhd2luZ0J1ZmZlcldpZHRoLzIscz1NYXRoLm1heChzY3JlZW4ud2lkdGgsc2NyZWVuLmhlaWdodCkqd2luZG93LmRldmljZVBpeGVsUmF0aW8sYT1lLmRyYXdpbmdCdWZmZXJXaWR0aC9zLG89YSp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxsPTQqby8yLGM9NDIqbyxoPTI4Km8vMixkPTE0Km87bi5wdXNoKEEtbCxjKSxuLnB1c2goQS1sLGUuZHJhd2luZ0J1ZmZlckhlaWdodCksbi5wdXNoKEErbCxjKSxuLnB1c2goQStsLGUuZHJhd2luZ0J1ZmZlckhlaWdodCksdC5nZWFyT2Zmc2V0PW4ubGVuZ3RoLzI7Zm9yKHZhciB1PTA7dTw9Njt1Kyspe3ZhciBwPTYwKnU7aShwLDEpLGkocCsxMiwxKSxpKHArMjAsLjc1KSxpKHArNDAsLjc1KSxpKHArNDgsMSl9dC5nZWFyVmVydGV4Q291bnQ9bi5sZW5ndGgvMi10LmdlYXJPZmZzZXQsdC5hcnJvd09mZnNldD1uLmxlbmd0aC8yO3ZhciBmPWwvTWF0aC5zaW4oNDUqdGUpO3IoMCxoKSxyKGgsMCkscihoK2YsZikscihmLGgrZikscihmLGgtZikscigwLGgpLHIoaCwyKmgpLHIoaCtmLDIqaC1mKSxyKGYsaC1mKSxyKDAsaCkscihmLGgtbCkscigyOCpvLGgtbCkscihmLGgrbCkscigyOCpvLGgrbCksdC5hcnJvd1ZlcnRleENvdW50PW4ubGVuZ3RoLzItdC5hcnJvd09mZnNldCxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdC52ZXJ0ZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KG4pLGUuU1RBVElDX0RSQVcpfSl9LHIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD10aGlzLGk9W2UuQ1VMTF9GQUNFLGUuREVQVEhfVEVTVCxlLkJMRU5ELGUuU0NJU1NPUl9URVNULGUuU1RFTkNJTF9URVNULGUuQ09MT1JfV1JJVEVNQVNLLGUuVklFV1BPUlQsZS5DVVJSRU5UX1BST0dSQU0sZS5BUlJBWV9CVUZGRVJfQklORElOR107SyhlLGksZnVuY3Rpb24oZSl7ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSxlLmRpc2FibGUoZS5ERVBUSF9URVNUKSxlLmRpc2FibGUoZS5CTEVORCksZS5kaXNhYmxlKGUuU0NJU1NPUl9URVNUKSxlLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLGUuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSxlLnZpZXdwb3J0KDAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHQpLHQucmVuZGVyTm9TdGF0ZSgpfSl9LHIucHJvdG90eXBlLnJlbmRlck5vU3RhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2UudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksZS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmF0dHJpYnMucG9zaXRpb24pLGUudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmF0dHJpYnMucG9zaXRpb24sMixlLkZMT0FULCExLDgsMCksZS51bmlmb3JtNGYodGhpcy51bmlmb3Jtcy5jb2xvciwxLDEsMSwxKSxVKHRoaXMucHJvak1hdCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLDAsZS5kcmF3aW5nQnVmZmVySGVpZ2h0LC4xLDEwMjQpLFxuZS51bmlmb3JtTWF0cml4NGZ2KHRoaXMudW5pZm9ybXMucHJvamVjdGlvbk1hdCwhMSx0aGlzLnByb2pNYXQpLGUuZHJhd0FycmF5cyhlLlRSSUFOR0xFX1NUUklQLDAsNCksZS5kcmF3QXJyYXlzKGUuVFJJQU5HTEVfU1RSSVAsdGhpcy5nZWFyT2Zmc2V0LHRoaXMuZ2VhclZlcnRleENvdW50KSxlLmRyYXdBcnJheXMoZS5UUklBTkdMRV9TVFJJUCx0aGlzLmFycm93T2Zmc2V0LHRoaXMuYXJyb3dWZXJ0ZXhDb3VudCl9LG4ucHJvdG90eXBlLmRpc3RvcnRJbnZlcnNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MSxyPWUtdGhpcy5kaXN0b3J0KHQpO01hdGguYWJzKGktdCk+MWUtNDspe3ZhciBuPWUtdGhpcy5kaXN0b3J0KGkpLEE9aS1uKigoaS10KS8obi1yKSk7dD1pLGk9QSxyPW59cmV0dXJuIGl9LG4ucHJvdG90eXBlLmRpc3RvcnQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUqZSxpPTAscj0wO3I8dGhpcy5jb2VmZmljaWVudHMubGVuZ3RoO3IrKylpPXQqKGkrdGhpcy5jb2VmZmljaWVudHNbcl0pO3JldHVybihpKzEpKmV9O3ZhciByZT1NYXRoLlBJLzE4MCxuZT0xODAvTWF0aC5QSSxBZT1mdW5jdGlvbihlLHQsaSl7dGhpcy54PWV8fDAsdGhpcy55PXR8fDAsdGhpcy56PWl8fDB9O0FlLnByb3RvdHlwZT17Y29uc3RydWN0b3I6QWUsc2V0OmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpc30sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXMuej1lLnosdGhpc30sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoKCk7aWYoMCE9PWUpe3ZhciB0PTEvZTt0aGlzLm11bHRpcGx5U2NhbGFyKHQpfWVsc2UgdGhpcy54PTAsdGhpcy55PTAsdGhpcy56PTA7cmV0dXJuIHRoaXN9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uKGUpe3RoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lfSxhcHBseVF1YXRlcm5pb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LGk9dGhpcy55LHI9dGhpcy56LG49ZS54LEE9ZS55LHM9ZS56LGE9ZS53LG89YSp0K0Eqci1zKmksbD1hKmkrcyp0LW4qcixjPWEqcituKmktQSp0LGg9LW4qdC1BKmktcypyO3JldHVybiB0aGlzLng9byphK2gqLW4rbCotcy1jKi1BLHRoaXMueT1sKmEraCotQStjKi1uLW8qLXMsdGhpcy56PWMqYStoKi1zK28qLUEtbCotbix0aGlzfSxkb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCplLngrdGhpcy55KmUueSt0aGlzLnoqZS56fSxjcm9zc1ZlY3RvcnM6ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLngscj1lLnksbj1lLnosQT10Lngscz10LnksYT10Lno7cmV0dXJuIHRoaXMueD1yKmEtbipzLHRoaXMueT1uKkEtaSphLHRoaXMuej1pKnMtcipBLHRoaXN9fTt2YXIgc2U9ZnVuY3Rpb24oZSx0LGkscil7dGhpcy54PWV8fDAsdGhpcy55PXR8fDAsdGhpcy56PWl8fDAsdGhpcy53PXZvaWQgMCE9PXI/cjoxfTtzZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnNlLHNldDpmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXIsdGhpc30sY29weTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXMuej1lLnosdGhpcy53PWUudyx0aGlzfSxzZXRGcm9tRXVsZXJYWVo6ZnVuY3Rpb24oZSx0LGkpe3ZhciByPU1hdGguY29zKGUvMiksbj1NYXRoLmNvcyh0LzIpLEE9TWF0aC5jb3MoaS8yKSxzPU1hdGguc2luKGUvMiksYT1NYXRoLnNpbih0LzIpLG89TWF0aC5zaW4oaS8yKTtyZXR1cm4gdGhpcy54PXMqbipBK3IqYSpvLHRoaXMueT1yKmEqQS1zKm4qbyx0aGlzLno9cipuKm8rcyphKkEsdGhpcy53PXIqbipBLXMqYSpvLHRoaXN9LHNldEZyb21FdWxlcllYWjpmdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5jb3MoZS8yKSxuPU1hdGguY29zKHQvMiksQT1NYXRoLmNvcyhpLzIpLHM9TWF0aC5zaW4oZS8yKSxhPU1hdGguc2luKHQvMiksbz1NYXRoLnNpbihpLzIpO3JldHVybiB0aGlzLng9cypuKkErciphKm8sdGhpcy55PXIqYSpBLXMqbipvLHRoaXMuej1yKm4qby1zKmEqQSx0aGlzLnc9cipuKkErcyphKm8sdGhpc30sc2V0RnJvbUF4aXNBbmdsZTpmdW5jdGlvbihlLHQpe3ZhciBpPXQvMixyPU1hdGguc2luKGkpO3JldHVybiB0aGlzLng9ZS54KnIsdGhpcy55PWUueSpyLHRoaXMuej1lLnoqcix0aGlzLnc9TWF0aC5jb3MoaSksdGhpc30sbXVsdGlwbHk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLGUpfSxtdWx0aXBseVF1YXRlcm5pb25zOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS54LHI9ZS55LG49ZS56LEE9ZS53LHM9dC54LGE9dC55LG89dC56LGw9dC53O3JldHVybiB0aGlzLng9aSpsK0EqcytyKm8tbiphLHRoaXMueT1yKmwrQSphK24qcy1pKm8sdGhpcy56PW4qbCtBKm8raSphLXIqcyx0aGlzLnc9QSpsLWkqcy1yKmEtbipvLHRoaXN9LGludmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXMueio9LTEsdGhpcy5ub3JtYWxpemUoKSx0aGlzfSxub3JtYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyk7cmV0dXJuIDA9PT1lPyh0aGlzLng9MCx0aGlzLnk9MCx0aGlzLno9MCx0aGlzLnc9MSk6KGU9MS9lLHRoaXMueD10aGlzLngqZSx0aGlzLnk9dGhpcy55KmUsdGhpcy56PXRoaXMueiplLHRoaXMudz10aGlzLncqZSksdGhpc30sc2xlcnA6ZnVuY3Rpb24oZSx0KXtpZigwPT09dClyZXR1cm4gdGhpcztpZigxPT09dClyZXR1cm4gdGhpcy5jb3B5KGUpO3ZhciBpPXRoaXMueCxyPXRoaXMueSxuPXRoaXMueixBPXRoaXMudyxzPUEqZS53K2kqZS54K3IqZS55K24qZS56O2lmKHM8MD8odGhpcy53PS1lLncsdGhpcy54PS1lLngsdGhpcy55PS1lLnksdGhpcy56PS1lLnoscz0tcyk6dGhpcy5jb3B5KGUpLHM+PTEpcmV0dXJuIHRoaXMudz1BLHRoaXMueD1pLHRoaXMueT1yLHRoaXMuej1uLHRoaXM7dmFyIGE9TWF0aC5hY29zKHMpLG89TWF0aC5zcXJ0KDEtcypzKTtpZihNYXRoLmFicyhvKTwuMDAxKXJldHVybiB0aGlzLnc9LjUqKEErdGhpcy53KSx0aGlzLng9LjUqKGkrdGhpcy54KSx0aGlzLnk9LjUqKHIrdGhpcy55KSx0aGlzLno9LjUqKG4rdGhpcy56KSx0aGlzO3ZhciBsPU1hdGguc2luKCgxLXQpKmEpL28sYz1NYXRoLnNpbih0KmEpL287cmV0dXJuIHRoaXMudz1BKmwrdGhpcy53KmMsdGhpcy54PWkqbCt0aGlzLngqYyx0aGlzLnk9cipsK3RoaXMueSpjLHRoaXMuej1uKmwrdGhpcy56KmMsdGhpc30sc2V0RnJvbVVuaXRWZWN0b3JzOmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gZnVuY3Rpb24oaSxyKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IEFlKSx0PWkuZG90KHIpKzEsdDwxZS02Pyh0PTAsTWF0aC5hYnMoaS54KT5NYXRoLmFicyhpLnopP2Uuc2V0KC1pLnksaS54LDApOmUuc2V0KDAsLWkueixpLnkpKTplLmNyb3NzVmVjdG9ycyhpLHIpLHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz10LHRoaXMubm9ybWFsaXplKCksdGhpc319KCl9O3ZhciBhZT1uZXcgQSh7d2lkdGhNZXRlcnM6LjExLGhlaWdodE1ldGVyczouMDYyLGJldmVsTWV0ZXJzOi4wMDR9KSxvZT1uZXcgQSh7d2lkdGhNZXRlcnM6LjEwMzgsaGVpZ2h0TWV0ZXJzOi4wNTg0LGJldmVsTWV0ZXJzOi4wMDR9KSxsZT17Q2FyZGJvYXJkVjE6bmV3IGEoe2lkOlwiQ2FyZGJvYXJkVjFcIixsYWJlbDpcIkNhcmRib2FyZCBJL08gMjAxNFwiLGZvdjo0MCxpbnRlckxlbnNEaXN0YW5jZTouMDYsYmFzZWxpbmVMZW5zRGlzdGFuY2U6LjAzNSxzY3JlZW5MZW5zRGlzdGFuY2U6LjA0MixkaXN0b3J0aW9uQ29lZmZpY2llbnRzOlsuNDQxLC4xNTZdLGludmVyc2VDb2VmZmljaWVudHM6Wy0uNDQxMDAzNSwuNDI3NTYxNTUsLS40ODA0NDM5LC41NDYwMTM5LC0uNTg4MjExODMsLjU3MzM5MzgsLS40ODMwMzIwMiwuMzMyOTkwODMsLS4xNzU3Mzg0MSwuMDY1MTc3MiwtLjAxNDg4OTYzLC4wMDE1NTk4MzRdfSksQ2FyZGJvYXJkVjI6bmV3IGEoe2lkOlwiQ2FyZGJvYXJkVjJcIixsYWJlbDpcIkNhcmRib2FyZCBJL08gMjAxNVwiLGZvdjo2MCxpbnRlckxlbnNEaXN0YW5jZTouMDY0LGJhc2VsaW5lTGVuc0Rpc3RhbmNlOi4wMzUsc2NyZWVuTGVuc0Rpc3RhbmNlOi4wMzksZGlzdG9ydGlvbkNvZWZmaWNpZW50czpbLjM0LC41NV0saW52ZXJzZUNvZWZmaWNpZW50czpbLS4zMzgzNjcwNCwtLjE4MTYyMTg1LC44NjI2NTUsLTEuMjQ2MjA1MSwxLjA1NjA2MDIsLS41ODIwODMxNywuMjE2MDkwNzgsLS4wNTQ0NDgyMywuMDA5MTc3OTU2LC0uMDAwOTkwNDE2OSw2MTgzNTM1ZS0xMSwtMTY5ODE4MDNlLTEzXX0pfTtzLnByb3RvdHlwZS51cGRhdGVEZXZpY2VQYXJhbXM9ZnVuY3Rpb24oZSl7dGhpcy5kZXZpY2U9dGhpcy5kZXRlcm1pbmVEZXZpY2VfKGUpfHx0aGlzLmRldmljZX0scy5wcm90b3R5cGUuZ2V0RGV2aWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGV2aWNlfSxzLnByb3RvdHlwZS5zZXRWaWV3ZXI9ZnVuY3Rpb24oZSl7dGhpcy52aWV3ZXI9ZSx0aGlzLmRpc3RvcnRpb249bmV3IG4odGhpcy52aWV3ZXIuZGlzdG9ydGlvbkNvZWZmaWNpZW50cyl9LHMucHJvdG90eXBlLmRldGVybWluZURldmljZV89ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIE0oKT8oY29uc29sZS53YXJuKFwiVXNpbmcgZmFsbGJhY2sgaU9TIGRldmljZSBtZWFzdXJlbWVudHMuXCIpLG9lKTooY29uc29sZS53YXJuKFwiVXNpbmcgZmFsbGJhY2sgQW5kcm9pZCBkZXZpY2UgbWVhc3VyZW1lbnRzLlwiKSxhZSk7dmFyIHQ9LjAyNTQvZS54ZHBpLGk9LjAyNTQvZS55ZHBpO3JldHVybiBuZXcgQSh7d2lkdGhNZXRlcnM6dCp4KCksaGVpZ2h0TWV0ZXJzOmkqTCgpLGJldmVsTWV0ZXJzOi4wMDEqZS5iZXZlbE1tfSl9LHMucHJvdG90eXBlLmdldERpc3RvcnRlZEZpZWxkT2ZWaWV3TGVmdEV5ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMudmlld2VyLHQ9dGhpcy5kZXZpY2UsaT10aGlzLmRpc3RvcnRpb24scj1lLnNjcmVlbkxlbnNEaXN0YW5jZSxuPSh0LndpZHRoTWV0ZXJzLWUuaW50ZXJMZW5zRGlzdGFuY2UpLzIsQT1lLmludGVyTGVuc0Rpc3RhbmNlLzIscz1lLmJhc2VsaW5lTGVuc0Rpc3RhbmNlLXQuYmV2ZWxNZXRlcnMsYT10LmhlaWdodE1ldGVycy1zLG89bmUqTWF0aC5hdGFuKGkuZGlzdG9ydChuL3IpKSxsPW5lKk1hdGguYXRhbihpLmRpc3RvcnQoQS9yKSksYz1uZSpNYXRoLmF0YW4oaS5kaXN0b3J0KHMvcikpLGg9bmUqTWF0aC5hdGFuKGkuZGlzdG9ydChhL3IpKTtyZXR1cm57bGVmdERlZ3JlZXM6TWF0aC5taW4obyxlLmZvdikscmlnaHREZWdyZWVzOk1hdGgubWluKGwsZS5mb3YpLGRvd25EZWdyZWVzOk1hdGgubWluKGMsZS5mb3YpLHVwRGVncmVlczpNYXRoLm1pbihoLGUuZm92KX19LHMucHJvdG90eXBlLmdldExlZnRFeWVWaXNpYmxlVGFuQW5nbGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52aWV3ZXIsdD10aGlzLmRldmljZSxpPXRoaXMuZGlzdG9ydGlvbixyPU1hdGgudGFuKC1yZSplLmZvdiksbj1NYXRoLnRhbihyZSplLmZvdiksQT1NYXRoLnRhbihyZSplLmZvdikscz1NYXRoLnRhbigtcmUqZS5mb3YpLGE9dC53aWR0aE1ldGVycy80LG89dC5oZWlnaHRNZXRlcnMvMixsPWUuYmFzZWxpbmVMZW5zRGlzdGFuY2UtdC5iZXZlbE1ldGVycy1vLGM9ZS5pbnRlckxlbnNEaXN0YW5jZS8yLWEsaD0tbCxkPWUuc2NyZWVuTGVuc0Rpc3RhbmNlLHU9aS5kaXN0b3J0KChjLWEpL2QpLHA9aS5kaXN0b3J0KChoK28pL2QpLGY9aS5kaXN0b3J0KChjK2EpL2QpLG09aS5kaXN0b3J0KChoLW8pL2QpLHY9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gdlswXT1NYXRoLm1heChyLHUpLHZbMV09TWF0aC5taW4obixwKSx2WzJdPU1hdGgubWluKEEsZiksdlszXT1NYXRoLm1heChzLG0pLHZ9LHMucHJvdG90eXBlLmdldExlZnRFeWVOb0xlbnNUYW5BbmdsZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpZXdlcix0PXRoaXMuZGV2aWNlLGk9dGhpcy5kaXN0b3J0aW9uLHI9bmV3IEZsb2F0MzJBcnJheSg0KSxuPWkuZGlzdG9ydEludmVyc2UoTWF0aC50YW4oLXJlKmUuZm92KSksQT1pLmRpc3RvcnRJbnZlcnNlKE1hdGgudGFuKHJlKmUuZm92KSkscz1pLmRpc3RvcnRJbnZlcnNlKE1hdGgudGFuKHJlKmUuZm92KSksYT1pLmRpc3RvcnRJbnZlcnNlKE1hdGgudGFuKC1yZSplLmZvdikpLG89dC53aWR0aE1ldGVycy80LGw9dC5oZWlnaHRNZXRlcnMvMixjPWUuYmFzZWxpbmVMZW5zRGlzdGFuY2UtdC5iZXZlbE1ldGVycy1sLGg9ZS5pbnRlckxlbnNEaXN0YW5jZS8yLW8sZD0tYyx1PWUuc2NyZWVuTGVuc0Rpc3RhbmNlLHA9KGgtbykvdSxmPShkK2wpL3UsbT0oaCtvKS91LHY9KGQtbCkvdTtyZXR1cm4gclswXT1NYXRoLm1heChuLHApLHJbMV09TWF0aC5taW4oQSxmKSxyWzJdPU1hdGgubWluKHMsbSksclszXT1NYXRoLm1heChhLHYpLHJ9LHMucHJvdG90eXBlLmdldExlZnRFeWVWaXNpYmxlU2NyZWVuUmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnZpZXdlcixpPXRoaXMuZGV2aWNlLHI9dC5zY3JlZW5MZW5zRGlzdGFuY2Usbj0oaS53aWR0aE1ldGVycy10LmludGVyTGVuc0Rpc3RhbmNlKS8yLEE9dC5iYXNlbGluZUxlbnNEaXN0YW5jZS1pLmJldmVsTWV0ZXJzLHM9KGVbMF0qcituKS9pLndpZHRoTWV0ZXJzLGE9KGVbMV0qcitBKS9pLmhlaWdodE1ldGVycyxvPShlWzJdKnIrbikvaS53aWR0aE1ldGVycyxsPShlWzNdKnIrQSkvaS5oZWlnaHRNZXRlcnM7cmV0dXJue3g6cyx5Omwsd2lkdGg6by1zLGhlaWdodDphLWx9fSxzLnByb3RvdHlwZS5nZXRGaWVsZE9mVmlld0xlZnRFeWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5nZXRVbmRpc3RvcnRlZEZpZWxkT2ZWaWV3TGVmdEV5ZSgpOnRoaXMuZ2V0RGlzdG9ydGVkRmllbGRPZlZpZXdMZWZ0RXllKCl9LHMucHJvdG90eXBlLmdldEZpZWxkT2ZWaWV3UmlnaHRFeWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRGaWVsZE9mVmlld0xlZnRFeWUoZSk7cmV0dXJue2xlZnREZWdyZWVzOnQucmlnaHREZWdyZWVzLHJpZ2h0RGVncmVlczp0LmxlZnREZWdyZWVzLHVwRGVncmVlczp0LnVwRGVncmVlcyxkb3duRGVncmVlczp0LmRvd25EZWdyZWVzfX0scy5wcm90b3R5cGUuZ2V0VW5kaXN0b3J0ZWRGaWVsZE9mVmlld0xlZnRFeWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFVuZGlzdG9ydGVkUGFyYW1zXygpO3JldHVybntsZWZ0RGVncmVlczpuZSpNYXRoLmF0YW4oZS5vdXRlckRpc3QpLHJpZ2h0RGVncmVlczpuZSpNYXRoLmF0YW4oZS5pbm5lckRpc3QpLGRvd25EZWdyZWVzOm5lKk1hdGguYXRhbihlLmJvdHRvbURpc3QpLHVwRGVncmVlczpuZSpNYXRoLmF0YW4oZS50b3BEaXN0KX19LHMucHJvdG90eXBlLmdldFVuZGlzdG9ydGVkVmlld3BvcnRMZWZ0RXllPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRVbmRpc3RvcnRlZFBhcmFtc18oKSx0PXRoaXMudmlld2VyLGk9dGhpcy5kZXZpY2Uscj10LnNjcmVlbkxlbnNEaXN0YW5jZSxuPWkud2lkdGhNZXRlcnMvcixBPWkuaGVpZ2h0TWV0ZXJzL3Iscz1pLndpZHRoL24sYT1pLmhlaWdodC9BLG89TWF0aC5yb3VuZCgoZS5leWVQb3NYLWUub3V0ZXJEaXN0KSpzKSxsPU1hdGgucm91bmQoKGUuZXllUG9zWS1lLmJvdHRvbURpc3QpKmEpO3JldHVybnt4Om8seTpsLHdpZHRoOk1hdGgucm91bmQoKGUuZXllUG9zWCtlLmlubmVyRGlzdCkqcyktbyxoZWlnaHQ6TWF0aC5yb3VuZCgoZS5leWVQb3NZK2UudG9wRGlzdCkqYSktbH19LHMucHJvdG90eXBlLmdldFVuZGlzdG9ydGVkUGFyYW1zXz1mdW5jdGlvbigpe3ZhciBlPXRoaXMudmlld2VyLHQ9dGhpcy5kZXZpY2UsaT10aGlzLmRpc3RvcnRpb24scj1lLnNjcmVlbkxlbnNEaXN0YW5jZSxuPWUuaW50ZXJMZW5zRGlzdGFuY2UvMi9yLEE9dC53aWR0aE1ldGVycy9yLHM9dC5oZWlnaHRNZXRlcnMvcixhPUEvMi1uLG89KGUuYmFzZWxpbmVMZW5zRGlzdGFuY2UtdC5iZXZlbE1ldGVycykvcixsPWUuZm92LGM9aS5kaXN0b3J0SW52ZXJzZShNYXRoLnRhbihyZSpsKSksaD1NYXRoLm1pbihhLGMpLGQ9TWF0aC5taW4obixjKSx1PU1hdGgubWluKG8sYyk7cmV0dXJue291dGVyRGlzdDpoLGlubmVyRGlzdDpkLHRvcERpc3Q6TWF0aC5taW4ocy1vLGMpLGJvdHRvbURpc3Q6dSxleWVQb3NYOmEsZXllUG9zWTpvfX0scy5WaWV3ZXJzPWxlO3ZhciBjZT1be3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiYXN1cy8qL05leHVzIDcvKlwifSx7dWE6XCJOZXh1cyA3XCJ9XSxkcGk6WzMyMC44LDMyM10sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcImFzdXMvKi9BU1VTX1owMEFELypcIn0se3VhOlwiQVNVU19aMDBBRFwifV0sZHBpOls0MDMsNDA0LjZdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJHb29nbGUvKi9QaXhlbCAyIFhMLypcIn0se3VhOlwiUGl4ZWwgMiBYTFwifV0sZHBpOjUzNy45LGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJHb29nbGUvKi9QaXhlbCAzIFhMLypcIn0se3VhOlwiUGl4ZWwgMyBYTFwifV0sZHBpOls1NTguNSw1NTMuOF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkdvb2dsZS8qL1BpeGVsIFhMLypcIn0se3VhOlwiUGl4ZWwgWExcIn1dLGRwaTpbNTM3LjksNTMzXSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiR29vZ2xlLyovUGl4ZWwgMy8qXCJ9LHt1YTpcIlBpeGVsIDNcIn1dLGRwaTo0NDIuNCxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiR29vZ2xlLyovUGl4ZWwgMi8qXCJ9LHt1YTpcIlBpeGVsIDJcIn1dLGRwaTo0NDEsYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkdvb2dsZS8qL1BpeGVsLypcIn0se3VhOlwiUGl4ZWxcIn1dLGRwaTpbNDMyLjYsNDM2LjddLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJIVEMvKi9IVEM2NDM1TFZXLypcIn0se3VhOlwiSFRDNjQzNUxWV1wifV0sZHBpOls0NDkuNyw0NDMuM10sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkhUQy8qL0hUQyBPbmUgWEwvKlwifSx7dWE6XCJIVEMgT25lIFhMXCJ9XSxkcGk6WzMxNS4zLDMxNC42XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiaHRjLyovTmV4dXMgOS8qXCJ9LHt1YTpcIk5leHVzIDlcIn1dLGRwaToyODksYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkhUQy8qL0hUQyBPbmUgTTkvKlwifSx7dWE6XCJIVEMgT25lIE05XCJ9XSxkcGk6WzQ0Mi41LDQ0My4zXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiSFRDLyovSFRDIE9uZV9NOC8qXCJ9LHt1YTpcIkhUQyBPbmVfTThcIn1dLGRwaTpbNDQ5LjcsNDQ3LjRdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJIVEMvKi9IVEMgT25lLypcIn0se3VhOlwiSFRDIE9uZVwifV0sZHBpOjQ3Mi44LGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJIdWF3ZWkvKi9OZXh1cyA2UC8qXCJ9LHt1YTpcIk5leHVzIDZQXCJ9XSxkcGk6WzUxNS4xLDUxOF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkh1YXdlaS8qL0JMTi1MMjQvKlwifSx7dWE6XCJIT05PUkJMTi1MMjRcIn1dLGRwaTo0ODAsYnc6NCxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkh1YXdlaS8qL0JLTC1MMDkvKlwifSx7dWE6XCJCS0wtTDA5XCJ9XSxkcGk6NDAzLGJ3OjMuNDcsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJMRU5PVk8vKi9MZW5vdm8gUEIyLTY5MFkvKlwifSx7dWE6XCJMZW5vdm8gUEIyLTY5MFlcIn1dLGRwaTpbNDU3LjIsNDU0LjcxM10sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkxHRS8qL05leHVzIDVYLypcIn0se3VhOlwiTmV4dXMgNVhcIn1dLGRwaTpbNDIyLDQxOS45XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiTEdFLyovTEdNUzM0NS8qXCJ9LHt1YTpcIkxHTVMzNDVcIn1dLGRwaTpbMjIxLjcsMjE5LjFdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJMR0UvKi9MRy1EODAwLypcIn0se3VhOlwiTEctRDgwMFwifV0sZHBpOls0MjIsNDI0LjFdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJMR0UvKi9MRy1EODUwLypcIn0se3VhOlwiTEctRDg1MFwifV0sZHBpOls1MzcuOSw1NDEuOV0sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkxHRS8qL1ZTOTg1IDRHLypcIn0se3VhOlwiVlM5ODUgNEdcIn1dLGRwaTpbNTM3LjksNTM1LjZdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJMR0UvKi9OZXh1cyA1LypcIn0se3VhOlwiTmV4dXMgNSBCXCJ9XSxkcGk6WzQ0Mi40LDQ0NC44XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiTEdFLyovTmV4dXMgNC8qXCJ9LHt1YTpcIk5leHVzIDRcIn1dLGRwaTpbMzE5LjgsMzE4LjRdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJMR0UvKi9MRy1QNzY5LypcIn0se3VhOlwiTEctUDc2OVwifV0sZHBpOlsyNDAuNiwyNDcuNV0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIkxHRS8qL0xHTVMzMjMvKlwifSx7dWE6XCJMR01TMzIzXCJ9XSxkcGk6WzIwNi42LDIwNC42XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiTEdFLyovTEdMUzk5Ni8qXCJ9LHt1YTpcIkxHTFM5OTZcIn1dLGRwaTpbNDAzLjQsNDAxLjVdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJNaWNyb21heC8qLzQ1NjBNTVgvKlwifSx7dWE6XCI0NTYwTU1YXCJ9XSxkcGk6WzI0MCwyMTkuNF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIk1pY3JvbWF4LyovQTI1MC8qXCJ9LHt1YTpcIk1pY3JvbWF4IEEyNTBcIn1dLGRwaTpbNDgwLDQ0Ni40XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiTWljcm9tYXgvKi9NaWNyb21heCBBUTQ1MDEvKlwifSx7dWE6XCJNaWNyb21heCBBUTQ1MDFcIn1dLGRwaToyNDAsYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIm1vdG9yb2xhLyovRzUvKlwifSx7dWE6XCJNb3RvIEcgKDUpIFBsdXNcIn1dLGRwaTpbNDAzLjQsNDAzXSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9EUk9JRCBSQVpSLypcIn0se3VhOlwiRFJPSUQgUkFaUlwifV0sZHBpOlszNjguMSwyNTYuN10sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIm1vdG9yb2xhLyovWFQ4MzBDLypcIn0se3VhOlwiWFQ4MzBDXCJ9XSxkcGk6WzI1NCwyNTUuOV0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIm1vdG9yb2xhLyovWFQxMDIxLypcIn0se3VhOlwiWFQxMDIxXCJ9XSxkcGk6WzI1NCwyNTYuN10sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIm1vdG9yb2xhLyovWFQxMDIzLypcIn0se3VhOlwiWFQxMDIzXCJ9XSxkcGk6WzI1NCwyNTYuN10sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIm1vdG9yb2xhLyovWFQxMDI4LypcIn0se3VhOlwiWFQxMDI4XCJ9XSxkcGk6WzMyNi42LDMyNy42XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9YVDEwMzQvKlwifSx7dWE6XCJYVDEwMzRcIn1dLGRwaTpbMzI2LjYsMzI4LjRdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJtb3Rvcm9sYS8qL1hUMTA1My8qXCJ9LHt1YTpcIlhUMTA1M1wifV0sZHBpOlszMTUuMywzMTYuMV0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIm1vdG9yb2xhLyovWFQxNTYyLypcIn0se3VhOlwiWFQxNTYyXCJ9XSxkcGk6WzQwMy40LDQwMi43XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9OZXh1cyA2LypcIn0se3VhOlwiTmV4dXMgNiBCXCJ9XSxkcGk6WzQ5NC4zLDQ4OS43XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9YVDEwNjMvKlwifSx7dWE6XCJYVDEwNjNcIn1dLGRwaTpbMjk1LDI5Ni42XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9YVDEwNjQvKlwifSx7dWE6XCJYVDEwNjRcIn1dLGRwaTpbMjk1LDI5NS42XSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9YVDEwOTIvKlwifSx7dWE6XCJYVDEwOTJcIn1dLGRwaTpbNDIyLDQyNC4xXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9YVDEwOTUvKlwifSx7dWE6XCJYVDEwOTVcIn1dLGRwaTpbNDIyLDQyMy40XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwibW90b3JvbGEvKi9HNC8qXCJ9LHt1YTpcIk1vdG8gRyAoNClcIn1dLGRwaTo0MDEsYnc6NCxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIk9uZVBsdXMvKi9BMDAwMS8qXCJ9LHt1YTpcIkEwMDAxXCJ9XSxkcGk6WzQwMy40LDQwMV0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIk9uZVBsdXMvKi9PTkUgRTEwMDUvKlwifSx7dWE6XCJPTkUgRTEwMDVcIn1dLGRwaTpbNDQyLjQsNDQxLjRdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJPbmVQbHVzLyovT05FIEEyMDA1LypcIn0se3VhOlwiT05FIEEyMDA1XCJ9XSxkcGk6WzM5MS45LDQwNS40XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiT25lUGx1cy8qL09ORVBMVVMgQTUwMDAvKlwifSx7dWE6XCJPTkVQTFVTIEE1MDAwIFwifV0sZHBpOls0MDMuNDExLDM5OS43MzddLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJPbmVQbHVzLyovT05FIEE1MDEwLypcIn0se3VhOlwiT05FUExVUyBBNTAxMFwifV0sZHBpOls0MDMsNDAwXSxidzoyLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiT1BQTy8qL1g5MDkvKlwifSx7dWE6XCJYOTA5XCJ9XSxkcGk6WzQ0Mi40LDQ0NC4xXSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL0dULUk5MDgyLypcIn0se3VhOlwiR1QtSTkwODJcIn1dLGRwaTpbMTg0LjcsMTg1LjRdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tRzM2MFAvKlwifSx7dWE6XCJTTS1HMzYwUFwifV0sZHBpOlsxOTYuNywyMDUuNF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9OZXh1cyBTLypcIn0se3VhOlwiTmV4dXMgU1wifV0sZHBpOlsyMzQuNSwyMjkuOF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9HVC1JOTMwMC8qXCJ9LHt1YTpcIkdULUk5MzAwXCJ9XSxkcGk6WzMwNC44LDMwMy45XSxidzo1LGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLVQyMzBOVS8qXCJ9LHt1YTpcIlNNLVQyMzBOVVwifV0sZHBpOjIxNixidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NHSC1UMzk5LypcIn0se3VhOlwiU0dILVQzOTlcIn1dLGRwaTpbMjE3LjcsMjMxLjRdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU0dILU05MTkvKlwifSx7dWE6XCJTR0gtTTkxOVwifV0sZHBpOls0NDAuOCw0MzcuN10sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9TTS1OOTAwNS8qXCJ9LHt1YTpcIlNNLU45MDA1XCJ9XSxkcGk6WzM4Ni40LDM4N10sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9TQU1TVU5HLVNNLU45MDBBLypcIn0se3VhOlwiU0FNU1VORy1TTS1OOTAwQVwifV0sZHBpOlszODYuNCwzODcuN10sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9HVC1JOTUwMC8qXCJ9LHt1YTpcIkdULUk5NTAwXCJ9XSxkcGk6WzQ0Mi41LDQ0My4zXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL0dULUk5NTA1LypcIn0se3VhOlwiR1QtSTk1MDVcIn1dLGRwaTo0MzkuNCxidzo0LGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5MDBGLypcIn0se3VhOlwiU00tRzkwMEZcIn1dLGRwaTpbNDE1LjYsNDMxLjZdLGJ3OjUsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tRzkwME0vKlwifSx7dWE6XCJTTS1HOTAwTVwifV0sZHBpOls0MTUuNiw0MzEuNl0sYnc6NSxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9TTS1HODAwRi8qXCJ9LHt1YTpcIlNNLUc4MDBGXCJ9XSxkcGk6MzI2LjgsYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9TTS1HOTA2Uy8qXCJ9LHt1YTpcIlNNLUc5MDZTXCJ9XSxkcGk6WzU2Mi43LDU3Mi40XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL0dULUk5MzAwLypcIn0se3VhOlwiR1QtSTkzMDBcIn1dLGRwaTpbMzA2LjcsMzA0LjhdLGJ3OjUsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tVDUzNS8qXCJ9LHt1YTpcIlNNLVQ1MzVcIn1dLGRwaTpbMTQyLjYsMTM2LjRdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tTjkyMEMvKlwifSx7dWE6XCJTTS1OOTIwQ1wifV0sZHBpOls1MTUuMSw1MTguNF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9TTS1OOTIwUC8qXCJ9LHt1YTpcIlNNLU45MjBQXCJ9XSxkcGk6WzM4Ni4zNjU1LDM5MC4xNDRdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tTjkyMFc4LypcIn0se3VhOlwiU00tTjkyMFc4XCJ9XSxkcGk6WzUxNS4xLDUxOC40XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL0dULUk5MzAwSS8qXCJ9LHt1YTpcIkdULUk5MzAwSVwifV0sZHBpOlszMDQuOCwzMDUuOF0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9HVC1JOTE5NS8qXCJ9LHt1YTpcIkdULUk5MTk1XCJ9XSxkcGk6WzI0OS40LDI1Ni43XSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NQSC1MNTIwLypcIn0se3VhOlwiU1BILUw1MjBcIn1dLGRwaTpbMjQ5LjQsMjU1LjldLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU0FNU1VORy1TR0gtSTcxNy8qXCJ9LHt1YTpcIlNBTVNVTkctU0dILUk3MTdcIn1dLGRwaToyODUuOCxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NQSC1ENzEwLypcIn0se3VhOlwiU1BILUQ3MTBcIn1dLGRwaTpbMjE3LjcsMjA0LjJdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovR1QtTjcxMDAvKlwifSx7dWE6XCJHVC1ONzEwMFwifV0sZHBpOjI2NS4xLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU0NILUk2MDUvKlwifSx7dWE6XCJTQ0gtSTYwNVwifV0sZHBpOjI2NS4xLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovR2FsYXh5IE5leHVzLypcIn0se3VhOlwiR2FsYXh5IE5leHVzXCJ9XSxkcGk6WzMxNS4zLDMxNC4yXSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLU45MTBILypcIn0se3VhOlwiU00tTjkxMEhcIn1dLGRwaTpbNTE1LjEsNTE4XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLU45MTBDLypcIn0se3VhOlwiU00tTjkxMENcIn1dLGRwaTpbNTE1LjIsNTIwLjJdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tRzEzME0vKlwifSx7dWE6XCJTTS1HMTMwTVwifV0sZHBpOlsxNjUuOSwxNjQuOF0sYnc6MyxhYzo1MDB9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcInNhbXN1bmcvKi9TTS1HOTI4SS8qXCJ9LHt1YTpcIlNNLUc5MjhJXCJ9XSxkcGk6WzUxNS4xLDUxOC40XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5MjBGLypcIn0se3VhOlwiU00tRzkyMEZcIn1dLGRwaTo1ODAuNixidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5MjBQLypcIn0se3VhOlwiU00tRzkyMFBcIn1dLGRwaTpbNTIyLjUsNTc3XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5MjVGLypcIn0se3VhOlwiU00tRzkyNUZcIn1dLGRwaTo1ODAuNixidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5MjVWLypcIn0se3VhOlwiU00tRzkyNVZcIn1dLGRwaTpbNTIyLjUsNTc2LjZdLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tRzkzMEYvKlwifSx7dWE6XCJTTS1HOTMwRlwifV0sZHBpOjU3Ni42LGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJzYW1zdW5nLyovU00tRzkzNUYvKlwifSx7dWE6XCJTTS1HOTM1RlwifV0sZHBpOjUzMyxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5NTBGLypcIn0se3VhOlwiU00tRzk1MEZcIn1dLGRwaTpbNTYyLjcwNyw1NjUuMjkzXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5NTVVLypcIn0se3VhOlwiU00tRzk1NVVcIn1dLGRwaTpbNTIyLjUxNCw1MjUuNzYyXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwic2Ftc3VuZy8qL1NNLUc5NTVGLypcIn0se3VhOlwiU00tRzk1NUZcIn1dLGRwaTpbNTIyLjUxNCw1MjUuNzYyXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiU29ueS8qL0M2OTAzLypcIn0se3VhOlwiQzY5MDNcIn1dLGRwaTpbNDQyLjUsNDQzLjNdLGJ3OjMsYWM6NTAwfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJTb255LyovRDY2NTMvKlwifSx7dWE6XCJENjY1M1wifV0sZHBpOls0MjguNiw0MjcuNl0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIlNvbnkvKi9FNjY1My8qXCJ9LHt1YTpcIkU2NjUzXCJ9XSxkcGk6WzQyOC42LDQyNS43XSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiU29ueS8qL0U2ODUzLypcIn0se3VhOlwiRTY4NTNcIn1dLGRwaTpbNDAzLjQsNDAxLjldLGJ3OjMsYWM6MWUzfSx7dHlwZTpcImFuZHJvaWRcIixydWxlczpbe21kbWg6XCJTb255LyovU0dQMzIxLypcIn0se3VhOlwiU0dQMzIxXCJ9XSxkcGk6WzIyNC43LDIyNC4xXSxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiVENULyovQUxDQVRFTCBPTkUgVE9VQ0ggRmllcmNlLypcIn0se3VhOlwiQUxDQVRFTCBPTkUgVE9VQ0ggRmllcmNlXCJ9XSxkcGk6WzI0MCwyNDcuNV0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIlRITC8qL3RobCA1MDAwLypcIn0se3VhOlwidGhsIDUwMDBcIn1dLGRwaTpbNDgwLDQ0My4zXSxidzozLGFjOjFlM30se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiRmx5LyovSVE0NDEyLypcIn0se3VhOlwiSVE0NDEyXCJ9XSxkcGk6MzA3LjksYnc6MyxhYzoxZTN9LHt0eXBlOlwiYW5kcm9pZFwiLHJ1bGVzOlt7bWRtaDpcIlpURS8qL1pURSBCbGFkZSBMMi8qXCJ9LHt1YTpcIlpURSBCbGFkZSBMMlwifV0sZHBpOjI0MCxidzozLGFjOjUwMH0se3R5cGU6XCJhbmRyb2lkXCIscnVsZXM6W3ttZG1oOlwiQkVORVZFLyovVlI1MTgvKlwifSx7dWE6XCJWUjUxOFwifV0sZHBpOjQ4MCxidzozLGFjOjUwMH0se3R5cGU6XCJpb3NcIixydWxlczpbe3JlczpbNjQwLDk2MF19XSxkcGk6WzMyNS4xLDMyOC40XSxidzo0LGFjOjFlM30se3R5cGU6XCJpb3NcIixydWxlczpbe3JlczpbNjQwLDExMzZdfV0sZHBpOlszMTcuMSwzMjAuMl0sYnc6MyxhYzoxZTN9LHt0eXBlOlwiaW9zXCIscnVsZXM6W3tyZXM6Wzc1MCwxMzM0XX1dLGRwaTozMjYuNCxidzo0LGFjOjFlM30se3R5cGU6XCJpb3NcIixydWxlczpbe3JlczpbMTI0MiwyMjA4XX1dLGRwaTpbNDUzLjYsNDU4LjRdLGJ3OjQsYWM6MWUzfSx7dHlwZTpcImlvc1wiLHJ1bGVzOlt7cmVzOlsxMTI1LDIwMDFdfV0sZHBpOls0MTAuOSw0MTUuNF0sYnc6NCxhYzoxZTN9LHt0eXBlOlwiaW9zXCIscnVsZXM6W3tyZXM6WzExMjUsMjQzNl19XSxkcGk6NDU4LGJ3OjQsYWM6MWUzfV0saGU9e2Zvcm1hdDoxLGxhc3RfdXBkYXRlZDpcIjIwMTgtMTItMTBUMTc6MDE6NDJaXCIsZGV2aWNlczpjZX07by5wcm90b3R5cGUuZ2V0RGV2aWNlUGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGV2aWNlUGFyYW1zfSxvLnByb3RvdHlwZS5yZWNhbGN1bGF0ZURldmljZVBhcmFtc189ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNhbGNEZXZpY2VQYXJhbXNfKCk7ZT8odGhpcy5kZXZpY2VQYXJhbXM9ZSx0aGlzLm9uRGV2aWNlUGFyYW1zVXBkYXRlZCYmdGhpcy5vbkRldmljZVBhcmFtc1VwZGF0ZWQodGhpcy5kZXZpY2VQYXJhbXMpKTpjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlY2FsY3VsYXRlIGRldmljZSBwYXJhbWV0ZXJzLlwiKX0sby5wcm90b3R5cGUuY2FsY0RldmljZVBhcmFtc189ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRwZGI7aWYoIWUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJEUERCIG5vdCBhdmFpbGFibGUuXCIpLG51bGw7aWYoMSE9ZS5mb3JtYXQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJEUERCIGhhcyB1bmV4cGVjdGVkIGZvcm1hdCB2ZXJzaW9uLlwiKSxudWxsO2lmKCFlLmRldmljZXN8fCFlLmRldmljZXMubGVuZ3RoKXJldHVybiBjb25zb2xlLmVycm9yKFwiRFBEQiBkb2VzIG5vdCBoYXZlIGEgZGV2aWNlcyBzZWN0aW9uLlwiKSxudWxsO3ZhciB0PW5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fHdpbmRvdy5vcGVyYSxpPXgoKSxyPUwoKTtpZighZS5kZXZpY2VzKXJldHVybiBjb25zb2xlLmVycm9yKFwiRFBEQiBoYXMgbm8gZGV2aWNlcyBzZWN0aW9uLlwiKSxudWxsO2Zvcih2YXIgbj0wO248ZS5kZXZpY2VzLmxlbmd0aDtuKyspe3ZhciBBPWUuZGV2aWNlc1tuXTtpZihBLnJ1bGVzKWlmKFwiaW9zXCI9PUEudHlwZXx8XCJhbmRyb2lkXCI9PUEudHlwZSl7aWYoTSgpPT0oXCJpb3NcIj09QS50eXBlKSl7Zm9yKHZhciBzPSExLGE9MDthPEEucnVsZXMubGVuZ3RoO2ErKyl7dmFyIG89QS5ydWxlc1thXTtpZih0aGlzLnJ1bGVNYXRjaGVzXyhvLHQsaSxyKSl7cz0hMDticmVha319aWYocyl7dmFyIGM9QS5kcGlbMF18fEEuZHBpLGg9QS5kcGlbMV18fEEuZHBpO3JldHVybiBuZXcgbCh7eGRwaTpjLHlkcGk6aCxiZXZlbE1tOkEuYnd9KX19fWVsc2UgY29uc29sZS53YXJuKFwiRGV2aWNlW1wiK24rXCJdIGhhcyBpbnZhbGlkIHR5cGUuXCIpO2Vsc2UgY29uc29sZS53YXJuKFwiRGV2aWNlW1wiK24rXCJdIGhhcyBubyBydWxlcyBzZWN0aW9uLlwiKX1yZXR1cm4gY29uc29sZS53YXJuKFwiTm8gRFBEQiBkZXZpY2UgbWF0Y2guXCIpLG51bGx9LG8ucHJvdG90eXBlLnJ1bGVNYXRjaGVzXz1mdW5jdGlvbihlLHQsaSxyKXtpZighZS51YSYmIWUucmVzKXJldHVybiExO2lmKGUudWEmJlwiU01cIj09PWUudWEuc3Vic3RyaW5nKDAsMikmJihlLnVhPWUudWEuc3Vic3RyaW5nKDAsNykpLGUudWEmJnQuaW5kZXhPZihlLnVhKTwwKXJldHVybiExO2lmKGUucmVzKXtpZighZS5yZXNbMF18fCFlLnJlc1sxXSlyZXR1cm4hMTt2YXIgbj1lLnJlc1swXSxBPWUucmVzWzFdO2lmKE1hdGgubWluKGkscikhPU1hdGgubWluKG4sQSl8fE1hdGgubWF4KGkscikhPU1hdGgubWF4KG4sQSkpcmV0dXJuITF9cmV0dXJuITB9LGMucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuc2FtcGxlPWUsdGhpcy50aW1lc3RhbXBTPXR9LGMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSl7dGhpcy5zZXQoZS5zYW1wbGUsZS50aW1lc3RhbXBTKX0saC5wcm90b3R5cGUuYWRkQWNjZWxNZWFzdXJlbWVudD1mdW5jdGlvbihlLHQpe3RoaXMuY3VycmVudEFjY2VsTWVhc3VyZW1lbnQuc2V0KGUsdCl9LGgucHJvdG90eXBlLmFkZEd5cm9NZWFzdXJlbWVudD1mdW5jdGlvbihlLHQpe3RoaXMuY3VycmVudEd5cm9NZWFzdXJlbWVudC5zZXQoZSx0KTt2YXIgaT10LXRoaXMucHJldmlvdXNHeXJvTWVhc3VyZW1lbnQudGltZXN0YW1wUztJKGkpJiZ0aGlzLnJ1bl8oKSx0aGlzLnByZXZpb3VzR3lyb01lYXN1cmVtZW50LmNvcHkodGhpcy5jdXJyZW50R3lyb01lYXN1cmVtZW50KX0saC5wcm90b3R5cGUucnVuXz1mdW5jdGlvbigpe2lmKCF0aGlzLmlzT3JpZW50YXRpb25Jbml0aWFsaXplZClyZXR1cm4gdGhpcy5hY2NlbFE9dGhpcy5hY2NlbFRvUXVhdGVybmlvbl8odGhpcy5jdXJyZW50QWNjZWxNZWFzdXJlbWVudC5zYW1wbGUpLHRoaXMucHJldmlvdXNGaWx0ZXJRLmNvcHkodGhpcy5hY2NlbFEpLHZvaWQodGhpcy5pc09yaWVudGF0aW9uSW5pdGlhbGl6ZWQ9ITApO3ZhciBlPXRoaXMuY3VycmVudEd5cm9NZWFzdXJlbWVudC50aW1lc3RhbXBTLXRoaXMucHJldmlvdXNHeXJvTWVhc3VyZW1lbnQudGltZXN0YW1wUyx0PXRoaXMuZ3lyb1RvUXVhdGVybmlvbkRlbHRhXyh0aGlzLmN1cnJlbnRHeXJvTWVhc3VyZW1lbnQuc2FtcGxlLGUpO3RoaXMuZ3lyb0ludGVncmFsUS5tdWx0aXBseSh0KSx0aGlzLmZpbHRlclEuY29weSh0aGlzLnByZXZpb3VzRmlsdGVyUSksdGhpcy5maWx0ZXJRLm11bHRpcGx5KHQpO3ZhciBpPW5ldyBzZTtpLmNvcHkodGhpcy5maWx0ZXJRKSxpLmludmVyc2UoKSx0aGlzLmVzdGltYXRlZEdyYXZpdHkuc2V0KDAsMCwtMSksdGhpcy5lc3RpbWF0ZWRHcmF2aXR5LmFwcGx5UXVhdGVybmlvbihpKSx0aGlzLmVzdGltYXRlZEdyYXZpdHkubm9ybWFsaXplKCksdGhpcy5tZWFzdXJlZEdyYXZpdHkuY29weSh0aGlzLmN1cnJlbnRBY2NlbE1lYXN1cmVtZW50LnNhbXBsZSksdGhpcy5tZWFzdXJlZEdyYXZpdHkubm9ybWFsaXplKCk7dmFyIHI9bmV3IHNlO3Iuc2V0RnJvbVVuaXRWZWN0b3JzKHRoaXMuZXN0aW1hdGVkR3Jhdml0eSx0aGlzLm1lYXN1cmVkR3Jhdml0eSksci5pbnZlcnNlKCksdGhpcy5pc0RlYnVnJiZjb25zb2xlLmxvZyhcIkRlbHRhOiAlZCBkZWcsIEdfZXN0OiAoJXMsICVzLCAlcyksIEdfbWVhczogKCVzLCAlcywgJXMpXCIsbmUqWShyKSx0aGlzLmVzdGltYXRlZEdyYXZpdHkueC50b0ZpeGVkKDEpLHRoaXMuZXN0aW1hdGVkR3Jhdml0eS55LnRvRml4ZWQoMSksdGhpcy5lc3RpbWF0ZWRHcmF2aXR5LnoudG9GaXhlZCgxKSx0aGlzLm1lYXN1cmVkR3Jhdml0eS54LnRvRml4ZWQoMSksdGhpcy5tZWFzdXJlZEdyYXZpdHkueS50b0ZpeGVkKDEpLHRoaXMubWVhc3VyZWRHcmF2aXR5LnoudG9GaXhlZCgxKSk7dmFyIG49bmV3IHNlO24uY29weSh0aGlzLmZpbHRlclEpLG4ubXVsdGlwbHkociksdGhpcy5maWx0ZXJRLnNsZXJwKG4sMS10aGlzLmtGaWx0ZXIpLHRoaXMucHJldmlvdXNGaWx0ZXJRLmNvcHkodGhpcy5maWx0ZXJRKX0saC5wcm90b3R5cGUuZ2V0T3JpZW50YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXJRfSxoLnByb3RvdHlwZS5hY2NlbFRvUXVhdGVybmlvbl89ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFlO3QuY29weShlKSx0Lm5vcm1hbGl6ZSgpO3ZhciBpPW5ldyBzZTtyZXR1cm4gaS5zZXRGcm9tVW5pdFZlY3RvcnMobmV3IEFlKDAsMCwtMSksdCksaS5pbnZlcnNlKCksaX0saC5wcm90b3R5cGUuZ3lyb1RvUXVhdGVybmlvbkRlbHRhXz1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBzZSxyPW5ldyBBZTtyZXR1cm4gci5jb3B5KGUpLHIubm9ybWFsaXplKCksaS5zZXRGcm9tQXhpc0FuZ2xlKHIsZS5sZW5ndGgoKSp0KSxpfSxkLnByb3RvdHlwZS5nZXRQcmVkaWN0aW9uPWZ1bmN0aW9uKGUsdCxpKXtpZighdGhpcy5wcmV2aW91c1RpbWVzdGFtcFMpcmV0dXJuIHRoaXMucHJldmlvdXNRLmNvcHkoZSksdGhpcy5wcmV2aW91c1RpbWVzdGFtcFM9aSxlO3ZhciByPW5ldyBBZTtyLmNvcHkodCksci5ub3JtYWxpemUoKTt2YXIgbj10Lmxlbmd0aCgpO2lmKG48MjAqcmUpcmV0dXJuIHRoaXMuaXNEZWJ1ZyYmY29uc29sZS5sb2coXCJNb3Zpbmcgc2xvd2x5LCBhdCAlcyBkZWcvczogbm8gcHJlZGljdGlvblwiLChuZSpuKS50b0ZpeGVkKDEpKSx0aGlzLm91dFEuY29weShlKSx0aGlzLnByZXZpb3VzUS5jb3B5KGUpLHRoaXMub3V0UTt2YXIgQT1uKnRoaXMucHJlZGljdGlvblRpbWVTO3JldHVybiB0aGlzLmRlbHRhUS5zZXRGcm9tQXhpc0FuZ2xlKHIsQSksdGhpcy5vdXRRLmNvcHkodGhpcy5wcmV2aW91c1EpLHRoaXMub3V0US5tdWx0aXBseSh0aGlzLmRlbHRhUSksdGhpcy5wcmV2aW91c1EuY29weShlKSx0aGlzLnByZXZpb3VzVGltZXN0YW1wUz1pLHRoaXMub3V0UX0sdS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdS5wcm90b3R5cGUuZ2V0T3JpZW50YXRpb249ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDA7aWYodGhpcy5pc1dpdGhvdXREZXZpY2VNb3Rpb24mJnRoaXMuX2RldmljZU9yaWVudGF0aW9uUSl7dGhpcy5kZXZpY2VPcmllbnRhdGlvbkZpeFE9dGhpcy5kZXZpY2VPcmllbnRhdGlvbkZpeFF8fGZ1bmN0aW9uKCl7dmFyIGU9KG5ldyBzZSkuc2V0RnJvbUF4aXNBbmdsZShuZXcgQWUoMCwwLC0xKSwwKSx0PW5ldyBzZTtyZXR1cm4tOTA9PT13aW5kb3cub3JpZW50YXRpb24/dC5zZXRGcm9tQXhpc0FuZ2xlKG5ldyBBZSgwLDEsMCksTWF0aC5QSS8tMik6dC5zZXRGcm9tQXhpc0FuZ2xlKG5ldyBBZSgwLDEsMCksTWF0aC5QSS8yKSxlLm11bHRpcGx5KHQpfSgpLHRoaXMuZGV2aWNlT3JpZW50YXRpb25GaWx0ZXJUb1dvcmxkUT10aGlzLmRldmljZU9yaWVudGF0aW9uRmlsdGVyVG9Xb3JsZFF8fGZ1bmN0aW9uKCl7dmFyIGU9bmV3IHNlO3JldHVybiBlLnNldEZyb21BeGlzQW5nbGUobmV3IEFlKDEsMCwwKSwtTWF0aC5QSS8yKSxlfSgpLGU9dGhpcy5fZGV2aWNlT3JpZW50YXRpb25RO3ZhciB0PW5ldyBzZTtyZXR1cm4gdC5jb3B5KGUpLHQubXVsdGlwbHkodGhpcy5kZXZpY2VPcmllbnRhdGlvbkZpbHRlclRvV29ybGRRKSx0Lm11bHRpcGx5KHRoaXMucmVzZXRRKSx0Lm11bHRpcGx5KHRoaXMud29ybGRUb1NjcmVlblEpLHQubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLmRldmljZU9yaWVudGF0aW9uRml4USx0KSx0aGlzLnlhd09ubHkmJih0Lng9MCx0Lno9MCx0Lm5vcm1hbGl6ZSgpKSx0aGlzLm9yaWVudGF0aW9uT3V0X1swXT10LngsdGhpcy5vcmllbnRhdGlvbk91dF9bMV09dC55LHRoaXMub3JpZW50YXRpb25PdXRfWzJdPXQueix0aGlzLm9yaWVudGF0aW9uT3V0X1szXT10LncsdGhpcy5vcmllbnRhdGlvbk91dF99dmFyIGk9dGhpcy5maWx0ZXIuZ2V0T3JpZW50YXRpb24oKTtlPXRoaXMucG9zZVByZWRpY3Rvci5nZXRQcmVkaWN0aW9uKGksdGhpcy5neXJvc2NvcGUsdGhpcy5wcmV2aW91c1RpbWVzdGFtcFMpO3ZhciB0PW5ldyBzZTtyZXR1cm4gdC5jb3B5KHRoaXMuZmlsdGVyVG9Xb3JsZFEpLHQubXVsdGlwbHkodGhpcy5yZXNldFEpLHQubXVsdGlwbHkoZSksdC5tdWx0aXBseSh0aGlzLndvcmxkVG9TY3JlZW5RKSx0aGlzLnlhd09ubHkmJih0Lng9MCx0Lno9MCx0Lm5vcm1hbGl6ZSgpKSx0aGlzLm9yaWVudGF0aW9uT3V0X1swXT10LngsdGhpcy5vcmllbnRhdGlvbk91dF9bMV09dC55LHRoaXMub3JpZW50YXRpb25PdXRfWzJdPXQueix0aGlzLm9yaWVudGF0aW9uT3V0X1szXT10LncsdGhpcy5vcmllbnRhdGlvbk91dF99LHUucHJvdG90eXBlLnJlc2V0UG9zZT1mdW5jdGlvbigpe3RoaXMucmVzZXRRLmNvcHkodGhpcy5maWx0ZXIuZ2V0T3JpZW50YXRpb24oKSksdGhpcy5yZXNldFEueD0wLHRoaXMucmVzZXRRLnk9MCx0aGlzLnJlc2V0US56Kj0tMSx0aGlzLnJlc2V0US5ub3JtYWxpemUoKSxTKCkmJnRoaXMucmVzZXRRLm11bHRpcGx5KHRoaXMuaW52ZXJzZVdvcmxkVG9TY3JlZW5RKSx0aGlzLnJlc2V0US5tdWx0aXBseSh0aGlzLm9yaWdpbmFsUG9zZUFkanVzdFEpfSx1LnByb3RvdHlwZS5vbkRldmljZU9yaWVudGF0aW9uXz1mdW5jdGlvbihlKXt0aGlzLl9kZXZpY2VPcmllbnRhdGlvblE9dGhpcy5fZGV2aWNlT3JpZW50YXRpb25RfHxuZXcgc2U7dmFyIHQ9ZS5hbHBoYSxpPWUuYmV0YSxyPWUuZ2FtbWE7dD0odHx8MCkqTWF0aC5QSS8xODAsaT0oaXx8MCkqTWF0aC5QSS8xODAscj0ocnx8MCkqTWF0aC5QSS8xODAsdGhpcy5fZGV2aWNlT3JpZW50YXRpb25RLnNldEZyb21FdWxlcllYWihpLHQsLXIpfSx1LnByb3RvdHlwZS5vbkRldmljZU1vdGlvbl89ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVEZXZpY2VNb3Rpb25fKGUpfSx1LnByb3RvdHlwZS51cGRhdGVEZXZpY2VNb3Rpb25fPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxpPWUucm90YXRpb25SYXRlLHI9ZS50aW1lU3RhbXAvMWUzLG49ci10aGlzLnByZXZpb3VzVGltZXN0YW1wUztyZXR1cm4gbjwwPyhaKFwiZnVzaW9uLXBvc2Utc2Vuc29yOmludmFsaWQ6bm9uLW1vbm90b25pY1wiLFwiSW52YWxpZCB0aW1lc3RhbXBzIGRldGVjdGVkOiBub24tbW9ub3RvbmljIHRpbWVzdGFtcCBmcm9tIGRldmljZW1vdGlvblwiKSx2b2lkKHRoaXMucHJldmlvdXNUaW1lc3RhbXBTPXIpKTpuPD0uMDAxfHxuPjE/KFooXCJmdXNpb24tcG9zZS1zZW5zb3I6aW52YWxpZDpvdXRzaWRlLXRocmVzaG9sZFwiLFwiSW52YWxpZCB0aW1lc3RhbXBzIGRldGVjdGVkOiBUaW1lc3RhbXAgZnJvbSBkZXZpY2Vtb3Rpb24gb3V0c2lkZSBleHBlY3RlZCByYW5nZS5cIiksdm9pZCh0aGlzLnByZXZpb3VzVGltZXN0YW1wUz1yKSk6KHRoaXMuYWNjZWxlcm9tZXRlci5zZXQoLXQueCwtdC55LC10LnopLEMoKT90aGlzLmd5cm9zY29wZS5zZXQoLWkuYmV0YSxpLmFscGhhLGkuZ2FtbWEpOnRoaXMuZ3lyb3Njb3BlLnNldChpLmFscGhhLGkuYmV0YSxpLmdhbW1hKSx0aGlzLmlzRGV2aWNlTW90aW9uSW5SYWRpYW5zfHx0aGlzLmd5cm9zY29wZS5tdWx0aXBseVNjYWxhcihNYXRoLlBJLzE4MCksdGhpcy5maWx0ZXIuYWRkQWNjZWxNZWFzdXJlbWVudCh0aGlzLmFjY2VsZXJvbWV0ZXIsciksdGhpcy5maWx0ZXIuYWRkR3lyb01lYXN1cmVtZW50KHRoaXMuZ3lyb3Njb3BlLHIpLHZvaWQodGhpcy5wcmV2aW91c1RpbWVzdGFtcFM9cikpfSx1LnByb3RvdHlwZS5vbk9yaWVudGF0aW9uQ2hhbmdlXz1mdW5jdGlvbihlKXt0aGlzLnNldFNjcmVlblRyYW5zZm9ybV8oKX0sdS5wcm90b3R5cGUub25NZXNzYWdlXz1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7aWYodCYmdC50eXBlKXtcImRldmljZW1vdGlvblwiPT09dC50eXBlLnRvTG93ZXJDYXNlKCkmJnRoaXMudXBkYXRlRGV2aWNlTW90aW9uXyh0LmRldmljZU1vdGlvbkV2ZW50KX19LHUucHJvdG90eXBlLnNldFNjcmVlblRyYW5zZm9ybV89ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy53b3JsZFRvU2NyZWVuUS5zZXQoMCwwLDAsMSksd2luZG93Lm9yaWVudGF0aW9uKXtjYXNlIDA6YnJlYWs7Y2FzZSA5MDp0aGlzLndvcmxkVG9TY3JlZW5RLnNldEZyb21BeGlzQW5nbGUobmV3IEFlKDAsMCwxKSwtTWF0aC5QSS8yKTticmVhaztjYXNlLTkwOnRoaXMud29ybGRUb1NjcmVlblEuc2V0RnJvbUF4aXNBbmdsZShuZXcgQWUoMCwwLDEpLE1hdGguUEkvMil9dGhpcy5pbnZlcnNlV29ybGRUb1NjcmVlblEuY29weSh0aGlzLndvcmxkVG9TY3JlZW5RKSx0aGlzLmludmVyc2VXb3JsZFRvU2NyZWVuUS5pbnZlcnNlKCl9LHUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5vbkRldmljZU1vdGlvbkNhbGxiYWNrXz10aGlzLm9uRGV2aWNlTW90aW9uXy5iaW5kKHRoaXMpLHRoaXMub25PcmllbnRhdGlvbkNoYW5nZUNhbGxiYWNrXz10aGlzLm9uT3JpZW50YXRpb25DaGFuZ2VfLmJpbmQodGhpcyksdGhpcy5vbk1lc3NhZ2VDYWxsYmFja189dGhpcy5vbk1lc3NhZ2VfLmJpbmQodGhpcyksdGhpcy5vbkRldmljZU9yaWVudGF0aW9uQ2FsbGJhY2tfPXRoaXMub25EZXZpY2VPcmllbnRhdGlvbl8uYmluZCh0aGlzKSxNKCkmJlcoKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5vbk1lc3NhZ2VDYWxsYmFja18pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLm9uT3JpZW50YXRpb25DaGFuZ2VDYWxsYmFja18pLHRoaXMuaXNXaXRob3V0RGV2aWNlTW90aW9uP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLm9uRGV2aWNlT3JpZW50YXRpb25DYWxsYmFja18pOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlbW90aW9uXCIsdGhpcy5vbkRldmljZU1vdGlvbkNhbGxiYWNrXyl9LHUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZW1vdGlvblwiLHRoaXMub25EZXZpY2VNb3Rpb25DYWxsYmFja18pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLm9uRGV2aWNlT3JpZW50YXRpb25DYWxsYmFja18pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLm9uT3JpZW50YXRpb25DaGFuZ2VDYWxsYmFja18pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25NZXNzYWdlQ2FsbGJhY2tfKX07dmFyIGRlPW5ldyBBZSgxLDAsMCksdWU9bmV3IEFlKDAsMCwxKSxwZT1uZXcgc2U7cGUuc2V0RnJvbUF4aXNBbmdsZShkZSwtTWF0aC5QSS8yKSxwZS5tdWx0aXBseSgobmV3IHNlKS5zZXRGcm9tQXhpc0FuZ2xlKHVlLE1hdGguUEkvMikpO3ZhciBmZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7eSh0aGlzLGUpLHRoaXMuY29uZmlnPXQsdGhpcy5zZW5zb3I9bnVsbCx0aGlzLmZ1c2lvblNlbnNvcj1udWxsLHRoaXMuX291dD1uZXcgRmxvYXQzMkFycmF5KDQpLHRoaXMuYXBpPW51bGwsdGhpcy5lcnJvcnM9W10sdGhpcy5fc2Vuc29yUT1uZXcgc2UsdGhpcy5fb3V0UT1uZXcgc2UsdGhpcy5fb25TZW5zb3JSZWFkPXRoaXMuX29uU2Vuc29yUmVhZC5iaW5kKHRoaXMpLHRoaXMuX29uU2Vuc29yRXJyb3I9dGhpcy5fb25TZW5zb3JFcnJvci5iaW5kKHRoaXMpLHRoaXMuaW5pdCgpfXJldHVybiBFKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3RyeXtlPW5ldyBSZWxhdGl2ZU9yaWVudGF0aW9uU2Vuc29yKHtmcmVxdWVuY3k6NjAscmVmZXJlbmNlRnJhbWU6XCJzY3JlZW5cIn0pLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5fb25TZW5zb3JFcnJvcil9Y2F0Y2goZSl7dGhpcy5lcnJvcnMucHVzaChlKSxcIlNlY3VyaXR5RXJyb3JcIj09PWUubmFtZT8oY29uc29sZS5lcnJvcihcIkNhbm5vdCBjb25zdHJ1Y3Qgc2Vuc29ycyBkdWUgdG8gdGhlIEZlYXR1cmUgUG9saWN5XCIpLGNvbnNvbGUud2FybignQXR0ZW1wdGluZyB0byBmYWxsIGJhY2sgdXNpbmcgXCJkZXZpY2Vtb3Rpb25cIjsgaG93ZXZlciB0aGlzIHdpbGwgZmFpbCBpbiB0aGUgZnV0dXJlIHdpdGhvdXQgY29ycmVjdCBwZXJtaXNzaW9ucy4nKSx0aGlzLnVzZURldmljZU1vdGlvbigpKTpcIlJlZmVyZW5jZUVycm9yXCI9PT1lLm5hbWU/dGhpcy51c2VEZXZpY2VNb3Rpb24oKTpjb25zb2xlLmVycm9yKGUpfWUmJih0aGlzLmFwaT1cInNlbnNvclwiLHRoaXMuc2Vuc29yPWUsdGhpcy5zZW5zb3IuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWRpbmdcIix0aGlzLl9vblNlbnNvclJlYWQpLHRoaXMuc2Vuc29yLnN0YXJ0KCkpfX0se2tleTpcInVzZURldmljZU1vdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hcGk9XCJkZXZpY2Vtb3Rpb25cIix0aGlzLmZ1c2lvblNlbnNvcj1uZXcgdSh0aGlzLmNvbmZpZy5LX0ZJTFRFUix0aGlzLmNvbmZpZy5QUkVESUNUSU9OX1RJTUVfUyx0aGlzLmNvbmZpZy5ZQVdfT05MWSx0aGlzLmNvbmZpZy5ERUJVRyksdGhpcy5zZW5zb3ImJih0aGlzLnNlbnNvci5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZGluZ1wiLHRoaXMuX29uU2Vuc29yUmVhZCksdGhpcy5zZW5zb3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5fb25TZW5zb3JFcnJvciksdGhpcy5zZW5zb3I9bnVsbCl9fSx7a2V5OlwiZ2V0T3JpZW50YXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZnVzaW9uU2Vuc29yKXJldHVybiB0aGlzLmZ1c2lvblNlbnNvci5nZXRPcmllbnRhdGlvbigpO2lmKCF0aGlzLnNlbnNvcnx8IXRoaXMuc2Vuc29yLnF1YXRlcm5pb24pcmV0dXJuIHRoaXMuX291dFswXT10aGlzLl9vdXRbMV09dGhpcy5fb3V0WzJdPTAsdGhpcy5fb3V0WzNdPTEsdGhpcy5fb3V0O3ZhciBlPXRoaXMuc2Vuc29yLnF1YXRlcm5pb247dGhpcy5fc2Vuc29yUS5zZXQoZVswXSxlWzFdLGVbMl0sZVszXSk7dmFyIHQ9dGhpcy5fb3V0UTtyZXR1cm4gdC5jb3B5KHBlKSx0Lm11bHRpcGx5KHRoaXMuX3NlbnNvclEpLHRoaXMuY29uZmlnLllBV19PTkxZJiYodC54PXQuej0wLHQubm9ybWFsaXplKCkpLHRoaXMuX291dFswXT10LngsdGhpcy5fb3V0WzFdPXQueSx0aGlzLl9vdXRbMl09dC56LHRoaXMuX291dFszXT10LncsdGhpcy5fb3V0fX0se2tleTpcIl9vblNlbnNvckVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5lcnJvcnMucHVzaChlLmVycm9yKSxcIk5vdEFsbG93ZWRFcnJvclwiPT09ZS5lcnJvci5uYW1lP2NvbnNvbGUuZXJyb3IoXCJQZXJtaXNzaW9uIHRvIGFjY2VzcyBzZW5zb3Igd2FzIGRlbmllZFwiKTpcIk5vdFJlYWRhYmxlRXJyb3JcIj09PWUuZXJyb3IubmFtZT9jb25zb2xlLmVycm9yKFwiU2Vuc29yIGNvdWxkIG5vdCBiZSByZWFkXCIpOmNvbnNvbGUuZXJyb3IoZS5lcnJvciksdGhpcy51c2VEZXZpY2VNb3Rpb24oKX19LHtrZXk6XCJfb25TZW5zb3JSZWFkXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLGV9KCk7cC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihlKXtlfHx0aGlzLm92ZXJsYXkucGFyZW50RWxlbWVudD9lJiYodGhpcy5vdmVybGF5LnBhcmVudEVsZW1lbnQmJnRoaXMub3ZlcmxheS5wYXJlbnRFbGVtZW50IT1lJiZ0aGlzLm92ZXJsYXkucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm92ZXJsYXkpLGUuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KSk6ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXkpLHRoaXMub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjt2YXIgdD10aGlzLm92ZXJsYXkucXVlcnlTZWxlY3RvcihcImltZ1wiKSxpPXQuc3R5bGU7UygpPyhpLndpZHRoPVwiMjAlXCIsaS5tYXJnaW5MZWZ0PVwiNDAlXCIsaS5tYXJnaW5Ub3A9XCIzJVwiKTooaS53aWR0aD1cIjUwJVwiLGkubWFyZ2luTGVmdD1cIjI1JVwiLGkubWFyZ2luVG9wPVwiMjUlXCIpfSxwLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5vdmVybGF5LnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LHAucHJvdG90eXBlLnNob3dUZW1wb3JhcmlseT1mdW5jdGlvbihlLHQpe3RoaXMuc2hvdyh0KSx0aGlzLnRpbWVyPXNldFRpbWVvdXQodGhpcy5oaWRlLmJpbmQodGhpcyksZSl9LHAucHJvdG90eXBlLmRpc2FibGVTaG93VGVtcG9yYXJpbHk9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcil9LHAucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZVNob3dUZW1wb3JhcmlseSgpLCFTKCkmJmsoKT90aGlzLnNob3coKTp0aGlzLmhpZGUoKX0scC5wcm90b3R5cGUubG9hZEljb25fPWZ1bmN0aW9uKCl7XG50aGlzLmljb249XyhcImltYWdlL3N2Zyt4bWxcIixcIjxzdmcgd2lkdGg9JzE5OCcgaGVpZ2h0PScyNDAnIHZpZXdCb3g9JzAgMCAxOTggMjQwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PHBhdGggZD0nTTE0OS42MjUgMTA5LjUyN2w2LjczNyAzLjg5MXYuODg2YzAgLjE3Ny4wMTMuMzYuMDM4LjU0OS4wMS4wODEuMDIuMTYyLjAyNy4yNDIuMTQgMS40MTUuOTc0IDIuOTk4IDIuMTA1IDMuOTk5bDUuNzIgNS4wNjIuMDgxLS4wOXM0LjM4Mi0yLjUzIDUuMjM1LTMuMDI0bDI1Ljk3IDE0Ljk5M3Y1NC4wMDFjMCAuNzcxLS4zODYgMS4yMTctLjk0OCAxLjIxNy0uMjMzIDAtLjQ5NS0uMDc2LS43NzItLjIzNmwtMjMuOTY3LTEzLjgzOC0uMDE0LjAyNC0yNy4zMjIgMTUuNzc1LS44NS0xLjMyM2MtNC43MzEtMS41MjktOS43NDgtMi43NC0xNC45NTEtMy42MWEuMjcuMjcgMCAwIDAtLjAwNy4wMjRsLTUuMDY3IDE2Ljk2MS03Ljg5MSA0LjU1Ni0uMDM3LS4wNjN2MjcuNTljMCAuNzcyLS4zODYgMS4yMTctLjk0OCAxLjIxNy0uMjMyIDAtLjQ5NS0uMDc2LS43NzItLjIzNmwtNDIuNDczLTI0LjUyMmMtLjk1LS41NDktMS43Mi0xLjg3Ny0xLjcyLTIuOTY3di0xLjAzNWwtLjAyMS4wNDdhNS4xMTEgNS4xMTEgMCAwIDAtMS44MTYtLjM5OSA1LjY4MiA1LjY4MiAwIDAgMC0uNTQ2LjAwMSAxMy43MjQgMTMuNzI0IDAgMCAxLTEuOTE4LS4wNDFjLTEuNjU1LS4xNTMtMy4yLS42LTQuNDA0LTEuMjk2bC00Ni41NzYtMjYuODkuMDA1LjAxMi0xMC4yNzgtMTguNzVjLTEuMDAxLTEuODI3LS4yNDEtNC4yMTYgMS42OTgtNS4zMzZsNTYuMDExLTMyLjM0NWE0LjE5NCA0LjE5NCAwIDAgMSAyLjA5OS0uNTcyYzEuMzI2IDAgMi41NzIuNjU5IDMuMjI3IDEuODUzbC4wMDUtLjAwMy4yMjcuNDEzLS4wMDYuMDA0YTkuNjMgOS42MyAwIDAgMCAxLjQ3NyAyLjAxOGwuMjc3LjI3YzEuOTE0IDEuODUgNC40NjggMi44MDEgNy4xMTMgMi44MDEgMS45NDkgMCAzLjk0OC0uNTE3IDUuNzc1LTEuNTcyLjAxMyAwIDcuMzE5LTQuMjE5IDcuMzE5LTQuMjE5YTQuMTk0IDQuMTk0IDAgMCAxIDIuMDk5LS41NzJjMS4zMjYgMCAyLjU3Mi42NTggMy4yMjYgMS44NTNsMy4yNSA1LjkyOC4wMjItLjAxOCA2Ljc4NSAzLjkxNy0uMTA1LS4xODIgNDYuODgxLTI2Ljk2NW0wLTEuNjM1Yy0uMjgyIDAtLjU2My4wNzMtLjgxNS4yMThsLTQ2LjE2OSAyNi41NTYtNS40MS0zLjEyNC0zLjAwNS01LjQ4MWMtLjkxMy0xLjY2Ny0yLjY5OS0yLjcwMi00LjY2LTIuNzAzLTEuMDExIDAtMi4wMi4yNzQtMi45MTcuNzkyYTM4MjUgMzgyNSAwIDAgMS03LjI3NSA0LjE5NWwtLjA0NC4wMjRhOS45MzcgOS45MzcgMCAwIDEtNC45NTcgMS4zNTNjLTIuMjkyIDAtNC40MTQtLjgzMi01Ljk3Ni0yLjM0MmwtLjI1Mi0uMjQ1YTcuOTkyIDcuOTkyIDAgMCAxLTEuMTM5LTEuNTM0IDEuMzc5IDEuMzc5IDAgMCAwLS4wNi0uMTIybC0uMjI3LS40MTRhMS43MTggMS43MTggMCAwIDAtLjA5NS0uMTU0Yy0uOTM4LTEuNTc0LTIuNjczLTIuNTQ1LTQuNTcxLTIuNTQ1LTEuMDExIDAtMi4wMi4yNzQtMi45MTcuNzkyTDMuMTI1IDE1NS41MDJjLTIuNjk5IDEuNTU5LTMuNzM4IDQuOTQtMi4zMTQgNy41MzhsMTAuMjc4IDE4Ljc1Yy4xNzcuMzIzLjQ0OC41NjMuNzYxLjcwNGw0Ni40MjYgMjYuODA0YzEuNDAzLjgxIDMuMTU3IDEuMzMyIDUuMDcyIDEuNTA4YTE1LjY2MSAxNS42NjEgMCAwIDAgMi4xNDYuMDQ2IDQuNzY2IDQuNzY2IDAgMCAxIC4zOTYgMGMuMDk2LjAwNC4xOS4wMTEuMjgzLjAyMi4xMDkgMS41OTMgMS4xNTkgMy4zMjMgMi41MjkgNC4xMTRsNDIuNDcyIDI0LjUyMmMuNTI0LjMwMiAxLjA1OC40NTUgMS41OS40NTUgMS40OTcgMCAyLjU4My0xLjIgMi41ODMtMi44NTJ2LTI2LjU2Mmw3LjExMS00LjEwNWExLjY0IDEuNjQgMCAwIDAgLjc0OS0uOTQ4bDQuNjU4LTE1LjU5M2M0LjQxNC43OTcgOC42OTIgMS44NDggMTIuNzQyIDMuMTI4bC41MzMuODI5YTEuNjM0IDEuNjM0IDAgMCAwIDIuMTkzLjUzMWwyNi41MzItMTUuMzE3TDE5MyAxOTIuNDMzYy41MjMuMzAyIDEuMDU4LjQ1NSAxLjU5LjQ1NSAxLjQ5NyAwIDIuNTgzLTEuMTk5IDIuNTgzLTIuODUydi01NC4wMDFjMC0uNTg0LS4zMTItMS4xMjQtLjgxOC0xLjQxNmwtMjUuOTctMTQuOTkzYTEuNjMzIDEuNjMzIDAgMCAwLTEuNjM2LjAwMWMtLjYwNi4zNTEtMi45OTMgMS43My00LjMyNSAyLjQ5OGwtNC44MDktNC4yNTVjLS44MTktLjcyNS0xLjQ2MS0xLjkzMy0xLjU2MS0yLjkzNmE3Ljc3NiA3Ljc3NiAwIDAgMC0uMDMzLS4yOTQgMi40ODcgMi40ODcgMCAwIDEtLjAyMy0uMzM2di0uODg2YzAtLjU4NC0uMzEyLTEuMTIzLS44MTctMS40MTZsLTYuNzM5LTMuODkxYTEuNjMzIDEuNjMzIDAgMCAwLS44MTctLjIxOScgZmlsbD0nIzQ1NUE2NCcvPjxwYXRoIGQ9J005Ni4wMjcgMTMyLjYzNmw0Ni41NzYgMjYuODkxYzEuMjA0LjY5NSAxLjk3OSAxLjU4NyAyLjI0MiAyLjU0MWwtLjAxLjAwNy04MS4zNzQgNDYuOTgyaC0uMDAxYy0xLjY1NC0uMTUyLTMuMTk5LS42LTQuNDAzLTEuMjk1bC00Ni41NzYtMjYuODkxIDgzLjU0Ni00OC4yMzUnIGZpbGw9JyNGQUZBRkEnLz48cGF0aCBkPSdNNjMuNDYxIDIwOS4xNzRjLS4wMDggMC0uMDE1IDAtLjAyMi0uMDAyLTEuNjkzLS4xNTYtMy4yMjgtLjYwOS00LjQ0MS0xLjMwOWwtNDYuNTc2LTI2Ljg5YS4xMTguMTE4IDAgMCAxIDAtLjIwM2w4My41NDYtNDguMjM1YS4xMTcuMTE3IDAgMCAxIC4xMTcgMGw0Ni41NzYgMjYuODkxYzEuMjI3LjcwOCAyLjAyMSAxLjYxMiAyLjI5NiAyLjYxMWEuMTE2LjExNiAwIDAgMS0uMDQyLjEyNGwtLjAyMS4wMTYtODEuMzc1IDQ2Ljk4MWEuMTEuMTEgMCAwIDEtLjA1OC4wMTZ6bS01MC43NDctMjguMzAzbDQ2LjQwMSAyNi43OWMxLjE3OC42OCAyLjY3MSAxLjEyMSA0LjMyIDEuMjc2bDgxLjI3Mi00Ni45MjJjLS4yNzktLjkwNy0xLjAyNS0xLjczLTIuMTYzLTIuMzg3bC00Ni41MTctMjYuODU3LTgzLjMxMyA0OC4xeicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xNDguMzI3IDE2NS40NzFhNS44NSA1Ljg1IDAgMCAxLS41NDYuMDAxYy0xLjg5NC0uMDgzLTMuMzAyLTEuMDM4LTMuMTQ1LTIuMTMyYTIuNjkzIDIuNjkzIDAgMCAwLS4wNzItMS4xMDVsLTgxLjEwMyA0Ni44MjJjLjYyOC4wNTggMS4yNzIuMDczIDEuOTE4LjA0Mi4xODItLjAwOS4zNjQtLjAwOS41NDYtLjAwMSAxLjg5NC4wODMgMy4zMDIgMS4wMzggMy4xNDUgMi4xMzJsNzkuMjU3LTQ1Ljc1OScgZmlsbD0nI0ZGRicvPjxwYXRoIGQ9J002OS4wNyAyMTEuMzQ3YS4xMTguMTE4IDAgMCAxLS4xMTUtLjEzNGMuMDQ1LS4zMTctLjA1Ny0uNjM3LS4yOTctLjkyNS0uNTA1LS42MS0xLjU1NS0xLjAyMi0yLjczOC0xLjA3NGE1Ljk2NiA1Ljk2NiAwIDAgMC0uNTM1LjAwMSAxNC4wMyAxNC4wMyAwIDAgMS0xLjkzNS0uMDQxLjExNy4xMTcgMCAwIDEtLjEwMy0uMDkyLjExNi4xMTYgMCAwIDEgLjA1NS0uMTI2bDgxLjEwNC00Ni44MjJhLjExNy4xMTcgMCAwIDEgLjE3MS4wN2MuMTA0LjM4MS4xMjkuNzY4LjA3NCAxLjE1My0uMDQ1LjMxNi4wNTcuNjM3LjI5Ni45MjUuNTA2LjYxIDEuNTU1IDEuMDIxIDIuNzM5IDEuMDczLjE3OC4wMDguMzU3LjAwOC41MzUtLjAwMWEuMTE3LjExNyAwIDAgMSAuMDY0LjIxOGwtNzkuMjU2IDQ1Ljc1OWEuMTE0LjExNCAwIDAgMS0uMDU5LjAxNnptLTMuNDA1LTIuMzcyYy4wODkgMCAuMTc3LjAwMi4yNjUuMDA2IDEuMjY2LjA1NiAyLjM1My40ODggMi45MDggMS4xNTguMjI3LjI3NC4zNS41NzUuMzYuODgybDc4LjY4NS00NS40MjljLS4wMzYgMC0uMDcyLS4wMDEtLjEwNy0uMDAzLTEuMjY3LS4wNTYtMi4zNTQtLjQ4OS0yLjkwOS0xLjE1OC0uMjgyLS4zNC0uNDAyLS43MjQtLjM0Ny0xLjEwN2EyLjYwNCAyLjYwNCAwIDAgMC0uMDMyLS45MUw2My44NDYgMjA4Ljk3YTEzLjkxIDEzLjkxIDAgMCAwIDEuNTI4LjAxMmMuMDk3LS4wMDUuMTk0LS4wMDcuMjkxLS4wMDd6JyBmaWxsPScjNjA3RDhCJy8+PHBhdGggZD0nTTIuMjA4IDE2Mi4xMzRjLTEuMDAxLTEuODI3LS4yNDEtNC4yMTcgMS42OTgtNS4zMzdsNTYuMDExLTMyLjM0NGMxLjkzOS0xLjEyIDQuMzI0LS41NDYgNS4zMjYgMS4yODFsLjIzMi40MWE5LjM0NCA5LjM0NCAwIDAgMCAxLjQ3IDIuMDIxbC4yNzguMjdjMy4zMjUgMy4yMTQgOC41ODMgMy43MTYgMTIuODg4IDEuMjNsNy4zMTktNC4yMmMxLjk0LTEuMTE5IDQuMzI0LS41NDYgNS4zMjUgMS4yODJsMy4yNSA1LjkyOC04My41MTkgNDguMjI5LTEwLjI3OC0xOC43NXonIGZpbGw9JyNGQUZBRkEnLz48cGF0aCBkPSdNMTIuNDg2IDE4MS4wMDFhLjExMi4xMTIgMCAwIDEtLjAzMS0uMDA1LjExNC4xMTQgMCAwIDEtLjA3MS0uMDU2TDIuMTA2IDE2Mi4xOWMtMS4wMzEtMS44OC0uMjQ5LTQuMzQ1IDEuNzQyLTUuNDk0bDU2LjAxLTMyLjM0NGE0LjMyOCA0LjMyOCAwIDAgMSAyLjE1OC0uNTg4YzEuNDE1IDAgMi42NS43MDIgMy4zMTEgMS44ODIuMDEuMDA4LjAxOC4wMTcuMDI0LjAyOGwuMjI3LjQxNGEuMTIyLjEyMiAwIDAgMSAuMDEzLjAzOCA5LjUwOCA5LjUwOCAwIDAgMCAxLjQzOSAxLjk1OWwuMjc1LjI2NmMxLjg0NiAxLjc4NiA0LjM0NCAyLjc2OSA3LjAzMSAyLjc2OSAxLjk3NyAwIDMuOTU0LS41MzggNS43MTctMS41NTdhLjE0OC4xNDggMCAwIDEgLjAzNS0uMDEzbDcuMjg0LTQuMjA2YTQuMzIxIDQuMzIxIDAgMCAxIDIuMTU3LS41ODhjMS40MjcgMCAyLjY3Mi43MTYgMy4zMjkgMS45MTRsMy4yNDkgNS45MjlhLjExNi4xMTYgMCAwIDEtLjA0NC4xNTdsLTgzLjUxOCA0OC4yMjlhLjExNi4xMTYgMCAwIDEtLjA1OS4wMTZ6bTQ5LjUzLTU3LjAwNGMtLjcwNCAwLTEuNDEuMTkzLTIuMDQxLjU1N2wtNTYuMDEgMzIuMzQ1Yy0xLjg4MiAxLjA4Ni0yLjYyNCAzLjQwOS0xLjY1NSA1LjE3OWwxMC4yMjEgMTguNjQ1IDgzLjMxNy00OC4xMTItMy4xOTUtNS44MjljLS42MTUtMS4xMjItMS43ODMtMS43OTItMy4xMjQtMS43OTJhNC4wOCA0LjA4IDAgMCAwLTIuMDQuNTU3bC03LjMxNyA0LjIyNWEuMTQ4LjE0OCAwIDAgMS0uMDM1LjAxMyAxMS43IDExLjcgMCAwIDEtNS44MDEgMS41NjljLTIuNzQ4IDAtNS4zMDMtMS4wMDctNy4xOTQtMi44MzVsLS4yNzgtLjI3YTkuNzE2IDkuNzE2IDAgMCAxLTEuNDk3LTIuMDQ2LjA5Ni4wOTYgMCAwIDEtLjAxMy0uMDM3bC0uMTkxLS4zNDdhLjExLjExIDAgMCAxLS4wMjMtLjAyOWMtLjYxNS0xLjEyMy0xLjc4My0xLjc5My0zLjEyNC0xLjc5M3onIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNNDIuNDM0IDE1NS44MDhjLTIuNTEtLjAwMS00LjY5Ny0xLjI1OC01Ljg1Mi0zLjM2NS0xLjgxMS0zLjMwNC0uNDM4LTcuNjM0IDMuMDU5LTkuNjU0bDEyLjI5MS03LjA5OGE3LjU5OSA3LjU5OSAwIDAgMSAzLjc4OS0xLjAzM2MyLjUxIDAgNC42OTcgMS4yNTggNS44NTIgMy4zNjUgMS44MTEgMy4zMDQuNDM5IDcuNjM0LTMuMDU5IDkuNjU0bC0xMi4yOTEgNy4wOThhNy42MDYgNy42MDYgMCAwIDEtMy43ODkgMS4wMzN6bTEzLjI4Ny0yMC42ODNhNy4xMjggNy4xMjggMCAwIDAtMy41NTUuOTcxbC0xMi4yOTEgNy4wOThjLTMuMjc5IDEuODkzLTQuNTczIDUuOTQyLTIuODgzIDkuMDI0IDEuMDcxIDEuOTU1IDMuMTA2IDMuMTIyIDUuNDQyIDMuMTIyYTcuMTMgNy4xMyAwIDAgMCAzLjU1Ni0uOTdsMTIuMjkxLTcuMDk4YzMuMjc5LTEuODkzIDQuNTcyLTUuOTQyIDIuODgzLTkuMDI0LTEuMDcyLTEuOTU1LTMuMTA2LTMuMTIzLTUuNDQzLTMuMTIzeicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xNDkuNTg4IDEwOS40MDdsNi43MzcgMy44OXYuODg3YzAgLjE3Ni4wMTMuMzYuMDM3LjU0OS4wMTEuMDgxLjAyLjE2MS4wMjguMjQyLjE0IDEuNDE1Ljk3MyAyLjk5OCAyLjEwNSAzLjk5OWw3LjM5NiA2LjU0NWMuMTc3LjE1Ni4zNTguMjk1LjU0MS40MTUgMS41NzkgMS4wNCAyLjk1LjQ2NiAzLjA2Mi0xLjI4Mi4wNDktLjc4NC4wNTctMS41OTUuMDIzLTIuNDI5bC0uMDAzLS4xNnYtMS4xNTFsMjUuOTg3IDE1LjAwM3Y1NGMwIDEuMDktLjc3IDEuNTMtMS43Mi45ODJsLTQyLjQ3My0yNC41MjNjLS45NS0uNTQ4LTEuNzItMS44NzctMS43Mi0yLjk2NnYtMzQuMDMzJyBmaWxsPScjRkFGQUZBJy8+PHBhdGggZD0nTTE5NC41NTMgMTkxLjI1Yy0uMjU3IDAtLjU0LS4wODUtLjgzMS0uMjUzbC00Mi40NzItMjQuNTIxYy0uOTgxLS41NjctMS43NzktMS45NDMtMS43NzktMy4wNjh2LTM0LjAzM2guMjM0djM0LjAzM2MwIDEuMDUxLjc0NSAyLjMzNiAxLjY2MSAyLjg2Nmw0Mi40NzMgMjQuNTIxYy40MjQuMjQ1LjgxNi4yODggMS4xMDMuMTIyLjI4NS0uMTY0LjQ0Mi0uNTIuNDQyLTEuMDAydi01My45MzNsLTI1Ljc1My0xNC44NjguMDAzIDEuMTA2Yy4wMzQuODMyLjAyNiAxLjY1NC0uMDI0IDIuNDM5LS4wNTQuODQ0LS4zOTYgMS40NjQtLjk2MyAxLjc0Ni0uNjE5LjMwOS0xLjQ1LjE3My0yLjI4LS4zNzNhNS4wMjMgNS4wMjMgMCAwIDEtLjU1My0uNDI2bC03LjM5Ny02LjU0NGMtMS4xNTgtMS4wMjYtMS45OTktMi42MjUtMi4xNDMtNC4wNzZhOS42MjQgOS42MjQgMCAwIDAtLjAyNy0uMjM4IDQuMjQxIDQuMjQxIDAgMCAxLS4wMzgtLjU2NHYtLjgybC02LjY4LTMuODU2LjExNy0uMjAyIDYuNzM4IDMuODkuMDU4LjAzNHYuOTU0YzAgLjE3MS4wMTIuMzUxLjAzNi41MzMuMDExLjA4My4wMjEuMTY1LjAyOS4yNDYuMTM4IDEuMzk1Ljk0OCAyLjkzNSAyLjA2NSAzLjkyM2w3LjM5NyA2LjU0NWMuMTczLjE1My4zNS4yODkuNTI3LjQwNi43NTguNDk5IDEuNTA0LjYzIDIuMDQ3LjM1OS40OS0uMjQzLjc4Ni0uNzk1LjgzNC0xLjU1MS4wNS0uNzc4LjA1Ny0xLjU5MS4wMjQtMi40MTdsLS4wMDQtLjE2M3YtMS4zNTVsLjE3NS4xIDI1Ljk4NyAxNS4wMDQuMDU5LjAzM3Y1NC4wNjhjMCAuNTY5LS4xOTguOTk2LS41NTkgMS4yMDRhMS4wMDIgMS4wMDIgMCAwIDEtLjUwNi4xMzEnIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNMTQ1LjY4NSAxNjMuMTYxbDI0LjExNSAxMy45MjItMjUuOTc4IDE0Ljk5OC0xLjQ2Mi0uMzA3Yy02LjUzNC0yLjE3LTEzLjYyOC0zLjcyOC0yMS4wMTktNC42MTYtNC4zNjUtLjUyNC04LjY2MyAxLjA5Ni05LjU5OCAzLjYyYTIuNzQ2IDIuNzQ2IDAgMCAwLS4wMTEgMS45MjhjMS41MzggNC4yNjcgNC4yMzYgOC4zNjMgNy45OTUgMTIuMTM1bC41MzIuODQ1LTI1Ljk3NyAxNC45OTctMjQuMTE1LTEzLjkyMiA3NS41MTgtNDMuNicgZmlsbD0nI0ZGRicvPjxwYXRoIGQ9J005NC4yODIgMjIwLjgxOGwtLjA1OS0uMDMzLTI0LjI5LTE0LjAyNC4xNzUtLjEwMSA3NS41NzctNDMuNjM0LjA1OC4wMzMgMjQuMjkgMTQuMDI0LTI2LjE5MSAxNS4xMjItLjA0NS0uMDEtMS40NjEtLjMwN2MtNi41NDktMi4xNzQtMTMuNjEzLTMuNzI1LTIxLjAwOS00LjYxNGExMy43NDQgMTMuNzQ0IDAgMCAwLTEuNjM4LS4wOTdjLTMuNzU4IDAtNy4wNTQgMS41MzEtNy44MzcgMy42NDJhMi42MiAyLjYyIDAgMCAwLS4wMSAxLjg0OGMxLjUzNSA0LjI1OCA0LjIxNiA4LjMyNiA3Ljk2OCAxMi4wOTFsLjAxNi4wMjEuNTI2LjgzNS4wMDYuMDEuMDY0LjEwMi0uMTA1LjA2MS0yNS45NzcgMTQuOTk4LS4wNTguMDMzem0tMjMuODgxLTE0LjA1N2wyMy44ODEgMTMuNzg4IDI0LjgwMi0xNC4zMmMuNTQ2LS4zMTUuODQ2LS40ODkgMS4wMTctLjU3NWwtLjQ2Ni0uNzRjLTMuNzcxLTMuNzg3LTYuNDY3LTcuODgxLTguMDEzLTEyLjE2OGEyLjg1MSAyLjg1MSAwIDAgMSAuMDExLTIuMDA4Yy44MTUtMi4xOTkgNC4yMDMtMy43OTUgOC4wNTYtMy43OTUuNTU3IDAgMS4xMTcuMDMzIDEuNjY2LjA5OSA3LjQxMi44OTEgMTQuNDkxIDIuNDQ1IDIxLjA0MSA0LjYyMS44MzYuMTc1IDEuMjE1LjI1NCAxLjM5LjMwNGwyNS43OC0xNC44ODQtMjMuODgxLTEzLjc4OC03NS4yODQgNDMuNDY2eicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xNjcuMjMgMTI1Ljk3OXY1MC44NzFsLTI3LjMyMSAxNS43NzMtNi40NjEtMTQuMTY3Yy0uOTEtMS45OTYtMy40MjgtMS43MzgtNS42MjQuNTc0YTEwLjIzOCAxMC4yMzggMCAwIDAtMi4zMyA0LjAxOGwtNi40NiAyMS42MjgtMjcuMzIyIDE1Ljc3NHYtNTAuODcxbDc1LjUxOC00My42JyBmaWxsPScjRkZGJy8+PHBhdGggZD0nTTkxLjcxMiAyMjAuNTY3YS4xMjcuMTI3IDAgMCAxLS4wNTktLjAxNi4xMTguMTE4IDAgMCAxLS4wNTgtLjEwMXYtNTAuODcxYzAtLjA0Mi4wMjMtLjA4LjA1OC0uMTAxbDc1LjUxOS00My42YS4xMTcuMTE3IDAgMCAxIC4xNzUuMTAxdjUwLjg3MWMwIC4wNDEtLjAyMy4wOC0uMDU5LjFsLTI3LjMyMSAxNS43NzVhLjExOC4xMTggMCAwIDEtLjA5NC4wMS4xMi4xMiAwIDAgMS0uMDcxLS4wNjNsLTYuNDYtMTQuMTY4Yy0uMzc1LS44MjItMS4wNjItMS4yNzUtMS45MzQtMS4yNzUtMS4wODkgMC0yLjM2NC42ODYtMy41IDEuODgxYTEwLjIwNiAxMC4yMDYgMCAwIDAtMi4zMDIgMy45NzJsLTYuNDYgMjEuNjI3YS4xMTguMTE4IDAgMCAxLS4wNTQuMDY4TDkxLjc3IDIyMC41NTFhLjEyLjEyIDAgMCAxLS4wNTguMDE2em0uMTE3LTUwLjkydjUwLjYwMWwyNy4xMDYtMTUuNjUgNi40NDctMjEuNTgzYTEwLjI4NiAxMC4yODYgMCAwIDEgMi4zNTctNC4wNjVjMS4xOC0xLjI0MiAyLjUxNy0xLjk1NCAzLjY2OS0xLjk1NC45NjkgMCAxLjczMS41MDEgMi4xNDYgMS40MTFsNi40MDcgMTQuMDUxIDI3LjE1Mi0xNS42NzZ2LTUwLjYwMWwtNzUuMjg0IDQzLjQ2NnonIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNMTY4LjU0MyAxMjYuMjEzdjUwLjg3bC0yNy4zMjIgMTUuNzc0LTYuNDYtMTQuMTY4Yy0uOTEtMS45OTUtMy40MjgtMS43MzgtNS42MjQuNTc0YTEwLjI0OCAxMC4yNDggMCAwIDAtMi4zMyA0LjAxOWwtNi40NjEgMjEuNjI3LTI3LjMyMSAxNS43NzR2LTUwLjg3bDc1LjUxOC00My42JyBmaWxsPScjRkZGJy8+PHBhdGggZD0nTTkzLjAyNSAyMjAuOGEuMTIzLjEyMyAwIDAgMS0uMDU5LS4wMTUuMTIuMTIgMCAwIDEtLjA1OC0uMTAxdi01MC44NzFjMC0uMDQyLjAyMy0uMDguMDU4LS4xMDFsNzUuNTE4LTQzLjZhLjExMi4xMTIgMCAwIDEgLjExNyAwYy4wMzYuMDIuMDU5LjA1OS4wNTkuMXY1MC44NzFhLjExNi4xMTYgMCAwIDEtLjA1OS4xMDFsLTI3LjMyMSAxNS43NzRhLjExMS4xMTEgMCAwIDEtLjA5NC4wMS4xMTUuMTE1IDAgMCAxLS4wNzEtLjA2MmwtNi40Ni0xNC4xNjhjLS4zNzUtLjgyMy0xLjA2Mi0xLjI3NS0xLjkzNS0xLjI3NS0xLjA4OCAwLTIuMzYzLjY4NS0zLjQ5OSAxLjg4MWExMC4xOSAxMC4xOSAwIDAgMC0yLjMwMiAzLjk3MWwtNi40NjEgMjEuNjI4YS4xMDguMTA4IDAgMCAxLS4wNTMuMDY3bC0yNy4zMjIgMTUuNzc1YS4xMi4xMiAwIDAgMS0uMDU4LjAxNXptLjExNy01MC45MTl2NTAuNmwyNy4xMDYtMTUuNjQ5IDYuNDQ3LTIxLjU4NGExMC4yOTMgMTAuMjkzIDAgMCAxIDIuMzU3LTQuMDY1YzEuMTc5LTEuMjQxIDIuNTE2LTEuOTU0IDMuNjY4LTEuOTU0Ljk2OSAwIDEuNzMyLjUwMiAyLjE0NyAxLjQxMmw2LjQwNyAxNC4wNTEgMjcuMTUyLTE1LjY3NnYtNTAuNjAxbC03NS4yODQgNDMuNDY2eicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xNjkuOCAxNzcuMDgzbC0yNy4zMjIgMTUuNzc0LTYuNDYtMTQuMTY4Yy0uOTEtMS45OTUtMy40MjgtMS43MzgtNS42MjUuNTc0YTEwLjI0NiAxMC4yNDYgMCAwIDAtMi4zMjkgNC4wMTlsLTYuNDYxIDIxLjYyNy0yNy4zMjEgMTUuNzc0di01MC44N2w3NS41MTgtNDMuNnY1MC44N3onIGZpbGw9JyNGQUZBRkEnLz48cGF0aCBkPSdNOTQuMjgyIDIyMC45MTdhLjIzNC4yMzQgMCAwIDEtLjIzNC0uMjMzdi01MC44NzFjMC0uMDgzLjA0NS0uMTYxLjExNy0uMjAybDc1LjUxOC00My42MDFhLjIzNC4yMzQgMCAxIDEgLjM1LjIwMnY1MC44NzFhLjIzMy4yMzMgMCAwIDEtLjExNi4yMDJsLTI3LjMyMiAxNS43NzVhLjIzMi4yMzIgMCAwIDEtLjMyOS0uMTA2bC02LjQ2MS0xNC4xNjhjLS4zNi0uNzg5LS45OTItMS4yMDYtMS44MjgtMS4yMDYtMS4wNTYgMC0yLjMwMS42NzItMy40MTUgMS44NDRhMTAuMDk5IDEwLjA5OSAwIDAgMC0yLjI3NSAzLjkyNGwtNi40NiAyMS42MjhhLjIzNS4yMzUgMCAwIDEtLjEwNy4xMzZsLTI3LjMyMiAxNS43NzRhLjIzLjIzIDAgMCAxLS4xMTYuMDMxem0uMjMzLTUwLjk2OXY1MC4zMzFsMjYuODkxLTE1LjUyNSA2LjQzNC0yMS41MzlhMTAuNDEgMTAuNDEgMCAwIDEgMi4zODQtNC4xMTJjMS4yMDEtMS4yNjUgMi41NjktMS45OTEgMy43NTMtMS45OTEgMS4wMTggMCAxLjgxOC41MjYgMi4yNTMgMS40OGw2LjM1NCAxMy45MzQgMjYuOTgyLTE1LjU3OHYtNTAuMzMxbC03NS4wNTEgNDMuMzMxeicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xMDkuODk0IDE5OS45NDNjLTEuNzc0IDAtMy4yNDEtLjcyNS00LjI0NC0yLjEyYS4yMjQuMjI0IDAgMCAxIC4wMjMtLjI5NC4yMzMuMjMzIDAgMCAxIC4zMDEtLjAyM2MuNzguNTQ3IDEuNzA1LjgyNyAyLjc1LjgyNyAxLjMyMyAwIDIuNzU0LS40MzkgNC4yNTYtMS4zMDYgNS4zMTEtMy4wNjcgOS42MzEtMTAuNTE4IDkuNjMxLTE2LjYxMSAwLTEuOTI3LS40NDItMy41Ni0xLjI3OC00LjcyNGEuMjMyLjIzMiAwIDAgMSAuMzIzLS4zMjdjMS42NzEgMS4xNzIgMi41OTEgMy4zODEgMi41OTEgNi4yMTkgMCA2LjI0Mi00LjQyNiAxMy44NjMtOS44NjUgMTcuMDAzLTEuNTc0LjkwOC0zLjA4NCAxLjM1Ni00LjQ4OCAxLjM1NnptLTIuOTY5LTEuNTQyYy44MTMuNjUxIDEuODIuODc3IDIuOTY4Ljg3N2guMDAxYzEuMzIxIDAgMi43NTMtLjMyNyA0LjI1NC0xLjE5NCA1LjMxMS0zLjA2NyA5LjYzMi0xMC40NjMgOS42MzItMTYuNTU2IDAtMS45NzktLjQ2My0zLjU5OS0xLjMyNi00Ljc2MS40MTEgMS4wMzUuNjI1IDIuMjc1LjYyNSAzLjYzNSAwIDYuMjQzLTQuNDI2IDEzLjg4My05Ljg2NSAxNy4wMjMtMS41NzQuOTA5LTMuMDg0IDEuMzE3LTQuNDkgMS4zMTctLjY0MSAwLTEuMjQzLS4xNDktMS43OTktLjM0MXonIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNMTEzLjA5NyAxOTcuMjNjNS4zODQtMy4xMDggOS43NDgtMTAuNjM2IDkuNzQ4LTE2LjgxNCAwLTIuMDUxLS40ODMtMy42OTItMS4zMjMtNC44Ni0xLjc4NC0xLjI1Mi00LjM3NC0xLjE5NC03LjI1Ny40Ny01LjM4NCAzLjEwOC05Ljc0OCAxMC42MzYtOS43NDggMTYuODE0IDAgMi4wNTEuNDgzIDMuNjkyIDEuMzIzIDQuODYgMS43ODQgMS4yNTIgNC4zNzQgMS4xOTQgNy4yNTctLjQ3JyBmaWxsPScjRkFGQUZBJy8+PHBhdGggZD0nTTEwOC43MjQgMTk4LjYxNGMtMS4xNDIgMC0yLjE1OC0uMjEzLTMuMDE5LS44MTctLjAyMS0uMDE0LS4wNC4wMTQtLjA1NS0uMDA3LS44OTQtMS4yNDQtMS4zNjctMi45NDgtMS4zNjctNC45NzMgMC02LjI0MiA0LjQyNi0xMy44NjQgOS44NjUtMTcuMDA1IDEuNTc0LS45MDggMy4wODQtMS4zNjMgNC40OS0xLjM2MyAxLjE0MiAwIDIuMTU4LjMwOSAzLjAxOC45MTNhLjIzLjIzIDAgMCAxIC4wNTYuMDU2Yy44OTQgMS4yNDQgMS4zNjcgMi45NzIgMS4zNjcgNC45OTcgMCA2LjI0My00LjQyNiAxMy43ODMtOS44NjUgMTYuOTIzLTEuNTc0LjkwOS0zLjA4NCAxLjI3Ni00LjQ5IDEuMjc2em0tMi43MTgtMS4xMDljLjc3NC41MzIgMS42ODguNzc2IDIuNzE4Ljc3NiAxLjMyMyAwIDIuNzU0LS40MTMgNC4yNTYtMS4yOCA1LjMxMS0zLjA2NiA5LjYzMS0xMC41MDUgOS42MzEtMTYuNTk4IDAtMS45MDktLjQzNC0zLjUyMy0xLjI1NS00LjY4NS0uNzc0LS41MzMtMS42ODgtLjc5OS0yLjcxOC0uNzk5LTEuMzIzIDAtMi43NTUuNDQxLTQuMjU2IDEuMzA4LTUuMzExIDMuMDY2LTkuNjMxIDEwLjUwNi05LjYzMSAxNi41OTkgMCAxLjkwOS40MzQgMy41MTcgMS4yNTUgNC42Nzl6JyBmaWxsPScjNjA3RDhCJy8+PHBhdGggZD0nTTE0OS4zMTggMTE0LjI2MmwtOS45ODQgOC44NzggMTUuODkzIDExLjAzMSA1LjU4OS02LjExMi0xMS40OTgtMTMuNzk3JyBmaWxsPScjRkFGQUZBJy8+PHBhdGggZD0nTTE2OS42NzYgMTIwLjg0bC05Ljc0OCA1LjYyN2MtMy42NDIgMi4xMDMtOS41MjggMi4xMTMtMTMuMTQ3LjAyNC0zLjYyLTIuMDg5LTMuNjAxLTUuNDg4LjA0MS03LjU5MWw5LjQ5NS01LjYwOC02LjcyOS0zLjg4NS04MS44MzYgNDcuMDcxIDQ1LjkyMyAyNi41MTQgMy4wODEtMS43NzljLjYzMS0uMzY1Ljg2OS0uODk4LjYxOC0xLjM5LTIuMzU3LTQuNjMyLTIuNTkzLTkuNTQ2LS42ODMtMTQuMjYyIDUuNjM4LTEzLjkyIDI0LjUwOS0yNC44MTUgNDguNjE4LTI4LjA3IDguMTY5LTEuMTAzIDE2LjY4LS45NjcgMjQuNzA0LjM5NC44NTIuMTQ1IDEuNzc2LjAwOCAyLjQwNy0uMzU3bDMuMDgxLTEuNzc4LTI1LjgyNS0xNC45MScgZmlsbD0nI0ZBRkFGQScvPjxwYXRoIGQ9J00xMTMuNjc1IDE4My40NTlhLjQ3LjQ3IDAgMCAxLS4yMzMtLjA2MmwtNDUuOTI0LTI2LjUxNWEuNDY4LjQ2OCAwIDAgMSAuMDAxLS44MDlsODEuODM2LTQ3LjA3MWEuNDY3LjQ2NyAwIDAgMSAuNDY2IDBsNi43MjkgMy44ODVhLjQ2Ny40NjcgMCAwIDEtLjQ2Ny44MDlsLTYuNDk2LTMuNzUtODAuOSA0Ni41MzMgNDQuOTg4IDI1Ljk3MyAyLjg0OC0xLjY0NGMuMTkyLS4xMTEuNjItLjQwOS40MzUtLjc3My0yLjQxNi00Ljc0OC0yLjY1OC05LjgxNC0uNy0xNC42NSAyLjgwNi02LjkyNyA4Ljg4NS0xMy4yNDIgMTcuNTgyLTE4LjI2MyA4LjY1Ny00Ljk5OCAxOS41MTgtOC40ODkgMzEuNDA3LTEwLjA5NCA4LjE5OC0xLjEwNyAxNi43OS0uOTcgMjQuODQ0LjM5Ny43MzkuMTI1IDEuNTYxLjAwNyAyLjA5NS0uMzAxbDIuMzgxLTEuMzc0LTI1LjEyNS0xNC41MDZhLjQ2Ny40NjcgMCAwIDEgLjQ2Ny0uODA5bDI1LjgyNSAxNC45MWEuNDY3LjQ2NyAwIDAgMSAwIC44MDlsLTMuMDgxIDEuNzc5Yy0uNzIxLjQxNy0xLjc2My41NzUtMi43MTguNDEzLTcuOTYzLTEuMzUxLTE2LjQ1Ny0xLjQ4Ni0yNC41NjMtLjM5Mi0xMS43NyAxLjU4OS0yMi41MTIgNS4wMzktMzEuMDY1IDkuOTc3LTguNTE0IDQuOTE2LTE0LjQ1NiAxMS4wNzMtMTcuMTgzIDE3LjgwNS0xLjg1NCA0LjU3OC0xLjYyMyA5LjM3Ni42NjYgMTMuODc1LjM3LjcyNS4wNTUgMS41MTMtLjggMi4wMDZsLTMuMDgxIDEuNzhhLjQ3Ni40NzYgMCAwIDEtLjIzNC4wNjInIGZpbGw9JyM0NTVBNjQnLz48cGF0aCBkPSdNMTUzLjMxNiAxMjguMjc5Yy0yLjQxMyAwLTQuODIxLS41MjgtNi42NTItMS41ODYtMS44MTgtMS4wNDktMi44Mi0yLjQ2MS0yLjgyLTMuOTc1IDAtMS41MjcgMS4wMTYtMi45NTUgMi44NjEtNC4wMmw5LjQ5My01LjYwN2EuMjMzLjIzMyAwIDEgMSAuMjM4LjQwMmwtOS40OTYgNS42MDljLTEuNjk2Ljk3OS0yLjYyOCAyLjI2My0yLjYyOCAzLjYxNiAwIDEuMzQuOTE4IDIuNjA4IDIuNTg1IDMuNTcxIDMuNTQ5IDIuMDQ5IDkuMzQzIDIuMDM4IDEyLjkxNC0uMDI0bDkuNzQ4LTUuNjI4YS4yMzQuMjM0IDAgMCAxIC4yMzQuNDA1bC05Ljc0OCA1LjYyOGMtMS44NTggMS4wNzItNC4yOTYgMS42MDktNi43MjkgMS42MDknIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNMTEzLjY3NSAxODIuOTkybC00NS45MTMtMjYuNTA4TTExMy42NzUgMTgzLjM0MmEuMzQ2LjM0NiAwIDAgMS0uMTc1LS4wNDdsLTQ1LjkxMy0yNi41MDhhLjM1LjM1IDAgMSAxIC4zNS0uNjA3bDQ1LjkxMyAyNi41MDhhLjM1LjM1IDAgMCAxLS4xNzUuNjU0JyBmaWxsPScjNDU1QTY0Jy8+PHBhdGggZD0nTTY3Ljc2MiAxNTYuNDg0djU0LjAwMWMwIDEuMDkuNzcgMi40MTggMS43MiAyLjk2N2w0Mi40NzMgMjQuNTIxYy45NS41NDkgMS43Mi4xMSAxLjcyLS45OHYtNTQuMDAxJyBmaWxsPScjRkFGQUZBJy8+PHBhdGggZD0nTTExMi43MjcgMjM4LjU2MWMtLjI5NyAwLS42Mi0uMDk1LS45NDctLjI4NWwtNDIuNDczLTI0LjUyMWMtMS4wNjMtLjYxMy0xLjg5NS0yLjA1LTEuODk1LTMuMjd2LTU0LjAwMWEuMzUuMzUgMCAxIDEgLjcwMSAwdjU0LjAwMWMwIC45Ni43MDcgMi4xOCAxLjU0NCAyLjY2M2w0Mi40NzMgMjQuNTIyYy4zNDQuMTk4LjY2MS4yNDMuODcuMTIyLjIwNi0uMTE5LjMyNS0uNDExLjMyNS0uNzk5di01NC4wMDFhLjM1LjM1IDAgMSAxIC43IDB2NTQuMDAxYzAgLjY1NS0uMjM5IDEuMTU0LS42NzUgMS40MDZhMS4yMzUgMS4yMzUgMCAwIDEtLjYyMy4xNjInIGZpbGw9JyM0NTVBNjQnLz48cGF0aCBkPSdNMTEyLjg2IDE0Ny41MTJoLS4wMDFjLTIuMzE4IDAtNC40OTktLjUyMi02LjE0Mi0xLjQ3MS0xLjcwNS0uOTg0LTIuNjQzLTIuMzE1LTIuNjQzLTMuNzQ5IDAtMS40NDUuOTUyLTIuNzkxIDIuNjgtMy43ODhsMTIuMDQxLTYuOTUzYzEuNjY4LS45NjIgMy44NzQtMS40OTMgNi4yMTItMS40OTMgMi4zMTggMCA0LjQ5OS41MjMgNi4xNDMgMS40NzIgMS43MDQuOTg0IDIuNjQzIDIuMzE1IDIuNjQzIDMuNzQ4IDAgMS40NDYtLjk1MiAyLjc5MS0yLjY4IDMuNzg5bC0xMi4wNDIgNi45NTJjLTEuNjY4Ljk2My0zLjg3NCAxLjQ5My02LjIxMSAxLjQ5M3ptMTIuMTQ3LTE2Ljc1M2MtMi4yMTcgMC00LjI5OC40OTctNS44NjEgMS4zOTlsLTEyLjA0MiA2Ljk1MmMtMS41MDIuODY4LTIuMzMgMS45OTgtMi4zMyAzLjE4MiAwIDEuMTczLjgxNSAyLjI4OSAyLjI5MyAzLjE0MiAxLjUzOC44ODkgMy41OTYgMS4zNzggNS43OTIgMS4zNzhoLjAwMWMyLjIxNiAwIDQuMjk4LS40OTcgNS44NjEtMS4zOTlsMTIuMDQxLTYuOTUzYzEuNTAyLS44NjcgMi4zMy0xLjk5NyAyLjMzLTMuMTgyIDAtMS4xNzItLjgxNC0yLjI4OC0yLjI5Mi0zLjE0Mi0xLjUzOS0uODg4LTMuNTk2LTEuMzc3LTUuNzkzLTEuMzc3eicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xNjUuNjMgMTIzLjIxOWwtNS43MzQgMy4zMTFjLTMuMTY3IDEuODI4LTguMjg2IDEuODM3LTExLjQzMy4wMi0zLjE0Ny0xLjgxNy0zLjEzMS00Ljc3Mi4wMzYtNi42MDFsNS43MzQtMy4zMSAxMS4zOTcgNi41OCcgZmlsbD0nI0ZBRkFGQScvPjxwYXRoIGQ9J00xNTQuMjMzIDExNy40NDhsOS45OTUgNS43NzEtNC42ODIgMi43MDRjLTEuNDM0LjgyNy0zLjM1MiAxLjI4My01LjM5OSAxLjI4My0yLjAyOSAwLTMuOTIzLS40NDktNS4zMzMtMS4yNjMtMS4yOS0uNzQ0LTItMS42OTQtMi0yLjY3NCAwLS45OTEuNzIzLTEuOTU1IDIuMDM2LTIuNzEzbDUuMzgzLTMuMTA4bTAtLjgwOWwtNS43MzQgMy4zMWMtMy4xNjcgMS44MjktMy4xODMgNC43ODQtLjAzNiA2LjYwMSAxLjU2OC45MDUgMy42MjMgMS4zNTcgNS42ODQgMS4zNTcgMi4wNzcgMCA0LjE1OS0uNDYgNS43NDktMS4zNzdsNS43MzQtMy4zMTEtMTEuMzk3LTYuNThNMTQ1LjQ0NSAxNzkuNjY3Yy0xLjc3MyAwLTMuMjQxLS44NS00LjI0My0yLjI0NS0uMDY3LS4wOTItLjA1Ny0uMjc1LjAyMy0uMzU2LjA4LS4wODEuMjA3LS4xMi4zLS4wNTUuNzgxLjU0OCAxLjcwNi44MTIgMi43NTEuODExIDEuMzIyIDAgMi43NTQtLjQ0NiA0LjI1Ni0xLjMxMyA1LjMxLTMuMDY2IDkuNjMxLTEwLjUyMiA5LjYzMS0xNi42MTUgMC0xLjkyNy0uNDQyLTMuNTYyLTEuMjc5LTQuNzI2YS4yMzUuMjM1IDAgMCAxIC4wMjQtLjMwMS4yMzIuMjMyIDAgMCAxIC4zLS4wMjdjMS42NyAxLjE3MiAyLjU5IDMuMzggMi41OSA2LjIxOSAwIDYuMjQyLTQuNDI1IDEzLjk4Ny05Ljg2NSAxNy4xMjctMS41NzMuOTA4LTMuMDgzIDEuNDgxLTQuNDg4IDEuNDgxek0xNDIuNDc2IDE3OGMuODE0LjY1MSAxLjgyIDEuMDAyIDIuOTY5IDEuMDAyIDEuMzIyIDAgMi43NTMtLjQ1MiA0LjI1NS0xLjMyIDUuMzEtMy4wNjUgOS42MzEtMTAuNTIzIDkuNjMxLTE2LjYxNyAwLTEuOTgtLjQ2My0zLjYzLTEuMzI1LTQuNzkzLjQxMSAxLjAzNS42MjQgMi4yNi42MjQgMy42MiAwIDYuMjQyLTQuNDI1IDEzLjg3NS05Ljg2NSAxNy4wMTUtMS41NzMuOTA5LTMuMDg0IDEuMzc2LTQuNDg5IDEuMzc2YTUuNDkgNS40OSAwIDAgMS0xLjgtLjI4M3onIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNMTQ4LjY0OCAxNzYuNzA0YzUuMzg0LTMuMTA4IDkuNzQ4LTEwLjYzNiA5Ljc0OC0xNi44MTMgMC0yLjA1Mi0uNDgzLTMuNjkzLTEuMzIyLTQuODYxLTEuNzg1LTEuMjUyLTQuMzc1LTEuMTk0LTcuMjU4LjQ3MS01LjM4MyAzLjEwOC05Ljc0OCAxMC42MzYtOS43NDggMTYuODEzIDAgMi4wNTEuNDg0IDMuNjkyIDEuMzIzIDQuODYgMS43ODUgMS4yNTMgNC4zNzQgMS4xOTUgNy4yNTctLjQ3JyBmaWxsPScjRkFGQUZBJy8+PHBhdGggZD0nTTE0NC4yNzYgMTc4LjI3NmMtMS4xNDMgMC0yLjE1OC0uMzA3LTMuMDE5LS45MTFhLjIxNy4yMTcgMCAwIDEtLjA1NS0uMDU0Yy0uODk1LTEuMjQ0LTEuMzY3LTIuOTcyLTEuMzY3LTQuOTk3IDAtNi4yNDEgNC40MjUtMTMuODc1IDkuODY1LTE3LjAxNiAxLjU3My0uOTA4IDMuMDg0LTEuMzY5IDQuNDg5LTEuMzY5IDEuMTQzIDAgMi4xNTguMzA3IDMuMDE5LjkxYS4yNC4yNCAwIDAgMSAuMDU1LjA1NWMuODk0IDEuMjQ0IDEuMzY3IDIuOTcxIDEuMzY3IDQuOTk3IDAgNi4yNDEtNC40MjUgMTMuODc1LTkuODY1IDE3LjAxNi0xLjU3My45MDgtMy4wODQgMS4zNjktNC40ODkgMS4zNjl6bS0yLjcxOC0xLjE3MmMuNzczLjUzMyAxLjY4Ny45MDEgMi43MTguOTAxIDEuMzIyIDAgMi43NTQtLjUzOCA0LjI1Ni0xLjQwNSA1LjMxLTMuMDY2IDkuNjMxLTEwLjU2NyA5LjYzMS0xNi42NjEgMC0xLjkwOC0uNDM0LTMuNTU0LTEuMjU2LTQuNzE2LS43NzQtLjUzMi0xLjY4OC0uODE0LTIuNzE4LS44MTQtMS4zMjIgMC0yLjc1NC40MzMtNC4yNTYgMS4zLTUuMzEgMy4wNjYtOS42MzEgMTAuNTY0LTkuNjMxIDE2LjY1NyAwIDEuOTEuNDM0IDMuNTc2IDEuMjU2IDQuNzM4eicgZmlsbD0nIzYwN0Q4QicvPjxwYXRoIGQ9J00xNTAuNzIgMTcyLjM2MWwtLjM2My0uMjk1YTI0LjEwNSAyNC4xMDUgMCAwIDAgMi4xNDgtMy4xMjggMjQuMDUgMjQuMDUgMCAwIDAgMS45NzctNC4zNzVsLjQ0My4xNDlhMjQuNTQgMjQuNTQgMCAwIDEtMi4wMTUgNC40NiAyNC42MSAyNC42MSAwIDAgMS0yLjE5IDMuMTg5TTExNS45MTcgMTkxLjUxNGwtLjM2My0uMjk0YTI0LjE3NCAyNC4xNzQgMCAwIDAgMi4xNDgtMy4xMjggMjQuMDM4IDI0LjAzOCAwIDAgMCAxLjk3Ni00LjM3NWwuNDQzLjE0OGEyNC40OCAyNC40OCAwIDAgMS0yLjAxNSA0LjQ2MSAyNC42NjIgMjQuNjYyIDAgMCAxLTIuMTg5IDMuMTg4TTExNCAyMzcuNDc2VjE4Mi41ODQgMjM3LjQ3NicgZmlsbD0nIzYwN0Q4QicvPjxnPjxwYXRoIGQ9J004MS44MjIgMzcuNDc0Yy4wMTctLjEzNS0uMDc1LS4yOC0uMjY3LS4zOTItLjMyNy0uMTg4LS44MjYtLjIxLTEuMTA5LS4wNDVsLTYuMDEyIDMuNDcxYy0uMTMxLjA3Ni0uMTk0LjE3OC0uMTkxLjI4NS4wMDIuMTMyLjAwMi40NjEuMDAyLjU3OHYuMDQzbC0uMDA3LjEyOC02LjU5MSAzLjc3OWMtLjAwMSAwLTIuMDc3IDEuMDQ2LTIuNzg3IDUuMTkyIDAgMC0uOTEyIDYuOTYxLS44OTggMTkuNzQ1LjAxNSAxMi41Ny42MDYgMTcuMDcgMS4xNjcgMjEuMzUxLjIyIDEuNjg0IDMuMDAxIDIuMTI1IDMuMDAxIDIuMTI1LjMzMS4wNC42OTgtLjAyNyAxLjA4LS4yNDhsNzUuMjczLTQzLjU1MWMxLjgwOC0xLjA2OSAyLjY2Ny0zLjcxOSAzLjA1Ni02LjI4NCAxLjIxMy03Ljk5IDEuNjc1LTMyLjk3OC0uMjc1LTM5Ljg3OC0uMTk2LS42OTMtLjUxLTEuMDgzLS44NjgtMS4yODJsLTIuMDg2LS43OWMtLjcyNy4wMjgtMS40MTYuNDY3LTEuNTM0LjUzNUw4Mi4wMzIgMzcuMDcybC0uMjEuNDAyJyBmaWxsPScjRkZGJy8+PHBhdGggZD0nTTE0NC4zMTEgMS43MDFsMi4wODUuNzljLjM1OC4xOTkuNjcyLjU4OS44NjggMS4yODIgMS45NDkgNi45IDEuNDg3IDMxLjg4Ny4yNzUgMzkuODc4LS4zOSAyLjU2NS0xLjI0OSA1LjIxNS0zLjA1NiA2LjI4NEw2OS4yMSA5My40ODZhMS43OCAxLjc4IDAgMCAxLS44OTYuMjU4bC0uMTgzLS4wMTFjMCAuMDAxLTIuNzgyLS40NC0zLjAwMy0yLjEyNC0uNTYtNC4yODItMS4xNTEtOC43ODEtMS4xNjUtMjEuMzUxLS4wMTUtMTIuNzg0Ljg5Ny0xOS43NDUuODk3LTE5Ljc0NS43MS00LjE0NiAyLjc4Ny01LjE5MiAyLjc4Ny01LjE5Mmw2LjU5MS0zLjc3OS4wMDctLjEyOHYtLjA0M2MwLS4xMTcgMC0uNDQ2LS4wMDItLjU3OC0uMDAzLS4xMDcuMDU5LS4yMS4xOTEtLjI4NWw2LjAxMi0zLjQ3MmEuOTguOTggMCAwIDEgLjQ4MS0uMTFjLjIxOCAwIC40NDkuMDUzLjYyNy4xNTYuMTkzLjExMi4yODUuMjU4LjI2OC4zOTJsLjIxMS0uNDAyIDYwLjc0NC0zNC44MzZjLjExNy0uMDY4LjgwNi0uNTA3IDEuNTM0LS41MzVtMC0uOTk3bC0uMDM5LjAwMWMtLjYxOC4wMjMtMS4yODMuMjQ0LTEuOTc0LjY1NmwtLjAyMS4wMTItNjAuNTE5IDM0LjcwNmEyLjM1OCAyLjM1OCAwIDAgMC0uODMxLS4xNWMtLjM2NSAwLS43MDQuMDg0LS45OC4yNDRsLTYuMDEyIDMuNDcxYy0uNDQyLjI1NS0uNjk5LjY5LS42ODkgMS4xNjZsLjAwMS4xNS02LjA4IDMuNDg3Yy0uMzczLjE5OS0yLjU0MiAxLjUzMS0zLjI5IDUuODk4bC0uMDA2LjAzOWMtLjAwOS4wNy0uOTIgNy4xNzMtLjkwNiAxOS44NzUuMDE0IDEyLjYyLjYwMyAxNy4xMTYgMS4xNzIgMjEuNDY1bC4wMDIuMDE1Yy4zMDggMi4zNTUgMy40NzUgMi45MjMgMy44MzYgMi45OGwuMDM0LjAwNGMuMTAxLjAxMy4yMDQuMDE5LjMwNS4wMTlhMi43NyAyLjc3IDAgMCAwIDEuMzk2LS4zOTJsNzUuMjczLTQzLjU1MmMxLjgxMS0xLjA3MSAyLjk5OS0zLjQyMyAzLjU0Mi02Ljk5NyAxLjE4Ni03LjgxNCAxLjczNC0zMy4wOTYtLjMwMS00MC4yOTktLjI1My0uODkzLS43MDQtMS41MjctMS4zNDMtMS44ODJsLS4xMzItLjA2Mi0yLjA4NS0uNzg5YS45NzMuOTczIDAgMCAwLS4zNTMtLjA2NScgZmlsbD0nIzQ1NUE2NCcvPjxwYXRoIGQ9J00xMjguMjY3IDExLjU2NWwxLjQ5NS40MzQtNTYuMzM5IDMyLjMyNicgZmlsbD0nI0ZGRicvPjxwYXRoIGQ9J003NC4yMDIgOTAuNTQ1YS41LjUgMCAwIDEtLjI1LS45MzFsMTguNDM3LTEwLjY0NWEuNDk5LjQ5OSAwIDEgMSAuNDk5Ljg2NEw3NC40NTEgOTAuNDc4bC0uMjQ5LjA2N003NS43NjQgNDIuNjU0bC0uMTA4LS4wNjIuMDQ2LS4xNzEgNS4xMzUtMi45NjQuMTcuMDQ1LS4wNDUuMTcxLTUuMTM1IDIuOTY0LS4wNjMuMDE3TTcwLjUyIDkwLjM3NVY0Ni40MjFsLjA2My0uMDM2TDEzNy44NCA3LjU1NHY0My45NTRsLS4wNjIuMDM2TDcwLjUyIDkwLjM3NXptLjI1LTQzLjgxMXY0My4zOGw2Ni44MjEtMzguNTc5VjcuOTg1TDcwLjc3IDQ2LjU2NHonIGZpbGw9JyM2MDdEOEInLz48cGF0aCBkPSdNODYuOTg2IDgzLjE4MmMtLjIzLjE0OS0uNjEyLjM4NC0uODQ5LjUyM2wtMTEuNTA1IDYuNzAxYy0uMjM3LjEzOS0uMjA2LjI1Mi4wNjguMjUyaC41NjVjLjI3NSAwIC42OTMtLjExMy45My0uMjUyTDg3LjcgODMuNzA1Yy4yMzctLjEzOS40MjgtLjI1My40MjUtLjI1NmExMS4yOSAxMS4yOSAwIDAgMS0uMDA2LS41MDNjMC0uMjc0LS4xODgtLjM3Ny0uNDE4LS4yMjdsLS43MTUuNDYzJyBmaWxsPScjNjA3RDhCJy8+PHBhdGggZD0nTTc1LjI2NiA5MC43ODJINzQuN2MtLjIgMC0uMzE2LS4wNTYtLjM0Ni0uMTY2LS4wMy0uMTEuMDQzLS4yMTcuMjE1LS4zMTdsMTEuNTA1LTYuNzAyYy4yMzYtLjEzOC42MTUtLjM3MS44NDQtLjUxOWwuNzE1LS40NjRhLjQ4OC40ODggMCAwIDEgLjI2Ni0uMDg5Yy4xNzIgMCAuMzQ1LjEzLjM0NS40MjEgMCAuMjE0LjAwMS4zNjMuMDAzLjQzN2wuMDA2LjAwNC0uMDA0LjA2OWMtLjAwMy4wNzUtLjAwMy4wNzUtLjQ4Ni4zNTZsLTExLjUwNSA2LjcwMmEyLjI4MiAyLjI4MiAwIDAgMS0uOTkyLjI2OHptLS42LS4yNWwuMDM0LjAwMWguNTY2Yy4yNTIgMCAuNjQ5LS4xMDguODY2LS4yMzRsMTEuNTA1LTYuNzAyYy4xNjgtLjA5OC4yOTQtLjE3My4zNjEtLjIxNC0uMDA0LS4wODQtLjAwNC0uMjE4LS4wMDQtLjQzN2wtLjA5NS0uMTcxLS4xMzEuMDQ5LS43MTQuNDYzYy0uMjMyLjE1LS42MTYuMzg2LS44NTQuNTI1bC0xMS41MDUgNi43MDItLjAyOS4wMTh6JyBmaWxsPScjNjA3RDhCJy8+PHBhdGggZD0nTTc1LjI2NiA4OS44NzFINzQuN2MtLjIgMC0uMzE2LS4wNTYtLjM0Ni0uMTY2LS4wMy0uMTEuMDQzLS4yMTcuMjE1LS4zMTdsMTEuNTA1LTYuNzAyYy4yNTgtLjE1MS42OTQtLjI2OC45OTMtLjI2OGguNTY1Yy4yIDAgLjMxNi4wNTYuMzQ2LjE2Ni4wMy4xMS0uMDQzLjIxNy0uMjE1LjMxN2wtMTEuNTA1IDYuNzAyYTIuMjgyIDIuMjgyIDAgMCAxLS45OTIuMjY4em0tLjYtLjI1bC4wMzQuMDAxaC41NjZjLjI1MiAwIC42NDktLjEwNy44NjYtLjIzNGwxMS41MDUtNi43MDIuMDMtLjAxOC0uMDM1LS4wMDFoLS41NjVjLS4yNTIgMC0uNjQ5LjEwOC0uODY3LjIzNGwtMTEuNTA1IDYuNzAyLS4wMjkuMDE4ek03NC4zNyA5MC44MDF2LTEuMjQ3IDEuMjQ3JyBmaWxsPScjNjA3RDhCJy8+PHBhdGggZD0nTTY4LjEzIDkzLjkwMWMtLjc1MS0uMDkzLTEuMzE0LS43MzctMS40MzktMS4zNzYtLjgzMS00LjIzOC0xLjE1MS04Ljc4Mi0xLjE2NS0yMS4zNTItLjAxNS0xMi43ODQuODk3LTE5Ljc0NS44OTctMTkuNzQ1LjcxMS00LjE0NiAyLjc4Ny01LjE5MiAyLjc4Ny01LjE5Mmw3NC44NTktNDMuMjE5Yy4yMjMtLjEyOSAyLjQ4Ny0xLjU4NCAzLjE5NS45MjMgMS45NSA2LjkgMS40ODggMzEuODg3LjI3NSAzOS44NzgtLjM4OSAyLjU2NS0xLjI0OCA1LjIxNS0zLjA1NiA2LjI4M0w2OS4yMSA5My42NTNjLS4zODIuMjIxLS43NDkuMjg4LTEuMDguMjQ4IDAgMC0yLjc4MS0uNDQxLTMuMDAxLTIuMTI1LS41NjEtNC4yODEtMS4xNTItOC43ODEtMS4xNjctMjEuMzUxLS4wMTQtMTIuNzg0Ljg5OC0xOS43NDUuODk4LTE5Ljc0NS43MS00LjE0NiAyLjc4Ny01LjE5MSAyLjc4Ny01LjE5MWw2LjU5OC0zLjgxLjg3MS0uMTE5IDYuNTk5LTMuODMuMDQ2LS40NjFMNjguMTMgOTMuOTAxJyBmaWxsPScjRkFGQUZBJy8+PHBhdGggZD0nTTY4LjMxNyA5NC4xNjFsLS4yMTUtLjAxM2gtLjAwMWwtLjI0NC0uMDQ3Yy0uNzE5LS4xNTYtMi43NzItLjczNi0yLjk3Ni0yLjI5Mi0uNTY4LTQuMzQtMS4xNTQtOC44MTMtMS4xNjgtMjEuMzg0LS4wMTQtMTIuNjU0Ljg5MS0xOS43MDcuOS0xOS43NzcuNzI1LTQuMjMxIDIuODMyLTUuMzM4IDIuOTIyLTUuMzgybDYuNjI4LTMuODI3Ljg3LS4xMTkgNi40NDYtMy43NDIuMDM0LS4zMzRhLjI0OC4yNDggMCAwIDEgLjI3My0uMjIzLjI0OC4yNDggMCAwIDEgLjIyMy4yNzJsLS4wNTkuNTg5LTYuNzUyIDMuOTE5LS44Ny4xMTgtNi41NTYgMy43ODVjLS4wMzEuMDE2LTEuOTkgMS4wNjgtMi42NjYgNS4wMTgtLjAwNy4wNi0uOTA4IDcuMDg2LS44OTQgMTkuNzAyLjAxNCAxMi41MzkuNTk3IDE2Ljk5NiAxLjE2MSAyMS4zMDUuMDkxLjY5MS42ODkgMS4xNTQgMS4zMDkgMS40NTJhMS45NSAxLjk1IDAgMCAxLS4yMzYtLjYwOWMtLjc4MS0zLjk4NC0xLjE1NS04LjIwMi0xLjE3LTIxLjM5OS0uMDE0LTEyLjY1My44OTEtMTkuNzA3LjktMTkuNzc3LjcyNS00LjIzMSAyLjgzMi01LjMzNyAyLjkyMi01LjM4Mi0uMDA0LjAwMSA3NC40NDQtNDIuOTggNzQuODQ2LTQzLjIxMmwuMDI4LS4wMTdjLjkwNC0uNTM4IDEuNzItLjY4OCAyLjM2LS40MzMuNTU1LjIyMS45NDkuNzMzIDEuMTcyIDEuNTIgMi4wMTQgNy4xMjggMS40NiAzMi4yMTkuMjgxIDM5Ljk4My0uNTA3IDMuMzQxLTEuNTc1IDUuNTE1LTMuMTc1IDYuNDYyTDY5LjMzNSA5My44NjlhMi4wMjMgMi4wMjMgMCAwIDEtMS4wMTguMjkyem0tLjE0Ny0uNTA3Yy4yOTMuMDM2LjYwNC0uMDM3LjkxNS0uMjE3bDc1LjI3My00My41NTFjMS44MjMtMS4wNzggMi42MDItMy45MTUgMi45MzQtNi4xMDYgMS4xNzQtNy43MzEgMS43MzEtMzIuNjk1LS4yNjgtMzkuNzcyLS4xNzgtLjYzMS0uNDczLTEuMDMyLS44NzYtMS4xOTItLjQ4NC0uMTkzLTEuMTY2LS4wNTItMS45MjEuMzk3bC0uMDM0LjAyMS03NC44NTggNDMuMjE4Yy0uMDMxLjAxNy0xLjk4OSAxLjA2OS0yLjY2NiA1LjAxOS0uMDA3LjA1OS0uOTA4IDcuMDg1LS44OTQgMTkuNzAyLjAxNSAxMy4xNTUuMzg2IDE3LjM1MSAxLjE2MSAyMS4zMDMuMDkuNDYxLjQ3Ni45ODMgMS4wMzcgMS4xMzkuMTE0LjAyNS4xODUuMDM3LjE5Ni4wMzloLjAwMXonIGZpbGw9JyM0NTVBNjQnLz48cGF0aCBkPSdNNjkuMzE3IDY4Ljk4MmMuNDg5LS4yODEuODg1LS4wNTYuODg1LjUwNSAwIC41Ni0uMzk2IDEuMjQzLS44ODUgMS41MjUtLjQ4OC4yODItLjg4NC4wNTctLjg4NC0uNTA0IDAtLjU2LjM5Ni0xLjI0My44ODQtMS41MjYnIGZpbGw9JyNGRkYnLz48cGF0aCBkPSdNNjguOTIgNzEuMTMzYy0uMjg5IDAtLjQ4Ny0uMjI4LS40ODctLjYyNSAwLS41Ni4zOTYtMS4yNDMuODg0LTEuNTI2YS44MTIuODEyIDAgMCAxIC4zOTctLjEyMWMuMjg5IDAgLjQ4OC4yMjkuNDg4LjYyNiAwIC41Ni0uMzk2IDEuMjQzLS44ODUgMS41MjVhLjgxMi44MTIgMCAwIDEtLjM5Ny4xMjFtLjc5NC0yLjQ1OWEuOTc2Ljk3NiAwIDAgMC0uNDkuMTQ3Yy0uNTQ4LjMxNy0uOTc4IDEuMDU4LS45NzggMS42ODcgMCAuNDg2LjI3MS44MTIuNjc0LjgxMmEuOTg1Ljk4NSAwIDAgMCAuNDkxLS4xNDZjLjU0OC0uMzE3Ljk3OC0xLjA1Ny45NzgtMS42ODcgMC0uNDg2LS4yNzItLjgxMy0uNjc1LS44MTMnIGZpbGw9JyM4MDk3QTInLz48cGF0aCBkPSdNNjguOTIgNzAuOTQ3Yy0uMjcxIDAtLjI5OS0uMzA3LS4yOTktLjQzOSAwLS40OTEuMzYxLTEuMTE2Ljc5LTEuMzYzYS42MzIuNjMyIDAgMCAxIC4zMDMtLjA5NmMuMjcyIDAgLjMwMS4zMDYuMzAxLjQzOCAwIC40OTEtLjM2MyAxLjExNi0uNzkxIDEuMzY0YS42MjkuNjI5IDAgMCAxLS4zMDQuMDk2bS43OTQtMi4wODZhLjgxMi44MTIgMCAwIDAtLjM5Ny4xMjFjLS40ODguMjgzLS44ODQuOTY2LS44ODQgMS41MjYgMCAuMzk3LjE5OC42MjUuNDg3LjYyNWEuODEyLjgxMiAwIDAgMCAuMzk3LS4xMjFjLjQ4OS0uMjgyLjg4NS0uOTY1Ljg4NS0xLjUyNSAwLS4zOTctLjE5OS0uNjI2LS40ODgtLjYyNicgZmlsbD0nIzgwOTdBMicvPjxwYXRoIGQ9J002OS40NDQgODUuMzVjLjI2NC0uMTUyLjQ3Ny0uMDMxLjQ3Ny4yNzIgMCAuMzAzLS4yMTMuNjctLjQ3Ny44MjItLjI2My4xNTMtLjQ3Ny4wMzEtLjQ3Ny0uMjcxIDAtLjMwMi4yMTQtLjY3MS40NzctLjgyMycgZmlsbD0nI0ZGRicvPjxwYXRoIGQ9J002OS4yMyA4Ni41MWMtLjE1NiAwLS4yNjMtLjEyMy0uMjYzLS4zMzcgMC0uMzAyLjIxNC0uNjcxLjQ3Ny0uODIzYS40MzEuNDMxIDAgMCAxIC4yMTQtLjA2NmMuMTU2IDAgLjI2My4xMjQuMjYzLjMzOCAwIC4zMDMtLjIxMy42Ny0uNDc3LjgyMmEuNDMxLjQzMSAwIDAgMS0uMjE0LjA2Nm0uNDI4LTEuNDEyYy0uMSAwLS4yMDMuMDI5LS4zMDcuMDktLjMyLjE4NS0uNTcuNjE4LS41Ny45ODUgMCAuMzA5LjE4NS41MjQuNDQ5LjUyNGEuNjMuNjMgMCAwIDAgLjMwOC0uMDljLjMyLS4xODUuNTctLjYxOC41Ny0uOTg1IDAtLjMwOS0uMTg1LS41MjQtLjQ1LS41MjQnIGZpbGw9JyM4MDk3QTInLz48cGF0aCBkPSdNNjkuMjMgODYuMzIybC0uMDc2LS4xNDljMC0uMjM1LjE3OS0uNTQ0LjM4NC0uNjYxbC4xMi0uMDQxLjA3Ni4xNTFjMCAuMjM0LS4xNzkuNTQyLS4zODMuNjZsLS4xMjEuMDRtLjQyOC0xLjAzOGEuNDMxLjQzMSAwIDAgMC0uMjE0LjA2NmMtLjI2My4xNTItLjQ3Ny41MjEtLjQ3Ny44MjMgMCAuMjE0LjEwNy4zMzcuMjYzLjMzN2EuNDMxLjQzMSAwIDAgMCAuMjE0LS4wNjZjLjI2NC0uMTUyLjQ3Ny0uNTE5LjQ3Ny0uODIyIDAtLjIxNC0uMTA3LS4zMzgtLjI2My0uMzM4JyBmaWxsPScjODA5N0EyJy8+PHBhdGggZD0nTTEzOS4yNzggNy43Njl2NDMuNjY3TDcyLjIwOCA5MC4xNlY0Ni40OTNsNjcuMDctMzguNzI0JyBmaWxsPScjNDU1QTY0Jy8+PHBhdGggZD0nTTcyLjA4MyA5MC4zNzVWNDYuNDIxbC4wNjMtLjAzNiA2Ny4yNTctMzguODMxdjQzLjk1NGwtLjA2Mi4wMzYtNjcuMjU4IDM4LjgzMXptLjI1LTQzLjgxMXY0My4zOGw2Ni44MjEtMzguNTc5VjcuOTg1TDcyLjMzMyA0Ni41NjR6JyBmaWxsPScjNjA3RDhCJy8+PC9nPjxwYXRoIGQ9J00xMjUuNzM3IDg4LjY0N2wtNy42MzkgMy4zMzRWODRsLTExLjQ1OSA0LjcxM3Y4LjI2OUw5OSAxMDAuMzE1bDEzLjM2OSAzLjY0NiAxMy4zNjgtMTUuMzE0JyBmaWxsPScjNDU1QTY0Jy8+PC9nPjwvc3ZnPlwiKX07dmFyIG1lPVwiQ2FyZGJvYXJkVjFcIix2ZT1cIldFQlZSX0NBUkRCT0FSRF9WSUVXRVJcIjtmLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGUpe3RoaXMucm9vdD1lLGUuYXBwZW5kQ2hpbGQodGhpcy5kaWFsb2cpLHRoaXMuZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoXCIjXCIrdGhpcy5zZWxlY3RlZEtleSkuY2hlY2tlZD0hMCx0aGlzLmRpYWxvZy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn0sZi5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMucm9vdCYmdGhpcy5yb290LmNvbnRhaW5zKHRoaXMuZGlhbG9nKSYmdGhpcy5yb290LnJlbW92ZUNoaWxkKHRoaXMuZGlhbG9nKSx0aGlzLmRpYWxvZy5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxmLnByb3RvdHlwZS5nZXRDdXJyZW50Vmlld2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHMuVmlld2Vyc1t0aGlzLnNlbGVjdGVkS2V5XX0sZi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRLZXlfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kaWFsb2cucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9ZmllbGRdOmNoZWNrZWRcIik7cmV0dXJuIGU/ZS5pZDpudWxsfSxmLnByb3RvdHlwZS5vbkNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2tzXy5wdXNoKGUpfSxmLnByb3RvdHlwZS5maXJlT25DaGFuZ2VfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5vbkNoYW5nZUNhbGxiYWNrc18ubGVuZ3RoO3QrKyl0aGlzLm9uQ2hhbmdlQ2FsbGJhY2tzX1t0XShlKX0sZi5wcm90b3R5cGUub25TYXZlXz1mdW5jdGlvbigpe2lmKHRoaXMuc2VsZWN0ZWRLZXk9dGhpcy5nZXRTZWxlY3RlZEtleV8oKSwhdGhpcy5zZWxlY3RlZEtleXx8IXMuVmlld2Vyc1t0aGlzLnNlbGVjdGVkS2V5XSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiVmlld2VyU2VsZWN0b3Iub25TYXZlXzogdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuIVwiKTt0aGlzLmZpcmVPbkNoYW5nZV8ocy5WaWV3ZXJzW3RoaXMuc2VsZWN0ZWRLZXldKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0odmUsdGhpcy5zZWxlY3RlZEtleSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzYXZlIHZpZXdlciBwcm9maWxlOiAlc1wiLGUpfXRoaXMuaGlkZSgpfSxmLnByb3RvdHlwZS5jcmVhdGVEaWFsb2dfPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKFwid2VidnItcG9seWZpbGwtdmlld2VyLXNlbGVjdG9yXCIpLHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHI9aS5zdHlsZTtyLnBvc2l0aW9uPVwiZml4ZWRcIixyLmxlZnQ9MCxyLnRvcD0wLHIud2lkdGg9XCIxMDAlXCIsci5oZWlnaHQ9XCIxMDAlXCIsci5iYWNrZ3JvdW5kPVwicmdiYSgwLCAwLCAwLCAwLjMpXCIsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmhpZGUuYmluZCh0aGlzKSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxyPW4uc3R5bGU7ci5ib3hTaXppbmc9XCJib3JkZXItYm94XCIsci5wb3NpdGlvbj1cImZpeGVkXCIsci50b3A9XCIyNHB4XCIsci5sZWZ0PVwiNTAlXCIsci5tYXJnaW5MZWZ0PVwiLTE0MHB4XCIsci53aWR0aD1cIjI4MHB4XCIsci5wYWRkaW5nPVwiMjRweFwiLHIub3ZlcmZsb3c9XCJoaWRkZW5cIixyLmJhY2tncm91bmQ9XCIjZmFmYWZhXCIsci5mb250RmFtaWx5PVwiJ1JvYm90bycsIHNhbnMtc2VyaWZcIixyLmJveFNoYWRvdz1cIjBweCA1cHggMjBweCAjNjY2XCIsbi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUgxXyhcIlNlbGVjdCB5b3VyIHZpZXdlclwiKSk7Zm9yKHZhciBBIGluIGUpbi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUNob2ljZV8oQSxlW0FdLmxhYmVsKSk7cmV0dXJuIG4uYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVCdXR0b25fKFwiU2F2ZVwiLHRoaXMub25TYXZlXy5iaW5kKHRoaXMpKSksdC5hcHBlbmRDaGlsZChpKSx0LmFwcGVuZENoaWxkKG4pLHR9LGYucHJvdG90eXBlLmNyZWF0ZUgxXz1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIiksaT10LnN0eWxlO3JldHVybiBpLmNvbG9yPVwiYmxhY2tcIixpLmZvbnRTaXplPVwiMjBweFwiLGkuZm9udFdlaWdodD1cImJvbGRcIixpLm1hcmdpblRvcD0wLGkubWFyZ2luQm90dG9tPVwiMjRweFwiLHQuaW5uZXJIVE1MPWUsdH0sZi5wcm90b3R5cGUuY3JlYXRlQ2hvaWNlXz1mdW5jdGlvbihlLHQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZS5tYXJnaW5Ub3A9XCI4cHhcIixpLnN0eWxlLmNvbG9yPVwiYmxhY2tcIjt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7ci5zdHlsZS5mb250U2l6ZT1cIjMwcHhcIixyLnNldEF0dHJpYnV0ZShcImlkXCIsZSksci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxyLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsZSksci5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJmaWVsZFwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7cmV0dXJuIG4uc3R5bGUubWFyZ2luTGVmdD1cIjRweFwiLG4uc2V0QXR0cmlidXRlKFwiZm9yXCIsZSksbi5pbm5lckhUTUw9dCxpLmFwcGVuZENoaWxkKHIpLGkuYXBwZW5kQ2hpbGQobiksaX0sZi5wcm90b3R5cGUuY3JlYXRlQnV0dG9uXz1mdW5jdGlvbihlLHQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7aS5pbm5lckhUTUw9ZTt2YXIgcj1pLnN0eWxlO3JldHVybiByLmZsb2F0PVwicmlnaHRcIixyLnRleHRUcmFuc2Zvcm09XCJ1cHBlcmNhc2VcIixyLmNvbG9yPVwiIzEwOTRmN1wiLHIuZm9udFNpemU9XCIxNHB4XCIsci5sZXR0ZXJTcGFjaW5nPTAsci5ib3JkZXI9MCxyLmJhY2tncm91bmQ9XCJub25lXCIsci5tYXJnaW5Ub3A9XCIxNnB4XCIsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0KSxpfTt2YXIgZ2U9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PXR8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9e2V4cG9ydHM6e319LGUodCx0LmV4cG9ydHMpLHQuZXhwb3J0c30oZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24odCxpKXtlLmV4cG9ydHM9aSgpfSgwLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQocil7aWYoaVtyXSlyZXR1cm4gaVtyXS5leHBvcnRzO3ZhciBuPWlbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLHQpLG4ubD0hMCxuLmV4cG9ydHN9dmFyIGk9e307cmV0dXJuIHQubT1lLHQuYz1pLHQuZD1mdW5jdGlvbihlLGkscil7dC5vKGUsaSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpyfSl9LHQubj1mdW5jdGlvbihlKXt2YXIgaT1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gdC5kKGksXCJhXCIsaSksaX0sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9XCJcIix0KHQucz0wKX0oW2Z1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHI9dFtpXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LGkscil7cmV0dXJuIGkmJmUodC5wcm90b3R5cGUsaSksciYmZSh0LHIpLHR9fSgpLEE9aSgxKSxzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJnBhcnNlRmxvYXQoKFwiXCIrKC9DUFUuKk9TIChbMC05X117Myw0fSlbMC05X117MCwxfXwoQ1BVIGxpa2UpLipBcHBsZVdlYktpdC4qTW9iaWxlL2kuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KXx8WzAsXCJcIl0pWzFdKS5yZXBsYWNlKFwidW5kZWZpbmVkXCIsXCIzXzJcIikucmVwbGFjZShcIl9cIixcIi5cIikucmVwbGFjZShcIl9cIixcIlwiKSk8MTAmJiF3aW5kb3cuTVNTdHJlYW0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyKHRoaXMsZSkscz90aGlzLm5vU2xlZXBUaW1lcj1udWxsOih0aGlzLm5vU2xlZXBWaWRlbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy5ub1NsZWVwVmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSx0aGlzLm5vU2xlZXBWaWRlby5zZXRBdHRyaWJ1dGUoXCJzcmNcIixBKSx0aGlzLm5vU2xlZXBWaWRlby5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLGZ1bmN0aW9uKGUpe3RoaXMubm9TbGVlcFZpZGVvLmN1cnJlbnRUaW1lPi41JiYodGhpcy5ub1NsZWVwVmlkZW8uY3VycmVudFRpbWU9TWF0aC5yYW5kb20oKSl9LmJpbmQodGhpcykpKX1yZXR1cm4gbihlLFt7a2V5OlwiZW5hYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtzPyh0aGlzLmRpc2FibGUoKSx0aGlzLm5vU2xlZXBUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaHJlZj1cIi9cIix3aW5kb3cuc2V0VGltZW91dCh3aW5kb3cuc3RvcCwwKX0sMTVlMykpOnRoaXMubm9TbGVlcFZpZGVvLnBsYXkoKX19LHtrZXk6XCJkaXNhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtzP3RoaXMubm9TbGVlcFRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5ub1NsZWVwVGltZXIpLHRoaXMubm9TbGVlcFRpbWVyPW51bGwpOnRoaXMubm9TbGVlcFZpZGVvLnBhdXNlKCl9fV0pLGV9KCk7ZS5leHBvcnRzPWF9LGZ1bmN0aW9uKGUsdCxpKXtcbmUuZXhwb3J0cz1cImRhdGE6dmlkZW8vbXA0O2Jhc2U2NCxBQUFBSUdaMGVYQnRjRFF5QUFBQ0FHbHpiMjFwYzI4eVlYWmpNVzF3TkRFQUFBQUlabkpsWlFBQUNLQnRaR0YwQUFBQzh3WUYvLy92M0VYcHZlYlpTTGVXTE5nZzJTUHU3M2d5TmpRZ0xTQmpiM0psSURFME1pQnlNalEzT1NCa1pEYzVZVFl4SUMwZ1NDNHlOalF2VFZCRlJ5MDBJRUZXUXlCamIyUmxZeUF0SUVOdmNIbHNaV1owSURJd01ETXRNakF4TkNBdElHaDBkSEE2THk5M2QzY3VkbWxrWlc5c1lXNHViM0puTDNneU5qUXVhSFJ0YkNBdElHOXdkR2x2Ym5NNklHTmhZbUZqUFRFZ2NtVm1QVEVnWkdWaWJHOWphejB4T2pBNk1DQmhibUZzZVhObFBUQjRNVG93ZURFeE1TQnRaVDFvWlhnZ2MzVmliV1U5TWlCd2MzazlNU0J3YzNsZmNtUTlNUzR3TURvd0xqQXdJRzFwZUdWa1gzSmxaajB3SUcxbFgzSmhibWRsUFRFMklHTm9jbTl0WVY5dFpUMHhJSFJ5Wld4c2FYTTlNQ0E0ZURoa1kzUTlNQ0JqY1cwOU1DQmtaV0ZrZW05dVpUMHlNU3d4TVNCbVlYTjBYM0J6YTJsd1BURWdZMmh5YjIxaFgzRndYMjltWm5ObGREMHdJSFJvY21WaFpITTlOaUJzYjI5cllXaGxZV1JmZEdoeVpXRmtjejB4SUhOc2FXTmxaRjkwYUhKbFlXUnpQVEFnYm5JOU1DQmtaV05wYldGMFpUMHhJR2x1ZEdWeWJHRmpaV1E5TUNCaWJIVnlZWGxmWTI5dGNHRjBQVEFnWTI5dWMzUnlZV2x1WldSZmFXNTBjbUU5TUNCaVpuSmhiV1Z6UFRNZ1lsOXdlWEpoYldsa1BUSWdZbDloWkdGd2REMHhJR0pmWW1saGN6MHdJR1JwY21WamREMHhJSGRsYVdkb2RHSTlNU0J2Y0dWdVgyZHZjRDB3SUhkbGFXZG9kSEE5TVNCclpYbHBiblE5TXpBd0lHdGxlV2x1ZEY5dGFXNDlNekFnYzJObGJtVmpkWFE5TkRBZ2FXNTBjbUZmY21WbWNtVnphRDB3SUhKalgyeHZiMnRoYUdWaFpEMHhNQ0J5WXoxamNtWWdiV0owY21WbFBURWdZM0ptUFRJd0xqQWdjV052YlhBOU1DNDJNQ0J4Y0cxcGJqMHdJSEZ3YldGNFBUWTVJSEZ3YzNSbGNEMDBJSFppZGw5dFlYaHlZWFJsUFRJd01EQXdJSFppZGw5aWRXWnphWHBsUFRJMU1EQXdJR055Wmw5dFlYZzlNQzR3SUc1aGJGOW9jbVE5Ym05dVpTQm1hV3hzWlhJOU1DQnBjRjl5WVhScGJ6MHhMalF3SUdGeFBURTZNUzR3TUFDQUFBQUFPV1dJaEFBMy8vcCtDN3Y4dEREU1RqZjk3dzU1aTNTYlJQTzRaWStoa2pENWhia0FrTDN6cEo2aC9MUjFDQUFCemdCMWtxcXpVb3JsaFFBQUFBeEJtaVFZaG4vK3FaWUFETGdBQUFBSlFaNUNRaFgvQUFqNUlRQURRR2djSVFBRFFHZ2NBQUFBQ1FHZVlVUW4vd0FMS0NFQUEwQm9IQUFBQUFrQm5tTkVKLzhBQ3lraEFBTkFhQndoQUFOQWFCd0FBQUFOUVpwb05FeERQLzZwbGdBTXVTRUFBMEJvSEFBQUFBdEJub1pGRVN3ci93QUkrU0VBQTBCb0hDRUFBMEJvSEFBQUFBa0JucVZFSi84QUN5a2hBQU5BYUJ3QUFBQUpBWjZuUkNmL0FBc29JUUFEUUdnY0lRQURRR2djQUFBQURVR2FyRFJNUXovK3FaWUFETGdoQUFOQWFCd0FBQUFMUVo3S1JSVXNLLzhBQ1BraEFBTkFhQndBQUFBSkFaN3BSQ2YvQUFzb0lRQURRR2djSVFBRFFHZ2NBQUFBQ1FHZTYwUW4vd0FMS0NFQUEwQm9IQUFBQUExQm12QTBURU0vL3FtV0FBeTVJUUFEUUdnY0lRQURRR2djQUFBQUMwR2ZEa1VWTEN2L0FBajVJUUFEUUdnY0FBQUFDUUdmTFVRbi93QUxLU0VBQTBCb0hDRUFBMEJvSEFBQUFBa0JueTlFSi84QUN5Z2hBQU5BYUJ3QUFBQU5RWnMwTkV4RFAvNnBsZ0FNdUNFQUEwQm9IQUFBQUF0Qm4xSkZGU3dyL3dBSStTRUFBMEJvSENFQUEwQm9IQUFBQUFrQm4zRkVKLzhBQ3lnaEFBTkFhQndBQUFBSkFaOXpSQ2YvQUFzb0lRQURRR2djSVFBRFFHZ2NBQUFBRFVHYmVEUk1Rei8rcVpZQURMa2hBQU5BYUJ3QUFBQUxRWitXUlJVc0svOEFDUGdoQUFOQWFCd2hBQU5BYUJ3QUFBQUpBWisxUkNmL0FBc3BJUUFEUUdnY0FBQUFDUUdmdDBRbi93QUxLU0VBQTBCb0hDRUFBMEJvSEFBQUFBMUJtN3cwVEVNLy9xbVdBQXk0SVFBRFFHZ2NBQUFBQzBHZjJrVVZMQ3YvQUFqNUlRQURRR2djQUFBQUNRR2YrVVFuL3dBTEtDRUFBMEJvSENFQUEwQm9IQUFBQUFrQm4vdEVKLzhBQ3lraEFBTkFhQndBQUFBTlFadmdORXhEUC82cGxnQU11U0VBQTBCb0hDRUFBMEJvSEFBQUFBdEJuaDVGRlN3ci93QUkrQ0VBQTBCb0hBQUFBQWtCbmoxRUovOEFDeWdoQUFOQWFCd2hBQU5BYUJ3QUFBQUpBWjQvUkNmL0FBc3BJUUFEUUdnY0FBQUFEVUdhSkRSTVF6LytxWllBRExnaEFBTkFhQndBQUFBTFFaNUNSUlVzSy84QUNQa2hBQU5BYUJ3aEFBTkFhQndBQUFBSkFaNWhSQ2YvQUFzb0lRQURRR2djQUFBQUNRR2VZMFFuL3dBTEtTRUFBMEJvSENFQUEwQm9IQUFBQUExQm1tZzBURU0vL3FtV0FBeTVJUUFEUUdnY0FBQUFDMEdlaGtVVkxDdi9BQWo1SVFBRFFHZ2NJUUFEUUdnY0FBQUFDUUdlcFVRbi93QUxLU0VBQTBCb0hBQUFBQWtCbnFkRUovOEFDeWdoQUFOQWFCd0FBQUFOUVpxc05FeERQLzZwbGdBTXVDRUFBMEJvSENFQUEwQm9IQUFBQUF0Qm5zcEZGU3dyL3dBSStTRUFBMEJvSEFBQUFBa0JudWxFSi84QUN5Z2hBQU5BYUJ3aEFBTkFhQndBQUFBSkFaN3JSQ2YvQUFzb0lRQURRR2djQUFBQURVR2E4RFJNUXovK3FaWUFETGtoQUFOQWFCd2hBQU5BYUJ3QUFBQUxRWjhPUlJVc0svOEFDUGtoQUFOQWFCd0FBQUFKQVo4dFJDZi9BQXNwSVFBRFFHZ2NJUUFEUUdnY0FBQUFDUUdmTDBRbi93QUxLQ0VBQTBCb0hBQUFBQTFCbXpRMFRFTS8vcW1XQUF5NElRQURRR2djQUFBQUMwR2ZVa1VWTEN2L0FBajVJUUFEUUdnY0lRQURRR2djQUFBQUNRR2ZjVVFuL3dBTEtDRUFBMEJvSEFBQUFBa0JuM05FSi84QUN5Z2hBQU5BYUJ3aEFBTkFhQndBQUFBTlFadDRORXhDLy82cGxnQU11U0VBQTBCb0hBQUFBQXRCbjVaRkZTd3Ivd0FJK0NFQUEwQm9IQ0VBQTBCb0hBQUFBQWtCbjdWRUovOEFDeWtoQUFOQWFCd0FBQUFKQVorM1JDZi9BQXNwSVFBRFFHZ2NBQUFBRFVHYnV6Uk1Rbi8rbmhBQVlzQWhBQU5BYUJ3aEFBTkFhQndBQUFBSlFaL2FRaFAvQUFzcElRQURRR2djQUFBQUNRR2YrVVFuL3dBTEtDRUFBMEJvSENFQUEwQm9IQ0VBQTBCb0hDRUFBMEJvSENFQUEwQm9IQ0VBQTBCb0hBQUFDaUZ0YjI5MkFBQUFiRzEyYUdRQUFBQUExWUNDWDlXQWdsOEFBQVBvQUFBSC9BQUJBQUFCQUFBQUFBQUFBQUFBQUFBQUFRQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBREFBQUFHR2x2WkhNQUFBQUFFSUNBZ0FjQVQvLy8vdjcvQUFBRitYUnlZV3NBQUFCY2RHdG9aQUFBQUFQVmdJSmYxWUNDWHdBQUFBRUFBQUFBQUFBSDBBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBQXlnQUFBTW9BQUFBQUFDUmxaSFJ6QUFBQUhHVnNjM1FBQUFBQUFBQUFBUUFBQjlBQUFCZHdBQUVBQUFBQUJYRnRaR2xoQUFBQUlHMWthR1FBQUFBQTFZQ0NYOVdBZ2w4QUFWK1FBQUsvSUZYRUFBQUFBQUF0YUdSc2NnQUFBQUFBQUFBQWRtbGtaUUFBQUFBQUFBQUFBQUFBQUZacFpHVnZTR0Z1Wkd4bGNnQUFBQVVjYldsdVpnQUFBQlIyYldoa0FBQUFBUUFBQUFBQUFBQUFBQUFBSkdScGJtWUFBQUFjWkhKbFpnQUFBQUFBQUFBQkFBQUFESFZ5YkNBQUFBQUJBQUFFM0hOMFltd0FBQUNZYzNSelpBQUFBQUFBQUFBQkFBQUFpR0YyWXpFQUFBQUFBQUFBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBeWdES0FFZ0FBQUJJQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVkvLzhBQUFBeVlYWmpRd0ZOUUNqLzRRQWJaMDFBS095aG8zeVNUVUJBUUZBQUFBTUFFQUFyOGdEeGd4bGdBUUFFYU8rRzhnQUFBQmh6ZEhSekFBQUFBQUFBQUFFQUFBQThBQUFMdUFBQUFCUnpkSE56QUFBQUFBQUFBQUVBQUFBQkFBQUI4R04wZEhNQUFBQUFBQUFBUEFBQUFBRUFBQmR3QUFBQUFRQUFPcGdBQUFBQkFBQVhjQUFBQUFFQUFBQUFBQUFBQVFBQUM3Z0FBQUFCQUFBNm1BQUFBQUVBQUJkd0FBQUFBUUFBQUFBQUFBQUJBQUFMdUFBQUFBRUFBRHFZQUFBQUFRQUFGM0FBQUFBQkFBQUFBQUFBQUFFQUFBdTRBQUFBQVFBQU9wZ0FBQUFCQUFBWGNBQUFBQUVBQUFBQUFBQUFBUUFBQzdnQUFBQUJBQUE2bUFBQUFBRUFBQmR3QUFBQUFRQUFBQUFBQUFBQkFBQUx1QUFBQUFFQUFEcVlBQUFBQVFBQUYzQUFBQUFCQUFBQUFBQUFBQUVBQUF1NEFBQUFBUUFBT3BnQUFBQUJBQUFYY0FBQUFBRUFBQUFBQUFBQUFRQUFDN2dBQUFBQkFBQTZtQUFBQUFFQUFCZHdBQUFBQVFBQUFBQUFBQUFCQUFBTHVBQUFBQUVBQURxWUFBQUFBUUFBRjNBQUFBQUJBQUFBQUFBQUFBRUFBQXU0QUFBQUFRQUFPcGdBQUFBQkFBQVhjQUFBQUFFQUFBQUFBQUFBQVFBQUM3Z0FBQUFCQUFBNm1BQUFBQUVBQUJkd0FBQUFBUUFBQUFBQUFBQUJBQUFMdUFBQUFBRUFBRHFZQUFBQUFRQUFGM0FBQUFBQkFBQUFBQUFBQUFFQUFBdTRBQUFBQVFBQU9wZ0FBQUFCQUFBWGNBQUFBQUVBQUFBQUFBQUFBUUFBQzdnQUFBQUJBQUE2bUFBQUFBRUFBQmR3QUFBQUFRQUFBQUFBQUFBQkFBQUx1QUFBQUFFQUFDN2dBQUFBQVFBQUYzQUFBQUFCQUFBQUFBQUFBQnh6ZEhOakFBQUFBQUFBQUFFQUFBQUJBQUFBQVFBQUFBRUFBQUVFYzNSemVnQUFBQUFBQUFBQUFBQUFQQUFBQXpRQUFBQVFBQUFBRFFBQUFBMEFBQUFOQUFBQUVRQUFBQThBQUFBTkFBQUFEUUFBQUJFQUFBQVBBQUFBRFFBQUFBMEFBQUFSQUFBQUR3QUFBQTBBQUFBTkFBQUFFUUFBQUE4QUFBQU5BQUFBRFFBQUFCRUFBQUFQQUFBQURRQUFBQTBBQUFBUkFBQUFEd0FBQUEwQUFBQU5BQUFBRVFBQUFBOEFBQUFOQUFBQURRQUFBQkVBQUFBUEFBQUFEUUFBQUEwQUFBQVJBQUFBRHdBQUFBMEFBQUFOQUFBQUVRQUFBQThBQUFBTkFBQUFEUUFBQUJFQUFBQVBBQUFBRFFBQUFBMEFBQUFSQUFBQUR3QUFBQTBBQUFBTkFBQUFFUUFBQUE4QUFBQU5BQUFBRFFBQUFCRUFBQUFOQUFBQURRQUFBUUJ6ZEdOdkFBQUFBQUFBQUR3QUFBQXdBQUFEWkFBQUEzUUFBQU9OQUFBRG9BQUFBN2tBQUFQUUFBQUQ2d0FBQS80QUFBUVhBQUFFTGdBQUJFTUFBQVJjQUFBRWJ3QUFCSXdBQUFTaEFBQUV1Z0FBQk0wQUFBVGtBQUFFL3dBQUJSSUFBQVVyQUFBRlFnQUFCVjBBQUFWd0FBQUZpUUFBQmFBQUFBVzFBQUFGemdBQUJlRUFBQVgrQUFBR0V3QUFCaXdBQUFZL0FBQUdWZ0FBQm5FQUFBYUVBQUFHblFBQUJyUUFBQWJQQUFBRzRnQUFCdlVBQUFjU0FBQUhKd0FBQjBBQUFBZFRBQUFIY0FBQUI0VUFBQWVlQUFBSHNRQUFCOGdBQUFmakFBQUg5Z0FBQ0E4QUFBZ21BQUFJUVFBQUNGUUFBQWhuQUFBSWhBQUFDSmNBQUFNc2RISmhhd0FBQUZ4MGEyaGtBQUFBQTlXQWdsL1ZnSUpmQUFBQUFnQUFBQUFBQUFmOEFBQUFBQUFBQUFBQUFBQUJBUUFBQUFBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQVFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBQUFBQUFBQUFBQUFBQUFBQ3NtMWthV0VBQUFBZ2JXUm9aQUFBQUFEVmdJSmYxWUNDWHdBQXJFUUFBV0FBVmNRQUFBQUFBQ2RvWkd4eUFBQUFBQUFBQUFCemIzVnVBQUFBQUFBQUFBQUFBQUFBVTNSbGNtVnZBQUFBQW1OdGFXNW1BQUFBRUhOdGFHUUFBQUFBQUFBQUFBQUFBQ1JrYVc1bUFBQUFIR1J5WldZQUFBQUFBQUFBQVFBQUFBeDFjbXdnQUFBQUFRQUFBaWR6ZEdKc0FBQUFaM04wYzJRQUFBQUFBQUFBQVFBQUFGZHRjRFJoQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFDQUJBQUFBQUFyRVFBQUFBQUFETmxjMlJ6QUFBQUFBT0FnSUFpQUFJQUJJQ0FnQlJBRlFBQUFBQUREVUFBQUFBQUJZQ0FnQUlTRUFhQWdJQUJBZ0FBQUJoemRIUnpBQUFBQUFBQUFBRUFBQUJZQUFBRUFBQUFBQnh6ZEhOakFBQUFBQUFBQUFFQUFBQUJBQUFBQVFBQUFBRUFBQUFVYzNSemVnQUFBQUFBQUFBR0FBQUFXQUFBQVhCemRHTnZBQUFBQUFBQUFGZ0FBQU9CQUFBRGh3QUFBNW9BQUFPdEFBQURzd0FBQThvQUFBUGZBQUFENVFBQUEvZ0FBQVFMQUFBRUVRQUFCQ2dBQUFROUFBQUVVQUFBQkZZQUFBUnBBQUFFZ0FBQUJJWUFBQVNiQUFBRXJnQUFCTFFBQUFUSEFBQUUzZ0FBQlBNQUFBVDVBQUFGREFBQUJSOEFBQVVsQUFBRlBBQUFCVkVBQUFWWEFBQUZhZ0FBQlgwQUFBV0RBQUFGbWdBQUJhOEFBQVhDQUFBRnlBQUFCZHNBQUFYeUFBQUYrQUFBQmcwQUFBWWdBQUFHSmdBQUJqa0FBQVpRQUFBR1pRQUFCbXNBQUFaK0FBQUdrUUFBQnBjQUFBYXVBQUFHd3dBQUJza0FBQWJjQUFBRzd3QUFCd1lBQUFjTUFBQUhJUUFBQnpRQUFBYzZBQUFIVFFBQUIyUUFBQWRxQUFBSGZ3QUFCNUlBQUFlWUFBQUhxd0FBQjhJQUFBZlhBQUFIM1FBQUIvQUFBQWdEQUFBSUNRQUFDQ0FBQUFnMUFBQUlPd0FBQ0U0QUFBaGhBQUFJZUFBQUNINEFBQWlSQUFBSXBBQUFDS29BQUFpd0FBQUl0Z0FBQ0x3QUFBakNBQUFBRm5Wa2RHRUFBQUFPYm1GdFpWTjBaWEpsYndBQUFIQjFaSFJoQUFBQWFHMWxkR0VBQUFBQUFBQUFJV2hrYkhJQUFBQUFBQUFBQUcxa2FYSmhjSEJzQUFBQUFBQUFBQUFBQUFBQU8ybHNjM1FBQUFBenFYUnZid0FBQUN0a1lYUmhBQUFBQVFBQUFBQklZVzVrUW5KaGEyVWdNQzR4TUM0eUlESXdNVFV3TmpFeE1EQT1cIn1dKX0pfSkpLHdlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX0oZ2UpLHllPTFlMyxFZT1bMCwwLC41LDFdLGJlPVsuNSwwLC41LDFdLF9lPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsRGU9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lO2cucHJvdG90eXBlLmdldEZyYW1lRGF0YT1mdW5jdGlvbihlKXtyZXR1cm4gSChlLHRoaXMuX2dldFBvc2UoKSx0aGlzKX0sZy5wcm90b3R5cGUuZ2V0UG9zZT1mdW5jdGlvbigpe3JldHVybiBqKFwiVlJEaXNwbGF5LnByb3RvdHlwZS5nZXRQb3NlXCIsXCJWUkRpc3BsYXkucHJvdG90eXBlLmdldEZyYW1lRGF0YVwiKSx0aGlzLl9nZXRQb3NlKCl9LGcucHJvdG90eXBlLnJlc2V0UG9zZT1mdW5jdGlvbigpe3JldHVybiBqKFwiVlJEaXNwbGF5LnByb3RvdHlwZS5yZXNldFBvc2VcIiksdGhpcy5fcmVzZXRQb3NlKCl9LGcucHJvdG90eXBlLmdldEltbWVkaWF0ZVBvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gaihcIlZSRGlzcGxheS5wcm90b3R5cGUuZ2V0SW1tZWRpYXRlUG9zZVwiLFwiVlJEaXNwbGF5LnByb3RvdHlwZS5nZXRGcmFtZURhdGFcIiksdGhpcy5fZ2V0UG9zZSgpfSxnLnByb3RvdHlwZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIF9lKGUpfSxnLnByb3RvdHlwZS5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gRGUoZSl9LGcucHJvdG90eXBlLndyYXBGb3JGdWxsc2NyZWVuPWZ1bmN0aW9uKGUpe2lmKE0oKSlyZXR1cm4gZTtpZighdGhpcy5mdWxsc2NyZWVuV3JhcHBlcl8pe3RoaXMuZnVsbHNjcmVlbldyYXBwZXJfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dmFyIHQ9W1wiaGVpZ2h0OiBcIitNYXRoLm1pbihzY3JlZW4uaGVpZ2h0LHNjcmVlbi53aWR0aCkrXCJweCAhaW1wb3J0YW50XCIsXCJ0b3A6IDAgIWltcG9ydGFudFwiLFwibGVmdDogMCAhaW1wb3J0YW50XCIsXCJyaWdodDogMCAhaW1wb3J0YW50XCIsXCJib3JkZXI6IDBcIixcIm1hcmdpbjogMFwiLFwicGFkZGluZzogMFwiLFwiei1pbmRleDogOTk5OTk5ICFpbXBvcnRhbnRcIixcInBvc2l0aW9uOiBmaXhlZFwiXTt0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHQuam9pbihcIjsgXCIpK1wiO1wiKSx0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXy5jbGFzc0xpc3QuYWRkKFwid2VidnItcG9seWZpbGwtZnVsbHNjcmVlbi13cmFwcGVyXCIpfWlmKHRoaXMuZnVsbHNjcmVlbkVsZW1lbnRfPT1lKXJldHVybiB0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXztpZih0aGlzLmZ1bGxzY3JlZW5FbGVtZW50XyYmKHRoaXMub3JpZ2luYWxQYXJlbnRfP3RoaXMub3JpZ2luYWxQYXJlbnRfLmFwcGVuZENoaWxkKHRoaXMuZnVsbHNjcmVlbkVsZW1lbnRfKTp0aGlzLmZ1bGxzY3JlZW5FbGVtZW50Xy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZnVsbHNjcmVlbkVsZW1lbnRfKSksdGhpcy5mdWxsc2NyZWVuRWxlbWVudF89ZSx0aGlzLm9yaWdpbmFsUGFyZW50Xz1lLnBhcmVudEVsZW1lbnQsdGhpcy5vcmlnaW5hbFBhcmVudF98fGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksIXRoaXMuZnVsbHNjcmVlbldyYXBwZXJfLnBhcmVudEVsZW1lbnQpe3ZhciBpPXRoaXMuZnVsbHNjcmVlbkVsZW1lbnRfLnBhcmVudEVsZW1lbnQ7aS5pbnNlcnRCZWZvcmUodGhpcy5mdWxsc2NyZWVuV3JhcHBlcl8sdGhpcy5mdWxsc2NyZWVuRWxlbWVudF8pLGkucmVtb3ZlQ2hpbGQodGhpcy5mdWxsc2NyZWVuRWxlbWVudF8pfXRoaXMuZnVsbHNjcmVlbldyYXBwZXJfLmluc2VydEJlZm9yZSh0aGlzLmZ1bGxzY3JlZW5FbGVtZW50Xyx0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXy5maXJzdENoaWxkKSx0aGlzLmZ1bGxzY3JlZW5FbGVtZW50Q2FjaGVkU3R5bGVfPXRoaXMuZnVsbHNjcmVlbkVsZW1lbnRfLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO3ZhciByPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoci5mdWxsc2NyZWVuRWxlbWVudF8pe3ZhciBlPVtcInBvc2l0aW9uOiBhYnNvbHV0ZVwiLFwidG9wOiAwXCIsXCJsZWZ0OiAwXCIsXCJ3aWR0aDogXCIrTWF0aC5tYXgoc2NyZWVuLndpZHRoLHNjcmVlbi5oZWlnaHQpK1wicHhcIixcImhlaWdodDogXCIrTWF0aC5taW4oc2NyZWVuLmhlaWdodCxzY3JlZW4ud2lkdGgpK1wicHhcIixcImJvcmRlcjogMFwiLFwibWFyZ2luOiAwXCIsXCJwYWRkaW5nOiAwXCJdO3IuZnVsbHNjcmVlbkVsZW1lbnRfLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsZS5qb2luKFwiOyBcIikrXCI7XCIpfX0oKSx0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyX30sZy5wcm90b3R5cGUucmVtb3ZlRnVsbHNjcmVlbldyYXBwZXI9ZnVuY3Rpb24oKXtpZih0aGlzLmZ1bGxzY3JlZW5FbGVtZW50Xyl7dmFyIGU9dGhpcy5mdWxsc2NyZWVuRWxlbWVudF87dGhpcy5mdWxsc2NyZWVuRWxlbWVudENhY2hlZFN0eWxlXz9lLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsdGhpcy5mdWxsc2NyZWVuRWxlbWVudENhY2hlZFN0eWxlXyk6ZS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSx0aGlzLmZ1bGxzY3JlZW5FbGVtZW50Xz1udWxsLHRoaXMuZnVsbHNjcmVlbkVsZW1lbnRDYWNoZWRTdHlsZV89bnVsbDt2YXIgdD10aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXy5wYXJlbnRFbGVtZW50O3JldHVybiB0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXy5yZW1vdmVDaGlsZChlKSx0aGlzLm9yaWdpbmFsUGFyZW50Xz09PXQ/dC5pbnNlcnRCZWZvcmUoZSx0aGlzLmZ1bGxzY3JlZW5XcmFwcGVyXyk6dGhpcy5vcmlnaW5hbFBhcmVudF8mJnRoaXMub3JpZ2luYWxQYXJlbnRfLmFwcGVuZENoaWxkKGUpLHQucmVtb3ZlQ2hpbGQodGhpcy5mdWxsc2NyZWVuV3JhcHBlcl8pLGV9fSxnLnByb3RvdHlwZS5yZXF1ZXN0UHJlc2VudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmlzUHJlc2VudGluZyxpPXRoaXM7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheXx8KGooXCJWUkRpc3BsYXkucHJvdG90eXBlLnJlcXVlc3RQcmVzZW50IHdpdGggbm9uLWFycmF5IGFyZ3VtZW50XCIsXCJhbiBhcnJheSBvZiBWUkxheWVycyBhcyB0aGUgZmlyc3QgYXJndW1lbnRcIiksZT1bZV0pLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7aWYoIWkuY2FwYWJpbGl0aWVzLmNhblByZXNlbnQpcmV0dXJuIHZvaWQgbihuZXcgRXJyb3IoXCJWUkRpc3BsYXkgaXMgbm90IGNhcGFibGUgb2YgcHJlc2VudGluZy5cIikpO2lmKDA9PWUubGVuZ3RofHxlLmxlbmd0aD5pLmNhcGFiaWxpdGllcy5tYXhMYXllcnMpcmV0dXJuIHZvaWQgbihuZXcgRXJyb3IoXCJJbnZhbGlkIG51bWJlciBvZiBsYXllcnMuXCIpKTt2YXIgQT1lWzBdO2lmKCFBLnNvdXJjZSlyZXR1cm4gdm9pZCByKCk7dmFyIHM9QS5sZWZ0Qm91bmRzfHxFZSxhPUEucmlnaHRCb3VuZHN8fGJlO2lmKHQpe3ZhciBvPWkubGF5ZXJfO28uc291cmNlIT09QS5zb3VyY2UmJihvLnNvdXJjZT1BLnNvdXJjZSk7Zm9yKHZhciBsPTA7bDw0O2wrKylvLmxlZnRCb3VuZHNbbF09c1tsXSxvLnJpZ2h0Qm91bmRzW2xdPWFbbF07cmV0dXJuIGkud3JhcEZvckZ1bGxzY3JlZW4oaS5sYXllcl8uc291cmNlKSxpLnVwZGF0ZVByZXNlbnRfKCksdm9pZCByKCl9aWYoaS5sYXllcl89e3ByZWRpc3RvcnRlZDpBLnByZWRpc3RvcnRlZCxzb3VyY2U6QS5zb3VyY2UsbGVmdEJvdW5kczpzLnNsaWNlKDApLHJpZ2h0Qm91bmRzOmEuc2xpY2UoMCl9LGkud2FpdGluZ0ZvclByZXNlbnRfPSExLGkubGF5ZXJfJiZpLmxheWVyXy5zb3VyY2Upe3ZhciBjPWkud3JhcEZvckZ1bGxzY3JlZW4oaS5sYXllcl8uc291cmNlKSxoPWZ1bmN0aW9uKCl7dmFyIGU9USgpO2kuaXNQcmVzZW50aW5nPWM9PT1lLGkuaXNQcmVzZW50aW5nPyhzY3JlZW4ub3JpZW50YXRpb24mJnNjcmVlbi5vcmllbnRhdGlvbi5sb2NrJiZzY3JlZW4ub3JpZW50YXRpb24ubG9jayhcImxhbmRzY2FwZS1wcmltYXJ5XCIpLmNhdGNoKGZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoXCJzY3JlZW4ub3JpZW50YXRpb24ubG9jaygpIGZhaWxlZCBkdWUgdG9cIixlLm1lc3NhZ2UpfSksaS53YWl0aW5nRm9yUHJlc2VudF89ITEsaS5iZWdpblByZXNlbnRfKCkscigpKTooc2NyZWVuLm9yaWVudGF0aW9uJiZzY3JlZW4ub3JpZW50YXRpb24udW5sb2NrJiZzY3JlZW4ub3JpZW50YXRpb24udW5sb2NrKCksaS5yZW1vdmVGdWxsc2NyZWVuV3JhcHBlcigpLGkuZGlzYWJsZVdha2VMb2NrKCksaS5lbmRQcmVzZW50XygpLGkucmVtb3ZlRnVsbHNjcmVlbkxpc3RlbmVyc18oKSksaS5maXJlVlJEaXNwbGF5UHJlc2VudENoYW5nZV8oKX0sZD1mdW5jdGlvbigpe2kud2FpdGluZ0ZvclByZXNlbnRfJiYoaS5yZW1vdmVGdWxsc2NyZWVuV3JhcHBlcigpLGkucmVtb3ZlRnVsbHNjcmVlbkxpc3RlbmVyc18oKSxpLmRpc2FibGVXYWtlTG9jaygpLGkud2FpdGluZ0ZvclByZXNlbnRfPSExLGkuaXNQcmVzZW50aW5nPSExLG4obmV3IEVycm9yKFwiVW5hYmxlIHRvIHByZXNlbnQuXCIpKSl9O2kuYWRkRnVsbHNjcmVlbkxpc3RlbmVyc18oYyxoLGQpLFAoYyk/KGkuZW5hYmxlV2FrZUxvY2soKSxpLndhaXRpbmdGb3JQcmVzZW50Xz0hMCk6KE0oKXx8QigpKSYmKGkuZW5hYmxlV2FrZUxvY2soKSxpLmlzUHJlc2VudGluZz0hMCxpLmJlZ2luUHJlc2VudF8oKSxpLmZpcmVWUkRpc3BsYXlQcmVzZW50Q2hhbmdlXygpLHIoKSl9aS53YWl0aW5nRm9yUHJlc2VudF98fE0oKXx8KE4oKSxuKG5ldyBFcnJvcihcIlVuYWJsZSB0byBwcmVzZW50LlwiKSkpfSl9LGcucHJvdG90eXBlLmV4aXRQcmVzZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pc1ByZXNlbnRpbmcsdD10aGlzO3JldHVybiB0aGlzLmlzUHJlc2VudGluZz0hMSx0aGlzLmxheWVyXz1udWxsLHRoaXMuZGlzYWJsZVdha2VMb2NrKCksbmV3IFByb21pc2UoZnVuY3Rpb24oaSxyKXtlPyghTigpJiZNKCkmJih0LmVuZFByZXNlbnRfKCksdC5maXJlVlJEaXNwbGF5UHJlc2VudENoYW5nZV8oKSksQigpJiYodC5yZW1vdmVGdWxsc2NyZWVuV3JhcHBlcigpLHQucmVtb3ZlRnVsbHNjcmVlbkxpc3RlbmVyc18oKSx0LmVuZFByZXNlbnRfKCksdC5maXJlVlJEaXNwbGF5UHJlc2VudENoYW5nZV8oKSksaSgpKTpyKG5ldyBFcnJvcihcIldhcyBub3QgcHJlc2VudGluZyB0byBWUkRpc3BsYXkuXCIpKX0pfSxnLnByb3RvdHlwZS5nZXRMYXllcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllcl8/W3RoaXMubGF5ZXJfXTpbXX0sZy5wcm90b3R5cGUuZmlyZVZSRGlzcGxheVByZXNlbnRDaGFuZ2VfPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEN1c3RvbUV2ZW50KFwidnJkaXNwbGF5cHJlc2VudGNoYW5nZVwiLHtkZXRhaWw6e2Rpc3BsYXk6dGhpc319KTt3aW5kb3cuZGlzcGF0Y2hFdmVudChlKX0sZy5wcm90b3R5cGUuZmlyZVZSRGlzcGxheUNvbm5lY3RfPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEN1c3RvbUV2ZW50KFwidnJkaXNwbGF5Y29ubmVjdFwiLHtkZXRhaWw6e2Rpc3BsYXk6dGhpc319KTt3aW5kb3cuZGlzcGF0Y2hFdmVudChlKX0sZy5wcm90b3R5cGUuYWRkRnVsbHNjcmVlbkxpc3RlbmVyc189ZnVuY3Rpb24oZSx0LGkpe3RoaXMucmVtb3ZlRnVsbHNjcmVlbkxpc3RlbmVyc18oKSx0aGlzLmZ1bGxzY3JlZW5FdmVudFRhcmdldF89ZSx0aGlzLmZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyXz10LHRoaXMuZnVsbHNjcmVlbkVycm9ySGFuZGxlcl89aSx0JiYoZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQ/ZS5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmNoYW5nZVwiLHQsITEpOmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkP2UuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0LCExKTpkb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZD9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLHQsITEpOmRvY3VtZW50Lm1zRnVsbHNjcmVlbkVuYWJsZWQmJmUuYWRkRXZlbnRMaXN0ZW5lcihcIm1zZnVsbHNjcmVlbmNoYW5nZVwiLHQsITEpKSxpJiYoZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQ/ZS5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmVycm9yXCIsaSwhMSk6ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQ/ZS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCIsaSwhMSk6ZG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWQ/ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5lcnJvclwiLGksITEpOmRvY3VtZW50Lm1zRnVsbHNjcmVlbkVuYWJsZWQmJmUuYWRkRXZlbnRMaXN0ZW5lcihcIm1zZnVsbHNjcmVlbmVycm9yXCIsaSwhMSkpfSxnLnByb3RvdHlwZS5yZW1vdmVGdWxsc2NyZWVuTGlzdGVuZXJzXz1mdW5jdGlvbigpe2lmKHRoaXMuZnVsbHNjcmVlbkV2ZW50VGFyZ2V0Xyl7dmFyIGU9dGhpcy5mdWxsc2NyZWVuRXZlbnRUYXJnZXRfO2lmKHRoaXMuZnVsbHNjcmVlbkNoYW5nZUhhbmRsZXJfKXt2YXIgdD10aGlzLmZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyXztlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdCwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHQsITEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsdCwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibXNmdWxsc2NyZWVuY2hhbmdlXCIsdCwhMSl9aWYodGhpcy5mdWxsc2NyZWVuRXJyb3JIYW5kbGVyXyl7dmFyIGk9dGhpcy5mdWxsc2NyZWVuRXJyb3JIYW5kbGVyXztlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuZXJyb3JcIixpLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIixpLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmVycm9yXCIsaSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibXNmdWxsc2NyZWVuZXJyb3JcIixpLCExKX10aGlzLmZ1bGxzY3JlZW5FdmVudFRhcmdldF89bnVsbCx0aGlzLmZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyXz1udWxsLHRoaXMuZnVsbHNjcmVlbkVycm9ySGFuZGxlcl89bnVsbH19LGcucHJvdG90eXBlLmVuYWJsZVdha2VMb2NrPWZ1bmN0aW9uKCl7dGhpcy53YWtlbG9ja18mJnRoaXMud2FrZWxvY2tfLmVuYWJsZSgpfSxnLnByb3RvdHlwZS5kaXNhYmxlV2FrZUxvY2s9ZnVuY3Rpb24oKXt0aGlzLndha2Vsb2NrXyYmdGhpcy53YWtlbG9ja18uZGlzYWJsZSgpfSxnLnByb3RvdHlwZS5iZWdpblByZXNlbnRfPWZ1bmN0aW9uKCl7fSxnLnByb3RvdHlwZS5lbmRQcmVzZW50Xz1mdW5jdGlvbigpe30sZy5wcm90b3R5cGUuc3VibWl0RnJhbWU9ZnVuY3Rpb24oZSl7fSxnLnByb3RvdHlwZS5nZXRFeWVQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfTt2YXIgTWU9e0FERElUSU9OQUxfVklFV0VSUzpbXSxERUZBVUxUX1ZJRVdFUjpcIlwiLE1PQklMRV9XQUtFX0xPQ0s6ITAsREVCVUc6ITEsRFBEQl9VUkw6XCJodHRwczovL2RwZGIud2VidnIucm9ja3MvZHBkYi5qc29uXCIsS19GSUxURVI6Ljk4LFBSRURJQ1RJT05fVElNRV9TOi4wNCxDQVJEQk9BUkRfVUlfRElTQUJMRUQ6ITEsUk9UQVRFX0lOU1RSVUNUSU9OU19ESVNBQkxFRDohMSxZQVdfT05MWTohMSxCVUZGRVJfU0NBTEU6LjUsRElSVFlfU1VCTUlUX0ZSQU1FX0JJTkRJTkdTOiExfSxCZT17TEVGVDpcImxlZnRcIixSSUdIVDpcInJpZ2h0XCJ9O3JldHVybiB3LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSx3LnByb3RvdHlwZS5fZ2V0UG9zZT1mdW5jdGlvbigpe3JldHVybntwb3NpdGlvbjpudWxsLG9yaWVudGF0aW9uOnRoaXMucG9zZVNlbnNvcl8uZ2V0T3JpZW50YXRpb24oKSxsaW5lYXJWZWxvY2l0eTpudWxsLGxpbmVhckFjY2VsZXJhdGlvbjpudWxsLGFuZ3VsYXJWZWxvY2l0eTpudWxsLGFuZ3VsYXJBY2NlbGVyYXRpb246bnVsbH19LHcucHJvdG90eXBlLl9yZXNldFBvc2U9ZnVuY3Rpb24oKXt0aGlzLnBvc2VTZW5zb3JfLnJlc2V0UG9zZSYmdGhpcy5wb3NlU2Vuc29yXy5yZXNldFBvc2UoKX0sdy5wcm90b3R5cGUuX2dldEZpZWxkT2ZWaWV3PWZ1bmN0aW9uKGUpe3ZhciB0O2lmKGU9PUJlLkxFRlQpdD10aGlzLmRldmljZUluZm9fLmdldEZpZWxkT2ZWaWV3TGVmdEV5ZSgpO2Vsc2V7aWYoZSE9QmUuUklHSFQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGV5ZSBwcm92aWRlZDogJXNcIixlKSxudWxsO3Q9dGhpcy5kZXZpY2VJbmZvXy5nZXRGaWVsZE9mVmlld1JpZ2h0RXllKCl9cmV0dXJuIHR9LHcucHJvdG90eXBlLl9nZXRFeWVPZmZzZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZT09QmUuTEVGVCl0PVsuNSotdGhpcy5kZXZpY2VJbmZvXy52aWV3ZXIuaW50ZXJMZW5zRGlzdGFuY2UsMCwwXTtlbHNle2lmKGUhPUJlLlJJR0hUKXJldHVybiBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBleWUgcHJvdmlkZWQ6ICVzXCIsZSksbnVsbDt0PVsuNSp0aGlzLmRldmljZUluZm9fLnZpZXdlci5pbnRlckxlbnNEaXN0YW5jZSwwLDBdfXJldHVybiB0fSx3LnByb3RvdHlwZS5nZXRFeWVQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldEV5ZU9mZnNldChlKSxpPXRoaXMuX2dldEZpZWxkT2ZWaWV3KGUpLHI9e29mZnNldDp0LHJlbmRlcldpZHRoOi41KnRoaXMuZGV2aWNlSW5mb18uZGV2aWNlLndpZHRoKnRoaXMuYnVmZmVyU2NhbGVfLHJlbmRlckhlaWdodDp0aGlzLmRldmljZUluZm9fLmRldmljZS5oZWlnaHQqdGhpcy5idWZmZXJTY2FsZV99O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImZpZWxkT2ZWaWV3XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGooXCJWUkZpZWxkT2ZWaWV3XCIsXCJWUkZyYW1lRGF0YSdzIHByb2plY3Rpb24gbWF0cmljZXNcIiksaX19KSxyfSx3LnByb3RvdHlwZS5vbkRldmljZVBhcmFtc1VwZGF0ZWRfPWZ1bmN0aW9uKGUpe3RoaXMuY29uZmlnLkRFQlVHJiZjb25zb2xlLmxvZyhcIkRQREIgcmVwb3J0ZWQgdGhhdCBkZXZpY2UgcGFyYW1zIHdlcmUgdXBkYXRlZC5cIiksdGhpcy5kZXZpY2VJbmZvXy51cGRhdGVEZXZpY2VQYXJhbXMoZSksdGhpcy5kaXN0b3J0ZXJfJiZ0aGlzLmRpc3RvcnRlcl8udXBkYXRlRGV2aWNlSW5mbyh0aGlzLmRldmljZUluZm9fKX0sdy5wcm90b3R5cGUudXBkYXRlQm91bmRzXz1mdW5jdGlvbigpe3RoaXMubGF5ZXJfJiZ0aGlzLmRpc3RvcnRlcl8mJih0aGlzLmxheWVyXy5sZWZ0Qm91bmRzfHx0aGlzLmxheWVyXy5yaWdodEJvdW5kcykmJnRoaXMuZGlzdG9ydGVyXy5zZXRUZXh0dXJlQm91bmRzKHRoaXMubGF5ZXJfLmxlZnRCb3VuZHMsdGhpcy5sYXllcl8ucmlnaHRCb3VuZHMpfSx3LnByb3RvdHlwZS5iZWdpblByZXNlbnRfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sYXllcl8uc291cmNlLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtlfHwoZT10aGlzLmxheWVyXy5zb3VyY2UuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKSksZXx8KGU9dGhpcy5sYXllcl8uc291cmNlLmdldENvbnRleHQoXCJ3ZWJnbDJcIikpLGUmJih0aGlzLmxheWVyXy5wcmVkaXN0b3J0ZWQ/dGhpcy5jb25maWcuQ0FSREJPQVJEX1VJX0RJU0FCTEVEfHwoZS5jYW52YXMud2lkdGg9eCgpKnRoaXMuYnVmZmVyU2NhbGVfLGUuY2FudmFzLmhlaWdodD1MKCkqdGhpcy5idWZmZXJTY2FsZV8sdGhpcy5jYXJkYm9hcmRVSV89bmV3IHIoZSkpOih0aGlzLmNvbmZpZy5DQVJEQk9BUkRfVUlfRElTQUJMRUR8fCh0aGlzLmNhcmRib2FyZFVJXz1uZXcgcihlKSksdGhpcy5kaXN0b3J0ZXJfPW5ldyBpKGUsdGhpcy5jYXJkYm9hcmRVSV8sdGhpcy5jb25maWcuQlVGRkVSX1NDQUxFLHRoaXMuY29uZmlnLkRJUlRZX1NVQk1JVF9GUkFNRV9CSU5ESU5HUyksdGhpcy5kaXN0b3J0ZXJfLnVwZGF0ZURldmljZUluZm8odGhpcy5kZXZpY2VJbmZvXykpLHRoaXMuY2FyZGJvYXJkVUlfJiZ0aGlzLmNhcmRib2FyZFVJXy5saXN0ZW4oZnVuY3Rpb24oZSl7dGhpcy52aWV3ZXJTZWxlY3Rvcl8uc2hvdyh0aGlzLmxheWVyXy5zb3VyY2UucGFyZW50RWxlbWVudCksZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCl9LmJpbmQodGhpcyksZnVuY3Rpb24oZSl7dGhpcy5leGl0UHJlc2VudCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpfS5iaW5kKHRoaXMpKSx0aGlzLnJvdGF0ZUluc3RydWN0aW9uc18mJihTKCkmJmsoKT90aGlzLnJvdGF0ZUluc3RydWN0aW9uc18uc2hvd1RlbXBvcmFyaWx5KDNlMyx0aGlzLmxheWVyXy5zb3VyY2UucGFyZW50RWxlbWVudCk6dGhpcy5yb3RhdGVJbnN0cnVjdGlvbnNfLnVwZGF0ZSgpKSx0aGlzLm9yaWVudGF0aW9uSGFuZGxlcj10aGlzLm9uT3JpZW50YXRpb25DaGFuZ2VfLmJpbmQodGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMub3JpZW50YXRpb25IYW5kbGVyKSx0aGlzLnZyZGlzcGxheXByZXNlbnRjaGFuZ2VIYW5kbGVyPXRoaXMudXBkYXRlQm91bmRzXy5iaW5kKHRoaXMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5cHJlc2VudGNoYW5nZVwiLHRoaXMudnJkaXNwbGF5cHJlc2VudGNoYW5nZUhhbmRsZXIpLHRoaXMuZmlyZVZSRGlzcGxheURldmljZVBhcmFtc0NoYW5nZV8oKSl9LHcucHJvdG90eXBlLmVuZFByZXNlbnRfPWZ1bmN0aW9uKCl7dGhpcy5kaXN0b3J0ZXJfJiYodGhpcy5kaXN0b3J0ZXJfLmRlc3Ryb3koKSx0aGlzLmRpc3RvcnRlcl89bnVsbCksdGhpcy5jYXJkYm9hcmRVSV8mJih0aGlzLmNhcmRib2FyZFVJXy5kZXN0cm95KCksdGhpcy5jYXJkYm9hcmRVSV89bnVsbCksdGhpcy5yb3RhdGVJbnN0cnVjdGlvbnNfJiZ0aGlzLnJvdGF0ZUluc3RydWN0aW9uc18uaGlkZSgpLHRoaXMudmlld2VyU2VsZWN0b3JfLmhpZGUoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsdGhpcy5vcmllbnRhdGlvbkhhbmRsZXIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5cHJlc2VudGNoYW5nZVwiLHRoaXMudnJkaXNwbGF5cHJlc2VudGNoYW5nZUhhbmRsZXIpfSx3LnByb3RvdHlwZS51cGRhdGVQcmVzZW50Xz1mdW5jdGlvbigpe3RoaXMuZW5kUHJlc2VudF8oKSx0aGlzLmJlZ2luUHJlc2VudF8oKX0sdy5wcm90b3R5cGUuc3VibWl0RnJhbWU9ZnVuY3Rpb24oZSl7aWYodGhpcy5kaXN0b3J0ZXJfKXRoaXMudXBkYXRlQm91bmRzXygpLHRoaXMuZGlzdG9ydGVyXy5zdWJtaXRGcmFtZSgpO2Vsc2UgaWYodGhpcy5jYXJkYm9hcmRVSV8mJnRoaXMubGF5ZXJfKXt2YXIgdD10aGlzLmxheWVyXy5zb3VyY2UuZ2V0Q29udGV4dChcIndlYmdsXCIpLmNhbnZhczt0LndpZHRoPT10aGlzLmxhc3RXaWR0aCYmdC5oZWlnaHQ9PXRoaXMubGFzdEhlaWdodHx8dGhpcy5jYXJkYm9hcmRVSV8ub25SZXNpemUoKSx0aGlzLmxhc3RXaWR0aD10LndpZHRoLHRoaXMubGFzdEhlaWdodD10LmhlaWdodCx0aGlzLmNhcmRib2FyZFVJXy5yZW5kZXIoKX19LHcucHJvdG90eXBlLm9uT3JpZW50YXRpb25DaGFuZ2VfPWZ1bmN0aW9uKGUpe3RoaXMudmlld2VyU2VsZWN0b3JfLmhpZGUoKSx0aGlzLnJvdGF0ZUluc3RydWN0aW9uc18mJnRoaXMucm90YXRlSW5zdHJ1Y3Rpb25zXy51cGRhdGUoKSx0aGlzLm9uUmVzaXplXygpfSx3LnByb3RvdHlwZS5vblJlc2l6ZV89ZnVuY3Rpb24oZSl7aWYodGhpcy5sYXllcl8pe3ZhciB0PXRoaXMubGF5ZXJfLnNvdXJjZS5nZXRDb250ZXh0KFwid2ViZ2xcIiksaT1bXCJwb3NpdGlvbjogYWJzb2x1dGVcIixcInRvcDogMFwiLFwibGVmdDogMFwiLFwid2lkdGg6IDEwMHZ3XCIsXCJoZWlnaHQ6IDEwMHZoXCIsXCJib3JkZXI6IDBcIixcIm1hcmdpbjogMFwiLFwicGFkZGluZzogMHB4XCIsXCJib3gtc2l6aW5nOiBjb250ZW50LWJveFwiXTt0LmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGkuam9pbihcIjsgXCIpK1wiO1wiKSx6KHQuY2FudmFzKX19LHcucHJvdG90eXBlLm9uVmlld2VyQ2hhbmdlZF89ZnVuY3Rpb24oZSl7dGhpcy5kZXZpY2VJbmZvXy5zZXRWaWV3ZXIoZSksdGhpcy5kaXN0b3J0ZXJfJiZ0aGlzLmRpc3RvcnRlcl8udXBkYXRlRGV2aWNlSW5mbyh0aGlzLmRldmljZUluZm9fKSx0aGlzLmZpcmVWUkRpc3BsYXlEZXZpY2VQYXJhbXNDaGFuZ2VfKCl9LHcucHJvdG90eXBlLmZpcmVWUkRpc3BsYXlEZXZpY2VQYXJhbXNDaGFuZ2VfPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEN1c3RvbUV2ZW50KFwidnJkaXNwbGF5ZGV2aWNlcGFyYW1zY2hhbmdlXCIse2RldGFpbDp7dnJkaXNwbGF5OnRoaXMsZGV2aWNlSW5mbzp0aGlzLmRldmljZUluZm9ffX0pO3dpbmRvdy5kaXNwYXRjaEV2ZW50KGUpfSx3LlZSRnJhbWVEYXRhPW0sdy5WUkRpc3BsYXk9Zyx3fSgpfSgpfSkscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRcIik/ZS5kZWZhdWx0OmV9KEEpLGE9e0FERElUSU9OQUxfVklFV0VSUzpbXSxERUZBVUxUX1ZJRVdFUjpcIlwiLFBST1ZJREVfTU9CSUxFX1ZSRElTUExBWTohMCxNT0JJTEVfV0FLRV9MT0NLOiEwLERFQlVHOiExLERQREJfVVJMOlwiaHR0cHM6Ly9kcGRiLndlYnZyLnJvY2tzL2RwZGIuanNvblwiLEtfRklMVEVSOi45OCxQUkVESUNUSU9OX1RJTUVfUzouMDQsQ0FSREJPQVJEX1VJX0RJU0FCTEVEOiExLFJPVEFURV9JTlNUUlVDVElPTlNfRElTQUJMRUQ6ITEsWUFXX09OTFk6ITEsQlVGRkVSX1NDQUxFOi41LERJUlRZX1NVQk1JVF9GUkFNRV9CSU5ESU5HUzohMX07ZS5wcm90b3R5cGUuZ2V0UG9seWZpbGxEaXNwbGF5cz1mdW5jdGlvbigpe2lmKHRoaXMuX3BvbHlmaWxsRGlzcGxheXNQb3B1bGF0ZWQpcmV0dXJuIHRoaXMucG9seWZpbGxEaXNwbGF5cztpZihpKCkpe3ZhciBlPW5ldyBzKHtBRERJVElPTkFMX1ZJRVdFUlM6dGhpcy5jb25maWcuQURESVRJT05BTF9WSUVXRVJTLERFRkFVTFRfVklFV0VSOnRoaXMuY29uZmlnLkRFRkFVTFRfVklFV0VSLE1PQklMRV9XQUtFX0xPQ0s6dGhpcy5jb25maWcuTU9CSUxFX1dBS0VfTE9DSyxERUJVRzp0aGlzLmNvbmZpZy5ERUJVRyxEUERCX1VSTDp0aGlzLmNvbmZpZy5EUERCX1VSTCxDQVJEQk9BUkRfVUlfRElTQUJMRUQ6dGhpcy5jb25maWcuQ0FSREJPQVJEX1VJX0RJU0FCTEVELEtfRklMVEVSOnRoaXMuY29uZmlnLktfRklMVEVSLFBSRURJQ1RJT05fVElNRV9TOnRoaXMuY29uZmlnLlBSRURJQ1RJT05fVElNRV9TLFJPVEFURV9JTlNUUlVDVElPTlNfRElTQUJMRUQ6dGhpcy5jb25maWcuUk9UQVRFX0lOU1RSVUNUSU9OU19ESVNBQkxFRCxZQVdfT05MWTp0aGlzLmNvbmZpZy5ZQVdfT05MWSxCVUZGRVJfU0NBTEU6dGhpcy5jb25maWcuQlVGRkVSX1NDQUxFLERJUlRZX1NVQk1JVF9GUkFNRV9CSU5ESU5HUzp0aGlzLmNvbmZpZy5ESVJUWV9TVUJNSVRfRlJBTUVfQklORElOR1N9KTt0aGlzLnBvbHlmaWxsRGlzcGxheXMucHVzaChlKX1yZXR1cm4gdGhpcy5fcG9seWZpbGxEaXNwbGF5c1BvcHVsYXRlZD0hMCx0aGlzLnBvbHlmaWxsRGlzcGxheXN9LGUucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe2lmKHRoaXMuZW5hYmxlZD0hMCx0aGlzLmhhc05hdGl2ZSYmdGhpcy5uYXRpdmUuVlJGcmFtZURhdGEpe3ZhciBlPXRoaXMubmF0aXZlLlZSRnJhbWVEYXRhLHQ9bmV3IHRoaXMubmF0aXZlLlZSRnJhbWVEYXRhLGk9dGhpcy5uYXRpdmUuVlJEaXNwbGF5LnByb3RvdHlwZS5nZXRGcmFtZURhdGE7d2luZG93LlZSRGlzcGxheS5wcm90b3R5cGUuZ2V0RnJhbWVEYXRhPWZ1bmN0aW9uKG4pe2lmKG4gaW5zdGFuY2VvZiBlKXJldHVybiB2b2lkIGkuY2FsbCh0aGlzLG4pO2kuY2FsbCh0aGlzLHQpLG4ucG9zZT10LnBvc2Uscih0LmxlZnRQcm9qZWN0aW9uTWF0cml4LG4ubGVmdFByb2plY3Rpb25NYXRyaXgpLHIodC5yaWdodFByb2plY3Rpb25NYXRyaXgsbi5yaWdodFByb2plY3Rpb25NYXRyaXgpLHIodC5sZWZ0Vmlld01hdHJpeCxuLmxlZnRWaWV3TWF0cml4KSxyKHQucmlnaHRWaWV3TWF0cml4LG4ucmlnaHRWaWV3TWF0cml4KX19bmF2aWdhdG9yLmdldFZSRGlzcGxheXM9dGhpcy5nZXRWUkRpc3BsYXlzLmJpbmQodGhpcyksd2luZG93LlZSRGlzcGxheT1zLlZSRGlzcGxheSx3aW5kb3cuVlJGcmFtZURhdGE9cy5WUkZyYW1lRGF0YX0sZS5wcm90b3R5cGUuZ2V0VlJEaXNwbGF5cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5jb25maWc7cmV0dXJuIHRoaXMuaGFzTmF0aXZlP3RoaXMubmF0aXZlLmdldFZSRGlzcGxheXMuY2FsbChuYXZpZ2F0b3IpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjA/dDplLmdldFBvbHlmaWxsRGlzcGxheXMoKX0pOlByb21pc2UucmVzb2x2ZSh0aGlzLmdldFBvbHlmaWxsRGlzcGxheXMoKSl9LGUudmVyc2lvbj1cIjAuMTAuMTBcIixlLlZSRnJhbWVEYXRhPXMuVlJGcmFtZURhdGEsZS5WUkRpc3BsYXk9cy5WUkRpc3BsYXk7dmFyIG89T2JqZWN0LmZyZWV6ZSh7ZGVmYXVsdDplfSksbD1vJiZlfHxvO3JldHVybiB2b2lkIDAhPT10JiZ0LndpbmRvdyYmKHQuZG9jdW1lbnR8fCh0LmRvY3VtZW50PXQud2luZG93LmRvY3VtZW50KSx0Lm5hdmlnYXRvcnx8KHQubmF2aWdhdG9yPXQud2luZG93Lm5hdmlnYXRvcikpLGx9KTtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSw1MDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBpZHhPZihlLG4scix0KXt2YXIgaT1lLmluZGV4T2YobixyKTtyZXR1cm4tMT09PWl8fGk+dD90Oml9ZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGUpe3JldHVybiB3aGl0ZXNwYWNlLnRlc3QoZSl9ZnVuY3Rpb24gcHJlKGUsbixyLHQsaSl7Zm9yKHZhciBhPVtdLG89cixzPXI7czx0JiZzPG4ubGVuZ3RoO3MrKyl7dmFyIGg9bi5jaGFyQXQocyksdT1uZXdsaW5lLnRlc3QoaCk7aWYodXx8cz09PXQtMSl7dmFyIGY9dT9zOnMrMSxwPWUobixvLGYsaSk7YS5wdXNoKHApLG89cysxfX1yZXR1cm4gYX1mdW5jdGlvbiBncmVlZHkoZSxuLHIsdCxpLGEpe3ZhciBvPVtdLHM9aTtmb3IoXCJub3dyYXBcIj09PWEmJihzPU51bWJlci5NQVhfVkFMVUUpO3I8dCYmcjxuLmxlbmd0aDspe2Zvcih2YXIgaD1pZHhPZihuLG5ld2xpbmVDaGFyLHIsdCk7cjxoJiZpc1doaXRlc3BhY2Uobi5jaGFyQXQocikpOylyKys7dmFyIHU9ZShuLHIsaCxzKSxmPXIrKHUuZW5kLXUuc3RhcnQpLHA9ZituZXdsaW5lQ2hhci5sZW5ndGg7aWYoZjxoKXtmb3IoO2Y+ciYmIWlzV2hpdGVzcGFjZShuLmNoYXJBdChmKSk7KWYtLTtpZihmPT09cilwPnIrbmV3bGluZUNoYXIubGVuZ3RoJiZwLS0sZj1wO2Vsc2UgZm9yKHA9ZjtmPnImJmlzV2hpdGVzcGFjZShuLmNoYXJBdChmLW5ld2xpbmVDaGFyLmxlbmd0aCkpOylmLS19aWYoZj49cil7dmFyIGM9ZShuLHIsZixzKTtvLnB1c2goYyl9cj1wfXJldHVybiBvfWZ1bmN0aW9uIG1vbm9zcGFjZShlLG4scix0KXtyZXR1cm57c3RhcnQ6bixlbmQ6bitNYXRoLm1pbih0LHItbil9fXZhciBuZXdsaW5lPS9cXG4vLG5ld2xpbmVDaGFyPVwiXFxuXCIsd2hpdGVzcGFjZT0vXFxzLzttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihlLG4pe3JldHVybiBtb2R1bGUuZXhwb3J0cy5saW5lcyhlLG4pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gZS5zdWJzdHJpbmcobi5zdGFydCxuLmVuZCl9KS5qb2luKFwiXFxuXCIpfSxtb2R1bGUuZXhwb3J0cy5saW5lcz1mdW5jdGlvbihlLG4pe2lmKG49bnx8e30sMD09PW4ud2lkdGgmJlwibm93cmFwXCIhPT1uLm1vZGUpcmV0dXJuW107ZT1lfHxcIlwiO3ZhciByPVwibnVtYmVyXCI9PXR5cGVvZiBuLndpZHRoP24ud2lkdGg6TnVtYmVyLk1BWF9WQUxVRSx0PU1hdGgubWF4KDAsbi5zdGFydHx8MCksaT1cIm51bWJlclwiPT10eXBlb2Ygbi5lbmQ/bi5lbmQ6ZS5sZW5ndGgsYT1uLm1vZGUsbz1uLm1lYXN1cmV8fG1vbm9zcGFjZTtyZXR1cm5cInByZVwiPT09YT9wcmUobyxlLHQsaSxyKTpncmVlZHkobyxlLHQsaSxyLGEpfTtcbn0se31dLDUxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGZvckVhY2hBcnJheShlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQoZVtyXSl9ZnVuY3Rpb24gaXNFbXB0eShlKXtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGluaXRQYXJhbXMoZSx0LHIpe3ZhciBuPWU7cmV0dXJuIGlzRnVuY3Rpb24odCk/KHI9dCxcInN0cmluZ1wiPT10eXBlb2YgZSYmKG49e3VyaTplfSkpOm49eHRlbmQodCx7dXJpOmV9KSxuLmNhbGxiYWNrPXIsbn1mdW5jdGlvbiBjcmVhdGVYSFIoZSx0LHIpe3JldHVybiB0PWluaXRQYXJhbXMoZSx0LHIpLF9jcmVhdGVYSFIodCl9ZnVuY3Rpb24gX2NyZWF0ZVhIUihlKXtmdW5jdGlvbiB0KCl7ND09PWkucmVhZHlTdGF0ZSYmc2V0VGltZW91dChvLDApfWZ1bmN0aW9uIHIoKXt2YXIgZT12b2lkIDA7aWYoZT1pLnJlc3BvbnNlP2kucmVzcG9uc2U6aS5yZXNwb25zZVRleHR8fGdldFhtbChpKSxYKXRyeXtlPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7fXJldHVybiBlfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGNsZWFyVGltZW91dChkKSxlIGluc3RhbmNlb2YgRXJyb3J8fChlPW5ldyBFcnJvcihcIlwiKyhlfHxcIlVua25vd24gWE1MSHR0cFJlcXVlc3QgRXJyb3JcIikpKSxlLnN0YXR1c0NvZGU9MCxhKGUsaCl9ZnVuY3Rpb24gbygpe2lmKCFjKXt2YXIgdDtjbGVhclRpbWVvdXQoZCksdD1lLnVzZVhEUiYmdm9pZCAwPT09aS5zdGF0dXM/MjAwOjEyMjM9PT1pLnN0YXR1cz8yMDQ6aS5zdGF0dXM7dmFyIG49aCxvPW51bGw7cmV0dXJuIDAhPT10PyhuPXtib2R5OnIoKSxzdGF0dXNDb2RlOnQsbWV0aG9kOmwsaGVhZGVyczp7fSx1cmw6cCxyYXdSZXF1ZXN0Oml9LGkuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJiYobi5oZWFkZXJzPXBhcnNlSGVhZGVycyhpLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkpOm89bmV3IEVycm9yKFwiSW50ZXJuYWwgWE1MSHR0cFJlcXVlc3QgRXJyb3JcIiksYShvLG4sbi5ib2R5KX19aWYodm9pZCAwPT09ZS5jYWxsYmFjayl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nXCIpO3ZhciBzPSExLGE9ZnVuY3Rpb24odCxyLG4pe3N8fChzPSEwLGUuY2FsbGJhY2sodCxyLG4pKX0saT1lLnhocnx8bnVsbDtpfHwoaT1lLmNvcnN8fGUudXNlWERSP25ldyBjcmVhdGVYSFIuWERvbWFpblJlcXVlc3Q6bmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdCk7dmFyIHUsYyxkLHA9aS51cmw9ZS51cml8fGUudXJsLGw9aS5tZXRob2Q9ZS5tZXRob2R8fFwiR0VUXCIsZj1lLmJvZHl8fGUuZGF0YSxtPWkuaGVhZGVycz1lLmhlYWRlcnN8fHt9LFI9ISFlLnN5bmMsWD0hMSxoPXtib2R5OnZvaWQgMCxoZWFkZXJzOnt9LHN0YXR1c0NvZGU6MCxtZXRob2Q6bCx1cmw6cCxyYXdSZXF1ZXN0Oml9O2lmKFwianNvblwiaW4gZSYmITEhPT1lLmpzb24mJihYPSEwLG0uYWNjZXB0fHxtLkFjY2VwdHx8KG0uQWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiKSxcIkdFVFwiIT09bCYmXCJIRUFEXCIhPT1sJiYobVtcImNvbnRlbnQtdHlwZVwiXXx8bVtcIkNvbnRlbnQtVHlwZVwiXXx8KG1bXCJDb250ZW50LVR5cGVcIl09XCJhcHBsaWNhdGlvbi9qc29uXCIpLGY9SlNPTi5zdHJpbmdpZnkoITA9PT1lLmpzb24/ZjplLmpzb24pKSksaS5vbnJlYWR5c3RhdGVjaGFuZ2U9dCxpLm9ubG9hZD1vLGkub25lcnJvcj1uLGkub25wcm9ncmVzcz1mdW5jdGlvbigpe30saS5vbmFib3J0PWZ1bmN0aW9uKCl7Yz0hMH0saS5vbnRpbWVvdXQ9bixpLm9wZW4obCxwLCFSLGUudXNlcm5hbWUsZS5wYXNzd29yZCksUnx8KGkud2l0aENyZWRlbnRpYWxzPSEhZS53aXRoQ3JlZGVudGlhbHMpLCFSJiZlLnRpbWVvdXQ+MCYmKGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKCFjKXtjPSEwLGkuYWJvcnQoXCJ0aW1lb3V0XCIpO3ZhciBlPW5ldyBFcnJvcihcIlhNTEh0dHBSZXF1ZXN0IHRpbWVvdXRcIik7ZS5jb2RlPVwiRVRJTUVET1VUXCIsbihlKX19LGUudGltZW91dCkpLGkuc2V0UmVxdWVzdEhlYWRlcilmb3IodSBpbiBtKW0uaGFzT3duUHJvcGVydHkodSkmJmkuc2V0UmVxdWVzdEhlYWRlcih1LG1bdV0pO2Vsc2UgaWYoZS5oZWFkZXJzJiYhaXNFbXB0eShlLmhlYWRlcnMpKXRocm93IG5ldyBFcnJvcihcIkhlYWRlcnMgY2Fubm90IGJlIHNldCBvbiBhbiBYRG9tYWluUmVxdWVzdCBvYmplY3RcIik7cmV0dXJuXCJyZXNwb25zZVR5cGVcImluIGUmJihpLnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZSksXCJiZWZvcmVTZW5kXCJpbiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmJlZm9yZVNlbmQmJmUuYmVmb3JlU2VuZChpKSxpLnNlbmQoZnx8bnVsbCksaX1mdW5jdGlvbiBnZXRYbWwoZSl7dHJ5e2lmKFwiZG9jdW1lbnRcIj09PWUucmVzcG9uc2VUeXBlKXJldHVybiBlLnJlc3BvbnNlWE1MO3ZhciB0PWUucmVzcG9uc2VYTUwmJlwicGFyc2VyZXJyb3JcIj09PWUucmVzcG9uc2VYTUwuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lO2lmKFwiXCI9PT1lLnJlc3BvbnNlVHlwZSYmIXQpcmV0dXJuIGUucmVzcG9uc2VYTUx9Y2F0Y2goZSl7fXJldHVybiBudWxsfWZ1bmN0aW9uIG5vb3AoKXt9dmFyIHdpbmRvdz1fZGVyZXFfKFwiZ2xvYmFsL3dpbmRvd1wiKSxpc0Z1bmN0aW9uPV9kZXJlcV8oXCJpcy1mdW5jdGlvblwiKSxwYXJzZUhlYWRlcnM9X2RlcmVxXyhcInBhcnNlLWhlYWRlcnNcIikseHRlbmQ9X2RlcmVxXyhcInh0ZW5kXCIpO21vZHVsZS5leHBvcnRzPWNyZWF0ZVhIUixtb2R1bGUuZXhwb3J0cy5kZWZhdWx0PWNyZWF0ZVhIUixjcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3Q9d2luZG93LlhNTEh0dHBSZXF1ZXN0fHxub29wLGNyZWF0ZVhIUi5YRG9tYWluUmVxdWVzdD1cIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IGNyZWF0ZVhIUi5YTUxIdHRwUmVxdWVzdD9jcmVhdGVYSFIuWE1MSHR0cFJlcXVlc3Q6d2luZG93LlhEb21haW5SZXF1ZXN0LGZvckVhY2hBcnJheShbXCJnZXRcIixcInB1dFwiLFwicG9zdFwiLFwicGF0Y2hcIixcImhlYWRcIixcImRlbGV0ZVwiXSxmdW5jdGlvbihlKXtjcmVhdGVYSFJbXCJkZWxldGVcIj09PWU/XCJkZWxcIjplXT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHI9aW5pdFBhcmFtcyh0LHIsbiksci5tZXRob2Q9ZS50b1VwcGVyQ2FzZSgpLF9jcmVhdGVYSFIocil9fSk7XG59LHtcImdsb2JhbC93aW5kb3dcIjoxNyxcImlzLWZ1bmN0aW9uXCI6MjIsXCJwYXJzZS1oZWFkZXJzXCI6MzIsXCJ4dGVuZFwiOjUzfV0sNTI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09c2VsZi5ET01QYXJzZXI/ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBzZWxmLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsXCJhcHBsaWNhdGlvbi94bWxcIil9OnZvaWQgMCE9PXNlbGYuQWN0aXZlWE9iamVjdCYmbmV3IHNlbGYuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIik/ZnVuY3Rpb24oZSl7dmFyIG49bmV3IHNlbGYuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIik7cmV0dXJuIG4uYXN5bmM9XCJmYWxzZVwiLG4ubG9hZFhNTChlKSxufTpmdW5jdGlvbihlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBuLmlubmVySFRNTD1lLG59fSgpO1xufSx7fV0sNTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gZXh0ZW5kKCl7Zm9yKHZhciByPXt9LGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgdD1hcmd1bWVudHNbZV07Zm9yKHZhciBuIGluIHQpaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYocltuXT10W25dKX1yZXR1cm4gcn1tb2R1bGUuZXhwb3J0cz1leHRlbmQ7dmFyIGhhc093blByb3BlcnR5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG59LHt9XSw1NDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cz17XCJuYW1lXCI6XCJhZnJhbWVcIixcInZlcnNpb25cIjpcIjEuMC4zXCIsXCJkZXNjcmlwdGlvblwiOlwiQSB3ZWIgZnJhbWV3b3JrIGZvciBidWlsZGluZyB2aXJ0dWFsIHJlYWxpdHkgZXhwZXJpZW5jZXMuXCIsXCJob21lcGFnZVwiOlwiaHR0cHM6Ly9hZnJhbWUuaW8vXCIsXCJtYWluXCI6XCJkaXN0L2FmcmFtZS1tYXN0ZXIuanNcIixcInNjcmlwdHNcIjp7XCJicm93c2VyaWZ5XCI6XCJicm93c2VyaWZ5IHNyYy9pbmRleC5qcyAtcyAnQUZSQU1FJyAtcCBicm93c2VyaWZ5LWRlcmVxdWlyZVwiLFwiYnVpbGRcIjpcInNoeCBta2RpciAtcCBidWlsZC8gJiYgbnBtIHJ1biBicm93c2VyaWZ5IC0tIC0tZGVidWcgLXQgW2VudmlmeSAtLUlOU1BFQ1RPUl9WRVJTSU9OIGRldl0gLW8gYnVpbGQvYWZyYW1lLmpzXCIsXCJjb2RlY292XCI6XCJjb2RlY292XCIsXCJkZXZcIjpcIm5wbSBydW4gYnVpbGQgJiYgY3Jvc3MtZW52IElOU1BFQ1RPUl9WRVJTSU9OPWRldiBub2RlIC4vc2NyaXB0cy9idWRvIC10IGVudmlmeVwiLFwiZGlzdFwiOlwibm9kZSBzY3JpcHRzL3VwZGF0ZVZlcnNpb25Mb2cuanMgJiYgbnBtIHJ1biBkaXN0Om1pbiAmJiBucG0gcnVuIGRpc3Q6bWF4XCIsXCJkaXN0Om1heFwiOlwibnBtIHJ1biBicm93c2VyaWZ5IC1zIC0tIC0tZGVidWcgfCBleG9yY2lzdCBkaXN0L2FmcmFtZS1tYXN0ZXIuanMubWFwID4gZGlzdC9hZnJhbWUtbWFzdGVyLmpzXCIsXCJkaXN0Om1pblwiOlwibnBtIHJ1biBicm93c2VyaWZ5IC1zIC0tIC0tZGVidWcgLXAgW21pbmlmeWlmeSAtLW1hcCBhZnJhbWUtbWFzdGVyLm1pbi5qcy5tYXAgLS1vdXRwdXQgZGlzdC9hZnJhbWUtbWFzdGVyLm1pbi5qcy5tYXBdIC1vIGRpc3QvYWZyYW1lLW1hc3Rlci5taW4uanNcIixcImRvY3NcIjpcIm1hcmtzZXJ2IC0tZGlyIGRvY3MgLS1wb3J0IDkwMDFcIixcInByZWdocGFnZXNcIjpcIm5vZGUgLi9zY3JpcHRzL3ByZWdocGFnZXMuanNcIixcImdocGFnZXNcIjpcImdocGFnZXMgLXAgZ2gtcGFnZXMvXCIsXCJsaW50XCI6XCJzZW1pc3RhbmRhcmQgLXYgfCBzbmF6enlcIixcImxpbnQ6Zml4XCI6XCJzZW1pc3RhbmRhcmQgLS1maXhcIixcInByZWNvbW1pdFwiOlwibnBtIHJ1biBsaW50XCIsXCJwcmVwdXNoXCI6XCJub2RlIHNjcmlwdHMvdGVzdE9ubHlDaGVjay5qc1wiLFwicHJlcmVsZWFzZVwiOlwiY3Jvc3MtZW52IEZPUl9SRUxFQVNFPXRydWUgbm9kZSBzY3JpcHRzL3JlbGVhc2UuanMgMS4wLjIgMS4wLjNcIixcInN0YXJ0XCI6XCJucG0gcnVuIGRldlwiLFwic3RhcnQ6aHR0cHNcIjpcImNyb3NzLWVudiBTU0w9dHJ1ZSBucG0gcnVuIGRldlwiLFwidGVzdFwiOlwia2FybWEgc3RhcnQgLi90ZXN0cy9rYXJtYS5jb25mLmpzXCIsXCJ0ZXN0OmRvY3NcIjpcIm5vZGUgc2NyaXB0cy9kb2NzTGludC5qc1wiLFwidGVzdDpmaXJlZm94XCI6XCJucG0gdGVzdCAtLSAtLWJyb3dzZXJzIEZpcmVmb3hcIixcInRlc3Q6Y2hyb21lXCI6XCJucG0gdGVzdCAtLSAtLWJyb3dzZXJzIENocm9tZVwiLFwidGVzdDpub2Jyb3dzZXJcIjpcIk5PX0JST1dTRVI9dHJ1ZSBucG0gdGVzdFwiLFwidGVzdDpub2RlXCI6XCJtb2NoYSAtLXVpIHRkZCB0ZXN0cy9ub2RlXCJ9LFwicmVwb3NpdG9yeVwiOlwiYWZyYW1ldnIvYWZyYW1lXCIsXCJsaWNlbnNlXCI6XCJNSVRcIixcImZpbGVzXCI6W1wiZGlzdC8qXCIsXCJkb2NzLyoqLypcIixcInNyYy8qKi8qXCIsXCJ2ZW5kb3IvKiovKlwiXSxcImRlcGVuZGVuY2llc1wiOntcImN1c3RvbS1ldmVudC1wb2x5ZmlsbFwiOlwiXjEuMC42XCIsXCJkZWJ1Z1wiOlwibmdva2V2aW4vZGVidWcjbm9UaW1lc3RhbXBcIixcImRlZXAtYXNzaWduXCI6XCJeMi4wLjBcIixcImRvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnRcIjpcImRtYXJjb3MvZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudCM4Y2NjNTMyYjdmMzc0NGJlOTU0NTc0Y2FmMzA3MmE1ZmQyNjBjYTkwXCIsXCJsb2FkLWJtZm9udFwiOlwiXjEuMi4zXCIsXCJvYmplY3QtYXNzaWduXCI6XCJeNC4wLjFcIixcInByZXNlbnRcIjpcIjAuMC42XCIsXCJwcm9taXNlLXBvbHlmaWxsXCI6XCJeMy4xLjBcIixcInN1cGVyLWFuaW1lanNcIjpcIl4zLjEuMFwiLFwic3VwZXItdGhyZWVcIjpcIl4wLjExMS41XCIsXCJ0aHJlZS1ibWZvbnQtdGV4dFwiOlwiZG1hcmNvcy90aHJlZS1ibWZvbnQtdGV4dCMxYmFiZGY4NTA3XCIsXCJ3ZWJ2ci1wb2x5ZmlsbFwiOlwiXjAuMTAuMTBcIn0sXCJkZXZEZXBlbmRlbmNpZXNcIjp7XCJicm93c2VyaWZ5XCI6XCJeMTMuMS4wXCIsXCJicm93c2VyaWZ5LWNzc1wiOlwiXjAuOC40XCIsXCJicm93c2VyaWZ5LWRlcmVxdWlyZVwiOlwiXjAuOS40XCIsXCJicm93c2VyaWZ5LWlzdGFuYnVsXCI6XCJeMi4wLjBcIixcImJ1ZG9cIjpcIl45LjIuMFwiLFwiY2hhaVwiOlwiXjMuNS4wXCIsXCJjaGFpLXNoYWxsb3ctZGVlcC1lcXVhbFwiOlwiXjEuNC4wXCIsXCJjaGFsa1wiOlwiXjEuMS4zXCIsXCJjb2RlY292XCI6XCJeMS4wLjFcIixcImNyb3NzLWVudlwiOlwiXjUuMC4xXCIsXCJlbnZpZnlcIjpcIl4zLjQuMVwiLFwiZXhvcmNpc3RcIjpcIl4wLjQuMFwiLFwiZ2hwYWdlc1wiOlwiMC4wLjhcIixcImdpdC1yZXZcIjpcIl4wLjIuMVwiLFwiZ2xvYlwiOlwiXjcuMS4xXCIsXCJodXNreVwiOlwiXjAuMTEuN1wiLFwiaXN0YW5idWxcIjpcIl4wLjQuNVwiLFwianNkb21cIjpcIl45LjExLjBcIixcImthcm1hXCI6XCIxLjQuMVwiLFwia2FybWEtYnJvd3NlcmlmeVwiOlwiXjUuMS4wXCIsXCJrYXJtYS1jaGFpLXNoYWxsb3ctZGVlcC1lcXVhbFwiOlwiMC4wLjRcIixcImthcm1hLWNocm9tZS1sYXVuY2hlclwiOlwiXjIuMC4wXCIsXCJrYXJtYS1jb3ZlcmFnZVwiOlwiXjEuMS4xXCIsXCJrYXJtYS1lbnYtcHJlcHJvY2Vzc29yXCI6XCJeMC4xLjFcIixcImthcm1hLWZpcmVmb3gtbGF1bmNoZXJcIjpcIl4xLjIuMFwiLFwia2FybWEtbW9jaGFcIjpcIl4xLjEuMVwiLFwia2FybWEtbW9jaGEtcmVwb3J0ZXJcIjpcIl4yLjEuMFwiLFwia2FybWEtc2lub24tY2hhaVwiOlwiMS4yLjRcIixcImxvbGV4XCI6XCJeMS41LjFcIixcIm1hcmtzZXJ2XCI6XCJnaXRodWI6c3VraW1hL21hcmtzZXJ2I2ZlYXR1cmUvZml4LWJyb2tlbi13ZWJzb2tldGlvLWxpbmtcIixcIm1pbmlmeWlmeVwiOlwiXjcuMy4zXCIsXCJtb2NoYVwiOlwiXjMuMC4yXCIsXCJtb3ppbGxhLWRvd25sb2FkXCI6XCJeMS4xLjFcIixcInJlcGxhY2UtaW4tZmlsZVwiOlwiXjIuNS4zXCIsXCJzZW1pc3RhbmRhcmRcIjpcIl45LjAuMFwiLFwic2hlbGxqc1wiOlwiXjAuNy43XCIsXCJzaHhcIjpcIl4wLjIuMlwiLFwic2lub25cIjpcIl4xLjE3LjVcIixcInNpbm9uLWNoYWlcIjpcIjIuOC4wXCIsXCJzbmF6enlcIjpcIl41LjAuMFwiLFwidG9vLXdvcmR5XCI6XCJuZ29rZXZpbi90b28td29yZHlcIixcInVnbGlmeWpzXCI6XCJeMi40LjEwXCIsXCJ3cml0ZS1nb29kXCI6XCJeMC45LjFcIn0sXCJsaW5rXCI6dHJ1ZSxcImJyb3dzZXJpZnlcIjp7XCJ0cmFuc2Zvcm1cIjpbXCJicm93c2VyaWZ5LWNzc1wiLFwiZW52aWZ5XCJdfSxcInNlbWlzdGFuZGFyZFwiOntcImlnbm9yZVwiOltcImJ1aWxkLyoqXCIsXCJkaXN0LyoqXCIsXCJleGFtcGxlcy8qKi9zaGFkZXJzLyouanNcIixcIioqL3ZlbmRvci8qKlwiXX0sXCJrZXl3b3Jkc1wiOltcIjNkXCIsXCJhZnJhbWVcIixcImNhcmRib2FyZFwiLFwiY29tcG9uZW50c1wiLFwib2N1bHVzXCIsXCJ0aHJlZVwiLFwidGhyZWUuanNcIixcInJpZnRcIixcInZpdmVcIixcInZyXCIsXCJ3ZWItY29tcG9uZW50c1wiLFwid2VidnJcIl0sXCJicm93c2VyaWZ5LWNzc1wiOntcIm1pbmlmeVwiOnRydWV9LFwiZW5naW5lc1wiOntcIm5vZGVcIjpcIj49IDQuNi4wXCIsXCJucG1cIjpcIl4yLjE1LjlcIn19XG59LHt9XSw1NTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBnZXRQcm9wZXJ0eVR5cGUodCxlKXt2YXIgaSxuLG8sYTtyZXR1cm4gbz1lLnNwbGl0KFwiLlwiKSxuPW9bMF0sYT1vWzFdLGk9dC5jb21wb25lbnRzW25dfHxjb21wb25lbnRzW25dLGk/YSYmIWkuc2NoZW1hW2FdP251bGw6YT9pLnNjaGVtYVthXS50eXBlOmkuc2NoZW1hLnR5cGU6bnVsbH1mdW5jdGlvbiB0b1JhZGlhbnModCl7dC54PVRIUkVFLk1hdGguZGVnVG9SYWQodC54KSx0Lnk9VEhSRUUuTWF0aC5kZWdUb1JhZCh0LnkpLHQuej1USFJFRS5NYXRoLmRlZ1RvUmFkKHQueil9ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModCxlLGkpe3ZhciBuO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspdC5hZGRFdmVudExpc3RlbmVyKGVbbl0saSl9ZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModCxlLGkpe3ZhciBuO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspdC5yZW1vdmVFdmVudExpc3RlbmVyKGVbbl0saSl9ZnVuY3Rpb24gZ2V0UmF3UHJvcGVydHkodCxlKXt2YXIgaSxuLG87Zm9yKG49c3BsaXREb3QoZSksbz10LGk9MDtpPG4ubGVuZ3RoO2krKylvPW9bbltpXV07aWYodm9pZCAwPT09byl0aHJvdyBjb25zb2xlLmxvZyh0KSxuZXcgRXJyb3IoXCJbYW5pbWF0aW9uXSBwcm9wZXJ0eSAoXCIrZStcIikgY291bGQgbm90IGJlIGZvdW5kXCIpO3JldHVybiBvfWZ1bmN0aW9uIHNldFJhd1Byb3BlcnR5KHQsZSxpLG4pe3ZhciBvLGEscixzO2ZvcihlLnN0YXJ0c1dpdGgoXCJvYmplY3QzRC5yb3RhdGlvblwiKSYmKGk9VEhSRUUuTWF0aC5kZWdUb1JhZChpKSksYT1zcGxpdERvdChlKSxzPXQsbz0wO288YS5sZW5ndGgtMTtvKyspcz1zW2Fbb11dO2lmKHI9YVthLmxlbmd0aC0xXSxuPT09VFlQRV9DT0xPUilyZXR1cm4gdm9pZChcInJcImluIHNbcl0/KHNbcl0ucj1pLnIsc1tyXS5nPWkuZyxzW3JdLmI9aS5iKTooc1tyXS54PWkucixzW3JdLnk9aS5nLHNbcl0uej1pLmIpKTtzW3JdPWl9ZnVuY3Rpb24gc3BsaXREb3QodCl7cmV0dXJuIHQgaW4gc3BsaXRDYWNoZT9zcGxpdENhY2hlW3RdOihzcGxpdENhY2hlW3RdPXQuc3BsaXQoXCIuXCIpLHNwbGl0Q2FjaGVbdF0pfWZ1bmN0aW9uIGlzUmF3UHJvcGVydHkodCl7cmV0dXJuIHQuaXNSYXdQcm9wZXJ0eXx8dC5wcm9wZXJ0eS5zdGFydHNXaXRoKFNUUklOR19DT01QT05FTlRTKXx8dC5wcm9wZXJ0eS5zdGFydHNXaXRoKFNUUklOR19PQkpFQ1QzRCl9dmFyIGFuaW1lPV9kZXJlcV8oXCJzdXBlci1hbmltZWpzXCIpLGNvbXBvbmVudHM9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLmNvbXBvbmVudHMscmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzXCIpLGNvbG9ySGVscGVyRnJvbT1uZXcgVEhSRUUuQ29sb3IsY29sb3JIZWxwZXJUbz1uZXcgVEhSRUUuQ29sb3IsZ2V0Q29tcG9uZW50UHJvcGVydHk9dXRpbHMuZW50aXR5LmdldENvbXBvbmVudFByb3BlcnR5LHNldENvbXBvbmVudFByb3BlcnR5PXV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eSxzcGxpdENhY2hlPXt9LFRZUEVfQ09MT1I9XCJjb2xvclwiLFBST1BfUE9TSVRJT049XCJwb3NpdGlvblwiLFBST1BfUk9UQVRJT049XCJyb3RhdGlvblwiLFBST1BfU0NBTEU9XCJzY2FsZVwiLFNUUklOR19DT01QT05FTlRTPVwiY29tcG9uZW50c1wiLFNUUklOR19PQkpFQ1QzRD1cIm9iamVjdDNEXCI7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwiYW5pbWF0aW9uXCIse3NjaGVtYTp7YXV0b3BsYXk6e2RlZmF1bHQ6ITB9LGRlbGF5OntkZWZhdWx0OjB9LGRpcjp7ZGVmYXVsdDpcIlwifSxkdXI6e2RlZmF1bHQ6MWUzfSxlYXNpbmc6e2RlZmF1bHQ6XCJlYXNlSW5RdWFkXCJ9LGVsYXN0aWNpdHk6e2RlZmF1bHQ6NDAwfSxlbmFibGVkOntkZWZhdWx0OiEwfSxmcm9tOntkZWZhdWx0OlwiXCJ9LGxvb3A6e2RlZmF1bHQ6MCxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4hMD09PXR8fFwidHJ1ZVwiPT09dHx8ITEhPT10JiZcImZhbHNlXCIhPT10JiZwYXJzZUludCh0LDEwKX19LHByb3BlcnR5OntkZWZhdWx0OlwiXCJ9LHN0YXJ0RXZlbnRzOnt0eXBlOlwiYXJyYXlcIn0scGF1c2VFdmVudHM6e3R5cGU6XCJhcnJheVwifSxyZXN1bWVFdmVudHM6e3R5cGU6XCJhcnJheVwifSxyb3VuZDp7ZGVmYXVsdDohMX0sdG86e2RlZmF1bHQ6XCJcIn0sdHlwZTp7ZGVmYXVsdDpcIlwifSxpc1Jhd1Byb3BlcnR5OntkZWZhdWx0OiExfX0sbXVsdGlwbGU6ITAsaW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ldmVudERldGFpbD17bmFtZTp0aGlzLmF0dHJOYW1lfSx0aGlzLnRpbWU9MCx0aGlzLmFuaW1hdGlvbj1udWxsLHRoaXMuYW5pbWF0aW9uSXNQbGF5aW5nPSExLHRoaXMub25TdGFydEV2ZW50PXRoaXMub25TdGFydEV2ZW50LmJpbmQodGhpcyksdGhpcy5iZWdpbkFuaW1hdGlvbj10aGlzLmJlZ2luQW5pbWF0aW9uLmJpbmQodGhpcyksdGhpcy5wYXVzZUFuaW1hdGlvbj10aGlzLnBhdXNlQW5pbWF0aW9uLmJpbmQodGhpcyksdGhpcy5yZXN1bWVBbmltYXRpb249dGhpcy5yZXN1bWVBbmltYXRpb24uYmluZCh0aGlzKSx0aGlzLmZyb21Db2xvcj17fSx0aGlzLnRvQ29sb3I9e30sdGhpcy50YXJnZXRzPXt9LHRoaXMudGFyZ2V0c0FycmF5PVtdLHRoaXMudXBkYXRlQ29uZmlnRm9yRGVmYXVsdD10aGlzLnVwZGF0ZUNvbmZpZ0ZvckRlZmF1bHQuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZUNvbmZpZ0ZvclJhd0NvbG9yPXRoaXMudXBkYXRlQ29uZmlnRm9yUmF3Q29sb3IuYmluZCh0aGlzKSx0aGlzLmNvbmZpZz17Y29tcGxldGU6ZnVuY3Rpb24oKXt0LmFuaW1hdGlvbklzUGxheWluZz0hMSx0LmVsLmVtaXQoXCJhbmltYXRpb25jb21wbGV0ZVwiLHQuZXZlbnREZXRhaWwsITEpLHQuaWQmJnQuZWwuZW1pdChcImFuaW1hdGlvbmNvbXBsZXRlX19cIit0LmlkLHQuZXZlbnREZXRhaWwsITEpfX19LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbmZpZyxpPXRoaXMuZGF0YTt0aGlzLmFuaW1hdGlvbklzUGxheWluZz0hMSx0aGlzLmRhdGEuZW5hYmxlZCYmaS5wcm9wZXJ0eSYmKGUuYXV0b3BsYXk9ITEsZS5kaXJlY3Rpb249aS5kaXIsZS5kdXJhdGlvbj1pLmR1cixlLmVhc2luZz1pLmVhc2luZyxlLmVsYXN0aWNpdHk9aS5lbGFzdGljaXR5LGUubG9vcD1pLmxvb3AsZS5yb3VuZD1pLnJvdW5kLHRoaXMuY3JlYXRlQW5kU3RhcnRBbmltYXRpb24oKSl9LHRpY2s6ZnVuY3Rpb24odCxlKXt0aGlzLmFuaW1hdGlvbklzUGxheWluZyYmKHRoaXMudGltZSs9ZSx0aGlzLmFuaW1hdGlvbi50aWNrKHRoaXMudGltZSkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlQW5pbWF0aW9uKCksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwLHRoaXMucGF1c2VkV2FzUGxheWluZz10aGlzLmFuaW1hdGlvbklzUGxheWluZyx0aGlzLnBhdXNlQW5pbWF0aW9uKCksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpfSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQmJih0aGlzLnBhdXNlZD0hMSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCksdGhpcy5wYXVzZWRXYXNQbGF5aW5nJiYodGhpcy5yZXN1bWVBbmltYXRpb24oKSx0aGlzLnBhdXNlZFdhc1BsYXlpbmc9ITEpKX0sY3JlYXRlQW5kU3RhcnRBbmltYXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGE7aWYodGhpcy51cGRhdGVDb25maWcoKSx0aGlzLmFuaW1hdGlvbklzUGxheWluZz0hMSx0aGlzLmFuaW1hdGlvbj1hbmltZSh0aGlzLmNvbmZpZyksdGhpcy5hbmltYXRpb24uYmVnYW49ITAsdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKSwhKCF0LmF1dG9wbGF5fHx0LnN0YXJ0RXZlbnRzJiZ0LnN0YXJ0RXZlbnRzLmxlbmd0aCkpcmV0dXJuIHQuZGVsYXk/dm9pZCBzZXRUaW1lb3V0KHRoaXMuYmVnaW5BbmltYXRpb24sdC5kZWxheSk6dm9pZCB0aGlzLmJlZ2luQW5pbWF0aW9uKCl9LGJlZ2luQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVDb25maWcoKSx0aGlzLmFuaW1hdGlvbi5iZWdhbj0hMCx0aGlzLnRpbWU9MCx0aGlzLmFuaW1hdGlvbklzUGxheWluZz0hMCx0aGlzLnN0b3BSZWxhdGVkQW5pbWF0aW9ucygpLHRoaXMuZWwuZW1pdChcImFuaW1hdGlvbmJlZ2luXCIsdGhpcy5ldmVudERldGFpbCwhMSl9LHBhdXNlQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb25Jc1BsYXlpbmc9ITF9LHJlc3VtZUFuaW1hdGlvbjpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uSXNQbGF5aW5nPSEwfSxvblN0YXJ0RXZlbnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGEuZW5hYmxlZCl7aWYodGhpcy51cGRhdGVDb25maWcoKSx0aGlzLmFuaW1hdGlvbiYmdGhpcy5hbmltYXRpb24ucGF1c2UoKSx0aGlzLmFuaW1hdGlvbj1hbmltZSh0aGlzLmNvbmZpZyksdGhpcy5kYXRhLmRlbGF5KXJldHVybiB2b2lkIHNldFRpbWVvdXQodGhpcy5iZWdpbkFuaW1hdGlvbix0aGlzLmRhdGEuZGVsYXkpO3RoaXMuYmVnaW5BbmltYXRpb24oKX19LHVwZGF0ZUNvbmZpZ0ZvclJhd0NvbG9yOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG49dGhpcy5jb25maWcsbz10aGlzLmRhdGEsYT10aGlzLmVsO2lmKCF0aGlzLndhaXRDb21wb25lbnRJbml0UmF3UHJvcGVydHkodGhpcy51cGRhdGVDb25maWdGb3JSYXdDb2xvcikpe3Q9XCJcIj09PW8uZnJvbT9nZXRSYXdQcm9wZXJ0eShhLG8ucHJvcGVydHkpOm8uZnJvbSxpPW8udG8sdGhpcy5zZXRDb2xvckNvbmZpZyh0LGkpLHQ9dGhpcy5mcm9tQ29sb3IsaT10aGlzLnRvQ29sb3IsdGhpcy50YXJnZXRzQXJyYXkubGVuZ3RoPTAsdGhpcy50YXJnZXRzQXJyYXkucHVzaCh0KSxuLnRhcmdldHM9dGhpcy50YXJnZXRzQXJyYXk7Zm9yKGUgaW4gaSluW2VdPWlbZV07bi51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk7aT1lLmFuaW1hdGFibGVzWzBdLnRhcmdldCxpLnI9PT10LnImJmkuZz09PXQuZyYmaS5iPT09dC5ifHxzZXRSYXdQcm9wZXJ0eShhLG8ucHJvcGVydHksaSxvLnR5cGUpfX0oKX19LHVwZGF0ZUNvbmZpZ0ZvckRlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbixvPXRoaXMuY29uZmlnLGE9dGhpcy5kYXRhLHI9dGhpcy5lbDt0aGlzLndhaXRDb21wb25lbnRJbml0UmF3UHJvcGVydHkodGhpcy51cGRhdGVDb25maWdGb3JEZWZhdWx0KXx8KHQ9XCJcIj09PWEuZnJvbT9pc1Jhd1Byb3BlcnR5KGEpP2dldFJhd1Byb3BlcnR5KHIsYS5wcm9wZXJ0eSk6Z2V0Q29tcG9uZW50UHJvcGVydHkocixhLnByb3BlcnR5KTphLmZyb20sbj1hLnRvLGk9IWlzTmFOKHR8fG4pLGk/KHQ9cGFyc2VGbG9hdCh0KSxuPXBhcnNlRmxvYXQobikpOih0PXQ/dC50b1N0cmluZygpOnQsbj1uP24udG9TdHJpbmcoKTpuKSxlPVwidHJ1ZVwiPT09YS50b3x8XCJmYWxzZVwiPT09YS50b3x8ITA9PT1hLnRvfHwhMT09PWEudG8sZSYmKHQ9XCJ0cnVlXCI9PT1hLmZyb218fCEwPT09YS5mcm9tPzE6MCxuPVwidHJ1ZVwiPT09YS50b3x8ITA9PT1hLnRvPzE6MCksdGhpcy50YXJnZXRzLmFmcmFtZVByb3BlcnR5PXQsby50YXJnZXRzPXRoaXMudGFyZ2V0cyxvLmFmcmFtZVByb3BlcnR5PW4sby51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG47KG49aS5hbmltYXRhYmxlc1swXS50YXJnZXQuYWZyYW1lUHJvcGVydHkpIT09dCYmKHQ9bixlJiYobj1uPj0xKSxpc1Jhd1Byb3BlcnR5KGEpP3NldFJhd1Byb3BlcnR5KHIsYS5wcm9wZXJ0eSxuLGEudHlwZSk6c2V0Q29tcG9uZW50UHJvcGVydHkocixhLnByb3BlcnR5LG4pKX19KCkpfSx1cGRhdGVDb25maWdGb3JWZWN0b3I6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbj10aGlzLmNvbmZpZyxvPXRoaXMuZGF0YSxhPXRoaXMuZWw7ZT1cIlwiIT09by5mcm9tP3V0aWxzLmNvb3JkaW5hdGVzLnBhcnNlKG8uZnJvbSk6Z2V0Q29tcG9uZW50UHJvcGVydHkoYSxvLnByb3BlcnR5KSxpPXV0aWxzLmNvb3JkaW5hdGVzLnBhcnNlKG8udG8pLG8ucHJvcGVydHk9PT1QUk9QX1JPVEFUSU9OJiYodG9SYWRpYW5zKGUpLHRvUmFkaWFucyhpKSksdGhpcy50YXJnZXRzQXJyYXkubGVuZ3RoPTAsdGhpcy50YXJnZXRzQXJyYXkucHVzaChlKSxuLnRhcmdldHM9dGhpcy50YXJnZXRzQXJyYXk7Zm9yKHQgaW4gaSluW3RdPWlbdF07aWYoby5wcm9wZXJ0eT09PVBST1BfUE9TSVRJT058fG8ucHJvcGVydHk9PT1QUk9QX1JPVEFUSU9OfHxvLnByb3BlcnR5PT09UFJPUF9TQ0FMRSlyZXR1cm4gdm9pZChuLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgaT1lLmFuaW1hdGFibGVzWzBdLnRhcmdldDtvLnByb3BlcnR5PT09UFJPUF9TQ0FMRSYmKGkueD1NYXRoLm1heCgxZS00LGkueCksaS55PU1hdGgubWF4KDFlLTQsaS55KSxpLno9TWF0aC5tYXgoMWUtNCxpLnopKSxpLng9PT10LngmJmkueT09PXQueSYmaS56PT09dC56fHwodC54PWkueCx0Lnk9aS55LHQuej1pLnosYS5vYmplY3QzRFtvLnByb3BlcnR5XS5zZXQoaS54LGkueSxpLnopKX19KCkpO24udXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBpPWUuYW5pbWF0YWJsZXNbMF0udGFyZ2V0O2kueD09PXQueCYmaS55PT09dC55JiZpLno9PT10Lnp8fCh0Lng9aS54LHQueT1pLnksdC56PWkueixzZXRDb21wb25lbnRQcm9wZXJ0eShhLG8ucHJvcGVydHksaSkpfX0oKX0sdXBkYXRlQ29uZmlnOmZ1bmN0aW9uKCl7dmFyIHQ7dD1nZXRQcm9wZXJ0eVR5cGUodGhpcy5lbCx0aGlzLmRhdGEucHJvcGVydHkpLGlzUmF3UHJvcGVydHkodGhpcy5kYXRhKSYmdGhpcy5kYXRhLnR5cGU9PT1UWVBFX0NPTE9SP3RoaXMudXBkYXRlQ29uZmlnRm9yUmF3Q29sb3IoKTpcInZlYzJcIj09PXR8fFwidmVjM1wiPT09dHx8XCJ2ZWM0XCI9PT10P3RoaXMudXBkYXRlQ29uZmlnRm9yVmVjdG9yKCk6dGhpcy51cGRhdGVDb25maWdGb3JEZWZhdWx0KCl9LHdhaXRDb21wb25lbnRJbml0UmF3UHJvcGVydHk6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLmRhdGEsbj10aGlzLmVsLG89dGhpcztyZXR1cm5cIlwiPT09aS5mcm9tJiYoISFpLnByb3BlcnR5LnN0YXJ0c1dpdGgoU1RSSU5HX0NPTVBPTkVOVFMpJiYoZT1zcGxpdERvdChpLnByb3BlcnR5KVsxXSwhbi5jb21wb25lbnRzW2VdJiYobi5hZGRFdmVudExpc3RlbmVyKFwiY29tcG9uZW50aW5pdGlhbGl6ZWRcIixmdW5jdGlvbiBpKGEpe2EuZGV0YWlsLm5hbWU9PT1lJiYodCgpLG8uYW5pbWF0aW9uPWFuaW1lKG8uY29uZmlnKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb21wb25lbnRpbml0aWFsaXplZFwiLGkpKX0pLCEwKSkpfSxzdG9wUmVsYXRlZEFuaW1hdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihlIGluIHRoaXMuZWwuY29tcG9uZW50cyl0PXRoaXMuZWwuY29tcG9uZW50c1tlXSxlIT09dGhpcy5hdHRyTmFtZSYmXCJhbmltYXRpb25cIj09PXQubmFtZSYmdC5hbmltYXRpb25Jc1BsYXlpbmcmJnQuZGF0YS5wcm9wZXJ0eT09PXRoaXMuZGF0YS5wcm9wZXJ0eSYmKHQuYW5pbWF0aW9uSXNQbGF5aW5nPSExKX0sYWRkRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGEsZT10aGlzLmVsO2FkZEV2ZW50TGlzdGVuZXJzKGUsdC5zdGFydEV2ZW50cyx0aGlzLm9uU3RhcnRFdmVudCksYWRkRXZlbnRMaXN0ZW5lcnMoZSx0LnBhdXNlRXZlbnRzLHRoaXMucGF1c2VBbmltYXRpb24pLGFkZEV2ZW50TGlzdGVuZXJzKGUsdC5yZXN1bWVFdmVudHMsdGhpcy5yZXN1bWVBbmltYXRpb24pfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YSxlPXRoaXMuZWw7cmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZSx0LnN0YXJ0RXZlbnRzLHRoaXMub25TdGFydEV2ZW50KSxyZW1vdmVFdmVudExpc3RlbmVycyhlLHQucGF1c2VFdmVudHMsdGhpcy5wYXVzZUFuaW1hdGlvbikscmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZSx0LnJlc3VtZUV2ZW50cyx0aGlzLnJlc3VtZUFuaW1hdGlvbil9LHNldENvbG9yQ29uZmlnOmZ1bmN0aW9uKHQsZSl7Y29sb3JIZWxwZXJGcm9tLnNldCh0KSxjb2xvckhlbHBlclRvLnNldChlKSx0PXRoaXMuZnJvbUNvbG9yLGU9dGhpcy50b0NvbG9yLHQucj1jb2xvckhlbHBlckZyb20ucix0Lmc9Y29sb3JIZWxwZXJGcm9tLmcsdC5iPWNvbG9ySGVscGVyRnJvbS5iLGUucj1jb2xvckhlbHBlclRvLnIsZS5nPWNvbG9ySGVscGVyVG8uZyxlLmI9Y29sb3JIZWxwZXJUby5ifX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzXCI6MTgxLFwic3VwZXItYW5pbWVqc1wiOjM2fV0sNTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImNhbWVyYVwiLHtzY2hlbWE6e2FjdGl2ZTp7ZGVmYXVsdDohMH0sZmFyOntkZWZhdWx0OjFlNH0sZm92OntkZWZhdWx0OjgwLG1pbjowfSxuZWFyOntkZWZhdWx0Oi4wMDUsbWluOjB9LHNwZWN0YXRvcjp7ZGVmYXVsdDohMX0sem9vbTp7ZGVmYXVsdDoxLG1pbjowfX0saW5pdDpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lbDtlPXRoaXMuY2FtZXJhPW5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSx0LnNldE9iamVjdDNEKFwiY2FtZXJhXCIsZSl9LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmRhdGEsYT10aGlzLmNhbWVyYTthLmFzcGVjdD10LmFzcGVjdHx8d2luZG93LmlubmVyV2lkdGgvd2luZG93LmlubmVySGVpZ2h0LGEuZmFyPXQuZmFyLGEuZm92PXQuZm92LGEubmVhcj10Lm5lYXIsYS56b29tPXQuem9vbSxhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSx0aGlzLnVwZGF0ZUFjdGl2ZUNhbWVyYShlKSx0aGlzLnVwZGF0ZVNwZWN0YXRvckNhbWVyYShlKX0sdXBkYXRlQWN0aXZlQ2FtZXJhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YSxhPXRoaXMuZWwscj10aGlzLnN5c3RlbTtlJiZlLmFjdGl2ZT09PXQuYWN0aXZlfHx0LnNwZWN0YXRvcnx8KHQuYWN0aXZlJiZyLmFjdGl2ZUNhbWVyYUVsIT09YT9yLnNldEFjdGl2ZUNhbWVyYShhKTp0LmFjdGl2ZXx8ci5hY3RpdmVDYW1lcmFFbCE9PWF8fHIuZGlzYWJsZUFjdGl2ZUNhbWVyYSgpKX0sdXBkYXRlU3BlY3RhdG9yQ2FtZXJhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YSxhPXRoaXMuZWwscj10aGlzLnN5c3RlbTtlJiZlLnNwZWN0YXRvcj09PXQuc3BlY3RhdG9yfHwodC5zcGVjdGF0b3ImJnIuc3BlY3RhdG9yQ2FtZXJhRWwhPT1hP3Iuc2V0U3BlY3RhdG9yQ2FtZXJhKGEpOnQuc3BlY3RhdG9yfHxyLnNwZWN0YXRvckNhbWVyYUVsIT09YXx8ci5kaXNhYmxlU3BlY3RhdG9yQ2FtZXJhKCkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmVsLnJlbW92ZU9iamVjdDNEKFwiY2FtZXJhXCIpfX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDU3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKSxiaW5kPXV0aWxzLmJpbmQsRVZFTlRTPXtDTElDSzpcImNsaWNrXCIsRlVTSU5HOlwiZnVzaW5nXCIsTU9VU0VFTlRFUjpcIm1vdXNlZW50ZXJcIixNT1VTRURPV046XCJtb3VzZWRvd25cIixNT1VTRUxFQVZFOlwibW91c2VsZWF2ZVwiLE1PVVNFVVA6XCJtb3VzZXVwXCJ9LFNUQVRFUz17RlVTSU5HOlwiY3Vyc29yLWZ1c2luZ1wiLEhPVkVSSU5HOlwiY3Vyc29yLWhvdmVyaW5nXCIsSE9WRVJFRDpcImN1cnNvci1ob3ZlcmVkXCJ9LENBTlZBU19FVkVOVFM9e0RPV046W1wibW91c2Vkb3duXCIsXCJ0b3VjaHN0YXJ0XCJdLFVQOltcIm1vdXNldXBcIixcInRvdWNoZW5kXCJdfSxDQU5WQVNfSE9WRVJfQ0xBU1M9XCJhLW1vdXNlLWN1cnNvci1ob3ZlclwiO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImN1cnNvclwiLHtkZXBlbmRlbmNpZXM6W1wicmF5Y2FzdGVyXCJdLHNjaGVtYTp7ZG93bkV2ZW50czp7ZGVmYXVsdDpbXX0sZnVzZTp7ZGVmYXVsdDp1dGlscy5kZXZpY2UuaXNNb2JpbGUoKX0sZnVzZVRpbWVvdXQ6e2RlZmF1bHQ6MTUwMCxtaW46MH0sbW91c2VDdXJzb3JTdHlsZXNFbmFibGVkOntkZWZhdWx0OiEwfSx1cEV2ZW50czp7ZGVmYXVsdDpbXX0scmF5T3JpZ2luOntkZWZhdWx0OlwiZW50aXR5XCIsb25lT2Y6W1wibW91c2VcIixcImVudGl0eVwiXX19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZnVzZVRpbWVvdXQ9dm9pZCAwLHRoaXMuY3Vyc29yRG93bkVsPW51bGwsdGhpcy5pbnRlcnNlY3RlZEVsPW51bGwsdGhpcy5jYW52YXNCb3VuZHM9ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLmlzQ3Vyc29yRG93bj0hMSx0aGlzLnVwZGF0ZUNhbnZhc0JvdW5kcz11dGlscy5kZWJvdW5jZShmdW5jdGlvbigpe2UuY2FudmFzQm91bmRzPWUuZWwuc2NlbmVFbC5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9LDUwMCksdGhpcy5ldmVudERldGFpbD17fSx0aGlzLmludGVyc2VjdGVkRXZlbnREZXRhaWw9e2N1cnNvckVsOnRoaXMuZWx9LHRoaXMub25DdXJzb3JEb3duPWJpbmQodGhpcy5vbkN1cnNvckRvd24sdGhpcyksdGhpcy5vbkN1cnNvclVwPWJpbmQodGhpcy5vbkN1cnNvclVwLHRoaXMpLHRoaXMub25JbnRlcnNlY3Rpb249YmluZCh0aGlzLm9uSW50ZXJzZWN0aW9uLHRoaXMpLHRoaXMub25JbnRlcnNlY3Rpb25DbGVhcmVkPWJpbmQodGhpcy5vbkludGVyc2VjdGlvbkNsZWFyZWQsdGhpcyksdGhpcy5vbk1vdXNlTW92ZT1iaW5kKHRoaXMub25Nb3VzZU1vdmUsdGhpcyl9LHVwZGF0ZTpmdW5jdGlvbihlKXt0aGlzLmRhdGEucmF5T3JpZ2luIT09ZS5yYXlPcmlnaW4mJnRoaXMudXBkYXRlTW91c2VFdmVudExpc3RlbmVycygpfSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudExpc3RlbmVycygpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbDtlLnJlbW92ZVN0YXRlKFNUQVRFUy5IT1ZFUklORyksZS5yZW1vdmVTdGF0ZShTVEFURVMuRlVTSU5HKSxjbGVhclRpbWVvdXQodGhpcy5mdXNlVGltZW91dCksdGhpcy5pbnRlcnNlY3RlZEVsJiZ0aGlzLmludGVyc2VjdGVkRWwucmVtb3ZlU3RhdGUoU1RBVEVTLkhPVkVSRUQpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKX0sYWRkRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dD1uLnNjZW5lRWwuY2FudmFzLHMuZG93bkV2ZW50cy5sZW5ndGh8fHMudXBFdmVudHMubGVuZ3RofHwoQ0FOVkFTX0VWRU5UUy5ET1dOLmZvckVhY2goZnVuY3Rpb24oZSl7dC5hZGRFdmVudExpc3RlbmVyKGUsaS5vbkN1cnNvckRvd24pfSksQ0FOVkFTX0VWRU5UUy5VUC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuYWRkRXZlbnRMaXN0ZW5lcihlLGkub25DdXJzb3JVcCl9KSl9dmFyIHQscz10aGlzLmRhdGEsbj10aGlzLmVsLGk9dGhpczt0PW4uc2NlbmVFbC5jYW52YXMsdD9lKCk6bi5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJyZW5kZXItdGFyZ2V0LWxvYWRlZFwiLGUpLHMuZG93bkV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uYWRkRXZlbnRMaXN0ZW5lcihlLGkub25DdXJzb3JEb3duKX0pLHMudXBFdmVudHMuZm9yRWFjaChmdW5jdGlvbihlKXtuLmFkZEV2ZW50TGlzdGVuZXIoZSxpLm9uQ3Vyc29yVXApfSksbi5hZGRFdmVudExpc3RlbmVyKFwicmF5Y2FzdGVyLWludGVyc2VjdGlvblwiLHRoaXMub25JbnRlcnNlY3Rpb24pLG4uYWRkRXZlbnRMaXN0ZW5lcihcInJheWNhc3Rlci1pbnRlcnNlY3Rpb24tY2xlYXJlZFwiLHRoaXMub25JbnRlcnNlY3Rpb25DbGVhcmVkKSxuLnNjZW5lRWwuYWRkRXZlbnRMaXN0ZW5lcihcInJlbmRlcmVycmVzaXplXCIsdGhpcy51cGRhdGVDYW52YXNCb3VuZHMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy51cGRhdGVDYW52YXNCb3VuZHMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy51cGRhdGVDYW52YXNCb3VuZHMpLHRoaXMudXBkYXRlTW91c2VFdmVudExpc3RlbmVycygpfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5kYXRhLHM9dGhpcy5lbCxuPXRoaXM7ZT1zLnNjZW5lRWwuY2FudmFzLCFlfHx0LmRvd25FdmVudHMubGVuZ3RofHx0LnVwRXZlbnRzLmxlbmd0aHx8KENBTlZBU19FVkVOVFMuRE9XTi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4ub25DdXJzb3JEb3duKX0pLENBTlZBU19FVkVOVFMuVVAuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLm9uQ3Vyc29yVXApfSkpLHQuZG93bkV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4ub25DdXJzb3JEb3duKX0pLHQudXBFdmVudHMuZm9yRWFjaChmdW5jdGlvbihlKXtzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLm9uQ3Vyc29yVXApfSkscy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmF5Y2FzdGVyLWludGVyc2VjdGlvblwiLHRoaXMub25JbnRlcnNlY3Rpb24pLHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJheWNhc3Rlci1pbnRlcnNlY3Rpb24tY2xlYXJlZFwiLHRoaXMub25JbnRlcnNlY3Rpb25DbGVhcmVkKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm9uTW91c2VNb3ZlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbk1vdXNlTW92ZSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSkscy5zY2VuZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZW5kZXJlcnJlc2l6ZVwiLHRoaXMudXBkYXRlQ2FudmFzQm91bmRzKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMudXBkYXRlQ2FudmFzQm91bmRzKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMudXBkYXRlQ2FudmFzQm91bmRzKX0sdXBkYXRlTW91c2VFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lbDtlPXQuc2NlbmVFbC5jYW52YXMsZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSksdC5zZXRBdHRyaWJ1dGUoXCJyYXljYXN0ZXJcIixcInVzZVdvcmxkQ29vcmRpbmF0ZXNcIiwhMSksXCJtb3VzZVwiPT09dGhpcy5kYXRhLnJheU9yaWdpbiYmKGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3VzZU1vdmUsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMub25Nb3VzZU1vdmUsITEpLHQuc2V0QXR0cmlidXRlKFwicmF5Y2FzdGVyXCIsXCJ1c2VXb3JsZENvb3JkaW5hdGVzXCIsITApLHRoaXMudXBkYXRlQ2FudmFzQm91bmRzKCkpfSxvbk1vdXNlTW92ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyBUSFJFRS5WZWN0b3IzLHQ9bmV3IFRIUkVFLlZlY3RvcjIscz1uZXcgVEhSRUUuVmVjdG9yMyxuPXtvcmlnaW46cyxkaXJlY3Rpb246ZX07cmV0dXJuIGZ1bmN0aW9uKGkpe3ZhciBvLHIsYSx1PXRoaXMuY2FudmFzQm91bmRzLGM9dGhpcy5lbC5zY2VuZUVsLmNhbWVyYTtjLnBhcmVudC51cGRhdGVNYXRyaXhXb3JsZCgpLHI9XCJ0b3VjaG1vdmVcIj09PWkudHlwZXx8XCJ0b3VjaHN0YXJ0XCI9PT1pLnR5cGU/aS50b3VjaGVzLml0ZW0oMCk6aSxvPXIuY2xpZW50WC11LmxlZnQsYT1yLmNsaWVudFktdS50b3AsdC54PW8vdS53aWR0aCoyLTEsdC55PS1hL3UuaGVpZ2h0KjIrMSxzLnNldEZyb21NYXRyaXhQb3NpdGlvbihjLm1hdHJpeFdvcmxkKSxlLnNldCh0LngsdC55LC41KS51bnByb2plY3QoYykuc3ViKHMpLm5vcm1hbGl6ZSgpLHRoaXMuZWwuc2V0QXR0cmlidXRlKFwicmF5Y2FzdGVyXCIsbiksXCJ0b3VjaG1vdmVcIj09PWkudHlwZSYmaS5wcmV2ZW50RGVmYXVsdCgpfX0oKSxvbkN1cnNvckRvd246ZnVuY3Rpb24oZSl7dGhpcy5pc0N1cnNvckRvd249ITAsXCJtb3VzZVwiPT09dGhpcy5kYXRhLnJheU9yaWdpbiYmXCJ0b3VjaHN0YXJ0XCI9PT1lLnR5cGUmJih0aGlzLm9uTW91c2VNb3ZlKGUpLHRoaXMuZWwuY29tcG9uZW50cy5yYXljYXN0ZXIuY2hlY2tJbnRlcnNlY3Rpb25zKCksZS5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLnR3b1dheUVtaXQoRVZFTlRTLk1PVVNFRE9XTiksdGhpcy5jdXJzb3JEb3duRWw9dGhpcy5pbnRlcnNlY3RlZEVsfSxvbkN1cnNvclVwOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNDdXJzb3JEb3duKXt0aGlzLmlzQ3Vyc29yRG93bj0hMTt2YXIgdD10aGlzLmRhdGE7dGhpcy50d29XYXlFbWl0KEVWRU5UUy5NT1VTRVVQKSx0aGlzLmN1cnNvckRvd25FbCYmdGhpcy5jdXJzb3JEb3duRWwhPT10aGlzLmludGVyc2VjdGVkRWwmJih0aGlzLmludGVyc2VjdGVkRXZlbnREZXRhaWwuaW50ZXJzZWN0aW9uPW51bGwsdGhpcy5jdXJzb3JEb3duRWwuZW1pdChFVkVOVFMuTU9VU0VVUCx0aGlzLmludGVyc2VjdGVkRXZlbnREZXRhaWwpKSx0LmZ1c2UmJlwibW91c2VcIiE9PXQucmF5T3JpZ2lufHwhdGhpcy5pbnRlcnNlY3RlZEVsfHx0aGlzLmN1cnNvckRvd25FbCE9PXRoaXMuaW50ZXJzZWN0ZWRFbHx8dGhpcy50d29XYXlFbWl0KEVWRU5UUy5DTElDSyksdGhpcy5jdXJzb3JEb3duRWw9bnVsbCxcInRvdWNoZW5kXCI9PT1lLnR5cGUmJmUucHJldmVudERlZmF1bHQoKX19LG9uSW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0LHMsbixpLG89dGhpcy5lbDtzPWUuZGV0YWlsLmVsc1swXT09PW8/MTowLGk9ZS5kZXRhaWwuaW50ZXJzZWN0aW9uc1tzXSwobj1lLmRldGFpbC5lbHNbc10pJiZ0aGlzLmludGVyc2VjdGVkRWwhPT1uJiYodGhpcy5pbnRlcnNlY3RlZEVsJiYodD10aGlzLmVsLmNvbXBvbmVudHMucmF5Y2FzdGVyLmdldEludGVyc2VjdGlvbih0aGlzLmludGVyc2VjdGVkRWwpKSYmdC5kaXN0YW5jZTw9aS5kaXN0YW5jZXx8KHRoaXMuY2xlYXJDdXJyZW50SW50ZXJzZWN0aW9uKCEwKSx0aGlzLnNldEludGVyc2VjdGlvbihuLGkpKSl9LG9uSW50ZXJzZWN0aW9uQ2xlYXJlZDpmdW5jdGlvbihlKXstMSE9PWUuZGV0YWlsLmNsZWFyZWRFbHMuaW5kZXhPZih0aGlzLmludGVyc2VjdGVkRWwpJiZ0aGlzLmNsZWFyQ3VycmVudEludGVyc2VjdGlvbigpfSxzZXRJbnRlcnNlY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgcz10aGlzLmVsLG49dGhpcy5kYXRhLGk9dGhpczt0aGlzLmludGVyc2VjdGVkRWwhPT1lJiYodGhpcy5pbnRlcnNlY3RlZEVsPWUscy5hZGRTdGF0ZShTVEFURVMuSE9WRVJJTkcpLGUuYWRkU3RhdGUoU1RBVEVTLkhPVkVSRUQpLHRoaXMudHdvV2F5RW1pdChFVkVOVFMuTU9VU0VFTlRFUiksdGhpcy5kYXRhLm1vdXNlQ3Vyc29yU3R5bGVzRW5hYmxlZCYmXCJtb3VzZVwiPT09dGhpcy5kYXRhLnJheU9yaWdpbiYmdGhpcy5lbC5zY2VuZUVsLmNhbnZhcy5jbGFzc0xpc3QuYWRkKENBTlZBU19IT1ZFUl9DTEFTUyksMCE9PW4uZnVzZVRpbWVvdXQmJm4uZnVzZSYmKHMuYWRkU3RhdGUoU1RBVEVTLkZVU0lORyksdGhpcy50d29XYXlFbWl0KEVWRU5UUy5GVVNJTkcpLHRoaXMuZnVzZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3MucmVtb3ZlU3RhdGUoU1RBVEVTLkZVU0lORyksaS50d29XYXlFbWl0KEVWRU5UUy5DTElDSyl9LG4uZnVzZVRpbWVvdXQpKSl9LGNsZWFyQ3VycmVudEludGVyc2VjdGlvbjpmdW5jdGlvbihlKXt2YXIgdCxzLG4saT10aGlzLmVsO3RoaXMuaW50ZXJzZWN0ZWRFbCYmKHRoaXMuaW50ZXJzZWN0ZWRFbC5yZW1vdmVTdGF0ZShTVEFURVMuSE9WRVJFRCksaS5yZW1vdmVTdGF0ZShTVEFURVMuSE9WRVJJTkcpLGkucmVtb3ZlU3RhdGUoU1RBVEVTLkZVU0lORyksdGhpcy50d29XYXlFbWl0KEVWRU5UUy5NT1VTRUxFQVZFKSx0aGlzLmRhdGEubW91c2VDdXJzb3JTdHlsZXNFbmFibGVkJiZcIm1vdXNlXCI9PT10aGlzLmRhdGEucmF5T3JpZ2luJiZ0aGlzLmVsLnNjZW5lRWwuY2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoQ0FOVkFTX0hPVkVSX0NMQVNTKSx0aGlzLmludGVyc2VjdGVkRWw9bnVsbCxjbGVhclRpbWVvdXQodGhpcy5mdXNlVGltZW91dCksITAhPT1lJiYobj10aGlzLmVsLmNvbXBvbmVudHMucmF5Y2FzdGVyLmludGVyc2VjdGlvbnMsMCE9PW4ubGVuZ3RoJiYodD1uWzBdLm9iamVjdC5lbD09PWk/MTowLChzPW5bdF0pJiZ0aGlzLnNldEludGVyc2VjdGlvbihzLm9iamVjdC5lbCxzKSkpKX0sdHdvV2F5RW1pdDpmdW5jdGlvbihlKXt2YXIgdCxzPXRoaXMuZWwsbj10aGlzLmludGVyc2VjdGVkRWw7dD10aGlzLmVsLmNvbXBvbmVudHMucmF5Y2FzdGVyLmdldEludGVyc2VjdGlvbihuKSx0aGlzLmV2ZW50RGV0YWlsLmludGVyc2VjdGVkRWw9bix0aGlzLmV2ZW50RGV0YWlsLmludGVyc2VjdGlvbj10LHMuZW1pdChlLHRoaXMuZXZlbnREZXRhaWwpLG4mJih0aGlzLmludGVyc2VjdGVkRXZlbnREZXRhaWwuaW50ZXJzZWN0aW9uPXQsbi5lbWl0KGUsdGhpcy5pbnRlcnNlY3RlZEV2ZW50RGV0YWlsKSl9fSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vdXRpbHMvXCI6MTgxfV0sNTg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxiaW5kPV9kZXJlcV8oXCIuLi91dGlscy9iaW5kXCIpLHRyYWNrZWRDb250cm9sc1V0aWxzPV9kZXJlcV8oXCIuLi91dGlscy90cmFja2VkLWNvbnRyb2xzXCIpLGNoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cD10cmFja2VkQ29udHJvbHNVdGlscy5jaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXAsZW1pdElmQXhlc0NoYW5nZWQ9dHJhY2tlZENvbnRyb2xzVXRpbHMuZW1pdElmQXhlc0NoYW5nZWQsb25CdXR0b25FdmVudD10cmFja2VkQ29udHJvbHNVdGlscy5vbkJ1dHRvbkV2ZW50LERBWURSRUFNX0NPTlRST0xMRVJfTU9ERUxfQkFTRV9VUkw9XCJodHRwczovL2Nkbi5hZnJhbWUuaW8vY29udHJvbGxlcnMvZ29vZ2xlL1wiLERBWURSRUFNX0NPTlRST0xMRVJfTU9ERUxfT0JKX1VSTD1EQVlEUkVBTV9DT05UUk9MTEVSX01PREVMX0JBU0VfVVJMK1widnJfY29udHJvbGxlcl9kYXlkcmVhbS5vYmpcIixEQVlEUkVBTV9DT05UUk9MTEVSX01PREVMX09CSl9NVEw9REFZRFJFQU1fQ09OVFJPTExFUl9NT0RFTF9CQVNFX1VSTCtcInZyX2NvbnRyb2xsZXJfZGF5ZHJlYW0ubXRsXCIsaXNXZWJYUkF2YWlsYWJsZT1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLmRldmljZS5pc1dlYlhSQXZhaWxhYmxlLEdBTUVQQURfSURfV0VCWFI9XCJnb29nbGUtZGF5ZHJlYW1cIixHQU1FUEFEX0lEX1dFQlZSPVwiRGF5ZHJlYW0gQ29udHJvbGxlclwiLEdBTUVQQURfSURfUFJFRklYPWlzV2ViWFJBdmFpbGFibGU/R0FNRVBBRF9JRF9XRUJYUjpHQU1FUEFEX0lEX1dFQlZSO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImRheWRyZWFtLWNvbnRyb2xzXCIse3NjaGVtYTp7aGFuZDp7ZGVmYXVsdDpcIlwifSxidXR0b25Db2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDAwMDBcIn0sYnV0dG9uVG91Y2hlZENvbG9yOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzc3Nzc3N1wifSxidXR0b25IaWdobGlnaHRDb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiNGRkZGRkZcIn0sbW9kZWw6e2RlZmF1bHQ6ITB9LG9yaWVudGF0aW9uT2Zmc2V0Ont0eXBlOlwidmVjM1wifSxhcm1Nb2RlbDp7ZGVmYXVsdDohMH19LG1hcHBpbmc6e2F4ZXM6e3RyYWNrcGFkOlswLDFdfSxidXR0b25zOltcInRyYWNrcGFkXCIsXCJtZW51XCIsXCJzeXN0ZW1cIl19LGJpbmRNZXRob2RzOmZ1bmN0aW9uKCl7dGhpcy5vbk1vZGVsTG9hZGVkPWJpbmQodGhpcy5vbk1vZGVsTG9hZGVkLHRoaXMpLHRoaXMub25Db250cm9sbGVyc1VwZGF0ZT1iaW5kKHRoaXMub25Db250cm9sbGVyc1VwZGF0ZSx0aGlzKSx0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudD1iaW5kKHRoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50LHRoaXMpLHRoaXMucmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcj1iaW5kKHRoaXMucmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcix0aGlzKSx0aGlzLm9uQXhpc01vdmVkPWJpbmQodGhpcy5vbkF4aXNNb3ZlZCx0aGlzKX0saW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5vbkJ1dHRvbkNoYW5nZWQ9YmluZCh0aGlzLm9uQnV0dG9uQ2hhbmdlZCx0aGlzKSx0aGlzLm9uQnV0dG9uRG93bj1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwiZG93blwiLHQpfSx0aGlzLm9uQnV0dG9uVXA9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInVwXCIsdCl9LHRoaXMub25CdXR0b25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJ0b3VjaHN0YXJ0XCIsdCl9LHRoaXMub25CdXR0b25Ub3VjaEVuZD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidG91Y2hlbmRcIix0KX0sdGhpcy5jb250cm9sbGVyUHJlc2VudD0hMSx0aGlzLmxhc3RDb250cm9sbGVyQ2hlY2s9MCx0aGlzLmJpbmRNZXRob2RzKCl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksdC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQnV0dG9uVG91Y2hTdGFydCksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uQnV0dG9uVG91Y2hFbmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdC5hZGRFdmVudExpc3RlbmVyKFwiYXhpc21vdmVcIix0aGlzLm9uQXhpc01vdmVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITB9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQnV0dG9uVG91Y2hTdGFydCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uQnV0dG9uVG91Y2hFbmQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXhpc21vdmVcIix0aGlzLm9uQXhpc01vdmVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITF9LGNoZWNrSWZDb250cm9sbGVyUHJlc2VudDpmdW5jdGlvbigpe2NoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cCh0aGlzLEdBTUVQQURfSURfUFJFRklYLHtoYW5kOnRoaXMuZGF0YS5oYW5kfSl9LHBsYXk6ZnVuY3Rpb24oKXt0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCgpLHRoaXMuYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcigpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0saW5qZWN0VHJhY2tlZENvbnRyb2xzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbCxlPXRoaXMuZGF0YTt0LnNldEF0dHJpYnV0ZShcInRyYWNrZWQtY29udHJvbHNcIix7YXJtTW9kZWw6ZS5hcm1Nb2RlbCxoYW5kOmUuaGFuZCxpZFByZWZpeDpHQU1FUEFEX0lEX1BSRUZJWCxvcmllbnRhdGlvbk9mZnNldDplLm9yaWVudGF0aW9uT2Zmc2V0fSksdGhpcy5kYXRhLm1vZGVsJiZ0aGlzLmVsLnNldEF0dHJpYnV0ZShcIm9iai1tb2RlbFwiLHtvYmo6REFZRFJFQU1fQ09OVFJPTExFUl9NT0RFTF9PQkpfVVJMLG10bDpEQVlEUkVBTV9DT05UUk9MTEVSX01PREVMX09CSl9NVEx9KX0sYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0scmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0sb25Db250cm9sbGVyc1VwZGF0ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50KCl9LG9uTW9kZWxMb2FkZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbz10LmRldGFpbC5tb2RlbDt0aGlzLmRhdGEubW9kZWwmJihlPXRoaXMuYnV0dG9uTWVzaGVzPXt9LGUubWVudT1vLmdldE9iamVjdEJ5TmFtZShcIkFwcEJ1dHRvbl9BcHBCdXR0b25fQ3lsaW5kZXIuMDA0XCIpLGUuc3lzdGVtPW8uZ2V0T2JqZWN0QnlOYW1lKFwiSG9tZUJ1dHRvbl9Ib21lQnV0dG9uX0N5bGluZGVyLjAwNVwiKSxlLnRyYWNrcGFkPW8uZ2V0T2JqZWN0QnlOYW1lKFwiVG91Y2hQYWRfVG91Y2hQYWRfQ3lsaW5kZXIuMDAzXCIpLG8ucG9zaXRpb24uc2V0KDAsMCwtLjA0KSl9LG9uQXhpc01vdmVkOmZ1bmN0aW9uKHQpe2VtaXRJZkF4ZXNDaGFuZ2VkKHRoaXMsdGhpcy5tYXBwaW5nLmF4ZXMsdCl9LG9uQnV0dG9uQ2hhbmdlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1hcHBpbmcuYnV0dG9uc1t0LmRldGFpbC5pZF07ZSYmdGhpcy5lbC5lbWl0KGUrXCJjaGFuZ2VkXCIsdC5kZXRhaWwuc3RhdGUpfSx1cGRhdGVNb2RlbDpmdW5jdGlvbih0LGUpe3RoaXMuZGF0YS5tb2RlbCYmdGhpcy51cGRhdGVCdXR0b25Nb2RlbCh0LGUpfSx1cGRhdGVCdXR0b25Nb2RlbDpmdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMuYnV0dG9uTWVzaGVzO2lmKG8mJm9bdF0pe3ZhciBuO3N3aXRjaChlKXtjYXNlXCJkb3duXCI6bj10aGlzLmRhdGEuYnV0dG9uSGlnaGxpZ2h0Q29sb3I7YnJlYWs7Y2FzZVwidG91Y2hzdGFydFwiOm49dGhpcy5kYXRhLmJ1dHRvblRvdWNoZWRDb2xvcjticmVhaztkZWZhdWx0Om49dGhpcy5kYXRhLmJ1dHRvbkNvbG9yfW9bdF0ubWF0ZXJpYWwuY29sb3Iuc2V0KG4pfX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi91dGlscy9cIjoxODEsXCIuLi91dGlscy9iaW5kXCI6MTc1LFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiOjE4OX1dLDU5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsYmluZD1fZGVyZXFfKFwiLi4vdXRpbHMvYmluZFwiKSx0cmFja2VkQ29udHJvbHNVdGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiKSxjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXA9dHJhY2tlZENvbnRyb2xzVXRpbHMuY2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwLGVtaXRJZkF4ZXNDaGFuZ2VkPXRyYWNrZWRDb250cm9sc1V0aWxzLmVtaXRJZkF4ZXNDaGFuZ2VkLG9uQnV0dG9uRXZlbnQ9dHJhY2tlZENvbnRyb2xzVXRpbHMub25CdXR0b25FdmVudCxpc1dlYlhSQXZhaWxhYmxlPV9kZXJlcV8oXCIuLi91dGlscy9cIikuZGV2aWNlLmlzV2ViWFJBdmFpbGFibGUsR0VBUlZSX0NPTlRST0xMRVJfTU9ERUxfQkFTRV9VUkw9XCJodHRwczovL2Nkbi5hZnJhbWUuaW8vY29udHJvbGxlcnMvc2Ftc3VuZy9cIixHRUFSVlJfQ09OVFJPTExFUl9NT0RFTF9PQkpfVVJMPUdFQVJWUl9DT05UUk9MTEVSX01PREVMX0JBU0VfVVJMK1wiZ2Vhcl92cl9jb250cm9sbGVyLm9ialwiLEdFQVJWUl9DT05UUk9MTEVSX01PREVMX09CSl9NVEw9R0VBUlZSX0NPTlRST0xMRVJfTU9ERUxfQkFTRV9VUkwrXCJnZWFyX3ZyX2NvbnRyb2xsZXIubXRsXCIsR0FNRVBBRF9JRF9XRUJYUj1cInNhbXN1bmctZ2VhcnZyXCIsR0FNRVBBRF9JRF9XRUJWUj1cIkdlYXIgVlJcIixHQU1FUEFEX0lEX1BSRUZJWD1pc1dlYlhSQXZhaWxhYmxlP0dBTUVQQURfSURfV0VCWFI6R0FNRVBBRF9JRF9XRUJWUixJTlBVVF9NQVBQSU5HX1dFQlZSPXtheGVzOnt0cmFja3BhZDpbMCwxXX0sYnV0dG9uczpbXCJ0cmFja3BhZFwiLFwidHJpZ2dlclwiXX0sSU5QVVRfTUFQUElOR19XRUJYUj17bGVmdDp7YXhlczp7dG91Y2hwYWQ6WzAsMV19LGJ1dHRvbnM6W1widHJpZ2dlclwiLFwibm9uZVwiLFwidG91Y2hwYWRcIixcIm1lbnVcIl19LHJpZ2h0OntheGVzOnt0b3VjaHBhZDpbMCwxXX0sYnV0dG9uczpbXCJ0cmlnZ2VyXCIsXCJub25lXCIsXCJ0b3VjaHBhZFwiLFwibWVudVwiXX19LElOUFVUX01BUFBJTkc9aXNXZWJYUkF2YWlsYWJsZT9JTlBVVF9NQVBQSU5HX1dFQlhSOklOUFVUX01BUFBJTkdfV0VCVlI7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwiZ2VhcnZyLWNvbnRyb2xzXCIse3NjaGVtYTp7aGFuZDp7ZGVmYXVsdDpcIlwifSxidXR0b25Db2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDAwMDBcIn0sYnV0dG9uVG91Y2hlZENvbG9yOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzc3Nzc3N1wifSxidXR0b25IaWdobGlnaHRDb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiNGRkZGRkZcIn0sbW9kZWw6e2RlZmF1bHQ6ITB9LG9yaWVudGF0aW9uT2Zmc2V0Ont0eXBlOlwidmVjM1wifSxhcm1Nb2RlbDp7ZGVmYXVsdDohMH19LG1hcHBpbmc6SU5QVVRfTUFQUElORyxiaW5kTWV0aG9kczpmdW5jdGlvbigpe3RoaXMub25Nb2RlbExvYWRlZD1iaW5kKHRoaXMub25Nb2RlbExvYWRlZCx0aGlzKSx0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGU9YmluZCh0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsdGhpcyksdGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQ9YmluZCh0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCx0aGlzKSx0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXI9YmluZCh0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIsdGhpcyksdGhpcy5vbkF4aXNNb3ZlZD1iaW5kKHRoaXMub25BeGlzTW92ZWQsdGhpcyl9LGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMub25CdXR0b25DaGFuZ2VkPWJpbmQodGhpcy5vbkJ1dHRvbkNoYW5nZWQsdGhpcyksdGhpcy5vbkJ1dHRvbkRvd249ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcImRvd25cIix0KX0sdGhpcy5vbkJ1dHRvblVwPWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJ1cFwiLHQpfSx0aGlzLm9uQnV0dG9uVG91Y2hTdGFydD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidG91Y2hzdGFydFwiLHQpfSx0aGlzLm9uQnV0dG9uVG91Y2hFbmQ9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInRvdWNoZW5kXCIsdCl9LHRoaXMuY29udHJvbGxlclByZXNlbnQ9ITEsdGhpcy5sYXN0Q29udHJvbGxlckNoZWNrPTAsdGhpcy5iaW5kTWV0aG9kcygpfSxhZGRFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb2RlbC1sb2FkZWRcIix0aGlzLm9uTW9kZWxMb2FkZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSEwfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb2RlbC1sb2FkZWRcIix0aGlzLm9uTW9kZWxMb2FkZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSExfSxjaGVja0lmQ29udHJvbGxlclByZXNlbnQ6ZnVuY3Rpb24oKXtjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXAodGhpcyxHQU1FUEFEX0lEX1BSRUZJWCx0aGlzLmRhdGEuaGFuZD97aGFuZDp0aGlzLmRhdGEuaGFuZH06e30pfSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQoKSx0aGlzLmFkZENvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyKCl9LGluamVjdFRyYWNrZWRDb250cm9sczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwsZT10aGlzLmRhdGE7dC5zZXRBdHRyaWJ1dGUoXCJ0cmFja2VkLWNvbnRyb2xzXCIse2FybU1vZGVsOmUuYXJtTW9kZWwsaGFuZDplLmhhbmQsaWRQcmVmaXg6R0FNRVBBRF9JRF9QUkVGSVgsaWQ6R0FNRVBBRF9JRF9QUkVGSVgsb3JpZW50YXRpb25PZmZzZXQ6ZS5vcmllbnRhdGlvbk9mZnNldH0pLHRoaXMuZGF0YS5tb2RlbCYmdGhpcy5lbC5zZXRBdHRyaWJ1dGUoXCJvYmotbW9kZWxcIix7b2JqOkdFQVJWUl9DT05UUk9MTEVSX01PREVMX09CSl9VUkwsbXRsOkdFQVJWUl9DT05UUk9MTEVSX01PREVMX09CSl9NVEx9KX0sYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0scmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0sb25Db250cm9sbGVyc1VwZGF0ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50KCl9LG9uTW9kZWxMb2FkZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbj10LmRldGFpbC5tb2RlbDt0aGlzLmRhdGEubW9kZWwmJihlPXRoaXMuYnV0dG9uTWVzaGVzPXt9LGUudHJpZ2dlcj1uLmNoaWxkcmVuWzJdLGUudHJhY2twYWQ9bi5jaGlsZHJlblsxXSl9LG9uQnV0dG9uQ2hhbmdlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1hcHBpbmcuYnV0dG9uc1t0LmRldGFpbC5pZF07ZSYmdGhpcy5lbC5lbWl0KGUrXCJjaGFuZ2VkXCIsdC5kZXRhaWwuc3RhdGUpfSxvbkF4aXNNb3ZlZDpmdW5jdGlvbih0KXtlbWl0SWZBeGVzQ2hhbmdlZCh0aGlzLHRoaXMubWFwcGluZy5heGVzLHQpfSx1cGRhdGVNb2RlbDpmdW5jdGlvbih0LGUpe3RoaXMuZGF0YS5tb2RlbCYmdGhpcy51cGRhdGVCdXR0b25Nb2RlbCh0LGUpfSx1cGRhdGVCdXR0b25Nb2RlbDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYnV0dG9uTWVzaGVzO2lmKG4mJm5bdF0pe3ZhciBvO3N3aXRjaChlKXtjYXNlXCJkb3duXCI6bz10aGlzLmRhdGEuYnV0dG9uSGlnaGxpZ2h0Q29sb3I7YnJlYWs7Y2FzZVwidG91Y2hzdGFydFwiOm89dGhpcy5kYXRhLmJ1dHRvblRvdWNoZWRDb2xvcjticmVhaztkZWZhdWx0Om89dGhpcy5kYXRhLmJ1dHRvbkNvbG9yfW5bdF0ubWF0ZXJpYWwuY29sb3Iuc2V0KG8pfX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi91dGlscy9cIjoxODEsXCIuLi91dGlscy9iaW5kXCI6MTc1LFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiOjE4OX1dLDYwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsYmluZD1fZGVyZXFfKFwiLi4vdXRpbHMvYmluZFwiKSx0cmFja2VkQ29udHJvbHNVdGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiKSxjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXA9dHJhY2tlZENvbnRyb2xzVXRpbHMuY2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwLGVtaXRJZkF4ZXNDaGFuZ2VkPXRyYWNrZWRDb250cm9sc1V0aWxzLmVtaXRJZkF4ZXNDaGFuZ2VkLG9uQnV0dG9uRXZlbnQ9dHJhY2tlZENvbnRyb2xzVXRpbHMub25CdXR0b25FdmVudCxHQU1FUEFEX0lEX1BSRUZJWD1cImdlbmVyaWNcIixJTlBVVF9NQVBQSU5HPXtheGVzOnt0b3VjaHBhZDpbMCwxXSx0aHVtYnN0aWNrOlsyLDNdfSxidXR0b25zOltcInRyaWdnZXJcIixcInNxdWVlemVcIixcInRvdWNocGFkXCIsXCJ0aHVtYnN0aWNrXCJdfTttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJnZW5lcmljLXRyYWNrZWQtY29udHJvbGxlci1jb250cm9sc1wiLHtzY2hlbWE6e2hhbmQ6e2RlZmF1bHQ6XCJcIn0sZGVmYXVsdE1vZGVsOntkZWZhdWx0OiEwfSxkZWZhdWx0TW9kZWxDb2xvcjp7ZGVmYXVsdDpcImdyYXlcIn0sb3JpZW50YXRpb25PZmZzZXQ6e3R5cGU6XCJ2ZWMzXCJ9fSxtYXBwaW5nOklOUFVUX01BUFBJTkcsYmluZE1ldGhvZHM6ZnVuY3Rpb24oKXt0aGlzLm9uTW9kZWxMb2FkZWQ9YmluZCh0aGlzLm9uTW9kZWxMb2FkZWQsdGhpcyksdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlPWJpbmQodGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLHRoaXMpLHRoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50PWJpbmQodGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQsdGhpcyksdGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyPWJpbmQodGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyLHRoaXMpLHRoaXMub25BeGlzTW92ZWQ9YmluZCh0aGlzLm9uQXhpc01vdmVkLHRoaXMpfSxpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm9uQnV0dG9uQ2hhbmdlZD1iaW5kKHRoaXMub25CdXR0b25DaGFuZ2VkLHRoaXMpLHRoaXMub25CdXR0b25Eb3duPWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJkb3duXCIsdCl9LHRoaXMub25CdXR0b25VcD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidXBcIix0KX0sdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInRvdWNoc3RhcnRcIix0KX0sdGhpcy5vbkJ1dHRvblRvdWNoRW5kPWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJ0b3VjaGVuZFwiLHQpfSx0aGlzLmNvbnRyb2xsZXJQcmVzZW50PSExLHRoaXMubGFzdENvbnRyb2xsZXJDaGVjaz0wLHRoaXMucmVuZGVyZXJTeXN0ZW09dGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMucmVuZGVyZXIsdGhpcy5iaW5kTWV0aG9kcygpfSxhZGRFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb2RlbC1sb2FkZWRcIix0aGlzLm9uTW9kZWxMb2FkZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSEwfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJheGlzbW92ZVwiLHRoaXMub25BeGlzTW92ZWQpLHRoaXMuY29udHJvbGxlckV2ZW50c0FjdGl2ZT0hMX0sY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhLGU9dC5oYW5kP3QuaGFuZDp2b2lkIDA7Y2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwKHRoaXMsR0FNRVBBRF9JRF9QUkVGSVgse2hhbmQ6ZSxpdGVyYXRlQ29udHJvbGxlclByb2ZpbGVzOiEwfSl9LHBsYXk6ZnVuY3Rpb24oKXt0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCgpLHRoaXMuYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcigpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0saW5qZWN0VHJhY2tlZENvbnRyb2xzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbCxlPXRoaXMuZGF0YTt0aGlzLmVsLmNvbXBvbmVudHNbXCJ0cmFja2VkLWNvbnRyb2xzXCJdfHwodC5zZXRBdHRyaWJ1dGUoXCJ0cmFja2VkLWNvbnRyb2xzXCIse2hhbmQ6ZS5oYW5kLGlkUHJlZml4OkdBTUVQQURfSURfUFJFRklYLG9yaWVudGF0aW9uT2Zmc2V0OmUub3JpZW50YXRpb25PZmZzZXQsaXRlcmF0ZUNvbnRyb2xsZXJQcm9maWxlczohMH0pLHRoaXMuZGF0YS5kZWZhdWx0TW9kZWwmJnRoaXMuaW5pdERlZmF1bHRNb2RlbCgpKX0sYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0scmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0sb25Db250cm9sbGVyc1VwZGF0ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50KCl9LG9uQnV0dG9uQ2hhbmdlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1hcHBpbmcuYnV0dG9uc1t0LmRldGFpbC5pZF07ZSYmdGhpcy5lbC5lbWl0KGUrXCJjaGFuZ2VkXCIsdC5kZXRhaWwuc3RhdGUpfSxvbkF4aXNNb3ZlZDpmdW5jdGlvbih0KXtlbWl0SWZBeGVzQ2hhbmdlZCh0aGlzLHRoaXMubWFwcGluZy5heGVzLHQpfSxpbml0RGVmYXVsdE1vZGVsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tb2RlbEVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKTt0LnNldEF0dHJpYnV0ZShcImdlb21ldHJ5XCIse3ByaW1pdGl2ZTpcInNwaGVyZVwiLHJhZGl1czouMDN9KSx0LnNldEF0dHJpYnV0ZShcIm1hdGVyaWFsXCIse2NvbG9yOnRoaXMuZGF0YS5jb2xvcn0pLHRoaXMuZWwuYXBwZW5kQ2hpbGQodCl9fSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vdXRpbHMvYmluZFwiOjE3NSxcIi4uL3V0aWxzL3RyYWNrZWQtY29udHJvbHNcIjoxODl9XSw2MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgZ2VvbWV0cmllcz1fZGVyZXFfKFwiLi4vY29yZS9nZW9tZXRyeVwiKS5nZW9tZXRyaWVzLGdlb21ldHJ5TmFtZXM9X2RlcmVxXyhcIi4uL2NvcmUvZ2VvbWV0cnlcIikuZ2VvbWV0cnlOYW1lcyxyZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSxkdW1teUdlb21ldHJ5PW5ldyBUSFJFRS5HZW9tZXRyeTttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJnZW9tZXRyeVwiLHtzY2hlbWE6e2J1ZmZlcjp7ZGVmYXVsdDohMH0scHJpbWl0aXZlOntkZWZhdWx0OlwiYm94XCIsb25lT2Y6Z2VvbWV0cnlOYW1lcyxzY2hlbWFDaGFuZ2U6ITB9LHNraXBDYWNoZTp7ZGVmYXVsdDohMX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5PW51bGx9LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxyPXRoaXMuZGF0YSxtPXRoaXMuZWwsbz10aGlzLnN5c3RlbTt0aGlzLmdlb21ldHJ5JiYoby51bnVzZUdlb21ldHJ5KGUpLHRoaXMuZ2VvbWV0cnk9bnVsbCksdGhpcy5nZW9tZXRyeT1vLmdldE9yQ3JlYXRlR2VvbWV0cnkociksdD1tLmdldE9iamVjdDNEKFwibWVzaFwiKSx0P3QuZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeToodD1uZXcgVEhSRUUuTWVzaCx0Lmdlb21ldHJ5PXRoaXMuZ2VvbWV0cnksbS5zZXRPYmplY3QzRChcIm1lc2hcIix0KSl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuc3lzdGVtLnVudXNlR2VvbWV0cnkodGhpcy5kYXRhKSx0aGlzLmVsLmdldE9iamVjdDNEKFwibWVzaFwiKS5nZW9tZXRyeT1kdW1teUdlb21ldHJ5LHRoaXMuZ2VvbWV0cnk9bnVsbH0sdXBkYXRlU2NoZW1hOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub2xkRGF0YSYmdGhpcy5vbGREYXRhLnByaW1pdGl2ZSxyPWUucHJpbWl0aXZlLG09Z2VvbWV0cmllc1tyXSYmZ2VvbWV0cmllc1tyXS5zY2hlbWE7aWYoIW0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBnZW9tZXRyeSBzY2hlbWEgYFwiK3IrXCJgXCIpO3QmJnQ9PT1yfHx0aGlzLmV4dGVuZFNjaGVtYShtKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sNjI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLHV0aWxzPV9kZXJlcV8oXCIuLi91dGlscy9cIiksd2Fybj11dGlscy5kZWJ1ZyhcImNvbXBvbmVudHM6Z2x0Zi1tb2RlbDp3YXJuXCIpO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImdsdGYtbW9kZWxcIix7c2NoZW1hOnt0eXBlOlwibW9kZWxcIn0saW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3lzdGVtLmdldERSQUNPTG9hZGVyKCk7dGhpcy5tb2RlbD1udWxsLHRoaXMubG9hZGVyPW5ldyBUSFJFRS5HTFRGTG9hZGVyLGUmJnRoaXMubG9hZGVyLnNldERSQUNPTG9hZGVyKGUpfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG89dGhpcy5lbCx0PXRoaXMuZGF0YTt0JiYodGhpcy5yZW1vdmUoKSx0aGlzLmxvYWRlci5sb2FkKHQsZnVuY3Rpb24odCl7ZS5tb2RlbD10LnNjZW5lfHx0LnNjZW5lc1swXSxlLm1vZGVsLmFuaW1hdGlvbnM9dC5hbmltYXRpb25zLG8uc2V0T2JqZWN0M0QoXCJtZXNoXCIsZS5tb2RlbCksby5lbWl0KFwibW9kZWwtbG9hZGVkXCIse2Zvcm1hdDpcImdsdGZcIixtb2RlbDplLm1vZGVsfSl9LHZvaWQgMCxmdW5jdGlvbihlKXt2YXIgcj1lJiZlLm1lc3NhZ2U/ZS5tZXNzYWdlOlwiRmFpbGVkIHRvIGxvYWQgZ2xURiBtb2RlbFwiO3dhcm4ociksby5lbWl0KFwibW9kZWwtZXJyb3JcIix7Zm9ybWF0OlwiZ2x0ZlwiLHNyYzp0fSl9KSl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMubW9kZWwmJnRoaXMuZWwucmVtb3ZlT2JqZWN0M0QoXCJtZXNoXCIpfX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL1wiOjE4MX1dLDYzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGdldEdlc3R1cmVFdmVudE5hbWUodCxlKXt2YXIgbjtpZih0KXJldHVybiBuPUVWRU5UU1t0XSxcImdyaXBcIj09PW4/bisoZT9cImNsb3NlXCI6XCJvcGVuXCIpOlwicG9pbnRcIj09PW4/bisoZT9cInVwXCI6XCJkb3duXCIpOlwicG9pbnRpbmdcIj09PW58fFwicGlzdG9sXCI9PT1uP24rKGU/XCJzdGFydFwiOlwiZW5kXCIpOnZvaWQgMH1mdW5jdGlvbiBpc1ZpdmVDb250cm9sbGVyKHQpe3ZhciBlPXQmJnQuY29udHJvbGxlcjtyZXR1cm4gZSYmKGUuaWQmJjA9PT1lLmlkLmluZGV4T2YoXCJPcGVuVlIgXCIpfHxlLnByb2ZpbGVzJiZlLnByb2ZpbGVzWzBdJiZcImh0Yy12aXZlLWNvbnRyb2xsZXItbXZcIj09PWUucHJvZmlsZXNbMF0pfXZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsTU9ERUxfVVJMUz17bGVmdDpcImh0dHBzOi8vY2RuLmFmcmFtZS5pby9jb250cm9sbGVycy9oYW5kcy9sZWZ0SGFuZC5nbGJcIixyaWdodDpcImh0dHBzOi8vY2RuLmFmcmFtZS5pby9jb250cm9sbGVycy9oYW5kcy9yaWdodEhhbmQuZ2xiXCJ9LEFOSU1BVElPTlM9e29wZW46XCJPcGVuXCIscG9pbnQ6XCJQb2ludFwiLHBvaW50VGh1bWI6XCJQb2ludCArIFRodW1iXCIsZmlzdDpcIkZpc3RcIixob2xkOlwiSG9sZFwiLHRodW1iVXA6XCJUaHVtYiBVcFwifSxFVkVOVFM9e307RVZFTlRTW0FOSU1BVElPTlMuZmlzdF09XCJncmlwXCIsRVZFTlRTW0FOSU1BVElPTlMudGh1bWJVcF09XCJwaXN0b2xcIixFVkVOVFNbQU5JTUFUSU9OUy5wb2ludF09XCJwb2ludGluZ1wiLG1vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImhhbmQtY29udHJvbHNcIix7c2NoZW1hOntkZWZhdWx0OlwibGVmdFwifSxpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZWw7dGhpcy5nZXN0dXJlPUFOSU1BVElPTlMub3Blbix0aGlzLnByZXNzZWRCdXR0b25zPXt9LHRoaXMudG91Y2hlZEJ1dHRvbnM9e30sdGhpcy5sb2FkZXI9bmV3IFRIUkVFLkdMVEZMb2FkZXIsdGhpcy5sb2FkZXIuc2V0Q3Jvc3NPcmlnaW4oXCJhbm9ueW1vdXNcIiksdGhpcy5vbkdyaXBEb3duPWZ1bmN0aW9uKCl7dC5oYW5kbGVCdXR0b24oXCJncmlwXCIsXCJkb3duXCIpfSx0aGlzLm9uR3JpcFVwPWZ1bmN0aW9uKCl7dC5oYW5kbGVCdXR0b24oXCJncmlwXCIsXCJ1cFwiKX0sdGhpcy5vblRyYWNrcGFkRG93bj1mdW5jdGlvbigpe3QuaGFuZGxlQnV0dG9uKFwidHJhY2twYWRcIixcImRvd25cIil9LHRoaXMub25UcmFja3BhZFVwPWZ1bmN0aW9uKCl7dC5oYW5kbGVCdXR0b24oXCJ0cmFja3BhZFwiLFwidXBcIil9LHRoaXMub25UcmFja3BhZFRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRyYWNrcGFkXCIsXCJ0b3VjaHN0YXJ0XCIpfSx0aGlzLm9uVHJhY2twYWRUb3VjaEVuZD1mdW5jdGlvbigpe3QuaGFuZGxlQnV0dG9uKFwidHJhY2twYWRcIixcInRvdWNoZW5kXCIpfSx0aGlzLm9uVHJpZ2dlckRvd249ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRyaWdnZXJcIixcImRvd25cIil9LHRoaXMub25UcmlnZ2VyVXA9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRyaWdnZXJcIixcInVwXCIpfSx0aGlzLm9uVHJpZ2dlclRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRyaWdnZXJcIixcInRvdWNoc3RhcnRcIil9LHRoaXMub25UcmlnZ2VyVG91Y2hFbmQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRyaWdnZXJcIixcInRvdWNoZW5kXCIpfSx0aGlzLm9uR3JpcFRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcImdyaXBcIixcInRvdWNoc3RhcnRcIil9LHRoaXMub25HcmlwVG91Y2hFbmQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcImdyaXBcIixcInRvdWNoZW5kXCIpfSx0aGlzLm9uVGh1bWJzdGlja0Rvd249ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRodW1ic3RpY2tcIixcImRvd25cIil9LHRoaXMub25UaHVtYnN0aWNrVXA9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInRodW1ic3RpY2tcIixcInVwXCIpfSx0aGlzLm9uQW9yWFRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcIkFvclhcIixcInRvdWNoc3RhcnRcIil9LHRoaXMub25Bb3JYVG91Y2hFbmQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcIkFvclhcIixcInRvdWNoZW5kXCIpfSx0aGlzLm9uQm9yWVRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcIkJvcllcIixcInRvdWNoc3RhcnRcIil9LHRoaXMub25Cb3JZVG91Y2hFbmQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcIkJvcllcIixcInRvdWNoZW5kXCIpfSx0aGlzLm9uU3VyZmFjZVRvdWNoU3RhcnQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInN1cmZhY2VcIixcInRvdWNoc3RhcnRcIil9LHRoaXMub25TdXJmYWNlVG91Y2hFbmQ9ZnVuY3Rpb24oKXt0LmhhbmRsZUJ1dHRvbihcInN1cmZhY2VcIixcInRvdWNoZW5kXCIpfSx0aGlzLm9uQ29udHJvbGxlckNvbm5lY3RlZD10aGlzLm9uQ29udHJvbGxlckNvbm5lY3RlZC5iaW5kKHRoaXMpLHRoaXMub25Db250cm9sbGVyRGlzY29ubmVjdGVkPXRoaXMub25Db250cm9sbGVyRGlzY29ubmVjdGVkLmJpbmQodGhpcyksZS5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcmNvbm5lY3RlZFwiLHRoaXMub25Db250cm9sbGVyQ29ubmVjdGVkKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyZGlzY29ubmVjdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJEaXNjb25uZWN0ZWQpLGUub2JqZWN0M0QudmlzaWJsZT0hMX0scGxheTpmdW5jdGlvbigpe3RoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCl9LHRpY2s6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmVsLmdldE9iamVjdDNEKFwibWVzaFwiKTtuJiZuLm1peGVyJiZuLm1peGVyLnVwZGF0ZShlLzFlMyl9LG9uQ29udHJvbGxlckNvbm5lY3RlZDpmdW5jdGlvbigpe3RoaXMuZWwub2JqZWN0M0QudmlzaWJsZT0hMH0sb25Db250cm9sbGVyRGlzY29ubmVjdGVkOmZ1bmN0aW9uKCl7dGhpcy5lbC5vYmplY3QzRC52aXNpYmxlPSExfSxhZGRFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5hZGRFdmVudExpc3RlbmVyKFwiZ3JpcGRvd25cIix0aGlzLm9uR3JpcERvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImdyaXB1cFwiLHRoaXMub25HcmlwVXApLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrcGFkZG93blwiLHRoaXMub25UcmFja3BhZERvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrcGFkdXBcIix0aGlzLm9uVHJhY2twYWRVcCksdC5hZGRFdmVudExpc3RlbmVyKFwidHJhY2twYWR0b3VjaHN0YXJ0XCIsdGhpcy5vblRyYWNrcGFkVG91Y2hTdGFydCksdC5hZGRFdmVudExpc3RlbmVyKFwidHJhY2twYWR0b3VjaGVuZFwiLHRoaXMub25UcmFja3BhZFRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmlnZ2VyZG93blwiLHRoaXMub25UcmlnZ2VyRG93biksdC5hZGRFdmVudExpc3RlbmVyKFwidHJpZ2dlcnVwXCIsdGhpcy5vblRyaWdnZXJVcCksdC5hZGRFdmVudExpc3RlbmVyKFwidHJpZ2dlcnRvdWNoc3RhcnRcIix0aGlzLm9uVHJpZ2dlclRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRyaWdnZXJ0b3VjaGVuZFwiLHRoaXMub25UcmlnZ2VyVG91Y2hFbmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImdyaXB0b3VjaHN0YXJ0XCIsdGhpcy5vbkdyaXBUb3VjaFN0YXJ0KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJncmlwdG91Y2hlbmRcIix0aGlzLm9uR3JpcFRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0aHVtYnN0aWNrZG93blwiLHRoaXMub25UaHVtYnN0aWNrRG93biksdC5hZGRFdmVudExpc3RlbmVyKFwidGh1bWJzdGlja3VwXCIsdGhpcy5vblRodW1ic3RpY2tVcCksdC5hZGRFdmVudExpc3RlbmVyKFwiYWJ1dHRvbnRvdWNoc3RhcnRcIix0aGlzLm9uQW9yWFRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImFidXR0b250b3VjaGVuZFwiLHRoaXMub25Bb3JYVG91Y2hFbmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJidXR0b250b3VjaHN0YXJ0XCIsdGhpcy5vbkJvcllUb3VjaFN0YXJ0KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJiYnV0dG9udG91Y2hlbmRcIix0aGlzLm9uQm9yWVRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ4YnV0dG9udG91Y2hzdGFydFwiLHRoaXMub25Bb3JYVG91Y2hTdGFydCksdC5hZGRFdmVudExpc3RlbmVyKFwieGJ1dHRvbnRvdWNoZW5kXCIsdGhpcy5vbkFvclhUb3VjaEVuZCksdC5hZGRFdmVudExpc3RlbmVyKFwieWJ1dHRvbnRvdWNoc3RhcnRcIix0aGlzLm9uQm9yWVRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInlidXR0b250b3VjaGVuZFwiLHRoaXMub25Cb3JZVG91Y2hFbmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInN1cmZhY2V0b3VjaHN0YXJ0XCIsdGhpcy5vblN1cmZhY2VUb3VjaFN0YXJ0KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdXJmYWNldG91Y2hlbmRcIix0aGlzLm9uU3VyZmFjZVRvdWNoRW5kKX0scmVtb3ZlRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImdyaXBkb3duXCIsdGhpcy5vbkdyaXBEb3duKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJncmlwdXBcIix0aGlzLm9uR3JpcFVwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja3BhZGRvd25cIix0aGlzLm9uVHJhY2twYWREb3duKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja3BhZHVwXCIsdGhpcy5vblRyYWNrcGFkVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrcGFkdG91Y2hzdGFydFwiLHRoaXMub25UcmFja3BhZFRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrcGFkdG91Y2hlbmRcIix0aGlzLm9uVHJhY2twYWRUb3VjaEVuZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJpZ2dlcmRvd25cIix0aGlzLm9uVHJpZ2dlckRvd24pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyaWdnZXJ1cFwiLHRoaXMub25UcmlnZ2VyVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyaWdnZXJ0b3VjaHN0YXJ0XCIsdGhpcy5vblRyaWdnZXJUb3VjaFN0YXJ0KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmlnZ2VydG91Y2hlbmRcIix0aGlzLm9uVHJpZ2dlclRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJncmlwdG91Y2hzdGFydFwiLHRoaXMub25HcmlwVG91Y2hTdGFydCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZ3JpcHRvdWNoZW5kXCIsdGhpcy5vbkdyaXBUb3VjaEVuZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidGh1bWJzdGlja2Rvd25cIix0aGlzLm9uVGh1bWJzdGlja0Rvd24pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRodW1ic3RpY2t1cFwiLHRoaXMub25UaHVtYnN0aWNrVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFidXR0b250b3VjaHN0YXJ0XCIsdGhpcy5vbkFvclhUb3VjaFN0YXJ0KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYnV0dG9udG91Y2hlbmRcIix0aGlzLm9uQW9yWFRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiYnV0dG9udG91Y2hzdGFydFwiLHRoaXMub25Cb3JZVG91Y2hTdGFydCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmJ1dHRvbnRvdWNoZW5kXCIsdGhpcy5vbkJvcllUb3VjaEVuZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwieGJ1dHRvbnRvdWNoc3RhcnRcIix0aGlzLm9uQW9yWFRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInhidXR0b250b3VjaGVuZFwiLHRoaXMub25Bb3JYVG91Y2hFbmQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInlidXR0b250b3VjaHN0YXJ0XCIsdGhpcy5vbkJvcllUb3VjaFN0YXJ0KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ5YnV0dG9udG91Y2hlbmRcIix0aGlzLm9uQm9yWVRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdXJmYWNldG91Y2hzdGFydFwiLHRoaXMub25TdXJmYWNlVG91Y2hTdGFydCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VyZmFjZXRvdWNoZW5kXCIsdGhpcy5vblN1cmZhY2VUb3VjaEVuZCl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuZWwsbz10aGlzLmRhdGEsaT10aGlzO2U9e2hhbmQ6byxtb2RlbDohMSxvcmllbnRhdGlvbk9mZnNldDp7eDowLHk6MCx6OlwibGVmdFwiPT09bz85MDotOTB9fSxvIT09dCYmdGhpcy5sb2FkZXIubG9hZChNT0RFTF9VUkxTW29dLGZ1bmN0aW9uKHQpe3ZhciBvPXQuc2NlbmUuY2hpbGRyZW5bMF07by5taXhlcj1uZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIobyksaS5jbGlwcz10LmFuaW1hdGlvbnMsbi5zZXRPYmplY3QzRChcIm1lc2hcIixvKSxvLnBvc2l0aW9uLnNldCgwLDAsMCksby5yb3RhdGlvbi5zZXQoMCwwLDApLG4uc2V0QXR0cmlidXRlKFwidml2ZS1jb250cm9sc1wiLGUpLG4uc2V0QXR0cmlidXRlKFwib2N1bHVzLXRvdWNoLWNvbnRyb2xzXCIsZSksbi5zZXRBdHRyaWJ1dGUoXCJ3aW5kb3dzLW1vdGlvbi1jb250cm9sc1wiLGUpfSl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZWwucmVtb3ZlT2JqZWN0M0QoXCJtZXNoXCIpfSxoYW5kbGVCdXR0b246ZnVuY3Rpb24odCxlKXt2YXIgbixvPVwiZG93blwiPT09ZSxpPVwidG91Y2hzdGFydFwiPT09ZTtpZigwPT09ZS5pbmRleE9mKFwidG91Y2hcIikpe2lmKGk9PT10aGlzLnRvdWNoZWRCdXR0b25zW3RdKXJldHVybjt0aGlzLnRvdWNoZWRCdXR0b25zW3RdPWl9ZWxzZXtpZihvPT09dGhpcy5wcmVzc2VkQnV0dG9uc1t0XSlyZXR1cm47dGhpcy5wcmVzc2VkQnV0dG9uc1t0XT1vfW49dGhpcy5nZXN0dXJlLHRoaXMuZ2VzdHVyZT10aGlzLmRldGVybWluZUdlc3R1cmUoKSx0aGlzLmdlc3R1cmUhPT1uJiYodGhpcy5hbmltYXRlR2VzdHVyZSh0aGlzLmdlc3R1cmUsbiksdGhpcy5lbWl0R2VzdHVyZUV2ZW50cyh0aGlzLmdlc3R1cmUsbikpfSxkZXRlcm1pbmVHZXN0dXJlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnByZXNzZWRCdXR0b25zLmdyaXAsbj10aGlzLnByZXNzZWRCdXR0b25zLnN1cmZhY2V8fHRoaXMudG91Y2hlZEJ1dHRvbnMuc3VyZmFjZSxvPXRoaXMucHJlc3NlZEJ1dHRvbnMudHJhY2twYWR8fHRoaXMudG91Y2hlZEJ1dHRvbnMudHJhY2twYWQsaT10aGlzLnByZXNzZWRCdXR0b25zLnRyaWdnZXJ8fHRoaXMudG91Y2hlZEJ1dHRvbnMudHJpZ2dlcixyPXRoaXMudG91Y2hlZEJ1dHRvbnMuQW9yWHx8dGhpcy50b3VjaGVkQnV0dG9ucy5Cb3JZO3JldHVybiBpc1ZpdmVDb250cm9sbGVyKHRoaXMuZWwuY29tcG9uZW50c1tcInRyYWNrZWQtY29udHJvbHNcIl0pP2V8fGk/dD1BTklNQVRJT05TLmZpc3Q6byYmKHQ9QU5JTUFUSU9OUy5wb2ludCk6ZT90PW58fHJ8fG8/aT9BTklNQVRJT05TLmZpc3Q6QU5JTUFUSU9OUy5wb2ludDppP0FOSU1BVElPTlMudGh1bWJVcDpBTklNQVRJT05TLnBvaW50VGh1bWI6aSYmKHQ9QU5JTUFUSU9OUy5ob2xkKSx0fSxnZXRDbGlwOmZ1bmN0aW9uKHQpe3ZhciBlLG47Zm9yKG49MDtuPHRoaXMuY2xpcHMubGVuZ3RoO24rKylpZihlPXRoaXMuY2xpcHNbbl0sZS5uYW1lPT09dClyZXR1cm4gZX0sYW5pbWF0ZUdlc3R1cmU6ZnVuY3Rpb24odCxlKXtpZih0KXJldHVybiB2b2lkIHRoaXMucGxheUFuaW1hdGlvbih0fHxBTklNQVRJT05TLm9wZW4sZSwhMSk7dGhpcy5wbGF5QW5pbWF0aW9uKGUsZSwhMCl9LGVtaXRHZXN0dXJlRXZlbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIG4sbz10aGlzLmVsO2UhPT10JiYobj1nZXRHZXN0dXJlRXZlbnROYW1lKGUsITEpLG4mJm8uZW1pdChuKSwobj1nZXRHZXN0dXJlRXZlbnROYW1lKHQsITApKSYmby5lbWl0KG4pKX0scGxheUFuaW1hdGlvbjpmdW5jdGlvbih0LGUsbil7dmFyIG8saSxyLHM9dGhpcy5lbC5nZXRPYmplY3QzRChcIm1lc2hcIik7aWYocyl7aWYocy5taXhlci5zdG9wQWxsQWN0aW9uKCksbz10aGlzLmdldENsaXAodCkscj1zLm1peGVyLmNsaXBBY3Rpb24obyksci5jbGFtcFdoZW5GaW5pc2hlZD0hMCxyLmxvb3A9VEhSRUUuTG9vcFJlcGVhdCxyLnJlcGV0aXRpb25zPTAsci50aW1lU2NhbGU9bj8tMToxLHIudGltZT1uP28uZHVyYXRpb246MCxyLndlaWdodD0xLCFlfHx0PT09ZSlyZXR1cm4gcy5taXhlci5zdG9wQWxsQWN0aW9uKCksdm9pZCByLnBsYXkoKTtvPXRoaXMuZ2V0Q2xpcChlKSxpPXMubWl4ZXIuY2xpcEFjdGlvbihvKSxpLndlaWdodD0uMTUsaS5wbGF5KCksci5wbGF5KCksaS5jcm9zc0ZhZGVUbyhyLC4xNSwhMCl9fX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOH1dLDY0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbl9kZXJlcV8oXCIuL2FuaW1hdGlvblwiKSxfZGVyZXFfKFwiLi9jYW1lcmFcIiksX2RlcmVxXyhcIi4vY3Vyc29yXCIpLF9kZXJlcV8oXCIuL2RheWRyZWFtLWNvbnRyb2xzXCIpLF9kZXJlcV8oXCIuL2dlYXJ2ci1jb250cm9sc1wiKSxfZGVyZXFfKFwiLi9nZW9tZXRyeVwiKSxfZGVyZXFfKFwiLi9nZW5lcmljLXRyYWNrZWQtY29udHJvbGxlci1jb250cm9sc1wiKSxfZGVyZXFfKFwiLi9nbHRmLW1vZGVsXCIpLF9kZXJlcV8oXCIuL2hhbmQtY29udHJvbHNcIiksX2RlcmVxXyhcIi4vbGFzZXItY29udHJvbHNcIiksX2RlcmVxXyhcIi4vbGlnaHRcIiksX2RlcmVxXyhcIi4vbGluZVwiKSxfZGVyZXFfKFwiLi9saW5rXCIpLF9kZXJlcV8oXCIuL2xvb2stY29udHJvbHNcIiksX2RlcmVxXyhcIi4vbWF0ZXJpYWxcIiksX2RlcmVxXyhcIi4vb2JqLW1vZGVsXCIpLF9kZXJlcV8oXCIuL29jdWx1cy1nby1jb250cm9sc1wiKSxfZGVyZXFfKFwiLi9vY3VsdXMtdG91Y2gtY29udHJvbHNcIiksX2RlcmVxXyhcIi4vcG9zaXRpb25cIiksX2RlcmVxXyhcIi4vcmF5Y2FzdGVyXCIpLF9kZXJlcV8oXCIuL3JvdGF0aW9uXCIpLF9kZXJlcV8oXCIuL3NjYWxlXCIpLF9kZXJlcV8oXCIuL3NoYWRvd1wiKSxfZGVyZXFfKFwiLi9zb3VuZFwiKSxfZGVyZXFfKFwiLi90ZXh0XCIpLF9kZXJlcV8oXCIuL3RyYWNrZWQtY29udHJvbHNcIiksX2RlcmVxXyhcIi4vdHJhY2tlZC1jb250cm9scy13ZWJ2clwiKSxfZGVyZXFfKFwiLi90cmFja2VkLWNvbnRyb2xzLXdlYnhyXCIpLF9kZXJlcV8oXCIuL3Zpc2libGVcIiksX2RlcmVxXyhcIi4vdml2ZS1jb250cm9sc1wiKSxfZGVyZXFfKFwiLi92aXZlLWZvY3VzLWNvbnRyb2xzXCIpLF9kZXJlcV8oXCIuL3dhc2QtY29udHJvbHNcIiksX2RlcmVxXyhcIi4vd2luZG93cy1tb3Rpb24tY29udHJvbHNcIiksX2RlcmVxXyhcIi4vc2NlbmUvYmFja2dyb3VuZFwiKSxfZGVyZXFfKFwiLi9zY2VuZS9kZWJ1Z1wiKSxfZGVyZXFfKFwiLi9zY2VuZS9kZXZpY2Utb3JpZW50YXRpb24tcGVybWlzc2lvbi11aVwiKSxfZGVyZXFfKFwiLi9zY2VuZS9lbWJlZGRlZFwiKSxfZGVyZXFfKFwiLi9zY2VuZS9pbnNwZWN0b3JcIiksX2RlcmVxXyhcIi4vc2NlbmUvZm9nXCIpLF9kZXJlcV8oXCIuL3NjZW5lL2tleWJvYXJkLXNob3J0Y3V0c1wiKSxfZGVyZXFfKFwiLi9zY2VuZS9wb29sXCIpLF9kZXJlcV8oXCIuL3NjZW5lL3NjcmVlbnNob3RcIiksX2RlcmVxXyhcIi4vc2NlbmUvc3RhdHNcIiksX2RlcmVxXyhcIi4vc2NlbmUvdnItbW9kZS11aVwiKTtcbn0se1wiLi9hbmltYXRpb25cIjo1NSxcIi4vY2FtZXJhXCI6NTYsXCIuL2N1cnNvclwiOjU3LFwiLi9kYXlkcmVhbS1jb250cm9sc1wiOjU4LFwiLi9nZWFydnItY29udHJvbHNcIjo1OSxcIi4vZ2VuZXJpYy10cmFja2VkLWNvbnRyb2xsZXItY29udHJvbHNcIjo2MCxcIi4vZ2VvbWV0cnlcIjo2MSxcIi4vZ2x0Zi1tb2RlbFwiOjYyLFwiLi9oYW5kLWNvbnRyb2xzXCI6NjMsXCIuL2xhc2VyLWNvbnRyb2xzXCI6NjUsXCIuL2xpZ2h0XCI6NjYsXCIuL2xpbmVcIjo2NyxcIi4vbGlua1wiOjY4LFwiLi9sb29rLWNvbnRyb2xzXCI6NjksXCIuL21hdGVyaWFsXCI6NzAsXCIuL29iai1tb2RlbFwiOjcxLFwiLi9vY3VsdXMtZ28tY29udHJvbHNcIjo3MixcIi4vb2N1bHVzLXRvdWNoLWNvbnRyb2xzXCI6NzMsXCIuL3Bvc2l0aW9uXCI6NzQsXCIuL3JheWNhc3RlclwiOjc1LFwiLi9yb3RhdGlvblwiOjc2LFwiLi9zY2FsZVwiOjc3LFwiLi9zY2VuZS9iYWNrZ3JvdW5kXCI6NzgsXCIuL3NjZW5lL2RlYnVnXCI6NzksXCIuL3NjZW5lL2RldmljZS1vcmllbnRhdGlvbi1wZXJtaXNzaW9uLXVpXCI6ODAsXCIuL3NjZW5lL2VtYmVkZGVkXCI6ODEsXCIuL3NjZW5lL2ZvZ1wiOjgyLFwiLi9zY2VuZS9pbnNwZWN0b3JcIjo4MyxcIi4vc2NlbmUva2V5Ym9hcmQtc2hvcnRjdXRzXCI6ODQsXCIuL3NjZW5lL3Bvb2xcIjo4NSxcIi4vc2NlbmUvc2NyZWVuc2hvdFwiOjg2LFwiLi9zY2VuZS9zdGF0c1wiOjg3LFwiLi9zY2VuZS92ci1tb2RlLXVpXCI6ODgsXCIuL3NoYWRvd1wiOjg5LFwiLi9zb3VuZFwiOjkwLFwiLi90ZXh0XCI6OTEsXCIuL3RyYWNrZWQtY29udHJvbHNcIjo5NCxcIi4vdHJhY2tlZC1jb250cm9scy13ZWJ2clwiOjkyLFwiLi90cmFja2VkLWNvbnRyb2xzLXdlYnhyXCI6OTMsXCIuL3Zpc2libGVcIjo5NSxcIi4vdml2ZS1jb250cm9sc1wiOjk2LFwiLi92aXZlLWZvY3VzLWNvbnRyb2xzXCI6OTcsXCIuL3dhc2QtY29udHJvbHNcIjo5OCxcIi4vd2luZG93cy1tb3Rpb24tY29udHJvbHNcIjo5OX1dLDY1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKTtyZWdpc3RlckNvbXBvbmVudChcImxhc2VyLWNvbnRyb2xzXCIse3NjaGVtYTp7aGFuZDp7ZGVmYXVsdDpcInJpZ2h0XCJ9LG1vZGVsOntkZWZhdWx0OiEwfSxkZWZhdWx0TW9kZWxDb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcImdyZXlcIn19LGluaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciByPWVbdC5kZXRhaWwubmFtZV07aWYocil7dmFyIG89dXRpbHMuZXh0ZW5kKHtzaG93TGluZTohMH0sci5yYXljYXN0ZXJ8fHt9KTt0LmRldGFpbC5yYXlPcmlnaW4mJihvLm9yaWdpbj10LmRldGFpbC5yYXlPcmlnaW4ub3JpZ2luLG8uZGlyZWN0aW9uPXQuZGV0YWlsLnJheU9yaWdpbi5kaXJlY3Rpb24sby5zaG93TGluZT0hMCksdC5kZXRhaWwucmF5T3JpZ2lufHwhaS5tb2RlbFJlYWR5P24uc2V0QXR0cmlidXRlKFwicmF5Y2FzdGVyXCIsbyk6bi5zZXRBdHRyaWJ1dGUoXCJyYXljYXN0ZXJcIixcInNob3dMaW5lXCIsITApLG4uc2V0QXR0cmlidXRlKFwiY3Vyc29yXCIsdXRpbHMuZXh0ZW5kKHtmdXNlOiExfSxyLmN1cnNvcikpfX1mdW5jdGlvbiByKCl7bi5zZXRBdHRyaWJ1dGUoXCJyYXljYXN0ZXJcIixcInNob3dMaW5lXCIsITEpfXZhciBlPXRoaXMuY29uZmlnLG89dGhpcy5kYXRhLG49dGhpcy5lbCxpPXRoaXMscz17aGFuZDpvLmhhbmQsbW9kZWw6by5tb2RlbH07bi5zZXRBdHRyaWJ1dGUoXCJkYXlkcmVhbS1jb250cm9sc1wiLHMpLG4uc2V0QXR0cmlidXRlKFwiZ2VhcnZyLWNvbnRyb2xzXCIscyksbi5zZXRBdHRyaWJ1dGUoXCJvY3VsdXMtZ28tY29udHJvbHNcIixzKSxuLnNldEF0dHJpYnV0ZShcIm9jdWx1cy10b3VjaC1jb250cm9sc1wiLHMpLG4uc2V0QXR0cmlidXRlKFwidml2ZS1jb250cm9sc1wiLHMpLG4uc2V0QXR0cmlidXRlKFwidml2ZS1mb2N1cy1jb250cm9sc1wiLHMpLG4uc2V0QXR0cmlidXRlKFwid2luZG93cy1tb3Rpb24tY29udHJvbHNcIixzKSxuLnNldEF0dHJpYnV0ZShcImdlbmVyaWMtdHJhY2tlZC1jb250cm9sbGVyLWNvbnRyb2xzXCIscyksbi5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcmNvbm5lY3RlZFwiLHQpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJkaXNjb25uZWN0ZWRcIixyKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVybW9kZWxyZWFkeVwiLGZ1bmN0aW9uKHIpe3QociksaS5tb2RlbFJlYWR5PSEwfSl9LGNvbmZpZzp7XCJkYXlkcmVhbS1jb250cm9sc1wiOntjdXJzb3I6e2Rvd25FdmVudHM6W1widHJhY2twYWRkb3duXCIsXCJ0cmlnZ2VyZG93blwiXSx1cEV2ZW50czpbXCJ0cmFja3BhZHVwXCIsXCJ0cmlnZ2VydXBcIl19fSxcImdlYXJ2ci1jb250cm9sc1wiOntjdXJzb3I6e2Rvd25FdmVudHM6W1widHJpZ2dlcmRvd25cIl0sdXBFdmVudHM6W1widHJpZ2dlcnVwXCJdfSxyYXljYXN0ZXI6e29yaWdpbjp7eDowLHk6LjAwMSx6OjB9fX0sXCJnZW5lcmljLXRyYWNrZWQtY29udHJvbGxlci1jb250cm9sc1wiOntjdXJzb3I6e2Rvd25FdmVudHM6W1widHJpZ2dlcmRvd25cIl0sdXBFdmVudHM6W1widHJpZ2dlcnVwXCJdfX0sXCJvY3VsdXMtZ28tY29udHJvbHNcIjp7Y3Vyc29yOntkb3duRXZlbnRzOltcInRyaWdnZXJkb3duXCJdLHVwRXZlbnRzOltcInRyaWdnZXJ1cFwiXX0scmF5Y2FzdGVyOntvcmlnaW46e3g6MCx5OjVlLTQsejowfX19LFwib2N1bHVzLXRvdWNoLWNvbnRyb2xzXCI6e2N1cnNvcjp7ZG93bkV2ZW50czpbXCJ0cmlnZ2VyZG93blwiXSx1cEV2ZW50czpbXCJ0cmlnZ2VydXBcIl19LHJheWNhc3Rlcjp7b3JpZ2luOnt4OjAseTowLHo6MH19fSxcInZpdmUtY29udHJvbHNcIjp7Y3Vyc29yOntkb3duRXZlbnRzOltcInRyaWdnZXJkb3duXCJdLHVwRXZlbnRzOltcInRyaWdnZXJ1cFwiXX19LFwidml2ZS1mb2N1cy1jb250cm9sc1wiOntjdXJzb3I6e2Rvd25FdmVudHM6W1widHJhY2twYWRkb3duXCIsXCJ0cmlnZ2VyZG93blwiXSx1cEV2ZW50czpbXCJ0cmFja3BhZHVwXCIsXCJ0cmlnZ2VydXBcIl19fSxcIndpbmRvd3MtbW90aW9uLWNvbnRyb2xzXCI6e2N1cnNvcjp7ZG93bkV2ZW50czpbXCJ0cmlnZ2VyZG93blwiXSx1cEV2ZW50czpbXCJ0cmlnZ2VydXBcIl19LHJheWNhc3Rlcjp7c2hvd0xpbmU6ITF9fX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi91dGlscy9cIjoxODF9XSw2NjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgYmluZD1fZGVyZXFfKFwiLi4vdXRpbHMvYmluZFwiKSxkaWZmPV9kZXJlcV8oXCIuLi91dGlsc1wiKS5kaWZmLGRlYnVnPV9kZXJlcV8oXCIuLi91dGlscy9kZWJ1Z1wiKSxyZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSxkZWdUb1JhZD1USFJFRS5NYXRoLmRlZ1RvUmFkLHdhcm49ZGVidWcoXCJjb21wb25lbnRzOmxpZ2h0Ondhcm5cIik7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwibGlnaHRcIix7c2NoZW1hOnthbmdsZTp7ZGVmYXVsdDo2MCxpZjp7dHlwZTpbXCJzcG90XCJdfX0sY29sb3I6e3R5cGU6XCJjb2xvclwifSxncm91bmRDb2xvcjp7dHlwZTpcImNvbG9yXCIsaWY6e3R5cGU6W1wiaGVtaXNwaGVyZVwiXX19LGRlY2F5OntkZWZhdWx0OjEsaWY6e3R5cGU6W1wicG9pbnRcIixcInNwb3RcIl19fSxkaXN0YW5jZTp7ZGVmYXVsdDowLG1pbjowLGlmOnt0eXBlOltcInBvaW50XCIsXCJzcG90XCJdfX0saW50ZW5zaXR5OntkZWZhdWx0OjEsbWluOjAsaWY6e3R5cGU6W1wiYW1iaWVudFwiLFwiZGlyZWN0aW9uYWxcIixcImhlbWlzcGhlcmVcIixcInBvaW50XCIsXCJzcG90XCJdfX0scGVudW1icmE6e2RlZmF1bHQ6MCxtaW46MCxtYXg6MSxpZjp7dHlwZTpbXCJzcG90XCJdfX0sdHlwZTp7ZGVmYXVsdDpcImRpcmVjdGlvbmFsXCIsb25lT2Y6W1wiYW1iaWVudFwiLFwiZGlyZWN0aW9uYWxcIixcImhlbWlzcGhlcmVcIixcInBvaW50XCIsXCJzcG90XCJdLHNjaGVtYUNoYW5nZTohMH0sdGFyZ2V0Ont0eXBlOlwic2VsZWN0b3JcIixpZjp7dHlwZTpbXCJzcG90XCIsXCJkaXJlY3Rpb25hbFwiXX19LGNhc3RTaGFkb3c6e2RlZmF1bHQ6ITEsaWY6e3R5cGU6W1wicG9pbnRcIixcInNwb3RcIixcImRpcmVjdGlvbmFsXCJdfX0sc2hhZG93Qmlhczp7ZGVmYXVsdDowLGlmOntjYXN0U2hhZG93OiEwfX0sc2hhZG93Q2FtZXJhRmFyOntkZWZhdWx0OjUwMCxpZjp7Y2FzdFNoYWRvdzohMH19LHNoYWRvd0NhbWVyYUZvdjp7ZGVmYXVsdDo5MCxpZjp7Y2FzdFNoYWRvdzohMH19LHNoYWRvd0NhbWVyYU5lYXI6e2RlZmF1bHQ6LjUsaWY6e2Nhc3RTaGFkb3c6ITB9fSxzaGFkb3dDYW1lcmFUb3A6e2RlZmF1bHQ6NSxpZjp7Y2FzdFNoYWRvdzohMH19LHNoYWRvd0NhbWVyYVJpZ2h0OntkZWZhdWx0OjUsaWY6e2Nhc3RTaGFkb3c6ITB9fSxzaGFkb3dDYW1lcmFCb3R0b206e2RlZmF1bHQ6LTUsaWY6e2Nhc3RTaGFkb3c6ITB9fSxzaGFkb3dDYW1lcmFMZWZ0OntkZWZhdWx0Oi01LGlmOntjYXN0U2hhZG93OiEwfX0sc2hhZG93Q2FtZXJhVmlzaWJsZTp7ZGVmYXVsdDohMSxpZjp7Y2FzdFNoYWRvdzohMH19LHNoYWRvd01hcEhlaWdodDp7ZGVmYXVsdDo1MTIsaWY6e2Nhc3RTaGFkb3c6ITB9fSxzaGFkb3dNYXBXaWR0aDp7ZGVmYXVsdDo1MTIsaWY6e2Nhc3RTaGFkb3c6ITB9fSxzaGFkb3dSYWRpdXM6e2RlZmF1bHQ6MSxpZjp7Y2FzdFNoYWRvdzohMH19fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbDt0aGlzLmxpZ2h0PW51bGwsdGhpcy5kZWZhdWx0VGFyZ2V0PW51bGwsdGhpcy5yZW5kZXJlclN5c3RlbT10aGlzLmVsLnNjZW5lRWwuc3lzdGVtcy5yZW5kZXJlcix0aGlzLnN5c3RlbS5yZWdpc3RlckxpZ2h0KGUpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7dmFyIGE9dGhpcy5kYXRhLHQ9ZGlmZihhLGUpLG89dGhpcy5saWdodCxyPXRoaXMucmVuZGVyZXJTeXN0ZW0saT10aGlzO2lmKG8mJiEoXCJ0eXBlXCJpbiB0KSl7dmFyIHM9ITE7cmV0dXJuIHZvaWQgT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1hW2VdO3N3aXRjaChlKXtjYXNlXCJjb2xvclwiOm8uY29sb3Iuc2V0KHQpLHIuYXBwbHlDb2xvckNvcnJlY3Rpb24oby5jb2xvcik7YnJlYWs7Y2FzZVwiZ3JvdW5kQ29sb3JcIjpvLmdyb3VuZENvbG9yLnNldCh0KSxyLmFwcGx5Q29sb3JDb3JyZWN0aW9uKG8uZ3JvdW5kQ29sb3IpO2JyZWFrO2Nhc2VcImFuZ2xlXCI6by5hbmdsZT1kZWdUb1JhZCh0KTticmVhaztjYXNlXCJ0YXJnZXRcIjpudWxsPT09dD9cInNwb3RcIiE9PWEudHlwZSYmXCJkaXJlY3Rpb25hbFwiIT09YS50eXBlfHwoby50YXJnZXQ9aS5kZWZhdWx0VGFyZ2V0KTp0Lmhhc0xvYWRlZD9pLm9uU2V0VGFyZ2V0KHQsbyk6dC5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsYmluZChpLm9uU2V0VGFyZ2V0LGksdCxvKSk7YnJlYWs7Y2FzZVwiY2FzdFNoYWRvd1wiOmNhc2VcInNoYWRvd0JpYXNcIjpjYXNlXCJzaGFkb3dDYW1lcmFGYXJcIjpjYXNlXCJzaGFkb3dDYW1lcmFGb3ZcIjpjYXNlXCJzaGFkb3dDYW1lcmFOZWFyXCI6Y2FzZVwic2hhZG93Q2FtZXJhVG9wXCI6Y2FzZVwic2hhZG93Q2FtZXJhUmlnaHRcIjpjYXNlXCJzaGFkb3dDYW1lcmFCb3R0b21cIjpjYXNlXCJzaGFkb3dDYW1lcmFMZWZ0XCI6Y2FzZVwic2hhZG93Q2FtZXJhVmlzaWJsZVwiOmNhc2VcInNoYWRvd01hcEhlaWdodFwiOmNhc2VcInNoYWRvd01hcFdpZHRoXCI6Y2FzZVwic2hhZG93UmFkaXVzXCI6c3x8KGkudXBkYXRlU2hhZG93KCkscz0hMCk7YnJlYWs7ZGVmYXVsdDpvW2VdPXR9fSl9dGhpcy5zZXRMaWdodCh0aGlzLmRhdGEpLHRoaXMudXBkYXRlU2hhZG93KCl9LHNldExpZ2h0OmZ1bmN0aW9uKGUpe3ZhciBhPXRoaXMuZWwsdD10aGlzLmdldExpZ2h0KGUpO3QmJih0aGlzLmxpZ2h0JiZhLnJlbW92ZU9iamVjdDNEKFwibGlnaHRcIiksdGhpcy5saWdodD10LHRoaXMubGlnaHQuZWw9YSxhLnNldE9iamVjdDNEKFwibGlnaHRcIix0aGlzLmxpZ2h0KSxcInNwb3RcIiE9PWUudHlwZSYmXCJkaXJlY3Rpb25hbFwiIT09ZS50eXBlJiZcImhlbWlzcGhlcmVcIiE9PWUudHlwZXx8YS5nZXRPYmplY3QzRChcImxpZ2h0XCIpLnRyYW5zbGF0ZVkoLTEpLFwic3BvdFwiPT09ZS50eXBlJiYoYS5zZXRPYmplY3QzRChcImxpZ2h0LXRhcmdldFwiLHRoaXMuZGVmYXVsdFRhcmdldCksYS5nZXRPYmplY3QzRChcImxpZ2h0LXRhcmdldFwiKS5wb3NpdGlvbi5zZXQoMCwwLC0xKSkpfSx1cGRhdGVTaGFkb3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsLGE9dGhpcy5kYXRhLHQ9dGhpcy5saWdodDt0LmNhc3RTaGFkb3c9YS5jYXN0U2hhZG93O3ZhciBvPWUuZ2V0T2JqZWN0M0QoXCJjYW1lcmFIZWxwZXJcIik7aWYoYS5zaGFkb3dDYW1lcmFWaXNpYmxlJiYhbz9lLnNldE9iamVjdDNEKFwiY2FtZXJhSGVscGVyXCIsbmV3IFRIUkVFLkNhbWVyYUhlbHBlcih0LnNoYWRvdy5jYW1lcmEpKTohYS5zaGFkb3dDYW1lcmFWaXNpYmxlJiZvJiZlLnJlbW92ZU9iamVjdDNEKFwiY2FtZXJhSGVscGVyXCIpLCFhLmNhc3RTaGFkb3cpcmV0dXJuIHQ7dC5zaGFkb3cuYmlhcz1hLnNoYWRvd0JpYXMsdC5zaGFkb3cucmFkaXVzPWEuc2hhZG93UmFkaXVzLHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0PWEuc2hhZG93TWFwSGVpZ2h0LHQuc2hhZG93Lm1hcFNpemUud2lkdGg9YS5zaGFkb3dNYXBXaWR0aCx0LnNoYWRvdy5jYW1lcmEubmVhcj1hLnNoYWRvd0NhbWVyYU5lYXIsdC5zaGFkb3cuY2FtZXJhLmZhcj1hLnNoYWRvd0NhbWVyYUZhcix0LnNoYWRvdy5jYW1lcmEgaW5zdGFuY2VvZiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmE/KHQuc2hhZG93LmNhbWVyYS50b3A9YS5zaGFkb3dDYW1lcmFUb3AsdC5zaGFkb3cuY2FtZXJhLnJpZ2h0PWEuc2hhZG93Q2FtZXJhUmlnaHQsdC5zaGFkb3cuY2FtZXJhLmJvdHRvbT1hLnNoYWRvd0NhbWVyYUJvdHRvbSx0LnNoYWRvdy5jYW1lcmEubGVmdD1hLnNoYWRvd0NhbWVyYUxlZnQpOnQuc2hhZG93LmNhbWVyYS5mb3Y9YS5zaGFkb3dDYW1lcmFGb3YsdC5zaGFkb3cuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxvJiZvLnVwZGF0ZSgpfSxnZXRMaWdodDpmdW5jdGlvbihlKXt2YXIgYT1lLmFuZ2xlLHQ9bmV3IFRIUkVFLkNvbG9yKGUuY29sb3IpO3RoaXMucmVuZGVyZXJTeXN0ZW0uYXBwbHlDb2xvckNvcnJlY3Rpb24odCksdD10LmdldEhleCgpO3ZhciBvPWUuZGVjYXkscj1lLmRpc3RhbmNlLGk9bmV3IFRIUkVFLkNvbG9yKGUuZ3JvdW5kQ29sb3IpO3RoaXMucmVuZGVyZXJTeXN0ZW0uYXBwbHlDb2xvckNvcnJlY3Rpb24oaSksaT1pLmdldEhleCgpO3ZhciBzPWUuaW50ZW5zaXR5LGQ9ZS50eXBlLGg9ZS50YXJnZXQsbj1udWxsO3N3aXRjaChkLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImFtYmllbnRcIjpyZXR1cm4gbmV3IFRIUkVFLkFtYmllbnRMaWdodCh0LHMpO2Nhc2VcImRpcmVjdGlvbmFsXCI6cmV0dXJuIG49bmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQodCxzKSx0aGlzLmRlZmF1bHRUYXJnZXQ9bi50YXJnZXQsaCYmKGguaGFzTG9hZGVkP3RoaXMub25TZXRUYXJnZXQoaCxuKTpoLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixiaW5kKHRoaXMub25TZXRUYXJnZXQsdGhpcyxoLG4pKSksbjtjYXNlXCJoZW1pc3BoZXJlXCI6cmV0dXJuIG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQodCxpLHMpO2Nhc2VcInBvaW50XCI6cmV0dXJuIG5ldyBUSFJFRS5Qb2ludExpZ2h0KHQscyxyLG8pO2Nhc2VcInNwb3RcIjpyZXR1cm4gbj1uZXcgVEhSRUUuU3BvdExpZ2h0KHQscyxyLGRlZ1RvUmFkKGEpLGUucGVudW1icmEsbyksdGhpcy5kZWZhdWx0VGFyZ2V0PW4udGFyZ2V0LGgmJihoLmhhc0xvYWRlZD90aGlzLm9uU2V0VGFyZ2V0KGgsbik6aC5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsYmluZCh0aGlzLm9uU2V0VGFyZ2V0LHRoaXMsaCxuKSkpLG47ZGVmYXVsdDp3YXJuKFwiJXMgaXMgbm90IGEgdmFsaWQgbGlnaHQgdHlwZS4gQ2hvb3NlIGZyb20gYW1iaWVudCwgZGlyZWN0aW9uYWwsIGhlbWlzcGhlcmUsIHBvaW50LCBzcG90LlwiLGQpfX0sb25TZXRUYXJnZXQ6ZnVuY3Rpb24oZSxhKXthLnRhcmdldD1lLm9iamVjdDNEfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsO2UucmVtb3ZlT2JqZWN0M0QoXCJsaWdodFwiKSxlLmdldE9iamVjdDNEKFwiY2FtZXJhSGVscGVyXCIpJiZlLnJlbW92ZU9iamVjdDNEKFwiY2FtZXJhSGVscGVyXCIpfX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzXCI6MTgxLFwiLi4vdXRpbHMvYmluZFwiOjE3NSxcIi4uL3V0aWxzL2RlYnVnXCI6MTc3fV0sNjc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNFcXVhbFZlYzMoZSx0KXtyZXR1cm4hKCFlfHwhdCkmJihlLng9PT10LngmJmUueT09PXQueSYmZS56PT09dC56KX12YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImxpbmVcIix7c2NoZW1hOntzdGFydDp7dHlwZTpcInZlYzNcIixkZWZhdWx0Ont4OjAseTowLHo6MH19LGVuZDp7dHlwZTpcInZlYzNcIixkZWZhdWx0Ont4OjAseTowLHo6MH19LGNvbG9yOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzc0QkVDMVwifSxvcGFjaXR5Ont0eXBlOlwibnVtYmVyXCIsZGVmYXVsdDoxfSx2aXNpYmxlOntkZWZhdWx0OiEwfX0sbXVsdGlwbGU6ITAsaW5pdDpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLmRhdGE7dGhpcy5yZW5kZXJlclN5c3RlbT10aGlzLmVsLnNjZW5lRWwuc3lzdGVtcy5yZW5kZXJlcix0PXRoaXMubWF0ZXJpYWw9bmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpyLmNvbG9yLG9wYWNpdHk6ci5vcGFjaXR5LHRyYW5zcGFyZW50OnIub3BhY2l0eTwxLHZpc2libGU6ci52aXNpYmxlfSksZT10aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSxlLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KDYpLDMpKSx0aGlzLnJlbmRlcmVyU3lzdGVtLmFwcGx5Q29sb3JDb3JyZWN0aW9uKHQuY29sb3IpLHRoaXMubGluZT1uZXcgVEhSRUUuTGluZShlLHQpLHRoaXMuZWwuc2V0T2JqZWN0M0QodGhpcy5hdHRyTmFtZSx0aGlzLmxpbmUpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhLHI9dGhpcy5nZW9tZXRyeSxpPSExLG89dGhpcy5tYXRlcmlhbCxuPXIuYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTtpc0VxdWFsVmVjMyh0LnN0YXJ0LGUuc3RhcnQpfHwoblswXT10LnN0YXJ0LngsblsxXT10LnN0YXJ0LnksblsyXT10LnN0YXJ0LnosaT0hMCksaXNFcXVhbFZlYzModC5lbmQsZS5lbmQpfHwoblszXT10LmVuZC54LG5bNF09dC5lbmQueSxuWzVdPXQuZW5kLnosaT0hMCksaSYmKHIuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZT0hMCxyLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpKSxvLmNvbG9yLnNldFN0eWxlKHQuY29sb3IpLHRoaXMucmVuZGVyZXJTeXN0ZW0uYXBwbHlDb2xvckNvcnJlY3Rpb24oby5jb2xvciksby5vcGFjaXR5PXQub3BhY2l0eSxvLnRyYW5zcGFyZW50PXQub3BhY2l0eTwxLG8udmlzaWJsZT10LnZpc2libGV9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZWwucmVtb3ZlT2JqZWN0M0QoXCJsaW5lXCIsdGhpcy5saW5lKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDh9XSw2ODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LHJlZ2lzdGVyU2hhZGVyPV9kZXJlcV8oXCIuLi9jb3JlL3NoYWRlclwiKS5yZWdpc3RlclNoYWRlcixUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImxpbmtcIix7c2NoZW1hOntiYWNrZ3JvdW5kQ29sb3I6e2RlZmF1bHQ6XCJyZWRcIix0eXBlOlwiY29sb3JcIn0sYm9yZGVyQ29sb3I6e2RlZmF1bHQ6XCJ3aGl0ZVwiLHR5cGU6XCJjb2xvclwifSxoaWdobGlnaHRlZDp7ZGVmYXVsdDohMX0saGlnaGxpZ2h0ZWRDb2xvcjp7ZGVmYXVsdDpcIiMyNENBRkZcIix0eXBlOlwiY29sb3JcIn0saHJlZjp7ZGVmYXVsdDpcIlwifSxpbWFnZTp7dHlwZTpcImFzc2V0XCJ9LG9uOntkZWZhdWx0OlwiY2xpY2tcIn0scGVla01vZGU6e2RlZmF1bHQ6ITF9LHRpdGxlOntkZWZhdWx0OlwiXCJ9LHRpdGxlQ29sb3I6e2RlZmF1bHQ6XCJ3aGl0ZVwiLHR5cGU6XCJjb2xvclwifSx2aXN1YWxBc3BlY3RFbmFibGVkOntkZWZhdWx0OiExfX0saW5pdDpmdW5jdGlvbigpe3RoaXMubmF2aWdhdGU9dGhpcy5uYXZpZ2F0ZS5iaW5kKHRoaXMpLHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uPXZvaWQgMCx0aGlzLnF1YXRlcm5pb25DbG9uZT1uZXcgVEhSRUUuUXVhdGVybmlvbix0aGlzLmhpZGRlbkVscz1bXX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0LGkscj10aGlzLmRhdGEsbz10aGlzLmVsO3IudmlzdWFsQXNwZWN0RW5hYmxlZCYmKHRoaXMuaW5pdFZpc3VhbEFzcGVjdCgpLHQ9ci5oaWdobGlnaHRlZD9yLmhpZ2hsaWdodGVkQ29sb3I6ci5iYWNrZ3JvdW5kQ29sb3IsaT1yLmhpZ2hsaWdodGVkP3IuaGlnaGxpZ2h0ZWRDb2xvcjpyLmJvcmRlckNvbG9yLG8uc2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIixcImJhY2tncm91bmRDb2xvclwiLHQpLG8uc2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIixcInN0cm9rZUNvbG9yXCIsaSksci5vbiE9PWUub24mJnRoaXMudXBkYXRlRXZlbnRMaXN0ZW5lcigpLHZvaWQgMCE9PWUucGVla01vZGUmJnIucGVla01vZGUhPT1lLnBlZWtNb2RlJiZ0aGlzLnVwZGF0ZVBlZWtNb2RlKCksci5pbWFnZSYmZS5pbWFnZSE9PXIuaW1hZ2UmJm8uc2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIixcInBhbm9cIixcInN0cmluZ1wiPT10eXBlb2Ygci5pbWFnZT9yLmltYWdlOnIuaW1hZ2Uuc3JjKSl9LHVwZGF0ZVBlZWtNb2RlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbCx0PXRoaXMuc3BoZXJlRWw7dGhpcy5kYXRhLnBlZWtNb2RlPyh0aGlzLmhpZGVBbGwoKSxlLmdldE9iamVjdDNEKFwibWVzaFwiKS52aXNpYmxlPSExLHQuc2V0QXR0cmlidXRlKFwidmlzaWJsZVwiLCEwKSk6KHRoaXMuc2hvd0FsbCgpLGUuZ2V0T2JqZWN0M0QoXCJtZXNoXCIpLnZpc2libGU9ITAsdC5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIsITEpKX0scGxheTpmdW5jdGlvbigpe3RoaXMudXBkYXRlRXZlbnRMaXN0ZW5lcigpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpfSx1cGRhdGVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbDtlLmlzUGxheWluZyYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpLGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRhdGEub24sdGhpcy5uYXZpZ2F0ZSkpfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLm9uO2UmJnRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMubmF2aWdhdGUpfSxpbml0VmlzdWFsQXNwZWN0OmZ1bmN0aW9uKCl7dmFyIGUsdCxpLHI9dGhpcy5lbDt0aGlzLmRhdGEudmlzdWFsQXNwZWN0RW5hYmxlZCYmIXRoaXMudmlzdWFsQXNwZWN0SW5pdGlhbGl6ZWQmJihpPXRoaXMudGV4dEVsPXRoaXMudGV4dEVsfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS1lbnRpdHlcIiksdD10aGlzLnNwaGVyZUVsPXRoaXMuc3BoZXJlRWx8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKSxlPXRoaXMuc2VtaVNwaGVyZUVsPXRoaXMuc2VtaVNwaGVyZUVsfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS1lbnRpdHlcIiksci5zZXRBdHRyaWJ1dGUoXCJnZW9tZXRyeVwiLHtwcmltaXRpdmU6XCJjaXJjbGVcIixyYWRpdXM6MSxzZWdtZW50czo2NH0pLHIuc2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIix7c2hhZGVyOlwicG9ydGFsXCIscGFubzp0aGlzLmRhdGEuaW1hZ2Usc2lkZTpcImRvdWJsZVwifSksaS5zZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIse2NvbG9yOnRoaXMuZGF0YS50aXRsZUNvbG9yLGFsaWduOlwiY2VudGVyXCIsZm9udDpcImtlbHNvbnNhbnNcIix2YWx1ZTp0aGlzLmRhdGEudGl0bGV8fHRoaXMuZGF0YS5ocmVmLHdpZHRoOjR9KSxpLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsXCIwIDEuNSAwXCIpLHIuYXBwZW5kQ2hpbGQoaSksZS5zZXRBdHRyaWJ1dGUoXCJnZW9tZXRyeVwiLHtwcmltaXRpdmU6XCJzcGhlcmVcIixyYWRpdXM6MSxwaGlTdGFydDowLHNlZ21lbnRzV2lkdGg6NjQsc2VnbWVudHNIZWlnaHQ6NjQscGhpTGVuZ3RoOjE4MCx0aGV0YVN0YXJ0OjAsdGhldGFMZW5ndGg6MzYwfSksZS5zZXRBdHRyaWJ1dGUoXCJtYXRlcmlhbFwiLHtzaGFkZXI6XCJwb3J0YWxcIixib3JkZXJFbmFibGVkOjAscGFubzp0aGlzLmRhdGEuaW1hZ2Usc2lkZTpcImJhY2tcIn0pLGUuc2V0QXR0cmlidXRlKFwicm90YXRpb25cIixcIjAgMTgwIDBcIiksZS5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLFwiMCAwIDBcIiksZS5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIsITEpLHIuYXBwZW5kQ2hpbGQoZSksdC5zZXRBdHRyaWJ1dGUoXCJnZW9tZXRyeVwiLHtwcmltaXRpdmU6XCJzcGhlcmVcIixyYWRpdXM6MTAsc2VnbWVudHNXaWR0aDo2NCxzZWdtZW50c0hlaWdodDo2NH0pLHQuc2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIix7c2hhZGVyOlwicG9ydGFsXCIsYm9yZGVyRW5hYmxlZDowLHBhbm86dGhpcy5kYXRhLmltYWdlLHNpZGU6XCJiYWNrXCJ9KSx0LnNldEF0dHJpYnV0ZShcInZpc2libGVcIiwhMSksci5hcHBlbmRDaGlsZCh0KSx0aGlzLnZpc3VhbEFzcGVjdEluaXRpYWxpemVkPSEwKX0sbmF2aWdhdGU6ZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb249dGhpcy5kYXRhLmhyZWZ9LHRpY2s6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVEhSRUUuVmVjdG9yMyx0PW5ldyBUSFJFRS5WZWN0b3IzLGk9bmV3IFRIUkVFLlF1YXRlcm5pb24scj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbyxhLG49dGhpcy5lbCxzPW4ub2JqZWN0M0QsbD1uLnNjZW5lRWwuY2FtZXJhLGQ9dGhpcy50ZXh0RWw7aWYodGhpcy5kYXRhLnZpc3VhbEFzcGVjdEVuYWJsZWQpaWYocy51cGRhdGVNYXRyaXhXb3JsZCgpLGwucGFyZW50LnVwZGF0ZU1hdHJpeFdvcmxkKCksbC51cGRhdGVNYXRyaXhXb3JsZCgpLHMubWF0cml4LmRlY29tcG9zZSh0LGksciksdC5zZXRGcm9tTWF0cml4UG9zaXRpb24ocy5tYXRyaXhXb3JsZCksZS5zZXRGcm9tTWF0cml4UG9zaXRpb24obC5tYXRyaXhXb3JsZCksKGE9dC5kaXN0YW5jZVRvKGUpKT4yMCl0aGlzLnByZXZpb3VzUXVhdGVybmlvbnx8KHRoaXMucXVhdGVybmlvbkNsb25lLmNvcHkoaSksdGhpcy5wcmV2aW91c1F1YXRlcm5pb249dGhpcy5xdWF0ZXJuaW9uQ2xvbmUpLHMubG9va0F0KGUpO2Vsc2V7aWYobz10aGlzLmNhbGN1bGF0ZUNhbWVyYVBvcnRhbE9yaWVudGF0aW9uKCksYTwuNSl7aWYoITA9PT10aGlzLnNlbWlTcGhlcmVFbC5nZXRBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIpKXJldHVybjtkLnNldEF0dHJpYnV0ZShcInRleHRcIixcIndpZHRoXCIsMS41KSxvPD0wPyhkLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsXCIwIDAgMC43NVwiKSxkLnNldEF0dHJpYnV0ZShcInJvdGF0aW9uXCIsXCIwIDE4MCAwXCIpLHRoaXMuc2VtaVNwaGVyZUVsLnNldEF0dHJpYnV0ZShcInJvdGF0aW9uXCIsXCIwIDAgMFwiKSk6KGQuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixcIjAgMCAtMC43NVwiKSxkLnNldEF0dHJpYnV0ZShcInJvdGF0aW9uXCIsXCIwIDAgMFwiKSx0aGlzLnNlbWlTcGhlcmVFbC5zZXRBdHRyaWJ1dGUoXCJyb3RhdGlvblwiLFwiMCAxODAgMFwiKSksbi5nZXRPYmplY3QzRChcIm1lc2hcIikudmlzaWJsZT0hMSx0aGlzLnNlbWlTcGhlcmVFbC5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIsITApLHRoaXMucGVla0NhbWVyYVBvcnRhbE9yaWVudGF0aW9uPW99ZWxzZSBvPD0wP2Quc2V0QXR0cmlidXRlKFwicm90YXRpb25cIixcIjAgMTgwIDBcIik6ZC5zZXRBdHRyaWJ1dGUoXCJyb3RhdGlvblwiLFwiMCAwIDBcIiksZC5zZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIsXCJ3aWR0aFwiLDUpLGQuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixcIjAgMS41IDBcIiksbi5nZXRPYmplY3QzRChcIm1lc2hcIikudmlzaWJsZT0hMCx0aGlzLnNlbWlTcGhlcmVFbC5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIsITEpLHRoaXMucGVla0NhbWVyYVBvcnRhbE9yaWVudGF0aW9uPXZvaWQgMDt0aGlzLnByZXZpb3VzUXVhdGVybmlvbiYmKHMucXVhdGVybmlvbi5jb3B5KHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uKSx0aGlzLnByZXZpb3VzUXVhdGVybmlvbj12b2lkIDApfX19KCksaGlkZUFsbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWwsdD10aGlzLmhpZGRlbkVscyxpPXRoaXM7dC5sZW5ndGg+MHx8ZS5zY2VuZUVsLm9iamVjdDNELnRyYXZlcnNlKGZ1bmN0aW9uKHIpe3ImJnIuZWwmJnIuZWwuaGFzQXR0cmlidXRlKFwibGluay1jb250cm9sc1wiKXx8ci5lbCYmciE9PWUuc2NlbmVFbC5vYmplY3QzRCYmci5lbCE9PWUmJnIuZWwhPT1pLnNwaGVyZUVsJiZyLmVsIT09ZS5zY2VuZUVsLmNhbWVyYUVsJiYhMSE9PXIuZWwuZ2V0QXR0cmlidXRlKFwidmlzaWJsZVwiKSYmci5lbCE9PWkudGV4dEVsJiZyLmVsIT09aS5zZW1pU3BoZXJlRWwmJihyLmVsLnNldEF0dHJpYnV0ZShcInZpc2libGVcIiwhMSksdC5wdXNoKHIuZWwpKX0pfSxzaG93QWxsOmZ1bmN0aW9uKCl7dGhpcy5oaWRkZW5FbHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNldEF0dHJpYnV0ZShcInZpc2libGVcIiwhMCl9KSx0aGlzLmhpZGRlbkVscz1bXX0sY2FsY3VsYXRlQ2FtZXJhUG9ydGFsT3JpZW50YXRpb246ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVEhSRUUuTWF0cml4NCx0PW5ldyBUSFJFRS5WZWN0b3IzLGk9bmV3IFRIUkVFLlZlY3RvcjMoMCwwLDEpLHI9bmV3IFRIUkVFLlZlY3RvcjMoMCwwLDApO3JldHVybiBmdW5jdGlvbigpe3ZhciBvPXRoaXMuZWwsYT1vLnNjZW5lRWwuY2FtZXJhO3JldHVybiB0LnNldCgwLDAsMCksaS5zZXQoMCwwLDEpLHIuc2V0KDAsMCwwKSxvLm9iamVjdDNELm1hdHJpeFdvcmxkLmV4dHJhY3RSb3RhdGlvbihlKSxpLmFwcGx5TWF0cml4NChlKSxvLm9iamVjdDNELnVwZGF0ZU1hdHJpeFdvcmxkKCksby5vYmplY3QzRC5sb2NhbFRvV29ybGQociksYS5wYXJlbnQucGFyZW50LnVwZGF0ZU1hdHJpeFdvcmxkKCksYS5wYXJlbnQudXBkYXRlTWF0cml4V29ybGQoKSxhLnVwZGF0ZU1hdHJpeFdvcmxkKCksYS5sb2NhbFRvV29ybGQodCksdC5zdWIocikubm9ybWFsaXplKCksaS5ub3JtYWxpemUoKSxNYXRoLnNpZ24oaS5kb3QodCkpfX0oKSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKX19KSxyZWdpc3RlclNoYWRlcihcInBvcnRhbFwiLHtzY2hlbWE6e2JvcmRlckVuYWJsZWQ6e2RlZmF1bHQ6MSx0eXBlOlwiaW50XCIsaXM6XCJ1bmlmb3JtXCJ9LGJhY2tncm91bmRDb2xvcjp7ZGVmYXVsdDpcInJlZFwiLHR5cGU6XCJjb2xvclwiLGlzOlwidW5pZm9ybVwifSxwYW5vOnt0eXBlOlwibWFwXCIsaXM6XCJ1bmlmb3JtXCJ9LHN0cm9rZUNvbG9yOntkZWZhdWx0Olwid2hpdGVcIix0eXBlOlwiY29sb3JcIixpczpcInVuaWZvcm1cIn19LHZlcnRleFNoYWRlcjpbXCJ2ZWMzIHBvcnRhbFBvc2l0aW9uO1wiLFwidmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1wiLFwidmFyeWluZyBmbG9hdCB2RGlzdGFuY2VUb0NlbnRlcjtcIixcInZhcnlpbmcgZmxvYXQgdkRpc3RhbmNlO1wiLFwidm9pZCBtYWluKCkge1wiLFwidkRpc3RhbmNlVG9DZW50ZXIgPSBjbGFtcChsZW5ndGgocG9zaXRpb24gLSB2ZWMzKDAuMCwgMC4wLCAwLjApKSwgMC4wLCAxLjApO1wiLFwicG9ydGFsUG9zaXRpb24gPSAobW9kZWxNYXRyaXggKiB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCkpLnh5ejtcIixcInZEaXN0YW5jZSA9IGxlbmd0aChwb3J0YWxQb3NpdGlvbiAtIGNhbWVyYVBvc2l0aW9uKTtcIixcInZXb3JsZFBvc2l0aW9uID0gKG1vZGVsTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKSkueHl6O1wiLFwiZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcIixcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCIjZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTRcIixcInVuaWZvcm0gc2FtcGxlcjJEIHBhbm87XCIsXCJ1bmlmb3JtIHZlYzMgc3Ryb2tlQ29sb3I7XCIsXCJ1bmlmb3JtIHZlYzMgYmFja2dyb3VuZENvbG9yO1wiLFwidW5pZm9ybSBmbG9hdCBib3JkZXJFbmFibGVkO1wiLFwidmFyeWluZyBmbG9hdCB2RGlzdGFuY2VUb0NlbnRlcjtcIixcInZhcnlpbmcgZmxvYXQgdkRpc3RhbmNlO1wiLFwidmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1wiLFwidm9pZCBtYWluKCkge1wiLFwidmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUodldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbik7XCIsXCJ2ZWMyIHNhbXBsZVVWO1wiLFwiZmxvYXQgYm9yZGVyVGhpY2tuZXNzID0gY2xhbXAoZXhwKC12RGlzdGFuY2UgLyA1MC4wKSwgMC42LCAwLjk1KTtcIixcInNhbXBsZVVWLnkgPSBzYXR1cmF0ZShkaXJlY3Rpb24ueSAqIDAuNSAgKyAwLjUpO1wiLFwic2FtcGxlVVYueCA9IGF0YW4oZGlyZWN0aW9uLnosIC1kaXJlY3Rpb24ueCkgKiAtUkVDSVBST0NBTF9QSTIgKyAwLjU7XCIsXCJpZiAodkRpc3RhbmNlVG9DZW50ZXIgPiBib3JkZXJUaGlja25lc3MgJiYgYm9yZGVyRW5hYmxlZCA9PSAxLjApIHtcIixcImdsX0ZyYWdDb2xvciA9IHZlYzQoc3Ryb2tlQ29sb3IsIDEuMCk7XCIsXCJ9IGVsc2Uge1wiLFwiZ2xfRnJhZ0NvbG9yID0gbWl4KHRleHR1cmUyRChwYW5vLCBzYW1wbGVVViksIHZlYzQoYmFja2dyb3VuZENvbG9yLCAxLjApLCBjbGFtcChwb3coKHZEaXN0YW5jZSAvIDE1LjApLCAyLjApLCAwLjAsIDEuMCkpO1wiLFwifVwiLFwifVwiXS5qb2luKFwiXFxuXCIpfSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vY29yZS9zaGFkZXJcIjoxMTgsXCIuLi9saWIvdGhyZWVcIjoxNTZ9XSw2OTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKSxiaW5kPXV0aWxzLmJpbmQsUElfMj1NYXRoLlBJLzI7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwibG9vay1jb250cm9sc1wiLHtkZXBlbmRlbmNpZXM6W1wicG9zaXRpb25cIixcInJvdGF0aW9uXCJdLHNjaGVtYTp7ZW5hYmxlZDp7ZGVmYXVsdDohMH0saG1kRW5hYmxlZDp7ZGVmYXVsdDohMH0scG9pbnRlckxvY2tFbmFibGVkOntkZWZhdWx0OiExfSxyZXZlcnNlTW91c2VEcmFnOntkZWZhdWx0OiExfSxyZXZlcnNlVG91Y2hEcmFnOntkZWZhdWx0OiExfSx0b3VjaEVuYWJsZWQ6e2RlZmF1bHQ6ITB9fSxpbml0OmZ1bmN0aW9uKCl7dGhpcy5kZWx0YVlhdz0wLHRoaXMucHJldmlvdXNITURQb3NpdGlvbj1uZXcgVEhSRUUuVmVjdG9yMyx0aGlzLmhtZFF1YXRlcm5pb249bmV3IFRIUkVFLlF1YXRlcm5pb24sdGhpcy5tYWdpY1dpbmRvd0Fic29sdXRlRXVsZXI9bmV3IFRIUkVFLkV1bGVyLHRoaXMubWFnaWNXaW5kb3dEZWx0YUV1bGVyPW5ldyBUSFJFRS5FdWxlcix0aGlzLnBvc2l0aW9uPW5ldyBUSFJFRS5WZWN0b3IzLHRoaXMuc2F2ZWRSb3RhdGlvbj1uZXcgVEhSRUUuVmVjdG9yMyx0aGlzLnNhdmVkUG9zaXRpb249bmV3IFRIUkVFLlZlY3RvcjMsdGhpcy5tYWdpY1dpbmRvd09iamVjdD1uZXcgVEhSRUUuT2JqZWN0M0QsdGhpcy5yb3RhdGlvbj17fSx0aGlzLmRlbHRhUm90YXRpb249e30sdGhpcy5zYXZlZFBvc2U9bnVsbCx0aGlzLnBvaW50ZXJMb2NrZWQ9ITEsdGhpcy5zZXR1cE1vdXNlQ29udHJvbHMoKSx0aGlzLmJpbmRNZXRob2RzKCksdGhpcy5lbC5vYmplY3QzRC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuZWwub2JqZWN0M0QudXBkYXRlTWF0cml4KCksdGhpcy5zZXR1cE1hZ2ljV2luZG93Q29udHJvbHMoKSx0aGlzLnNhdmVkUG9zZT17cG9zaXRpb246bmV3IFRIUkVFLlZlY3RvcjMscm90YXRpb246bmV3IFRIUkVFLkV1bGVyfSx0aGlzLmVsLnNjZW5lRWwuaXMoXCJ2ci1tb2RlXCIpJiZ0aGlzLm9uRW50ZXJWUigpfSxzZXR1cE1hZ2ljV2luZG93Q29udHJvbHM6ZnVuY3Rpb24oKXt2YXIgZTt1dGlscy5kZXZpY2UuaXNNb2JpbGUoKSYmKGU9dGhpcy5tYWdpY1dpbmRvd0NvbnRyb2xzPW5ldyBUSFJFRS5EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzKHRoaXMubWFnaWNXaW5kb3dPYmplY3QpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBEZXZpY2VPcmllbnRhdGlvbkV2ZW50JiZEZXZpY2VPcmllbnRhdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uJiYoZS5lbmFibGVkPSExLHRoaXMuZWwuc2NlbmVFbC5jb21wb25lbnRzW1wiZGV2aWNlLW9yaWVudGF0aW9uLXBlcm1pc3Npb24tdWlcIl0ucGVybWlzc2lvbkdyYW50ZWQ/ZS5lbmFibGVkPSEwOnRoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25wZXJtaXNzaW9uZ3JhbnRlZFwiLGZ1bmN0aW9uKCl7ZS5lbmFibGVkPSEwfSkpKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YTt0LmVuYWJsZWQhPT1lLmVuYWJsZWQmJnRoaXMudXBkYXRlR3JhYkN1cnNvcih0LmVuYWJsZWQpLCFlfHx0LmhtZEVuYWJsZWR8fGUuaG1kRW5hYmxlZHx8KHRoaXMucGl0Y2hPYmplY3Qucm90YXRpb24uc2V0KDAsMCwwKSx0aGlzLnlhd09iamVjdC5yb3RhdGlvbi5zZXQoMCwwLDApKSxlJiYhdC5wb2ludGVyTG9ja0VuYWJsZWQhPT1lLnBvaW50ZXJMb2NrRW5hYmxlZCYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCksdGhpcy5wb2ludGVyTG9ja2VkJiZ0aGlzLmV4aXRQb2ludGVyTG9jaygpKX0sdGljazpmdW5jdGlvbihlKXt0aGlzLmRhdGEuZW5hYmxlZCYmdGhpcy51cGRhdGVPcmllbnRhdGlvbigpfSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudExpc3RlbmVycygpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnBvaW50ZXJMb2NrZWQmJnRoaXMuZXhpdFBvaW50ZXJMb2NrKCl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnBvaW50ZXJMb2NrZWQmJnRoaXMuZXhpdFBvaW50ZXJMb2NrKCl9LGJpbmRNZXRob2RzOmZ1bmN0aW9uKCl7dGhpcy5vbk1vdXNlRG93bj1iaW5kKHRoaXMub25Nb3VzZURvd24sdGhpcyksdGhpcy5vbk1vdXNlTW92ZT1iaW5kKHRoaXMub25Nb3VzZU1vdmUsdGhpcyksdGhpcy5vbk1vdXNlVXA9YmluZCh0aGlzLm9uTW91c2VVcCx0aGlzKSx0aGlzLm9uVG91Y2hTdGFydD1iaW5kKHRoaXMub25Ub3VjaFN0YXJ0LHRoaXMpLHRoaXMub25Ub3VjaE1vdmU9YmluZCh0aGlzLm9uVG91Y2hNb3ZlLHRoaXMpLHRoaXMub25Ub3VjaEVuZD1iaW5kKHRoaXMub25Ub3VjaEVuZCx0aGlzKSx0aGlzLm9uRW50ZXJWUj1iaW5kKHRoaXMub25FbnRlclZSLHRoaXMpLHRoaXMub25FeGl0VlI9YmluZCh0aGlzLm9uRXhpdFZSLHRoaXMpLHRoaXMub25Qb2ludGVyTG9ja0NoYW5nZT1iaW5kKHRoaXMub25Qb2ludGVyTG9ja0NoYW5nZSx0aGlzKSx0aGlzLm9uUG9pbnRlckxvY2tFcnJvcj1iaW5kKHRoaXMub25Qb2ludGVyTG9ja0Vycm9yLHRoaXMpfSxzZXR1cE1vdXNlQ29udHJvbHM6ZnVuY3Rpb24oKXt0aGlzLm1vdXNlRG93bj0hMSx0aGlzLnBpdGNoT2JqZWN0PW5ldyBUSFJFRS5PYmplY3QzRCx0aGlzLnlhd09iamVjdD1uZXcgVEhSRUUuT2JqZWN0M0QsdGhpcy55YXdPYmplY3QucG9zaXRpb24ueT0xMCx0aGlzLnlhd09iamVjdC5hZGQodGhpcy5waXRjaE9iamVjdCl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbC5zY2VuZUVsLHQ9ZS5jYW52YXM7aWYoIXQpcmV0dXJuIHZvaWQgZS5hZGRFdmVudExpc3RlbmVyKFwicmVuZGVyLXRhcmdldC1sb2FkZWRcIixiaW5kKHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMsdGhpcykpO3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25Nb3VzZURvd24sITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vbk1vdXNlVXAsITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uVG91Y2hTdGFydCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLm9uVG91Y2hNb3ZlKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vblRvdWNoRW5kKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbnRlci12clwiLHRoaXMub25FbnRlclZSKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJleGl0LXZyXCIsdGhpcy5vbkV4aXRWUiksdGhpcy5kYXRhLnBvaW50ZXJMb2NrRW5hYmxlZCYmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMub25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1venBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmxvY2tlcnJvclwiLHRoaXMub25Qb2ludGVyTG9ja0Vycm9yLCExKSl9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbC5zY2VuZUVsLHQ9ZSYmZS5jYW52YXM7dCYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25Nb3VzZURvd24pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vbk1vdXNlVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uVG91Y2hTdGFydCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLm9uVG91Y2hNb3ZlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vblRvdWNoRW5kKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbnRlci12clwiLHRoaXMub25FbnRlclZSKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJleGl0LXZyXCIsdGhpcy5vbkV4aXRWUiksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW96cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLm9uUG9pbnRlckxvY2tDaGFuZ2UsITEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybG9ja2Vycm9yXCIsdGhpcy5vblBvaW50ZXJMb2NrRXJyb3IsITEpKX0sdXBkYXRlT3JpZW50YXRpb246ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVEhSRUUuTWF0cml4NDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxvPXRoaXMuZWwub2JqZWN0M0Qsbj10aGlzLnBpdGNoT2JqZWN0LGk9dGhpcy55YXdPYmplY3Qscz10aGlzLmVsLnNjZW5lRWw7aWYocy5pcyhcInZyLW1vZGVcIikmJnMuY2hlY2tIZWFkc2V0Q29ubmVjdGVkKCkpcmV0dXJuIHZvaWQocy5oYXNXZWJYUiYmKHQ9cy5yZW5kZXJlci54ci5nZXRDYW1lcmFQb3NlKCkpJiYoZS5lbGVtZW50cz10LnRyYW5zZm9ybS5tYXRyaXgsZS5kZWNvbXBvc2Uoby5wb3NpdGlvbixvLnJvdGF0aW9uLG8uc2NhbGUpKSk7by51cGRhdGVNYXRyaXgoKSx0aGlzLnVwZGF0ZU1hZ2ljV2luZG93T3JpZW50YXRpb24oKSxvLnJvdGF0aW9uLng9dGhpcy5tYWdpY1dpbmRvd0RlbHRhRXVsZXIueCtuLnJvdGF0aW9uLngsby5yb3RhdGlvbi55PXRoaXMubWFnaWNXaW5kb3dEZWx0YUV1bGVyLnkraS5yb3RhdGlvbi55LG8ucm90YXRpb24uej10aGlzLm1hZ2ljV2luZG93RGVsdGFFdWxlci56fX0oKSx1cGRhdGVNYWdpY1dpbmRvd09yaWVudGF0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tYWdpY1dpbmRvd0Fic29sdXRlRXVsZXIsdD10aGlzLm1hZ2ljV2luZG93RGVsdGFFdWxlcjt0aGlzLm1hZ2ljV2luZG93Q29udHJvbHMmJnRoaXMubWFnaWNXaW5kb3dDb250cm9scy5lbmFibGVkJiYodGhpcy5tYWdpY1dpbmRvd0NvbnRyb2xzLnVwZGF0ZSgpLGUuc2V0RnJvbVF1YXRlcm5pb24odGhpcy5tYWdpY1dpbmRvd09iamVjdC5xdWF0ZXJuaW9uLFwiWVhaXCIpLHRoaXMucHJldmlvdXNNYWdpY1dpbmRvd1lhd3x8MD09PWUueXx8KHRoaXMucHJldmlvdXNNYWdpY1dpbmRvd1lhdz1lLnkpLHRoaXMucHJldmlvdXNNYWdpY1dpbmRvd1lhdyYmKHQueD1lLngsdC55Kz1lLnktdGhpcy5wcmV2aW91c01hZ2ljV2luZG93WWF3LHQuej1lLnosdGhpcy5wcmV2aW91c01hZ2ljV2luZG93WWF3PWUueSkpfSxvbk1vdXNlTW92ZTpmdW5jdGlvbihlKXt2YXIgdCxvLG4saT10aGlzLnBpdGNoT2JqZWN0LHM9dGhpcy5wcmV2aW91c01vdXNlRXZlbnQscj10aGlzLnlhd09iamVjdDt0aGlzLmRhdGEuZW5hYmxlZCYmKHRoaXMubW91c2VEb3dufHx0aGlzLnBvaW50ZXJMb2NrZWQpJiYodGhpcy5wb2ludGVyTG9ja2VkPyhvPWUubW92ZW1lbnRYfHxlLm1vek1vdmVtZW50WHx8MCxuPWUubW92ZW1lbnRZfHxlLm1vek1vdmVtZW50WXx8MCk6KG89ZS5zY3JlZW5YLXMuc2NyZWVuWCxuPWUuc2NyZWVuWS1zLnNjcmVlblkpLHRoaXMucHJldmlvdXNNb3VzZUV2ZW50PWUsdD10aGlzLmRhdGEucmV2ZXJzZU1vdXNlRHJhZz8xOi0xLHIucm90YXRpb24ueSs9LjAwMipvKnQsaS5yb3RhdGlvbi54Kz0uMDAyKm4qdCxpLnJvdGF0aW9uLng9TWF0aC5tYXgoLVBJXzIsTWF0aC5taW4oUElfMixpLnJvdGF0aW9uLngpKSl9LG9uTW91c2VEb3duOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWwuc2NlbmVFbDtpZih0aGlzLmRhdGEuZW5hYmxlZCYmIXQuaXMoXCJ2ci1tb2RlXCIpJiYwPT09ZS5idXR0b24pe3ZhciBvPXQmJnQuY2FudmFzO3RoaXMubW91c2VEb3duPSEwLHRoaXMucHJldmlvdXNNb3VzZUV2ZW50PWUsdGhpcy5zaG93R3JhYmJpbmdDdXJzb3IoKSx0aGlzLmRhdGEucG9pbnRlckxvY2tFbmFibGVkJiYhdGhpcy5wb2ludGVyTG9ja2VkJiYoby5yZXF1ZXN0UG9pbnRlckxvY2s/by5yZXF1ZXN0UG9pbnRlckxvY2soKTpvLm1velJlcXVlc3RQb2ludGVyTG9jayYmby5tb3pSZXF1ZXN0UG9pbnRlckxvY2soKSl9fSxzaG93R3JhYmJpbmdDdXJzb3I6ZnVuY3Rpb24oKXt0aGlzLmVsLnNjZW5lRWwuY2FudmFzLnN0eWxlLmN1cnNvcj1cImdyYWJiaW5nXCJ9LGhpZGVHcmFiYmluZ0N1cnNvcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5jYW52YXMuc3R5bGUuY3Vyc29yPVwiXCJ9LG9uTW91c2VVcDpmdW5jdGlvbigpe3RoaXMubW91c2VEb3duPSExLHRoaXMuaGlkZUdyYWJiaW5nQ3Vyc29yKCl9LG9uVG91Y2hTdGFydDpmdW5jdGlvbihlKXsxPT09ZS50b3VjaGVzLmxlbmd0aCYmdGhpcy5kYXRhLnRvdWNoRW5hYmxlZCYmIXRoaXMuZWwuc2NlbmVFbC5pcyhcInZyLW1vZGVcIikmJih0aGlzLnRvdWNoU3RhcnQ9e3g6ZS50b3VjaGVzWzBdLnBhZ2VYLHk6ZS50b3VjaGVzWzBdLnBhZ2VZfSx0aGlzLnRvdWNoU3RhcnRlZD0hMCl9LG9uVG91Y2hNb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0LG8sbj10aGlzLmVsLnNjZW5lRWwuY2FudmFzLGk9dGhpcy55YXdPYmplY3Q7dGhpcy50b3VjaFN0YXJ0ZWQmJnRoaXMuZGF0YS50b3VjaEVuYWJsZWQmJihvPTIqTWF0aC5QSSooZS50b3VjaGVzWzBdLnBhZ2VYLXRoaXMudG91Y2hTdGFydC54KS9uLmNsaWVudFdpZHRoLHQ9dGhpcy5kYXRhLnJldmVyc2VUb3VjaERyYWc/MTotMSxpLnJvdGF0aW9uLnktPS41Km8qdCx0aGlzLnRvdWNoU3RhcnQ9e3g6ZS50b3VjaGVzWzBdLnBhZ2VYLHk6ZS50b3VjaGVzWzBdLnBhZ2VZfSl9LG9uVG91Y2hFbmQ6ZnVuY3Rpb24oKXt0aGlzLnRvdWNoU3RhcnRlZD0hMX0sb25FbnRlclZSOmZ1bmN0aW9uKCl7dGhpcy5lbC5zY2VuZUVsLmNoZWNrSGVhZHNldENvbm5lY3RlZCgpJiYodGhpcy5zYXZlQ2FtZXJhUG9zZSgpLHRoaXMuZWwub2JqZWN0M0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLmVsLm9iamVjdDNELnJvdGF0aW9uLnNldCgwLDAsMCksdGhpcy5lbC5vYmplY3QzRC51cGRhdGVNYXRyaXgoKSl9LG9uRXhpdFZSOmZ1bmN0aW9uKCl7dGhpcy5lbC5zY2VuZUVsLmNoZWNrSGVhZHNldENvbm5lY3RlZCgpJiYodGhpcy5yZXN0b3JlQ2FtZXJhUG9zZSgpLHRoaXMucHJldmlvdXNITURQb3NpdGlvbi5zZXQoMCwwLDApKX0sb25Qb2ludGVyTG9ja0NoYW5nZTpmdW5jdGlvbigpe3RoaXMucG9pbnRlckxvY2tlZD0hKCFkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQmJiFkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQpfSxvblBvaW50ZXJMb2NrRXJyb3I6ZnVuY3Rpb24oKXt0aGlzLnBvaW50ZXJMb2NrZWQ9ITF9LGV4aXRQb2ludGVyTG9jazpmdW5jdGlvbigpe2RvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpLHRoaXMucG9pbnRlckxvY2tlZD0hMX0sdXBkYXRlR3JhYkN1cnNvcjpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7bi5jYW52YXMuY2xhc3NMaXN0LmFkZChcImEtZ3JhYi1jdXJzb3JcIil9ZnVuY3Rpb24gbygpe24uY2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoXCJhLWdyYWItY3Vyc29yXCIpfXZhciBuPXRoaXMuZWwuc2NlbmVFbDtyZXR1cm4gbi5jYW52YXM/ZT92b2lkIHQoKTp2b2lkIG8oKTp2b2lkKGU/bi5hZGRFdmVudExpc3RlbmVyKFwicmVuZGVyLXRhcmdldC1sb2FkZWRcIix0KTpuLmFkZEV2ZW50TGlzdGVuZXIoXCJyZW5kZXItdGFyZ2V0LWxvYWRlZFwiLG8pKX0sc2F2ZUNhbWVyYVBvc2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsO3RoaXMuc2F2ZWRQb3NlLnBvc2l0aW9uLmNvcHkoZS5vYmplY3QzRC5wb3NpdGlvbiksdGhpcy5zYXZlZFBvc2Uucm90YXRpb24uY29weShlLm9iamVjdDNELnJvdGF0aW9uKSx0aGlzLmhhc1NhdmVkUG9zZT0hMH0scmVzdG9yZUNhbWVyYVBvc2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsLHQ9dGhpcy5zYXZlZFBvc2U7dGhpcy5oYXNTYXZlZFBvc2UmJihlLm9iamVjdDNELnBvc2l0aW9uLmNvcHkodC5wb3NpdGlvbiksZS5vYmplY3QzRC5yb3RhdGlvbi5jb3B5KHQucm90YXRpb24pLHRoaXMuaGFzU2F2ZWRQb3NlPSExKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlscy9cIjoxODF9XSw3MDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBwYXJzZVNpZGUoZSl7c3dpdGNoKGUpe2Nhc2VcImJhY2tcIjpyZXR1cm4gVEhSRUUuQmFja1NpZGU7Y2FzZVwiZG91YmxlXCI6cmV0dXJuIFRIUkVFLkRvdWJsZVNpZGU7ZGVmYXVsdDpyZXR1cm4gVEhSRUUuRnJvbnRTaWRlfX1mdW5jdGlvbiBwYXJzZVZlcnRleENvbG9ycyhlKXtzd2l0Y2goZSl7Y2FzZVwiZmFjZVwiOnJldHVybiBUSFJFRS5GYWNlQ29sb3JzO2Nhc2VcInZlcnRleFwiOnJldHVybiBUSFJFRS5WZXJ0ZXhDb2xvcnM7ZGVmYXVsdDpyZXR1cm4gVEhSRUUuTm9Db2xvcnN9fWZ1bmN0aW9uIHBhcnNlQmxlbmRpbmcoZSl7c3dpdGNoKGUpe2Nhc2VcIm5vbmVcIjpyZXR1cm4gVEhSRUUuTm9CbGVuZGluZztjYXNlXCJhZGRpdGl2ZVwiOnJldHVybiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nO2Nhc2VcInN1YnRyYWN0aXZlXCI6cmV0dXJuIFRIUkVFLlN1YnRyYWN0aXZlQmxlbmRpbmc7Y2FzZVwibXVsdGlwbHlcIjpyZXR1cm4gVEhSRUUuTXVsdGlwbHlCbGVuZGluZztkZWZhdWx0OnJldHVybiBUSFJFRS5Ob3JtYWxCbGVuZGluZ319ZnVuY3Rpb24gZGlzcG9zZU1hdGVyaWFsKGUsdCl7ZS5kaXNwb3NlKCksdC51bnJlZ2lzdGVyTWF0ZXJpYWwoZSl9dmFyIHV0aWxzPV9kZXJlcV8oXCIuLi91dGlscy9cIiksY29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLHNoYWRlcj1fZGVyZXFfKFwiLi4vY29yZS9zaGFkZXJcIiksZXJyb3I9dXRpbHMuZGVidWcoXCJjb21wb25lbnRzOm1hdGVyaWFsOmVycm9yXCIpLHJlZ2lzdGVyQ29tcG9uZW50PWNvbXBvbmVudC5yZWdpc3RlckNvbXBvbmVudCxzaGFkZXJzPXNoYWRlci5zaGFkZXJzLHNoYWRlck5hbWVzPXNoYWRlci5zaGFkZXJOYW1lczttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJtYXRlcmlhbFwiLHtzY2hlbWE6e2FscGhhVGVzdDp7ZGVmYXVsdDowLG1pbjowLG1heDoxfSxkZXB0aFRlc3Q6e2RlZmF1bHQ6ITB9LGRlcHRoV3JpdGU6e2RlZmF1bHQ6ITB9LGZsYXRTaGFkaW5nOntkZWZhdWx0OiExfSxucG90OntkZWZhdWx0OiExfSxvZmZzZXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDowLHk6MH19LG9wYWNpdHk6e2RlZmF1bHQ6MSxtaW46MCxtYXg6MX0scmVwZWF0Ont0eXBlOlwidmVjMlwiLGRlZmF1bHQ6e3g6MSx5OjF9fSxzaGFkZXI6e2RlZmF1bHQ6XCJzdGFuZGFyZFwiLG9uZU9mOnNoYWRlck5hbWVzLHNjaGVtYUNoYW5nZTohMH0sc2lkZTp7ZGVmYXVsdDpcImZyb250XCIsb25lT2Y6W1wiZnJvbnRcIixcImJhY2tcIixcImRvdWJsZVwiXX0sdHJhbnNwYXJlbnQ6e2RlZmF1bHQ6ITF9LHZlcnRleENvbG9yczp7dHlwZTpcInN0cmluZ1wiLGRlZmF1bHQ6XCJub25lXCIsb25lT2Y6W1wiZmFjZVwiLFwidmVydGV4XCJdfSx2aXNpYmxlOntkZWZhdWx0OiEwfSxibGVuZGluZzp7ZGVmYXVsdDpcIm5vcm1hbFwiLG9uZU9mOltcIm5vbmVcIixcIm5vcm1hbFwiLFwiYWRkaXRpdmVcIixcInN1YnRyYWN0aXZlXCIsXCJtdWx0aXBseVwiXX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLm1hdGVyaWFsPW51bGx9LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmRhdGE7dGhpcy5zaGFkZXImJnQuc2hhZGVyPT09ZS5zaGFkZXJ8fHRoaXMudXBkYXRlU2hhZGVyKHQuc2hhZGVyKSx0aGlzLnNoYWRlci51cGRhdGUodGhpcy5kYXRhKSx0aGlzLnVwZGF0ZU1hdGVyaWFsKGUpfSx1cGRhdGVTY2hlbWE6ZnVuY3Rpb24oZSl7dmFyIHQsYSxyLGk7YT1lJiZlLnNoYWRlcix0PXRoaXMub2xkRGF0YSYmdGhpcy5vbGREYXRhLnNoYWRlcixpPWF8fHQscj1zaGFkZXJzW2ldJiZzaGFkZXJzW2ldLnNjaGVtYSxyfHxlcnJvcihcIlVua25vd24gc2hhZGVyIHNjaGVtYSBcIitpKSx0JiZhPT09dHx8KHRoaXMuZXh0ZW5kU2NoZW1hKHIpLHRoaXMudXBkYXRlQmVoYXZpb3IoKSl9LHVwZGF0ZUJlaGF2aW9yOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciByO2ZvcihyIGluIGEpYVtyXT1lO3Muc2hhZGVyLnVwZGF0ZShhKX12YXIgdCxhLHI9dGhpcy5lbC5zY2VuZUVsLGk9dGhpcy5zY2hlbWEscz10aGlzO3RoaXMudGljaz12b2lkIDAsYT17fTtmb3IodCBpbiBpKVwidGltZVwiPT09aVt0XS50eXBlJiYodGhpcy50aWNrPWUsYVt0XT0hMCk7ciYmKHRoaXMudGljaz9yLmFkZEJlaGF2aW9yKHRoaXMpOnIucmVtb3ZlQmVoYXZpb3IodGhpcykpfSx1cGRhdGVTaGFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQsYT10aGlzLmRhdGEscj1zaGFkZXJzW2VdJiZzaGFkZXJzW2VdLlNoYWRlcjtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHNoYWRlciBcIitlKTt0PXRoaXMuc2hhZGVyPW5ldyByLHQuZWw9dGhpcy5lbCx0LmluaXQoYSksdGhpcy5zZXRNYXRlcmlhbCh0Lm1hdGVyaWFsKSx0aGlzLnVwZGF0ZVNjaGVtYShhKX0sdXBkYXRlTWF0ZXJpYWw6ZnVuY3Rpb24oZSl7dmFyIHQsYT10aGlzLmRhdGEscj10aGlzLm1hdGVyaWFsO3IuYWxwaGFUZXN0PWEuYWxwaGFUZXN0LHIuZGVwdGhUZXN0PSExIT09YS5kZXB0aFRlc3Qsci5kZXB0aFdyaXRlPSExIT09YS5kZXB0aFdyaXRlLHIub3BhY2l0eT1hLm9wYWNpdHksci5mbGF0U2hhZGluZz1hLmZsYXRTaGFkaW5nLHIuc2lkZT1wYXJzZVNpZGUoYS5zaWRlKSxyLnRyYW5zcGFyZW50PSExIT09YS50cmFuc3BhcmVudHx8YS5vcGFjaXR5PDEsci52ZXJ0ZXhDb2xvcnM9cGFyc2VWZXJ0ZXhDb2xvcnMoYS52ZXJ0ZXhDb2xvcnMpLHIudmlzaWJsZT1hLnZpc2libGUsci5ibGVuZGluZz1wYXJzZUJsZW5kaW5nKGEuYmxlbmRpbmcpO2Zvcih0IGluIGUpYnJlYWs7IXR8fGUuYWxwaGFUZXN0PT09YS5hbHBoYVRlc3QmJmUuc2lkZT09PWEuc2lkZSYmZS52ZXJ0ZXhDb2xvcnM9PT1hLnZlcnRleENvbG9yc3x8KHIubmVlZHNVcGRhdGU9ITApfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwsdD10aGlzLm1hdGVyaWFsLGE9dGhpcy5lbC5nZXRPYmplY3QzRChcIm1lc2hcIik7YSYmKGEubWF0ZXJpYWw9ZSksZGlzcG9zZU1hdGVyaWFsKHQsdGhpcy5zeXN0ZW0pfSxzZXRNYXRlcmlhbDpmdW5jdGlvbihlKXt2YXIgdCxhPXRoaXMuZWwscj10aGlzLnN5c3RlbTt0aGlzLm1hdGVyaWFsJiZkaXNwb3NlTWF0ZXJpYWwodGhpcy5tYXRlcmlhbCxyKSx0aGlzLm1hdGVyaWFsPWUsci5yZWdpc3Rlck1hdGVyaWFsKGUpLHQ9YS5nZXRPYmplY3QzRChcIm1lc2hcIiksdD90Lm1hdGVyaWFsPWU6YS5hZGRFdmVudExpc3RlbmVyKFwib2JqZWN0M2RzZXRcIixmdW5jdGlvbiB0KHIpe1wibWVzaFwiPT09ci5kZXRhaWwudHlwZSYmci50YXJnZXQ9PT1hJiYoYS5nZXRPYmplY3QzRChcIm1lc2hcIikubWF0ZXJpYWw9ZSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvYmplY3QzZHNldFwiLHQpKX0pfX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL2NvcmUvc2hhZGVyXCI6MTE4LFwiLi4vbGliL3RocmVlXCI6MTU2LFwiLi4vdXRpbHMvXCI6MTgxfV0sNzE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGRlYnVnPV9kZXJlcV8oXCIuLi91dGlscy9kZWJ1Z1wiKSxyZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx3YXJuPWRlYnVnKFwiY29tcG9uZW50czpvYmotbW9kZWw6d2FyblwiKTttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJvYmotbW9kZWxcIix7c2NoZW1hOnttdGw6e3R5cGU6XCJtb2RlbFwifSxvYmo6e3R5cGU6XCJtb2RlbFwifX0saW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tb2RlbD1udWxsLHRoaXMub2JqTG9hZGVyPW5ldyBUSFJFRS5PQkpMb2FkZXIsdGhpcy5tdGxMb2FkZXI9bmV3IFRIUkVFLk1UTExvYWRlcih0aGlzLm9iakxvYWRlci5tYW5hZ2VyKSx0aGlzLm10bExvYWRlci5jcm9zc09yaWdpbj1cIlwiLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBvbmVudGluaXRpYWxpemVkXCIsZnVuY3Rpb24obyl7ZS5tb2RlbCYmXCJtYXRlcmlhbFwiPT09by5kZXRhaWwubmFtZSYmZS5hcHBseU1hdGVyaWFsKCl9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhO2Uub2JqJiYodGhpcy5yZXNldE1lc2goKSx0aGlzLmxvYWRPYmooZS5vYmosZS5tdGwpKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbCYmdGhpcy5yZXNldE1lc2goKX0scmVzZXRNZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbC5yZW1vdmVPYmplY3QzRChcIm1lc2hcIil9LGxvYWRPYmo6ZnVuY3Rpb24oZSxvKXt2YXIgdD10aGlzLHI9dGhpcy5lbCxpPXRoaXMubXRsTG9hZGVyLGE9dGhpcy5vYmpMb2FkZXIscz10aGlzLmVsLnNjZW5lRWwuc3lzdGVtcy5yZW5kZXJlcixuPW8uc3Vic3RyKDAsby5sYXN0SW5kZXhPZihcIi9cIikrMSk7aWYobylyZXR1cm4gci5oYXNBdHRyaWJ1dGUoXCJtYXRlcmlhbFwiKSYmd2FybihcIk1hdGVyaWFsIGNvbXBvbmVudCBwcm9wZXJ0aWVzIGFyZSBpZ25vcmVkIHdoZW4gYSAuTVRMIGlzIHByb3ZpZGVkXCIpLGkuc2V0UmVzb3VyY2VQYXRoKG4pLHZvaWQgaS5sb2FkKG8sZnVuY3Rpb24obyl7by5wcmVsb2FkKCksYS5zZXRNYXRlcmlhbHMobyksYS5sb2FkKGUsZnVuY3Rpb24oZSl7dC5tb2RlbD1lLHQubW9kZWwudHJhdmVyc2UoZnVuY3Rpb24oZSl7aWYoZS5pc01lc2gpe3ZhciBvPWUubWF0ZXJpYWw7by5jb2xvciYmcy5hcHBseUNvbG9yQ29ycmVjdGlvbihvLmNvbG9yKSxvLm1hcCYmcy5hcHBseUNvbG9yQ29ycmVjdGlvbihvLm1hcCksby5lbWlzc2l2ZSYmcy5hcHBseUNvbG9yQ29ycmVjdGlvbihvLmVtaXNzaXZlKSxvLmVtaXNzaXZlTWFwJiZzLmFwcGx5Q29sb3JDb3JyZWN0aW9uKG8uZW1pc3NpdmVNYXApfX0pLHIuc2V0T2JqZWN0M0QoXCJtZXNoXCIsZSksci5lbWl0KFwibW9kZWwtbG9hZGVkXCIse2Zvcm1hdDpcIm9ialwiLG1vZGVsOmV9KX0pfSk7YS5sb2FkKGUsZnVuY3Rpb24oZSl7dC5tb2RlbD1lLHQuYXBwbHlNYXRlcmlhbCgpLHIuc2V0T2JqZWN0M0QoXCJtZXNoXCIsZSksci5lbWl0KFwibW9kZWwtbG9hZGVkXCIse2Zvcm1hdDpcIm9ialwiLG1vZGVsOmV9KX0pfSxhcHBseU1hdGVyaWFsOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbC5jb21wb25lbnRzLm1hdGVyaWFsO2UmJnRoaXMubW9kZWwudHJhdmVyc2UoZnVuY3Rpb24obyl7byBpbnN0YW5jZW9mIFRIUkVFLk1lc2gmJihvLm1hdGVyaWFsPWUubWF0ZXJpYWwpfSl9fSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vbGliL3RocmVlXCI6MTU2LFwiLi4vdXRpbHMvZGVidWdcIjoxNzd9XSw3MjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LGJpbmQ9X2RlcmVxXyhcIi4uL3V0aWxzL2JpbmRcIiksdHJhY2tlZENvbnRyb2xzVXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL3RyYWNrZWQtY29udHJvbHNcIiksY2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwPXRyYWNrZWRDb250cm9sc1V0aWxzLmNoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cCxlbWl0SWZBeGVzQ2hhbmdlZD10cmFja2VkQ29udHJvbHNVdGlscy5lbWl0SWZBeGVzQ2hhbmdlZCxvbkJ1dHRvbkV2ZW50PXRyYWNrZWRDb250cm9sc1V0aWxzLm9uQnV0dG9uRXZlbnQsaXNXZWJYUkF2YWlsYWJsZT1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLmRldmljZS5pc1dlYlhSQXZhaWxhYmxlLEdBTUVQQURfSURfV0VCWFI9XCJvY3VsdXMtZ29cIixHQU1FUEFEX0lEX1dFQlZSPVwiT2N1bHVzIEdvXCIsT0NVTFVTX0dPX0NPTlRST0xMRVJfTU9ERUxfVVJMPVwiaHR0cHM6Ly9jZG4uYWZyYW1lLmlvL2NvbnRyb2xsZXJzL29jdWx1cy9nby9vY3VsdXMtZ28tY29udHJvbGxlci5nbHRmXCIsR0FNRVBBRF9JRF9QUkVGSVg9aXNXZWJYUkF2YWlsYWJsZT9HQU1FUEFEX0lEX1dFQlhSOkdBTUVQQURfSURfV0VCVlIsSU5QVVRfTUFQUElOR19XRUJWUj17YXhlczp7dHJhY2twYWQ6WzAsMV19LGJ1dHRvbnM6W1widHJhY2twYWRcIixcInRyaWdnZXJcIl19LElOUFVUX01BUFBJTkdfV0VCWFI9e2xlZnQ6e2F4ZXM6e3RvdWNocGFkOlswLDFdfSxidXR0b25zOltcInRyaWdnZXJcIixcIm5vbmVcIixcInRvdWNocGFkXCJdfSxyaWdodDp7YXhlczp7dG91Y2hwYWQ6WzAsMV19LGJ1dHRvbnM6W1widHJpZ2dlclwiLFwibm9uZVwiLFwidG91Y2hwYWRcIl19fSxJTlBVVF9NQVBQSU5HPWlzV2ViWFJBdmFpbGFibGU/SU5QVVRfTUFQUElOR19XRUJYUjpJTlBVVF9NQVBQSU5HX1dFQlZSO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcIm9jdWx1cy1nby1jb250cm9sc1wiLHtzY2hlbWE6e2hhbmQ6e2RlZmF1bHQ6XCJcIn0sYnV0dG9uQ29sb3I6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjRkZGRkZGXCJ9LGJ1dHRvblRvdWNoZWRDb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiNCQkJCQkJcIn0sYnV0dG9uSGlnaGxpZ2h0Q29sb3I6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjN0E3QTdBXCJ9LG1vZGVsOntkZWZhdWx0OiEwfSxvcmllbnRhdGlvbk9mZnNldDp7dHlwZTpcInZlYzNcIn0sYXJtTW9kZWw6e2RlZmF1bHQ6ITB9fSxtYXBwaW5nOklOUFVUX01BUFBJTkcsYmluZE1ldGhvZHM6ZnVuY3Rpb24oKXt0aGlzLm9uTW9kZWxMb2FkZWQ9YmluZCh0aGlzLm9uTW9kZWxMb2FkZWQsdGhpcyksdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlPWJpbmQodGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLHRoaXMpLHRoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50PWJpbmQodGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQsdGhpcyksdGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyPWJpbmQodGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyLHRoaXMpLHRoaXMub25BeGlzTW92ZWQ9YmluZCh0aGlzLm9uQXhpc01vdmVkLHRoaXMpfSxpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm9uQnV0dG9uQ2hhbmdlZD1iaW5kKHRoaXMub25CdXR0b25DaGFuZ2VkLHRoaXMpLHRoaXMub25CdXR0b25Eb3duPWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJkb3duXCIsdCl9LHRoaXMub25CdXR0b25VcD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidXBcIix0KX0sdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInRvdWNoc3RhcnRcIix0KX0sdGhpcy5vbkJ1dHRvblRvdWNoRW5kPWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJ0b3VjaGVuZFwiLHQpfSx0aGlzLmNvbnRyb2xsZXJQcmVzZW50PSExLHRoaXMubGFzdENvbnRyb2xsZXJDaGVjaz0wLHRoaXMucmVuZGVyZXJTeXN0ZW09dGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMucmVuZGVyZXIsdGhpcy5iaW5kTWV0aG9kcygpfSxhZGRFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb2RlbC1sb2FkZWRcIix0aGlzLm9uTW9kZWxMb2FkZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSEwfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb2RlbC1sb2FkZWRcIix0aGlzLm9uTW9kZWxMb2FkZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSExfSxjaGVja0lmQ29udHJvbGxlclByZXNlbnQ6ZnVuY3Rpb24oKXtjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXAodGhpcyxHQU1FUEFEX0lEX1BSRUZJWCx0aGlzLmRhdGEuaGFuZD97aGFuZDp0aGlzLmRhdGEuaGFuZH06e30pfSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQoKSx0aGlzLmFkZENvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyKCl9LGluamVjdFRyYWNrZWRDb250cm9sczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwsZT10aGlzLmRhdGE7dC5zZXRBdHRyaWJ1dGUoXCJ0cmFja2VkLWNvbnRyb2xzXCIse2FybU1vZGVsOmUuYXJtTW9kZWwsaGFuZDplLmhhbmQsaWRQcmVmaXg6R0FNRVBBRF9JRF9QUkVGSVgsb3JpZW50YXRpb25PZmZzZXQ6ZS5vcmllbnRhdGlvbk9mZnNldH0pLHRoaXMuZGF0YS5tb2RlbCYmdGhpcy5lbC5zZXRBdHRyaWJ1dGUoXCJnbHRmLW1vZGVsXCIsT0NVTFVTX0dPX0NPTlRST0xMRVJfTU9ERUxfVVJMKX0sYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0scmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0sb25Db250cm9sbGVyc1VwZGF0ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50KCl9LG9uTW9kZWxMb2FkZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbz10LmRldGFpbC5tb2RlbDt0aGlzLmRhdGEubW9kZWwmJihlPXRoaXMuYnV0dG9uTWVzaGVzPXt9LGUudHJpZ2dlcj1vLmdldE9iamVjdEJ5TmFtZShcIm9jdWx1c19nb19idXR0b25fdHJpZ2dlclwiKSxlLnRyYWNrcGFkPW8uZ2V0T2JqZWN0QnlOYW1lKFwib2N1bHVzX2dvX3RvdWNocGFkXCIpKX0sb25CdXR0b25DaGFuZ2VkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWFwcGluZy5idXR0b25zW3QuZGV0YWlsLmlkXTtlJiZ0aGlzLmVsLmVtaXQoZStcImNoYW5nZWRcIix0LmRldGFpbC5zdGF0ZSl9LG9uQXhpc01vdmVkOmZ1bmN0aW9uKHQpe2VtaXRJZkF4ZXNDaGFuZ2VkKHRoaXMsdGhpcy5tYXBwaW5nLmF4ZXMsdCl9LHVwZGF0ZU1vZGVsOmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhLm1vZGVsJiZ0aGlzLnVwZGF0ZUJ1dHRvbk1vZGVsKHQsZSl9LHVwZGF0ZUJ1dHRvbk1vZGVsOmZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcy5idXR0b25NZXNoZXM7aWYobyYmb1t0XSl7dmFyIG4saTtzd2l0Y2goZSl7Y2FzZVwiZG93blwiOm49dGhpcy5kYXRhLmJ1dHRvbkhpZ2hsaWdodENvbG9yO2JyZWFrO2Nhc2VcInRvdWNoc3RhcnRcIjpuPXRoaXMuZGF0YS5idXR0b25Ub3VjaGVkQ29sb3I7YnJlYWs7ZGVmYXVsdDpuPXRoaXMuZGF0YS5idXR0b25Db2xvcn1pPW9bdF0saS5tYXRlcmlhbC5jb2xvci5zZXQobiksdGhpcy5yZW5kZXJlclN5c3RlbS5hcHBseUNvbG9yQ29ycmVjdGlvbihpLm1hdGVyaWFsLmNvbG9yKX19fSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vdXRpbHMvXCI6MTgxLFwiLi4vdXRpbHMvYmluZFwiOjE3NSxcIi4uL3V0aWxzL3RyYWNrZWQtY29udHJvbHNcIjoxODl9XSw3MzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgYmluZD1fZGVyZXFfKFwiLi4vdXRpbHMvYmluZFwiKSxyZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx0cmFja2VkQ29udHJvbHNVdGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiKSxjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXA9dHJhY2tlZENvbnRyb2xzVXRpbHMuY2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwLGVtaXRJZkF4ZXNDaGFuZ2VkPXRyYWNrZWRDb250cm9sc1V0aWxzLmVtaXRJZkF4ZXNDaGFuZ2VkLG9uQnV0dG9uRXZlbnQ9dHJhY2tlZENvbnRyb2xzVXRpbHMub25CdXR0b25FdmVudCxpc09jdWx1c0Jyb3dzZXI9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKS5kZXZpY2UuaXNPY3VsdXNCcm93c2VyKCksaXNXZWJYUkF2YWlsYWJsZT1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLmRldmljZS5pc1dlYlhSQXZhaWxhYmxlLEdBTUVQQURfSURfV0VCWFI9XCJvY3VsdXMtdG91Y2hcIixHQU1FUEFEX0lEX1dFQlZSPVwiT2N1bHVzIFRvdWNoXCIsR0FNRVBBRF9JRF9QUkVGSVg9aXNXZWJYUkF2YWlsYWJsZT9HQU1FUEFEX0lEX1dFQlhSOkdBTUVQQURfSURfV0VCVlIsVE9VQ0hfQ09OVFJPTExFUl9NT0RFTF9CQVNFX1VSTD1cImh0dHBzOi8vY2RuLmFmcmFtZS5pby9jb250cm9sbGVycy9vY3VsdXMvb2N1bHVzLXRvdWNoLWNvbnRyb2xsZXItXCIsVE9VQ0hfR0VOMl9DT05UUk9MTEVSX01PREVMX0JBU0VfVVJMPVRPVUNIX0NPTlRST0xMRVJfTU9ERUxfQkFTRV9VUkwsT0NVTFVTX1RPVUNIX1dFQlZSPXtsZWZ0Onttb2RlbFVybDpUT1VDSF9DT05UUk9MTEVSX01PREVMX0JBU0VfVVJMK1wibGVmdC5nbHRmXCIscmF5T3JpZ2luOntvcmlnaW46e3g6LjAwOCx5Oi0uMDEsejowfSxkaXJlY3Rpb246e3g6MCx5Oi0uOCx6Oi0xfX0sbW9kZWxQaXZvdE9mZnNldDpuZXcgVEhSRUUuVmVjdG9yMygtLjAwNSwuMDAzLC0uMDU1KSxtb2RlbFBpdm90Um90YXRpb246bmV3IFRIUkVFLkV1bGVyKDAsMCwwKX0scmlnaHQ6e21vZGVsVXJsOlRPVUNIX0NPTlRST0xMRVJfTU9ERUxfQkFTRV9VUkwrXCJyaWdodC5nbHRmXCIscmF5T3JpZ2luOntvcmlnaW46e3g6LS4wMDgseTotLjAxLHo6MH0sZGlyZWN0aW9uOnt4OjAseTotLjgsejotMX19LG1vZGVsUGl2b3RPZmZzZXQ6bmV3IFRIUkVFLlZlY3RvcjMoLjAwNSwuMDAzLC0uMDU1KSxtb2RlbFBpdm90Um90YXRpb246bmV3IFRIUkVFLkV1bGVyKDAsMCwwKX19LE9DVUxVU19UT1VDSF9XRUJYUj17bGVmdDp7bW9kZWxVcmw6VE9VQ0hfQ09OVFJPTExFUl9NT0RFTF9CQVNFX1VSTCtcImxlZnQuZ2x0ZlwiLHJheU9yaWdpbjp7b3JpZ2luOnt4Oi4wMDIseTotLjAwNSx6Oi0uMDN9LGRpcmVjdGlvbjp7eDowLHk6LS44LHo6LTF9fSxtb2RlbFBpdm90T2Zmc2V0Om5ldyBUSFJFRS5WZWN0b3IzKC0uMDA1LC4wMzYsLS4wMzcpLG1vZGVsUGl2b3RSb3RhdGlvbjpuZXcgVEhSRUUuRXVsZXIoTWF0aC5QSS80LjUsMCwwKX0scmlnaHQ6e21vZGVsVXJsOlRPVUNIX0NPTlRST0xMRVJfTU9ERUxfQkFTRV9VUkwrXCJyaWdodC5nbHRmXCIscmF5T3JpZ2luOntvcmlnaW46e3g6LS4wMDIseTotLjAwNSx6Oi0uMDN9LGRpcmVjdGlvbjp7eDowLHk6LS44LHo6LTF9fSxtb2RlbFBpdm90T2Zmc2V0Om5ldyBUSFJFRS5WZWN0b3IzKC4wMDUsLjAzNiwtLjAzNyksbW9kZWxQaXZvdFJvdGF0aW9uOm5ldyBUSFJFRS5FdWxlcihNYXRoLlBJLzQuNSwwLDApfX0sT0NVTFVTX1RPVUNIX0NPTkZJRz1pc1dlYlhSQXZhaWxhYmxlP09DVUxVU19UT1VDSF9XRUJYUjpPQ1VMVVNfVE9VQ0hfV0VCVlIsQ09OVFJPTExFUl9ERUZBVUxUPVwib2N1bHVzLXRvdWNoXCIsQ09OVFJPTExFUl9QUk9QRVJUSUVTPXtcIm9jdWx1cy10b3VjaFwiOk9DVUxVU19UT1VDSF9DT05GSUcsXCJvY3VsdXMtdG91Y2gtdjJcIjp7bGVmdDp7bW9kZWxVcmw6VE9VQ0hfR0VOMl9DT05UUk9MTEVSX01PREVMX0JBU0VfVVJMK1wiZ2VuMi1sZWZ0LmdsdGZcIixyYXlPcmlnaW46e29yaWdpbjp7eDotLjAxLHk6MCx6Oi0uMDJ9LGRpcmVjdGlvbjp7eDowLHk6LS41LHo6LTF9fSxtb2RlbFBpdm90T2Zmc2V0Om5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSxtb2RlbFBpdm90Um90YXRpb246bmV3IFRIUkVFLkV1bGVyKDAsMCwwKX0scmlnaHQ6e21vZGVsVXJsOlRPVUNIX0dFTjJfQ09OVFJPTExFUl9NT0RFTF9CQVNFX1VSTCtcImdlbjItcmlnaHQuZ2x0ZlwiLHJheU9yaWdpbjp7b3JpZ2luOnt4Oi4wMSx5OjAsejotLjAyfSxkaXJlY3Rpb246e3g6MCx5Oi0uNSx6Oi0xfX0sbW9kZWxQaXZvdE9mZnNldDpuZXcgVEhSRUUuVmVjdG9yMygwLDAsMCksbW9kZWxQaXZvdFJvdGF0aW9uOm5ldyBUSFJFRS5FdWxlcigwLDAsMCl9fX0sSU5QVVRfTUFQUElOR19XRUJWUj17bGVmdDp7YXhlczp7dGh1bWJzdGljazpbMCwxXX0sYnV0dG9uczpbXCJ0aHVtYnN0aWNrXCIsXCJ0cmlnZ2VyXCIsXCJncmlwXCIsXCJ4YnV0dG9uXCIsXCJ5YnV0dG9uXCIsXCJzdXJmYWNlXCJdfSxyaWdodDp7YXhlczp7dGh1bWJzdGljazpbMCwxXX0sYnV0dG9uczpbXCJ0aHVtYnN0aWNrXCIsXCJ0cmlnZ2VyXCIsXCJncmlwXCIsXCJhYnV0dG9uXCIsXCJiYnV0dG9uXCIsXCJzdXJmYWNlXCJdfX0sSU5QVVRfTUFQUElOR19XRUJYUj17bGVmdDp7YXhlczp7dGh1bWJzdGljazpbMiwzXX0sYnV0dG9uczpbXCJ0cmlnZ2VyXCIsXCJncmlwXCIsXCJub25lXCIsXCJ0aHVtYnN0aWNrXCIsXCJ4YnV0dG9uXCIsXCJ5YnV0dG9uXCIsXCJzdXJmYWNlXCJdfSxyaWdodDp7YXhlczp7dGh1bWJzdGljazpbMiwzXX0sYnV0dG9uczpbXCJ0cmlnZ2VyXCIsXCJncmlwXCIsXCJub25lXCIsXCJ0aHVtYnN0aWNrXCIsXCJhYnV0dG9uXCIsXCJiYnV0dG9uXCIsXCJzdXJmYWNlXCJdfX0sSU5QVVRfTUFQUElORz1pc1dlYlhSQXZhaWxhYmxlP0lOUFVUX01BUFBJTkdfV0VCWFI6SU5QVVRfTUFQUElOR19XRUJWUjttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJvY3VsdXMtdG91Y2gtY29udHJvbHNcIix7c2NoZW1hOntoYW5kOntkZWZhdWx0OlwibGVmdFwifSxidXR0b25Db2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiM5OTlcIn0sYnV0dG9uVG91Y2hDb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiM4QUJcIn0sYnV0dG9uSGlnaGxpZ2h0Q29sb3I6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjMkRGXCJ9LG1vZGVsOntkZWZhdWx0OiEwfSxjb250cm9sbGVyVHlwZTp7ZGVmYXVsdDpcImF1dG9cIixvbmVPZjpbXCJhdXRvXCIsXCJvY3VsdXMtdG91Y2hcIixcIm9jdWx1cy10b3VjaC12MlwiXX0sb3JpZW50YXRpb25PZmZzZXQ6e3R5cGU6XCJ2ZWMzXCIsZGVmYXVsdDp7eDo0Myx5OjAsejowfX19LG1hcHBpbmc6SU5QVVRfTUFQUElORyxiaW5kTWV0aG9kczpmdW5jdGlvbigpe3RoaXMub25Nb2RlbExvYWRlZD1iaW5kKHRoaXMub25Nb2RlbExvYWRlZCx0aGlzKSx0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGU9YmluZCh0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsdGhpcyksdGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQ9YmluZCh0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCx0aGlzKSx0aGlzLm9uQXhpc01vdmVkPWJpbmQodGhpcy5vbkF4aXNNb3ZlZCx0aGlzKX0saW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5vbkJ1dHRvbkNoYW5nZWQ9YmluZCh0aGlzLm9uQnV0dG9uQ2hhbmdlZCx0aGlzKSx0aGlzLm9uQnV0dG9uRG93bj1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwiZG93blwiLHQsdC5kYXRhLmhhbmQpfSx0aGlzLm9uQnV0dG9uVXA9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInVwXCIsdCx0LmRhdGEuaGFuZCl9LHRoaXMub25CdXR0b25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJ0b3VjaHN0YXJ0XCIsdCx0LmRhdGEuaGFuZCl9LHRoaXMub25CdXR0b25Ub3VjaEVuZD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidG91Y2hlbmRcIix0LHQuZGF0YS5oYW5kKX0sdGhpcy5jb250cm9sbGVyUHJlc2VudD0hMSx0aGlzLmxhc3RDb250cm9sbGVyQ2hlY2s9MCx0aGlzLnByZXZpb3VzQnV0dG9uVmFsdWVzPXt9LHRoaXMucmVuZGVyZXJTeXN0ZW09dGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMucmVuZGVyZXIsdGhpcy5iaW5kTWV0aG9kcygpfSxhZGRFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJheGlzbW92ZVwiLHRoaXMub25BeGlzTW92ZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSEwfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMub25CdXR0b25DaGFuZ2VkKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25kb3duXCIsdGhpcy5vbkJ1dHRvbkRvd24pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbnVwXCIsdGhpcy5vbkJ1dHRvblVwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJheGlzbW92ZVwiLHRoaXMub25BeGlzTW92ZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdGhpcy5jb250cm9sbGVyRXZlbnRzQWN0aXZlPSExfSxjaGVja0lmQ29udHJvbGxlclByZXNlbnQ6ZnVuY3Rpb24oKXtjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXAodGhpcyxHQU1FUEFEX0lEX1BSRUZJWCx7aGFuZDp0aGlzLmRhdGEuaGFuZH0pfSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQoKSx0aGlzLmFkZENvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyKCl9LGxvYWRNb2RlbDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YTtpZih0Lm1vZGVsKXtpZih0aGlzLmRpc3BsYXlNb2RlbD1DT05UUk9MTEVSX1BST1BFUlRJRVNbdC5jb250cm9sbGVyVHlwZV18fENPTlRST0xMRVJfUFJPUEVSVElFU1tDT05UUk9MTEVSX0RFRkFVTFRdLFwiYXV0b1wiPT09dC5jb250cm9sbGVyVHlwZSl7dmFyIGU9dGhpcy5lbC5zY2VuZUVsLnN5c3RlbXNbXCJ0cmFja2VkLWNvbnRyb2xzLXdlYnZyXCJdO2lmKGUmJmUudnJEaXNwbGF5KXsvXk9jdWx1cyBRdWVzdCQvLnRlc3QoZS52ckRpc3BsYXkuZGlzcGxheU5hbWUpJiYodGhpcy5kaXNwbGF5TW9kZWw9Q09OVFJPTExFUl9QUk9QRVJUSUVTW1wib2N1bHVzLXRvdWNoLXYyXCJdKX1pc09jdWx1c0Jyb3dzZXImJih0aGlzLmRpc3BsYXlNb2RlbD1DT05UUk9MTEVSX1BST1BFUlRJRVNbXCJvY3VsdXMtdG91Y2gtdjJcIl0pfXZhciBvPXRoaXMuZGlzcGxheU1vZGVsW3QuaGFuZF0ubW9kZWxVcmw7dGhpcy5lbC5zZXRBdHRyaWJ1dGUoXCJnbHRmLW1vZGVsXCIsbyl9fSxpbmplY3RUcmFja2VkQ29udHJvbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGEsZT1HQU1FUEFEX0lEX1dFQlhSLG89XCJyaWdodFwiPT09dC5oYW5kP1wiT2N1bHVzIFRvdWNoIChSaWdodClcIjpcIk9jdWx1cyBUb3VjaCAoTGVmdClcIixuPWlzV2ViWFJBdmFpbGFibGU/ZTpvO3RoaXMuZWwuc2V0QXR0cmlidXRlKFwidHJhY2tlZC1jb250cm9sc1wiLHtpZDpuLGhhbmQ6dC5oYW5kLG9yaWVudGF0aW9uT2Zmc2V0OnQub3JpZW50YXRpb25PZmZzZXR9KSx0aGlzLmxvYWRNb2RlbCgpfSxhZGRDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5lbC5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyc3VwZGF0ZWRcIix0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsITEpfSxyZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5lbC5zY2VuZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyc3VwZGF0ZWRcIix0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsITEpfSxvbkNvbnRyb2xsZXJzVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQoKX0sb25CdXR0b25DaGFuZ2VkOmZ1bmN0aW9uKHQpe3ZhciBlLG89dGhpcy5tYXBwaW5nW3RoaXMuZGF0YS5oYW5kXS5idXR0b25zW3QuZGV0YWlsLmlkXSxuPXRoaXMuYnV0dG9uTWVzaGVzO28mJihcInRyaWdnZXJcIiE9PW8mJlwiZ3JpcFwiIT09b3x8KGU9dC5kZXRhaWwuc3RhdGUudmFsdWUpLG4mJihcInRyaWdnZXJcIj09PW8mJm4udHJpZ2dlciYmKG4udHJpZ2dlci5yb3RhdGlvbi54PXRoaXMub3JpZ2luYWxYUm90YXRpb25UcmlnZ2VyLWUqKE1hdGguUEkvMjYpKSxcImdyaXBcIj09PW8mJm4uZ3JpcCYmKG4uZ3JpcC5wb3NpdGlvbi54PXRoaXMub3JpZ2luYWxYUG9zaXRpb25HcmlwKyhcImxlZnRcIj09PXRoaXMuZGF0YS5oYW5kPy0xOjEpKmUqLjAwNCkpLHRoaXMuZWwuZW1pdChvK1wiY2hhbmdlZFwiLHQuZGV0YWlsLnN0YXRlKSl9LG9uTW9kZWxMb2FkZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbz10LmRldGFpbC5tb2RlbDt0aGlzLmRhdGEubW9kZWwmJihlPXRoaXMuYnV0dG9uTWVzaGVzPXt9LGUuZ3JpcD1vLmdldE9iamVjdEJ5TmFtZShcImJ1dHRvbkhhbmRcIiksdGhpcy5vcmlnaW5hbFhQb3NpdGlvbkdyaXA9ZS5ncmlwLnBvc2l0aW9uLngsZS50aHVtYnN0aWNrPW8uZ2V0T2JqZWN0QnlOYW1lKFwic3RpY2tcIiksZS50cmlnZ2VyPW8uZ2V0T2JqZWN0QnlOYW1lKFwiYnV0dG9uVHJpZ2dlclwiKSx0aGlzLm9yaWdpbmFsWFJvdGF0aW9uVHJpZ2dlcj1lLnRyaWdnZXIucm90YXRpb24ueCxlLnhidXR0b249by5nZXRPYmplY3RCeU5hbWUoXCJidXR0b25YXCIpLGUuYWJ1dHRvbj1vLmdldE9iamVjdEJ5TmFtZShcImJ1dHRvbkFcIiksZS55YnV0dG9uPW8uZ2V0T2JqZWN0QnlOYW1lKFwiYnV0dG9uWVwiKSxlLmJidXR0b249by5nZXRPYmplY3RCeU5hbWUoXCJidXR0b25CXCIpLG8ucG9zaXRpb24uY29weSh0aGlzLmRpc3BsYXlNb2RlbFt0aGlzLmRhdGEuaGFuZF0ubW9kZWxQaXZvdE9mZnNldCksby5yb3RhdGlvbi5jb3B5KHRoaXMuZGlzcGxheU1vZGVsW3RoaXMuZGF0YS5oYW5kXS5tb2RlbFBpdm90Um90YXRpb24pLHRoaXMuZWwuZW1pdChcImNvbnRyb2xsZXJtb2RlbHJlYWR5XCIse25hbWU6XCJvY3VsdXMtdG91Y2gtY29udHJvbHNcIixtb2RlbDp0aGlzLmRhdGEubW9kZWwscmF5T3JpZ2luOnRoaXMuZGlzcGxheU1vZGVsW3RoaXMuZGF0YS5oYW5kXS5yYXlPcmlnaW59KSl9LG9uQXhpc01vdmVkOmZ1bmN0aW9uKHQpe2VtaXRJZkF4ZXNDaGFuZ2VkKHRoaXMsdGhpcy5tYXBwaW5nW3RoaXMuZGF0YS5oYW5kXS5heGVzLHQpfSx1cGRhdGVNb2RlbDpmdW5jdGlvbih0LGUpe3RoaXMuZGF0YS5tb2RlbCYmdGhpcy51cGRhdGVCdXR0b25Nb2RlbCh0LGUpfSx1cGRhdGVCdXR0b25Nb2RlbDpmdW5jdGlvbih0LGUpe3ZhciBvLG49XCJ1cFwiPT09ZXx8XCJ0b3VjaGVuZFwiPT09ZT90aGlzLmRhdGEuYnV0dG9uQ29sb3I6XCJ0b3VjaHN0YXJ0XCI9PT1lP3RoaXMuZGF0YS5idXR0b25Ub3VjaENvbG9yOnRoaXMuZGF0YS5idXR0b25IaWdobGlnaHRDb2xvcixpPXRoaXMuYnV0dG9uTWVzaGVzO3RoaXMuZGF0YS5tb2RlbCYmaSYmaVt0XSYmKG89aVt0XSxvLm1hdGVyaWFsLmNvbG9yLnNldChuKSx0aGlzLnJlbmRlcmVyU3lzdGVtLmFwcGx5Q29sb3JDb3JyZWN0aW9uKG8ubWF0ZXJpYWwuY29sb3IpKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlscy9cIjoxODEsXCIuLi91dGlscy9iaW5kXCI6MTc1LFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiOjE4OX1dLDc0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQ7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwicG9zaXRpb25cIix7c2NoZW1hOnt0eXBlOlwidmVjM1wifSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsLm9iamVjdDNELG89dGhpcy5kYXRhO2UucG9zaXRpb24uc2V0KG8ueCxvLnksby56KX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5lbC5vYmplY3QzRC5wb3NpdGlvbi5zZXQoMCwwLDApfX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOH1dLDc1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGNvcHlBcnJheShlLHQpe3ZhciBpO2ZvcihlLmxlbmd0aD10Lmxlbmd0aCxpPTA7aTx0Lmxlbmd0aDtpKyspZVtpXT10W2ldfXZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLHdhcm49dXRpbHMuZGVidWcoXCJjb21wb25lbnRzOnJheWNhc3Rlcjp3YXJuXCIpLE9CU0VSVkVSX1NFTEVDVE9SX1JFPS9eW1xcd1xccy0uLFtcXF0jXSokLyxPQlNFUlZFUl9DT05GSUc9e2NoaWxkTGlzdDohMCxhdHRyaWJ1dGVzOiEwLHN1YnRyZWU6ITB9LEVWRU5UUz17SU5URVJTRUNUOlwicmF5Y2FzdGVyLWludGVyc2VjdGVkXCIsSU5URVJTRUNUSU9OOlwicmF5Y2FzdGVyLWludGVyc2VjdGlvblwiLElOVEVSU0VDVF9DTEVBUjpcInJheWNhc3Rlci1pbnRlcnNlY3RlZC1jbGVhcmVkXCIsSU5URVJTRUNUSU9OX0NMRUFSOlwicmF5Y2FzdGVyLWludGVyc2VjdGlvbi1jbGVhcmVkXCJ9O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInJheWNhc3RlclwiLHtzY2hlbWE6e2F1dG9SZWZyZXNoOntkZWZhdWx0OiEwfSxkaXJlY3Rpb246e3R5cGU6XCJ2ZWMzXCIsZGVmYXVsdDp7eDowLHk6MCx6Oi0xfX0sZW5hYmxlZDp7ZGVmYXVsdDohMH0sZmFyOntkZWZhdWx0OjFlM30saW50ZXJ2YWw6e2RlZmF1bHQ6MH0sbmVhcjp7ZGVmYXVsdDowfSxvYmplY3RzOntkZWZhdWx0OlwiXCJ9LG9yaWdpbjp7dHlwZTpcInZlYzNcIn0sc2hvd0xpbmU6e2RlZmF1bHQ6ITF9LHVzZVdvcmxkQ29vcmRpbmF0ZXM6e2RlZmF1bHQ6ITF9fSxtdWx0aXBsZTohMCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5jbGVhcmVkSW50ZXJzZWN0ZWRFbHM9W10sdGhpcy51bml0TGluZUVuZFZlYzM9bmV3IFRIUkVFLlZlY3RvcjMsdGhpcy5pbnRlcnNlY3RlZEVscz1bXSx0aGlzLmludGVyc2VjdGlvbnM9W10sdGhpcy5uZXdJbnRlcnNlY3RlZEVscz1bXSx0aGlzLm5ld0ludGVyc2VjdGlvbnM9W10sdGhpcy5vYmplY3RzPVtdLHRoaXMucHJldkNoZWNrVGltZT12b2lkIDAsdGhpcy5wcmV2SW50ZXJzZWN0ZWRFbHM9W10sdGhpcy5yYXdJbnRlcnNlY3Rpb25zPVtdLHRoaXMucmF5Y2FzdGVyPW5ldyBUSFJFRS5SYXljYXN0ZXIsdGhpcy51cGRhdGVPcmlnaW5EaXJlY3Rpb24oKSx0aGlzLnNldERpcnR5PXRoaXMuc2V0RGlydHkuYmluZCh0aGlzKSx0aGlzLnVwZGF0ZUxpbmU9dGhpcy51cGRhdGVMaW5lLmJpbmQodGhpcyksdGhpcy5vYnNlcnZlcj1uZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLnNldERpcnR5KSx0aGlzLmRpcnR5PSEwLHRoaXMubGluZUVuZFZlYzM9bmV3IFRIUkVFLlZlY3RvcjMsdGhpcy5vdGhlckxpbmVFbmRWZWMzPW5ldyBUSFJFRS5WZWN0b3IzLHRoaXMubGluZURhdGE9e2VuZDp0aGlzLmxpbmVFbmRWZWMzfSx0aGlzLmdldEludGVyc2VjdGlvbj10aGlzLmdldEludGVyc2VjdGlvbi5iaW5kKHRoaXMpLHRoaXMuaW50ZXJzZWN0ZWREZXRhaWw9e2VsOnRoaXMuZWwsZ2V0SW50ZXJzZWN0aW9uOnRoaXMuZ2V0SW50ZXJzZWN0aW9ufSx0aGlzLmludGVyc2VjdGVkQ2xlYXJlZERldGFpbD17ZWw6dGhpcy5lbH0sdGhpcy5pbnRlcnNlY3Rpb25DbGVhcmVkRGV0YWlsPXtjbGVhcmVkRWxzOnRoaXMuY2xlYXJlZEludGVyc2VjdGVkRWxzfSx0aGlzLmludGVyc2VjdGlvbkRldGFpbD17fX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YSxpPXRoaXMuZWwscz10aGlzLnJheWNhc3RlcjtzLmZhcj10LmZhcixzLm5lYXI9dC5uZWFyLCF0LnNob3dMaW5lfHx0LmZhcj09PWUuZmFyJiZ0Lm9yaWdpbj09PWUub3JpZ2luJiZ0LmRpcmVjdGlvbj09PWUuZGlyZWN0aW9uJiZlLnNob3dMaW5lfHwodGhpcy51bml0TGluZUVuZFZlYzMuY29weSh0Lm9yaWdpbikuYWRkKHQuZGlyZWN0aW9uKS5ub3JtYWxpemUoKSx0aGlzLmRyYXdMaW5lKCkpLCF0LnNob3dMaW5lJiZlLnNob3dMaW5lJiZpLnJlbW92ZUF0dHJpYnV0ZShcImxpbmVcIiksdC5vYmplY3RzPT09ZS5vYmplY3RzfHxPQlNFUlZFUl9TRUxFQ1RPUl9SRS50ZXN0KHQub2JqZWN0cyl8fHdhcm4oJ1tyYXljYXN0ZXJdIFNlbGVjdG9yIFwiJyt0Lm9iamVjdHMrJ1wiIG1heSBub3QgdXBkYXRlIGF1dG9tYXRpY2FsbHkgd2l0aCBET00gY2hhbmdlcy4nKSx0Lm9iamVjdHN8fHdhcm4oJ1tyYXljYXN0ZXJdIEZvciBwZXJmb3JtYW5jZSwgcGxlYXNlIGRlZmluZSByYXljYXN0ZXIub2JqZWN0cyB3aGVuIHVzaW5nIHJheWNhc3RlciBvciBjdXJzb3IgY29tcG9uZW50cyB0byB3aGl0ZWxpc3Qgd2hpY2ggZW50aXRpZXMgdG8gaW50ZXJzZWN0IHdpdGguIGUuZy4sIHJheWNhc3Rlcj1cIm9iamVjdHM6IFtkYXRhLXJheWNhc3RhYmxlXVwiLicpLHQuYXV0b1JlZnJlc2ghPT1lLmF1dG9SZWZyZXNoJiZpLmlzUGxheWluZyYmKHQuYXV0b1JlZnJlc2g/dGhpcy5hZGRFdmVudExpc3RlbmVycygpOnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSksZS5lbmFibGVkJiYhdC5lbmFibGVkJiZ0aGlzLmNsZWFyQWxsSW50ZXJzZWN0aW9ucygpLHRoaXMuc2V0RGlydHkoKX0scGxheTpmdW5jdGlvbigpe3RoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZGF0YS5zaG93TGluZSYmdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoXCJsaW5lXCIpLHRoaXMuY2xlYXJBbGxJbnRlcnNlY3Rpb25zKCl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5kYXRhLmF1dG9SZWZyZXNoJiYodGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMuZWwuc2NlbmVFbCxPQlNFUlZFUl9DT05GSUcpLHRoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwib2JqZWN0M2RzZXRcIix0aGlzLnNldERpcnR5KSx0aGlzLmVsLnNjZW5lRWwuYWRkRXZlbnRMaXN0ZW5lcihcIm9iamVjdDNkcmVtb3ZlXCIsdGhpcy5zZXREaXJ0eSkpfSxyZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpLHRoaXMuZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwib2JqZWN0M2RzZXRcIix0aGlzLnNldERpcnR5KSx0aGlzLmVsLnNjZW5lRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9iamVjdDNkcmVtb3ZlXCIsdGhpcy5zZXREaXJ0eSl9LHNldERpcnR5OmZ1bmN0aW9uKCl7dGhpcy5kaXJ0eT0hMH0scmVmcmVzaE9iamVjdHM6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZGF0YTtlPXQub2JqZWN0cz90aGlzLmVsLnNjZW5lRWwucXVlcnlTZWxlY3RvckFsbCh0Lm9iamVjdHMpOnRoaXMuZWwuc2NlbmVFbC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSx0aGlzLm9iamVjdHM9dGhpcy5mbGF0dGVuT2JqZWN0M0RNYXBzKGUpLHRoaXMuZGlydHk9ITF9LHRpY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhLGk9dGhpcy5wcmV2Q2hlY2tUaW1lO3QuZW5hYmxlZCYmKGkmJmUtaTx0LmludGVydmFsfHwodGhpcy5wcmV2Q2hlY2tUaW1lPWUsdGhpcy5jaGVja0ludGVyc2VjdGlvbnMoKSkpfSxjaGVja0ludGVyc2VjdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZSx0LGk9dGhpcy5jbGVhcmVkSW50ZXJzZWN0ZWRFbHMscz10aGlzLmVsLG49dGhpcy5kYXRhLHI9dGhpcy5pbnRlcnNlY3RlZEVscyxjPXRoaXMuaW50ZXJzZWN0aW9ucyxvPXRoaXMubmV3SW50ZXJzZWN0ZWRFbHMsYT10aGlzLm5ld0ludGVyc2VjdGlvbnMsaD10aGlzLnByZXZJbnRlcnNlY3RlZEVscyxsPXRoaXMucmF3SW50ZXJzZWN0aW9ucztmb3IodGhpcy5kaXJ0eSYmdGhpcy5yZWZyZXNoT2JqZWN0cygpLGNvcHlBcnJheSh0aGlzLnByZXZJbnRlcnNlY3RlZEVscyx0aGlzLmludGVyc2VjdGVkRWxzKSx0aGlzLnVwZGF0ZU9yaWdpbkRpcmVjdGlvbigpLGwubGVuZ3RoPTAsdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLm9iamVjdHMsITAsbCksYy5sZW5ndGg9MCxyLmxlbmd0aD0wLGU9MDtlPGwubGVuZ3RoO2UrKyl0PWxbZV0sbi5zaG93TGluZSYmdC5vYmplY3Q9PT1zLmdldE9iamVjdDNEKFwibGluZVwiKXx8dC5vYmplY3QuZWwmJihjLnB1c2godCksci5wdXNoKHQub2JqZWN0LmVsKSk7Zm9yKGEubGVuZ3RoPTAsby5sZW5ndGg9MCxlPTA7ZTxjLmxlbmd0aDtlKyspLTE9PT1oLmluZGV4T2YoY1tlXS5vYmplY3QuZWwpJiYoYS5wdXNoKGNbZV0pLG8ucHVzaChjW2VdLm9iamVjdC5lbCkpO2ZvcihpLmxlbmd0aD0wLGU9MDtlPGgubGVuZ3RoO2UrKyktMT09PXIuaW5kZXhPZihoW2VdKSYmKGhbZV0uZW1pdChFVkVOVFMuSU5URVJTRUNUX0NMRUFSLHRoaXMuaW50ZXJzZWN0ZWRDbGVhcmVkRGV0YWlsKSxpLnB1c2goaFtlXSkpO2ZvcihpLmxlbmd0aCYmcy5lbWl0KEVWRU5UUy5JTlRFUlNFQ1RJT05fQ0xFQVIsdGhpcy5pbnRlcnNlY3Rpb25DbGVhcmVkRGV0YWlsKSxlPTA7ZTxvLmxlbmd0aDtlKyspb1tlXS5lbWl0KEVWRU5UUy5JTlRFUlNFQ1QsdGhpcy5pbnRlcnNlY3RlZERldGFpbCk7YS5sZW5ndGgmJih0aGlzLmludGVyc2VjdGlvbkRldGFpbC5lbHM9byx0aGlzLmludGVyc2VjdGlvbkRldGFpbC5pbnRlcnNlY3Rpb25zPWEscy5lbWl0KEVWRU5UUy5JTlRFUlNFQ1RJT04sdGhpcy5pbnRlcnNlY3Rpb25EZXRhaWwpKSxuLnNob3dMaW5lJiZzZXRUaW1lb3V0KHRoaXMudXBkYXRlTGluZSl9LHVwZGF0ZUxpbmU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWwsaT10aGlzLmludGVyc2VjdGlvbnM7aS5sZW5ndGgmJihlPWlbMF0ub2JqZWN0LmVsPT09dCYmaVsxXT9pWzFdLmRpc3RhbmNlOmlbMF0uZGlzdGFuY2UpLHRoaXMuZHJhd0xpbmUoZSl9LGdldEludGVyc2VjdGlvbjpmdW5jdGlvbihlKXt2YXIgdCxpO2Zvcih0PTA7dDx0aGlzLmludGVyc2VjdGlvbnMubGVuZ3RoO3QrKylpZihpPXRoaXMuaW50ZXJzZWN0aW9uc1t0XSxpLm9iamVjdC5lbD09PWUpcmV0dXJuIGk7cmV0dXJuIG51bGx9LHVwZGF0ZU9yaWdpbkRpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBlPW5ldyBUSFJFRS5WZWN0b3IzLHQ9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbCxzPXRoaXMuZGF0YTtpZihzLnVzZVdvcmxkQ29vcmRpbmF0ZXMpcmV0dXJuIHZvaWQgdGhpcy5yYXljYXN0ZXIuc2V0KHMub3JpZ2luLHMuZGlyZWN0aW9uKTtpLm9iamVjdDNELmdldFdvcmxkUG9zaXRpb24odCksMD09PXMub3JpZ2luLngmJjA9PT1zLm9yaWdpbi55JiYwPT09cy5vcmlnaW4uenx8KHQ9aS5vYmplY3QzRC5sb2NhbFRvV29ybGQodC5jb3B5KHMub3JpZ2luKSkpLGUuY29weShzLmRpcmVjdGlvbikudHJhbnNmb3JtRGlyZWN0aW9uKGkub2JqZWN0M0QubWF0cml4V29ybGQpLm5vcm1hbGl6ZSgpLHRoaXMucmF5Y2FzdGVyLnNldCh0LGUpfX0oKSxkcmF3TGluZTpmdW5jdGlvbihlKXt2YXIgdCxpPXRoaXMuZGF0YSxzPXRoaXMuZWw7dD10aGlzLmxpbmVEYXRhLmVuZD09PXRoaXMubGluZUVuZFZlYzM/dGhpcy5vdGhlckxpbmVFbmRWZWMzOnRoaXMubGluZUVuZFZlYzMsdm9pZCAwPT09ZSYmKGU9aS5mYXI9PT0xLzA/MWUzOmkuZmFyKSx0aGlzLmxpbmVEYXRhLnN0YXJ0PWkub3JpZ2luLHRoaXMubGluZURhdGEuZW5kPXQuY29weSh0aGlzLnVuaXRMaW5lRW5kVmVjMykubXVsdGlwbHlTY2FsYXIoZSkscy5zZXRBdHRyaWJ1dGUoXCJsaW5lXCIsdGhpcy5saW5lRGF0YSl9LGZsYXR0ZW5PYmplY3QzRE1hcHM6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzPXRoaXMub2JqZWN0cztmb3Iocy5sZW5ndGg9MCxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5pc0VudGl0eSYmZVtpXS5vYmplY3QzRClmb3IodCBpbiBlW2ldLm9iamVjdDNETWFwKXMucHVzaChlW2ldLmdldE9iamVjdDNEKHQpKTtyZXR1cm4gc30sY2xlYXJBbGxJbnRlcnNlY3Rpb25zOmZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGU9MDtlPHRoaXMuaW50ZXJzZWN0ZWRFbHMubGVuZ3RoO2UrKyl0aGlzLmludGVyc2VjdGVkRWxzW2VdLmVtaXQoRVZFTlRTLklOVEVSU0VDVF9DTEVBUix0aGlzLmludGVyc2VjdGVkQ2xlYXJlZERldGFpbCk7Y29weUFycmF5KHRoaXMuY2xlYXJlZEludGVyc2VjdGVkRWxzLHRoaXMuaW50ZXJzZWN0ZWRFbHMpLHRoaXMuaW50ZXJzZWN0ZWRFbHMubGVuZ3RoPTAsdGhpcy5pbnRlcnNlY3Rpb25zLmxlbmd0aD0wLHRoaXMuZWwuZW1pdChFVkVOVFMuSU5URVJTRUNUSU9OX0NMRUFSLHRoaXMuaW50ZXJzZWN0aW9uQ2xlYXJlZERldGFpbCl9fSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vbGliL3RocmVlXCI6MTU2LFwiLi4vdXRpbHMvXCI6MTgxfV0sNzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGRlZ1RvUmFkPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIikuTWF0aC5kZWdUb1JhZCxyZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQ7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwicm90YXRpb25cIix7c2NoZW1hOnt0eXBlOlwidmVjM1wifSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEsbz10aGlzLmVsLm9iamVjdDNEO28ucm90YXRpb24uc2V0KGRlZ1RvUmFkKGUueCksZGVnVG9SYWQoZS55KSxkZWdUb1JhZChlLnopKSxvLnJvdGF0aW9uLm9yZGVyPVwiWVhaXCJ9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZWwub2JqZWN0M0Qucm90YXRpb24uc2V0KDAsMCwwKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi9saWIvdGhyZWVcIjoxNTZ9XSw3NzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LHplcm9TY2FsZT0xZS01O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInNjYWxlXCIse3NjaGVtYTp7dHlwZTpcInZlYzNcIixkZWZhdWx0Ont4OjEseToxLHo6MX19LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YSxvPXRoaXMuZWwub2JqZWN0M0QsdD0wPT09ZS54P3plcm9TY2FsZTplLngscj0wPT09ZS55P3plcm9TY2FsZTplLnksYz0wPT09ZS56P3plcm9TY2FsZTplLno7by5zY2FsZS5zZXQodCxyLGMpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmVsLm9iamVjdDNELnNjYWxlLnNldCgxLDEsMSl9fSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4fV0sNzg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyPV9kZXJlcV8oXCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudDttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXIoXCJiYWNrZ3JvdW5kXCIse3NjaGVtYTp7Y29sb3I6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCJibGFja1wifSx0cmFuc3BhcmVudDp7ZGVmYXVsdDohMX19LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YSxyPXRoaXMuZWwub2JqZWN0M0Q7aWYoZS50cmFuc3BhcmVudClyZXR1cm4gdm9pZChyLmJhY2tncm91bmQ9bnVsbCk7ci5iYWNrZ3JvdW5kPW5ldyBUSFJFRS5Db2xvcihlLmNvbG9yKX19KTtcbn0se1wiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDh9XSw3OTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXI9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlcihcImRlYnVnXCIse3NjaGVtYTp7ZGVmYXVsdDohMH19KTtcbn0se1wiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDh9XSw4MDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBjcmVhdGVQZXJtaXNzaW9uRGlhbG9nKGUsdCxpKXt2YXIgbixvLHM7cmV0dXJuIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuLmNsYXNzTGlzdC5hZGQoRElBTE9HX0JVVFRPTlNfQ09OVEFJTkVSX0NMQVNTKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksby5jbGFzc0xpc3QuYWRkKERJQUxPR19CVVRUT05fQ0xBU1MsRElBTE9HX0RFTllfQlVUVE9OX0NMQVNTKSxvLnNldEF0dHJpYnV0ZShjb25zdGFudHMuQUZSQU1FX0lOSkVDVEVELFwiXCIpLG8uaW5uZXJIVE1MPVwiRGVueVwiLG4uYXBwZW5kQ2hpbGQobykscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHMuY2xhc3NMaXN0LmFkZChESUFMT0dfQlVUVE9OX0NMQVNTLERJQUxPR19BTExPV19CVVRUT05fQ0xBU1MpLHMuc2V0QXR0cmlidXRlKGNvbnN0YW50cy5BRlJBTUVfSU5KRUNURUQsXCJcIikscy5pbm5lckhUTUw9XCJBbGxvd1wiLG4uYXBwZW5kQ2hpbGQocykscy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLHQoKX0pLG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSxpKCl9KSxjcmVhdGVEaWFsb2coZSxuKX1mdW5jdGlvbiBjcmVhdGVBbGVydERpYWxvZyhlLHQpe3ZhciBpLG47cmV0dXJuIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLmNsYXNzTGlzdC5hZGQoRElBTE9HX0JVVFRPTlNfQ09OVEFJTkVSX0NMQVNTKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksbi5jbGFzc0xpc3QuYWRkKERJQUxPR19CVVRUT05fQ0xBU1MsRElBTE9HX09LX0JVVFRPTl9DTEFTUyksbi5zZXRBdHRyaWJ1dGUoY29uc3RhbnRzLkFGUkFNRV9JTkpFQ1RFRCxcIlwiKSxuLmlubmVySFRNTD1cIkNsb3NlXCIsaS5hcHBlbmRDaGlsZChuKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksdCgpfSksY3JlYXRlRGlhbG9nKGUsaSl9ZnVuY3Rpb24gY3JlYXRlRGlhbG9nKGUsdCl7dmFyIGksbixvLHM7cmV0dXJuIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLmNsYXNzTGlzdC5hZGQoTU9EQUxfQ0xBU1MpLGkuc2V0QXR0cmlidXRlKGNvbnN0YW50cy5BRlJBTUVfSU5KRUNURUQsXCJcIiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG4uY2xhc3NOYW1lPURJQUxPR19DTEFTUyxuLnNldEF0dHJpYnV0ZShjb25zdGFudHMuQUZSQU1FX0lOSkVDVEVELFwiXCIpLGkuYXBwZW5kQ2hpbGQobiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG8uY2xhc3NMaXN0LmFkZChESUFMT0dfVEVYVF9DT05UQUlORVJfQ0xBU1MpLG4uYXBwZW5kQ2hpbGQobykscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHMuY2xhc3NMaXN0LmFkZChESUFMT0dfVEVYVF9DTEFTUykscy5pbm5lckhUTUw9ZSxvLmFwcGVuZENoaWxkKHMpLG4uYXBwZW5kQ2hpbGQodCksaX12YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LHV0aWxzPV9kZXJlcV8oXCIuLi8uLi91dGlscy9cIiksYmluZD11dGlscy5iaW5kLGNvbnN0YW50cz1fZGVyZXFfKFwiLi4vLi4vY29uc3RhbnRzL1wiKSxNT0RBTF9DTEFTUz1cImEtbW9kYWxcIixESUFMT0dfQ0xBU1M9XCJhLWRpYWxvZ1wiLERJQUxPR19URVhUX0NMQVNTPVwiYS1kaWFsb2ctdGV4dFwiLERJQUxPR19URVhUX0NPTlRBSU5FUl9DTEFTUz1cImEtZGlhbG9nLXRleHQtY29udGFpbmVyXCIsRElBTE9HX0JVVFRPTlNfQ09OVEFJTkVSX0NMQVNTPVwiYS1kaWFsb2ctYnV0dG9ucy1jb250YWluZXJcIixESUFMT0dfQlVUVE9OX0NMQVNTPVwiYS1kaWFsb2ctYnV0dG9uXCIsRElBTE9HX0FMTE9XX0JVVFRPTl9DTEFTUz1cImEtZGlhbG9nLWFsbG93LWJ1dHRvblwiLERJQUxPR19ERU5ZX0JVVFRPTl9DTEFTUz1cImEtZGlhbG9nLWRlbnktYnV0dG9uXCIsRElBTE9HX09LX0JVVFRPTl9DTEFTUz1cImEtZGlhbG9nLW9rLWJ1dHRvblwiO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImRldmljZS1vcmllbnRhdGlvbi1wZXJtaXNzaW9uLXVpXCIse3NjaGVtYTp7ZW5hYmxlZDp7ZGVmYXVsdDohMH19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuZGF0YS5lbmFibGVkKXtpZihcImxvY2FsaG9zdFwiIT09bG9jYXRpb24uaG9zdG5hbWUmJlwiMTI3LjAuMC4xXCIhPT1sb2NhdGlvbi5ob3N0bmFtZSYmXCJodHRwOlwiPT09bG9jYXRpb24ucHJvdG9jb2wmJnRoaXMuc2hvd0hUVFBBbGVydCgpLHV0aWxzLmRldmljZS5pc01vYmlsZURldmljZVJlcXVlc3RpbmdEZXNrdG9wU2l0ZSgpKXJldHVybiB2b2lkIHRoaXMuc2hvd01vYmlsZURlc2t0b3BNb2RlQWxlcnQoKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgRGV2aWNlT3JpZW50YXRpb25FdmVudHx8IURldmljZU9yaWVudGF0aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24pcmV0dXJuIHZvaWQodGhpcy5wZXJtaXNzaW9uR3JhbnRlZD0hMCk7dGhpcy5vbkRldmljZU1vdGlvbkRpYWxvZ0FsbG93Q2xpY2tlZD1iaW5kKHRoaXMub25EZXZpY2VNb3Rpb25EaWFsb2dBbGxvd0NsaWNrZWQsdGhpcyksdGhpcy5vbkRldmljZU1vdGlvbkRpYWxvZ0RlbnlDbGlja2VkPWJpbmQodGhpcy5vbkRldmljZU1vdGlvbkRpYWxvZ0RlbnlDbGlja2VkLHRoaXMpLERldmljZU9yaWVudGF0aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24oKS5jYXRjaChmdW5jdGlvbigpe2UuZGV2aWNlUGVybWlzc2lvbkRpYWxvZ0VsPWNyZWF0ZVBlcm1pc3Npb25EaWFsb2coXCJUaGlzIGltbWVyc2l2ZSB3ZWJzaXRlIHJlcXVpcmVzIGFjY2VzcyB0byB5b3VyIGRldmljZSBtb3Rpb24gc2Vuc29ycy5cIixlLm9uRGV2aWNlTW90aW9uRGlhbG9nQWxsb3dDbGlja2VkLGUub25EZXZpY2VNb3Rpb25EaWFsb2dEZW55Q2xpY2tlZCksZS5lbC5hcHBlbmRDaGlsZChlLmRldmljZVBlcm1pc3Npb25EaWFsb2dFbCl9KS50aGVuKGZ1bmN0aW9uKCl7ZS5lbC5lbWl0KFwiZGV2aWNlb3JpZW50YXRpb25wZXJtaXNzaW9uZ3JhbnRlZFwiKSxlLnBlcm1pc3Npb25HcmFudGVkPSEwfSl9fSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmRldmljZVBlcm1pc3Npb25EaWFsb2dFbCYmdGhpcy5lbC5yZW1vdmVDaGlsZCh0aGlzLmRldmljZVBlcm1pc3Npb25EaWFsb2dFbCl9LG9uRGV2aWNlTW90aW9uRGlhbG9nRGVueUNsaWNrZWQ6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpfSxzaG93TW9iaWxlRGVza3RvcE1vZGVBbGVydDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1jcmVhdGVBbGVydERpYWxvZyhcIlNldCB5b3VyIGJyb3dzZXIgdG8gcmVxdWVzdCB0aGUgbW9iaWxlIHZlcnNpb24gb2YgdGhlIHNpdGUgYW5kIHJlbG9hZCB0aGUgcGFnZSB0byBlbmpveSBpbW1lcnNpdmUgbW9kZS5cIixmdW5jdGlvbigpe2UuZWwucmVtb3ZlQ2hpbGQodCl9KTt0aGlzLmVsLmFwcGVuZENoaWxkKHQpfSxzaG93SFRUUEFsZXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWNyZWF0ZUFsZXJ0RGlhbG9nKFwiQWNjZXNzIHRoaXMgc2l0ZSBvdmVyIEhUVFBTIHRvIGVudGVyIFZSIG1vZGUgYW5kIGdyYW50IGFjY2VzcyB0byB0aGUgZGV2aWNlIHNlbnNvcnMuXCIsZnVuY3Rpb24oKXtlLmVsLnJlbW92ZUNoaWxkKHQpfSk7dGhpcy5lbC5hcHBlbmRDaGlsZCh0KX0sb25EZXZpY2VNb3Rpb25EaWFsb2dBbGxvd0NsaWNrZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZWwuZW1pdChcImRldmljZW9yaWVudGF0aW9ucGVybWlzc2lvbnJlcXVlc3RlZFwiKSxEZXZpY2VPcmllbnRhdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihmdW5jdGlvbih0KXtcImdyYW50ZWRcIj09PXQ/KGUuZWwuZW1pdChcImRldmljZW9yaWVudGF0aW9ucGVybWlzc2lvbmdyYW50ZWRcIiksZS5wZXJtaXNzaW9uR3JhbnRlZD0hMCk6ZS5lbC5lbWl0KFwiZGV2aWNlb3JpZW50YXRpb25wZXJtaXNzaW9ucmVqZWN0ZWRcIiksZS5yZW1vdmUoKX0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpfX0pO1xufSx7XCIuLi8uLi9jb25zdGFudHMvXCI6MTAwLFwiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi8uLi91dGlscy9cIjoxODF9XSw4MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImVtYmVkZGVkXCIse2RlcGVuZGVuY2llczpbXCJ2ci1tb2RlLXVpXCJdLHNjaGVtYTp7ZGVmYXVsdDohMH0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbCxyPWUucXVlcnlTZWxlY3RvcihcIi5hLWVudGVyLXZyXCIpOyEwPT09dGhpcy5kYXRhPyhyJiZyLmNsYXNzTGlzdC5hZGQoXCJlbWJlZGRlZFwiKSxlLnJlbW92ZUZ1bGxTY3JlZW5TdHlsZXMoKSk6KHImJnIuY2xhc3NMaXN0LnJlbW92ZShcImVtYmVkZGVkXCIpLGUuYWRkRnVsbFNjcmVlblN0eWxlcygpKX19KTtcbn0se1wiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDh9XSw4MjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBnZXRGb2coZSl7dmFyIG87cmV0dXJuIG89XCJleHBvbmVudGlhbFwiPT09ZS50eXBlP25ldyBUSFJFRS5Gb2dFeHAyKGUuY29sb3IsZS5kZW5zaXR5KTpuZXcgVEhSRUUuRm9nKGUuY29sb3IsZS5uZWFyLGUuZmFyKSxvLm5hbWU9ZS50eXBlLG99dmFyIHJlZ2lzdGVyPV9kZXJlcV8oXCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxUSFJFRT1fZGVyZXFfKFwiLi4vLi4vbGliL3RocmVlXCIpLGRlYnVnPV9kZXJlcV8oXCIuLi8uLi91dGlscy9kZWJ1Z1wiKSx3YXJuPWRlYnVnKFwiY29tcG9uZW50czpmb2c6d2FyblwiKTttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXIoXCJmb2dcIix7c2NoZW1hOntjb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMwMDBcIn0sZGVuc2l0eTp7ZGVmYXVsdDoyNWUtNX0sZmFyOntkZWZhdWx0OjFlMyxtaW46MH0sbmVhcjp7ZGVmYXVsdDoxLG1pbjowfSx0eXBlOntkZWZhdWx0OlwibGluZWFyXCIsb25lT2Y6W1wibGluZWFyXCIsXCJleHBvbmVudGlhbFwiXX19LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YSxvPXRoaXMuZWwsdD10aGlzLmVsLm9iamVjdDNELmZvZztyZXR1cm4gby5pc1NjZW5lP3QmJmUudHlwZT09PXQubmFtZT92b2lkIE9iamVjdC5rZXlzKHRoaXMuc2NoZW1hKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBuPWVbb107XCJjb2xvclwiPT09byYmKG49bmV3IFRIUkVFLkNvbG9yKG4pKSx0W29dPW59KTooby5vYmplY3QzRC5mb2c9Z2V0Rm9nKGUpLHZvaWQgby5zeXN0ZW1zLm1hdGVyaWFsLnVwZGF0ZU1hdGVyaWFscygpKTp2b2lkIHdhcm4oXCJGb2cgY29tcG9uZW50IGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gPGEtc2NlbmU+XCIpfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsLm9iamVjdDNELmZvZztlJiYoZS5mYXI9MCxlLm5lYXI9LjEpfX0pO1xufSx7XCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uLy4uL2xpYi90aHJlZVwiOjE1NixcIi4uLy4uL3V0aWxzL2RlYnVnXCI6MTc3fV0sODM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbmZ1bmN0aW9uIGdldEZ1enp5UGF0Y2hWZXJzaW9uKGUpe3ZhciBuPWUuc3BsaXQoXCIuXCIpO3JldHVybiBuWzJdPVwieFwiLG4uam9pbihcIi5cIil9dmFyIEFGUkFNRV9JTkpFQ1RFRD1fZGVyZXFfKFwiLi4vLi4vY29uc3RhbnRzXCIpLkFGUkFNRV9JTkpFQ1RFRCxwa2c9X2RlcmVxXyhcIi4uLy4uLy4uL3BhY2thZ2VcIikscmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LHV0aWxzPV9kZXJlcV8oXCIuLi8uLi91dGlscy9cIiksSU5TUEVDVE9SX0RFVl9VUkw9XCJodHRwczovL2FmcmFtZS5pby9hZnJhbWUtaW5zcGVjdG9yL2Rpc3QvYWZyYW1lLWluc3BlY3Rvci5qc1wiLElOU1BFQ1RPUl9SRUxFQVNFX1VSTD1cImh0dHBzOi8vdW5wa2cuY29tL2FmcmFtZS1pbnNwZWN0b3JAXCIrZ2V0RnV6enlQYXRjaFZlcnNpb24ocGtnLnZlcnNpb24pK1wiL2Rpc3QvYWZyYW1lLWluc3BlY3Rvci5taW4uanNcIixJTlNQRUNUT1JfVVJMPVwiZGV2XCI9PT1wcm9jZXNzLmVudi5JTlNQRUNUT1JfVkVSU0lPTj9JTlNQRUNUT1JfREVWX1VSTDpJTlNQRUNUT1JfUkVMRUFTRV9VUkwsTE9BRElOR19NRVNTQUdFPVwiTG9hZGluZyBJbnNwZWN0b3JcIixMT0FESU5HX0VSUk9SX01FU1NBR0U9XCJFcnJvciBsb2FkaW5nIEluc3BlY3RvclwiO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcImluc3BlY3RvclwiLHtzY2hlbWE6e3VybDp7ZGVmYXVsdDpJTlNQRUNUT1JfVVJMfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuZmlyc3RQbGF5PSEwLHRoaXMub25LZXlkb3duPXRoaXMub25LZXlkb3duLmJpbmQodGhpcyksdGhpcy5vbk1lc3NhZ2U9dGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLmluaXRPdmVybGF5KCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5vbktleWRvd24pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25NZXNzYWdlKX0scGxheTpmdW5jdGlvbigpe3ZhciBlO3RoaXMuZmlyc3RQbGF5JiZcImZhbHNlXCIhPT0oZT11dGlscy5nZXRVcmxQYXJhbWV0ZXIoXCJpbnNwZWN0b3JcIikpJiZlJiYodGhpcy5vcGVuSW5zcGVjdG9yKCksdGhpcy5maXJzdFBsYXk9ITEpfSxpbml0T3ZlcmxheTpmdW5jdGlvbigpe3RoaXMubG9hZGluZ01lc3NhZ2VFbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubG9hZGluZ01lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKFwiYS1pbnNwZWN0b3ItbG9hZGVyXCIpLHRoaXMubG9hZGluZ01lc3NhZ2VFbC5pbm5lckhUTUw9TE9BRElOR19NRVNTQUdFKyc8c3BhbiBjbGFzcz1cImRvdHNcIj48c3Bhbj4uPC9zcGFuPjxzcGFuPi48L3NwYW4+PHNwYW4+Ljwvc3Bhbj48L3NwYW4+J30scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpfSxvbktleWRvd246ZnVuY3Rpb24oZSl7NzM9PT1lLmtleUNvZGUmJmUuY3RybEtleSYmZS5hbHRLZXkmJnRoaXMub3Blbkluc3BlY3RvcigpfSxzaG93TG9hZGVyOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmxvYWRpbmdNZXNzYWdlRWwpfSxoaWRlTG9hZGVyOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmxvYWRpbmdNZXNzYWdlRWwpfSxvbk1lc3NhZ2U6ZnVuY3Rpb24oZSl7XCJJTkpFQ1RfQUZSQU1FX0lOU1BFQ1RPUlwiPT09ZS5kYXRhJiZ0aGlzLm9wZW5JbnNwZWN0b3IoKX0sb3Blbkluc3BlY3RvcjpmdW5jdGlvbihlKXt2YXIgbix0PXRoaXM7aWYoQUZSQU1FLklOU1BFQ1RPUnx8QUZSQU1FLmluc3BlY3RvckluamVjdGVkKXJldHVybiB2b2lkIEFGUkFNRS5JTlNQRUNUT1Iub3BlbihlKTt0aGlzLnNob3dMb2FkZXIoKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksbi5zcmM9dGhpcy5kYXRhLnVybCxuLnNldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiLFwiYWZyYW1lLWluc3BlY3RvclwiKSxuLnNldEF0dHJpYnV0ZShBRlJBTUVfSU5KRUNURUQsXCJcIiksbi5vbmxvYWQ9ZnVuY3Rpb24oKXtBRlJBTUUuSU5TUEVDVE9SLm9wZW4oZSksdC5oaWRlTG9hZGVyKCksdC5yZW1vdmVFdmVudExpc3RlbmVycygpfSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXt0LmxvYWRpbmdNZXNzYWdlRWwuaW5uZXJIVE1MPUxPQURJTkdfRVJST1JfTUVTU0FHRX0sZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuKSxBRlJBTUUuaW5zcGVjdG9ySW5qZWN0ZWQ9ITB9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5vbktleWRvd24pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25NZXNzYWdlKX19KTtcbn0pLmNhbGwodGhpcyxfZGVyZXFfKCdfcHJvY2VzcycpKVxuXG59LHtcIi4uLy4uLy4uL3BhY2thZ2VcIjo1NCxcIi4uLy4uL2NvbnN0YW50c1wiOjEwMCxcIi4uLy4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vLi4vdXRpbHMvXCI6MTgxLFwiX3Byb2Nlc3NcIjo1fV0sODQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxzaG91bGRDYXB0dXJlS2V5RXZlbnQ9X2RlcmVxXyhcIi4uLy4uL3V0aWxzL1wiKS5zaG91bGRDYXB0dXJlS2V5RXZlbnQ7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwia2V5Ym9hcmQtc2hvcnRjdXRzXCIse3NjaGVtYTp7ZW50ZXJWUjp7ZGVmYXVsdDohMH0sZXhpdFZSOntkZWZhdWx0OiEwfX0saW5pdDpmdW5jdGlvbigpe3RoaXMub25LZXl1cD10aGlzLm9uS2V5dXAuYmluZCh0aGlzKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YTt0aGlzLmVudGVyVlJFbmFibGVkPXQuZW50ZXJWUn0scGxheTpmdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLm9uS2V5dXAsITEpfSxwYXVzZTpmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLm9uS2V5dXApfSxvbktleXVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWw7c2hvdWxkQ2FwdHVyZUtleUV2ZW50KGUpJiYodGhpcy5lbnRlclZSRW5hYmxlZCYmNzA9PT1lLmtleUNvZGUmJnQuZW50ZXJWUigpLHRoaXMuZW50ZXJWUkVuYWJsZWQmJjI3PT09ZS5rZXlDb2RlJiZ0LmV4aXRWUigpKX19KTtcbn0se1wiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi8uLi91dGlscy9cIjoxODF9XSw4NTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgZGVidWc9X2RlcmVxXyhcIi4uLy4uL3V0aWxzL2RlYnVnXCIpLHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCx3YXJuPWRlYnVnKFwiY29tcG9uZW50czpwb29sOndhcm5cIik7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwicG9vbFwiLHtzY2hlbWE6e2NvbnRhaW5lcjp7ZGVmYXVsdDpcIlwifSxtaXhpbjp7ZGVmYXVsdDpcIlwifSxzaXplOntkZWZhdWx0OjB9LGR5bmFtaWM6e2RlZmF1bHQ6ITF9fSxtdWx0aXBsZTohMCxpbml0UG9vbDpmdW5jdGlvbigpe3ZhciB0O2Zvcih0aGlzLmF2YWlsYWJsZUVscz1bXSx0aGlzLnVzZWRFbHM9W10sdGhpcy5kYXRhLm1peGlufHx3YXJuKFwiTm8gbWl4aW4gcHJvdmlkZWQgZm9yIHBvb2wgY29tcG9uZW50LlwiKSx0aGlzLmRhdGEuY29udGFpbmVyJiYodGhpcy5jb250YWluZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmRhdGEuY29udGFpbmVyKSx0aGlzLmNvbnRhaW5lcnx8d2FybihcIkNvbnRhaW5lciBcIit0aGlzLmRhdGEuY29udGFpbmVyK1wiIG5vdCBmb3VuZC5cIikpLHRoaXMuY29udGFpbmVyPXRoaXMuY29udGFpbmVyfHx0aGlzLmVsLHQ9MDt0PHRoaXMuZGF0YS5zaXplOysrdCl0aGlzLmNyZWF0ZUVudGl0eSgpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhO3QubWl4aW49PT1pLm1peGluJiZ0LnNpemU9PT1pLnNpemV8fHRoaXMuaW5pdFBvb2woKX0sY3JlYXRlRW50aXR5OmZ1bmN0aW9uKCl7dmFyIHQ7dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS1lbnRpdHlcIiksdC5wbGF5PXRoaXMud3JhcFBsYXkodC5wbGF5KSx0LnNldEF0dHJpYnV0ZShcIm1peGluXCIsdGhpcy5kYXRhLm1peGluKSx0Lm9iamVjdDNELnZpc2libGU9ITEsdC5wYXVzZSgpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHQpLHRoaXMuYXZhaWxhYmxlRWxzLnB1c2godCl9LHdyYXBQbGF5OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMudXNlZEVscztyZXR1cm4gZnVuY3Rpb24oKXstMSE9PWkuaW5kZXhPZih0aGlzKSYmdC5jYWxsKHRoaXMpfX0scmVxdWVzdEVudGl0eTpmdW5jdGlvbigpe3ZhciB0O2lmKDA9PT10aGlzLmF2YWlsYWJsZUVscy5sZW5ndGgpe2lmKCExPT09dGhpcy5kYXRhLmR5bmFtaWMpcmV0dXJuIHZvaWQgd2FybihcIlJlcXVlc3RlZCBlbnRpdHkgZnJvbSBlbXB0eSBwb29sOiBcIit0aGlzLmF0dHJOYW1lKTt3YXJuKFwiUmVxdWVzdGVkIGVudGl0eSBmcm9tIGVtcHR5IHBvb2wuIFRoaXMgcG9vbCBpcyBkeW5hbWljIGFuZCB3aWxsIHJlc2l6ZSBhdXRvbWF0aWNhbGx5LiBZb3UgbWlnaHQgd2FudCB0byBpbmNyZWFzZSBpdHMgaW5pdGlhbCBzaXplOiBcIit0aGlzLmF0dHJOYW1lKSx0aGlzLmNyZWF0ZUVudGl0eSgpfXJldHVybiB0PXRoaXMuYXZhaWxhYmxlRWxzLnNoaWZ0KCksdGhpcy51c2VkRWxzLnB1c2godCksdC5vYmplY3QzRC52aXNpYmxlPSEwLHR9LHJldHVybkVudGl0eTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLnVzZWRFbHMuaW5kZXhPZih0KTtyZXR1cm4tMT09PWk/dm9pZCB3YXJuKFwiVGhlIHJldHVybmVkIGVudGl0eSB3YXMgbm90IHByZXZpb3VzbHkgcG9vbGVkIGZyb20gXCIrdGhpcy5hdHRyTmFtZSk6KHRoaXMudXNlZEVscy5zcGxpY2UoaSwxKSx0aGlzLmF2YWlsYWJsZUVscy5wdXNoKHQpLHQub2JqZWN0M0QudmlzaWJsZT0hMSx0LnBhdXNlKCksdCl9fSk7XG59LHtcIi4uLy4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vLi4vdXRpbHMvZGVidWdcIjoxNzd9XSw4NjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LFRIUkVFPV9kZXJlcV8oXCIuLi8uLi9saWIvdGhyZWVcIiksVkVSVEVYX1NIQURFUj1bXCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIHV2O1wiLFwidW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7XCIsXCJ1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1wiLFwidmFyeWluZyB2ZWMyIHZVdjtcIixcInZvaWQgbWFpbigpICB7XCIsXCIgIHZVdiA9IHZlYzIoIDEuLSB1di54LCB1di55ICk7XCIsXCIgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIixcIn1cIl0uam9pbihcIlxcblwiKSxGUkFHTUVOVF9TSEFERVI9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ1bmlmb3JtIHNhbXBsZXJDdWJlIG1hcDtcIixcInZhcnlpbmcgdmVjMiB2VXY7XCIsXCIjZGVmaW5lIE1fUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzlcIixcInZvaWQgbWFpbigpIHtcIixcIiAgdmVjMiB1diA9IHZVdjtcIixcIiAgZmxvYXQgbG9uZ2l0dWRlID0gdXYueCAqIDIuICogTV9QSSAtIE1fUEkgKyBNX1BJIC8gMi47XCIsXCIgIGZsb2F0IGxhdGl0dWRlID0gdXYueSAqIE1fUEk7XCIsXCIgIHZlYzMgZGlyID0gdmVjMyhcIixcIiAgICAtIHNpbiggbG9uZ2l0dWRlICkgKiBzaW4oIGxhdGl0dWRlICksXCIsXCIgICAgY29zKCBsYXRpdHVkZSApLFwiLFwiICAgIC0gY29zKCBsb25naXR1ZGUgKSAqIHNpbiggbGF0aXR1ZGUgKVwiLFwiICApO1wiLFwiICBub3JtYWxpemUoIGRpciApO1wiLFwiICBnbF9GcmFnQ29sb3IgPSB2ZWM0KCB0ZXh0dXJlQ3ViZSggbWFwLCBkaXIgKS5yZ2IsIDEuMCApO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInNjcmVlbnNob3RcIix7c2NoZW1hOnt3aWR0aDp7ZGVmYXVsdDo0MDk2fSxoZWlnaHQ6e2RlZmF1bHQ6MjA0OH0sY2FtZXJhOnt0eXBlOlwic2VsZWN0b3JcIn19LGluaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5yZW5kZXJlci5nZXRDb250ZXh0KCk7ZSYmKGEuY3ViZU1hcFNpemU9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfQ1VCRV9NQVBfVEVYVFVSRV9TSVpFKSxhLm1hdGVyaWFsPW5ldyBUSFJFRS5SYXdTaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6e21hcDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOlZFUlRFWF9TSEFERVIsZnJhZ21lbnRTaGFkZXI6RlJBR01FTlRfU0hBREVSLHNpZGU6VEhSRUUuRG91YmxlU2lkZX0pLGEucXVhZD1uZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSgxLDEpLGEubWF0ZXJpYWwpLGEucXVhZC52aXNpYmxlPSExLGEuY2FtZXJhPW5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLS41LC41LC41LC0uNSwtMWU0LDFlNCksYS5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxhLmN0eD1hLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdC5vYmplY3QzRC5hZGQoYS5xdWFkKSxhLm9uS2V5RG93bj1hLm9uS2V5RG93bi5iaW5kKGEpKX12YXIgdD10aGlzLmVsLGE9dGhpczt0LnJlbmRlcmVyP2UoKTp0LmFkZEV2ZW50TGlzdGVuZXIoXCJyZW5kZXItdGFyZ2V0LWxvYWRlZFwiLGUpfSxnZXRSZW5kZXJUYXJnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KGUsdCx7bWluRmlsdGVyOlRIUkVFLkxpbmVhckZpbHRlcixtYWdGaWx0ZXI6VEhSRUUuTGluZWFyRmlsdGVyLHdyYXBTOlRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcsd3JhcFQ6VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZyxmb3JtYXQ6VEhSRUUuUkdCQUZvcm1hdCx0eXBlOlRIUkVFLlVuc2lnbmVkQnl0ZVR5cGV9KX0scmVzaXplOmZ1bmN0aW9uKGUsdCl7dGhpcy5xdWFkLnNjYWxlLnNldChlLHQsMSksdGhpcy5jYW1lcmEubGVmdD0tMSplLzIsdGhpcy5jYW1lcmEucmlnaHQ9ZS8yLHRoaXMuY2FtZXJhLnRvcD10LzIsdGhpcy5jYW1lcmEuYm90dG9tPS0xKnQvMix0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCksdGhpcy5jYW52YXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9dH0scGxheTpmdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMub25LZXlEb3duKX0sb25LZXlEb3duOmZ1bmN0aW9uKGUpe3ZhciB0PTgzPT09ZS5rZXlDb2RlJiZlLmN0cmxLZXkmJmUuYWx0S2V5O2lmKHRoaXMuZGF0YSYmdCl7dmFyIGE9ZS5zaGlmdEtleT9cImVxdWlyZWN0YW5ndWxhclwiOlwicGVyc3BlY3RpdmVcIjt0aGlzLmNhcHR1cmUoYSl9fSxzZXRDYXB0dXJlOmZ1bmN0aW9uKGUpe3ZhciB0LGEscixpPXRoaXMuZWw7cmV0dXJuXCJwZXJzcGVjdGl2ZVwiPT09ZT8odGhpcy5xdWFkLnZpc2libGU9ITEsYT10aGlzLmRhdGEuY2FtZXJhJiZ0aGlzLmRhdGEuY2FtZXJhLmNvbXBvbmVudHMuY2FtZXJhLmNhbWVyYXx8aS5jYW1lcmEsdD17d2lkdGg6dGhpcy5kYXRhLndpZHRoLGhlaWdodDp0aGlzLmRhdGEuaGVpZ2h0fSk6KGE9dGhpcy5jYW1lcmEscj1uZXcgVEhSRUUuQ3ViZUNhbWVyYShpLmNhbWVyYS5uZWFyLGkuY2FtZXJhLmZhcixNYXRoLm1pbih0aGlzLmN1YmVNYXBTaXplLDIwNDgpKSxpLmNhbWVyYS5nZXRXb3JsZFBvc2l0aW9uKHIucG9zaXRpb24pLGkuY2FtZXJhLmdldFdvcmxkUXVhdGVybmlvbihyLnF1YXRlcm5pb24pLHIudXBkYXRlKGkucmVuZGVyZXIsaS5vYmplY3QzRCksdGhpcy5xdWFkLm1hdGVyaWFsLnVuaWZvcm1zLm1hcC52YWx1ZT1yLnJlbmRlclRhcmdldC50ZXh0dXJlLHQ9e3dpZHRoOnRoaXMuZGF0YS53aWR0aCxoZWlnaHQ6dGhpcy5kYXRhLmhlaWdodH0sdGhpcy5xdWFkLnZpc2libGU9ITApLHtjYW1lcmE6YSxzaXplOnQscHJvamVjdGlvbjplfX0sY2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgdCxhPXRoaXMuZWwucmVuZGVyZXIueHIuZW5hYmxlZCxyPXRoaXMuZWwucmVuZGVyZXI7ci54ci5lbmFibGVkPSExLHQ9dGhpcy5zZXRDYXB0dXJlKGUpLHRoaXMucmVuZGVyQ2FwdHVyZSh0LmNhbWVyYSx0LnNpemUsdC5wcm9qZWN0aW9uKSx0aGlzLnNhdmVDYXB0dXJlKCksci54ci5lbmFibGVkPWF9LGdldENhbnZhczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsLnJlbmRlcmVyLnhyLmVuYWJsZWQsYT10aGlzLmVsLnJlbmRlcmVyLHI9dGhpcy5zZXRDYXB0dXJlKGUpO3JldHVybiBhLnhyLmVuYWJsZWQ9ITEsdGhpcy5yZW5kZXJDYXB0dXJlKHIuY2FtZXJhLHIuc2l6ZSxyLnByb2plY3Rpb24pLGEueHIuZW5hYmxlZD10LHRoaXMuY2FudmFzfSxyZW5kZXJDYXB0dXJlOmZ1bmN0aW9uKGUsdCxhKXt2YXIgcixpLG4sbz10aGlzLmVsLnJlbmRlcmVyLmF1dG9DbGVhcixkPXRoaXMuZWwscz1kLnJlbmRlcmVyO2k9dGhpcy5nZXRSZW5kZXJUYXJnZXQodC53aWR0aCx0LmhlaWdodCksbj1uZXcgVWludDhBcnJheSg0KnQud2lkdGgqdC5oZWlnaHQpLHRoaXMucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpLHMuYXV0b0NsZWFyPSEwLHMuY2xlYXIoKSxzLnNldFJlbmRlclRhcmdldChpKSxzLnJlbmRlcihkLm9iamVjdDNELGUpLHMuYXV0b0NsZWFyPW8scy5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzKGksMCwwLHQud2lkdGgsdC5oZWlnaHQsbikscy5zZXRSZW5kZXJUYXJnZXQobnVsbCksXCJwZXJzcGVjdGl2ZVwiPT09YSYmKG49dGhpcy5mbGlwUGl4ZWxzVmVydGljYWxseShuLHQud2lkdGgsdC5oZWlnaHQpKSxyPW5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KG4pLHQud2lkdGgsdC5oZWlnaHQpLHRoaXMucXVhZC52aXNpYmxlPSExLHRoaXMuY3R4LnB1dEltYWdlRGF0YShyLDAsMCl9LGZsaXBQaXhlbHNWZXJ0aWNhbGx5OmZ1bmN0aW9uKGUsdCxhKXtmb3IodmFyIHI9ZS5zbGljZSgwKSxpPTA7aTx0OysraSlmb3IodmFyIG49MDtuPGE7KytuKXJbNCppK24qdCo0XT1lWzQqaSsoYS1uKSp0KjRdLHJbNCppKzErbip0KjRdPWVbNCppKzErKGEtbikqdCo0XSxyWzQqaSsyK24qdCo0XT1lWzQqaSsyKyhhLW4pKnQqNF0scls0KmkrMytuKnQqNF09ZVs0KmkrMysoYS1uKSp0KjRdO3JldHVybiByfSxzYXZlQ2FwdHVyZTpmdW5jdGlvbigpe3RoaXMuY2FudmFzLnRvQmxvYihmdW5jdGlvbihlKXt2YXIgdD1cInNjcmVlbnNob3QtXCIrZG9jdW1lbnQudGl0bGUudG9Mb3dlckNhc2UoKStcIi1cIitEYXRlLm5vdygpK1wiLnBuZ1wiLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikscj1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpO2EuaHJlZj1yLGEuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIix0KSxhLmlubmVySFRNTD1cImRvd25sb2FkaW5nLi4uXCIsYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksc2V0VGltZW91dChmdW5jdGlvbigpe2EuY2xpY2soKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfSwxKX0sXCJpbWFnZS9wbmdcIil9fSk7XG59LHtcIi4uLy4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vLi4vbGliL3RocmVlXCI6MTU2fV0sODc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gY3JlYXRlU3RhdHModCl7dmFyIGU9bmV3IFRocmVlU3RhdHModC5yZW5kZXJlcikscz1uZXcgQUZyYW1lU3RhdHModCksaT10LmlzTW9iaWxlP1tdOltlLHNdO3JldHVybiBuZXcgUlN0YXRzKHtjc3M6W10sdmFsdWVzOntmcHM6e2NhcHRpb246XCJmcHNcIixiZWxvdzozMH19LGdyb3Vwczpbe2NhcHRpb246XCJGcmFtZXJhdGVcIix2YWx1ZXM6W1wiZnBzXCIsXCJyYWZcIl19XSxwbHVnaW5zOml9KX12YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LFJTdGF0cz1fZGVyZXFfKFwiLi4vLi4vLi4vdmVuZG9yL3JTdGF0c1wiKSx1dGlscz1fZGVyZXFfKFwiLi4vLi4vdXRpbHNcIik7X2RlcmVxXyhcIi4uLy4uLy4uL3ZlbmRvci9yU3RhdHMuZXh0cmFzXCIpLF9kZXJlcV8oXCIuLi8uLi9saWIvclN0YXRzQWZyYW1lXCIpO3ZhciBBRnJhbWVTdGF0cz13aW5kb3cuYWZyYW1lU3RhdHMsYmluZD11dGlscy5iaW5kLEhJRERFTl9DTEFTUz1cImEtaGlkZGVuXCIsVGhyZWVTdGF0cz13aW5kb3cudGhyZWVTdGF0czttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJzdGF0c1wiLHtzY2hlbWE6e2RlZmF1bHQ6ITB9LGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO1wiZmFsc2VcIiE9PXV0aWxzLmdldFVybFBhcmFtZXRlcihcInN0YXRzXCIpJiYodGhpcy5zdGF0cz1jcmVhdGVTdGF0cyh0KSx0aGlzLnN0YXRzRWw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ycy1iYXNlXCIpLHRoaXMuaGlkZUJvdW5kPWJpbmQodGhpcy5oaWRlLHRoaXMpLHRoaXMuc2hvd0JvdW5kPWJpbmQodGhpcy5zaG93LHRoaXMpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImVudGVyLXZyXCIsdGhpcy5oaWRlQm91bmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXQtdnJcIix0aGlzLnNob3dCb3VuZCkpfSx1cGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRzKXJldHVybiB0aGlzLmRhdGE/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCl9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVudGVyLXZyXCIsdGhpcy5oaWRlQm91bmQpLHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImV4aXQtdnJcIix0aGlzLnNob3dCb3VuZCksdGhpcy5zdGF0c0VsJiZ0aGlzLnN0YXRzRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnN0YXRzRWwpfSx0aWNrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0czt0JiYodChcInJBRlwiKS50aWNrKCksdChcIkZQU1wiKS5mcmFtZSgpLHQoKS51cGRhdGUoKSl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRzRWwuY2xhc3NMaXN0LmFkZChISURERU5fQ0xBU1MpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zdGF0c0VsLmNsYXNzTGlzdC5yZW1vdmUoSElEREVOX0NMQVNTKX19KTtcbn0se1wiLi4vLi4vLi4vdmVuZG9yL3JTdGF0c1wiOjE5MixcIi4uLy4uLy4uL3ZlbmRvci9yU3RhdHMuZXh0cmFzXCI6MTkxLFwiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi8uLi9saWIvclN0YXRzQWZyYW1lXCI6MTU1LFwiLi4vLi4vdXRpbHNcIjoxODF9XSw4ODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBjcmVhdGVFbnRlclZSQnV0dG9uKHQpe3ZhciBlLG47cmV0dXJuIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuLmNsYXNzTGlzdC5hZGQoRU5URVJfVlJfQ0xBU1MpLG4uc2V0QXR0cmlidXRlKGNvbnN0YW50cy5BRlJBTUVfSU5KRUNURUQsXCJcIiksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLGUuY2xhc3NOYW1lPUVOVEVSX1ZSX0JUTl9DTEFTUyxlLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsXCJFbnRlciBWUiBtb2RlIHdpdGggYSBoZWFkc2V0IG9yIGZ1bGxzY3JlZW4gbW9kZSBvbiBhIGRlc2t0b3AuIFZpc2l0IGh0dHBzOi8vd2VidnIucm9ja3Mgb3IgaHR0cHM6Ly93ZWJ2ci5pbmZvIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKSxlLnNldEF0dHJpYnV0ZShjb25zdGFudHMuQUZSQU1FX0lOSkVDVEVELFwiXCIpLHV0aWxzLmRldmljZS5pc01vYmlsZSgpJiZhcHBseVN0aWNreUhvdmVyRml4KGUpLG4uYXBwZW5kQ2hpbGQoZSksZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXt0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0pLG59ZnVuY3Rpb24gY3JlYXRlRW50ZXJBUkJ1dHRvbih0KXt2YXIgZSxuO3JldHVybiBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbi5jbGFzc0xpc3QuYWRkKEVOVEVSX0FSX0NMQVNTKSxuLnNldEF0dHJpYnV0ZShjb25zdGFudHMuQUZSQU1FX0lOSkVDVEVELFwiXCIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSxlLmNsYXNzTmFtZT1FTlRFUl9BUl9CVE5fQ0xBU1MsZS5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLFwiRW50ZXIgQVIgbW9kZSB3aXRoIGEgaGVhZHNldCBvciBoYW5kaGVsZCBkZXZpY2UuIFZpc2l0IGh0dHBzOi8vd2VidnIucm9ja3Mgb3IgaHR0cHM6Ly93ZWJ2ci5pbmZvIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiKSxlLnNldEF0dHJpYnV0ZShjb25zdGFudHMuQUZSQU1FX0lOSkVDVEVELFwiXCIpLHV0aWxzLmRldmljZS5pc01vYmlsZSgpJiZhcHBseVN0aWNreUhvdmVyRml4KGUpLG4uYXBwZW5kQ2hpbGQoZSksZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXt0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0pLG59ZnVuY3Rpb24gY3JlYXRlT3JpZW50YXRpb25Nb2RhbCh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NOYW1lPU9SSUVOVEFUSU9OX01PREFMX0NMQVNTLGUuY2xhc3NMaXN0LmFkZChISURERU5fQ0xBU1MpLGUuc2V0QXR0cmlidXRlKGNvbnN0YW50cy5BRlJBTUVfSU5KRUNURUQsXCJcIik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoY29uc3RhbnRzLkFGUkFNRV9JTkpFQ1RFRCxcIlwiKSxuLmlubmVySFRNTD1cIkV4aXQgVlJcIixuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpLGUuYXBwZW5kQ2hpbGQobiksZX1mdW5jdGlvbiBhcHBseVN0aWNreUhvdmVyRml4KHQpe3QuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe3QuY2xhc3NMaXN0LnJlbW92ZShcInJlc2V0aG92ZXJcIil9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7dC5jbGFzc0xpc3QuYWRkKFwicmVzZXRob3ZlclwiKX0pfXZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsY29uc3RhbnRzPV9kZXJlcV8oXCIuLi8uLi9jb25zdGFudHMvXCIpLHV0aWxzPV9kZXJlcV8oXCIuLi8uLi91dGlscy9cIiksYmluZD11dGlscy5iaW5kLEVOVEVSX1ZSX0NMQVNTPVwiYS1lbnRlci12clwiLEVOVEVSX0FSX0NMQVNTPVwiYS1lbnRlci1hclwiLEVOVEVSX1ZSX0JUTl9DTEFTUz1cImEtZW50ZXItdnItYnV0dG9uXCIsRU5URVJfQVJfQlROX0NMQVNTPVwiYS1lbnRlci1hci1idXR0b25cIixISURERU5fQ0xBU1M9XCJhLWhpZGRlblwiLE9SSUVOVEFUSU9OX01PREFMX0NMQVNTPVwiYS1vcmllbnRhdGlvbi1tb2RhbFwiO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInZyLW1vZGUtdWlcIix7ZGVwZW5kZW5jaWVzOltcImNhbnZhc1wiXSxzY2hlbWE6e2VuYWJsZWQ6e2RlZmF1bHQ6ITB9LGVudGVyVlJCdXR0b246e2RlZmF1bHQ6XCJcIn0sZW50ZXJBUkJ1dHRvbjp7ZGVmYXVsdDpcIlwifX0saW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmVsO1wiZmFsc2VcIiE9PXV0aWxzLmdldFVybFBhcmFtZXRlcihcInVpXCIpJiYodGhpcy5pbnNpZGVMb2FkZXI9ITEsdGhpcy5lbnRlclZSRWw9bnVsbCx0aGlzLmVudGVyQVJFbD1udWxsLHRoaXMub3JpZW50YXRpb25Nb2RhbEVsPW51bGwsdGhpcy5iaW5kTWV0aG9kcygpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVudGVyLXZyXCIsdGhpcy51cGRhdGVFbnRlckludGVyZmFjZXMpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXQtdnJcIix0aGlzLnVwZGF0ZUVudGVySW50ZXJmYWNlcyksZS5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlLXZyLWRldmljZXNcIix0aGlzLnVwZGF0ZUVudGVySW50ZXJmYWNlcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7XCJsb2FkZXJSZWFkeVwiPT09ZS5kYXRhLnR5cGUmJih0Lmluc2lkZUxvYWRlcj0hMCx0LnJlbW92ZSgpKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLnRvZ2dsZU9yaWVudGF0aW9uTW9kYWxJZk5lZWRlZCkpfSxiaW5kTWV0aG9kczpmdW5jdGlvbigpe3RoaXMub25FbnRlclZSQnV0dG9uQ2xpY2s9YmluZCh0aGlzLm9uRW50ZXJWUkJ1dHRvbkNsaWNrLHRoaXMpLHRoaXMub25FbnRlckFSQnV0dG9uQ2xpY2s9YmluZCh0aGlzLm9uRW50ZXJBUkJ1dHRvbkNsaWNrLHRoaXMpLHRoaXMub25Nb2RhbENsaWNrPWJpbmQodGhpcy5vbk1vZGFsQ2xpY2ssdGhpcyksdGhpcy50b2dnbGVPcmllbnRhdGlvbk1vZGFsSWZOZWVkZWQ9YmluZCh0aGlzLnRvZ2dsZU9yaWVudGF0aW9uTW9kYWxJZk5lZWRlZCx0aGlzKSx0aGlzLnVwZGF0ZUVudGVySW50ZXJmYWNlcz1iaW5kKHRoaXMudXBkYXRlRW50ZXJJbnRlcmZhY2VzLHRoaXMpfSxvbk1vZGFsQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmVsLmV4aXRWUigpfSxvbkVudGVyVlJCdXR0b25DbGljazpmdW5jdGlvbigpe3RoaXMuZWwuZW50ZXJWUigpfSxvbkVudGVyQVJCdXR0b25DbGljazpmdW5jdGlvbigpe3RoaXMuZWwuZW50ZXJBUigpfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGEsZT10aGlzLmVsO2lmKCF0LmVuYWJsZWR8fHRoaXMuaW5zaWRlTG9hZGVyfHxcImZhbHNlXCI9PT11dGlscy5nZXRVcmxQYXJhbWV0ZXIoXCJ1aVwiKSlyZXR1cm4gdGhpcy5yZW1vdmUoKTt0aGlzLmVudGVyVlJFbHx8dGhpcy5lbnRlckFSRWx8fHRoaXMub3JpZW50YXRpb25Nb2RhbEVsfHwodC5lbnRlclZSQnV0dG9uPyh0aGlzLmVudGVyVlJFbD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQuZW50ZXJWUkJ1dHRvbiksdGhpcy5lbnRlclZSRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkVudGVyVlJCdXR0b25DbGljaykpOih0aGlzLmVudGVyVlJFbD1jcmVhdGVFbnRlclZSQnV0dG9uKHRoaXMub25FbnRlclZSQnV0dG9uQ2xpY2spLGUuYXBwZW5kQ2hpbGQodGhpcy5lbnRlclZSRWwpKSx0LmVudGVyQVJCdXR0b24/KHRoaXMuZW50ZXJBUkVsPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC5lbnRlckFSQnV0dG9uKSx0aGlzLmVudGVyQVJFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uRW50ZXJBUkJ1dHRvbkNsaWNrKSk6KHRoaXMuZW50ZXJBUkVsPWNyZWF0ZUVudGVyQVJCdXR0b24odGhpcy5vbkVudGVyQVJCdXR0b25DbGljayksZS5hcHBlbmRDaGlsZCh0aGlzLmVudGVyQVJFbCkpLHRoaXMub3JpZW50YXRpb25Nb2RhbEVsPWNyZWF0ZU9yaWVudGF0aW9uTW9kYWwodGhpcy5vbk1vZGFsQ2xpY2spLGUuYXBwZW5kQ2hpbGQodGhpcy5vcmllbnRhdGlvbk1vZGFsRWwpLHRoaXMudXBkYXRlRW50ZXJJbnRlcmZhY2VzKCkpfSxyZW1vdmU6ZnVuY3Rpb24oKXtbdGhpcy5lbnRlclZSRWwsdGhpcy5lbnRlckFSRWwsdGhpcy5vcmllbnRhdGlvbk1vZGFsRWxdLmZvckVhY2goZnVuY3Rpb24odCl7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9KX0sdXBkYXRlRW50ZXJJbnRlcmZhY2VzOmZ1bmN0aW9uKCl7dGhpcy50b2dnbGVFbnRlclZSQnV0dG9uSWZOZWVkZWQoKSx0aGlzLnRvZ2dsZUVudGVyQVJCdXR0b25JZk5lZWRlZCgpLHRoaXMudG9nZ2xlT3JpZW50YXRpb25Nb2RhbElmTmVlZGVkKCl9LHRvZ2dsZUVudGVyVlJCdXR0b25JZk5lZWRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7dGhpcy5lbnRlclZSRWwmJih0LmlzKFwidnItbW9kZVwiKT90aGlzLmVudGVyVlJFbC5jbGFzc0xpc3QuYWRkKEhJRERFTl9DTEFTUyk6dGhpcy5lbnRlclZSRWwuY2xhc3NMaXN0LnJlbW92ZShISURERU5fQ0xBU1MpKX0sdG9nZ2xlRW50ZXJBUkJ1dHRvbklmTmVlZGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0aGlzLmVudGVyQVJFbCYmKHQuaXMoXCJ2ci1tb2RlXCIpfHwhdXRpbHMuZGV2aWNlLmNoZWNrQVJTdXBwb3J0KCk/dGhpcy5lbnRlckFSRWwuY2xhc3NMaXN0LmFkZChISURERU5fQ0xBU1MpOnRoaXMuZW50ZXJBUkVsLmNsYXNzTGlzdC5yZW1vdmUoSElEREVOX0NMQVNTKSl9LHRvZ2dsZU9yaWVudGF0aW9uTW9kYWxJZk5lZWRlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwsZT10aGlzLm9yaWVudGF0aW9uTW9kYWxFbDtlJiZ0LmlzTW9iaWxlJiYoIXV0aWxzLmRldmljZS5pc0xhbmRzY2FwZSgpJiZ0LmlzKFwidnItbW9kZVwiKT9lLmNsYXNzTGlzdC5yZW1vdmUoSElEREVOX0NMQVNTKTplLmNsYXNzTGlzdC5hZGQoSElEREVOX0NMQVNTKSl9fSk7XG59LHtcIi4uLy4uL2NvbnN0YW50cy9cIjoxMDAsXCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uLy4uL3V0aWxzL1wiOjE4MX1dLDg5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBjb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksYmluZD1fZGVyZXFfKFwiLi4vdXRpbHMvYmluZFwiKSxyZWdpc3RlckNvbXBvbmVudD1jb21wb25lbnQucmVnaXN0ZXJDb21wb25lbnQ7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwic2hhZG93XCIse3NjaGVtYTp7Y2FzdDp7ZGVmYXVsdDohMH0scmVjZWl2ZTp7ZGVmYXVsdDohMH19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLm9uTWVzaENoYW5nZWQ9YmluZCh0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJvYmplY3QzZHNldFwiLHRoaXMub25NZXNoQ2hhbmdlZCksdGhpcy5zeXN0ZW0uc2V0U2hhZG93TWFwRW5hYmxlZCghMCl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YTt0aGlzLnVwZGF0ZURlc2NlbmRhbnRzKGUuY2FzdCxlLnJlY2VpdmUpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvYmplY3QzZHNldFwiLHRoaXMub25NZXNoQ2hhbmdlZCksdGhpcy51cGRhdGVEZXNjZW5kYW50cyghMSwhMSl9LHVwZGF0ZURlc2NlbmRhbnRzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lbC5zY2VuZUVsO3RoaXMuZWwub2JqZWN0M0QudHJhdmVyc2UoZnVuY3Rpb24ocyl7aWYocyBpbnN0YW5jZW9mIFRIUkVFLk1lc2gmJihzLmNhc3RTaGFkb3c9ZSxzLnJlY2VpdmVTaGFkb3c9dCxuLmhhc0xvYWRlZCYmcy5tYXRlcmlhbCkpZm9yKHZhciBhPUFycmF5LmlzQXJyYXkocy5tYXRlcmlhbCk/cy5tYXRlcmlhbDpbcy5tYXRlcmlhbF0saT0wO2k8YS5sZW5ndGg7aSsrKWFbaV0ubmVlZHNVcGRhdGU9ITB9KX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlscy9iaW5kXCI6MTc1fV0sOTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxkZWJ1Zz1fZGVyZXFfKFwiLi4vdXRpbHMvZGVidWdcIiksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx3YXJuPWRlYnVnKFwiY29tcG9uZW50czpzb3VuZDp3YXJuXCIpO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInNvdW5kXCIse3NjaGVtYTp7YXV0b3BsYXk6e2RlZmF1bHQ6ITF9LGRpc3RhbmNlTW9kZWw6e2RlZmF1bHQ6XCJpbnZlcnNlXCIsb25lT2Y6W1wibGluZWFyXCIsXCJpbnZlcnNlXCIsXCJleHBvbmVudGlhbFwiXX0sbG9vcDp7ZGVmYXVsdDohMX0sbWF4RGlzdGFuY2U6e2RlZmF1bHQ6MWU0fSxvbjp7ZGVmYXVsdDpcIlwifSxwb29sU2l6ZTp7ZGVmYXVsdDoxfSxwb3NpdGlvbmFsOntkZWZhdWx0OiEwfSxyZWZEaXN0YW5jZTp7ZGVmYXVsdDoxfSxyb2xsb2ZmRmFjdG9yOntkZWZhdWx0OjF9LHNyYzp7dHlwZTpcImF1ZGlvXCJ9LHZvbHVtZTp7ZGVmYXVsdDoxfX0sbXVsdGlwbGU6ITAsaW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5saXN0ZW5lcj1udWxsLHRoaXMuYXVkaW9Mb2FkZXI9bmV3IFRIUkVFLkF1ZGlvTG9hZGVyLHRoaXMucG9vbD1uZXcgVEhSRUUuR3JvdXAsdGhpcy5sb2FkZWQ9ITEsdGhpcy5tdXN0UGxheT0hMSx0aGlzLnBsYXlTb3VuZEJvdW5kPWZ1bmN0aW9uKCl7ZS5wbGF5U291bmQoKX19LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxvLGk9dGhpcy5kYXRhLG49aS5zcmMhPT1lLnNyYztpZihuKXtpZighaS5zcmMpcmV0dXJuO3RoaXMuc2V0dXBTb3VuZCgpfWZvcih0PTA7dDx0aGlzLnBvb2wuY2hpbGRyZW4ubGVuZ3RoO3QrKylvPXRoaXMucG9vbC5jaGlsZHJlblt0XSxpLnBvc2l0aW9uYWwmJihvLnNldERpc3RhbmNlTW9kZWwoaS5kaXN0YW5jZU1vZGVsKSxvLnNldE1heERpc3RhbmNlKGkubWF4RGlzdGFuY2UpLG8uc2V0UmVmRGlzdGFuY2UoaS5yZWZEaXN0YW5jZSksby5zZXRSb2xsb2ZmRmFjdG9yKGkucm9sbG9mZkZhY3RvcikpLG8uc2V0TG9vcChpLmxvb3ApLG8uc2V0Vm9sdW1lKGkudm9sdW1lKSxvLmlzUGF1c2VkPSExO2lmKGkub24hPT1lLm9uJiZ0aGlzLnVwZGF0ZUV2ZW50TGlzdGVuZXIoZS5vbiksbil7dmFyIHM9dGhpczt0aGlzLmxvYWRlZD0hMSx0aGlzLmF1ZGlvTG9hZGVyLmxvYWQoaS5zcmMsZnVuY3Rpb24oZSl7Zm9yKHQ9MDt0PHMucG9vbC5jaGlsZHJlbi5sZW5ndGg7dCsrKW89cy5wb29sLmNoaWxkcmVuW3RdLG8uc2V0QnVmZmVyKGUpO3MubG9hZGVkPSEwLFRIUkVFLkNhY2hlLnJlbW92ZShpLnNyYyksKHMuZGF0YS5hdXRvcGxheXx8cy5tdXN0UGxheSkmJnMucGxheVNvdW5kKCkscy5lbC5lbWl0KFwic291bmQtbG9hZGVkXCIscy5ldnREZXRhaWwsITEpfSl9fSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuc3RvcFNvdW5kKCksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCl9LHBsYXk6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuYXV0b3BsYXkmJnRoaXMucGxheVNvdW5kKCksdGhpcy51cGRhdGVFdmVudExpc3RlbmVyKCl9LHJlbW92ZTpmdW5jdGlvbigpe3ZhciBlLHQ7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCksdGhpcy5lbC5nZXRPYmplY3QzRCh0aGlzLmF0dHJOYW1lKSYmdGhpcy5lbC5yZW1vdmVPYmplY3QzRCh0aGlzLmF0dHJOYW1lKTt0cnl7Zm9yKGU9MDtlPHRoaXMucG9vbC5jaGlsZHJlbi5sZW5ndGg7ZSsrKXQ9dGhpcy5wb29sLmNoaWxkcmVuW2VdLHQuZGlzY29ubmVjdCgpfWNhdGNoKGUpe3dhcm4oXCJBdWRpbyBzb3VyY2Ugbm90IHByb3Blcmx5IGRpc2Nvbm5lY3RlZFwiKX19LHVwZGF0ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbDtlJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0aGlzLnBsYXlTb3VuZEJvdW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5kYXRhLm9uLHRoaXMucGxheVNvdW5kQm91bmQpfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZGF0YS5vbix0aGlzLnBsYXlTb3VuZEJvdW5kKX0sc2V0dXBTb3VuZDpmdW5jdGlvbigpe3ZhciBlLHQsbz10aGlzLmVsLGk9by5zY2VuZUVsLG49dGhpczt0aGlzLnBvb2wuY2hpbGRyZW4ubGVuZ3RoPjAmJih0aGlzLnN0b3BTb3VuZCgpLG8ucmVtb3ZlT2JqZWN0M0QoXCJzb3VuZFwiKSk7dmFyIHM9dGhpcy5saXN0ZW5lcj1pLmF1ZGlvTGlzdGVuZXJ8fG5ldyBUSFJFRS5BdWRpb0xpc3RlbmVyO2ZvcihpLmF1ZGlvTGlzdGVuZXI9cyxpLmNhbWVyYSYmaS5jYW1lcmEuYWRkKHMpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImNhbWVyYS1zZXQtYWN0aXZlXCIsZnVuY3Rpb24oZSl7ZS5kZXRhaWwuY2FtZXJhRWwuZ2V0T2JqZWN0M0QoXCJjYW1lcmFcIikuYWRkKHMpfSksdGhpcy5wb29sPW5ldyBUSFJFRS5Hcm91cCxlPTA7ZTx0aGlzLmRhdGEucG9vbFNpemU7ZSsrKXQ9dGhpcy5kYXRhLnBvc2l0aW9uYWw/bmV3IFRIUkVFLlBvc2l0aW9uYWxBdWRpbyhzKTpuZXcgVEhSRUUuQXVkaW8ocyksdGhpcy5wb29sLmFkZCh0KTtmb3Ioby5zZXRPYmplY3QzRCh0aGlzLmF0dHJOYW1lLHRoaXMucG9vbCksZT0wO2U8dGhpcy5wb29sLmNoaWxkcmVuLmxlbmd0aDtlKyspdD10aGlzLnBvb2wuY2hpbGRyZW5bZV0sdC5vbkVuZGVkPWZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmc9ITEsbi5lbC5lbWl0KFwic291bmQtZW5kZWRcIixuLmV2dERldGFpbCwhMSl9fSxwYXVzZVNvdW5kOmZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IodGhpcy5pc1BsYXlpbmc9ITEsZT0wO2U8dGhpcy5wb29sLmNoaWxkcmVuLmxlbmd0aDtlKyspdD10aGlzLnBvb2wuY2hpbGRyZW5bZV0sdC5zb3VyY2UmJnQuc291cmNlLmJ1ZmZlciYmdC5pc1BsYXlpbmcmJiF0LmlzUGF1c2VkJiYodC5pc1BhdXNlZD0hMCx0LnBhdXNlKCkpfSxwbGF5U291bmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbyxpO2lmKCF0aGlzLmxvYWRlZClyZXR1cm4gd2FybihcIlNvdW5kIG5vdCBsb2FkZWQgeWV0LiBJdCB3aWxsIGJlIHBsYXllZCBvbmNlIGl0IGZpbmlzaGVkIGxvYWRpbmdcIiksdm9pZCh0aGlzLm11c3RQbGF5PSEwKTtmb3IodD0hMSx0aGlzLmlzUGxheWluZz0hMCxvPTA7bzx0aGlzLnBvb2wuY2hpbGRyZW4ubGVuZ3RoO28rKylpPXRoaXMucG9vbC5jaGlsZHJlbltvXSxpLmlzUGxheWluZ3x8IWkuYnVmZmVyfHx0fHwoZSYmZShpKSxpLnBsYXkoKSxpLmlzUGF1c2VkPSExLHQ9ITApO2lmKCF0KXJldHVybiB2b2lkIHdhcm4oXCJBbGwgdGhlIHNvdW5kcyBhcmUgcGxheWluZy4gSWYgeW91IG5lZWQgdG8gcGxheSBtb3JlIHNvdW5kcyBzaW11bHRhbmVvdXNseSBjb25zaWRlciBpbmNyZWFzaW5nIHRoZSBzaXplIG9mIHBvb2wgd2l0aCB0aGUgYHBvb2xTaXplYCBhdHRyaWJ1dGUuXCIsdGhpcy5lbCk7dGhpcy5tdXN0UGxheT0hMX0sc3RvcFNvdW5kOmZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IodGhpcy5pc1BsYXlpbmc9ITEsZT0wO2U8dGhpcy5wb29sLmNoaWxkcmVuLmxlbmd0aDtlKyspe2lmKHQ9dGhpcy5wb29sLmNoaWxkcmVuW2VdLCF0LnNvdXJjZXx8IXQuc291cmNlLmJ1ZmZlcilyZXR1cm47dC5zdG9wKCl9fX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL2RlYnVnXCI6MTc3fV0sOTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gcGFyc2VTaWRlKHQpe3N3aXRjaCh0KXtjYXNlXCJiYWNrXCI6cmV0dXJuIFRIUkVFLkZyb250U2lkZTtjYXNlXCJkb3VibGVcIjpyZXR1cm4gVEhSRUUuRG91YmxlU2lkZTtkZWZhdWx0OnJldHVybiBUSFJFRS5CYWNrU2lkZX19ZnVuY3Rpb24gbG9hZEZvbnQodCxlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtsb2FkQk1Gb250KHQsZnVuY3Rpb24obyxhKXtpZihvKXJldHVybiBlcnJvcihcIkVycm9yIGxvYWRpbmcgZm9udFwiLHQpLHZvaWQgbihvKTt0LmluZGV4T2YoXCIvUm9ib3RvLW1zZGYuanNvblwiKT49MCYmKGU9MzApLGUmJmEuY2hhcnMubWFwKGZ1bmN0aW9uKHQpe3QueW9mZnNldCs9ZX0pLHIoYSl9KX0pfWZ1bmN0aW9uIGxvYWRUZXh0dXJlKHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLHIpeyhuZXcgVEhSRUUuSW1hZ2VMb2FkZXIpLmxvYWQodCxmdW5jdGlvbih0KXtlKHQpfSx2b2lkIDAsZnVuY3Rpb24oKXtlcnJvcihcIkVycm9yIGxvYWRpbmcgZm9udCBpbWFnZVwiLHQpLHIobnVsbCl9KX0pfWZ1bmN0aW9uIGNyZWF0ZVNoYWRlcih0LGUscil7dmFyIG4sbztyZXR1cm4gbz1uZXcgc2hhZGVyc1tlXS5TaGFkZXIsby5lbD10LG8uaW5pdChyKSxvLnVwZGF0ZShyKSxuPW8ubWF0ZXJpYWwsbi50cmFuc3BhcmVudD1yLnRyYW5zcGFyZW50LHttYXRlcmlhbDpuLHNoYWRlcjpvfX1mdW5jdGlvbiBjb21wdXRlV2lkdGgodCxlLHIpe3JldHVybiB0fHwoLjUrZSkqcn1mdW5jdGlvbiBjb21wdXRlRm9udFdpZHRoRmFjdG9yKHQpe3ZhciBlPTAscj0wLG49MDtyZXR1cm4gdC5jaGFycy5tYXAoZnVuY3Rpb24odCl7ZSs9dC54YWR2YW5jZSx0LmlkPj00OCYmdC5pZDw9NTcmJihuKysscis9dC54YWR2YW5jZSl9KSxuP3IvbjplL3QuY2hhcnMubGVuZ3RofWZ1bmN0aW9uIFByb21pc2VDYWNoZSgpe3ZhciB0PXRoaXMuY2FjaGU9e307dGhpcy5nZXQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSBpbiB0P3RbZV06KHRbZV09cigpLHRbZV0pfX12YXIgY3JlYXRlVGV4dEdlb21ldHJ5PV9kZXJlcV8oXCJ0aHJlZS1ibWZvbnQtdGV4dFwiKSxsb2FkQk1Gb250PV9kZXJlcV8oXCJsb2FkLWJtZm9udFwiKSxyZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsY29yZVNoYWRlcj1fZGVyZXFfKFwiLi4vY29yZS9zaGFkZXJcIiksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLGVycm9yPXV0aWxzLmRlYnVnKFwiY29tcG9uZW50czp0ZXh0OmVycm9yXCIpLHNoYWRlcnM9Y29yZVNoYWRlci5zaGFkZXJzLHdhcm49dXRpbHMuZGVidWcoXCJjb21wb25lbnRzOnRleHQ6d2FyblwiKSxERUZBVUxUX1dJRFRIPTEsTUFYX0FOSVNPVFJPUFk9MTYsRk9OVF9CQVNFX1VSTD1cImh0dHBzOi8vY2RuLmFmcmFtZS5pby9mb250cy9cIixGT05UUz17YWlsZXJvbnNlbWlib2xkOkZPTlRfQkFTRV9VUkwrXCJBaWxlcm9uLVNlbWlib2xkLmZudFwiLGRlamF2dTpGT05UX0JBU0VfVVJMK1wiRGVqYVZ1LXNkZi5mbnRcIixleG8yYm9sZDpGT05UX0JBU0VfVVJMK1wiRXhvMkJvbGQuZm50XCIsZXhvMnNlbWlib2xkOkZPTlRfQkFTRV9VUkwrXCJFeG8yU2VtaUJvbGQuZm50XCIsa2Vsc29uc2FuczpGT05UX0JBU0VfVVJMK1wiS2Vsc29uU2Fucy5mbnRcIixtb25vaWQ6Rk9OVF9CQVNFX1VSTCtcIk1vbm9pZC5mbnRcIixtb3ppbGxhdnI6Rk9OVF9CQVNFX1VSTCtcIm1vemlsbGF2ci5mbnRcIixyb2JvdG86Rk9OVF9CQVNFX1VSTCtcIlJvYm90by1tc2RmLmpzb25cIixzb3VyY2Vjb2RlcHJvOkZPTlRfQkFTRV9VUkwrXCJTb3VyY2VDb2RlUHJvLmZudFwifSxNU0RGX0ZPTlRTPVtcInJvYm90b1wiXSxERUZBVUxUX0ZPTlQ9XCJyb2JvdG9cIjttb2R1bGUuZXhwb3J0cy5GT05UUz1GT05UUzt2YXIgY2FjaGU9bmV3IFByb21pc2VDYWNoZSxmb250V2lkdGhGYWN0b3JzPXt9LHRleHR1cmVzPXt9LHByb3RvY29sUmU9L15cXHcrOi87bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwidGV4dFwiLHttdWx0aXBsZTohMCxzY2hlbWE6e2FsaWduOnt0eXBlOlwic3RyaW5nXCIsZGVmYXVsdDpcImxlZnRcIixvbmVPZjpbXCJsZWZ0XCIsXCJyaWdodFwiLFwiY2VudGVyXCJdfSxhbHBoYVRlc3Q6e2RlZmF1bHQ6LjV9LGFuY2hvcjp7ZGVmYXVsdDpcImNlbnRlclwiLG9uZU9mOltcImxlZnRcIixcInJpZ2h0XCIsXCJjZW50ZXJcIixcImFsaWduXCJdfSxiYXNlbGluZTp7ZGVmYXVsdDpcImNlbnRlclwiLG9uZU9mOltcInRvcFwiLFwiY2VudGVyXCIsXCJib3R0b21cIl19LGNvbG9yOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiI0ZGRlwifSxmb250Ont0eXBlOlwic3RyaW5nXCIsZGVmYXVsdDpERUZBVUxUX0ZPTlR9LGZvbnRJbWFnZTp7dHlwZTpcInN0cmluZ1wifSxoZWlnaHQ6e3R5cGU6XCJudW1iZXJcIn0sbGV0dGVyU3BhY2luZzp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MH0sbGluZUhlaWdodDp7dHlwZTpcIm51bWJlclwifSxuZWdhdGU6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdDohMH0sb3BhY2l0eTp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MX0sc2hhZGVyOntkZWZhdWx0Olwic2RmXCIsb25lT2Y6c2hhZGVyc30sc2lkZTp7ZGVmYXVsdDpcImZyb250XCIsb25lT2Y6W1wiZnJvbnRcIixcImJhY2tcIixcImRvdWJsZVwiXX0sdGFiU2l6ZTp7ZGVmYXVsdDo0fSx0cmFuc3BhcmVudDp7ZGVmYXVsdDohMH0sdmFsdWU6e3R5cGU6XCJzdHJpbmdcIn0sd2hpdGVTcGFjZTp7ZGVmYXVsdDpcIm5vcm1hbFwiLG9uZU9mOltcIm5vcm1hbFwiLFwicHJlXCIsXCJub3dyYXBcIl19LHdpZHRoOnt0eXBlOlwibnVtYmVyXCJ9LHdyYXBDb3VudDp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6NDB9LHdyYXBQaXhlbHM6e3R5cGU6XCJudW1iZXJcIn0seE9mZnNldDp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MH0seU9mZnNldDp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6MH0sek9mZnNldDp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6LjAwMX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnNoYWRlckRhdGE9e30sdGhpcy5nZW9tZXRyeT1jcmVhdGVUZXh0R2VvbWV0cnkoKSx0aGlzLmNyZWF0ZU9yVXBkYXRlTWF0ZXJpYWwoKSx0aGlzLm1lc2g9bmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsKSx0aGlzLmVsLnNldE9iamVjdDNEKHRoaXMuYXR0ck5hbWUsdGhpcy5tZXNoKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YSxyPXRoaXMuY3VycmVudEZvbnQ7aWYodGV4dHVyZXNbZS5mb250XT90aGlzLnRleHR1cmU9dGV4dHVyZXNbZS5mb250XToodGhpcy50ZXh0dXJlPXRleHR1cmVzW2UuZm9udF09bmV3IFRIUkVFLlRleHR1cmUsdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9TUFYX0FOSVNPVFJPUFkpLHRoaXMuY3JlYXRlT3JVcGRhdGVNYXRlcmlhbCgpLHQuZm9udCE9PWUuZm9udClyZXR1cm4gdm9pZCB0aGlzLnVwZGF0ZUZvbnQoKTtyJiYodGhpcy51cGRhdGVHZW9tZXRyeSh0aGlzLmdlb21ldHJ5LHIpLHRoaXMudXBkYXRlTGF5b3V0KCkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLmdlb21ldHJ5PW51bGwsdGhpcy5lbC5yZW1vdmVPYmplY3QzRCh0aGlzLmF0dHJOYW1lKSx0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLm1hdGVyaWFsPW51bGwsdGhpcy50ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLnRleHR1cmU9bnVsbCx0aGlzLnNoYWRlck9iamVjdCYmZGVsZXRlIHRoaXMuc2hhZGVyT2JqZWN0fSxjcmVhdGVPclVwZGF0ZU1hdGVyaWFsOmZ1bmN0aW9uKCl7dmFyIHQsZSxyLG49dGhpcy5kYXRhLG89dGhpcy5tYXRlcmlhbCxhPXRoaXMuc2hhZGVyRGF0YTtpZihyPW4uc2hhZGVyLC0xIT09TVNERl9GT05UUy5pbmRleE9mKG4uZm9udCl8fG4uZm9udC5pbmRleE9mKFwiLW1zZGYuXCIpPj0wP3I9XCJtc2RmXCI6bi5mb250IGluIEZPTlRTJiYtMT09PU1TREZfRk9OVFMuaW5kZXhPZihuLmZvbnQpJiYocj1cInNkZlwiKSx0PSh0aGlzLnNoYWRlck9iamVjdCYmdGhpcy5zaGFkZXJPYmplY3QubmFtZSkhPT1yLGEuYWxwaGFUZXN0PW4uYWxwaGFUZXN0LGEuY29sb3I9bi5jb2xvcixhLm1hcD10aGlzLnRleHR1cmUsYS5vcGFjaXR5PW4ub3BhY2l0eSxhLnNpZGU9cGFyc2VTaWRlKG4uc2lkZSksYS50cmFuc3BhcmVudD1uLnRyYW5zcGFyZW50LGEubmVnYXRlPW4ubmVnYXRlLCF0KXJldHVybiB0aGlzLnNoYWRlck9iamVjdC51cGRhdGUoYSksby50cmFuc3BhcmVudD1hLnRyYW5zcGFyZW50LHZvaWQoby5zaWRlPWEuc2lkZSk7ZT1jcmVhdGVTaGFkZXIodGhpcy5lbCxyLGEpLHRoaXMubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0aGlzLnNoYWRlck9iamVjdD1lLnNoYWRlcix0aGlzLm1hdGVyaWFsLnNpZGU9YS5zaWRlLHRoaXMubWVzaCYmKHRoaXMubWVzaC5tYXRlcmlhbD10aGlzLm1hdGVyaWFsKX0sdXBkYXRlRm9udDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5kYXRhLHI9dGhpcy5lbCxuPXRoaXMuZ2VvbWV0cnksbz10aGlzO2UuZm9udHx8d2FybihcIk5vIGZvbnQgc3BlY2lmaWVkLiBVc2luZyB0aGUgZGVmYXVsdCBmb250LlwiKSx0aGlzLm1lc2gudmlzaWJsZT0hMSx0PXRoaXMubG9va3VwRm9udChlLmZvbnR8fERFRkFVTFRfRk9OVCl8fGUuZm9udCxjYWNoZS5nZXQodCxmdW5jdGlvbigpe3JldHVybiBsb2FkRm9udCh0LGUueU9mZnNldCl9KS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBpO2lmKDEhPT1hLnBhZ2VzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDdXJyZW50bHkgb25seSBzaW5nbGUtcGFnZSBiaXRtYXAgZm9udHMgYXJlIHN1cHBvcnRlZC5cIik7Zm9udFdpZHRoRmFjdG9yc1t0XXx8KGEud2lkdGhGYWN0b3I9Zm9udFdpZHRoRmFjdG9yc1thXT1jb21wdXRlRm9udFdpZHRoRmFjdG9yKGEpKSxvLnVwZGF0ZUdlb21ldHJ5KG4sYSksby5jdXJyZW50Rm9udD1hLG8udXBkYXRlTGF5b3V0KCksaT1vLmdldEZvbnRJbWFnZVNyYygpLGNhY2hlLmdldChpLGZ1bmN0aW9uKCl7cmV0dXJuIGxvYWRUZXh0dXJlKGkpfSkudGhlbihmdW5jdGlvbih0KXt2YXIgbj1vLnRleHR1cmU7bi5pbWFnZT10LG4ubmVlZHNVcGRhdGU9ITAsdGV4dHVyZXNbZS5mb250XT1uLG8udGV4dHVyZT1uLG8ubWVzaC52aXNpYmxlPSEwLHIuZW1pdChcInRleHRmb250c2V0XCIse2ZvbnQ6ZS5mb250LGZvbnRPYmo6YX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7ZXJyb3IodC5tZXNzYWdlKSxlcnJvcih0LnN0YWNrKX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7ZXJyb3IodC5tZXNzYWdlKSxlcnJvcih0LnN0YWNrKX0pfSxnZXRGb250SW1hZ2VTcmM6ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGEuZm9udEltYWdlKXJldHVybiB0aGlzLmRhdGEuZm9udEltYWdlO3ZhciB0PXRoaXMubG9va3VwRm9udCh0aGlzLmRhdGEuZm9udHx8REVGQVVMVF9GT05UKXx8dGhpcy5kYXRhLmZvbnQsZT10aGlzLmN1cnJlbnRGb250LnBhZ2VzWzBdO3JldHVybiBlLm1hdGNoKHByb3RvY29sUmUpJiYwIT09ZS5pbmRleE9mKFwiaHR0cFwiKT90LnJlcGxhY2UoLyhcXC5mbnQpfChcXC5qc29uKS8sXCIucG5nXCIpOlRIUkVFLkxvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKHQpK2V9LHVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciB0LGUscixuLG8sYSxpLHMsaCx1LGQ9dGhpcy5lbCxsPXRoaXMuZGF0YSxmPXRoaXMuZ2VvbWV0cnksYz10aGlzLm1lc2g7aWYoZi5sYXlvdXQpe2lmKHI9ZC5nZXRBdHRyaWJ1dGUoXCJnZW9tZXRyeVwiKSxzPWwud2lkdGh8fHImJnIud2lkdGh8fERFRkFVTFRfV0lEVEgsYT1jb21wdXRlV2lkdGgobC53cmFwUGl4ZWxzLGwud3JhcENvdW50LHRoaXMuY3VycmVudEZvbnQud2lkdGhGYWN0b3IpLGk9cy9hLG89Zi5sYXlvdXQsbj1pKihvLmhlaWdodCtvLmRlc2NlbmRlciksciYmXCJwbGFuZVwiPT09ci5wcmltaXRpdmUmJihyLndpZHRofHxkLnNldEF0dHJpYnV0ZShcImdlb21ldHJ5XCIsXCJ3aWR0aFwiLHMpLHIuaGVpZ2h0fHxkLnNldEF0dHJpYnV0ZShcImdlb21ldHJ5XCIsXCJoZWlnaHRcIixuKSksXCJsZWZ0XCI9PT0odD1cImFsaWduXCI9PT1sLmFuY2hvcj9sLmFsaWduOmwuYW5jaG9yKSloPTA7ZWxzZSBpZihcInJpZ2h0XCI9PT10KWg9LTEqby53aWR0aDtlbHNle2lmKFwiY2VudGVyXCIhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRleHQuYW5jaG9yIHByb3BlcnR5IHZhbHVlXCIsdCk7aD0tMSpvLndpZHRoLzJ9aWYoXCJib3R0b21cIj09PShlPWwuYmFzZWxpbmUpKXU9MDtlbHNlIGlmKFwidG9wXCI9PT1lKXU9LTEqby5oZWlnaHQrby5hc2NlbmRlcjtlbHNle2lmKFwiY2VudGVyXCIhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRleHQuYmFzZWxpbmUgcHJvcGVydHkgdmFsdWVcIixlKTt1PS0xKm8uaGVpZ2h0LzJ9Yy5wb3NpdGlvbi54PWgqaStsLnhPZmZzZXQsYy5wb3NpdGlvbi55PXUqaSxjLnBvc2l0aW9uLno9bC56T2Zmc2V0LGMuc2NhbGUuc2V0KGksLTEqaSxpKX19LGxvb2t1cEZvbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIEZPTlRTW3RdfSx1cGRhdGVHZW9tZXRyeTpmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30scj0vXFxcXG4vZyxuPS9cXFxcdC9nO3JldHVybiBmdW5jdGlvbihvLGEpe3ZhciBpPXRoaXMuZGF0YTtlLmZvbnQ9YSxlLmxpbmVIZWlnaHQ9aS5saW5lSGVpZ2h0JiZpc0Zpbml0ZShpLmxpbmVIZWlnaHQpP2kubGluZUhlaWdodDphLmNvbW1vbi5saW5lSGVpZ2h0LGUudGV4dD1pLnZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShyLFwiXFxuXCIpLnJlcGxhY2UobixcIlxcdFwiKSxlLndpZHRoPWNvbXB1dGVXaWR0aChpLndyYXBQaXhlbHMsaS53cmFwQ291bnQsYS53aWR0aEZhY3Rvciksby51cGRhdGUodXRpbHMuZXh0ZW5kKHQsaSxlKSl9fSgpfSk7XG59LHtcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vY29yZS9zaGFkZXJcIjoxMTgsXCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlscy9cIjoxODEsXCJsb2FkLWJtZm9udFwiOjI1LFwidGhyZWUtYm1mb250LXRleHRcIjo0Mn1dLDkyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsY29udHJvbGxlclV0aWxzPV9kZXJlcV8oXCIuLi91dGlscy90cmFja2VkLWNvbnRyb2xzXCIpLERFRkFVTFRfQ0FNRVJBX0hFSUdIVD1fZGVyZXFfKFwiLi4vY29uc3RhbnRzXCIpLkRFRkFVTFRfQ0FNRVJBX0hFSUdIVCxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLERFRkFVTFRfSEFOREVETkVTUz1fZGVyZXFfKFwiLi4vY29uc3RhbnRzXCIpLkRFRkFVTFRfSEFOREVETkVTUyxFWUVTX1RPX0VMQk9XPXt4Oi4xNzUseTotLjMsejotLjAzfSxGT1JFQVJNPXt4OjAseTowLHo6LS4xNzV9LEVNUFRZX0RBWURSRUFNX1RPVUNIRVM9e3RvdWNoZXM6W119LEVWRU5UUz17QVhJU01PVkU6XCJheGlzbW92ZVwiLEJVVFRPTkNIQU5HRUQ6XCJidXR0b25jaGFuZ2VkXCIsQlVUVE9ORE9XTjpcImJ1dHRvbmRvd25cIixCVVRUT05VUDpcImJ1dHRvbnVwXCIsVE9VQ0hTVEFSVDpcInRvdWNoc3RhcnRcIixUT1VDSEVORDpcInRvdWNoZW5kXCJ9O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInRyYWNrZWQtY29udHJvbHMtd2VidnJcIix7c2NoZW1hOnthdXRvSGlkZTp7ZGVmYXVsdDohMH0sY29udHJvbGxlcjp7ZGVmYXVsdDowfSxpZDp7dHlwZTpcInN0cmluZ1wiLGRlZmF1bHQ6XCJcIn0saGFuZDp7dHlwZTpcInN0cmluZ1wiLGRlZmF1bHQ6XCJcIn0saWRQcmVmaXg6e3R5cGU6XCJzdHJpbmdcIixkZWZhdWx0OlwiXCJ9LG9yaWVudGF0aW9uT2Zmc2V0Ont0eXBlOlwidmVjM1wifSxhcm1Nb2RlbDp7ZGVmYXVsdDohMH0saGVhZEVsZW1lbnQ6e3R5cGU6XCJzZWxlY3RvclwifX0saW5pdDpmdW5jdGlvbigpe3RoaXMuYXhpcz10aGlzLmVsLmNvbXBvbmVudHNbXCJ0cmFja2VkLWNvbnRyb2xzXCJdLmF4aXM9WzAsMCwwXSx0aGlzLmJ1dHRvblN0YXRlcz10aGlzLmVsLmNvbXBvbmVudHNbXCJ0cmFja2VkLWNvbnRyb2xzXCJdLmJ1dHRvblN0YXRlcz17fSx0aGlzLmNoYW5nZWRBeGVzPVtdLHRoaXMudGFyZ2V0Q29udHJvbGxlck51bWJlcj10aGlzLmRhdGEuY29udHJvbGxlcix0aGlzLmF4aXNNb3ZlRXZlbnREZXRhaWw9e2F4aXM6dGhpcy5heGlzLGNoYW5nZWQ6dGhpcy5jaGFuZ2VkQXhlc30sdGhpcy5kZWx0YUNvbnRyb2xsZXJQb3NpdGlvbj1uZXcgVEhSRUUuVmVjdG9yMyx0aGlzLmNvbnRyb2xsZXJRdWF0ZXJuaW9uPW5ldyBUSFJFRS5RdWF0ZXJuaW9uLHRoaXMuY29udHJvbGxlckV1bGVyPW5ldyBUSFJFRS5FdWxlcix0aGlzLnVwZGF0ZUdhbWVwYWQoKSx0aGlzLmJ1dHRvbkV2ZW50RGV0YWlscz17fX0sdGljazpmdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMuZWwuZ2V0T2JqZWN0M0QoXCJtZXNoXCIpO28mJm8udXBkYXRlJiZvLnVwZGF0ZShlLzFlMyksdGhpcy51cGRhdGVHYW1lcGFkKCksdGhpcy51cGRhdGVQb3NlKCksdGhpcy51cGRhdGVCdXR0b25zKCl9LGRlZmF1bHRVc2VySGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIERFRkFVTFRfQ0FNRVJBX0hFSUdIVH0sZ2V0SGVhZEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmhlYWRFbGVtZW50fHx0aGlzLmVsLnNjZW5lRWwuY2FtZXJhLmVsfSx1cGRhdGVHYW1lcGFkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhLGU9Y29udHJvbGxlclV0aWxzLmZpbmRNYXRjaGluZ0NvbnRyb2xsZXJXZWJWUih0aGlzLnN5c3RlbS5jb250cm9sbGVycyx0LmlkLHQuaWRQcmVmaXgsdC5oYW5kLHQuY29udHJvbGxlcik7dGhpcy5jb250cm9sbGVyPWUsdGhpcy5lbC5jb21wb25lbnRzW1widHJhY2tlZC1jb250cm9sc1wiXS5jb250cm9sbGVyPWUsdGhpcy5kYXRhLmF1dG9IaWRlJiYodGhpcy5lbC5vYmplY3QzRC52aXNpYmxlPSEhdGhpcy5jb250cm9sbGVyKX0sYXBwbHlBcm1Nb2RlbDpmdW5jdGlvbih0KXt2YXIgZSxvLGksbixzLHI9dGhpcy5jb250cm9sbGVyLGE9dGhpcy5jb250cm9sbGVyRXVsZXIsbD10aGlzLmNvbnRyb2xsZXJRdWF0ZXJuaW9uLGg9dGhpcy5kZWx0YUNvbnRyb2xsZXJQb3NpdGlvbjtvPXRoaXMuZ2V0SGVhZEVsZW1lbnQoKSxpPW8ub2JqZWN0M0Qscz10aGlzLmRlZmF1bHRVc2VySGVpZ2h0KCksbj1yLnBvc2UsZT0ocj9yLmhhbmQ6dm9pZCAwKXx8REVGQVVMVF9IQU5ERURORVNTLHQuY29weShpLnBvc2l0aW9uKSxoLnNldChFWUVTX1RPX0VMQk9XLngqKFwibGVmdFwiPT09ZT8tMTpcInJpZ2h0XCI9PT1lPzE6MCksRVlFU19UT19FTEJPVy55LEVZRVNfVE9fRUxCT1cueiksaC5tdWx0aXBseVNjYWxhcihzKSxoLmFwcGx5QXhpc0FuZ2xlKGkudXAsaS5yb3RhdGlvbi55KSx0LmFkZChoKSxoLnNldChGT1JFQVJNLngsRk9SRUFSTS55LEZPUkVBUk0ueiksaC5tdWx0aXBseVNjYWxhcihzKSxuLm9yaWVudGF0aW9uP2wuZnJvbUFycmF5KG4ub3JpZW50YXRpb24pOmwuY29weShpLnF1YXRlcm5pb24pLGEuc2V0RnJvbVF1YXRlcm5pb24obCksYS5zZXQoYS54LGEueSwwKSxoLmFwcGx5RXVsZXIoYSksdC5hZGQoaCl9LHVwZGF0ZVBvc2U6ZnVuY3Rpb24oKXt2YXIgdCxlLG89dGhpcy5jb250cm9sbGVyLGk9dGhpcy5kYXRhLG49dGhpcy5lbC5vYmplY3QzRCxzPXRoaXMuc3lzdGVtLnZyRGlzcGxheTtvJiYodD1vLnBvc2UsdC5wb3NpdGlvbj9uLnBvc2l0aW9uLmZyb21BcnJheSh0LnBvc2l0aW9uKTppLmFybU1vZGVsJiZ0aGlzLmFwcGx5QXJtTW9kZWwobi5wb3NpdGlvbiksdC5vcmllbnRhdGlvbiYmbi5xdWF0ZXJuaW9uLmZyb21BcnJheSh0Lm9yaWVudGF0aW9uKSxzJiZ0LnBvc2l0aW9uJiYoZT10aGlzLmVsLnNjZW5lRWwucmVuZGVyZXIueHIuZ2V0U3RhbmRpbmdNYXRyaXgoKSxuLm1hdHJpeC5jb21wb3NlKG4ucG9zaXRpb24sbi5xdWF0ZXJuaW9uLG4uc2NhbGUpLG4ubWF0cml4Lm11bHRpcGx5TWF0cmljZXMoZSxuLm1hdHJpeCksbi5tYXRyaXguZGVjb21wb3NlKG4ucG9zaXRpb24sbi5xdWF0ZXJuaW9uLG4uc2NhbGUpKSxuLnJvdGF0ZVgodGhpcy5kYXRhLm9yaWVudGF0aW9uT2Zmc2V0LngqVEhSRUUuTWF0aC5ERUcyUkFEKSxuLnJvdGF0ZVkodGhpcy5kYXRhLm9yaWVudGF0aW9uT2Zmc2V0LnkqVEhSRUUuTWF0aC5ERUcyUkFEKSxuLnJvdGF0ZVoodGhpcy5kYXRhLm9yaWVudGF0aW9uT2Zmc2V0LnoqVEhSRUUuTWF0aC5ERUcyUkFEKSl9LHVwZGF0ZUJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgdCxlLG89dGhpcy5jb250cm9sbGVyO2lmKG8pe2ZvcihlPTA7ZTxvLmJ1dHRvbnMubGVuZ3RoOysrZSl0aGlzLmJ1dHRvblN0YXRlc1tlXXx8KHRoaXMuYnV0dG9uU3RhdGVzW2VdPXtwcmVzc2VkOiExLHRvdWNoZWQ6ITEsdmFsdWU6MH0pLHRoaXMuYnV0dG9uRXZlbnREZXRhaWxzW2VdfHwodGhpcy5idXR0b25FdmVudERldGFpbHNbZV09e2lkOmUsc3RhdGU6dGhpcy5idXR0b25TdGF0ZXNbZV19KSx0PW8uYnV0dG9uc1tlXSx0aGlzLmhhbmRsZUJ1dHRvbihlLHQpO3RoaXMuaGFuZGxlQXhlcygpfX0saGFuZGxlQnV0dG9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISEodGhpcy5oYW5kbGVQcmVzcyh0LGUpfHRoaXMuaGFuZGxlVG91Y2godCxlKXx0aGlzLmhhbmRsZVZhbHVlKHQsZSkpJiYodGhpcy5lbC5lbWl0KEVWRU5UUy5CVVRUT05DSEFOR0VELHRoaXMuYnV0dG9uRXZlbnREZXRhaWxzW3RdLCExKSwhMCl9LGhhbmRsZUF4ZXM6ZnVuY3Rpb24oKXt2YXIgdCxlPSExLG89dGhpcy5jb250cm9sbGVyLmF4ZXMsaT10aGlzLmF4aXMsbj10aGlzLmNoYW5nZWRBeGVzO2Zvcih0aGlzLmNoYW5nZWRBeGVzLmxlbmd0aD0wLHQ9MDt0PG8ubGVuZ3RoOysrdCluLnB1c2goaVt0XSE9PW9bdF0pLG5bdF0mJihlPSEwKTtpZighZSlyZXR1cm4hMTtmb3IodGhpcy5heGlzLmxlbmd0aD0wLHQ9MDt0PG8ubGVuZ3RoO3QrKyl0aGlzLmF4aXMucHVzaChvW3RdKTtyZXR1cm4gdGhpcy5lbC5lbWl0KEVWRU5UUy5BWElTTU9WRSx0aGlzLmF4aXNNb3ZlRXZlbnREZXRhaWwsITEpLCEwfSxoYW5kbGVQcmVzczpmdW5jdGlvbih0LGUpe3ZhciBvLGk9dGhpcy5idXR0b25TdGF0ZXNbdF07cmV0dXJuIGUucHJlc3NlZCE9PWkucHJlc3NlZCYmKG89ZS5wcmVzc2VkP0VWRU5UUy5CVVRUT05ET1dOOkVWRU5UUy5CVVRUT05VUCx0aGlzLmVsLmVtaXQobyx0aGlzLmJ1dHRvbkV2ZW50RGV0YWlsc1t0XSwhMSksaS5wcmVzc2VkPWUucHJlc3NlZCwhMCl9LGhhbmRsZVRvdWNoOmZ1bmN0aW9uKHQsZSl7dmFyIG8saT10aGlzLmJ1dHRvblN0YXRlc1t0XTtyZXR1cm4gZS50b3VjaGVkIT09aS50b3VjaGVkJiYobz1lLnRvdWNoZWQ/RVZFTlRTLlRPVUNIU1RBUlQ6RVZFTlRTLlRPVUNIRU5ELHRoaXMuZWwuZW1pdChvLHRoaXMuYnV0dG9uRXZlbnREZXRhaWxzW3RdLCExLEVNUFRZX0RBWURSRUFNX1RPVUNIRVMpLGkudG91Y2hlZD1lLnRvdWNoZWQsITApfSxoYW5kbGVWYWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMuYnV0dG9uU3RhdGVzW3RdO3JldHVybiBlLnZhbHVlIT09by52YWx1ZSYmKG8udmFsdWU9ZS52YWx1ZSwhMCl9fSk7XG59LHtcIi4uL2NvbnN0YW50c1wiOjEwMCxcIi4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vbGliL3RocmVlXCI6MTU2LFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiOjE4OX1dLDkzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBjb250cm9sbGVyVXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL3RyYWNrZWQtY29udHJvbHNcIikscmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LEVWRU5UUz17QVhJU01PVkU6XCJheGlzbW92ZVwiLEJVVFRPTkNIQU5HRUQ6XCJidXR0b25jaGFuZ2VkXCIsQlVUVE9ORE9XTjpcImJ1dHRvbmRvd25cIixCVVRUT05VUDpcImJ1dHRvbnVwXCIsVE9VQ0hTVEFSVDpcInRvdWNoc3RhcnRcIixUT1VDSEVORDpcInRvdWNoZW5kXCJ9O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInRyYWNrZWQtY29udHJvbHMtd2VieHJcIix7c2NoZW1hOntpZDp7dHlwZTpcInN0cmluZ1wiLGRlZmF1bHQ6XCJcIn0saGFuZDp7dHlwZTpcInN0cmluZ1wiLGRlZmF1bHQ6XCJcIn0saW5kZXg6e3R5cGU6XCJpbnRcIixkZWZhdWx0Oi0xfSxpdGVyYXRlQ29udHJvbGxlclByb2ZpbGVzOntkZWZhdWx0OiExfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuYWRkU2Vzc2lvbkV2ZW50TGlzdGVuZXJzPXRoaXMuYWRkU2Vzc2lvbkV2ZW50TGlzdGVuZXJzLmJpbmQodGhpcyksdGhpcy51cGRhdGVDb250cm9sbGVyPXRoaXMudXBkYXRlQ29udHJvbGxlci5iaW5kKHRoaXMpLHRoaXMuZW1pdEJ1dHRvblVwRXZlbnQ9dGhpcy5lbWl0QnV0dG9uVXBFdmVudC5iaW5kKHRoaXMpLHRoaXMuZW1pdEJ1dHRvbkRvd25FdmVudD10aGlzLmVtaXRCdXR0b25Eb3duRXZlbnQuYmluZCh0aGlzKSx0aGlzLnNlbGVjdEV2ZW50RGV0YWlscz17aWQ6XCJ0cmlnZ2VyXCIsc3RhdGU6e3ByZXNzZWQ6ITF9fSx0aGlzLmJ1dHRvbkV2ZW50RGV0YWlscz17fSx0aGlzLmJ1dHRvblN0YXRlcz10aGlzLmVsLmNvbXBvbmVudHNbXCJ0cmFja2VkLWNvbnRyb2xzXCJdLmJ1dHRvblN0YXRlcz17fSx0aGlzLmF4aXM9dGhpcy5lbC5jb21wb25lbnRzW1widHJhY2tlZC1jb250cm9sc1wiXS5heGlzPVswLDAsMF0sdGhpcy5jaGFuZ2VkQXhlcz1bXSx0aGlzLmF4aXNNb3ZlRXZlbnREZXRhaWw9e2F4aXM6dGhpcy5heGlzLGNoYW5nZWQ6dGhpcy5jaGFuZ2VkQXhlc319LHBsYXk6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsLnNjZW5lRWw7dGhpcy51cGRhdGVDb250cm9sbGVyKCksdGhpcy5hZGRTZXNzaW9uRXZlbnRMaXN0ZW5lcnMoKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJlbnRlci12clwiLHRoaXMuYWRkU2Vzc2lvbkV2ZW50TGlzdGVuZXJzKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyc3VwZGF0ZWRcIix0aGlzLnVwZGF0ZUNvbnRyb2xsZXIpfSxwYXVzZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwuc2NlbmVFbDt0aGlzLnJlbW92ZVNlc3Npb25FdmVudExpc3RlbmVycygpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVudGVyLXZyXCIsdGhpcy5hZGRTZXNzaW9uRXZlbnRMaXN0ZW5lcnMpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJzdXBkYXRlZFwiLHRoaXMudXBkYXRlQ29udHJvbGxlcil9LGFkZFNlc3Npb25FdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwuc2NlbmVFbDt0LnhyU2Vzc2lvbiYmKHQueHJTZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RzdGFydFwiLHRoaXMuZW1pdEJ1dHRvbkRvd25FdmVudCksdC54clNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGVuZFwiLHRoaXMuZW1pdEJ1dHRvblVwRXZlbnQpKX0scmVtb3ZlU2Vzc2lvbkV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbC5zY2VuZUVsO3QueHJTZXNzaW9uJiYodC54clNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsdGhpcy5lbWl0QnV0dG9uRG93bkV2ZW50KSx0LnhyU2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0ZW5kXCIsdGhpcy5lbWl0QnV0dG9uVXBFdmVudCkpfSxlbWl0QnV0dG9uRG93bkV2ZW50OmZ1bmN0aW9uKHQpe3RoaXMuY29udHJvbGxlciYmdC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzPT09dGhpcy5kYXRhLmhhbmQmJih0aGlzLmNvbnRyb2xsZXIuZ2FtZXBhZHx8KHRoaXMuc2VsZWN0RXZlbnREZXRhaWxzLnN0YXRlLnByZXNzZWQ9ITAsdGhpcy5lbC5lbWl0KFwiYnV0dG9uZG93blwiLHRoaXMuc2VsZWN0RXZlbnREZXRhaWxzKSx0aGlzLmVsLmVtaXQoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5zZWxlY3RFdmVudERldGFpbHMpLHRoaXMuZWwuZW1pdChcInRyaWdnZXJkb3duXCIpKSl9LGVtaXRCdXR0b25VcEV2ZW50OmZ1bmN0aW9uKHQpe3RoaXMuY29udHJvbGxlciYmdC5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzPT09dGhpcy5kYXRhLmhhbmQmJih0aGlzLmNvbnRyb2xsZXIuZ2FtZXBhZHx8KHRoaXMuc2VsZWN0RXZlbnREZXRhaWxzLnN0YXRlLnByZXNzZWQ9ITEsdGhpcy5lbC5lbWl0KFwiYnV0dG9udXBcIix0aGlzLnNlbGVjdEV2ZW50RGV0YWlscyksdGhpcy5lbC5lbWl0KFwiYnV0dG9uY2hhbmdlZFwiLHRoaXMuc2VsZWN0RXZlbnREZXRhaWxzKSx0aGlzLmVsLmVtaXQoXCJ0cmlnZ2VydXBcIikpKX0sdXBkYXRlQ29udHJvbGxlcjpmdW5jdGlvbigpe3RoaXMuY29udHJvbGxlcj1jb250cm9sbGVyVXRpbHMuZmluZE1hdGNoaW5nQ29udHJvbGxlcldlYlhSKHRoaXMuc3lzdGVtLmNvbnRyb2xsZXJzLHRoaXMuZGF0YS5pZCx0aGlzLmRhdGEuaGFuZCx0aGlzLmRhdGEuaW5kZXgsdGhpcy5kYXRhLml0ZXJhdGVDb250cm9sbGVyUHJvZmlsZXMpLHRoaXMuZWwuY29tcG9uZW50c1tcInRyYWNrZWQtY29udHJvbHNcIl0uY29udHJvbGxlcj10aGlzLmNvbnRyb2xsZXIsdGhpcy5kYXRhLmF1dG9IaWRlJiYodGhpcy5lbC5vYmplY3QzRC52aXNpYmxlPSEhdGhpcy5jb250cm9sbGVyKX0sdGljazpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwuc2NlbmVFbDt0aGlzLmNvbnRyb2xsZXImJnQuZnJhbWUmJih0aGlzLnBvc2U9dC5mcmFtZS5nZXRQb3NlKHRoaXMuY29udHJvbGxlci50YXJnZXRSYXlTcGFjZSx0aGlzLnN5c3RlbS5yZWZlcmVuY2VTcGFjZSksdGhpcy51cGRhdGVQb3NlKCksdGhpcy51cGRhdGVCdXR0b25zKCkpfSx1cGRhdGVQb3NlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbC5vYmplY3QzRCxlPXRoaXMucG9zZTtlJiYodC5tYXRyaXguZWxlbWVudHM9ZS50cmFuc2Zvcm0ubWF0cml4LHQubWF0cml4LmRlY29tcG9zZSh0LnBvc2l0aW9uLHQucm90YXRpb24sdC5zY2FsZSkpfSx1cGRhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIHQsZSxzLG49dGhpcy5jb250cm9sbGVyO2lmKG4mJm4uZ2FtZXBhZCl7Zm9yKHM9bi5nYW1lcGFkLGU9MDtlPHMuYnV0dG9ucy5sZW5ndGg7KytlKXRoaXMuYnV0dG9uU3RhdGVzW2VdfHwodGhpcy5idXR0b25TdGF0ZXNbZV09e3ByZXNzZWQ6ITEsdG91Y2hlZDohMSx2YWx1ZTowfSksdGhpcy5idXR0b25FdmVudERldGFpbHNbZV18fCh0aGlzLmJ1dHRvbkV2ZW50RGV0YWlsc1tlXT17aWQ6ZSxzdGF0ZTp0aGlzLmJ1dHRvblN0YXRlc1tlXX0pLHQ9cy5idXR0b25zW2VdLHRoaXMuaGFuZGxlQnV0dG9uKGUsdCk7dGhpcy5oYW5kbGVBeGVzKCl9fSxoYW5kbGVCdXR0b246ZnVuY3Rpb24odCxlKXtyZXR1cm4hISh0aGlzLmhhbmRsZVByZXNzKHQsZSl8dGhpcy5oYW5kbGVUb3VjaCh0LGUpfHRoaXMuaGFuZGxlVmFsdWUodCxlKSkmJih0aGlzLmVsLmVtaXQoRVZFTlRTLkJVVFRPTkNIQU5HRUQsdGhpcy5idXR0b25FdmVudERldGFpbHNbdF0sITEpLCEwKX0saGFuZGxlQXhlczpmdW5jdGlvbigpe3ZhciB0LGU9ITEscz10aGlzLmNvbnRyb2xsZXIuZ2FtZXBhZC5heGVzLG49dGhpcy5heGlzLGk9dGhpcy5jaGFuZ2VkQXhlcztmb3IodGhpcy5jaGFuZ2VkQXhlcy5sZW5ndGg9MCx0PTA7dDxzLmxlbmd0aDsrK3QpaS5wdXNoKG5bdF0hPT1zW3RdKSxpW3RdJiYoZT0hMCk7aWYoIWUpcmV0dXJuITE7Zm9yKHRoaXMuYXhpcy5sZW5ndGg9MCx0PTA7dDxzLmxlbmd0aDt0KyspdGhpcy5heGlzLnB1c2goc1t0XSk7cmV0dXJuIHRoaXMuZWwuZW1pdChFVkVOVFMuQVhJU01PVkUsdGhpcy5heGlzTW92ZUV2ZW50RGV0YWlsLCExKSwhMH0saGFuZGxlUHJlc3M6ZnVuY3Rpb24odCxlKXt2YXIgcyxuPXRoaXMuYnV0dG9uU3RhdGVzW3RdO3JldHVybiBlLnByZXNzZWQhPT1uLnByZXNzZWQmJihzPWUucHJlc3NlZD9FVkVOVFMuQlVUVE9ORE9XTjpFVkVOVFMuQlVUVE9OVVAsdGhpcy5lbC5lbWl0KHMsdGhpcy5idXR0b25FdmVudERldGFpbHNbdF0sITEpLG4ucHJlc3NlZD1lLnByZXNzZWQsITApfSxoYW5kbGVUb3VjaDpmdW5jdGlvbih0LGUpe3ZhciBzLG49dGhpcy5idXR0b25TdGF0ZXNbdF07cmV0dXJuIGUudG91Y2hlZCE9PW4udG91Y2hlZCYmKHM9ZS50b3VjaGVkP0VWRU5UUy5UT1VDSFNUQVJUOkVWRU5UUy5UT1VDSEVORCx0aGlzLmVsLmVtaXQocyx0aGlzLmJ1dHRvbkV2ZW50RGV0YWlsc1t0XSwhMSksbi50b3VjaGVkPWUudG91Y2hlZCwhMCl9LGhhbmRsZVZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIHM9dGhpcy5idXR0b25TdGF0ZXNbdF07cmV0dXJuIGUudmFsdWUhPT1zLnZhbHVlJiYocy52YWx1ZT1lLnZhbHVlLCEwKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi91dGlscy90cmFja2VkLWNvbnRyb2xzXCI6MTg5fV0sOTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudDttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJ0cmFja2VkLWNvbnRyb2xzXCIse3NjaGVtYTp7YXV0b0hpZGU6e2RlZmF1bHQ6ITB9LGNvbnRyb2xsZXI6e2RlZmF1bHQ6LTF9LGlkOnt0eXBlOlwic3RyaW5nXCIsZGVmYXVsdDpcIlwifSxoYW5kOnt0eXBlOlwic3RyaW5nXCIsZGVmYXVsdDpcIlwifSxpZFByZWZpeDp7dHlwZTpcInN0cmluZ1wiLGRlZmF1bHQ6XCJcIn0sb3JpZW50YXRpb25PZmZzZXQ6e3R5cGU6XCJ2ZWMzXCJ9LGFybU1vZGVsOntkZWZhdWx0OiEwfSxoZWFkRWxlbWVudDp7dHlwZTpcInNlbGVjdG9yXCJ9LGl0ZXJhdGVDb250cm9sbGVyUHJvZmlsZXM6e2RlZmF1bHQ6ITF9fSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEsdD10aGlzLmVsO3Quc2NlbmVFbC5oYXNXZWJYUj90LnNldEF0dHJpYnV0ZShcInRyYWNrZWQtY29udHJvbHMtd2VieHJcIix7aWQ6ZS5pZCxoYW5kOmUuaGFuZCxpbmRleDplLmNvbnRyb2xsZXIsaXRlcmF0ZUNvbnRyb2xsZXJQcm9maWxlczplLml0ZXJhdGVDb250cm9sbGVyUHJvZmlsZXN9KTp0LnNldEF0dHJpYnV0ZShcInRyYWNrZWQtY29udHJvbHMtd2VidnJcIixlKX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDh9XSw5NTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50O21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcInZpc2libGVcIix7c2NoZW1hOntkZWZhdWx0OiEwfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmVsLm9iamVjdDNELnZpc2libGU9dGhpcy5kYXRhfX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOH1dLDk2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckNvbXBvbmVudD1fZGVyZXFfKFwiLi4vY29yZS9jb21wb25lbnRcIikucmVnaXN0ZXJDb21wb25lbnQsYmluZD1fZGVyZXFfKFwiLi4vdXRpbHMvYmluZFwiKSx0cmFja2VkQ29udHJvbHNVdGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiKSxjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXA9dHJhY2tlZENvbnRyb2xzVXRpbHMuY2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwLGVtaXRJZkF4ZXNDaGFuZ2VkPXRyYWNrZWRDb250cm9sc1V0aWxzLmVtaXRJZkF4ZXNDaGFuZ2VkLG9uQnV0dG9uRXZlbnQ9dHJhY2tlZENvbnRyb2xzVXRpbHMub25CdXR0b25FdmVudCxWSVZFX0NPTlRST0xMRVJfTU9ERUxfT0JKX1VSTD1cImh0dHBzOi8vY2RuLmFmcmFtZS5pby9jb250cm9sbGVycy92aXZlL3ZyX2NvbnRyb2xsZXJfdml2ZS5vYmpcIixWSVZFX0NPTlRST0xMRVJfTU9ERUxfT0JKX01UTD1cImh0dHBzOi8vY2RuLmFmcmFtZS5pby9jb250cm9sbGVycy92aXZlL3ZyX2NvbnRyb2xsZXJfdml2ZS5tdGxcIixpc1dlYlhSQXZhaWxhYmxlPV9kZXJlcV8oXCIuLi91dGlscy9cIikuZGV2aWNlLmlzV2ViWFJBdmFpbGFibGUsR0FNRVBBRF9JRF9XRUJYUj1cImh0Yy12aXZlLWNvbnRyb2xsZXItbXZcIixHQU1FUEFEX0lEX1dFQlZSPVwiT3BlblZSIFwiLEdBTUVQQURfSURfUFJFRklYPWlzV2ViWFJBdmFpbGFibGU/R0FNRVBBRF9JRF9XRUJYUjpHQU1FUEFEX0lEX1dFQlZSLElOUFVUX01BUFBJTkdfV0VCVlI9e2F4ZXM6e3RyYWNrcGFkOlswLDFdfSxidXR0b25zOltcInRyYWNrcGFkXCIsXCJ0cmlnZ2VyXCIsXCJncmlwXCIsXCJtZW51XCIsXCJzeXN0ZW1cIl19LElOUFVUX01BUFBJTkdfV0VCWFI9e2F4ZXM6e3RodW1ic3RpY2s6WzAsMV19LGJ1dHRvbnM6W1widHJpZ2dlclwiLFwiZ3JpcFwiLFwidHJhY2twYWRcIixcIm5vbmVcIixcIm1lbnVcIl19LElOUFVUX01BUFBJTkc9aXNXZWJYUkF2YWlsYWJsZT9JTlBVVF9NQVBQSU5HX1dFQlhSOklOUFVUX01BUFBJTkdfV0VCVlI7bW9kdWxlLmV4cG9ydHMuQ29tcG9uZW50PXJlZ2lzdGVyQ29tcG9uZW50KFwidml2ZS1jb250cm9sc1wiLHtzY2hlbWE6e2hhbmQ6e2RlZmF1bHQ6XCJsZWZ0XCJ9LGJ1dHRvbkNvbG9yOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiI0ZBRkFGQVwifSxidXR0b25IaWdobGlnaHRDb2xvcjp7dHlwZTpcImNvbG9yXCIsZGVmYXVsdDpcIiMyMkQxRUVcIn0sbW9kZWw6e2RlZmF1bHQ6ITB9LG9yaWVudGF0aW9uT2Zmc2V0Ont0eXBlOlwidmVjM1wifX0sbWFwcGluZzpJTlBVVF9NQVBQSU5HLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuY29udHJvbGxlclByZXNlbnQ9ITEsdGhpcy5sYXN0Q29udHJvbGxlckNoZWNrPTAsdGhpcy5vbkJ1dHRvbkNoYW5nZWQ9YmluZCh0aGlzLm9uQnV0dG9uQ2hhbmdlZCx0aGlzKSx0aGlzLm9uQnV0dG9uRG93bj1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwiZG93blwiLHQpfSx0aGlzLm9uQnV0dG9uVXA9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInVwXCIsdCl9LHRoaXMub25CdXR0b25Ub3VjaEVuZD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidG91Y2hlbmRcIix0KX0sdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInRvdWNoc3RhcnRcIix0KX0sdGhpcy5wcmV2aW91c0J1dHRvblZhbHVlcz17fSx0aGlzLnJlbmRlcmVyU3lzdGVtPXRoaXMuZWwuc2NlbmVFbC5zeXN0ZW1zLnJlbmRlcmVyLHRoaXMuYmluZE1ldGhvZHMoKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhO3RoaXMuY29udHJvbGxlckluZGV4PVwicmlnaHRcIj09PXQuaGFuZD8wOlwibGVmdFwiPT09dC5oYW5kPzE6Mn0scGxheTpmdW5jdGlvbigpe3RoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50KCksdGhpcy5hZGRDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyKCl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMucmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcigpfSxiaW5kTWV0aG9kczpmdW5jdGlvbigpe3RoaXMub25Nb2RlbExvYWRlZD1iaW5kKHRoaXMub25Nb2RlbExvYWRlZCx0aGlzKSx0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGU9YmluZCh0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsdGhpcyksdGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQ9YmluZCh0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCx0aGlzKSx0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXI9YmluZCh0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIsdGhpcyksdGhpcy5vbkF4aXNNb3ZlZD1iaW5kKHRoaXMub25BeGlzTW92ZWQsdGhpcyl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksdC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdC5hZGRFdmVudExpc3RlbmVyKFwiYXhpc21vdmVcIix0aGlzLm9uQXhpc01vdmVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITB9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5vbkJ1dHRvblRvdWNoRW5kKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkJ1dHRvblRvdWNoU3RhcnQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXhpc21vdmVcIix0aGlzLm9uQXhpc01vdmVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITF9LGNoZWNrSWZDb250cm9sbGVyUHJlc2VudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YTtjaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXAodGhpcyxHQU1FUEFEX0lEX1BSRUZJWCx7aW5kZXg6dGhpcy5jb250cm9sbGVySW5kZXgsaGFuZDp0LmhhbmR9KX0saW5qZWN0VHJhY2tlZENvbnRyb2xzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbCxlPXRoaXMuZGF0YTt0LnNldEF0dHJpYnV0ZShcInRyYWNrZWQtY29udHJvbHNcIix7aWRQcmVmaXg6R0FNRVBBRF9JRF9QUkVGSVgsaGFuZDplLmhhbmQsY29udHJvbGxlcjp0aGlzLmNvbnRyb2xsZXJJbmRleCxvcmllbnRhdGlvbk9mZnNldDplLm9yaWVudGF0aW9uT2Zmc2V0fSksdGhpcy5kYXRhLm1vZGVsJiZ0aGlzLmVsLnNldEF0dHJpYnV0ZShcIm9iai1tb2RlbFwiLHtvYmo6VklWRV9DT05UUk9MTEVSX01PREVMX09CSl9VUkwsbXRsOlZJVkVfQ09OVFJPTExFUl9NT0RFTF9PQkpfTVRMfSl9LGFkZENvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmVsLnNjZW5lRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJzdXBkYXRlZFwiLHRoaXMub25Db250cm9sbGVyc1VwZGF0ZSwhMSl9LHJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmVsLnNjZW5lRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJzdXBkYXRlZFwiLHRoaXMub25Db250cm9sbGVyc1VwZGF0ZSwhMSl9LG9uQ29udHJvbGxlcnNVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCgpfSxvbkJ1dHRvbkNoYW5nZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbz10aGlzLm1hcHBpbmcuYnV0dG9uc1t0LmRldGFpbC5pZF0sbj10aGlzLmJ1dHRvbk1lc2hlcztvJiYoXCJ0cmlnZ2VyXCI9PT1vJiYoZT10LmRldGFpbC5zdGF0ZS52YWx1ZSxuJiZuLnRyaWdnZXImJihuLnRyaWdnZXIucm90YXRpb24ueD0tZSooTWF0aC5QSS8xMikpKSx0aGlzLmVsLmVtaXQobytcImNoYW5nZWRcIix0LmRldGFpbC5zdGF0ZSkpfSxvbk1vZGVsTG9hZGVkOmZ1bmN0aW9uKHQpe3ZhciBlLG89dC5kZXRhaWwubW9kZWwsbj10aGlzO3RoaXMuZGF0YS5tb2RlbCYmKGU9dGhpcy5idXR0b25NZXNoZXM9e30sZS5ncmlwPXtsZWZ0Om8uZ2V0T2JqZWN0QnlOYW1lKFwibGVmdGdyaXBcIikscmlnaHQ6by5nZXRPYmplY3RCeU5hbWUoXCJyaWdodGdyaXBcIil9LGUubWVudT1vLmdldE9iamVjdEJ5TmFtZShcIm1lbnVidXR0b25cIiksZS5zeXN0ZW09by5nZXRPYmplY3RCeU5hbWUoXCJzeXN0ZW1idXR0b25cIiksZS50cmFja3BhZD1vLmdldE9iamVjdEJ5TmFtZShcInRvdWNocGFkXCIpLGUudHJpZ2dlcj1vLmdldE9iamVjdEJ5TmFtZShcInRyaWdnZXJcIiksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtuLnNldEJ1dHRvbkNvbG9yKHQsbi5kYXRhLmJ1dHRvbkNvbG9yKX0pLG8ucG9zaXRpb24uc2V0KDAsLS4wMTUsLjA0KSl9LG9uQXhpc01vdmVkOmZ1bmN0aW9uKHQpe2VtaXRJZkF4ZXNDaGFuZ2VkKHRoaXMsdGhpcy5tYXBwaW5nLmF4ZXMsdCl9LHVwZGF0ZU1vZGVsOmZ1bmN0aW9uKHQsZSl7dmFyIG87dGhpcy5kYXRhLm1vZGVsJiYoLTEhPT1lLmluZGV4T2YoXCJ0b3VjaFwiKXx8KG89XCJ1cFwiPT09ZT90aGlzLmRhdGEuYnV0dG9uQ29sb3I6dGhpcy5kYXRhLmJ1dHRvbkhpZ2hsaWdodENvbG9yLHRoaXMuc2V0QnV0dG9uQ29sb3IodCxvKSkpfSxzZXRCdXR0b25Db2xvcjpmdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMuYnV0dG9uTWVzaGVzLG49dGhpcy5yZW5kZXJlclN5c3RlbTtpZihvKXtpZihcImdyaXBcIj09PXQpcmV0dXJuIG8uZ3JpcC5sZWZ0Lm1hdGVyaWFsLmNvbG9yLnNldChlKSxvLmdyaXAucmlnaHQubWF0ZXJpYWwuY29sb3Iuc2V0KGUpLG4uYXBwbHlDb2xvckNvcnJlY3Rpb24oby5ncmlwLmxlZnQubWF0ZXJpYWwuY29sb3IpLHZvaWQgbi5hcHBseUNvbG9yQ29ycmVjdGlvbihvLmdyaXAucmlnaHQubWF0ZXJpYWwuY29sb3IpO29bdF0ubWF0ZXJpYWwuY29sb3Iuc2V0KGUpLG4uYXBwbHlDb2xvckNvcnJlY3Rpb24ob1t0XS5tYXRlcmlhbC5jb2xvcil9fX0pO1xufSx7XCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL3V0aWxzL1wiOjE4MSxcIi4uL3V0aWxzL2JpbmRcIjoxNzUsXCIuLi91dGlscy90cmFja2VkLWNvbnRyb2xzXCI6MTg5fV0sOTc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuLi9jb3JlL2NvbXBvbmVudFwiKS5yZWdpc3RlckNvbXBvbmVudCxiaW5kPV9kZXJlcV8oXCIuLi91dGlscy9iaW5kXCIpLHRyYWNrZWRDb250cm9sc1V0aWxzPV9kZXJlcV8oXCIuLi91dGlscy90cmFja2VkLWNvbnRyb2xzXCIpLGNoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cD10cmFja2VkQ29udHJvbHNVdGlscy5jaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXAsZW1pdElmQXhlc0NoYW5nZWQ9dHJhY2tlZENvbnRyb2xzVXRpbHMuZW1pdElmQXhlc0NoYW5nZWQsb25CdXR0b25FdmVudD10cmFja2VkQ29udHJvbHNVdGlscy5vbkJ1dHRvbkV2ZW50LEdBTUVQQURfSURfUFJFRklYPVwiSFRDIFZpdmUgRm9jdXNcIixWSVZFX0ZPQ1VTX0NPTlRST0xMRVJfTU9ERUxfVVJMPVwiaHR0cHM6Ly9jZG4uYWZyYW1lLmlvL2NvbnRyb2xsZXJzL3ZpdmUvZm9jdXMtY29udHJvbGxlci9mb2N1cy1jb250cm9sbGVyLmdsdGZcIjttb2R1bGUuZXhwb3J0cy5Db21wb25lbnQ9cmVnaXN0ZXJDb21wb25lbnQoXCJ2aXZlLWZvY3VzLWNvbnRyb2xzXCIse3NjaGVtYTp7aGFuZDp7ZGVmYXVsdDpcIlwifSxidXR0b25Ub3VjaGVkQ29sb3I6e3R5cGU6XCJjb2xvclwiLGRlZmF1bHQ6XCIjQkJCQkJCXCJ9LGJ1dHRvbkhpZ2hsaWdodENvbG9yOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzdBN0E3QVwifSxtb2RlbDp7ZGVmYXVsdDohMH0sb3JpZW50YXRpb25PZmZzZXQ6e3R5cGU6XCJ2ZWMzXCJ9LGFybU1vZGVsOntkZWZhdWx0OiEwfX0sbWFwcGluZzp7YXhlczp7dHJhY2twYWQ6WzAsMV19LGJ1dHRvbnM6W1widHJhY2twYWRcIixcInRyaWdnZXJcIl19LGJpbmRNZXRob2RzOmZ1bmN0aW9uKCl7dGhpcy5vbk1vZGVsTG9hZGVkPWJpbmQodGhpcy5vbk1vZGVsTG9hZGVkLHRoaXMpLHRoaXMub25Db250cm9sbGVyc1VwZGF0ZT1iaW5kKHRoaXMub25Db250cm9sbGVyc1VwZGF0ZSx0aGlzKSx0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudD1iaW5kKHRoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50LHRoaXMpLHRoaXMucmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcj1iaW5kKHRoaXMucmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcix0aGlzKSx0aGlzLm9uQXhpc01vdmVkPWJpbmQodGhpcy5vbkF4aXNNb3ZlZCx0aGlzKX0saW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5vbkJ1dHRvbkNoYW5nZWQ9YmluZCh0aGlzLm9uQnV0dG9uQ2hhbmdlZCx0aGlzKSx0aGlzLm9uQnV0dG9uRG93bj1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwiZG93blwiLHQpfSx0aGlzLm9uQnV0dG9uVXA9ZnVuY3Rpb24oZSl7b25CdXR0b25FdmVudChlLmRldGFpbC5pZCxcInVwXCIsdCl9LHRoaXMub25CdXR0b25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKGUpe29uQnV0dG9uRXZlbnQoZS5kZXRhaWwuaWQsXCJ0b3VjaHN0YXJ0XCIsdCl9LHRoaXMub25CdXR0b25Ub3VjaEVuZD1mdW5jdGlvbihlKXtvbkJ1dHRvbkV2ZW50KGUuZGV0YWlsLmlkLFwidG91Y2hlbmRcIix0KX0sdGhpcy5jb250cm9sbGVyUHJlc2VudD0hMSx0aGlzLmxhc3RDb250cm9sbGVyQ2hlY2s9MCx0aGlzLmJpbmRNZXRob2RzKCl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0LmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksdC5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQnV0dG9uVG91Y2hTdGFydCksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uQnV0dG9uVG91Y2hFbmQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdC5hZGRFdmVudExpc3RlbmVyKFwiYXhpc21vdmVcIix0aGlzLm9uQXhpc01vdmVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITAsdGhpcy5hZGRDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyKCl9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQnV0dG9uVG91Y2hTdGFydCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uQnV0dG9uVG91Y2hFbmQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vZGVsLWxvYWRlZFwiLHRoaXMub25Nb2RlbExvYWRlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXhpc21vdmVcIix0aGlzLm9uQXhpc01vdmVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITEsdGhpcy5yZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyKCl9LGNoZWNrSWZDb250cm9sbGVyUHJlc2VudDpmdW5jdGlvbigpe2NoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cCh0aGlzLEdBTUVQQURfSURfUFJFRklYLHRoaXMuZGF0YS5oYW5kP3toYW5kOnRoaXMuZGF0YS5oYW5kfTp7fSl9LHBsYXk6ZnVuY3Rpb24oKXt0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCgpLHRoaXMuYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcigpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0saW5qZWN0VHJhY2tlZENvbnRyb2xzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbCxlPXRoaXMuZGF0YTt0LnNldEF0dHJpYnV0ZShcInRyYWNrZWQtY29udHJvbHNcIix7YXJtTW9kZWw6ZS5hcm1Nb2RlbCxpZFByZWZpeDpHQU1FUEFEX0lEX1BSRUZJWCxvcmllbnRhdGlvbk9mZnNldDplLm9yaWVudGF0aW9uT2Zmc2V0fSksdGhpcy5kYXRhLm1vZGVsJiZ0aGlzLmVsLnNldEF0dHJpYnV0ZShcImdsdGYtbW9kZWxcIixWSVZFX0ZPQ1VTX0NPTlRST0xMRVJfTU9ERUxfVVJMKX0sYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0scmVtb3ZlQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJzVXBkYXRlLCExKX0sb25Db250cm9sbGVyc1VwZGF0ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tJZkNvbnRyb2xsZXJQcmVzZW50KCl9LG9uTW9kZWxMb2FkZWQ6ZnVuY3Rpb24odCl7dmFyIGUsbz10LmRldGFpbC5tb2RlbDt0aGlzLmRhdGEubW9kZWwmJihlPXRoaXMuYnV0dG9uTWVzaGVzPXt9LGUudHJpZ2dlcj1vLmdldE9iamVjdEJ5TmFtZShcIkJ1bXBlcktleVwiKSxlLnRyaWdnZXJQcmVzc2VkPW8uZ2V0T2JqZWN0QnlOYW1lKFwiQnVtcGVyS2V5X1ByZXNzXCIpLGUudHJpZ2dlclByZXNzZWQmJihlLnRyaWdnZXJQcmVzc2VkLnZpc2libGU9ITEpLGUudHJhY2twYWQ9by5nZXRPYmplY3RCeU5hbWUoXCJUb3VjaFBhZFwiKSxlLnRyYWNrcGFkUHJlc3NlZD1vLmdldE9iamVjdEJ5TmFtZShcIlRvdWNoUGFkX1ByZXNzXCIpLGUudHJhY2twYWRQcmVzc2VkJiYoZS50cmFja3BhZFByZXNzZWQudmlzaWJsZT0hMSkpfSxvbkJ1dHRvbkNoYW5nZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXBwaW5nLmJ1dHRvbnNbdC5kZXRhaWwuaWRdO2UmJnRoaXMuZWwuZW1pdChlK1wiY2hhbmdlZFwiLHQuZGV0YWlsLnN0YXRlKX0sb25BeGlzTW92ZWQ6ZnVuY3Rpb24odCl7ZW1pdElmQXhlc0NoYW5nZWQodGhpcyx0aGlzLm1hcHBpbmcuYXhlcyx0KX0sdXBkYXRlTW9kZWw6ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGEubW9kZWwmJnRoaXMudXBkYXRlQnV0dG9uTW9kZWwodCxlKX0sdXBkYXRlQnV0dG9uTW9kZWw6ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLmJ1dHRvbk1lc2hlcyxuPXQrXCJQcmVzc2VkXCI7aWYobyYmb1t0XSYmb1tuXSl7dmFyIHM7c3dpdGNoKGUpe2Nhc2VcImRvd25cIjpzPXRoaXMuZGF0YS5idXR0b25IaWdobGlnaHRDb2xvcjticmVhaztjYXNlXCJ0b3VjaHN0YXJ0XCI6cz10aGlzLmRhdGEuYnV0dG9uVG91Y2hlZENvbG9yfXMmJm9bbl0ubWF0ZXJpYWwuY29sb3Iuc2V0KHMpLG9bbl0udmlzaWJsZT0hIXMsb1t0XS52aXNpYmxlPSFzfX19KTtcbn0se1wiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi91dGlscy9iaW5kXCI6MTc1LFwiLi4vdXRpbHMvdHJhY2tlZC1jb250cm9sc1wiOjE4OX1dLDk4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGlzRW1wdHlPYmplY3QoZSl7dmFyIHQ7Zm9yKHQgaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgS0VZQ09ERV9UT19DT0RFPV9kZXJlcV8oXCIuLi9jb25zdGFudHNcIikua2V5Ym9hcmRldmVudC5LRVlDT0RFX1RPX0NPREUscmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKSxiaW5kPXV0aWxzLmJpbmQsc2hvdWxkQ2FwdHVyZUtleUV2ZW50PXV0aWxzLnNob3VsZENhcHR1cmVLZXlFdmVudCxDTEFNUF9WRUxPQ0lUWT0xZS01LE1BWF9ERUxUQT0uMixLRVlTPVtcIktleVdcIixcIktleUFcIixcIktleVNcIixcIktleURcIixcIkFycm93VXBcIixcIkFycm93TGVmdFwiLFwiQXJyb3dSaWdodFwiLFwiQXJyb3dEb3duXCJdO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcIndhc2QtY29udHJvbHNcIix7c2NoZW1hOnthY2NlbGVyYXRpb246e2RlZmF1bHQ6NjV9LGFkQXhpczp7ZGVmYXVsdDpcInhcIixvbmVPZjpbXCJ4XCIsXCJ5XCIsXCJ6XCJdfSxhZEVuYWJsZWQ6e2RlZmF1bHQ6ITB9LGFkSW52ZXJ0ZWQ6e2RlZmF1bHQ6ITF9LGVuYWJsZWQ6e2RlZmF1bHQ6ITB9LGZseTp7ZGVmYXVsdDohMX0sd3NBeGlzOntkZWZhdWx0OlwielwiLG9uZU9mOltcInhcIixcInlcIixcInpcIl19LHdzRW5hYmxlZDp7ZGVmYXVsdDohMH0sd3NJbnZlcnRlZDp7ZGVmYXVsdDohMX19LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLmtleXM9e30sdGhpcy5lYXNpbmc9MS4xLHRoaXMudmVsb2NpdHk9bmV3IFRIUkVFLlZlY3RvcjMsdGhpcy5vbkJsdXI9YmluZCh0aGlzLm9uQmx1cix0aGlzKSx0aGlzLm9uRm9jdXM9YmluZCh0aGlzLm9uRm9jdXMsdGhpcyksdGhpcy5vbktleURvd249YmluZCh0aGlzLm9uS2V5RG93bix0aGlzKSx0aGlzLm9uS2V5VXA9YmluZCh0aGlzLm9uS2V5VXAsdGhpcyksdGhpcy5vblZpc2liaWxpdHlDaGFuZ2U9YmluZCh0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSx0aGlzKSx0aGlzLmF0dGFjaFZpc2liaWxpdHlFdmVudExpc3RlbmVycygpfSx0aWNrOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5kYXRhLG49dGhpcy5lbCxzPXRoaXMudmVsb2NpdHk7KHNbaS5hZEF4aXNdfHxzW2kud3NBeGlzXXx8IWlzRW1wdHlPYmplY3QodGhpcy5rZXlzKSkmJih0Lz0xZTMsdGhpcy51cGRhdGVWZWxvY2l0eSh0KSwoc1tpLmFkQXhpc118fHNbaS53c0F4aXNdKSYmbi5vYmplY3QzRC5wb3NpdGlvbi5hZGQodGhpcy5nZXRNb3ZlbWVudFZlY3Rvcih0KSkpfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUtleUV2ZW50TGlzdGVuZXJzKCksdGhpcy5yZW1vdmVWaXNpYmlsaXR5RXZlbnRMaXN0ZW5lcnMoKX0scGxheTpmdW5jdGlvbigpe3RoaXMuYXR0YWNoS2V5RXZlbnRMaXN0ZW5lcnMoKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmtleXM9e30sdGhpcy5yZW1vdmVLZXlFdmVudExpc3RlbmVycygpfSx1cGRhdGVWZWxvY2l0eTpmdW5jdGlvbihlKXt2YXIgdCxpLG4scyxvLHI9dGhpcy5kYXRhLGE9dGhpcy5rZXlzLGQ9dGhpcy52ZWxvY2l0eTtpZihpPXIuYWRBeGlzLHM9ci53c0F4aXMsZT5NQVhfREVMVEEpcmV0dXJuIGRbaV09MCx2b2lkKGRbc109MCk7dmFyIGg9TWF0aC5wb3coMS90aGlzLmVhc2luZyw2MCplKTswIT09ZFtpXSYmKGRbaV0tPWRbaV0qaCksMCE9PWRbc10mJihkW3NdLT1kW3NdKmgpLE1hdGguYWJzKGRbaV0pPENMQU1QX1ZFTE9DSVRZJiYoZFtpXT0wKSxNYXRoLmFicyhkW3NdKTxDTEFNUF9WRUxPQ0lUWSYmKGRbc109MCksci5lbmFibGVkJiYodD1yLmFjY2VsZXJhdGlvbixyLmFkRW5hYmxlZCYmKG49ci5hZEludmVydGVkPy0xOjEsKGEuS2V5QXx8YS5BcnJvd0xlZnQpJiYoZFtpXS09bip0KmUpLChhLktleUR8fGEuQXJyb3dSaWdodCkmJihkW2ldKz1uKnQqZSkpLHIud3NFbmFibGVkJiYobz1yLndzSW52ZXJ0ZWQ/LTE6MSwoYS5LZXlXfHxhLkFycm93VXApJiYoZFtzXS09byp0KmUpLChhLktleVN8fGEuQXJyb3dEb3duKSYmKGRbc10rPW8qdCplKSkpfSxnZXRNb3ZlbWVudFZlY3RvcjpmdW5jdGlvbigpe3ZhciBlPW5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSx0PW5ldyBUSFJFRS5FdWxlcigwLDAsMCxcIllYWlwiKTtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG4scz10aGlzLmVsLmdldEF0dHJpYnV0ZShcInJvdGF0aW9uXCIpLG89dGhpcy52ZWxvY2l0eTtyZXR1cm4gZS5jb3B5KG8pLGUubXVsdGlwbHlTY2FsYXIoaSkscz8obj10aGlzLmRhdGEuZmx5P3MueDowLHQuc2V0KFRIUkVFLk1hdGguZGVnVG9SYWQobiksVEhSRUUuTWF0aC5kZWdUb1JhZChzLnkpLDApLGUuYXBwbHlFdWxlcih0KSxlKTplfX0oKSxhdHRhY2hWaXNpYmlsaXR5RXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLm9uQmx1ciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMub25Gb2N1cyksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSl9LHJlbW92ZVZpc2liaWxpdHlFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMub25CbHVyKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5vbkZvY3VzKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlKX0sYXR0YWNoS2V5RXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLm9uS2V5RG93biksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMub25LZXlVcCl9LHJlbW92ZUtleUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5vbktleURvd24pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLm9uS2V5VXApfSxvbkJsdXI6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlKCl9LG9uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnBsYXkoKX0sb25WaXNpYmlsaXR5Q2hhbmdlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuaGlkZGVuP3RoaXMub25CbHVyKCk6dGhpcy5vbkZvY3VzKCl9LG9uS2V5RG93bjpmdW5jdGlvbihlKXt2YXIgdDtzaG91bGRDYXB0dXJlS2V5RXZlbnQoZSkmJih0PWUuY29kZXx8S0VZQ09ERV9UT19DT0RFW2Uua2V5Q29kZV0sLTEhPT1LRVlTLmluZGV4T2YodCkmJih0aGlzLmtleXNbdF09ITApKX0sb25LZXlVcDpmdW5jdGlvbihlKXt2YXIgdDt0PWUuY29kZXx8S0VZQ09ERV9UT19DT0RFW2Uua2V5Q29kZV0sZGVsZXRlIHRoaXMua2V5c1t0XX19KTtcbn0se1wiLi4vY29uc3RhbnRzXCI6MTAwLFwiLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlscy9cIjoxODF9XSw5OTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LGJpbmQ9X2RlcmVxXyhcIi4uL3V0aWxzL2JpbmRcIiksdHJhY2tlZENvbnRyb2xzVXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL3RyYWNrZWQtY29udHJvbHNcIiksY2hlY2tDb250cm9sbGVyUHJlc2VudEFuZFNldHVwPXRyYWNrZWRDb250cm9sc1V0aWxzLmNoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cCxlbWl0SWZBeGVzQ2hhbmdlZD10cmFja2VkQ29udHJvbHNVdGlscy5lbWl0SWZBeGVzQ2hhbmdlZCxvbkJ1dHRvbkV2ZW50PXRyYWNrZWRDb250cm9sc1V0aWxzLm9uQnV0dG9uRXZlbnQsdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKSxkZWJ1Zz11dGlscy5kZWJ1ZyhcImNvbXBvbmVudHM6d2luZG93cy1tb3Rpb24tY29udHJvbHM6ZGVidWdcIiksd2Fybj11dGlscy5kZWJ1ZyhcImNvbXBvbmVudHM6d2luZG93cy1tb3Rpb24tY29udHJvbHM6d2FyblwiKSxERUZBVUxUX0hBTkRFRE5FU1M9X2RlcmVxXyhcIi4uL2NvbnN0YW50c1wiKS5ERUZBVUxUX0hBTkRFRE5FU1MsTU9ERUxfQkFTRV9VUkw9XCJodHRwczovL2Nkbi5hZnJhbWUuaW8vY29udHJvbGxlcnMvbWljcm9zb2Z0L1wiLE1PREVMX0ZJTEVOQU1FUz17bGVmdDpcImxlZnQuZ2xiXCIscmlnaHQ6XCJyaWdodC5nbGJcIixkZWZhdWx0OlwidW5pdmVyc2FsLmdsYlwifSxpc1dlYlhSQXZhaWxhYmxlPV9kZXJlcV8oXCIuLi91dGlscy9cIikuZGV2aWNlLmlzV2ViWFJBdmFpbGFibGUsR0FNRVBBRF9JRF9XRUJYUj1cIndpbmRvd3MtbWl4ZWQtcmVhbGl0eVwiLEdBTUVQQURfSURfV0VCVlI9XCJTcGF0aWFsIENvbnRyb2xsZXIgKFNwYXRpYWwgSW50ZXJhY3Rpb24gU291cmNlKSBcIixHQU1FUEFEX0lEX1BBVFRFUk49LyhbMC05YS16QS1aXSstWzAtOWEtekEtWl0rKSQvLEdBTUVQQURfSURfUFJFRklYPWlzV2ViWFJBdmFpbGFibGU/R0FNRVBBRF9JRF9XRUJYUjpHQU1FUEFEX0lEX1dFQlZSLElOUFVUX01BUFBJTkdfV0VCVlI9e2F4ZXM6e3RodW1ic3RpY2s6WzAsMV0sdHJhY2twYWQ6WzIsM119LGJ1dHRvbnM6W1widGh1bWJzdGlja1wiLFwidHJpZ2dlclwiLFwiZ3JpcFwiLFwibWVudVwiLFwidHJhY2twYWRcIl0sYXhpc01lc2hOYW1lczpbXCJUSFVNQlNUSUNLX1hcIixcIlRIVU1CU1RJQ0tfWVwiLFwiVE9VQ0hQQURfVE9VQ0hfWFwiLFwiVE9VQ0hQQURfVE9VQ0hfWVwiXSxidXR0b25NZXNoTmFtZXM6e3RyaWdnZXI6XCJTRUxFQ1RcIixtZW51OlwiTUVOVVwiLGdyaXA6XCJHUkFTUFwiLHRodW1ic3RpY2s6XCJUSFVNQlNUSUNLX1BSRVNTXCIsdHJhY2twYWQ6XCJUT1VDSFBBRF9QUkVTU1wifSxwb2ludGluZ1Bvc2VNZXNoTmFtZTpcIlBPSU5USU5HX1BPU0VcIn0sSU5QVVRfTUFQUElOR19XRUJYUj17YXhlczp7dG91Y2hwYWQ6WzAsMV0sdGh1bWJzdGljazpbMiwzXX0sYnV0dG9uczpbXCJ0cmlnZ2VyXCIsXCJzcXVlZXplXCIsXCJ0b3VjaHBhZFwiLFwidGh1bWJzdGlja1wiLFwibWVudVwiXSxheGlzTWVzaE5hbWVzOltcIlRPVUNIUEFEX1RPVUNIX1hcIixcIlRPVUNIUEFEX1RPVUNIX1hcIixcIlRIVU1CU1RJQ0tfWFwiLFwiVEhVTUJTVElDS19ZXCJdLGJ1dHRvbk1lc2hOYW1lczp7dHJpZ2dlcjpcIlNFTEVDVFwiLG1lbnU6XCJNRU5VXCIsc3F1ZWV6ZTpcIkdSQVNQXCIsdGh1bWJzdGljazpcIlRIVU1CU1RJQ0tfUFJFU1NcIix0b3VjaHBhZDpcIlRPVUNIUEFEX1BSRVNTXCJ9LHBvaW50aW5nUG9zZU1lc2hOYW1lOlwiUE9JTlRJTkdfUE9TRVwifSxJTlBVVF9NQVBQSU5HPWlzV2ViWFJBdmFpbGFibGU/SU5QVVRfTUFQUElOR19XRUJYUjpJTlBVVF9NQVBQSU5HX1dFQlZSO21vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1yZWdpc3RlckNvbXBvbmVudChcIndpbmRvd3MtbW90aW9uLWNvbnRyb2xzXCIse3NjaGVtYTp7aGFuZDp7ZGVmYXVsdDpERUZBVUxUX0hBTkRFRE5FU1N9LHBhaXI6e2RlZmF1bHQ6MH0sbW9kZWw6e2RlZmF1bHQ6ITB9LGhpZGVEaXNjb25uZWN0ZWQ6e2RlZmF1bHQ6ITB9fSxtYXBwaW5nOklOUFVUX01BUFBJTkcsYmluZE1ldGhvZHM6ZnVuY3Rpb24oKXt0aGlzLm9uTW9kZWxFcnJvcj1iaW5kKHRoaXMub25Nb2RlbEVycm9yLHRoaXMpLHRoaXMub25Nb2RlbExvYWRlZD1iaW5kKHRoaXMub25Nb2RlbExvYWRlZCx0aGlzKSx0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGU9YmluZCh0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsdGhpcyksdGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQ9YmluZCh0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCx0aGlzKSx0aGlzLm9uQXhpc01vdmVkPWJpbmQodGhpcy5vbkF4aXNNb3ZlZCx0aGlzKX0saW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmVsO3RoaXMub25CdXR0b25DaGFuZ2VkPWJpbmQodGhpcy5vbkJ1dHRvbkNoYW5nZWQsdGhpcyksdGhpcy5vbkJ1dHRvbkRvd249ZnVuY3Rpb24odCl7b25CdXR0b25FdmVudCh0LmRldGFpbC5pZCxcImRvd25cIixlKX0sdGhpcy5vbkJ1dHRvblVwPWZ1bmN0aW9uKHQpe29uQnV0dG9uRXZlbnQodC5kZXRhaWwuaWQsXCJ1cFwiLGUpfSx0aGlzLm9uQnV0dG9uVG91Y2hTdGFydD1mdW5jdGlvbih0KXtvbkJ1dHRvbkV2ZW50KHQuZGV0YWlsLmlkLFwidG91Y2hzdGFydFwiLGUpfSx0aGlzLm9uQnV0dG9uVG91Y2hFbmQ9ZnVuY3Rpb24odCl7b25CdXR0b25FdmVudCh0LmRldGFpbC5pZCxcInRvdWNoZW5kXCIsZSl9LHRoaXMub25Db250cm9sbGVyQ29ubmVjdGVkPWZ1bmN0aW9uKCl7ZS5zZXRNb2RlbFZpc2liaWxpdHkoITApfSx0aGlzLm9uQ29udHJvbGxlckRpc2Nvbm5lY3RlZD1mdW5jdGlvbigpe2Uuc2V0TW9kZWxWaXNpYmlsaXR5KCExKX0sdGhpcy5jb250cm9sbGVyUHJlc2VudD0hMSx0aGlzLmxhc3RDb250cm9sbGVyQ2hlY2s9MCx0aGlzLnByZXZpb3VzQnV0dG9uVmFsdWVzPXt9LHRoaXMuYmluZE1ldGhvZHMoKSx0aGlzLmxvYWRlZE1lc2hJbmZvPXtidXR0b25NZXNoZXM6bnVsbCxheGlzTWVzaGVzOm51bGx9LHRoaXMucmF5T3JpZ2luPXtvcmlnaW46bmV3IFRIUkVFLlZlY3RvcjMsZGlyZWN0aW9uOm5ldyBUSFJFRS5WZWN0b3IzKDAsMCwtMSksY3JlYXRlZEZyb21NZXNoOiExfSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyY29ubmVjdGVkXCIsdGhpcy5vbkNvbnRyb2xsZXJDb25uZWN0ZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJkaXNjb25uZWN0ZWRcIix0aGlzLm9uQ29udHJvbGxlckRpc2Nvbm5lY3RlZCl9LGFkZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbDtlLmFkZEV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksZS5hZGRFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLGUuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQnV0dG9uVG91Y2hTdGFydCksZS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uQnV0dG9uVG91Y2hFbmQpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksZS5hZGRFdmVudExpc3RlbmVyKFwibW9kZWwtZXJyb3JcIix0aGlzLm9uTW9kZWxFcnJvciksZS5hZGRFdmVudExpc3RlbmVyKFwibW9kZWwtbG9hZGVkXCIsdGhpcy5vbk1vZGVsTG9hZGVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITB9LHJlbW92ZUV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJidXR0b25jaGFuZ2VkXCIsdGhpcy5vbkJ1dHRvbkNoYW5nZWQpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJ1dHRvbmRvd25cIix0aGlzLm9uQnV0dG9uRG93biksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYnV0dG9udXBcIix0aGlzLm9uQnV0dG9uVXApLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQnV0dG9uVG91Y2hTdGFydCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uQnV0dG9uVG91Y2hFbmQpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImF4aXNtb3ZlXCIsdGhpcy5vbkF4aXNNb3ZlZCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW9kZWwtZXJyb3JcIix0aGlzLm9uTW9kZWxFcnJvciksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW9kZWwtbG9hZGVkXCIsdGhpcy5vbk1vZGVsTG9hZGVkKSx0aGlzLmNvbnRyb2xsZXJFdmVudHNBY3RpdmU9ITF9LGNoZWNrSWZDb250cm9sbGVyUHJlc2VudDpmdW5jdGlvbigpe2NoZWNrQ29udHJvbGxlclByZXNlbnRBbmRTZXR1cCh0aGlzLEdBTUVQQURfSURfUFJFRklYLHtoYW5kOnRoaXMuZGF0YS5oYW5kLGluZGV4OnRoaXMuZGF0YS5wYWlyfSl9LHBsYXk6ZnVuY3Rpb24oKXt0aGlzLmNoZWNrSWZDb250cm9sbGVyUHJlc2VudCgpLHRoaXMuYWRkQ29udHJvbGxlcnNVcGRhdGVMaXN0ZW5lcigpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnJlbW92ZUNvbnRyb2xsZXJzVXBkYXRlTGlzdGVuZXIoKX0sdXBkYXRlQ29udHJvbGxlck1vZGVsOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF0YS5tb2RlbHx8dGhpcy5yYXlPcmlnaW4uY3JlYXRlZEZyb21NZXNoKXJldHVybiB2b2lkIHRoaXMubW9kZWxSZWFkeSgpO3ZhciBlPXRoaXMuY3JlYXRlQ29udHJvbGxlck1vZGVsVXJsKCk7dGhpcy5sb2FkTW9kZWwoZSl9LGNyZWF0ZUNvbnRyb2xsZXJNb2RlbFVybDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZWwuY29tcG9uZW50c1tcInRyYWNrZWQtY29udHJvbHNcIl0sbz1uP24uY29udHJvbGxlcjpudWxsLGk9XCJkZWZhdWx0XCIscz10aGlzLmRhdGEuaGFuZDtpZihvJiYhd2luZG93Lmhhc05hdGl2ZVdlYlhSSW1wbGVtZW50YXRpb24mJihzPW8uaGFuZCwhZSkpe3ZhciByPW8uaWQubWF0Y2goR0FNRVBBRF9JRF9QQVRURVJOKTtpPXImJnJbMF18fGl9cmV0dXJuIHQ9TU9ERUxfRklMRU5BTUVTW3NdfHxNT0RFTF9GSUxFTkFNRVMuZGVmYXVsdCxNT0RFTF9CQVNFX1VSTCtpK1wiL1wiK3R9LGluamVjdFRyYWNrZWRDb250cm9sczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YTt0aGlzLmVsLnNldEF0dHJpYnV0ZShcInRyYWNrZWQtY29udHJvbHNcIix7aWRQcmVmaXg6R0FNRVBBRF9JRF9QUkVGSVgsY29udHJvbGxlcjplLnBhaXIsaGFuZDplLmhhbmQsYXJtTW9kZWw6ITF9KSx0aGlzLnVwZGF0ZUNvbnRyb2xsZXJNb2RlbCgpfSxhZGRDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5lbC5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyc3VwZGF0ZWRcIix0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsITEpfSxyZW1vdmVDb250cm9sbGVyc1VwZGF0ZUxpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5lbC5zY2VuZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb250cm9sbGVyc3VwZGF0ZWRcIix0aGlzLm9uQ29udHJvbGxlcnNVcGRhdGUsITEpfSxvbkNvbnRyb2xsZXJzVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5jaGVja0lmQ29udHJvbGxlclByZXNlbnQoKX0sb25Nb2RlbEVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3JlYXRlQ29udHJvbGxlck1vZGVsVXJsKCEwKTtlLmRldGFpbC5zcmMhPT10Pyh3YXJuKFwiRmFpbGVkIHRvIGxvYWQgY29udHJvbGxlciBtb2RlbCBmb3IgZGV2aWNlLCBhdHRlbXB0aW5nIHRvIGxvYWQgZGVmYXVsdC5cIiksdGhpcy5sb2FkTW9kZWwodCkpOndhcm4oXCJGYWlsZWQgdG8gbG9hZCBkZWZhdWx0IGNvbnRyb2xsZXIgbW9kZWwuXCIpfSxsb2FkTW9kZWw6ZnVuY3Rpb24oZSl7dGhpcy5lbC5zZXRBdHRyaWJ1dGUoXCJnbHRmLW1vZGVsXCIsXCJ1cmwoXCIrZStcIilcIil9LG9uTW9kZWxMb2FkZWQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgbj0wLG89ZS5jaGlsZHJlbi5sZW5ndGg7bjxvO24rKyl7dmFyIGk9ZS5jaGlsZHJlbltuXTtpZihpJiZpLm5hbWU9PT10KXJldHVybiBpfX12YXIgbixvLGkscyxyPXRoaXMuY29udHJvbGxlck1vZGVsPWUuZGV0YWlsLm1vZGVsLGE9dGhpcy5sb2FkZWRNZXNoSW5mbztpZihkZWJ1ZyhcIlByb2Nlc3NpbmcgbW9kZWxcIiksYS5idXR0b25NZXNoZXM9e30sYS5heGlzTWVzaGVzPXt9LHIpe2ZvcihuPTA7bjx0aGlzLm1hcHBpbmcuYnV0dG9ucy5sZW5ndGg7bisrKW89dGhpcy5tYXBwaW5nLmJ1dHRvbk1lc2hOYW1lc1t0aGlzLm1hcHBpbmcuYnV0dG9uc1tuXV0sbz8oaT1yLmdldE9iamVjdEJ5TmFtZShvKSxpPyhzPXtpbmRleDpuLHZhbHVlOnQoaSxcIlZBTFVFXCIpLHByZXNzZWQ6dChpLFwiUFJFU1NFRFwiKSx1bnByZXNzZWQ6dChpLFwiVU5QUkVTU0VEXCIpfSxzLnZhbHVlJiZzLnByZXNzZWQmJnMudW5wcmVzc2VkP2EuYnV0dG9uTWVzaGVzW3RoaXMubWFwcGluZy5idXR0b25zW25dXT1zOndhcm4oXCJNaXNzaW5nIGJ1dHRvbiBzdWJtZXNoIHVuZGVyIG1lc2ggd2l0aCBuYW1lOiBcIitvK1wiKFZBTFVFOiBcIishIXMudmFsdWUrXCIsIFBSRVNTRUQ6IFwiKyEhcy5wcmVzc2VkK1wiLCBVTlBSRVNTRUQ6XCIrISFzLnVucHJlc3NlZCtcIilcIikpOndhcm4oXCJNaXNzaW5nIGJ1dHRvbiBtZXNoIHdpdGggbmFtZTogXCIrbykpOmRlYnVnKFwiU2tpcHBpbmcgdW5rbm93biBidXR0b24gYXQgaW5kZXg6IFwiK24rXCIgd2l0aCBtYXBwZWQgbmFtZTogXCIrdGhpcy5tYXBwaW5nLmJ1dHRvbnNbbl0pO2ZvcihuPTA7bjx0aGlzLm1hcHBpbmcuYXhpc01lc2hOYW1lcy5sZW5ndGg7bisrKW89dGhpcy5tYXBwaW5nLmF4aXNNZXNoTmFtZXNbbl0sbz8oaT1yLmdldE9iamVjdEJ5TmFtZShvKSxpPyhzPXtpbmRleDpuLHZhbHVlOnQoaSxcIlZBTFVFXCIpLG1pbjp0KGksXCJNSU5cIiksbWF4OnQoaSxcIk1BWFwiKX0scy52YWx1ZSYmcy5taW4mJnMubWF4P2EuYXhpc01lc2hlc1tuXT1zOndhcm4oXCJNaXNzaW5nIGF4aXMgc3VibWVzaCB1bmRlciBtZXNoIHdpdGggbmFtZTogXCIrbytcIihWQUxVRTogXCIrISFzLnZhbHVlK1wiLCBNSU46IFwiKyEhcy5taW4rXCIsIE1BWDpcIishIXMubWF4K1wiKVwiKSk6d2FybihcIk1pc3NpbmcgYXhpcyBtZXNoIHdpdGggbmFtZTogXCIrbykpOmRlYnVnKFwiU2tpcHBpbmcgdW5rbm93biBheGlzIGF0IGluZGV4OiBcIituKTt0aGlzLmNhbGN1bGF0ZVJheU9yaWdpbkZyb21NZXNoKHIpLHRoaXMuc2V0TW9kZWxWaXNpYmlsaXR5KCl9ZGVidWcoXCJNb2RlbCBsb2FkIGNvbXBsZXRlLlwiKX0sY2FsY3VsYXRlUmF5T3JpZ2luRnJvbU1lc2g6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVEhSRUUuUXVhdGVybmlvbjtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYodGhpcy5yYXlPcmlnaW4ub3JpZ2luLnNldCgwLDAsMCksdGhpcy5yYXlPcmlnaW4uZGlyZWN0aW9uLnNldCgwLDAsLTEpLHRoaXMucmF5T3JpZ2luLmNyZWF0ZWRGcm9tTWVzaD0hMCxuPXQuZ2V0T2JqZWN0QnlOYW1lKHRoaXMubWFwcGluZy5wb2ludGluZ1Bvc2VNZXNoTmFtZSkpe3ZhciBvPXQucGFyZW50O28mJih0LnBhcmVudD1udWxsLHQudXBkYXRlTWF0cml4V29ybGQoITApLHQucGFyZW50PW8pLG4uZ2V0V29ybGRQb3NpdGlvbih0aGlzLnJheU9yaWdpbi5vcmlnaW4pLG4uZ2V0V29ybGRRdWF0ZXJuaW9uKGUpLHRoaXMucmF5T3JpZ2luLmRpcmVjdGlvbi5hcHBseVF1YXRlcm5pb24oZSksbyYmdC51cGRhdGVNYXRyaXhXb3JsZCghMCl9ZWxzZSBkZWJ1ZyhcIk1lc2ggZG9lcyBub3QgY29udGFpbiBwb2ludGluZyBvcmlnaW4gZGF0YSwgZGVmYXVsdGluZyB0byBub25lLlwiKTt0aGlzLm1vZGVsUmVhZHkoKX19KCksbGVycEF4aXNUcmFuc2Zvcm06ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVEhSRUUuUXVhdGVybmlvbjtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbz10aGlzLmxvYWRlZE1lc2hJbmZvLmF4aXNNZXNoZXNbdF07aWYobyl7dmFyIGk9by5taW4scz1vLm1heCxyPW8udmFsdWUsYT0uNSpuKy41O3Iuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihlLmNvcHkoaS5xdWF0ZXJuaW9uKS5zbGVycChzLnF1YXRlcm5pb24sYSkpLHIucG9zaXRpb24ubGVycFZlY3RvcnMoaS5wb3NpdGlvbixzLnBvc2l0aW9uLGEpfX19KCksbGVycEJ1dHRvblRyYW5zZm9ybTpmdW5jdGlvbigpe3ZhciBlPW5ldyBUSFJFRS5RdWF0ZXJuaW9uO3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBvPXRoaXMubG9hZGVkTWVzaEluZm8uYnV0dG9uTWVzaGVzW3RdO2lmKG8pe3ZhciBpPW8udW5wcmVzc2VkLHM9by5wcmVzc2VkLHI9by52YWx1ZTtyLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24oZS5jb3B5KGkucXVhdGVybmlvbikuc2xlcnAocy5xdWF0ZXJuaW9uLG4pKSxyLnBvc2l0aW9uLmxlcnBWZWN0b3JzKGkucG9zaXRpb24scy5wb3NpdGlvbixuKX19fSgpLG1vZGVsUmVhZHk6ZnVuY3Rpb24oKXt0aGlzLmVsLmVtaXQoXCJjb250cm9sbGVybW9kZWxyZWFkeVwiLHtuYW1lOlwid2luZG93cy1tb3Rpb24tY29udHJvbHNcIixtb2RlbDp0aGlzLmRhdGEubW9kZWwscmF5T3JpZ2luOnRoaXMucmF5T3JpZ2lufSl9LG9uQnV0dG9uQ2hhbmdlZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1hcHBpbmcuYnV0dG9uc1tlLmRldGFpbC5pZF07dCYmKHRoaXMubG9hZGVkTWVzaEluZm8mJnRoaXMubG9hZGVkTWVzaEluZm8uYnV0dG9uTWVzaGVzJiZ0aGlzLmxlcnBCdXR0b25UcmFuc2Zvcm0odCxlLmRldGFpbC5zdGF0ZS52YWx1ZSksdGhpcy5lbC5lbWl0KHQrXCJjaGFuZ2VkXCIsZS5kZXRhaWwuc3RhdGUpKX0sb25BeGlzTW92ZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tYXBwaW5nLmF4aXNNZXNoTmFtZXMubGVuZ3RoO2lmKHRoaXMubG9hZGVkTWVzaEluZm8mJnRoaXMubG9hZGVkTWVzaEluZm8uYXhpc01lc2hlcylmb3IodmFyIG49MDtuPHQ7bisrKXRoaXMubGVycEF4aXNUcmFuc2Zvcm0obixlLmRldGFpbC5heGlzW25dfHwwKTtlbWl0SWZBeGVzQ2hhbmdlZCh0aGlzLHRoaXMubWFwcGluZy5heGVzLGUpfSxzZXRNb2RlbFZpc2liaWxpdHk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbC5nZXRPYmplY3QzRChcIm1lc2hcIik7ZT12b2lkIDAhPT1lP2U6dGhpcy5tb2RlbFZpc2libGUsdGhpcy5tb2RlbFZpc2libGU9ZSx0JiYodC52aXNpYmxlPWUpfX0pO1xufSx7XCIuLi9jb25zdGFudHNcIjoxMDAsXCIuLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uL3V0aWxzL1wiOjE4MSxcIi4uL3V0aWxzL2JpbmRcIjoxNzUsXCIuLi91dGlscy90cmFja2VkLWNvbnRyb2xzXCI6MTg5fV0sMTAwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzPXtBRlJBTUVfSU5KRUNURUQ6XCJhZnJhbWUtaW5qZWN0ZWRcIixERUZBVUxUX0NBTUVSQV9IRUlHSFQ6MS42LERFRkFVTFRfSEFOREVETkVTUzpcInJpZ2h0XCIsa2V5Ym9hcmRldmVudDpfZGVyZXFfKFwiLi9rZXlib2FyZGV2ZW50XCIpfTtcbn0se1wiLi9rZXlib2FyZGV2ZW50XCI6MTAxfV0sMTAxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzPXtLRVlDT0RFX1RPX0NPREU6ezM4OlwiQXJyb3dVcFwiLDM3OlwiQXJyb3dMZWZ0XCIsNDA6XCJBcnJvd0Rvd25cIiwzOTpcIkFycm93UmlnaHRcIiw4NzpcIktleVdcIiw2NTpcIktleUFcIiw4MzpcIktleVNcIiw2ODpcIktleURcIn19O1xufSx7fV0sMTAyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIG1lZGlhRWxlbWVudExvYWRlZChlKXtpZihlLmhhc0F0dHJpYnV0ZShcImF1dG9wbGF5XCIpfHxcImF1dG9cIj09PWUuZ2V0QXR0cmlidXRlKFwicHJlbG9hZFwiKSlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBpKCl7Zm9yKHZhciByPTAsaT0wO2k8ZS5idWZmZXJlZC5sZW5ndGg7aSsrKXIrPWUuYnVmZmVyZWQuZW5kKGkpLWUuYnVmZmVyZWQuc3RhcnQoaSk7cj49ZS5kdXJhdGlvbiYmKFwiVklERU9cIj09PWUudGFnTmFtZSYmKFRIUkVFLkNhY2hlLmZpbGVzW2UuZ2V0QXR0cmlidXRlKFwic3JjXCIpXT1lKSx0KCkpfXJldHVybiA0PT09ZS5yZWFkeVN0YXRlP3QoKTplLmVycm9yP3IoKTooZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLGksITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsaSwhMSksdm9pZCBlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHIsITEpKX0pfWZ1bmN0aW9uIGZpeFVwTWVkaWFFbGVtZW50KGUpe3ZhciB0PXNldENyb3NzT3JpZ2luKGUpO3JldHVybiB0LnRhZ05hbWUmJlwidmlkZW9cIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHQuc2V0QXR0cmlidXRlKFwid2Via2l0LXBsYXlzaW5saW5lXCIsXCJcIikpLHQhPT1lJiYoZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHQpLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSksdH1mdW5jdGlvbiBzZXRDcm9zc09yaWdpbihlKXt2YXIgdDtpZihlLmhhc0F0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIpKXJldHVybiBlO2lmKG51bGwhPT0odD1lLmdldEF0dHJpYnV0ZShcInNyY1wiKSkpe2lmKC0xPT09dC5pbmRleE9mKFwiOi8vXCIpKXJldHVybiBlO2lmKGV4dHJhY3REb21haW4odCk9PT13aW5kb3cubG9jYXRpb24uaG9zdClyZXR1cm4gZX1yZXR1cm4gd2FybignQ3Jvc3Mtb3JpZ2luIGVsZW1lbnQgKGUuZy4sIDxpbWc+KSB3YXMgcmVxdWVzdGVkIHdpdGhvdXQgYGNyb3Nzb3JpZ2luYCBzZXQuIEEtRnJhbWUgd2lsbCByZS1yZXF1ZXN0IHRoZSBhc3NldCB3aXRoIGBjcm9zc29yaWdpbmAgYXR0cmlidXRlIHNldC4gUGxlYXNlIHNldCBgY3Jvc3NvcmlnaW5gIG9uIHRoZSBlbGVtZW50IChlLmcuLCA8aW1nIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCI+KScsdCksZS5jcm9zc09yaWdpbj1cImFub255bW91c1wiLGUuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiBleHRyYWN0RG9tYWluKGUpe3ZhciB0PWUuaW5kZXhPZihcIjovL1wiKT4tMT9lLnNwbGl0KFwiL1wiKVsyXTplLnNwbGl0KFwiL1wiKVswXTtyZXR1cm4gdC5zdWJzdHJpbmcoMCx0LmluZGV4T2YoXCI6XCIpKX1mdW5jdGlvbiBpbmZlclJlc3BvbnNlVHlwZShlKXt2YXIgdD1nZXRGaWxlTmFtZUZyb21VUkwoZSkscj10Lmxhc3RJbmRleE9mKFwiLlwiKTtpZihyPj0wKXtpZihcIi5nbGJcIj09PXQuc2xpY2UocixlLnNlYXJjaCgvXFw/fCN8JC8pKSlyZXR1cm5cImFycmF5YnVmZmVyXCJ9cmV0dXJuXCJ0ZXh0XCJ9ZnVuY3Rpb24gZ2V0RmlsZU5hbWVGcm9tVVJMKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3QuaHJlZj1lO3ZhciByPXQuc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpLGk9ZS5yZXBsYWNlKHIsXCJcIikucmVwbGFjZShcIj9cIixcIlwiKTtyZXR1cm4gaS5zdWJzdHJpbmcoaS5sYXN0SW5kZXhPZihcIi9cIikrMSl9dmFyIEFOb2RlPV9kZXJlcV8oXCIuL2Etbm9kZVwiKSxiaW5kPV9kZXJlcV8oXCIuLi91dGlscy9iaW5kXCIpLGRlYnVnPV9kZXJlcV8oXCIuLi91dGlscy9kZWJ1Z1wiKSxyZWdpc3RlckVsZW1lbnQ9X2RlcmVxXyhcIi4vYS1yZWdpc3Rlci1lbGVtZW50XCIpLnJlZ2lzdGVyRWxlbWVudCxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLGZpbGVMb2FkZXI9bmV3IFRIUkVFLkZpbGVMb2FkZXIsd2Fybj1kZWJ1ZyhcImNvcmU6YS1hc3NldHM6d2FyblwiKTttb2R1bGUuZXhwb3J0cz1yZWdpc3RlckVsZW1lbnQoXCJhLWFzc2V0c1wiLHtwcm90b3R5cGU6T2JqZWN0LmNyZWF0ZShBTm9kZS5wcm90b3R5cGUse2NyZWF0ZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzQXNzZXRzPSEwLHRoaXMuZmlsZUxvYWRlcj1maWxlTG9hZGVyLHRoaXMudGltZW91dD1udWxsfX0sYXR0YWNoZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxvLHMsYT10aGlzLG49W107aWYoIXRoaXMucGFyZW50Tm9kZS5pc1NjZW5lKXRocm93IG5ldyBFcnJvcihcIjxhLWFzc2V0cz4gbXVzdCBiZSBhIGNoaWxkIG9mIGEgPGEtc2NlbmU+LlwiKTtmb3Iobz10aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIiksZT0wO2U8by5sZW5ndGg7ZSsrKWk9Zml4VXBNZWRpYUVsZW1lbnQob1tlXSksbi5wdXNoKG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7VEhSRUUuQ2FjaGUuZmlsZXNbb1tlXS5nZXRBdHRyaWJ1dGUoXCJzcmNcIildPWksaS5vbmxvYWQ9dCxpLm9uZXJyb3I9cn0pKTtmb3Iocj10aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhdWRpbywgdmlkZW9cIiksZT0wO2U8ci5sZW5ndGg7ZSsrKXQ9Zml4VXBNZWRpYUVsZW1lbnQocltlXSksdC5zcmN8fHQuc3JjT2JqZWN0fHx3YXJuKFwiQXVkaW8vdmlkZW8gYXNzZXQgaGFzIG5laXRoZXIgYHNyY2Agbm9yIGBzcmNPYmplY3RgIGF0dHJpYnV0ZXMuXCIpLG4ucHVzaChtZWRpYUVsZW1lbnRMb2FkZWQodCkpO1Byb21pc2UuYWxsKG4pLnRoZW4oYmluZCh0aGlzLmxvYWQsdGhpcykpLHM9cGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aW1lb3V0XCIpLDEwKXx8M2UzLHRoaXMudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5oYXNMb2FkZWR8fCh3YXJuKFwiQXNzZXQgbG9hZGluZyB0aW1lZCBvdXQgaW4gXCIscyxcIm1zXCIpLGEuZW1pdChcInRpbWVvdXRcIiksYS5sb2FkKCkpfSxzKX19LGRldGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50aW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KX19LGxvYWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7QU5vZGUucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzLG51bGwsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBc3NldEl0ZW0mJmUuaGFzQXR0cmlidXRlKFwic3JjXCIpfSl9fX0pfSkscmVnaXN0ZXJFbGVtZW50KFwiYS1hc3NldC1pdGVtXCIse3Byb3RvdHlwZTpPYmplY3QuY3JlYXRlKEFOb2RlLnByb3RvdHlwZSx7Y3JlYXRlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGF0YT1udWxsLHRoaXMuaXNBc3NldEl0ZW09ITB9fSxhdHRhY2hlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldEF0dHJpYnV0ZShcInNyY1wiKTtmaWxlTG9hZGVyLnNldFJlc3BvbnNlVHlwZSh0aGlzLmdldEF0dHJpYnV0ZShcInJlc3BvbnNlLXR5cGVcIil8fGluZmVyUmVzcG9uc2VUeXBlKHQpKSxmaWxlTG9hZGVyLmxvYWQodCxmdW5jdGlvbih0KXtlLmRhdGE9dCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7QU5vZGUucHJvdG90eXBlLmxvYWQuY2FsbChlKX0pfSxmdW5jdGlvbih0KXtlLmVtaXQoXCJwcm9ncmVzc1wiLHtsb2FkZWRCeXRlczp0LmxvYWRlZCx0b3RhbEJ5dGVzOnQudG90YWwseGhyOnR9KX0sZnVuY3Rpb24odCl7ZS5lbWl0KFwiZXJyb3JcIix7eGhyOnR9KX0pfX19KX0pLG1vZHVsZS5leHBvcnRzLmluZmVyUmVzcG9uc2VUeXBlPWluZmVyUmVzcG9uc2VUeXBlLG1vZHVsZS5leHBvcnRzLmdldEZpbGVOYW1lRnJvbVVSTD1nZXRGaWxlTmFtZUZyb21VUkw7XG59LHtcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL2JpbmRcIjoxNzUsXCIuLi91dGlscy9kZWJ1Z1wiOjE3NyxcIi4vYS1ub2RlXCI6MTA2LFwiLi9hLXJlZ2lzdGVyLWVsZW1lbnRcIjoxMDd9XSwxMDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGRlYnVnPV9kZXJlcV8oXCIuLi91dGlscy9kZWJ1Z1wiKSxyZWdpc3RlckVsZW1lbnQ9X2RlcmVxXyhcIi4vYS1yZWdpc3Rlci1lbGVtZW50XCIpLnJlZ2lzdGVyRWxlbWVudCx3YXJuPWRlYnVnKFwiY29yZTpjdWJlbWFwOndhcm5cIik7bW9kdWxlLmV4cG9ydHM9cmVnaXN0ZXJFbGVtZW50KFwiYS1jdWJlbWFwXCIse3Byb3RvdHlwZTpPYmplY3QuY3JlYXRlKHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUse2F0dGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zcmNzPXRoaXMudmFsaWRhdGUoKX0sd3JpdGFibGU6d2luZG93LmRlYnVnfSx2YWxpZGF0ZTp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucXVlcnlTZWxlY3RvckFsbChcIltzcmNdXCIpLHI9W107aWYoNj09PXQubGVuZ3RoKXtmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKXIucHVzaCh0W2VdLmdldEF0dHJpYnV0ZShcInNyY1wiKSk7cmV0dXJuIHJ9d2FybihcIjxhLWN1YmVtYXA+IGRpZCBub3QgY29udGFpbiBleGFjdGx5IHNpeCBlbGVtZW50cyBlYWNoIHdpdGggYSBgc3JjYCBhdHRyaWJ1dGUuXCIpfSx3cml0YWJsZTp3aW5kb3cuZGVidWd9fSl9KTtcbn0se1wiLi4vdXRpbHMvZGVidWdcIjoxNzcsXCIuL2EtcmVnaXN0ZXItZWxlbWVudFwiOjEwN31dLDEwNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBjaGVja0NvbXBvbmVudERlZmluZWQodCxlKXtyZXR1cm4hKCF0LmNvbXBvbmVudHNbZV18fCF0LmNvbXBvbmVudHNbZV0uYXR0clZhbHVlKXx8aXNDb21wb25lbnRNaXhlZEluKGUsdC5taXhpbkVscyl9ZnVuY3Rpb24gaXNDb21wb25lbnRNaXhlZEluKHQsZSl7dmFyIGksbj0hMTtmb3IoaT0wO2k8ZS5sZW5ndGgmJiEobj1lW2ldLmhhc0F0dHJpYnV0ZSh0KSk7KytpKTtyZXR1cm4gbn1mdW5jdGlvbiBtZXJnZUNvbXBvbmVudERhdGEodCxlKXtyZXR1cm4gZT9lLmNvbnN0cnVjdG9yPT09T2JqZWN0P3V0aWxzLmV4dGVuZChlLHV0aWxzLnN0eWxlUGFyc2VyLnBhcnNlKHR8fHt9KSk6dHx8ZTp0fWZ1bmN0aW9uIGlzQ29tcG9uZW50KHQpe3JldHVybi0xIT09dC5pbmRleE9mKE1VTFRJUExFX0NPTVBPTkVOVF9ERUxJTUlURVIpJiYodD11dGlscy5zcGxpdCh0LE1VTFRJUExFX0NPTVBPTkVOVF9ERUxJTUlURVIpWzBdKSwhIUNPTVBPTkVOVFNbdF19ZnVuY3Rpb24gZ2V0Um90YXRpb24odCl7dmFyIGU9VEhSRUUuTWF0aC5yYWRUb0RlZyxpPXQub2JqZWN0M0Qucm90YXRpb24sbj10LnJvdGF0aW9uT2JqO3JldHVybiBuLng9ZShpLngpLG4ueT1lKGkueSksbi56PWUoaS56KSxufXZhciBBTm9kZT1fZGVyZXFfKFwiLi9hLW5vZGVcIiksQ09NUE9ORU5UUz1fZGVyZXFfKFwiLi9jb21wb25lbnRcIikuY29tcG9uZW50cyxyZWdpc3RlckVsZW1lbnQ9X2RlcmVxXyhcIi4vYS1yZWdpc3Rlci1lbGVtZW50XCIpLnJlZ2lzdGVyRWxlbWVudCxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLHV0aWxzPV9kZXJlcV8oXCIuLi91dGlscy9cIiksQUVudGl0eSxkZWJ1Zz11dGlscy5kZWJ1ZyhcImNvcmU6YS1lbnRpdHk6ZGVidWdcIiksd2Fybj11dGlscy5kZWJ1ZyhcImNvcmU6YS1lbnRpdHk6d2FyblwiKSxNVUxUSVBMRV9DT01QT05FTlRfREVMSU1JVEVSPVwiX19cIixPQkpFQ1QzRF9DT01QT05FTlRTPVtcInBvc2l0aW9uXCIsXCJyb3RhdGlvblwiLFwic2NhbGVcIixcInZpc2libGVcIl0sT05DRT17b25jZTohMH0scHJvdG89T2JqZWN0LmNyZWF0ZShBTm9kZS5wcm90b3R5cGUse2NyZWF0ZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbXBvbmVudHM9e30sdGhpcy5pbml0aWFsaXppbmdDb21wb25lbnRzPXt9LHRoaXMuY29tcG9uZW50c1RvVXBkYXRlPXt9LHRoaXMuaXNFbnRpdHk9ITAsdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5vYmplY3QzRD1uZXcgVEhSRUUuR3JvdXAsdGhpcy5vYmplY3QzRC5lbD10aGlzLHRoaXMub2JqZWN0M0RNYXA9e30sdGhpcy5wYXJlbnRFbD1udWxsLHRoaXMucm90YXRpb25PYmo9e30sdGhpcy5zdGF0ZXM9W119fSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmNvbXBvbmVudHNbdF07aWYobiYmbi5qdXN0SW5pdGlhbGl6ZWQmJlwiXCI9PT1pKXJldHVybiB2b2lkIGRlbGV0ZSBuLmp1c3RJbml0aWFsaXplZDsobnx8bnVsbCE9PWkpJiZ0aGlzLnNldEVudGl0eUF0dHJpYnV0ZSh0LGUsaSl9fSxhdHRhY2hlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5zY2VuZUVsLGk9dGhpcztpZih0aGlzLmFkZFRvUGFyZW50KCksIXRoaXMuaXNTY2VuZSl7aWYoIWUpcmV0dXJuIHZvaWQgdGhpcy5sb2FkKCk7aWYoKHQ9ZS5xdWVyeVNlbGVjdG9yKFwiYS1hc3NldHNcIikpJiYhdC5oYXNMb2FkZWQpcmV0dXJuIHZvaWQgdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtpLmxvYWQoKX0pO3RoaXMubG9hZCgpfX19LGRldGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5wYXJlbnRFbCl7Zm9yKHQgaW4gdGhpcy5jb21wb25lbnRzKXRoaXMucmVtb3ZlQ29tcG9uZW50KHQsITEpO3RoaXMuaXNTY2VuZXx8KHRoaXMucmVtb3ZlRnJvbVBhcmVudCgpLEFOb2RlLnByb3RvdHlwZS5kZXRhY2hlZENhbGxiYWNrLmNhbGwodGhpcyksdGhpcy5vYmplY3QzRC5lbD1udWxsKX19fSxnZXRPYmplY3QzRDp7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub2JqZWN0M0RNYXBbdF19fSxzZXRPYmplY3QzRDp7dmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaSxuPXRoaXM7aWYoIShlIGluc3RhbmNlb2YgVEhSRUUuT2JqZWN0M0QpKXRocm93IG5ldyBFcnJvcihcImBFbnRpdHkuc2V0T2JqZWN0M0RgIHdhcyBjYWxsZWQgd2l0aCBhbiBvYmplY3QgdGhhdCB3YXMgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLk9iamVjdDNELlwiKTtpPXRoaXMuZ2V0T2JqZWN0M0QodCksaSYmdGhpcy5vYmplY3QzRC5yZW1vdmUoaSksZS5lbD10aGlzLGUuY2hpbGRyZW4ubGVuZ3RoJiZlLnRyYXZlcnNlKGZ1bmN0aW9uKHQpe3QuZWw9bn0pLHRoaXMub2JqZWN0M0QuYWRkKGUpLHRoaXMub2JqZWN0M0RNYXBbdF09ZSx0aGlzLmVtaXQoXCJvYmplY3QzZHNldFwiLHtvYmplY3Q6ZSx0eXBlOnR9KX19LHJlbW92ZU9iamVjdDNEOnt2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE9iamVjdDNEKHQpO2lmKCFlKXJldHVybiB2b2lkIHdhcm4oXCJUcmllZCB0byByZW1vdmUgYE9iamVjdDNEYCBvZiB0eXBlOlwiLHQsXCJ3aGljaCB3YXMgbm90IGRlZmluZWQuXCIpO3RoaXMub2JqZWN0M0QucmVtb3ZlKGUpLGRlbGV0ZSB0aGlzLm9iamVjdDNETWFwW3RdLHRoaXMuZW1pdChcIm9iamVjdDNkcmVtb3ZlXCIse3R5cGU6dH0pfX0sZ2V0T3JDcmVhdGVPYmplY3QzRDp7dmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldE9iamVjdDNEKHQpO3JldHVybiFpJiZlJiYoaT1uZXcgZSx0aGlzLnNldE9iamVjdDNEKHQsaSkpLHdhcm4oXCJgZ2V0T3JDcmVhdGVPYmplY3QzRGAgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIGBzZXRPYmplY3QzRCgpYCBhbmQgYG9iamVjdDNkc2V0YCBldmVudCBpbnN0ZWFkLlwiKSxpfX0sYWRkOnt2YWx1ZTpmdW5jdGlvbih0KXtpZighdC5vYmplY3QzRCl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gYWRkIGFuIGVsZW1lbnQgdGhhdCBkb2Vzbid0IGhhdmUgYW4gYG9iamVjdDNEYFwiKTt0aGlzLm9iamVjdDNELmFkZCh0Lm9iamVjdDNEKSx0aGlzLmVtaXQoXCJjaGlsZC1hdHRhY2hlZFwiLHtlbDp0fSl9fSxhZGRUb1BhcmVudDp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudEVsPXRoaXMucGFyZW50Tm9kZTt0JiZ0LmFkZCYmIXRoaXMuYXR0YWNoZWRUb1BhcmVudCYmKHQuYWRkKHRoaXMpLHRoaXMuYXR0YWNoZWRUb1BhcmVudD0hMCl9fSxyZW1vdmVGcm9tUGFyZW50Ont2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50RWw7dGhpcy5wYXJlbnRFbC5yZW1vdmUodGhpcyksdGhpcy5hdHRhY2hlZFRvUGFyZW50PSExLHRoaXMucGFyZW50RWw9bnVsbCx0LmVtaXQoXCJjaGlsZC1kZXRhY2hlZFwiLHtlbDp0aGlzfSl9fSxsb2FkOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7IXRoaXMuaGFzTG9hZGVkJiZ0aGlzLnBhcmVudEVsJiZBTm9kZS5wcm90b3R5cGUubG9hZC5jYWxsKHRoaXMsZnVuY3Rpb24oKXt0LnBhcmVudEVsJiYodC51cGRhdGVDb21wb25lbnRzKCksKHQuaXNTY2VuZXx8dC5wYXJlbnRFbC5pc1BsYXlpbmcpJiZ0LnBsYXkoKSl9KX0sd3JpdGFibGU6d2luZG93LmRlYnVnfSxyZW1vdmU6e3ZhbHVlOmZ1bmN0aW9uKHQpe3Q/dGhpcy5vYmplY3QzRC5yZW1vdmUodC5vYmplY3QzRCk6dGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfX0sZ2V0Q2hpbGRFbnRpdGllczp7dmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbixlPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuIGluc3RhbmNlb2YgQUVudGl0eSYmZS5wdXNoKG4pfXJldHVybiBlfX0saW5pdENvbXBvbmVudDp7dmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8scyxhO2lmKHM9dXRpbHMuc3BsaXQodCxNVUxUSVBMRV9DT01QT05FTlRfREVMSU1JVEVSKSxhPXNbMF0sbz1zLmxlbmd0aD4yP3Muc2xpY2UoMSkuam9pbihcIl9fXCIpOnNbMV0sQ09NUE9ORU5UU1thXSYmKGNoZWNrQ29tcG9uZW50RGVmaW5lZCh0aGlzLHQpfHx2b2lkIDAhPT1lfHxpKSYmISh0IGluIHRoaXMuY29tcG9uZW50cykpe2lmKHRoaXMuaW5pdENvbXBvbmVudERlcGVuZGVuY2llcyhhKSxvJiYhQ09NUE9ORU5UU1thXS5tdWx0aXBsZSl0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gaW5pdGlhbGl6ZSBtdWx0aXBsZSBjb21wb25lbnRzIG9mIHR5cGUgYFwiK2ErXCJgLiBUaGVyZSBjYW4gb25seSBiZSBvbmUgY29tcG9uZW50IG9mIHRoaXMgdHlwZSBwZXIgZW50aXR5LlwiKTtuPW5ldyBDT01QT05FTlRTW2FdLkNvbXBvbmVudCh0aGlzLGUsbyksdGhpcy5pc1BsYXlpbmcmJm4ucGxheSgpLHRoaXMuaGFzQXR0cmlidXRlKHQpfHwobi5qdXN0SW5pdGlhbGl6ZWQ9ITAsd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLHQsXCJcIikpLGRlYnVnKFwiQ29tcG9uZW50IGluaXRpYWxpemVkOiAlc1wiLHQpfX0sd3JpdGFibGU6d2luZG93LmRlYnVnfSxpbml0Q29tcG9uZW50RGVwZW5kZW5jaWVzOnt2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcyxvPUNPTVBPTkVOVFNbdF07aWYobyYmKGU9Q09NUE9ORU5UU1t0XS5kZXBlbmRlbmNpZXMpKWZvcihpPTA7aTxlLmxlbmd0aDtpKyspbi5pbml0Q29tcG9uZW50KGVbaV0sd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUuY2FsbChuLGVbaV0pfHx2b2lkIDAsITApfX0scmVtb3ZlQ29tcG9uZW50Ont2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKGk9dGhpcy5jb21wb25lbnRzW3RdKXtpZighaS5pbml0aWFsaXplZClyZXR1cm4gdm9pZCB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb25lbnRpbml0aWFsaXplZFwiLGZ1bmN0aW9uIGkobil7bi5kZXRhaWwubmFtZT09PXQmJih0aGlzLnJlbW92ZUNvbXBvbmVudCh0LGUpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbXBvbmVudGluaXRpYWxpemVkXCIsaSkpfSk7aS5wYXVzZSgpLGkucmVtb3ZlKCksZSYmKGkuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmNvbXBvbmVudHNbdF0pLHRoaXMuZW1pdChcImNvbXBvbmVudHJlbW92ZWRcIixpLmV2dERldGFpbCwhMSl9fSx3cml0YWJsZTp3aW5kb3cuZGVidWd9LHVwZGF0ZUNvbXBvbmVudHM6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4sbz10aGlzLmNvbXBvbmVudHNUb1VwZGF0ZTtpZih0aGlzLmhhc0xvYWRlZCl7Zm9yKGk9MDtpPHRoaXMubWl4aW5FbHMubGVuZ3RoO2krKylmb3IobiBpbiB0aGlzLm1peGluRWxzW2ldLmNvbXBvbmVudENhY2hlKWlzQ29tcG9uZW50KG4pJiYob1tuXT0hMCk7aWYodGhpcy5nZXRFeHRyYUNvbXBvbmVudHMpe2U9dGhpcy5nZXRFeHRyYUNvbXBvbmVudHMoKTtmb3IobiBpbiBlKWlzQ29tcG9uZW50KG4pJiYob1tuXT0hMCl9Zm9yKGk9MDtpPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7KytpKW49dGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWUsLTE9PT1PQkpFQ1QzRF9DT01QT05FTlRTLmluZGV4T2YobikmJmlzQ29tcG9uZW50KG4pJiYob1tuXT0hMCk7Zm9yKGk9MDtpPE9CSkVDVDNEX0NPTVBPTkVOVFMubGVuZ3RoO2krKyluPU9CSkVDVDNEX0NPTVBPTkVOVFNbaV0sdGhpcy5oYXNBdHRyaWJ1dGUobikmJnRoaXMudXBkYXRlQ29tcG9uZW50KG4sdGhpcy5nZXRET01BdHRyaWJ1dGUobikpO2ZvcihuIGluIG8pdD1tZXJnZUNvbXBvbmVudERhdGEodGhpcy5nZXRET01BdHRyaWJ1dGUobiksZSYmZVtuXSksdGhpcy51cGRhdGVDb21wb25lbnQobix0KSxkZWxldGUgb1tuXX19LHdyaXRhYmxlOndpbmRvdy5kZWJ1Z30sdXBkYXRlQ29tcG9uZW50Ont2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jb21wb25lbnRzW3RdO2lmKG4pcmV0dXJuIG51bGwhPT1lfHxjaGVja0NvbXBvbmVudERlZmluZWQodGhpcyx0KT92b2lkIG4udXBkYXRlUHJvcGVydGllcyhlLGkpOnZvaWQgdGhpcy5yZW1vdmVDb21wb25lbnQodCwhMCk7dGhpcy5pbml0Q29tcG9uZW50KHQsZSwhMSl9fSxyZW1vdmVBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jb21wb25lbnRzW3RdO2lmKGkmJnZvaWQgMD09PWUmJnRoaXMucmVtb3ZlQ29tcG9uZW50KHQsITApLGkmJnZvaWQgMCE9PWUpcmV0dXJuIHZvaWQgaS5yZXNldFByb3BlcnR5KGUpO1wibWl4aW5cIj09PXQmJnRoaXMubWl4aW5VcGRhdGUoXCJcIiksd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUuY2FsbCh0aGlzLHQpfX0scGxheTp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk7aWYoIXRoaXMuaXNQbGF5aW5nJiZ0aGlzLmhhc0xvYWRlZCl7dGhpcy5pc1BsYXlpbmc9ITA7Zm9yKGkgaW4gdGhpcy5jb21wb25lbnRzKXRoaXMuY29tcG9uZW50c1tpXS5wbGF5KCk7Zm9yKHQ9dGhpcy5nZXRDaGlsZEVudGl0aWVzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0ucGxheSgpO3RoaXMuZW1pdChcInBsYXlcIil9fSx3cml0YWJsZTohMH0scGF1c2U6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpO2lmKHRoaXMuaXNQbGF5aW5nKXt0aGlzLmlzUGxheWluZz0hMTtmb3IoaSBpbiB0aGlzLmNvbXBvbmVudHMpdGhpcy5jb21wb25lbnRzW2ldLnBhdXNlKCk7Zm9yKHQ9dGhpcy5nZXRDaGlsZEVudGl0aWVzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0ucGF1c2UoKTt0aGlzLmVtaXQoXCJwYXVzZVwiKX19LHdyaXRhYmxlOiEwfSxzZXRFbnRpdHlBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZihDT01QT05FTlRTW3RdfHx0aGlzLmNvbXBvbmVudHNbdF0pcmV0dXJuIHZvaWQgdGhpcy51cGRhdGVDb21wb25lbnQodCxpKTtpZihcIm1peGluXCI9PT10KXtpZihpPT09dGhpcy5jb21wdXRlZE1peGluU3RyKXJldHVybjt0aGlzLm1peGluVXBkYXRlKGksZSl9fX0sbWl4aW5VcGRhdGU6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsaSl7dmFyIG4sbyxzLGEscj10aGlzO2lmKCF0aGlzLmhhc0xvYWRlZClyZXR1cm4gdm9pZCB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixmdW5jdGlvbigpe3IubWl4aW5VcGRhdGUoZSxpKX0sT05DRSk7Zm9yKGk9aXx8dGhpcy5nZXRBdHRyaWJ1dGUoXCJtaXhpblwiKSxzPXRoaXMudXBkYXRlTWl4aW5zKGUsaSksdC5sZW5ndGg9MCxhPTA7YTx0aGlzLm1peGluRWxzLmxlbmd0aDthKyspZm9yKG4gaW4gdGhpcy5taXhpbkVsc1thXS5jb21wb25lbnRDYWNoZSktMT09PXQuaW5kZXhPZihuKSYmKHRoaXMuY29tcG9uZW50c1tuXT90aGlzLmNvbXBvbmVudHNbbl0uaGFuZGxlTWl4aW5VcGRhdGUoKTp0aGlzLmluaXRDb21wb25lbnQobixudWxsKSx0LnB1c2gobikpO2ZvcihhPTA7YTxzLm9sZE1peGluSWRzLmxlbmd0aDthKyspaWYobz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChzLm9sZE1peGluSWRzW2FdKSlmb3IobiBpbiBvLmNvbXBvbmVudENhY2hlKS0xPT09dC5pbmRleE9mKG4pJiZ0aGlzLmNvbXBvbmVudHNbbl0mJih0aGlzLmdldERPTUF0dHJpYnV0ZShuKT90aGlzLmNvbXBvbmVudHNbbl0uaGFuZGxlTWl4aW5VcGRhdGUoKTp0aGlzLnJlbW92ZUNvbXBvbmVudChuLCEwKSl9fSgpfSxzZXRBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGZ1bmN0aW9uKGUsaSxuKXt2YXIgbyxzLGEscixoLGw7aWYocj1lLmluZGV4T2YoTVVMVElQTEVfQ09NUE9ORU5UX0RFTElNSVRFUiksYT1yPjA/ZS5zdWJzdHJpbmcoMCxyKTplLCFDT01QT05FTlRTW2FdKXJldHVyblwibWl4aW5cIj09PWUmJnRoaXMubWl4aW5VcGRhdGUoaSksdm9pZCBBTm9kZS5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxlLGkpO2lmKCF0aGlzLmNvbXBvbmVudHNbZV0mJnRoaXMuaGFzQXR0cmlidXRlKGUpJiZ0aGlzLnVwZGF0ZUNvbXBvbmVudChlLHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLmNhbGwodGhpcyxlKSksdm9pZCAwIT09biYmXCJzdHJpbmdcIj09dHlwZW9mIGkmJmkubGVuZ3RoPjAmJlwic3RyaW5nXCI9PXR5cGVvZiB1dGlscy5zdHlsZVBhcnNlci5wYXJzZShpKSl7Zm9yKGwgaW4gdClkZWxldGUgdFtsXTtvPXQsb1tpXT1uLHM9ITF9ZWxzZSBvPWkscz0hMD09PW47dGhpcy51cGRhdGVDb21wb25lbnQoZSxvLHMpLChoPXRoaXMuc2NlbmVFbCYmdGhpcy5zY2VuZUVsLmdldEF0dHJpYnV0ZShcImRlYnVnXCIpKSYmdGhpcy5jb21wb25lbnRzW2VdLmZsdXNoVG9ET00oKX19KCksd3JpdGFibGU6d2luZG93LmRlYnVnfSxmbHVzaFRvRE9NOnt2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbz10aGlzLmNvbXBvbmVudHMscz10aGlzLmNoaWxkcmVuO2ZvcihuIGluIG8pb1tuXS5mbHVzaFRvRE9NKCk7aWYodClmb3IoaT0wO2k8cy5sZW5ndGg7KytpKWU9c1tpXSxlLmZsdXNoVG9ET00mJmUuZmx1c2hUb0RPTSh0KX19LGdldEF0dHJpYnV0ZTp7dmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuXCJwb3NpdGlvblwiPT09dD90aGlzLm9iamVjdDNELnBvc2l0aW9uOlwicm90YXRpb25cIj09PXQ/Z2V0Um90YXRpb24odGhpcyk6XCJzY2FsZVwiPT09dD90aGlzLm9iamVjdDNELnNjYWxlOlwidmlzaWJsZVwiPT09dD90aGlzLm9iamVjdDNELnZpc2libGU6KGU9dGhpcy5jb21wb25lbnRzW3RdLGU/ZS5kYXRhOndpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLmNhbGwodGhpcyx0KSl9LHdyaXRhYmxlOndpbmRvdy5kZWJ1Z30sZ2V0RE9NQXR0cmlidXRlOnt2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbXBvbmVudHNbdF07cmV0dXJuIGU/ZS5hdHRyVmFsdWU6d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLHQpfSx3cml0YWJsZTp3aW5kb3cuZGVidWd9LGFkZFN0YXRlOnt2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmlzKHQpfHwodGhpcy5zdGF0ZXMucHVzaCh0KSx0aGlzLmVtaXQoXCJzdGF0ZWFkZGVkXCIsdCkpfX0scmVtb3ZlU3RhdGU6e3ZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGVzLmluZGV4T2YodCk7LTEhPT1lJiYodGhpcy5zdGF0ZXMuc3BsaWNlKGUsMSksdGhpcy5lbWl0KFwic3RhdGVyZW1vdmVkXCIsdCkpfX0saXM6e3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi0xIT09dGhpcy5zdGF0ZXMuaW5kZXhPZih0KX19LGluc3BlY3Q6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zY2VuZUVsLmNvbXBvbmVudHMuaW5zcGVjdG9yLm9wZW5JbnNwZWN0b3IodGhpcyl9fSxkZXN0cm95Ont2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB3YXJuKFwiRW50aXR5IGNhbiBvbmx5IGJlIGRlc3Ryb3llZCBpZiBkZXRhY2hlZCBmcm9tIHNjZW5lZ3JhcGguXCIpO2Zvcih0IGluIHRoaXMuY29tcG9uZW50cyl0aGlzLmNvbXBvbmVudHNbdF0uZGVzdHJveSgpfX19KTtBRW50aXR5PXJlZ2lzdGVyRWxlbWVudChcImEtZW50aXR5XCIse3Byb3RvdHlwZTpwcm90b30pLG1vZHVsZS5leHBvcnRzPUFFbnRpdHk7XG59LHtcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL1wiOjE4MSxcIi4vYS1ub2RlXCI6MTA2LFwiLi9hLXJlZ2lzdGVyLWVsZW1lbnRcIjoxMDcsXCIuL2NvbXBvbmVudFwiOjEwOH1dLDEwNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgQU5vZGU9X2RlcmVxXyhcIi4vYS1ub2RlXCIpLHJlZ2lzdGVyRWxlbWVudD1fZGVyZXFfKFwiLi9hLXJlZ2lzdGVyLWVsZW1lbnRcIikucmVnaXN0ZXJFbGVtZW50LGNvbXBvbmVudHM9X2RlcmVxXyhcIi4vY29tcG9uZW50XCIpLmNvbXBvbmVudHMsdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzXCIpLE1VTFRJUExFX0NPTVBPTkVOVF9ERUxJTUlURVI9XCJfX1wiO21vZHVsZS5leHBvcnRzPXJlZ2lzdGVyRWxlbWVudChcImEtbWl4aW5cIix7cHJvdG90eXBlOk9iamVjdC5jcmVhdGUoQU5vZGUucHJvdG90eXBlLHtjcmVhdGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb21wb25lbnRDYWNoZT17fSx0aGlzLmlkPXRoaXMuZ2V0QXR0cmlidXRlKFwiaWRcIiksdGhpcy5pc01peGluPSEwfX0sYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5jYWNoZUF0dHJpYnV0ZSh0LGkpLHRoaXMudXBkYXRlRW50aXRpZXMoKX19LGF0dGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zY2VuZUVsPXRoaXMuY2xvc2VzdFNjZW5lKCksdGhpcy5jYWNoZUF0dHJpYnV0ZXMoKSx0aGlzLnVwZGF0ZUVudGl0aWVzKCksdGhpcy5sb2FkKCl9fSxzZXRBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKHQsZSl7d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLHQsZSksdGhpcy5jYWNoZUF0dHJpYnV0ZSh0LGUpfX0sY2FjaGVBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbjtuPXV0aWxzLnNwbGl0KHQsTVVMVElQTEVfQ09NUE9ORU5UX0RFTElNSVRFUilbMF0sKGk9Y29tcG9uZW50c1tuXSkmJih2b2lkIDA9PT1lJiYoZT13aW5kb3cuSFRNTEVsZW1lbnQucHJvdG90eXBlLmdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsdCkpLHRoaXMuY29tcG9uZW50Q2FjaGVbdF09aS5wYXJzZUF0dHJWYWx1ZUZvckNhY2hlKGUpKX19LGdldEF0dHJpYnV0ZTp7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Q2FjaGVbdF18fHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlLmNhbGwodGhpcyx0KX19LGNhY2hlQXR0cmlidXRlczp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5hdHRyaWJ1dGVzO2ZvcihlPTA7ZTxpLmxlbmd0aDtlKyspdD1pW2VdLm5hbWUsdGhpcy5jYWNoZUF0dHJpYnV0ZSh0KX19LHVwZGF0ZUVudGl0aWVzOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaTtpZih0aGlzLnNjZW5lRWwpZm9yKGU9dGhpcy5zY2VuZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbWl4aW5+PVwiK3RoaXMuaWQrXCJdXCIpLGk9MDtpPGUubGVuZ3RoO2krKyl0PWVbaV0sdC5oYXNMb2FkZWQmJiF0LmlzTWl4aW4mJnQubWl4aW5VcGRhdGUodGhpcy5pZCl9fX0pfSk7XG59LHtcIi4uL3V0aWxzXCI6MTgxLFwiLi9hLW5vZGVcIjoxMDYsXCIuL2EtcmVnaXN0ZXItZWxlbWVudFwiOjEwNyxcIi4vY29tcG9uZW50XCI6MTA4fV0sMTA2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlckVsZW1lbnQ9X2RlcmVxXyhcIi4vYS1yZWdpc3Rlci1lbGVtZW50XCIpLnJlZ2lzdGVyRWxlbWVudCxpc05vZGU9X2RlcmVxXyhcIi4vYS1yZWdpc3Rlci1lbGVtZW50XCIpLmlzTm9kZSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLHdhcm49dXRpbHMuZGVidWcoXCJjb3JlOmEtbm9kZTp3YXJuXCIpLGVycm9yPXV0aWxzLmRlYnVnKFwiY29yZTphLW5vZGU6ZXJyb3JcIik7bW9kdWxlLmV4cG9ydHM9cmVnaXN0ZXJFbGVtZW50KFwiYS1ub2RlXCIse3Byb3RvdHlwZTpPYmplY3QuY3JlYXRlKHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUse2NyZWF0ZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVkTWl4aW5TdHI9XCJcIix0aGlzLmhhc0xvYWRlZD0hMSx0aGlzLmlzTm9kZT0hMCx0aGlzLm1peGluRWxzPVtdfSx3cml0YWJsZTp3aW5kb3cuZGVidWd9LGF0dGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5zY2VuZUVsPXRoaXMuY2xvc2VzdFNjZW5lKCksdGhpcy5zY2VuZUVsfHx3YXJuKFwiWW91IGFyZSBhdHRlbXB0aW5nIHRvIGF0dGFjaCA8XCIrdGhpcy50YWdOYW1lK1wiPiBvdXRzaWRlIG9mIGFuIEEtRnJhbWUgc2NlbmUuIEFwcGVuZCB0aGlzIGVsZW1lbnQgdG8gYDxhLXNjZW5lPmAgaW5zdGVhZC5cIiksdGhpcy5oYXNMb2FkZWQ9ITEsdGhpcy5lbWl0KFwibm9kZXJlYWR5XCIsdm9pZCAwLCExKSx0aGlzLmlzTWl4aW58fCh0PXRoaXMuZ2V0QXR0cmlidXRlKFwibWl4aW5cIikpJiZ0aGlzLnVwZGF0ZU1peGlucyh0KX0sd3JpdGFibGU6d2luZG93LmRlYnVnfSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpIT09dGhpcy5jb21wdXRlZE1peGluU3RyJiYoXCJtaXhpblwiIT09dHx8dGhpcy5pc01peGlufHx0aGlzLnVwZGF0ZU1peGlucyhpLGUpKX19LGNsb3Nlc3RTY2VuZTp7dmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpczt0JiYhdC5pc1NjZW5lOyl0PXQucGFyZW50RWxlbWVudDtyZXR1cm4gdH19LGNsb3Nlc3Q6e3ZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm1hdGNoZXN8fHRoaXMubW96TWF0Y2hlc1NlbGVjdG9yfHx0aGlzLm1zTWF0Y2hlc1NlbGVjdG9yfHx0aGlzLm9NYXRjaGVzU2VsZWN0b3J8fHRoaXMud2Via2l0TWF0Y2hlc1NlbGVjdG9yLGk9dGhpcztpJiYhZS5jYWxsKGksdCk7KWk9aS5wYXJlbnRFbGVtZW50O3JldHVybiBpfX0sZGV0YWNoZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhc0xvYWRlZD0hMX19LGxvYWQ6e3ZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixzPXRoaXM7dGhpcy5oYXNMb2FkZWR8fChlPWV8fGlzTm9kZSxpPXRoaXMuZ2V0Q2hpbGRyZW4oKSxuPWkuZmlsdGVyKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7aWYodC5oYXNMb2FkZWQpcmV0dXJuIGUoKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixlKX0pfSksUHJvbWlzZS5hbGwobikudGhlbihmdW5jdGlvbigpe3MuaGFzTG9hZGVkPSEwLHQmJnQoKSxzLmVtaXQoXCJsb2FkZWRcIix2b2lkIDAsITEpfSkuY2F0Y2goZnVuY3Rpb24odCl7ZXJyb3IoXCJGYWlsdXJlIGxvYWRpbmcgbm9kZTogXCIsdCl9KSl9LHdyaXRhYmxlOiEwfSxnZXRDaGlsZHJlbjp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5jaGlsZHJlbiwwKX19LHVwZGF0ZU1peGluczp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPVtdLGk9e307cmV0dXJuIGZ1bmN0aW9uKG4scyl7dmFyIHIsYSxvO2Zvcih0Lmxlbmd0aD0wLGUubGVuZ3RoPTAsYT1uP3V0aWxzLnNwbGl0KG4udHJpbSgpLC9cXHMrLyk6dCxvPXM/dXRpbHMuc3BsaXQocy50cmltKCksL1xccysvKTplLGkubmV3TWl4aW5JZHM9YSxpLm9sZE1peGluSWRzPW8scj0wO3I8by5sZW5ndGg7cisrKS0xPT09YS5pbmRleE9mKG9bcl0pJiZ0aGlzLnVucmVnaXN0ZXJNaXhpbihvW3JdKTtmb3IodGhpcy5jb21wdXRlZE1peGluU3RyPVwiXCIsdGhpcy5taXhpbkVscy5sZW5ndGg9MCxyPTA7cjxhLmxlbmd0aDtyKyspdGhpcy5yZWdpc3Rlck1peGluKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFbcl0pKTtyZXR1cm4gdGhpcy5jb21wdXRlZE1peGluU3RyJiYodGhpcy5jb21wdXRlZE1peGluU3RyPXRoaXMuY29tcHV0ZWRNaXhpblN0ci50cmltKCksd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLFwibWl4aW5cIix0aGlzLmNvbXB1dGVkTWl4aW5TdHIpKSxpfX0oKX0scmVnaXN0ZXJNaXhpbjp7dmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxuO2lmKHQpe2lmKG49dC5nZXRBdHRyaWJ1dGUoXCJtaXhpblwiKSlmb3IoZT11dGlscy5zcGxpdChuLnRyaW0oKSwvXFxzKy8pLGk9MDtpPGUubGVuZ3RoO2krKyl0aGlzLnJlZ2lzdGVyTWl4aW4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZVtpXSkpO3RoaXMuY29tcHV0ZWRNaXhpblN0cj10aGlzLmNvbXB1dGVkTWl4aW5TdHIrXCIgXCIrdC5pZCx0aGlzLm1peGluRWxzLnB1c2godCl9fX0sc2V0QXR0cmlidXRlOnt2YWx1ZTpmdW5jdGlvbih0LGUpe1wibWl4aW5cIj09PXQmJnRoaXMudXBkYXRlTWl4aW5zKGUpLHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyx0LGUpfX0sdW5yZWdpc3Rlck1peGluOnt2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG49dGhpcy5taXhpbkVscztmb3IoZT0wO2U8bi5sZW5ndGg7KytlKWlmKGk9bltlXSx0PT09aS5pZCl7bi5zcGxpY2UoZSwxKTticmVha319fSxlbWl0Ont2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihlLGksbixzKXt2b2lkIDA9PT1uJiYobj0hMCksdC5idWJibGVzPSEhbix0LmRldGFpbD1pLHMmJih0PXV0aWxzLmV4dGVuZCh7fSxzLHQpKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGUsdCkpfX0oKSx3cml0YWJsZTp3aW5kb3cuZGVidWd9fSl9KTtcbn0se1wiLi4vdXRpbHMvXCI6MTgxLFwiLi9hLXJlZ2lzdGVyLWVsZW1lbnRcIjoxMDd9XSwxMDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gYWRkVGFnTmFtZShlKXtrbm93blRhZ3NbZS50b0xvd2VyQ2FzZSgpXT0hMH1mdW5jdGlvbiB3cmFwQU5vZGVNZXRob2RzKGUpe3ZhciB0PXt9O3JldHVybiB3cmFwTWV0aG9kcyh0LFtcImF0dGFjaGVkQ2FsbGJhY2tcIixcImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja1wiLFwiY3JlYXRlZENhbGxiYWNrXCIsXCJkZXRhY2hlZENhbGxiYWNrXCJdLGUsQU5vZGUucHJvdG90eXBlKSxjb3B5UHJvcGVydGllcyhlLHQpLHR9ZnVuY3Rpb24gd3JhcEFFbnRpdHlNZXRob2RzKGUpe3ZhciB0PXt9LG89W1wiYXR0YWNoZWRDYWxsYmFja1wiLFwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXCIsXCJjcmVhdGVkQ2FsbGJhY2tcIixcImRldGFjaGVkQ2FsbGJhY2tcIl0sYT1bXCJhdHRhY2hlZENhbGxiYWNrXCIsXCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIixcImNyZWF0ZWRDYWxsYmFja1wiLFwiZGV0YWNoZWRDYWxsYmFja1wiXTtyZXR1cm4gd3JhcE1ldGhvZHModCxvLGUsQU5vZGUucHJvdG90eXBlKSx3cmFwTWV0aG9kcyh0LGEsZSxBRW50aXR5LnByb3RvdHlwZSksY29weVByb3BlcnRpZXMoZSx0KSx0fWZ1bmN0aW9uIHdyYXBNZXRob2RzKGUsdCxvLGEpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt3cmFwTWV0aG9kKGUsdCxvLGEpfSl9ZnVuY3Rpb24gd3JhcE1ldGhvZChlLHQsbyxhKXt2YXIgcj1vW3RdLG49YVt0XTtyJiZuJiZyIT09biYmKGVbdF09e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3cml0YWJsZTp3aW5kb3cuZGVidWd9KX1mdW5jdGlvbiBjb3B5UHJvcGVydGllcyhlLHQpe09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIGE7dFtvXXx8KGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pLHRbb109e3ZhbHVlOmVbb10sd3JpdGFibGU6YS53cml0YWJsZX0pfSl9X2RlcmVxXyhcImRvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnRcIik7dmFyIEFOb2RlLEFFbnRpdHksa25vd25UYWdzPW1vZHVsZS5leHBvcnRzLmtub3duVGFncz17fTttb2R1bGUuZXhwb3J0cy5pc05vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpaW4ga25vd25UYWdzfHxlLmlzTm9kZX0sbW9kdWxlLmV4cG9ydHMucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG89T2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxhPXQscj1BTm9kZSYmbz09PUFOb2RlLnByb3RvdHlwZSxuPUFFbnRpdHkmJm89PT1BRW50aXR5LnByb3RvdHlwZTtyZXR1cm4ocnx8bikmJmFkZFRhZ05hbWUoZSksciYmKGE9d3JhcEFOb2RlTWV0aG9kcyh0LnByb3RvdHlwZSksYT17cHJvdG90eXBlOk9iamVjdC5jcmVhdGUobyxhKX0pLG4mJihhPXdyYXBBRW50aXR5TWV0aG9kcyh0LnByb3RvdHlwZSksYT17cHJvdG90eXBlOk9iamVjdC5jcmVhdGUobyxhKX0pLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWEucHJvdG90eXBlW2VdO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0LmRpc3BsYXlOYW1lPWUpfSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KGUsYSl9LG1vZHVsZS5leHBvcnRzLndyYXBNZXRob2RzPXdyYXBNZXRob2RzLEFOb2RlPV9kZXJlcV8oXCIuL2Etbm9kZVwiKSxBRW50aXR5PV9kZXJlcV8oXCIuL2EtZW50aXR5XCIpO1xufSx7XCIuL2EtZW50aXR5XCI6MTA0LFwiLi9hLW5vZGVcIjoxMDYsXCJkb2N1bWVudC1yZWdpc3Rlci1lbGVtZW50XCI6MTN9XSwxMDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gZXZlbnRzQmluZCh0LGUpe3ZhciBpO2ZvcihpIGluIGUpdC5ldmVudHNbaV09ZVtpXS5iaW5kKHQpfWZ1bmN0aW9uIGNvcHlEYXRhKHQsZSl7dmFyIGkscztmb3IocyBpbiBlKXZvaWQgMCE9PWVbc10mJihpPWVbc10sdFtzXT1pc09iamVjdE9yQXJyYXkoaSk/dXRpbHMuY2xvbmUoaSk6aSk7cmV0dXJuIHR9ZnVuY3Rpb24gZXh0ZW5kUHJvcGVydGllcyh0LGUsaSl7dmFyIHM7aWYoaSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7Zm9yKHMgaW4gZSl2b2lkIDAhPT1lW3NdJiYoZVtzXSYmZVtzXS5jb25zdHJ1Y3Rvcj09PU9iamVjdD90W3NdPXV0aWxzLmNsb25lKGVbc10pOnRbc109ZVtzXSk7cmV0dXJuIHR9cmV0dXJuIGV9ZnVuY3Rpb24gaGFzQmVoYXZpb3IodCl7cmV0dXJuIHQudGlja3x8dC50b2NrfWZ1bmN0aW9uIHdyYXBQYXVzZSh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsLnNjZW5lRWw7dGhpcy5pc1BsYXlpbmcmJih0LmNhbGwodGhpcyksdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5ldmVudHNEZXRhY2goKSxoYXNCZWhhdmlvcih0aGlzKSYmZS5yZW1vdmVCZWhhdmlvcih0aGlzKSl9fWZ1bmN0aW9uIHdyYXBQbGF5KHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWwuc2NlbmVFbCxpPXRoaXMuZWwuaXNQbGF5aW5nJiYhdGhpcy5pc1BsYXlpbmc7dGhpcy5pbml0aWFsaXplZCYmaSYmKHQuY2FsbCh0aGlzKSx0aGlzLmlzUGxheWluZz0hMCx0aGlzLmV2ZW50c0F0dGFjaCgpLGhhc0JlaGF2aW9yKHRoaXMpJiZlLmFkZEJlaGF2aW9yKHRoaXMpKX19ZnVuY3Rpb24gaXNPYmplY3QodCl7cmV0dXJuIHQmJnQuY29uc3RydWN0b3I9PT1PYmplY3QmJiEodCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCl9ZnVuY3Rpb24gaXNPYmplY3RPckFycmF5KHQpe3JldHVybiB0JiYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8dC5jb25zdHJ1Y3Rvcj09PUFycmF5KSYmISh0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KX12YXIgc2NoZW1hPV9kZXJlcV8oXCIuL3NjaGVtYVwiKSxzY2VuZXM9X2RlcmVxXyhcIi4vc2NlbmUvc2NlbmVzXCIpLHN5c3RlbXM9X2RlcmVxXyhcIi4vc3lzdGVtXCIpLHV0aWxzPV9kZXJlcV8oXCIuLi91dGlscy9cIiksY29tcG9uZW50cz1tb2R1bGUuZXhwb3J0cy5jb21wb25lbnRzPXt9LHBhcnNlUHJvcGVydGllcz1zY2hlbWEucGFyc2VQcm9wZXJ0aWVzLHBhcnNlUHJvcGVydHk9c2NoZW1hLnBhcnNlUHJvcGVydHkscHJvY2Vzc1NjaGVtYT1zY2hlbWEucHJvY2Vzcyxpc1NpbmdsZVByb3A9c2NoZW1hLmlzU2luZ2xlUHJvcGVydHksc3RyaW5naWZ5UHJvcGVydGllcz1zY2hlbWEuc3RyaW5naWZ5UHJvcGVydGllcyxzdHJpbmdpZnlQcm9wZXJ0eT1zY2hlbWEuc3RyaW5naWZ5UHJvcGVydHksc3R5bGVQYXJzZXI9dXRpbHMuc3R5bGVQYXJzZXIsd2Fybj11dGlscy5kZWJ1ZyhcImNvcmU6Y29tcG9uZW50Ondhcm5cIiksYWZyYW1lU2NyaXB0PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQsdXBwZXJDYXNlUmVnRXhwPW5ldyBSZWdFeHAoXCJbQS1aXStcIiksb2JqZWN0UG9vbHM9e30sQ29tcG9uZW50PW1vZHVsZS5leHBvcnRzLkNvbXBvbmVudD1mdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpczt0aGlzLmVsPXQsdGhpcy5pZD1pLHRoaXMuYXR0ck5hbWU9dGhpcy5uYW1lKyhpP1wiX19cIitpOlwiXCIpLHRoaXMuZXZ0RGV0YWlsPXtpZDp0aGlzLmlkLG5hbWU6dGhpcy5uYW1lfSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuaXNTaW5nbGVQcm9wZXJ0eT1pc1NpbmdsZVByb3AodGhpcy5zY2hlbWEpLHRoaXMuaXNTaW5nbGVQcm9wZXJ0eU9iamVjdD10aGlzLmlzU2luZ2xlUHJvcGVydHkmJmlzT2JqZWN0KHBhcnNlUHJvcGVydHkodm9pZCAwLHRoaXMuc2NoZW1hKSkmJiEodGhpcy5zY2hlbWEuZGVmYXVsdCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCksdGhpcy5pc09iamVjdEJhc2VkPSF0aGlzLmlzU2luZ2xlUHJvcGVydHl8fHRoaXMuaXNTaW5nbGVQcm9wZXJ0eU9iamVjdCx0aGlzLmVsLmNvbXBvbmVudHNbdGhpcy5hdHRyTmFtZV09dGhpcyx0aGlzLm9iamVjdFBvb2w9b2JqZWN0UG9vbHNbdGhpcy5uYW1lXTtjb25zdCBhPXRoaXMuZXZlbnRzO3RoaXMuZXZlbnRzPXt9LGV2ZW50c0JpbmQodGhpcyxhKSx0aGlzLmF0dHJWYWx1ZT12b2lkIDAsdGhpcy5pc09iamVjdEJhc2VkPyh0aGlzLm5leHREYXRhPXRoaXMub2JqZWN0UG9vbC51c2UoKSx1dGlscy5vYmplY3RQb29sLnJlbW92ZVVudXNlZEtleXModGhpcy5uZXh0RGF0YSx0aGlzLnNjaGVtYSksdGhpcy5vbGREYXRhPXRoaXMub2JqZWN0UG9vbC51c2UoKSx1dGlscy5vYmplY3RQb29sLnJlbW92ZVVudXNlZEtleXModGhpcy5vbGREYXRhLHRoaXMuc2NoZW1hKSx0aGlzLnByZXZpb3VzT2xkRGF0YT10aGlzLm9iamVjdFBvb2wudXNlKCksdXRpbHMub2JqZWN0UG9vbC5yZW1vdmVVbnVzZWRLZXlzKHRoaXMucHJldmlvdXNPbGREYXRhLHRoaXMuc2NoZW1hKSx0aGlzLnBhcnNpbmdBdHRyVmFsdWU9dGhpcy5vYmplY3RQb29sLnVzZSgpLHV0aWxzLm9iamVjdFBvb2wucmVtb3ZlVW51c2VkS2V5cyh0aGlzLnBhcnNpbmdBdHRyVmFsdWUsdGhpcy5zY2hlbWEpKToodGhpcy5uZXh0RGF0YT12b2lkIDAsdGhpcy5vbGREYXRhPXZvaWQgMCx0aGlzLnByZXZpb3VzT2xkRGF0YT12b2lkIDAsdGhpcy5wYXJzaW5nQXR0clZhbHVlPXZvaWQgMCksdGhpcy50aHJvdHRsZWRFbWl0Q29tcG9uZW50Q2hhbmdlZD11dGlscy50aHJvdHRsZShmdW5jdGlvbigpe3QuZW1pdChcImNvbXBvbmVudGNoYW5nZWRcIixzLmV2dERldGFpbCwhMSl9LDIwMCksdGhpcy51cGRhdGVQcm9wZXJ0aWVzKGUpfTtpZihDb21wb25lbnQucHJvdG90eXBlPXtzY2hlbWE6e30saW5pdDpmdW5jdGlvbigpe30sZXZlbnRzOnt9LHVwZGF0ZTpmdW5jdGlvbih0KXt9LHVwZGF0ZVNjaGVtYTp2b2lkIDAsdGljazp2b2lkIDAsdG9jazp2b2lkIDAscGxheTpmdW5jdGlvbigpe30scGF1c2U6ZnVuY3Rpb24oKXt9LHJlbW92ZTpmdW5jdGlvbigpe30scGFyc2U6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNjaGVtYTtyZXR1cm4gdGhpcy5pc1NpbmdsZVByb3BlcnR5P3BhcnNlUHJvcGVydHkodCxpKTpwYXJzZVByb3BlcnRpZXMoc3R5bGVQYXJzZXIucGFyc2UodCksaSwhMCx0aGlzLm5hbWUsZSl9LHN0cmluZ2lmeTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNjaGVtYTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OnRoaXMuaXNTaW5nbGVQcm9wZXJ0eT9zdHJpbmdpZnlQcm9wZXJ0eSh0LGUpOih0PXN0cmluZ2lmeVByb3BlcnRpZXModCxlKSxzdHlsZVBhcnNlci5zdHJpbmdpZnkodCkpfSx1cGRhdGVDYWNoZWRBdHRyVmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLGE7aWYodm9pZCAwIT09dCl7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuaXNPYmplY3RCYXNlZCYmdGhpcy5hdHRyVmFsdWUmJnRoaXMub2JqZWN0UG9vbC5yZWN5Y2xlKHRoaXMuYXR0clZhbHVlKSx2b2lkKHRoaXMuYXR0clZhbHVlPXZvaWQgMCk7aWYodCBpbnN0YW5jZW9mIE9iamVjdCYmISh0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KT8ocz10aGlzLm9iamVjdFBvb2wudXNlKCksaT11dGlscy5leHRlbmQocyx0KSk6aT10aGlzLnBhcnNlQXR0clZhbHVlRm9yQ2FjaGUodCksdGhpcy5pc09iamVjdEJhc2VkJiYhZSYmdGhpcy5hdHRyVmFsdWUpZm9yKGEgaW4gdGhpcy5hdHRyVmFsdWUpdm9pZCAwPT09aVthXSYmKGlbYV09dGhpcy5hdHRyVmFsdWVbYV0pO3RoaXMuaXNPYmplY3RCYXNlZCYmIXRoaXMuYXR0clZhbHVlJiYodGhpcy5hdHRyVmFsdWU9dGhpcy5vYmplY3RQb29sLnVzZSgpKSx1dGlscy5vYmplY3RQb29sLmNsZWFyT2JqZWN0KHRoaXMuYXR0clZhbHVlKSx0aGlzLmF0dHJWYWx1ZT1leHRlbmRQcm9wZXJ0aWVzKHRoaXMuYXR0clZhbHVlLGksdGhpcy5pc09iamVjdEJhc2VkKSx1dGlscy5vYmplY3RQb29sLmNsZWFyT2JqZWN0KHMpfX0scGFyc2VBdHRyVmFsdWVGb3JDYWNoZTpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdD90Oih0aGlzLmlzU2luZ2xlUHJvcGVydHk/XCJzdHJpbmdcIj09dHlwZW9mKGU9dGhpcy5zY2hlbWEucGFyc2UodCkpJiYoZT10KToodXRpbHMub2JqZWN0UG9vbC5jbGVhck9iamVjdCh0aGlzLnBhcnNpbmdBdHRyVmFsdWUpLGU9c3R5bGVQYXJzZXIucGFyc2UodCx0aGlzLnBhcnNpbmdBdHRyVmFsdWUpKSxlKX0sZmx1c2hUb0RPTTpmdW5jdGlvbih0KXt2YXIgZT10P3RoaXMuZGF0YTp0aGlzLmF0dHJWYWx1ZTtudWxsIT09ZSYmdm9pZCAwIT09ZSYmd2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLmVsLHRoaXMuYXR0ck5hbWUsdGhpcy5zdHJpbmdpZnkoZSkpfSx1cGRhdGVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuZWwuaGFzTG9hZGVkKXJldHVybiB2b2lkIHRoaXMudXBkYXRlQ2FjaGVkQXR0clZhbHVlKHQpO251bGwhPT10JiYodD10aGlzLnBhcnNlQXR0clZhbHVlRm9yQ2FjaGUodCkpLHRoaXMudXBkYXRlQ2FjaGVkQXR0clZhbHVlKHQsZSksdGhpcy5pbml0aWFsaXplZD8odGhpcy51cGRhdGVDb21wb25lbnQodCxlKSx0aGlzLmNhbGxVcGRhdGVIYW5kbGVyKCkpOnRoaXMuaW5pdENvbXBvbmVudCgpfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmVsO3RoaXMudXBkYXRlU2NoZW1hJiZ0aGlzLnVwZGF0ZVNjaGVtYSh0aGlzLmJ1aWxkRGF0YSh0aGlzLmF0dHJWYWx1ZSwhMSwhMCkpLHRoaXMuZGF0YT10aGlzLmJ1aWxkRGF0YSh0aGlzLmF0dHJWYWx1ZSksZS5pbml0aWFsaXppbmdDb21wb25lbnRzW3RoaXMubmFtZV18fChlLmluaXRpYWxpemluZ0NvbXBvbmVudHNbdGhpcy5uYW1lXT0hMCx0aGlzLmluaXQoKSx0aGlzLmluaXRpYWxpemVkPSEwLGRlbGV0ZSBlLmluaXRpYWxpemluZ0NvbXBvbmVudHNbdGhpcy5uYW1lXSx0aGlzLm9sZERhdGE9ZXh0ZW5kUHJvcGVydGllcyh0aGlzLm9sZERhdGEsdGhpcy5kYXRhLHRoaXMuaXNPYmplY3RCYXNlZCksdD10aGlzLmlzT2JqZWN0QmFzZWQ/dGhpcy5vYmplY3RQb29sLnVzZSgpOnZvaWQgMCx0aGlzLnVwZGF0ZSh0KSx0aGlzLmlzT2JqZWN0QmFzZWQmJnRoaXMub2JqZWN0UG9vbC5yZWN5Y2xlKHQpLGUuaXNQbGF5aW5nJiZ0aGlzLnBsYXkoKSxlLmVtaXQoXCJjb21wb25lbnRpbml0aWFsaXplZFwiLHRoaXMuZXZ0RGV0YWlsLCExKSl9LHVwZGF0ZUNvbXBvbmVudDpmdW5jdGlvbih0LGUpe3ZhciBpLHM7aWYoZSlyZXR1cm4gdGhpcy51cGRhdGVTY2hlbWEmJnRoaXMudXBkYXRlU2NoZW1hKHRoaXMuYnVpbGREYXRhKHRoaXMuYXR0clZhbHVlLCEwLCEwKSksdm9pZCh0aGlzLmRhdGE9dGhpcy5idWlsZERhdGEodGhpcy5hdHRyVmFsdWUsITAsITEpKTtpZih0aGlzLmlzU2luZ2xlUHJvcGVydHkpcmV0dXJuIHRoaXMuaXNPYmplY3RCYXNlZCYmcGFyc2VQcm9wZXJ0eSh0LHRoaXMuc2NoZW1hKSx2b2lkKHRoaXMuZGF0YT10KTtpZihwYXJzZVByb3BlcnRpZXModCx0aGlzLnNjaGVtYSwhMCx0aGlzLm5hbWUpLHRoaXMuc2NoZW1hQ2hhbmdlS2V5cy5sZW5ndGgpZm9yKGkgaW4gdClpZih0aGlzLnNjaGVtYVtpXS5zY2hlbWFDaGFuZ2Upe3M9ITA7YnJlYWt9aWYocylyZXR1cm4gdGhpcy51cGRhdGVTY2hlbWEmJnRoaXMudXBkYXRlU2NoZW1hKHRoaXMuYnVpbGREYXRhKHRoaXMuYXR0clZhbHVlLCEwLCEwKSksdm9pZCh0aGlzLmRhdGE9dGhpcy5idWlsZERhdGEodGhpcy5hdHRyVmFsdWUsITAsITEpKTtmb3IoaSBpbiB0KXZvaWQgMCE9PXRbaV0mJih0aGlzLmRhdGFbaV09dFtpXSl9LGNhbGxVcGRhdGVIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5wcmV2aW91c09sZERhdGEgaW5zdGFuY2VvZiBPYmplY3QmJnV0aWxzLm9iamVjdFBvb2wuY2xlYXJPYmplY3QodGhpcy5wcmV2aW91c09sZERhdGEpLHRoaXMuaXNPYmplY3RCYXNlZD9jb3B5RGF0YSh0aGlzLnByZXZpb3VzT2xkRGF0YSx0aGlzLm9sZERhdGEpOnRoaXMucHJldmlvdXNPbGREYXRhPXRoaXMub2xkRGF0YSx0PSF1dGlscy5kZWVwRXF1YWwodGhpcy5vbGREYXRhLHRoaXMuZGF0YSksKHRoaXMuaXNQb3NpdGlvblJvdGF0aW9uU2NhbGV8fHQpJiYodGhpcy5vbGREYXRhIGluc3RhbmNlb2YgT2JqZWN0JiZ1dGlscy5vYmplY3RQb29sLmNsZWFyT2JqZWN0KHRoaXMub2xkRGF0YSksdGhpcy5vbGREYXRhPWV4dGVuZFByb3BlcnRpZXModGhpcy5vbGREYXRhLHRoaXMuZGF0YSx0aGlzLmlzT2JqZWN0QmFzZWQpLHRoaXMudXBkYXRlKHRoaXMucHJldmlvdXNPbGREYXRhKSx0aGlzLnRocm90dGxlZEVtaXRDb21wb25lbnRDaGFuZ2VkKCkpfSxoYW5kbGVNaXhpblVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZGF0YT10aGlzLmJ1aWxkRGF0YSh0aGlzLmF0dHJWYWx1ZSksdGhpcy5jYWxsVXBkYXRlSGFuZGxlcigpfSxyZXNldFByb3BlcnR5OmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNPYmplY3RCYXNlZCl7aWYoISh0IGluIHRoaXMuYXR0clZhbHVlKSlyZXR1cm47ZGVsZXRlIHRoaXMuYXR0clZhbHVlW3RdLHRoaXMuZGF0YVt0XT10aGlzLnNjaGVtYVt0XS5kZWZhdWx0fWVsc2UgdGhpcy5hdHRyVmFsdWU9dGhpcy5zY2hlbWEuZGVmYXVsdCx0aGlzLmRhdGE9dGhpcy5zY2hlbWEuZGVmYXVsdDt0aGlzLnVwZGF0ZVByb3BlcnRpZXModGhpcy5hdHRyVmFsdWUpfSxleHRlbmRTY2hlbWE6ZnVuY3Rpb24odCl7dmFyIGU7ZT11dGlscy5leHRlbmQoe30sY29tcG9uZW50c1t0aGlzLm5hbWVdLnNjaGVtYSksdXRpbHMuZXh0ZW5kKGUsdCksdGhpcy5zY2hlbWE9cHJvY2Vzc1NjaGVtYShlKSx0aGlzLmVsLmVtaXQoXCJzY2hlbWFjaGFuZ2VkXCIsdGhpcy5ldnREZXRhaWwpfSxidWlsZERhdGE6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLGEsbyxyLG4saCxjLGw9dGhpcy5uZXh0RGF0YSxwPXRoaXMuc2NoZW1hLHU9dGhpcy5lbC5taXhpbkVscztpZihzPXQmJnQuY29uc3RydWN0b3I9PT1BcnJheT90Lmxlbmd0aDp2b2lkIDAhPT10JiZudWxsIT09dCx0aGlzLmlzT2JqZWN0QmFzZWQmJnV0aWxzLm9iamVjdFBvb2wuY2xlYXJPYmplY3QobCksdGhpcy5pc1NpbmdsZVByb3BlcnR5KWE9dGhpcy5pc09iamVjdEJhc2VkP2NvcHlEYXRhKGwscC5kZWZhdWx0KTppc09iamVjdE9yQXJyYXkocC5kZWZhdWx0KT91dGlscy5jbG9uZShwLmRlZmF1bHQpOnAuZGVmYXVsdDtlbHNle2M9IWUmJnRoaXMuYXR0clZhbHVlLGE9YyBpbnN0YW5jZW9mIE9iamVjdD9jb3B5RGF0YShsLGMpOmw7Zm9yKHIgaW4gcClvPXBbcl0uZGVmYXVsdCx2b2lkIDA9PT1hW3JdJiYoYVtyXT1pc09iamVjdE9yQXJyYXkobyk/dXRpbHMuY2xvbmUobyk6byl9Zm9yKGg9MDtoPHUubGVuZ3RoO2grKykobj11W2hdLmdldEF0dHJpYnV0ZSh0aGlzLmF0dHJOYW1lKSkmJihhPWV4dGVuZFByb3BlcnRpZXMoYSxuLHRoaXMuaXNPYmplY3RCYXNlZCkpO2lmKHMpe2lmKHRoaXMuaXNTaW5nbGVQcm9wZXJ0eSlyZXR1cm4gaXNPYmplY3QodCk/KGNvcHlEYXRhKHRoaXMucGFyc2luZ0F0dHJWYWx1ZSx0KSxwYXJzZVByb3BlcnR5KHRoaXMucGFyc2luZ0F0dHJWYWx1ZSxwKSk6cGFyc2VQcm9wZXJ0eSh0LHApO2E9ZXh0ZW5kUHJvcGVydGllcyhhLHQsdGhpcy5pc09iamVjdEJhc2VkKX1lbHNlIGlmKHRoaXMuaXNTaW5nbGVQcm9wZXJ0eSlyZXR1cm4gcGFyc2VQcm9wZXJ0eShhLHApO3JldHVybiBwYXJzZVByb3BlcnRpZXMoYSxwLHZvaWQgMCx0aGlzLm5hbWUsaSl9LGV2ZW50c0F0dGFjaDpmdW5jdGlvbigpe3ZhciB0O3RoaXMuZXZlbnRzRGV0YWNoKCk7Zm9yKHQgaW4gdGhpcy5ldmVudHMpdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKHQsdGhpcy5ldmVudHNbdF0pfSxldmVudHNEZXRhY2g6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodCBpbiB0aGlzLmV2ZW50cyl0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodCx0aGlzLmV2ZW50c1t0XSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9iamVjdFBvb2wucmVjeWNsZSh0aGlzLmF0dHJWYWx1ZSksdGhpcy5vYmplY3RQb29sLnJlY3ljbGUodGhpcy5vbGREYXRhKSx0aGlzLm9iamVjdFBvb2wucmVjeWNsZSh0aGlzLnBhcnNpbmdBdHRyVmFsdWUpLHRoaXMuYXR0clZhbHVlPXRoaXMub2xkRGF0YT10aGlzLnBhcnNpbmdBdHRyVmFsdWU9dm9pZCAwfX0sd2luZG93LmRlYnVnKXZhciByZWdpc3RyYXRpb25PcmRlcldhcm5pbmdzPW1vZHVsZS5leHBvcnRzLnJlZ2lzdHJhdGlvbk9yZGVyV2FybmluZ3M9e307bW9kdWxlLmV4cG9ydHMucmVnaXN0ZXJDb21wb25lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLGEsbyxyPXt9O2lmKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQhPT1hZnJhbWVTY3JpcHQmJnNjZW5lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaGFzTG9hZGVkfHxkb2N1bWVudC5jdXJyZW50U2NyaXB0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpIT09Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcmJih3YXJuKFwiVGhlIGNvbXBvbmVudCBgXCIrdCtcImAgd2FzIHJlZ2lzdGVyZWQgaW4gYSA8c2NyaXB0PiB0YWcgYWZ0ZXIgdGhlIHNjZW5lLiBDb21wb25lbnQgPHNjcmlwdD4gdGFncyBpbiBhbiBIVE1MIGZpbGUgc2hvdWxkIGJlIGRlY2xhcmVkICpiZWZvcmUqIHRoZSBzY2VuZSBzdWNoIHRoYXQgdGhlIGNvbXBvbmVudCBpcyBhdmFpbGFibGUgdG8gZW50aXRpZXMgZHVyaW5nIHNjZW5lIGluaXRpYWxpemF0aW9uLlwiKSx3aW5kb3cuZGVidWcmJihyZWdpc3RyYXRpb25PcmRlcldhcm5pbmdzW3RdPSEwKSl9KSwhMD09PXVwcGVyQ2FzZVJlZ0V4cC50ZXN0KHQpJiZ3YXJuKFwiVGhlIGNvbXBvbmVudCBuYW1lIGBcIit0K1wiYCBjb250YWlucyB1cHBlcmNhc2UgY2hhcmFjdGVycywgYnV0IEhUTUwgd2lsbCBpZ25vcmUgdGhlIGNhcGl0YWxpemF0aW9uIG9mIGF0dHJpYnV0ZSBuYW1lcy4gQ2hhbmdlIHRoZSBuYW1lIHRvIGJlIGxvd2VyY2FzZTogYFwiK3QudG9Mb3dlckNhc2UoKStcImBcIiksLTEhPT10LmluZGV4T2YoXCJfX1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29tcG9uZW50IG5hbWUgYFwiK3QrXCJgIGlzIG5vdCBhbGxvd2VkLiBUaGUgc2VxdWVuY2UgX18gKGRvdWJsZSB1bmRlcnNjb3JlKSBpcyByZXNlcnZlZCB0byBzcGVjaWZ5IGFuIGlkIGZvciBtdWx0aXBsZSBjb21wb25lbnRzIG9mIHRoZSBzYW1lIHR5cGVcIik7aWYoT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPXt2YWx1ZTplW3RdLHdyaXRhYmxlOiEwfX0pLGNvbXBvbmVudHNbdF0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbXBvbmVudCBgXCIrdCtcImAgaGFzIGJlZW4gYWxyZWFkeSByZWdpc3RlcmVkLiBDaGVjayB0aGF0IHlvdSBhcmUgbm90IGxvYWRpbmcgdHdvIHZlcnNpb25zIG9mIHRoZSBzYW1lIGNvbXBvbmVudCBvciB0d28gZGlmZmVyZW50IGNvbXBvbmVudHMgb2YgdGhlIHNhbWUgbmFtZS5cIik7aWYoaT1mdW5jdGlvbih0LGUsaSl7Q29tcG9uZW50LmNhbGwodGhpcyx0LGUsaSl9LGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSxyKSxpLnByb3RvdHlwZS5uYW1lPXQsaS5wcm90b3R5cGUuaXNQb3NpdGlvblJvdGF0aW9uU2NhbGU9XCJwb3NpdGlvblwiPT09dHx8XCJyb3RhdGlvblwiPT09dHx8XCJzY2FsZVwiPT09dCxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnN5c3RlbT1zeXN0ZW1zJiZzeXN0ZW1zLnN5c3RlbXNbdF0saS5wcm90b3R5cGUucGxheT13cmFwUGxheShpLnByb3RvdHlwZS5wbGF5KSxpLnByb3RvdHlwZS5wYXVzZT13cmFwUGF1c2UoaS5wcm90b3R5cGUucGF1c2UpLGE9dXRpbHMuZXh0ZW5kKHByb2Nlc3NTY2hlbWEoaS5wcm90b3R5cGUuc2NoZW1hLGkucHJvdG90eXBlLm5hbWUpKSwhKG89aXNTaW5nbGVQcm9wKGkucHJvdG90eXBlLnNjaGVtYSkpKXtpLnByb3RvdHlwZS5zY2hlbWFDaGFuZ2VLZXlzPVtdO2ZvcihzIGluIGEpYVtzXS5zY2hlbWFDaGFuZ2UmJmkucHJvdG90eXBlLnNjaGVtYUNoYW5nZUtleXMucHVzaChzKX1yZXR1cm4gb2JqZWN0UG9vbHNbdF09dXRpbHMub2JqZWN0UG9vbC5jcmVhdGVQb29sKCksY29tcG9uZW50c1t0XT17Q29tcG9uZW50OmksZGVwZW5kZW5jaWVzOmkucHJvdG90eXBlLmRlcGVuZGVuY2llcyxpc1NpbmdsZVByb3A6byxtdWx0aXBsZTppLnByb3RvdHlwZS5tdWx0aXBsZSxuYW1lOnQscGFyc2U6aS5wcm90b3R5cGUucGFyc2UscGFyc2VBdHRyVmFsdWVGb3JDYWNoZTppLnByb3RvdHlwZS5wYXJzZUF0dHJWYWx1ZUZvckNhY2hlLHNjaGVtYTphLHN0cmluZ2lmeTppLnByb3RvdHlwZS5zdHJpbmdpZnksdHlwZTppLnByb3RvdHlwZS50eXBlfSxpfTtcbn0se1wiLi4vdXRpbHMvXCI6MTgxLFwiLi9zY2VuZS9zY2VuZXNcIjoxMTUsXCIuL3NjaGVtYVwiOjExNyxcIi4vc3lzdGVtXCI6MTE5fV0sMTA5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBzY2hlbWE9X2RlcmVxXyhcIi4vc2NoZW1hXCIpLHByb2Nlc3NTY2hlbWE9c2NoZW1hLnByb2Nlc3MsZ2VvbWV0cmllcz1tb2R1bGUuZXhwb3J0cy5nZW9tZXRyaWVzPXt9LGdlb21ldHJ5TmFtZXM9bW9kdWxlLmV4cG9ydHMuZ2VvbWV0cnlOYW1lcz1bXSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLEdlb21ldHJ5PW1vZHVsZS5leHBvcnRzLkdlb21ldHJ5PWZ1bmN0aW9uKCl7fTtHZW9tZXRyeS5wcm90b3R5cGU9e3NjaGVtYTp7fSxpbml0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5HZW9tZXRyeSx0aGlzLmdlb21ldHJ5fSx1cGRhdGU6ZnVuY3Rpb24oZSl7fX0sbW9kdWxlLmV4cG9ydHMucmVnaXN0ZXJHZW9tZXRyeT1mdW5jdGlvbihlLHQpe3ZhciByLG89e307aWYoT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPXt2YWx1ZTp0W2VdLHdyaXRhYmxlOiEwfX0pLGdlb21ldHJpZXNbZV0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIGdlb21ldHJ5IGBcIitlK1wiYCBoYXMgYmVlbiBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7cmV0dXJuIHI9ZnVuY3Rpb24oKXtHZW9tZXRyeS5jYWxsKHRoaXMpfSxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEdlb21ldHJ5LnByb3RvdHlwZSxvKSxyLnByb3RvdHlwZS5uYW1lPWUsci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixnZW9tZXRyaWVzW2VdPXtHZW9tZXRyeTpyLHNjaGVtYTpwcm9jZXNzU2NoZW1hKHIucHJvdG90eXBlLnNjaGVtYSl9LGdlb21ldHJ5TmFtZXMucHVzaChlKSxyfTtcbn0se1wiLi4vbGliL3RocmVlXCI6MTU2LFwiLi9zY2hlbWFcIjoxMTd9XSwxMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gcmVnaXN0ZXJQcm9wZXJ0eVR5cGUoZSxyLHQsbil7aWYoXCJ0eXBlXCJpbiBwcm9wZXJ0eVR5cGVzKXJldHVybiB2b2lkIGVycm9yKFwiUHJvcGVydHkgdHlwZSBcIitlK1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7cHJvcGVydHlUeXBlc1tlXT17ZGVmYXVsdDpyLHBhcnNlOnR8fGRlZmF1bHRQYXJzZSxzdHJpbmdpZnk6bnx8ZGVmYXVsdFN0cmluZ2lmeX19ZnVuY3Rpb24gYXJyYXlQYXJzZShlKXtmdW5jdGlvbiByKGUpe3JldHVybiBlLnRyaW0oKX1yZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOmUmJlwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCIsXCIpLm1hcChyKTpbXX1mdW5jdGlvbiBhcnJheVN0cmluZ2lmeShlKXtyZXR1cm4gZS5qb2luKFwiLCBcIil9ZnVuY3Rpb24gYXNzZXRQYXJzZShlKXt2YXIgcix0O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlP2U6KHQ9ZS5tYXRjaCh1cmxSZWdleCksdD90WzFdOlwiI1wiPT09ZS5jaGFyQXQoMCk/KHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5zdWJzdHJpbmcoMSkpKT9cIkNBTlZBU1wiPT09ci50YWdOYW1lfHxcIlZJREVPXCI9PT1yLnRhZ05hbWV8fFwiSU1HXCI9PT1yLnRhZ05hbWU/cjpyLmdldEF0dHJpYnV0ZShcInNyY1wiKTp2b2lkIHdhcm4oJ1wiJytlKydcIiBhc3NldCBub3QgZm91bmQuJyk6ZSl9ZnVuY3Rpb24gZGVmYXVsdFBhcnNlKGUpe3JldHVybiBlfWZ1bmN0aW9uIGRlZmF1bHRTdHJpbmdpZnkoZSl7cmV0dXJuIG51bGw9PT1lP1wibnVsbFwiOmUudG9TdHJpbmcoKX1mdW5jdGlvbiBib29sUGFyc2UoZSl7cmV0dXJuXCJmYWxzZVwiIT09ZSYmITEhPT1lfWZ1bmN0aW9uIGludFBhcnNlKGUpe3JldHVybiBwYXJzZUludChlLDEwKX1mdW5jdGlvbiBudW1iZXJQYXJzZShlKXtyZXR1cm4gcGFyc2VGbG9hdChlLDEwKX1mdW5jdGlvbiBzZWxlY3RvclBhcnNlKGUpe3JldHVybiBlP1wic3RyaW5nXCIhPXR5cGVvZiBlP2U6XCIjXCIhPT1lWzBdfHxub25DaGFyUmVnZXgudGVzdChlKT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuc3Vic3RyaW5nKDEpKTpudWxsfWZ1bmN0aW9uIHNlbGVjdG9yQWxsUGFyc2UoZSl7cmV0dXJuIGU/XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUpLDApOm51bGx9ZnVuY3Rpb24gc2VsZWN0b3JTdHJpbmdpZnkoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlP1wiI1wiK2UuZ2V0QXR0cmlidXRlKFwiaWRcIik6ZGVmYXVsdFN0cmluZ2lmeShlKX1mdW5jdGlvbiBzZWxlY3RvckFsbFN0cmluZ2lmeShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P2UubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiI1wiK2UuZ2V0QXR0cmlidXRlKFwiaWRcIil9KS5qb2luKFwiLCBcIik6ZGVmYXVsdFN0cmluZ2lmeShlKX1mdW5jdGlvbiBzcmNQYXJzZShlKXtyZXR1cm4gd2FybihcImBzcmNgIHByb3BlcnR5IHR5cGUgaXMgZGVwcmVjYXRlZC4gVXNlIGBhc3NldGAgaW5zdGVhZC5cIiksYXNzZXRQYXJzZShlKX1mdW5jdGlvbiB2ZWNQYXJzZShlKXtyZXR1cm4gY29vcmRpbmF0ZXMucGFyc2UoZSx0aGlzLmRlZmF1bHQpfWZ1bmN0aW9uIGlzVmFsaWREZWZhdWx0VmFsdWUoZSxyKXtyZXR1cm4oXCJhdWRpb1wiIT09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHIpJiYoIShcImFycmF5XCI9PT1lJiYhQXJyYXkuaXNBcnJheShyKSkmJigoXCJhc3NldFwiIT09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHIpJiYoKFwiYm9vbGVhblwiIT09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiByKSYmKChcImNvbG9yXCIhPT1lfHxcInN0cmluZ1wiPT10eXBlb2YgcikmJigoXCJpbnRcIiE9PWV8fFwibnVtYmVyXCI9PXR5cGVvZiByKSYmKChcIm51bWJlclwiIT09ZXx8XCJudW1iZXJcIj09dHlwZW9mIHIpJiYoKFwibWFwXCIhPT1lfHxcInN0cmluZ1wiPT10eXBlb2YgcikmJigoXCJtb2RlbFwiIT09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHIpJiYoKFwic2VsZWN0b3JcIiE9PWV8fFwic3RyaW5nXCI9PXR5cGVvZiByfHxudWxsPT09cikmJigoXCJzZWxlY3RvckFsbFwiIT09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHJ8fG51bGw9PT1yKSYmKChcInNyY1wiIT09ZXx8XCJzdHJpbmdcIj09dHlwZW9mIHIpJiYoKFwic3RyaW5nXCIhPT1lfHxcInN0cmluZ1wiPT10eXBlb2YgcikmJigoXCJ0aW1lXCIhPT1lfHxcIm51bWJlclwiPT10eXBlb2YgcikmJihcInZlYzJcIj09PWU/aXNWYWxpZERlZmF1bHRDb29yZGluYXRlKHIsMik6XCJ2ZWMzXCI9PT1lP2lzVmFsaWREZWZhdWx0Q29vcmRpbmF0ZShyLDMpOlwidmVjNFwiIT09ZXx8aXNWYWxpZERlZmF1bHRDb29yZGluYXRlKHIsNCkpKSkpKSkpKSkpKSkpKX1mdW5jdGlvbiBpc1ZhbGlkRGVmYXVsdENvb3JkaW5hdGUoZSxyKXtpZihudWxsPT09ZSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4hMTtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1yKXJldHVybiExO3ZhciB0PWUueCxuPWUueSxpPWUueixvPWUudztyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIG4mJighKHI+MiYmXCJudW1iZXJcIiE9dHlwZW9mIGkpJiYhKHI+MyYmXCJudW1iZXJcIiE9dHlwZW9mIG8pKX12YXIgY29vcmRpbmF0ZXM9X2RlcmVxXyhcIi4uL3V0aWxzL2Nvb3JkaW5hdGVzXCIpLGRlYnVnPV9kZXJlcV8oXCJkZWJ1Z1wiKSxlcnJvcj1kZWJ1ZyhcImNvcmU6cHJvcGVydHlUeXBlczp3YXJuXCIpLHdhcm49ZGVidWcoXCJjb3JlOnByb3BlcnR5VHlwZXM6d2FyblwiKSxwcm9wZXJ0eVR5cGVzPW1vZHVsZS5leHBvcnRzLnByb3BlcnR5VHlwZXM9e30sbm9uQ2hhclJlZ2V4PS9bLD4gLltcXF06XS8sdXJsUmVnZXg9L1xcdXJsXFwoKC4rKVxcKS87cmVnaXN0ZXJQcm9wZXJ0eVR5cGUoXCJhdWRpb1wiLFwiXCIsYXNzZXRQYXJzZSkscmVnaXN0ZXJQcm9wZXJ0eVR5cGUoXCJhcnJheVwiLFtdLGFycmF5UGFyc2UsYXJyYXlTdHJpbmdpZnkpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwiYXNzZXRcIixcIlwiLGFzc2V0UGFyc2UpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwiYm9vbGVhblwiLCExLGJvb2xQYXJzZSkscmVnaXN0ZXJQcm9wZXJ0eVR5cGUoXCJjb2xvclwiLFwiI0ZGRlwiLGRlZmF1bHRQYXJzZSxkZWZhdWx0U3RyaW5naWZ5KSxyZWdpc3RlclByb3BlcnR5VHlwZShcImludFwiLDAsaW50UGFyc2UpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwibnVtYmVyXCIsMCxudW1iZXJQYXJzZSkscmVnaXN0ZXJQcm9wZXJ0eVR5cGUoXCJtYXBcIixcIlwiLGFzc2V0UGFyc2UpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwibW9kZWxcIixcIlwiLGFzc2V0UGFyc2UpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwic2VsZWN0b3JcIixudWxsLHNlbGVjdG9yUGFyc2Usc2VsZWN0b3JTdHJpbmdpZnkpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwic2VsZWN0b3JBbGxcIixudWxsLHNlbGVjdG9yQWxsUGFyc2Usc2VsZWN0b3JBbGxTdHJpbmdpZnkpLHJlZ2lzdGVyUHJvcGVydHlUeXBlKFwic3JjXCIsXCJcIixzcmNQYXJzZSkscmVnaXN0ZXJQcm9wZXJ0eVR5cGUoXCJzdHJpbmdcIixcIlwiLGRlZmF1bHRQYXJzZSxkZWZhdWx0U3RyaW5naWZ5KSxyZWdpc3RlclByb3BlcnR5VHlwZShcInRpbWVcIiwwLGludFBhcnNlKSxyZWdpc3RlclByb3BlcnR5VHlwZShcInZlYzJcIix7eDowLHk6MH0sdmVjUGFyc2UsY29vcmRpbmF0ZXMuc3RyaW5naWZ5KSxyZWdpc3RlclByb3BlcnR5VHlwZShcInZlYzNcIix7eDowLHk6MCx6OjB9LHZlY1BhcnNlLGNvb3JkaW5hdGVzLnN0cmluZ2lmeSkscmVnaXN0ZXJQcm9wZXJ0eVR5cGUoXCJ2ZWM0XCIse3g6MCx5OjAsejowLHc6MX0sdmVjUGFyc2UsY29vcmRpbmF0ZXMuc3RyaW5naWZ5KSxtb2R1bGUuZXhwb3J0cy5yZWdpc3RlclByb3BlcnR5VHlwZT1yZWdpc3RlclByb3BlcnR5VHlwZSxtb2R1bGUuZXhwb3J0cy5pc1ZhbGlkRGVmYXVsdFZhbHVlPWlzVmFsaWREZWZhdWx0VmFsdWUsbW9kdWxlLmV4cG9ydHMuaXNWYWxpZERlZmF1bHRDb29yZGluYXRlPWlzVmFsaWREZWZhdWx0Q29vcmRpbmF0ZTtcbn0se1wiLi4vdXRpbHMvY29vcmRpbmF0ZXNcIjoxNzYsXCJkZWJ1Z1wiOjEwfV0sMTExOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGdldENhbnZhc1NpemUoZSx0LGkscyl7cmV0dXJuIHQ/e2hlaWdodDplLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LHdpZHRoOmUucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aH06Z2V0TWF4U2l6ZShpLHMpfWZ1bmN0aW9uIGdldE1heFNpemUoZSx0KXt2YXIgaSxzLG49d2luZG93LmRldmljZVBpeGVsUmF0aW87cmV0dXJuIHM9e2hlaWdodDpkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCx3aWR0aDpkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRofSwhZXx8dHx8LTE9PT1lLndpZHRoJiYtMT09PWUuaGVpZ2h0P3M6cy53aWR0aCpuPGUud2lkdGgmJnMuaGVpZ2h0Km48ZS5oZWlnaHQ/czooaT1zLndpZHRoL3MuaGVpZ2h0LHMud2lkdGgqbj5lLndpZHRoJiYtMSE9PWUud2lkdGgmJihzLndpZHRoPU1hdGgucm91bmQoZS53aWR0aC9uKSxzLmhlaWdodD1NYXRoLnJvdW5kKGUud2lkdGgvaS9uKSkscy5oZWlnaHQqbj5lLmhlaWdodCYmLTEhPT1lLmhlaWdodCYmKHMuaGVpZ2h0PU1hdGgucm91bmQoZS5oZWlnaHQvbikscy53aWR0aD1NYXRoLnJvdW5kKGUuaGVpZ2h0KmkvbikpLHMpfWZ1bmN0aW9uIHJlcXVlc3RGdWxsc2NyZWVuKGUpeyhlLnJlcXVlc3RGdWxsc2NyZWVufHxlLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVufHxlLm1velJlcXVlc3RGdWxsU2NyZWVufHxlLm1zUmVxdWVzdEZ1bGxzY3JlZW4pLmFwcGx5KGUsW3tuYXZpZ2F0aW9uVUk6XCJoaWRlXCJ9XSl9ZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKXsoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCkmJihkb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOmRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuJiZkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpKX1mdW5jdGlvbiBzZXR1cENhbnZhcyhlKXtmdW5jdGlvbiB0KCl7ZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8ZS5leGl0VlIoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSxkb2N1bWVudC5ib2R5LmZvY3VzKCl9dmFyIGk7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGkuY2xhc3NMaXN0LmFkZChcImEtY2FudmFzXCIpLGkuZGF0YXNldC5hZnJhbWVDYW52YXM9ITAsZS5hcHBlbmRDaGlsZChpKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmNoYW5nZVwiLHQpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsdCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsdCksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSksZS5jYW52YXM9aSxlLmVtaXQoXCJyZW5kZXItdGFyZ2V0LWxvYWRlZFwiLHt0YXJnZXQ6aX0pLHNldFRpbWVvdXQoYmluZChlLnJlc2l6ZSxlKSwwKX12YXIgaW5pdE1ldGFUYWdzPV9kZXJlcV8oXCIuL21ldGFUYWdzXCIpLmluamVjdCxpbml0V2FrZWxvY2s9X2RlcmVxXyhcIi4vd2FrZWxvY2tcIiksbG9hZGluZ1NjcmVlbj1fZGVyZXFfKFwiLi9sb2FkaW5nU2NyZWVuXCIpLHJlPV9kZXJlcV8oXCIuLi9hLXJlZ2lzdGVyLWVsZW1lbnRcIiksc2NlbmVzPV9kZXJlcV8oXCIuL3NjZW5lc1wiKSxzeXN0ZW1zPV9kZXJlcV8oXCIuLi9zeXN0ZW1cIikuc3lzdGVtcyxUSFJFRT1fZGVyZXFfKFwiLi4vLi4vbGliL3RocmVlXCIpLHV0aWxzPV9kZXJlcV8oXCIuLi8uLi91dGlscy9cIiksQUVudGl0eT1fZGVyZXFfKFwiLi4vYS1lbnRpdHlcIiksQU5vZGU9X2RlcmVxXyhcIi4uL2Etbm9kZVwiKSxpbml0UG9zdE1lc3NhZ2VBUEk9X2RlcmVxXyhcIi4vcG9zdE1lc3NhZ2VcIiksYmluZD11dGlscy5iaW5kLGlzSU9TPXV0aWxzLmRldmljZS5pc0lPUygpLGlzTW9iaWxlPXV0aWxzLmRldmljZS5pc01vYmlsZSgpLGlzV2ViWFJBdmFpbGFibGU9dXRpbHMuZGV2aWNlLmlzV2ViWFJBdmFpbGFibGUscmVnaXN0ZXJFbGVtZW50PXJlLnJlZ2lzdGVyRWxlbWVudCx3YXJuPXV0aWxzLmRlYnVnKFwiY29yZTphLXNjZW5lOndhcm5cIik7bW9kdWxlLmV4cG9ydHMuQVNjZW5lPXJlZ2lzdGVyRWxlbWVudChcImEtc2NlbmVcIix7cHJvdG90eXBlOk9iamVjdC5jcmVhdGUoQUVudGl0eS5wcm90b3R5cGUse2NyZWF0ZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsb2NrPW5ldyBUSFJFRS5DbG9jayx0aGlzLmlzSU9TPWlzSU9TLHRoaXMuaXNNb2JpbGU9aXNNb2JpbGUsdGhpcy5oYXNXZWJYUj1pc1dlYlhSQXZhaWxhYmxlLHRoaXMuaXNBUj0hMSx0aGlzLmlzU2NlbmU9ITAsdGhpcy5vYmplY3QzRD1uZXcgVEhSRUUuU2NlbmU7dmFyIGU9dGhpczt0aGlzLm9iamVjdDNELm9uQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCxpLHMpe2UuaXNQbGF5aW5nJiZlLnRvY2soZS50aW1lLGUuZGVsdGEscyl9LHRoaXMucmVuZGVyPWJpbmQodGhpcy5yZW5kZXIsdGhpcyksdGhpcy5zeXN0ZW1zPXt9LHRoaXMuc3lzdGVtTmFtZXM9W10sdGhpcy50aW1lPXRoaXMuZGVsdGE9MCx0aGlzLmJlaGF2aW9ycz17dGljazpbXSx0b2NrOltdfSx0aGlzLmhhc0xvYWRlZD0hMSx0aGlzLmlzUGxheWluZz0hMSx0aGlzLm9yaWdpbmFsSFRNTD10aGlzLmlubmVySFRNTCx0aGlzLnNldEF0dHJpYnV0ZShcImluc3BlY3RvclwiLFwiXCIpLHRoaXMuc2V0QXR0cmlidXRlKFwia2V5Ym9hcmQtc2hvcnRjdXRzXCIsXCJcIiksdGhpcy5zZXRBdHRyaWJ1dGUoXCJzY3JlZW5zaG90XCIsXCJcIiksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ2ci1tb2RlLXVpXCIsXCJcIiksdGhpcy5zZXRBdHRyaWJ1dGUoXCJkZXZpY2Utb3JpZW50YXRpb24tcGVybWlzc2lvbi11aVwiLFwiXCIpfX0sYWRkRnVsbFNjcmVlblN0eWxlczp7dmFsdWU6ZnVuY3Rpb24oKXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImEtZnVsbHNjcmVlblwiKX19LHJlbW92ZUZ1bGxTY3JlZW5TdHlsZXM6e3ZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhLWZ1bGxzY3JlZW5cIil9fSxhdHRhY2hlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhhc0F0dHJpYnV0ZShcImVtYmVkZGVkXCIpO3NldHVwQ2FudmFzKHRoaXMpLHRoaXMuc2V0dXBSZW5kZXJlcigpLHRoaXMucmVzaXplKCksdHx8dGhpcy5hZGRGdWxsU2NyZWVuU3R5bGVzKCksaW5pdFBvc3RNZXNzYWdlQVBJKHRoaXMpLGluaXRNZXRhVGFncyh0aGlzKSxpbml0V2FrZWxvY2sodGhpcyksdGhpcy5vblZSUHJlc2VudENoYW5nZUJvdW5kPWJpbmQodGhpcy5vblZSUHJlc2VudENoYW5nZSx0aGlzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZyZGlzcGxheXByZXNlbnRjaGFuZ2VcIix0aGlzLm9uVlJQcmVzZW50Q2hhbmdlQm91bmQpLHRoaXMuZW50ZXJWUkJvdW5kPWZ1bmN0aW9uKCl7ZS5lbnRlclZSKCl9LHRoaXMuZXhpdFZSQm91bmQ9ZnVuY3Rpb24oKXtlLmV4aXRWUigpfSx0aGlzLmV4aXRWUlRydWVCb3VuZD1mdW5jdGlvbigpe2UuZXhpdFZSKCEwKX0sdGhpcy5wb2ludGVyUmVzdHJpY3RlZEJvdW5kPWZ1bmN0aW9uKCl7ZS5wb2ludGVyUmVzdHJpY3RlZCgpfSx0aGlzLnBvaW50ZXJVbnJlc3RyaWN0ZWRCb3VuZD1mdW5jdGlvbigpe2UucG9pbnRlclVucmVzdHJpY3RlZCgpfSxpc1dlYlhSQXZhaWxhYmxlfHwod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ2cmRpc3BsYXlkZWFjdGl2YXRlXCIsdGhpcy5leGl0VlJCb3VuZCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ2cmRpc3BsYXlkaXNjb25uZWN0XCIsdGhpcy5leGl0VlJUcnVlQm91bmQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5cG9pbnRlcnJlc3RyaWN0ZWRcIix0aGlzLnBvaW50ZXJSZXN0cmljdGVkQm91bmQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5cG9pbnRlcnVucmVzdHJpY3RlZFwiLHRoaXMucG9pbnRlclVucmVzdHJpY3RlZEJvdW5kKSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2FtZXJhcmVhZHlcIixmdW5jdGlvbigpe2UuYXR0YWNoZWRDYWxsYmFja1Bvc3RDYW1lcmEoKX0pLHRoaXMuaW5pdFN5c3RlbXMoKX19LGF0dGFjaGVkQ2FsbGJhY2tQb3N0Q2FtZXJhOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcztlPWJpbmQodGhpcy5yZXNpemUsdGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe3QuaXNJT1M/c2V0VGltZW91dChlLDEwMCk6ZSgpfSksdGhpcy5wbGF5KCksc2NlbmVzLnB1c2godGhpcyl9LHdyaXRhYmxlOndpbmRvdy5kZWJ1Z30saW5pdFN5c3RlbXM6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5pbml0U3lzdGVtKFwiY2FtZXJhXCIpO2ZvcihlIGluIHN5c3RlbXMpXCJjYW1lcmFcIiE9PWUmJnRoaXMuaW5pdFN5c3RlbShlKX19LGluaXRTeXN0ZW06e3ZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc3lzdGVtc1tlXXx8KHRoaXMuc3lzdGVtc1tlXT1uZXcgc3lzdGVtc1tlXSh0aGlzKSx0aGlzLnN5c3RlbU5hbWVzLnB1c2goZSkpfX0sZGV0YWNoZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1zY2VuZXMuaW5kZXhPZih0aGlzKTtzY2VuZXMuc3BsaWNlKGUsMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2cmRpc3BsYXlwcmVzZW50Y2hhbmdlXCIsdGhpcy5vblZSUHJlc2VudENoYW5nZUJvdW5kKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZyZGlzcGxheWFjdGl2YXRlXCIsdGhpcy5lbnRlclZSQm91bmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5ZGVhY3RpdmF0ZVwiLHRoaXMuZXhpdFZSQm91bmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidnJkaXNwbGF5Y29ubmVjdFwiLHRoaXMuZW50ZXJWUkJvdW5kKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZyZGlzcGxheWRpc2Nvbm5lY3RcIix0aGlzLmV4aXRWUlRydWVCb3VuZCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2cmRpc3BsYXlwb2ludGVycmVzdHJpY3RlZFwiLHRoaXMucG9pbnRlclJlc3RyaWN0ZWRCb3VuZCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2cmRpc3BsYXlwb2ludGVydW5yZXN0cmljdGVkXCIsdGhpcy5wb2ludGVyVW5yZXN0cmljdGVkQm91bmQpfX0sYWRkQmVoYXZpb3I6e3ZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LGkscz10aGlzLmJlaGF2aW9ycztmb3IoaSBpbiBzKWVbaV0mJih0PXRoaXMuYmVoYXZpb3JzW2ldLC0xPT09dC5pbmRleE9mKGUpJiZ0LnB1c2goZSkpfX0sZ2V0UG9pbnRlckxvY2tFbGVtZW50Ont2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnR9LHdyaXRhYmxlOndpbmRvdy5kZWJ1Z30sY2hlY2tIZWFkc2V0Q29ubmVjdGVkOnt2YWx1ZTp1dGlscy5kZXZpY2UuY2hlY2tIZWFkc2V0Q29ubmVjdGVkLHdyaXRhYmxlOndpbmRvdy5kZWJ1Z30sZW50ZXJBUjp7dmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNXZWJYUil0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZW50ZXIgQVIgbW9kZSwgV2ViWFIgbm90IHN1cHBvcnRlZC5cIik7dGhpcy5lbnRlclZSKCEwKX19LGVudGVyVlI6e3ZhbHVlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZTt3aW5kb3cuaGFzTmF0aXZlV2ViVlJJbXBsZW1lbnRhdGlvbiYmIXdpbmRvdy5oYXNOYXRpdmVXZWJYUkltcGxlbWVudGF0aW9uJiYoZT1uZXcgQ3VzdG9tRXZlbnQoXCJ2cmRpc3BsYXlwcmVzZW50Y2hhbmdlXCIse2RldGFpbDp7ZGlzcGxheTp1dGlscy5kZXZpY2UuZ2V0VlJEaXNwbGF5KCl9fSksd2luZG93LmRpc3BhdGNoRXZlbnQoZSkpLG4uYWRkU3RhdGUoXCJ2ci1tb2RlXCIpLG4uZW1pdChcImVudGVyLXZyXCIse3RhcmdldDpufSksIWlzV2ViWFJBdmFpbGFibGUmJm4uaXNNb2JpbGUmJnNjcmVlbi5vcmllbnRhdGlvbiYmc2NyZWVuLm9yaWVudGF0aW9uLmxvY2smJnNjcmVlbi5vcmllbnRhdGlvbi5sb2NrKFwibGFuZHNjYXBlXCIpLG4uYWRkRnVsbFNjcmVlblN0eWxlcygpLG4uaXNNb2JpbGV8fG4uY2hlY2tIZWFkc2V0Q29ubmVjdGVkKCl8fHJlcXVlc3RGdWxsc2NyZWVuKG4uY2FudmFzKSxuLnJlbmRlcmVyLnNldEFuaW1hdGlvbkxvb3Aobi5yZW5kZXIpLG4ucmVzaXplKCl9ZnVuY3Rpb24gaShlKXt0aHJvdyBlJiZlLm1lc3NhZ2U/bmV3IEVycm9yKFwiRmFpbGVkIHRvIGVudGVyIFZSIG1vZGUgKGByZXF1ZXN0UHJlc2VudGApOiBcIitlLm1lc3NhZ2UpOm5ldyBFcnJvcihcIkZhaWxlZCB0byBlbnRlciBWUiBtb2RlIChgcmVxdWVzdFByZXNlbnRgKS5cIil9dmFyIHMsbj10aGlzLHI9bi5yZW5kZXJlci54cjtpZih0aGlzLmlzKFwidnItbW9kZVwiKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiQWxyZWFkeSBpbiBWUi5cIik7aWYodGhpcy5jaGVja0hlYWRzZXRDb25uZWN0ZWQoKXx8dGhpcy5pc01vYmlsZSl7aWYoci5lbmFibGVkPSEwLCF0aGlzLmhhc1dlYlhSKXtpZihzPXV0aWxzLmRldmljZS5nZXRWUkRpc3BsYXkoKSxyLnNldERldmljZShzKSxzLmlzUHJlc2VudGluZyYmIXdpbmRvdy5oYXNOYXRpdmVXZWJWUkltcGxlbWVudGF0aW9uKXJldHVybiB0KCksUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGUoXCJyZW5kZXJlclwiKSxvPXtoaWdoUmVmcmVzaFJhdGU6YS5oaWdoUmVmcmVzaFJhdGUsZm92ZWF0aW9uTGV2ZWw6YS5mb3ZlYXRpb25MZXZlbH07cmV0dXJuIHMucmVxdWVzdFByZXNlbnQoW3tzb3VyY2U6dGhpcy5jYW52YXMsYXR0cmlidXRlczpvfV0pLnRoZW4odCxpKX1yZXR1cm4gdGhpcy54clNlc3Npb24mJnRoaXMueHJTZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRcIix0aGlzLmV4aXRWUkJvdW5kKSxuYXZpZ2F0b3IueHIucmVxdWVzdFNlc3Npb24oZT9cImltbWVyc2l2ZS1hclwiOlwiaW1tZXJzaXZlLXZyXCIse3JlcXVpcmVkRmVhdHVyZXM6W1wibG9jYWwtZmxvb3JcIl0sb3B0aW9uYWxGZWF0dXJlczpbXCJib3VuZGVkLWZsb29yXCJdfSkudGhlbihmdW5jdGlvbihpKXtuLnhyU2Vzc2lvbj1pLHIuc2V0U2Vzc2lvbihpKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRcIixuLmV4aXRWUkJvdW5kKSxlJiZuLmFkZFN0YXRlKFwiYXItbW9kZVwiKSx0KCl9KSxQcm9taXNlLnJlc29sdmUoKX1yZXR1cm4gdCgpLFByb21pc2UucmVzb2x2ZSgpfSx3cml0YWJsZTohMH0sZXhpdFZSOnt2YWx1ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtzLnJlbW92ZVN0YXRlKFwidnItbW9kZVwiKSxzLnJlbW92ZVN0YXRlKFwiYXItbW9kZVwiKSxzLmlzTW9iaWxlJiZzY3JlZW4ub3JpZW50YXRpb24mJnNjcmVlbi5vcmllbnRhdGlvbi51bmxvY2smJnNjcmVlbi5vcmllbnRhdGlvbi51bmxvY2soKSxzLmhhc0F0dHJpYnV0ZShcImVtYmVkZGVkXCIpJiZzLnJlbW92ZUZ1bGxTY3JlZW5TdHlsZXMoKSxzLnJlc2l6ZSgpLHMuaXNJT1MmJnV0aWxzLmZvcmNlQ2FudmFzUmVzaXplU2FmYXJpTW9iaWxlKHMuY2FudmFzKSxzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pLHMuZW1pdChcImV4aXQtdnJcIix7dGFyZ2V0OnN9KX1mdW5jdGlvbiB0KGUpe3Rocm93IGUmJmUubWVzc2FnZT9uZXcgRXJyb3IoXCJGYWlsZWQgdG8gZXhpdCBWUiBtb2RlIChgZXhpdFByZXNlbnRgKTogXCIrZS5tZXNzYWdlKTpuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZXhpdCBWUiBtb2RlIChgZXhpdFByZXNlbnRgKS5cIil9dmFyIGkscz10aGlzLG49dGhpcy5yZW5kZXJlci54cjtpZighdGhpcy5pcyhcInZyLW1vZGVcIikpcmV0dXJuIFByb21pc2UucmVzb2x2ZShcIk5vdCBpbiBWUi5cIik7aWYodGhpcy5jaGVja0hlYWRzZXRDb25uZWN0ZWQoKXx8dGhpcy5pc01vYmlsZSl7aWYobi5lbmFibGVkPSExLGk9dXRpbHMuZGV2aWNlLmdldFZSRGlzcGxheSgpLHRoaXMuaGFzV2ViWFIpdGhpcy54clNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZFwiLHRoaXMuZXhpdFZSQm91bmQpLHRoaXMueHJTZXNzaW9uLmVuZCgpLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7fSksdGhpcy54clNlc3Npb249dm9pZCAwLG4uc2V0U2Vzc2lvbihudWxsKTtlbHNlIGlmKGkuaXNQcmVzZW50aW5nKXJldHVybiBpLmV4aXRQcmVzZW50KCkudGhlbihlLHQpfWVsc2UgZXhpdEZ1bGxzY3JlZW4oKTtyZXR1cm4gZSgpLFByb21pc2UucmVzb2x2ZSgpfSx3cml0YWJsZTohMH0scG9pbnRlclJlc3RyaWN0ZWQ6e3ZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jYW52YXMpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlckxvY2tFbGVtZW50KCk7ZSYmZSE9PXRoaXMuY2FudmFzJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2smJmRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpLHRoaXMuY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayYmdGhpcy5jYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCl9fX0scG9pbnRlclVucmVzdHJpY3RlZDp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFBvaW50ZXJMb2NrRWxlbWVudCgpO2UmJmU9PT10aGlzLmNhbnZhcyYmZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX19LG9uVlJQcmVzZW50Q2hhbmdlOnt2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRpc3BsYXl8fGUuZGV0YWlsLmRpc3BsYXk7aWYodCYmdC5pc1ByZXNlbnRpbmcpcmV0dXJuIHZvaWQgdGhpcy5lbnRlclZSKCk7dGhpcy5leGl0VlIoKX19LGdldEF0dHJpYnV0ZTp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zeXN0ZW1zW2VdO3JldHVybiB0P3QuZGF0YTpBRW50aXR5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGUpfX0sZ2V0Q29tcHV0ZWRBdHRyaWJ1dGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3dhcm4oXCJgZ2V0Q29tcHV0ZWRBdHRyaWJ1dGVgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgZ2V0QXR0cmlidXRlYCBpbnN0ZWFkLlwiKSx0aGlzLmdldEF0dHJpYnV0ZShlKX19LGdldERPTUF0dHJpYnV0ZTp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zeXN0ZW1zW2VdO3JldHVybiB0P3QuZGF0YTpBRW50aXR5LnByb3RvdHlwZS5nZXRET01BdHRyaWJ1dGUuY2FsbCh0aGlzLGUpfX0sc2V0QXR0cmlidXRlOnt2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIHM9dGhpcy5zeXN0ZW1zW2VdO2lmKHMpcmV0dXJuIEFOb2RlLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLGUsdCksdm9pZCBzLnVwZGF0ZVByb3BlcnRpZXModCk7QUVudGl0eS5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxlLHQsaSl9fSxyZW1vdmVCZWhhdmlvcjp7dmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLG49dGhpcy5iZWhhdmlvcnM7Zm9yKGkgaW4gbillW2ldJiYodD10aGlzLmJlaGF2aW9yc1tpXSwtMSE9PShzPXQuaW5kZXhPZihlKSkmJnQuc3BsaWNlKHMsMSkpfX0scmVzaXplOnt2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQsaSxzPXRoaXMuY2FtZXJhLG49dGhpcy5jYW52YXMscj10aGlzLnJlbmRlcmVyLnhyLmlzUHJlc2VudGluZygpO3Q9dGhpcy5yZW5kZXJlci54ci5lbmFibGVkJiZyLCFzfHwhbnx8dGhpcy5pcyhcInZyLW1vZGVcIikmJih0aGlzLmlzTW9iaWxlfHx0KXx8KGU9dGhpcy5nZXRBdHRyaWJ1dGUoXCJlbWJlZGRlZFwiKSYmIXRoaXMuaXMoXCJ2ci1tb2RlXCIpLGk9Z2V0Q2FudmFzU2l6ZShuLGUsdGhpcy5tYXhDYW52YXNTaXplLHRoaXMuaXMoXCJ2ci1tb2RlXCIpKSxzLmFzcGVjdD1pLndpZHRoL2kuaGVpZ2h0LHMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpLHRoaXMucmVuZGVyZXIuc2V0U2l6ZShpLndpZHRoLGkuaGVpZ2h0LCExKSx0aGlzLmVtaXQoXCJyZW5kZXJlcnJlc2l6ZVwiLG51bGwsITEpKX0sd3JpdGFibGU6ITB9LHNldHVwUmVuZGVyZXI6e3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxpLHMsbj10aGlzO3M9e2FscGhhOiEwLGFudGlhbGlhczohaXNNb2JpbGUsY2FudmFzOnRoaXMuY2FudmFzLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6ITF9LHRoaXMubWF4Q2FudmFzU2l6ZT17aGVpZ2h0OjE5MjAsd2lkdGg6MTkyMH0sdGhpcy5oYXNBdHRyaWJ1dGUoXCJyZW5kZXJlclwiKSYmKGk9dGhpcy5nZXRBdHRyaWJ1dGUoXCJyZW5kZXJlclwiKSx0PXV0aWxzLnN0eWxlUGFyc2VyLnBhcnNlKGkpLHQucHJlY2lzaW9uJiYocy5wcmVjaXNpb249dC5wcmVjaXNpb24rXCJwXCIpLHQuYW50aWFsaWFzJiZcImF1dG9cIiE9PXQuYW50aWFsaWFzJiYocy5hbnRpYWxpYXM9XCJ0cnVlXCI9PT10LmFudGlhbGlhcyksdC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZcImF1dG9cIiE9PXQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmKHMubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj1cInRydWVcIj09PXQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciksdC5hbHBoYSYmKHMuYWxwaGE9XCJ0cnVlXCI9PT10LmFscGhhKSx0aGlzLm1heENhbnZhc1NpemU9e3dpZHRoOnQubWF4Q2FudmFzV2lkdGg/cGFyc2VJbnQodC5tYXhDYW52YXNXaWR0aCk6dGhpcy5tYXhDYW52YXNTaXplLndpZHRoLGhlaWdodDp0Lm1heENhbnZhc0hlaWdodD9wYXJzZUludCh0Lm1heENhbnZhc0hlaWdodCk6dGhpcy5tYXhDYW52YXNTaXplLmhlaWdodH0pLGU9dGhpcy5yZW5kZXJlcj1uZXcgVEhSRUUuV2ViR0xSZW5kZXJlcihzKSxlLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pLGUuc29ydE9iamVjdHM9ITEsdGhpcy5jYW1lcmEmJmUueHIuc2V0UG9zZVRhcmdldCh0aGlzLmNhbWVyYS5lbC5vYmplY3QzRCksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2FtZXJhLXNldC1hY3RpdmVcIixmdW5jdGlvbigpe2UueHIuc2V0UG9zZVRhcmdldChuLmNhbWVyYS5lbC5vYmplY3QzRCl9KSxsb2FkaW5nU2NyZWVuLnNldHVwKHRoaXMsZ2V0Q2FudmFzU2l6ZSl9LHdyaXRhYmxlOndpbmRvdy5kZWJ1Z30scGxheTp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcztpZih0aGlzLnJlbmRlclN0YXJ0ZWQpcmV0dXJuIHZvaWQgQUVudGl0eS5wcm90b3R5cGUucGxheS5jYWxsKHRoaXMpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLnJlbmRlcmVyLHM9dGhpcy5yZW5kZXJlci54cjtBRW50aXR5LnByb3RvdHlwZS5wbGF5LmNhbGwodGhpcyksdC5yZW5kZXJTdGFydGVkfHwodC5yZXNpemUoKSx0LnJlbmRlcmVyJiYod2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2UubWFyayhcInJlbmRlci1zdGFydGVkXCIpLGxvYWRpbmdTY3JlZW4ucmVtb3ZlKCksZT11dGlscy5kZXZpY2UuZ2V0VlJEaXNwbGF5KCksZSYmZS5pc1ByZXNlbnRpbmcmJihzLnNldERldmljZShlKSxzLmVuYWJsZWQ9ITAsdC5lbnRlclZSKCkpLGkuc2V0QW5pbWF0aW9uTG9vcCh0aGlzLnJlbmRlciksdC5yZW5kZXJTdGFydGVkPSEwLHQuZW1pdChcInJlbmRlcnN0YXJ0XCIpKSl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7QUVudGl0eS5wcm90b3R5cGUubG9hZC5jYWxsKGUpfSl9fSx1cGRhdGVDb21wb25lbnQ6e3ZhbHVlOmZ1bmN0aW9uKGUpe2UgaW4gc3lzdGVtc3x8QUVudGl0eS5wcm90b3R5cGUudXBkYXRlQ29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHRpY2s6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGkscz10aGlzLnN5c3RlbXM7Zm9yKGk9MDtpPHRoaXMuYmVoYXZpb3JzLnRpY2subGVuZ3RoO2krKyl0aGlzLmJlaGF2aW9ycy50aWNrW2ldLmVsLmlzUGxheWluZyYmdGhpcy5iZWhhdmlvcnMudGlja1tpXS50aWNrKGUsdCk7Zm9yKGk9MDtpPHRoaXMuc3lzdGVtTmFtZXMubGVuZ3RoO2krKylzW3RoaXMuc3lzdGVtTmFtZXNbaV1dLnRpY2smJnNbdGhpcy5zeXN0ZW1OYW1lc1tpXV0udGljayhlLHQpfX0sdG9jazp7dmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBzLG49dGhpcy5zeXN0ZW1zO2ZvcihzPTA7czx0aGlzLmJlaGF2aW9ycy50b2NrLmxlbmd0aDtzKyspdGhpcy5iZWhhdmlvcnMudG9ja1tzXS5lbC5pc1BsYXlpbmcmJnRoaXMuYmVoYXZpb3JzLnRvY2tbc10udG9jayhlLHQsaSk7Zm9yKHM9MDtzPHRoaXMuc3lzdGVtTmFtZXMubGVuZ3RoO3MrKyluW3RoaXMuc3lzdGVtTmFtZXNbc11dLnRvY2smJm5bdGhpcy5zeXN0ZW1OYW1lc1tzXV0udG9jayhlLHQsaSl9fSxyZW5kZXI6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5yZW5kZXJlcjt0aGlzLmZyYW1lPXQsdGhpcy5kZWx0YT0xZTMqdGhpcy5jbG9jay5nZXREZWx0YSgpLHRoaXMudGltZT0xZTMqdGhpcy5jbG9jay5lbGFwc2VkVGltZSx0aGlzLmlzUGxheWluZyYmdGhpcy50aWNrKHRoaXMudGltZSx0aGlzLmRlbHRhKTt2YXIgcz1udWxsO3RoaXMuaXMoXCJhci1tb2RlXCIpJiYocz10aGlzLm9iamVjdDNELmJhY2tncm91bmQsdGhpcy5vYmplY3QzRC5iYWNrZ3JvdW5kPW51bGwpLGkucmVuZGVyKHRoaXMub2JqZWN0M0QsdGhpcy5jYW1lcmEpLHMmJih0aGlzLm9iamVjdDNELmJhY2tncm91bmQ9cyl9LHdyaXRhYmxlOiEwfX0pfSksbW9kdWxlLmV4cG9ydHMuc2V0dXBDYW52YXM9c2V0dXBDYW52YXM7XG59LHtcIi4uLy4uL2xpYi90aHJlZVwiOjE1NixcIi4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2EtZW50aXR5XCI6MTA0LFwiLi4vYS1ub2RlXCI6MTA2LFwiLi4vYS1yZWdpc3Rlci1lbGVtZW50XCI6MTA3LFwiLi4vc3lzdGVtXCI6MTE5LFwiLi9sb2FkaW5nU2NyZWVuXCI6MTEyLFwiLi9tZXRhVGFnc1wiOjExMyxcIi4vcG9zdE1lc3NhZ2VcIjoxMTQsXCIuL3NjZW5lc1wiOjExNSxcIi4vd2FrZWxvY2tcIjoxMTZ9XSwxMTI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gcmVzaXplKGUpe3ZhciB0PXNjZW5lRWwuaGFzQXR0cmlidXRlKFwiZW1iZWRkZWRcIiksaT1nZXRTY2VuZUNhbnZhc1NpemUoc2NlbmVFbC5jYW52YXMsdCxzY2VuZUVsLm1heENhbnZhc1NpemUsc2NlbmVFbC5pcyhcInZyLW1vZGVcIikpO2UuYXNwZWN0PWkud2lkdGgvaS5oZWlnaHQsZS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCksc2NlbmVFbC5yZW5kZXJlci5zZXRTaXplKGkud2lkdGgsaS5oZWlnaHQsITEpfWZ1bmN0aW9uIHNldHVwVGl0bGUoKXt0aXRsZUVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGl0bGVFbC5jbGFzc05hbWU9TE9BREVSX1RJVExFX0NMQVNTLHRpdGxlRWwuaW5uZXJIVE1MPWRvY3VtZW50LnRpdGxlLHRpdGxlRWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixzY2VuZUVsLmFwcGVuZENoaWxkKHRpdGxlRWwpfXZhciB1dGlscz1fZGVyZXFfKFwiLi4vLi4vdXRpbHMvXCIpLHN0eWxlUGFyc2VyPXV0aWxzLnN0eWxlUGFyc2VyLHNjZW5lRWwsdGl0bGVFbCxnZXRTY2VuZUNhbnZhc1NpemUsQVRUUl9OQU1FPVwibG9hZGluZy1zY3JlZW5cIixMT0FERVJfVElUTEVfQ0xBU1M9XCJhLWxvYWRlci10aXRsZVwiO21vZHVsZS5leHBvcnRzLnNldHVwPWZ1bmN0aW9uKGUsdCl7c2NlbmVFbD1lLGdldFNjZW5lQ2FudmFzU2l6ZT10O3ZhciBpLG4scyxsLHIsbyxhLGQsRSxjLHU9c2NlbmVFbC5oYXNBdHRyaWJ1dGUoQVRUUl9OQU1FKT9zdHlsZVBhcnNlci5wYXJzZShzY2VuZUVsLmdldEF0dHJpYnV0ZShBVFRSX05BTUUpKTp2b2lkIDAsVD11JiZ1LmRvdHNDb2xvcnx8XCJ3aGl0ZVwiLHY9dSYmdS5iYWNrZ3JvdW5kQ29sb3J8fFwiIzI0Q0FGRlwiLHA9dm9pZCAwPT09dXx8XCJ0cnVlXCI9PT11LmVuYWJsZWR8fHZvaWQgMD09PXUuZW5hYmxlZDtwJiYoaT1uZXcgVEhSRUUuU2NlbmUsbj1uZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoLjIsMzYsMTgsMCwyKk1hdGguUEksMCxNYXRoLlBJKSxzPW5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6VH0pLGw9bmV3IFRIUkVFLk1lc2gobixzKSxyPWwuY2xvbmUoKSxvPWwuY2xvbmUoKSxhPW5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg4MCx3aW5kb3cuaW5uZXJXaWR0aC93aW5kb3cuaW5uZXJIZWlnaHQsNWUtNCwxZTQpLGQ9bmV3IFRIUkVFLkNsb2NrLEU9MCxjPWZ1bmN0aW9uKCl7c2NlbmVFbC5yZW5kZXJlci5yZW5kZXIoaSxhKSxFPWQuZ2V0RWxhcHNlZFRpbWUoKSU0LGwudmlzaWJsZT1FPj0xLHIudmlzaWJsZT1FPj0yLG8udmlzaWJsZT1FPj0zfSxpLmJhY2tncm91bmQ9bmV3IFRIUkVFLkNvbG9yKHYpLGkuYWRkKGEpLGwucG9zaXRpb24uc2V0KC0xLDAsLTE1KSxyLnBvc2l0aW9uLnNldCgwLDAsLTE1KSxvLnBvc2l0aW9uLnNldCgxLDAsLTE1KSxhLmFkZChsKSxhLmFkZChyKSxhLmFkZChvKSxzZXR1cFRpdGxlKCksc2V0VGltZW91dChmdW5jdGlvbigpe3NjZW5lRWwuaGFzTG9hZGVkfHwocmVzaXplKGEpLHRpdGxlRWwuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe3Jlc2l6ZShhKX0pLHNjZW5lRWwucmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcChjKSl9LDIwMCkpfSxtb2R1bGUuZXhwb3J0cy5yZW1vdmU9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHJlc2l6ZSksdGl0bGVFbCYmKHRpdGxlRWwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9O1xufSx7XCIuLi8uLi91dGlscy9cIjoxODF9XSwxMTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gTWV0YShlKXtyZXR1cm57dGFnTmFtZTpcIm1ldGFcIixhdHRyaWJ1dGVzOmUsZXhpc3RzOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cIicrZS5uYW1lKydcIl0nKX19fWZ1bmN0aW9uIExpbmsoZSl7cmV0dXJue3RhZ05hbWU6XCJsaW5rXCIsYXR0cmlidXRlczplLGV4aXN0czpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD1cIicrZS5yZWwrJ1wiXScpfX19ZnVuY3Rpb24gY3JlYXRlVGFnKGUpe2lmKGUmJmUudGFnTmFtZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlLnRhZ05hbWUpO3JldHVybiB0LnNldEF0dHJpYnV0ZShjb25zdGFudHMuQUZSQU1FX0lOSkVDVEVELFwiXCIpLGV4dGVuZCh0LGUuYXR0cmlidXRlcyl9fXZhciBjb25zdGFudHM9X2RlcmVxXyhcIi4uLy4uL2NvbnN0YW50cy9cIiksZXh0ZW5kPV9kZXJlcV8oXCIuLi8uLi91dGlsc1wiKS5leHRlbmQsTU9CSUxFX0hFQURfVEFHUz1tb2R1bGUuZXhwb3J0cy5NT0JJTEVfSEVBRF9UQUdTPVtNZXRhKHtuYW1lOlwidmlld3BvcnRcIixjb250ZW50Olwid2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSxtYXhpbXVtLXNjYWxlPTEsc2hyaW5rLXRvLWZpdD1ubyx1c2VyLXNjYWxhYmxlPW5vLG1pbmltYWwtdWksdmlld3BvcnQtZml0PWNvdmVyXCJ9KSxNZXRhKHtuYW1lOlwibW9iaWxlLXdlYi1hcHAtY2FwYWJsZVwiLGNvbnRlbnQ6XCJ5ZXNcIn0pLE1ldGEoe25hbWU6XCJ0aGVtZS1jb2xvclwiLGNvbnRlbnQ6XCJibGFja1wifSldLE1PQklMRV9JT1NfSEVBRF9UQUdTPVtNZXRhKHtuYW1lOlwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZVwiLGNvbnRlbnQ6XCJ5ZXNcIn0pLE1ldGEoe25hbWU6XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlXCIsY29udGVudDpcImJsYWNrXCJ9KSxMaW5rKHtyZWw6XCJhcHBsZS10b3VjaC1pY29uXCIsaHJlZjpcImh0dHBzOi8vYWZyYW1lLmlvL2ltYWdlcy9hZnJhbWUtbG9nby0xNTIucG5nXCJ9KV07bW9kdWxlLmV4cG9ydHMuaW5qZWN0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7ZSYmIWUuZXhpc3RzKCkmJihhPWNyZWF0ZVRhZyhlKSkmJihyP3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxyKTpuLmFwcGVuZENoaWxkKGEpLGkucHVzaChhKSl9dmFyIGEsbj1kb2N1bWVudC5oZWFkLHI9bi5xdWVyeVNlbGVjdG9yKFwic2NyaXB0XCIpLGk9W107cmV0dXJuIE1PQklMRV9IRUFEX1RBR1MuZm9yRWFjaCh0KSxlLmlzSU9TJiZNT0JJTEVfSU9TX0hFQURfVEFHUy5mb3JFYWNoKHQpLGl9O1xufSx7XCIuLi8uLi9jb25zdGFudHMvXCI6MTAwLFwiLi4vLi4vdXRpbHNcIjoxODF9XSwxMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gcG9zdE1lc3NhZ2VBUElIYW5kbGVyKGUpe3ZhciBhPXRoaXM7aWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZVwidnJcIjpzd2l0Y2goZS5kYXRhLmRhdGEpe2Nhc2VcImVudGVyXCI6YS5lbnRlclZSKCk7YnJlYWs7Y2FzZVwiZXhpdFwiOmEuZXhpdFZSKCl9fX12YXIgYmluZD1fZGVyZXFfKFwiLi4vLi4vdXRpbHMvYmluZFwiKSxpc0lmcmFtZWQ9X2RlcmVxXyhcIi4uLy4uL3V0aWxzL1wiKS5pc0lmcmFtZWQ7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aXNJZnJhbWVkKCkmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGJpbmQocG9zdE1lc3NhZ2VBUElIYW5kbGVyLGUpKX07XG59LHtcIi4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uLy4uL3V0aWxzL2JpbmRcIjoxNzV9XSwxMTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHM9W107XG59LHt9XSwxMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIFdha2Vsb2NrPV9kZXJlcV8oXCIuLi8uLi8uLi92ZW5kb3Ivd2FrZWxvY2svd2FrZWxvY2tcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoZS5pc01vYmlsZSl7dmFyIG49ZS53YWtlbG9jaz1uZXcgV2FrZWxvY2s7ZS5hZGRFdmVudExpc3RlbmVyKFwiZW50ZXItdnJcIixmdW5jdGlvbigpe24ucmVxdWVzdCgpfSksZS5hZGRFdmVudExpc3RlbmVyKFwiZXhpdC12clwiLGZ1bmN0aW9uKCl7bi5yZWxlYXNlKCl9KX19O1xufSx7XCIuLi8uLi8uLi92ZW5kb3Ivd2FrZWxvY2svd2FrZWxvY2tcIjoxOTV9XSwxMTc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNTaW5nbGVQcm9wZXJ0eShyKXtyZXR1cm5cInR5cGVcImluIHI/XCJzdHJpbmdcIj09dHlwZW9mIHIudHlwZTpcImRlZmF1bHRcImluIHJ9ZnVuY3Rpb24gcHJvY2Vzc1Byb3BlcnR5RGVmaW5pdGlvbihyLGUpe3ZhciB0LG8sbj1yLmRlZmF1bHQscD1yLnR5cGU7cmV0dXJuIHIudHlwZT9cImJvb2xcIj09PXIudHlwZT9wPVwiYm9vbGVhblwiOlwiZmxvYXRcIj09PXIudHlwZSYmKHA9XCJudW1iZXJcIik6cD12b2lkIDA9PT1ufHxcImJvb2xlYW5cIiE9dHlwZW9mIG4mJlwibnVtYmVyXCIhPXR5cGVvZiBuP0FycmF5LmlzQXJyYXkobik/XCJhcnJheVwiOlwic3RyaW5nXCI6dHlwZW9mIG4sbz1wcm9wZXJ0eVR5cGVzW3BdLG98fHdhcm4oXCJVbmtub3duIHByb3BlcnR5IHR5cGUgZm9yIGNvbXBvbmVudCBgXCIrZStcImA6IFwiK3ApLHQ9ISFyLnBhcnNlLHIucGFyc2U9ci5wYXJzZXx8by5wYXJzZSxyLnN0cmluZ2lmeT1yLnN0cmluZ2lmeXx8by5zdHJpbmdpZnksci50eXBlPXAsXCJkZWZhdWx0XCJpbiByP3R8fGlzVmFsaWREZWZhdWx0VmFsdWUocCxuKXx8d2FybihcIkRlZmF1bHQgdmFsdWUgYFwiK24rXCJgIGRvZXMgbm90IG1hdGNoIHR5cGUgYFwiK3ArXCJgIGluIGNvbXBvbmVudCBgXCIrZStcImBcIik6ci5kZWZhdWx0PW8uZGVmYXVsdCxyfWZ1bmN0aW9uIHBhcnNlUHJvcGVydHkocixlKXtyZXR1cm4gdm9pZCAwIT09ciYmbnVsbCE9PXImJlwiXCIhPT1yfHwocj1lLmRlZmF1bHQsQXJyYXkuaXNBcnJheShyKSYmKHI9ci5zbGljZSgpKSksZS5wYXJzZShyLGUuZGVmYXVsdCl9ZnVuY3Rpb24gc3RyaW5naWZ5UHJvcGVydHkocixlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2Ygcj9yOmUmJm51bGwhPT1yP2Uuc3RyaW5naWZ5KHIpOkpTT04uc3RyaW5naWZ5KHIpfXZhciB1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLFByb3BlcnR5VHlwZXM9X2RlcmVxXyhcIi4vcHJvcGVydHlUeXBlc1wiKSxkZWJ1Zz11dGlscy5kZWJ1Zyxpc1ZhbGlkRGVmYXVsdFZhbHVlPVByb3BlcnR5VHlwZXMuaXNWYWxpZERlZmF1bHRWYWx1ZSxwcm9wZXJ0eVR5cGVzPVByb3BlcnR5VHlwZXMucHJvcGVydHlUeXBlcyx3YXJuPWRlYnVnKFwiY29yZTpzY2hlbWE6d2FyblwiKTttb2R1bGUuZXhwb3J0cy5pc1NpbmdsZVByb3BlcnR5PWlzU2luZ2xlUHJvcGVydHksbW9kdWxlLmV4cG9ydHMucHJvY2Vzcz1mdW5jdGlvbihyLGUpe3ZhciB0O2lmKGlzU2luZ2xlUHJvcGVydHkocikpcmV0dXJuIHByb2Nlc3NQcm9wZXJ0eURlZmluaXRpb24ocixlKTtmb3IodCBpbiByKXJbdF09cHJvY2Vzc1Byb3BlcnR5RGVmaW5pdGlvbihyW3RdLGUpO3JldHVybiByfSxtb2R1bGUuZXhwb3J0cy5wcm9jZXNzUHJvcGVydHlEZWZpbml0aW9uPXByb2Nlc3NQcm9wZXJ0eURlZmluaXRpb24sbW9kdWxlLmV4cG9ydHMucGFyc2VQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uKGUsdCxvLG4scCl7dmFyIGkscyx5LHU7ci5sZW5ndGg9MDtmb3IocyBpbiBvP2U6dClvJiZ2b2lkIDA9PT1lW3NdfHxyLnB1c2gocyk7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybiBlO2ZvcihzIGluIGUpdm9pZCAwPT09ZVtzXXx8dFtzXXx8cHx8d2FybihcIlVua25vd24gcHJvcGVydHkgYFwiK3MrXCJgIGZvciBjb21wb25lbnQvc3lzdGVtIGBcIituK1wiYC5cIik7Zm9yKGk9MDtpPHIubGVuZ3RoO2krKyl7aWYocz1yW2ldLHk9dFtzXSx1PWVbc10sIXRbc10pcmV0dXJuO2Vbc109cGFyc2VQcm9wZXJ0eSh1LHkpfXJldHVybiBlfX0oKSxtb2R1bGUuZXhwb3J0cy5wYXJzZVByb3BlcnR5PXBhcnNlUHJvcGVydHksbW9kdWxlLmV4cG9ydHMuc3RyaW5naWZ5UHJvcGVydGllcz1mdW5jdGlvbihyLGUpe3ZhciB0LG8sbixwLGk9e307Zm9yKHQgaW4gcilvPWVbdF0sbj1yW3RdLHA9bixcIm9iamVjdFwiPT10eXBlb2YgcCYmKHA9c3RyaW5naWZ5UHJvcGVydHkobixvKSxvfHx3YXJuKFwiVW5rbm93biBjb21wb25lbnQgcHJvcGVydHk6IFwiK3QpKSxpW3RdPXA7cmV0dXJuIGl9LG1vZHVsZS5leHBvcnRzLnN0cmluZ2lmeVByb3BlcnR5PXN0cmluZ2lmeVByb3BlcnR5O1xufSx7XCIuLi91dGlscy9cIjoxODEsXCIuL3Byb3BlcnR5VHlwZXNcIjoxMTB9XSwxMTg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHNjaGVtYT1fZGVyZXFfKFwiLi9zY2hlbWFcIikscHJvY2Vzc1NjaGVtYT1zY2hlbWEucHJvY2VzcyxzaGFkZXJzPW1vZHVsZS5leHBvcnRzLnNoYWRlcnM9e30sc2hhZGVyTmFtZXM9bW9kdWxlLmV4cG9ydHMuc2hhZGVyTmFtZXM9W10sVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHNcIikscHJvcGVydHlUb1RocmVlTWFwcGluZz17YXJyYXk6XCJ2M1wiLGNvbG9yOlwidjNcIixpbnQ6XCJpXCIsbnVtYmVyOlwiZlwiLG1hcDpcInRcIix0aW1lOlwiZlwiLHZlYzI6XCJ2MlwiLHZlYzM6XCJ2M1wiLHZlYzQ6XCJ2NFwifSxTaGFkZXI9bW9kdWxlLmV4cG9ydHMuU2hhZGVyPWZ1bmN0aW9uKCl7fTtTaGFkZXIucHJvdG90eXBlPXtzY2hlbWE6e30sdmVydGV4U2hhZGVyOlwidm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7fVwiLGZyYWdtZW50U2hhZGVyOlwidm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLCAwLjAsIDEuMCwgMS4wKTt9XCIsaW5pdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzPXRoaXMuaW5pdFZhcmlhYmxlcyhlLFwiYXR0cmlidXRlXCIpLHRoaXMudW5pZm9ybXM9dGhpcy5pbml0VmFyaWFibGVzKGUsXCJ1bmlmb3JtXCIpLHRoaXMubWF0ZXJpYWw9bmV3KHRoaXMucmF3P1RIUkVFLlJhd1NoYWRlck1hdGVyaWFsOlRIUkVFLlNoYWRlck1hdGVyaWFsKSh7dW5pZm9ybXM6dGhpcy51bmlmb3Jtcyx2ZXJ0ZXhTaGFkZXI6dGhpcy52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6dGhpcy5mcmFnbWVudFNoYWRlcn0pLHRoaXMubWF0ZXJpYWx9LGluaXRWYXJpYWJsZXM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxhLGk9dGhpcy5zY2hlbWEscz17fTtmb3IodCBpbiBpKWlbdF0uaXM9PT1yJiYoYT1wcm9wZXJ0eVRvVGhyZWVNYXBwaW5nW2lbdF0udHlwZV0sc1t0XT17dHlwZTphLHZhbHVlOnZvaWQgMH0pO3JldHVybiBzfSx1cGRhdGU6ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGVWYXJpYWJsZXMoZSxcImF0dHJpYnV0ZVwiKSx0aGlzLnVwZGF0ZVZhcmlhYmxlcyhlLFwidW5pZm9ybVwiKX0sdXBkYXRlVmFyaWFibGVzOmZ1bmN0aW9uKGUscil7dmFyIHQsYSxpLHM9dGhpcy5zY2hlbWE7aT1cInVuaWZvcm1cIj09PXI/dGhpcy51bmlmb3Jtczp0aGlzLmF0dHJpYnV0ZXM7Zm9yKHQgaW4gZSlpZihzW3RdJiZzW3RdLmlzPT09cilpZihcIm1hcFwiIT09c1t0XS50eXBlKWlbdF0udmFsdWU9dGhpcy5wYXJzZVZhbHVlKHNbdF0udHlwZSxlW3RdKSxpW3RdLm5lZWRzVXBkYXRlPSEwO2Vsc2V7aWYoIWlbdF18fGlbdF0udmFsdWU9PT1lW3RdKWNvbnRpbnVlO2E9XCJfdGV4dHVyZV9cIit0LHRoaXMuc2V0TWFwT25UZXh0dXJlTG9hZChpLHQsYSksdXRpbHMubWF0ZXJpYWwudXBkYXRlTWFwTWF0ZXJpYWxGcm9tRGF0YShhLHQsdGhpcyxlKX19LHBhcnNlVmFsdWU6ZnVuY3Rpb24oZSxyKXt2YXIgdDtzd2l0Y2goZSl7Y2FzZVwidmVjMlwiOnJldHVybiBuZXcgVEhSRUUuVmVjdG9yMihyLngsci55KTtjYXNlXCJ2ZWMzXCI6cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IzKHIueCxyLnksci56KTtjYXNlXCJ2ZWM0XCI6cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3I0KHIueCxyLnksci56LHIudyk7Y2FzZVwiY29sb3JcIjpyZXR1cm4gdD1uZXcgVEhSRUUuQ29sb3IociksbmV3IFRIUkVFLlZlY3RvcjModC5yLHQuZyx0LmIpO2Nhc2VcIm1hcFwiOnJldHVybiBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKHIpO2RlZmF1bHQ6cmV0dXJuIHJ9fSxzZXRNYXBPblRleHR1cmVMb2FkOmZ1bmN0aW9uKGUscix0KXt2YXIgYT10aGlzO3RoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1hdGVyaWFsdGV4dHVyZWxvYWRlZFwiLGZ1bmN0aW9uKCl7ZVtyXS52YWx1ZT1hLm1hdGVyaWFsW3RdLGVbcl0ubmVlZHNVcGRhdGU9ITB9KX19LG1vZHVsZS5leHBvcnRzLnJlZ2lzdGVyU2hhZGVyPWZ1bmN0aW9uKGUscil7dmFyIHQsYT17fTtpZihPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09e3ZhbHVlOnJbZV0sd3JpdGFibGU6ITB9fSksc2hhZGVyc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2hhZGVyIFwiK2UrXCIgaGFzIGJlZW4gYWxyZWFkeSByZWdpc3RlcmVkXCIpO3JldHVybiB0PWZ1bmN0aW9uKCl7U2hhZGVyLmNhbGwodGhpcyl9LHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU2hhZGVyLnByb3RvdHlwZSxhKSx0LnByb3RvdHlwZS5uYW1lPWUsdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCxzaGFkZXJzW2VdPXtTaGFkZXI6dCxzY2hlbWE6cHJvY2Vzc1NjaGVtYSh0LnByb3RvdHlwZS5zY2hlbWEpfSxzaGFkZXJOYW1lcy5wdXNoKGUpLHR9O1xufSx7XCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlsc1wiOjE4MSxcIi4vc2NoZW1hXCI6MTE3fV0sMTE5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBjb21wb25lbnRzPV9kZXJlcV8oXCIuL2NvbXBvbmVudFwiKSxzY2hlbWE9X2RlcmVxXyhcIi4vc2NoZW1hXCIpLHV0aWxzPV9kZXJlcV8oXCIuLi91dGlscy9cIikscGFyc2VQcm9wZXJ0aWVzPXNjaGVtYS5wYXJzZVByb3BlcnRpZXMscGFyc2VQcm9wZXJ0eT1zY2hlbWEucGFyc2VQcm9wZXJ0eSxwcm9jZXNzU2NoZW1hPXNjaGVtYS5wcm9jZXNzLGlzU2luZ2xlUHJvcD1zY2hlbWEuaXNTaW5nbGVQcm9wZXJ0eSxzdHlsZVBhcnNlcj11dGlscy5zdHlsZVBhcnNlcixzeXN0ZW1zPW1vZHVsZS5leHBvcnRzLnN5c3RlbXM9e30sU3lzdGVtPW1vZHVsZS5leHBvcnRzLlN5c3RlbT1mdW5jdGlvbihlKXt2YXIgdD1jb21wb25lbnRzJiZjb21wb25lbnRzLmNvbXBvbmVudHNbdGhpcy5uYW1lXTt0aGlzLmVsPWUsdGhpcy5zY2VuZUVsPWUsdCYmKHQuQ29tcG9uZW50LnByb3RvdHlwZS5zeXN0ZW09dGhpcyksdGhpcy5idWlsZERhdGEoKSx0aGlzLmluaXQoKSx0aGlzLnVwZGF0ZSh7fSl9O1N5c3RlbS5wcm90b3R5cGU9e3NjaGVtYTp7fSxpbml0OmZ1bmN0aW9uKCl7fSx1cGRhdGU6ZnVuY3Rpb24oZSl7fSx1cGRhdGVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YTtPYmplY3Qua2V5cyhzY2hlbWEpLmxlbmd0aCYmKHRoaXMuYnVpbGREYXRhKGUpLHRoaXMudXBkYXRlKHQpKX0sYnVpbGREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2NoZW1hO09iamVjdC5rZXlzKHQpLmxlbmd0aCYmKGU9ZXx8d2luZG93LkhUTUxFbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLnNjZW5lRWwsdGhpcy5uYW1lKSxpc1NpbmdsZVByb3AodCk/dGhpcy5kYXRhPXBhcnNlUHJvcGVydHkoZSx0KTp0aGlzLmRhdGE9cGFyc2VQcm9wZXJ0aWVzKHN0eWxlUGFyc2VyLnBhcnNlKGUpfHx7fSx0KSl9LHRpY2s6dm9pZCAwLHRvY2s6dm9pZCAwLHBsYXk6ZnVuY3Rpb24oKXt9LHBhdXNlOmZ1bmN0aW9uKCl7fX0sbW9kdWxlLmV4cG9ydHMucmVnaXN0ZXJTeXN0ZW09ZnVuY3Rpb24oZSx0KXt2YXIgcyxvLHI9e30saT11dGlscy5maW5kQWxsU2NlbmVzKGRvY3VtZW50KTtpZihPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbZV09e3ZhbHVlOnRbZV0sd3JpdGFibGU6ITB9fSksc3lzdGVtc1tlXSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3lzdGVtIGBcIitlK1wiYCBoYXMgYmVlbiBhbHJlYWR5IHJlZ2lzdGVyZWQuIENoZWNrIHRoYXQgeW91IGFyZSBub3QgbG9hZGluZyB0d28gdmVyc2lvbnMgb2YgdGhlIHNhbWUgc3lzdGVtIG9yIHR3byBkaWZmZXJlbnQgc3lzdGVtcyBvZiB0aGUgc2FtZSBuYW1lLlwiKTtmb3Iobz1mdW5jdGlvbihlKXtTeXN0ZW0uY2FsbCh0aGlzLGUpfSxvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFN5c3RlbS5wcm90b3R5cGUsciksby5wcm90b3R5cGUubmFtZT1lLG8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGUuc2NoZW1hPXV0aWxzLmV4dGVuZChwcm9jZXNzU2NoZW1hKG8ucHJvdG90eXBlLnNjaGVtYSkpLHN5c3RlbXNbZV09byxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5pbml0U3lzdGVtKGUpfTtcbn0se1wiLi4vdXRpbHMvXCI6MTgxLFwiLi9jb21wb25lbnRcIjoxMDgsXCIuL3NjaGVtYVwiOjExN31dLDEyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5fZGVyZXFfKFwiLi9waXZvdFwiKTtcbn0se1wiLi9waXZvdFwiOjEyMX1dLDEyMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJDb21wb25lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LFRIUkVFPV9kZXJlcV8oXCIuLi8uLi9saWIvdGhyZWVcIiksb3JpZ2luYWxQb3NpdGlvbj1uZXcgVEhSRUUuVmVjdG9yMyxvcmlnaW5hbFJvdGF0aW9uPW5ldyBUSFJFRS5WZWN0b3IzO3JlZ2lzdGVyQ29tcG9uZW50KFwicGl2b3RcIix7ZGVwZW5kZW5jaWVzOltcInBvc2l0aW9uXCJdLHNjaGVtYTp7dHlwZTpcInZlYzNcIn0saW5pdDpmdW5jdGlvbigpe3ZhciBvPXRoaXMuZGF0YSxpPXRoaXMuZWwsdD1pLm9iamVjdDNELnBhcmVudCxlPWkub2JqZWN0M0Qsbj1uZXcgVEhSRUUuR3JvdXA7b3JpZ2luYWxQb3NpdGlvbi5jb3B5KGUucG9zaXRpb24pLG9yaWdpbmFsUm90YXRpb24uY29weShlLnJvdGF0aW9uKSx0LnJlbW92ZShlKSxuLmFkZChlKSx0LmFkZChuKSxpLm9iamVjdDNEPW4sZS5wb3NpdGlvbi5zZXQoLTEqby54LC0xKm8ueSwtMSpvLnopLG4ucG9zaXRpb24uc2V0KG8ueCtvcmlnaW5hbFBvc2l0aW9uLngsby55K29yaWdpbmFsUG9zaXRpb24ueSxvLnorb3JpZ2luYWxQb3NpdGlvbi56KSxuLnJvdGF0aW9uLmNvcHkoZS5yb3RhdGlvbiksZS5yb3RhdGlvbi5zZXQoMCwwLDApfX0pO1xufSx7XCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiOjEwOCxcIi4uLy4uL2xpYi90aHJlZVwiOjE1Nn1dLDEyMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBhZGRNYXBwaW5nKGUpe3ZhciBhPWUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XCJmb2dcIj09PWUmJihhPVwibWF0ZXJpYWwtZm9nXCIpLFwidmlzaWJsZVwiPT09ZSYmKGE9XCJtYXRlcmlhbC12aXNpYmxlXCIpLG1hdGVyaWFsTWFwcGluZ3NbYV09XCJtYXRlcmlhbC5cIitlfXZhciBjb21wb25lbnRzPV9kZXJlcV8oXCIuLi8uLi9jb3JlL2NvbXBvbmVudFwiKS5jb21wb25lbnRzLHNoYWRlcnM9X2RlcmVxXyhcIi4uLy4uL2NvcmUvc2hhZGVyXCIpLnNoYWRlcnMsdXRpbHM9X2RlcmVxXyhcIi4uLy4uL3V0aWxzL1wiKSxtYXRlcmlhbE1hcHBpbmdzPXt9O09iamVjdC5rZXlzKGNvbXBvbmVudHMubWF0ZXJpYWwuc2NoZW1hKS5mb3JFYWNoKGFkZE1hcHBpbmcpLE9iamVjdC5rZXlzKHNoYWRlcnMuc3RhbmRhcmQuc2NoZW1hKS5mb3JFYWNoKGFkZE1hcHBpbmcpLG1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJue2RlZmF1bHRDb21wb25lbnRzOnttYXRlcmlhbDp7fX0sbWFwcGluZ3M6dXRpbHMuZXh0ZW5kKHt9LG1hdGVyaWFsTWFwcGluZ3MpfX07XG59LHtcIi4uLy4uL2NvcmUvY29tcG9uZW50XCI6MTA4LFwiLi4vLi4vY29yZS9zaGFkZXJcIjoxMTgsXCIuLi8uLi91dGlscy9cIjoxODF9XSwxMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuX2RlcmVxXyhcIi4vcHJpbWl0aXZlcy9hLWNhbWVyYVwiKSxfZGVyZXFfKFwiLi9wcmltaXRpdmVzL2EtY3Vyc29yXCIpLF9kZXJlcV8oXCIuL3ByaW1pdGl2ZXMvYS1jdXJ2ZWRpbWFnZVwiKSxfZGVyZXFfKFwiLi9wcmltaXRpdmVzL2EtZ2x0Zi1tb2RlbFwiKSxfZGVyZXFfKFwiLi9wcmltaXRpdmVzL2EtaW1hZ2VcIiksX2RlcmVxXyhcIi4vcHJpbWl0aXZlcy9hLWxpZ2h0XCIpLF9kZXJlcV8oXCIuL3ByaW1pdGl2ZXMvYS1saW5rXCIpLF9kZXJlcV8oXCIuL3ByaW1pdGl2ZXMvYS1vYmotbW9kZWxcIiksX2RlcmVxXyhcIi4vcHJpbWl0aXZlcy9hLXNreVwiKSxfZGVyZXFfKFwiLi9wcmltaXRpdmVzL2Etc291bmRcIiksX2RlcmVxXyhcIi4vcHJpbWl0aXZlcy9hLXRleHRcIiksX2RlcmVxXyhcIi4vcHJpbWl0aXZlcy9hLXZpZGVvXCIpLF9kZXJlcV8oXCIuL3ByaW1pdGl2ZXMvYS12aWRlb3NwaGVyZVwiKSxfZGVyZXFfKFwiLi9wcmltaXRpdmVzL21lc2hQcmltaXRpdmVzXCIpO1xufSx7XCIuL3ByaW1pdGl2ZXMvYS1jYW1lcmFcIjoxMjUsXCIuL3ByaW1pdGl2ZXMvYS1jdXJzb3JcIjoxMjYsXCIuL3ByaW1pdGl2ZXMvYS1jdXJ2ZWRpbWFnZVwiOjEyNyxcIi4vcHJpbWl0aXZlcy9hLWdsdGYtbW9kZWxcIjoxMjgsXCIuL3ByaW1pdGl2ZXMvYS1pbWFnZVwiOjEyOSxcIi4vcHJpbWl0aXZlcy9hLWxpZ2h0XCI6MTMwLFwiLi9wcmltaXRpdmVzL2EtbGlua1wiOjEzMSxcIi4vcHJpbWl0aXZlcy9hLW9iai1tb2RlbFwiOjEzMixcIi4vcHJpbWl0aXZlcy9hLXNreVwiOjEzMyxcIi4vcHJpbWl0aXZlcy9hLXNvdW5kXCI6MTM0LFwiLi9wcmltaXRpdmVzL2EtdGV4dFwiOjEzNSxcIi4vcHJpbWl0aXZlcy9hLXZpZGVvXCI6MTM2LFwiLi9wcmltaXRpdmVzL2EtdmlkZW9zcGhlcmVcIjoxMzcsXCIuL3ByaW1pdGl2ZXMvbWVzaFByaW1pdGl2ZXNcIjoxMzh9XSwxMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gYWRkQ29tcG9uZW50TWFwcGluZyhlLHQpe3ZhciBpPWNvbXBvbmVudHNbZV0uc2NoZW1hO09iamVjdC5rZXlzKGkpLm1hcChmdW5jdGlvbihpKXt2YXIgbj1pLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO3ZvaWQgMCE9PXRbbl0mJihuPWUrXCItXCIraSksdFtuXT1lK1wiLlwiK2l9KX1mdW5jdGlvbiBkZWZpbmVQcmltaXRpdmUoZSx0LGkpe2k9aXx8e30sT2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKGUpe2FkZENvbXBvbmVudE1hcHBpbmcoZSxpKX0pLG1vZHVsZS5leHBvcnRzLnJlZ2lzdGVyUHJpbWl0aXZlKGUsdXRpbHMuZXh0ZW5kRGVlcCh7fSxudWxsLHtkZWZhdWx0Q29tcG9uZW50czp0LG1hcHBpbmdzOml9KSl9dmFyIEFFbnRpdHk9X2RlcmVxXyhcIi4uLy4uL2NvcmUvYS1lbnRpdHlcIiksY29tcG9uZW50cz1fZGVyZXFfKFwiLi4vLi4vY29yZS9jb21wb25lbnRcIikuY29tcG9uZW50cyxyZWdpc3RlckVsZW1lbnQ9X2RlcmVxXyhcIi4uLy4uL2NvcmUvYS1yZWdpc3Rlci1lbGVtZW50XCIpLnJlZ2lzdGVyRWxlbWVudCx1dGlscz1fZGVyZXFfKFwiLi4vLi4vdXRpbHMvXCIpLGRlYnVnPXV0aWxzLmRlYnVnLHNldENvbXBvbmVudFByb3BlcnR5PXV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eSxsb2c9ZGVidWcoXCJleHRyYXM6cHJpbWl0aXZlczpkZWJ1Z1wiKSx3YXJuPWRlYnVnKFwiZXh0cmFzOnByaW1pdGl2ZXM6d2FyblwiKSxwcmltaXRpdmVzPW1vZHVsZS5leHBvcnRzLnByaW1pdGl2ZXM9e307bW9kdWxlLmV4cG9ydHMucmVnaXN0ZXJQcmltaXRpdmU9ZnVuY3Rpb24oZSx0KXtlPWUudG9Mb3dlckNhc2UoKSxsb2coXCJSZWdpc3RlcmluZyA8JXM+XCIsZSksdC5kZWZhdWx0QXR0cmlidXRlcyYmd2FybihcIlRoZSAnZGVmYXVsdEF0dHJpYnV0ZXMnIG9iamVjdCBpcyBkZXByZWNhdGVkLiBVc2UgJ2RlZmF1bHRDb21wb25lbnRzJyBpbnN0ZWFkLlwiKTt2YXIgaT1yZWdpc3RlckVsZW1lbnQoZSx7cHJvdG90eXBlOk9iamVjdC5jcmVhdGUoQUVudGl0eS5wcm90b3R5cGUse2RlZmF1bHRDb21wb25lbnRzRnJvbVByaW1pdGl2ZTp7dmFsdWU6dC5kZWZhdWx0Q29tcG9uZW50c3x8dC5kZWZhdWx0QXR0cmlidXRlc3x8e319LGRlcHJlY2F0ZWQ6e3ZhbHVlOnQuZGVwcmVjYXRlZHx8bnVsbH0sZGVwcmVjYXRlZE1hcHBpbmdzOnt2YWx1ZTp0LmRlcHJlY2F0ZWRNYXBwaW5nc3x8e319LG1hcHBpbmdzOnt2YWx1ZTp0Lm1hcHBpbmdzfHx7fX0sY3JlYXRlZENhbGxiYWNrOnt2YWx1ZTpmdW5jdGlvbigpe3QuZGVwcmVjYXRlZCYmY29uc29sZS53YXJuKHQuZGVwcmVjYXRlZCksdGhpcy5yZXNvbHZlTWFwcGluZ0NvbGxpc2lvbnMoKX19LHJlc29sdmVNYXBwaW5nQ29sbGlzaW9uczp7dmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1hcHBpbmdzLHQ9dGhpcztPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBuO2khPT1pLnRvTG93ZXJDYXNlKCkmJndhcm4oXCJNYXBwaW5nIGtleXMgc2hvdWxkIGJlIHNwZWNpZmllZCBpbiBsb3dlciBjYXNlLiBUaGUgbWFwcGluZyBrZXkgXCIraStcIiBtYXkgbm90IGJlIHJlY29nbml6ZWRcIiksY29tcG9uZW50c1tpXSYmKG49ZVtpXS5yZXBsYWNlKFwiLlwiLFwiLVwiKSxlW25dPWVbaV0sZGVsZXRlIGVbaV0sY29uc29sZS53YXJuKFwiVGhlIHByaW1pdGl2ZSBcIit0LnRhZ05hbWUudG9Mb3dlckNhc2UoKStcIiBoYXMgYSBtYXBwaW5nIGNvbGxpc2lvbi4gVGhlIGF0dHJpYnV0ZSBcIitpK1wiIGhhcyB0aGUgc2FtZSBuYW1lIGFzIGEgcmVnaXN0ZXJlZCBjb21wb25lbnQgYW5kIGhhcyBiZWVuIHJlbmFtZWQgdG8gXCIrbikpfSl9fSxnZXRFeHRyYUNvbXBvbmVudHM6e3ZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIpe3JldHVybiB0KGUpP2kocik6dChyKT9pKGUpOm4oZSkmJm4ocik/dXRpbHMuZXh0ZW5kRGVlcChlLHIpOmkocil9ZnVuY3Rpb24gdChlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBpKGUpe3JldHVybiBuKGUpP3V0aWxzLmV4dGVuZERlZXAoe30sZSk6ZX1mdW5jdGlvbiBuKGUpe3JldHVybiBudWxsIT09ZSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH12YXIgcixvLGEscyxwLHUsbD10aGlzO2ZvcihvPXV0aWxzLmNsb25lKHRoaXMuZGVmYXVsdENvbXBvbmVudHNGcm9tUHJpbWl0aXZlKSxwPXRoaXMuZ2V0QXR0cmlidXRlKFwibWl4aW5cIikscCYmKHA9cC50cmltKCkuc3BsaXQoXCIgXCIpLHAuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT1sLnNjZW5lRWwucXVlcnlTZWxlY3RvcihcIiNcIit0KS5jb21wb25lbnRDYWNoZTtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe29bdF09ZShvW3RdLGlbdF0pfSl9KSksYT0wO2E8dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDthKyspcj10aGlzLmF0dHJpYnV0ZXNbYV0sKHM9dGhpcy5tYXBwaW5nc1tyLm5hbWVdKSYmKHU9dXRpbHMuZW50aXR5LmdldENvbXBvbmVudFByb3BlcnR5UGF0aChzKSx1LmNvbnN0cnVjdG9yPT09QXJyYXk/KG9bdVswXV09b1t1WzBdXXx8e30sb1t1WzBdXVt1WzFdXT1yLnZhbHVlLnRyaW0oKSk6b1t1XT1yLnZhbHVlLnRyaW0oKSk7cmV0dXJuIG99fSxhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10aGlzLm1hcHBpbmdzW2VdO2UgaW4gdGhpcy5kZXByZWNhdGVkTWFwcGluZ3MmJmNvbnNvbGUud2Fybih0aGlzLmRlcHJlY2F0ZWRNYXBwaW5nc1tlXSksZSYmbiYmc2V0Q29tcG9uZW50UHJvcGVydHkodGhpcyxuLGkpfX19KX0pO3JldHVybiBwcmltaXRpdmVzW2VdPWksaX0sbW9kdWxlLmV4cG9ydHMuZGVmaW5lUHJpbWl0aXZlPWRlZmluZVByaW1pdGl2ZTtcbn0se1wiLi4vLi4vY29yZS9hLWVudGl0eVwiOjEwNCxcIi4uLy4uL2NvcmUvYS1yZWdpc3Rlci1lbGVtZW50XCI6MTA3LFwiLi4vLi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuLi8uLi91dGlscy9cIjoxODF9XSwxMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuLi9wcmltaXRpdmVzXCIpLnJlZ2lzdGVyUHJpbWl0aXZlO3JlZ2lzdGVyUHJpbWl0aXZlKFwiYS1jYW1lcmFcIix7ZGVmYXVsdENvbXBvbmVudHM6e2NhbWVyYTp7fSxcImxvb2stY29udHJvbHNcIjp7fSxcIndhc2QtY29udHJvbHNcIjp7fSxwb3NpdGlvbjp7eDowLHk6MS42LHo6MH19LG1hcHBpbmdzOnthY3RpdmU6XCJjYW1lcmEuYWN0aXZlXCIsZmFyOlwiY2FtZXJhLmZhclwiLGZvdjpcImNhbWVyYS5mb3ZcIixcImxvb2stY29udHJvbHMtZW5hYmxlZFwiOlwibG9vay1jb250cm9scy5lbmFibGVkXCIsbmVhcjpcImNhbWVyYS5uZWFyXCIsXCJwb2ludGVyLWxvY2stZW5hYmxlZFwiOlwibG9vay1jb250cm9scy5wb2ludGVyTG9ja0VuYWJsZWRcIixcIndhc2QtY29udHJvbHMtZW5hYmxlZFwiOlwid2FzZC1jb250cm9scy5lbmFibGVkXCIsXCJyZXZlcnNlLW1vdXNlLWRyYWdcIjpcImxvb2stY29udHJvbHMucmV2ZXJzZU1vdXNlRHJhZ1wiLHpvb206XCJjYW1lcmEuem9vbVwifX0pO1xufSx7XCIuLi9wcmltaXRpdmVzXCI6MTI0fV0sMTI2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBnZXRNZXNoTWl4aW49X2RlcmVxXyhcIi4uL2dldE1lc2hNaXhpblwiKSxyZWdpc3RlclByaW1pdGl2ZT1fZGVyZXFfKFwiLi4vcHJpbWl0aXZlc1wiKS5yZWdpc3RlclByaW1pdGl2ZSx1dGlscz1fZGVyZXFfKFwiLi4vLi4vLi4vdXRpbHMvXCIpO3JlZ2lzdGVyUHJpbWl0aXZlKFwiYS1jdXJzb3JcIix1dGlscy5leHRlbmREZWVwKHt9LGdldE1lc2hNaXhpbigpLHtkZWZhdWx0Q29tcG9uZW50czp7Y3Vyc29yOnt9LGdlb21ldHJ5OntwcmltaXRpdmU6XCJyaW5nXCIscmFkaXVzT3V0ZXI6LjAxNixyYWRpdXNJbm5lcjouMDEsc2VnbWVudHNUaGV0YTozMn0sbWF0ZXJpYWw6e2NvbG9yOlwiIzAwMFwiLHNoYWRlcjpcImZsYXRcIixvcGFjaXR5Oi44fSxwb3NpdGlvbjp7eDowLHk6MCx6Oi0xfX0sbWFwcGluZ3M6e2ZhcjpcInJheWNhc3Rlci5mYXJcIixmdXNlOlwiY3Vyc29yLmZ1c2VcIixcImZ1c2UtdGltZW91dFwiOlwiY3Vyc29yLmZ1c2VUaW1lb3V0XCIsaW50ZXJ2YWw6XCJyYXljYXN0ZXIuaW50ZXJ2YWxcIixvYmplY3RzOlwicmF5Y2FzdGVyLm9iamVjdHNcIn19KSk7XG59LHtcIi4uLy4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2dldE1lc2hNaXhpblwiOjEyMixcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMjc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGdldE1lc2hNaXhpbj1fZGVyZXFfKFwiLi4vZ2V0TWVzaE1peGluXCIpLHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuLi9wcmltaXRpdmVzXCIpLnJlZ2lzdGVyUHJpbWl0aXZlLHV0aWxzPV9kZXJlcV8oXCIuLi8uLi8uLi91dGlscy9cIik7cmVnaXN0ZXJQcmltaXRpdmUoXCJhLWN1cnZlZGltYWdlXCIsdXRpbHMuZXh0ZW5kRGVlcCh7fSxnZXRNZXNoTWl4aW4oKSx7ZGVmYXVsdENvbXBvbmVudHM6e2dlb21ldHJ5OntoZWlnaHQ6MSxwcmltaXRpdmU6XCJjeWxpbmRlclwiLHJhZGl1czoyLHNlZ21lbnRzUmFkaWFsOjQ4LHRoZXRhTGVuZ3RoOjI3MCxvcGVuRW5kZWQ6ITAsdGhldGFTdGFydDowfSxtYXRlcmlhbDp7Y29sb3I6XCIjRkZGXCIsc2hhZGVyOlwiZmxhdFwiLHNpZGU6XCJkb3VibGVcIix0cmFuc3BhcmVudDohMCxyZXBlYXQ6XCItMSAxXCJ9fSxtYXBwaW5nczp7aGVpZ2h0OlwiZ2VvbWV0cnkuaGVpZ2h0XCIsXCJvcGVuLWVuZGVkXCI6XCJnZW9tZXRyeS5vcGVuRW5kZWRcIixyYWRpdXM6XCJnZW9tZXRyeS5yYWRpdXNcIixzZWdtZW50czpcImdlb21ldHJ5LnNlZ21lbnRzUmFkaWFsXCIsc3RhcnQ6XCJnZW9tZXRyeS50aGV0YVN0YXJ0XCIsXCJ0aGV0YS1sZW5ndGhcIjpcImdlb21ldHJ5LnRoZXRhTGVuZ3RoXCIsXCJ0aGV0YS1zdGFydFwiOlwiZ2VvbWV0cnkudGhldGFTdGFydFwiLHdpZHRoOlwiZ2VvbWV0cnkudGhldGFMZW5ndGhcIn19KSk7XG59LHtcIi4uLy4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2dldE1lc2hNaXhpblwiOjEyMixcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMjg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuLi9wcmltaXRpdmVzXCIpLnJlZ2lzdGVyUHJpbWl0aXZlO3JlZ2lzdGVyUHJpbWl0aXZlKFwiYS1nbHRmLW1vZGVsXCIse21hcHBpbmdzOntzcmM6XCJnbHRmLW1vZGVsXCJ9fSk7XG59LHtcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMjk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGdldE1lc2hNaXhpbj1fZGVyZXFfKFwiLi4vZ2V0TWVzaE1peGluXCIpLHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuLi9wcmltaXRpdmVzXCIpLnJlZ2lzdGVyUHJpbWl0aXZlLHV0aWxzPV9kZXJlcV8oXCIuLi8uLi8uLi91dGlscy9cIik7cmVnaXN0ZXJQcmltaXRpdmUoXCJhLWltYWdlXCIsdXRpbHMuZXh0ZW5kRGVlcCh7fSxnZXRNZXNoTWl4aW4oKSx7ZGVmYXVsdENvbXBvbmVudHM6e2dlb21ldHJ5OntwcmltaXRpdmU6XCJwbGFuZVwifSxtYXRlcmlhbDp7Y29sb3I6XCIjRkZGXCIsc2hhZGVyOlwiZmxhdFwiLHNpZGU6XCJkb3VibGVcIix0cmFuc3BhcmVudDohMH19LG1hcHBpbmdzOntoZWlnaHQ6XCJnZW9tZXRyeS5oZWlnaHRcIix3aWR0aDpcImdlb21ldHJ5LndpZHRoXCJ9fSkpO1xufSx7XCIuLi8uLi8uLi91dGlscy9cIjoxODEsXCIuLi9nZXRNZXNoTWl4aW5cIjoxMjIsXCIuLi9wcmltaXRpdmVzXCI6MTI0fV0sMTMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclByaW1pdGl2ZT1fZGVyZXFfKFwiLi4vcHJpbWl0aXZlc1wiKS5yZWdpc3RlclByaW1pdGl2ZTtyZWdpc3RlclByaW1pdGl2ZShcImEtbGlnaHRcIix7ZGVmYXVsdENvbXBvbmVudHM6e2xpZ2h0Ont9fSxtYXBwaW5nczp7YW5nbGU6XCJsaWdodC5hbmdsZVwiLGNvbG9yOlwibGlnaHQuY29sb3JcIixcImdyb3VuZC1jb2xvclwiOlwibGlnaHQuZ3JvdW5kQ29sb3JcIixkZWNheTpcImxpZ2h0LmRlY2F5XCIsZGlzdGFuY2U6XCJsaWdodC5kaXN0YW5jZVwiLGludGVuc2l0eTpcImxpZ2h0LmludGVuc2l0eVwiLHBlbnVtYnJhOlwibGlnaHQucGVudW1icmFcIix0eXBlOlwibGlnaHQudHlwZVwiLHRhcmdldDpcImxpZ2h0LnRhcmdldFwifX0pO1xufSx7XCIuLi9wcmltaXRpdmVzXCI6MTI0fV0sMTMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclByaW1pdGl2ZT1fZGVyZXFfKFwiLi4vcHJpbWl0aXZlc1wiKS5yZWdpc3RlclByaW1pdGl2ZTtyZWdpc3RlclByaW1pdGl2ZShcImEtbGlua1wiLHtkZWZhdWx0Q29tcG9uZW50czp7bGluazp7dmlzdWFsQXNwZWN0RW5hYmxlZDohMH19LG1hcHBpbmdzOntocmVmOlwibGluay5ocmVmXCIsaW1hZ2U6XCJsaW5rLmltYWdlXCIsdGl0bGU6XCJsaW5rLnRpdGxlXCJ9fSk7XG59LHtcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIG1lc2hNaXhpbj1fZGVyZXFfKFwiLi4vZ2V0TWVzaE1peGluXCIpKCkscmVnaXN0ZXJQcmltaXRpdmU9X2RlcmVxXyhcIi4uL3ByaW1pdGl2ZXNcIikucmVnaXN0ZXJQcmltaXRpdmUsdXRpbHM9X2RlcmVxXyhcIi4uLy4uLy4uL3V0aWxzL1wiKTtyZWdpc3RlclByaW1pdGl2ZShcImEtb2JqLW1vZGVsXCIsdXRpbHMuZXh0ZW5kRGVlcCh7fSxtZXNoTWl4aW4se2RlZmF1bHRDb21wb25lbnRzOntcIm9iai1tb2RlbFwiOnt9fSxtYXBwaW5nczp7c3JjOlwib2JqLW1vZGVsLm9ialwiLG10bDpcIm9iai1tb2RlbC5tdGxcIn19KSk7XG59LHtcIi4uLy4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2dldE1lc2hNaXhpblwiOjEyMixcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMzM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGdldE1lc2hNaXhpbj1fZGVyZXFfKFwiLi4vZ2V0TWVzaE1peGluXCIpLHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuLi9wcmltaXRpdmVzXCIpLnJlZ2lzdGVyUHJpbWl0aXZlLHV0aWxzPV9kZXJlcV8oXCIuLi8uLi8uLi91dGlscy9cIiksbWVzaFByaW1pdGl2ZXM9X2RlcmVxXyhcIi4vbWVzaFByaW1pdGl2ZXNcIik7cmVnaXN0ZXJQcmltaXRpdmUoXCJhLXNreVwiLHV0aWxzLmV4dGVuZERlZXAoe30sZ2V0TWVzaE1peGluKCkse2RlZmF1bHRDb21wb25lbnRzOntnZW9tZXRyeTp7cHJpbWl0aXZlOlwic3BoZXJlXCIscmFkaXVzOjUwMCxzZWdtZW50c1dpZHRoOjY0LHNlZ21lbnRzSGVpZ2h0OjMyfSxtYXRlcmlhbDp7Y29sb3I6XCIjRkZGXCIsc2lkZTpcImJhY2tcIixzaGFkZXI6XCJmbGF0XCIsbnBvdDohMH0sc2NhbGU6XCItMSAxIDFcIn0sbWFwcGluZ3M6dXRpbHMuZXh0ZW5kRGVlcCh7fSxtZXNoUHJpbWl0aXZlc1tcImEtc3BoZXJlXCJdLnByb3RvdHlwZS5tYXBwaW5ncyl9KSk7XG59LHtcIi4uLy4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2dldE1lc2hNaXhpblwiOjEyMixcIi4uL3ByaW1pdGl2ZXNcIjoxMjQsXCIuL21lc2hQcmltaXRpdmVzXCI6MTM4fV0sMTM0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclByaW1pdGl2ZT1fZGVyZXFfKFwiLi4vcHJpbWl0aXZlc1wiKS5yZWdpc3RlclByaW1pdGl2ZTtyZWdpc3RlclByaW1pdGl2ZShcImEtc291bmRcIix7ZGVmYXVsdENvbXBvbmVudHM6e3NvdW5kOnt9fSxtYXBwaW5nczp7c3JjOlwic291bmQuc3JjXCIsb246XCJzb3VuZC5vblwiLGF1dG9wbGF5Olwic291bmQuYXV0b3BsYXlcIixsb29wOlwic291bmQubG9vcFwiLHZvbHVtZTpcInNvdW5kLnZvbHVtZVwifX0pO1xufSx7XCIuLi9wcmltaXRpdmVzXCI6MTI0fV0sMTM1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBkZWZpbmVQcmltaXRpdmU9X2RlcmVxXyhcIi4uL3ByaW1pdGl2ZXNcIikuZGVmaW5lUHJpbWl0aXZlO2RlZmluZVByaW1pdGl2ZShcImEtdGV4dFwiLHt0ZXh0OnthbmNob3I6XCJhbGlnblwiLHdpZHRoOjV9fSk7XG59LHtcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMzY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGdldE1lc2hNaXhpbj1fZGVyZXFfKFwiLi4vZ2V0TWVzaE1peGluXCIpLHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuLi9wcmltaXRpdmVzXCIpLnJlZ2lzdGVyUHJpbWl0aXZlLHV0aWxzPV9kZXJlcV8oXCIuLi8uLi8uLi91dGlscy9cIik7cmVnaXN0ZXJQcmltaXRpdmUoXCJhLXZpZGVvXCIsdXRpbHMuZXh0ZW5kRGVlcCh7fSxnZXRNZXNoTWl4aW4oKSx7ZGVmYXVsdENvbXBvbmVudHM6e2dlb21ldHJ5OntwcmltaXRpdmU6XCJwbGFuZVwifSxtYXRlcmlhbDp7Y29sb3I6XCIjRkZGXCIsc2hhZGVyOlwiZmxhdFwiLHNpZGU6XCJkb3VibGVcIix0cmFuc3BhcmVudDohMH19LG1hcHBpbmdzOntoZWlnaHQ6XCJnZW9tZXRyeS5oZWlnaHRcIix3aWR0aDpcImdlb21ldHJ5LndpZHRoXCJ9fSkpO1xufSx7XCIuLi8uLi8uLi91dGlscy9cIjoxODEsXCIuLi9nZXRNZXNoTWl4aW5cIjoxMjIsXCIuLi9wcmltaXRpdmVzXCI6MTI0fV0sMTM3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBnZXRNZXNoTWl4aW49X2RlcmVxXyhcIi4uL2dldE1lc2hNaXhpblwiKSxyZWdpc3RlclByaW1pdGl2ZT1fZGVyZXFfKFwiLi4vcHJpbWl0aXZlc1wiKS5yZWdpc3RlclByaW1pdGl2ZSx1dGlscz1fZGVyZXFfKFwiLi4vLi4vLi4vdXRpbHMvXCIpO3JlZ2lzdGVyUHJpbWl0aXZlKFwiYS12aWRlb3NwaGVyZVwiLHV0aWxzLmV4dGVuZERlZXAoe30sZ2V0TWVzaE1peGluKCkse2RlZmF1bHRDb21wb25lbnRzOntnZW9tZXRyeTp7cHJpbWl0aXZlOlwic3BoZXJlXCIscmFkaXVzOjUwMCxzZWdtZW50c1dpZHRoOjY0LHNlZ21lbnRzSGVpZ2h0OjMyfSxtYXRlcmlhbDp7Y29sb3I6XCIjRkZGXCIsc2hhZGVyOlwiZmxhdFwiLHNpZGU6XCJiYWNrXCIsbnBvdDohMH0sc2NhbGU6XCItMSAxIDFcIn0sbWFwcGluZ3M6e3JhZGl1czpcImdlb21ldHJ5LnJhZGl1c1wiLFwic2VnbWVudHMtaGVpZ2h0XCI6XCJnZW9tZXRyeS5zZWdtZW50c0hlaWdodFwiLFwic2VnbWVudHMtd2lkdGhcIjpcImdlb21ldHJ5LnNlZ21lbnRzV2lkdGhcIn19KSk7XG59LHtcIi4uLy4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2dldE1lc2hNaXhpblwiOjEyMixcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMzg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gdW5DYW1lbENhc2UoZSl7cmV0dXJuIGUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCl9dmFyIGdldE1lc2hNaXhpbj1fZGVyZXFfKFwiLi4vZ2V0TWVzaE1peGluXCIpLGdlb21ldHJpZXM9X2RlcmVxXyhcIi4uLy4uLy4uL2NvcmUvZ2VvbWV0cnlcIikuZ2VvbWV0cmllcyxnZW9tZXRyeU5hbWVzPV9kZXJlcV8oXCIuLi8uLi8uLi9jb3JlL2dlb21ldHJ5XCIpLmdlb21ldHJ5TmFtZXMscmVnaXN0ZXJQcmltaXRpdmU9X2RlcmVxXyhcIi4uL3ByaW1pdGl2ZXNcIikucmVnaXN0ZXJQcmltaXRpdmUsdXRpbHM9X2RlcmVxXyhcIi4uLy4uLy4uL3V0aWxzL1wiKSxtZXNoUHJpbWl0aXZlcz1tb2R1bGUuZXhwb3J0cz17fTtnZW9tZXRyeU5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9Z2VvbWV0cmllc1tlXSxyPXVuQ2FtZWxDYXNlKGUpLHQ9e307T2JqZWN0LmtleXMoaS5zY2hlbWEpLmZvckVhY2goZnVuY3Rpb24oZSl7dFt1bkNhbWVsQ2FzZShlKV09XCJnZW9tZXRyeS5cIitlfSk7dmFyIG09XCJhLVwiK3Iscz1yZWdpc3RlclByaW1pdGl2ZShtLHV0aWxzLmV4dGVuZERlZXAoe30sZ2V0TWVzaE1peGluKCkse2RlZmF1bHRDb21wb25lbnRzOntnZW9tZXRyeTp7cHJpbWl0aXZlOmV9fSxtYXBwaW5nczp0fSkpO21lc2hQcmltaXRpdmVzW21dPXN9KTtcbn0se1wiLi4vLi4vLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uLy4uLy4uL3V0aWxzL1wiOjE4MSxcIi4uL2dldE1lc2hNaXhpblwiOjEyMixcIi4uL3ByaW1pdGl2ZXNcIjoxMjR9XSwxMzk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyR2VvbWV0cnk9X2RlcmVxXyhcIi4uL2NvcmUvZ2VvbWV0cnlcIikucmVnaXN0ZXJHZW9tZXRyeSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpO3JlZ2lzdGVyR2VvbWV0cnkoXCJib3hcIix7c2NoZW1hOntkZXB0aDp7ZGVmYXVsdDoxLG1pbjowfSxoZWlnaHQ6e2RlZmF1bHQ6MSxtaW46MH0sd2lkdGg6e2RlZmF1bHQ6MSxtaW46MH0sc2VnbWVudHNIZWlnaHQ6e2RlZmF1bHQ6MSxtaW46MSxtYXg6MjAsdHlwZTpcImludFwifSxzZWdtZW50c1dpZHRoOntkZWZhdWx0OjEsbWluOjEsbWF4OjIwLHR5cGU6XCJpbnRcIn0sc2VnbWVudHNEZXB0aDp7ZGVmYXVsdDoxLG1pbjoxLG1heDoyMCx0eXBlOlwiaW50XCJ9fSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuZ2VvbWV0cnk9bmV3IFRIUkVFLkJveEdlb21ldHJ5KGUud2lkdGgsZS5oZWlnaHQsZS5kZXB0aCxlLnNlZ21lbnRzV2lkdGgsZS5zZWdtZW50c0hlaWdodCxlLnNlZ21lbnRzRGVwdGgpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTQwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSxkZWdUb1JhZD1USFJFRS5NYXRoLmRlZ1RvUmFkO3JlZ2lzdGVyR2VvbWV0cnkoXCJjaXJjbGVcIix7c2NoZW1hOntyYWRpdXM6e2RlZmF1bHQ6MSxtaW46MH0sc2VnbWVudHM6e2RlZmF1bHQ6MzIsbWluOjMsdHlwZTpcImludFwifSx0aGV0YUxlbmd0aDp7ZGVmYXVsdDozNjAsbWluOjB9LHRoZXRhU3RhcnQ6e2RlZmF1bHQ6MH19LGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5nZW9tZXRyeT1uZXcgVEhSRUUuQ2lyY2xlR2VvbWV0cnkoZS5yYWRpdXMsZS5zZWdtZW50cyxkZWdUb1JhZChlLnRoZXRhU3RhcnQpLGRlZ1RvUmFkKGUudGhldGFMZW5ndGgpKX19KTtcbn0se1wiLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDE0MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJHZW9tZXRyeT1fZGVyZXFfKFwiLi4vY29yZS9nZW9tZXRyeVwiKS5yZWdpc3Rlckdlb21ldHJ5LFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksZGVnVG9SYWQ9VEhSRUUuTWF0aC5kZWdUb1JhZDtyZWdpc3Rlckdlb21ldHJ5KFwiY29uZVwiLHtzY2hlbWE6e2hlaWdodDp7ZGVmYXVsdDoxLG1pbjowfSxvcGVuRW5kZWQ6e2RlZmF1bHQ6ITF9LHJhZGl1c0JvdHRvbTp7ZGVmYXVsdDoxLG1pbjowfSxyYWRpdXNUb3A6e2RlZmF1bHQ6LjAxLG1pbjowfSxzZWdtZW50c0hlaWdodDp7ZGVmYXVsdDoxOCxtaW46MSx0eXBlOlwiaW50XCJ9LHNlZ21lbnRzUmFkaWFsOntkZWZhdWx0OjM2LG1pbjozLHR5cGU6XCJpbnRcIn0sdGhldGFMZW5ndGg6e2RlZmF1bHQ6MzYwLG1pbjowfSx0aGV0YVN0YXJ0OntkZWZhdWx0OjB9fSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuZ2VvbWV0cnk9bmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoZS5yYWRpdXNUb3AsZS5yYWRpdXNCb3R0b20sZS5oZWlnaHQsZS5zZWdtZW50c1JhZGlhbCxlLnNlZ21lbnRzSGVpZ2h0LGUub3BlbkVuZGVkLGRlZ1RvUmFkKGUudGhldGFTdGFydCksZGVnVG9SYWQoZS50aGV0YUxlbmd0aCkpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTQyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSxkZWdUb1JhZD1USFJFRS5NYXRoLmRlZ1RvUmFkO3JlZ2lzdGVyR2VvbWV0cnkoXCJjeWxpbmRlclwiLHtzY2hlbWE6e2hlaWdodDp7ZGVmYXVsdDoxLG1pbjowfSxvcGVuRW5kZWQ6e2RlZmF1bHQ6ITF9LHJhZGl1czp7ZGVmYXVsdDoxLG1pbjowfSxzZWdtZW50c0hlaWdodDp7ZGVmYXVsdDoxOCxtaW46MSx0eXBlOlwiaW50XCJ9LHNlZ21lbnRzUmFkaWFsOntkZWZhdWx0OjM2LG1pbjozLHR5cGU6XCJpbnRcIn0sdGhldGFMZW5ndGg6e2RlZmF1bHQ6MzYwLG1pbjowfSx0aGV0YVN0YXJ0OntkZWZhdWx0OjB9fSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuZ2VvbWV0cnk9bmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoZS5yYWRpdXMsZS5yYWRpdXMsZS5oZWlnaHQsZS5zZWdtZW50c1JhZGlhbCxlLnNlZ21lbnRzSGVpZ2h0LGUub3BlbkVuZGVkLGRlZ1RvUmFkKGUudGhldGFTdGFydCksZGVnVG9SYWQoZS50aGV0YUxlbmd0aCkpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTQzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKTtyZWdpc3Rlckdlb21ldHJ5KFwiZG9kZWNhaGVkcm9uXCIse3NjaGVtYTp7ZGV0YWlsOntkZWZhdWx0OjAsbWluOjAsbWF4OjUsdHlwZTpcImludFwifSxyYWRpdXM6e2RlZmF1bHQ6MSxtaW46MH19LGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5nZW9tZXRyeT1uZXcgVEhSRUUuRG9kZWNhaGVkcm9uR2VvbWV0cnkoZS5yYWRpdXMsZS5kZXRhaWwpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTQ0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKTtyZWdpc3Rlckdlb21ldHJ5KFwiaWNvc2FoZWRyb25cIix7c2NoZW1hOntkZXRhaWw6e2RlZmF1bHQ6MCxtaW46MCxtYXg6NSx0eXBlOlwiaW50XCJ9LHJhZGl1czp7ZGVmYXVsdDoxLG1pbjowfX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KGUucmFkaXVzLGUuZGV0YWlsKX19KTtcbn0se1wiLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDE0NTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5fZGVyZXFfKFwiLi9ib3guanNcIiksX2RlcmVxXyhcIi4vY2lyY2xlLmpzXCIpLF9kZXJlcV8oXCIuL2NvbmUuanNcIiksX2RlcmVxXyhcIi4vY3lsaW5kZXIuanNcIiksX2RlcmVxXyhcIi4vZG9kZWNhaGVkcm9uLmpzXCIpLF9kZXJlcV8oXCIuL2ljb3NhaGVkcm9uLmpzXCIpLF9kZXJlcV8oXCIuL29jdGFoZWRyb24uanNcIiksX2RlcmVxXyhcIi4vcGxhbmUuanNcIiksX2RlcmVxXyhcIi4vcmluZy5qc1wiKSxfZGVyZXFfKFwiLi9zcGhlcmUuanNcIiksX2RlcmVxXyhcIi4vdGV0cmFoZWRyb24uanNcIiksX2RlcmVxXyhcIi4vdG9ydXMuanNcIiksX2RlcmVxXyhcIi4vdG9ydXNLbm90LmpzXCIpLF9kZXJlcV8oXCIuL3RyaWFuZ2xlLmpzXCIpO1xufSx7XCIuL2JveC5qc1wiOjEzOSxcIi4vY2lyY2xlLmpzXCI6MTQwLFwiLi9jb25lLmpzXCI6MTQxLFwiLi9jeWxpbmRlci5qc1wiOjE0MixcIi4vZG9kZWNhaGVkcm9uLmpzXCI6MTQzLFwiLi9pY29zYWhlZHJvbi5qc1wiOjE0NCxcIi4vb2N0YWhlZHJvbi5qc1wiOjE0NixcIi4vcGxhbmUuanNcIjoxNDcsXCIuL3JpbmcuanNcIjoxNDgsXCIuL3NwaGVyZS5qc1wiOjE0OSxcIi4vdGV0cmFoZWRyb24uanNcIjoxNTAsXCIuL3RvcnVzLmpzXCI6MTUxLFwiLi90b3J1c0tub3QuanNcIjoxNTIsXCIuL3RyaWFuZ2xlLmpzXCI6MTUzfV0sMTQ2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKTtyZWdpc3Rlckdlb21ldHJ5KFwib2N0YWhlZHJvblwiLHtzY2hlbWE6e2RldGFpbDp7ZGVmYXVsdDowLG1pbjowLG1heDo1LHR5cGU6XCJpbnRcIn0scmFkaXVzOntkZWZhdWx0OjEsbWluOjB9fSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuZ2VvbWV0cnk9bmV3IFRIUkVFLk9jdGFoZWRyb25HZW9tZXRyeShlLnJhZGl1cyxlLmRldGFpbCl9fSk7XG59LHtcIi4uL2NvcmUvZ2VvbWV0cnlcIjoxMDksXCIuLi9saWIvdGhyZWVcIjoxNTZ9XSwxNDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyR2VvbWV0cnk9X2RlcmVxXyhcIi4uL2NvcmUvZ2VvbWV0cnlcIikucmVnaXN0ZXJHZW9tZXRyeSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpO3JlZ2lzdGVyR2VvbWV0cnkoXCJwbGFuZVwiLHtzY2hlbWE6e2hlaWdodDp7ZGVmYXVsdDoxLG1pbjowfSx3aWR0aDp7ZGVmYXVsdDoxLG1pbjowfSxzZWdtZW50c0hlaWdodDp7ZGVmYXVsdDoxLG1pbjoxLG1heDoyMCx0eXBlOlwiaW50XCJ9LHNlZ21lbnRzV2lkdGg6e2RlZmF1bHQ6MSxtaW46MSxtYXg6MjAsdHlwZTpcImludFwifX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KGUud2lkdGgsZS5oZWlnaHQsZS5zZWdtZW50c1dpZHRoLGUuc2VnbWVudHNIZWlnaHQpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTQ4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSxkZWdUb1JhZD1USFJFRS5NYXRoLmRlZ1RvUmFkO3JlZ2lzdGVyR2VvbWV0cnkoXCJyaW5nXCIse3NjaGVtYTp7cmFkaXVzSW5uZXI6e2RlZmF1bHQ6LjgsbWluOjB9LHJhZGl1c091dGVyOntkZWZhdWx0OjEuMixtaW46MH0sc2VnbWVudHNQaGk6e2RlZmF1bHQ6MTAsbWluOjEsdHlwZTpcImludFwifSxzZWdtZW50c1RoZXRhOntkZWZhdWx0OjMyLG1pbjozLHR5cGU6XCJpbnRcIn0sdGhldGFMZW5ndGg6e2RlZmF1bHQ6MzYwLG1pbjowfSx0aGV0YVN0YXJ0OntkZWZhdWx0OjB9fSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuZ2VvbWV0cnk9bmV3IFRIUkVFLlJpbmdHZW9tZXRyeShlLnJhZGl1c0lubmVyLGUucmFkaXVzT3V0ZXIsZS5zZWdtZW50c1RoZXRhLGUuc2VnbWVudHNQaGksZGVnVG9SYWQoZS50aGV0YVN0YXJ0KSxkZWdUb1JhZChlLnRoZXRhTGVuZ3RoKSl9fSk7XG59LHtcIi4uL2NvcmUvZ2VvbWV0cnlcIjoxMDksXCIuLi9saWIvdGhyZWVcIjoxNTZ9XSwxNDk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyR2VvbWV0cnk9X2RlcmVxXyhcIi4uL2NvcmUvZ2VvbWV0cnlcIikucmVnaXN0ZXJHZW9tZXRyeSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLGRlZ1RvUmFkPVRIUkVFLk1hdGguZGVnVG9SYWQ7cmVnaXN0ZXJHZW9tZXRyeShcInNwaGVyZVwiLHtzY2hlbWE6e3JhZGl1czp7ZGVmYXVsdDoxLG1pbjowfSxwaGlMZW5ndGg6e2RlZmF1bHQ6MzYwfSxwaGlTdGFydDp7ZGVmYXVsdDowLG1pbjowfSx0aGV0YUxlbmd0aDp7ZGVmYXVsdDoxODAsbWluOjB9LHRoZXRhU3RhcnQ6e2RlZmF1bHQ6MH0sc2VnbWVudHNIZWlnaHQ6e2RlZmF1bHQ6MTgsbWluOjIsdHlwZTpcImludFwifSxzZWdtZW50c1dpZHRoOntkZWZhdWx0OjM2LG1pbjozLHR5cGU6XCJpbnRcIn19LGluaXQ6ZnVuY3Rpb24oZSl7dGhpcy5nZW9tZXRyeT1uZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoZS5yYWRpdXMsZS5zZWdtZW50c1dpZHRoLGUuc2VnbWVudHNIZWlnaHQsZGVnVG9SYWQoZS5waGlTdGFydCksZGVnVG9SYWQoZS5waGlMZW5ndGgpLGRlZ1RvUmFkKGUudGhldGFTdGFydCksZGVnVG9SYWQoZS50aGV0YUxlbmd0aCkpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTUwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKTtyZWdpc3Rlckdlb21ldHJ5KFwidGV0cmFoZWRyb25cIix7c2NoZW1hOntkZXRhaWw6e2RlZmF1bHQ6MCxtaW46MCxtYXg6NSx0eXBlOlwiaW50XCJ9LHJhZGl1czp7ZGVmYXVsdDoxLG1pbjowfX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5UZXRyYWhlZHJvbkdlb21ldHJ5KGUucmFkaXVzLGUuZGV0YWlsKX19KTtcbn0se1wiLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDE1MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJHZW9tZXRyeT1fZGVyZXFfKFwiLi4vY29yZS9nZW9tZXRyeVwiKS5yZWdpc3Rlckdlb21ldHJ5LFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksZGVnVG9SYWQ9VEhSRUUuTWF0aC5kZWdUb1JhZDtyZWdpc3Rlckdlb21ldHJ5KFwidG9ydXNcIix7c2NoZW1hOnthcmM6e2RlZmF1bHQ6MzYwfSxyYWRpdXM6e2RlZmF1bHQ6MSxtaW46MH0scmFkaXVzVHVidWxhcjp7ZGVmYXVsdDouMixtaW46MH0sc2VnbWVudHNSYWRpYWw6e2RlZmF1bHQ6MzYsbWluOjIsdHlwZTpcImludFwifSxzZWdtZW50c1R1YnVsYXI6e2RlZmF1bHQ6MzIsbWluOjMsdHlwZTpcImludFwifX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5Ub3J1c0dlb21ldHJ5KGUucmFkaXVzLDIqZS5yYWRpdXNUdWJ1bGFyLGUuc2VnbWVudHNSYWRpYWwsZS5zZWdtZW50c1R1YnVsYXIsZGVnVG9SYWQoZS5hcmMpKX19KTtcbn0se1wiLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDE1MjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJHZW9tZXRyeT1fZGVyZXFfKFwiLi4vY29yZS9nZW9tZXRyeVwiKS5yZWdpc3Rlckdlb21ldHJ5LFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIik7cmVnaXN0ZXJHZW9tZXRyeShcInRvcnVzS25vdFwiLHtzY2hlbWE6e3A6e2RlZmF1bHQ6MixtaW46MX0scTp7ZGVmYXVsdDozLG1pbjoxfSxyYWRpdXM6e2RlZmF1bHQ6MSxtaW46MH0scmFkaXVzVHVidWxhcjp7ZGVmYXVsdDouMixtaW46MH0sc2VnbWVudHNSYWRpYWw6e2RlZmF1bHQ6OCxtaW46Myx0eXBlOlwiaW50XCJ9LHNlZ21lbnRzVHVidWxhcjp7ZGVmYXVsdDoxMDAsbWluOjMsdHlwZTpcImludFwifX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLmdlb21ldHJ5PW5ldyBUSFJFRS5Ub3J1c0tub3RHZW9tZXRyeShlLnJhZGl1cywyKmUucmFkaXVzVHVidWxhcixlLnNlZ21lbnRzVHVidWxhcixlLnNlZ21lbnRzUmFkaWFsLGUucCxlLnEpfX0pO1xufSx7XCIuLi9jb3JlL2dlb21ldHJ5XCI6MTA5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTUzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3Rlckdlb21ldHJ5PV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLnJlZ2lzdGVyR2VvbWV0cnksVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSxxdWF0ZXJuaW9uPW5ldyBUSFJFRS5RdWF0ZXJuaW9uLHJvdGF0ZVZlY3Rvcj1uZXcgVEhSRUUuVmVjdG9yMygwLDAsMSksdXZNaW5WZWN0b3I9bmV3IFRIUkVFLlZlY3RvcjIsdXZNYXhWZWN0b3I9bmV3IFRIUkVFLlZlY3RvcjIsdXZTY2FsZVZlY3Rvcj1uZXcgVEhSRUUuVmVjdG9yMjtyZWdpc3Rlckdlb21ldHJ5KFwidHJpYW5nbGVcIix7c2NoZW1hOnt2ZXJ0ZXhBOnt0eXBlOlwidmVjM1wiLGRlZmF1bHQ6e3g6MCx5Oi41LHo6MH19LHZlcnRleEI6e3R5cGU6XCJ2ZWMzXCIsZGVmYXVsdDp7eDotLjUseTotLjUsejowfX0sdmVydGV4Qzp7dHlwZTpcInZlYzNcIixkZWZhdWx0Ont4Oi41LHk6LS41LHo6MH19fSxpbml0OmZ1bmN0aW9uKGUpe3ZhciB0LHIsbyxjLG4sYTtvPW5ldyBUSFJFRS5UcmlhbmdsZSxvLmEuc2V0KGUudmVydGV4QS54LGUudmVydGV4QS55LGUudmVydGV4QS56KSxvLmIuc2V0KGUudmVydGV4Qi54LGUudmVydGV4Qi55LGUudmVydGV4Qi56KSxvLmMuc2V0KGUudmVydGV4Qy54LGUudmVydGV4Qy55LGUudmVydGV4Qy56KSxyPW8uZ2V0Tm9ybWFsKG5ldyBUSFJFRS5WZWN0b3IzKSxxdWF0ZXJuaW9uLnNldEZyb21Vbml0VmVjdG9ycyhyLHJvdGF0ZVZlY3RvciksYz1vLmEuY2xvbmUoKS5hcHBseVF1YXRlcm5pb24ocXVhdGVybmlvbiksbj1vLmIuY2xvbmUoKS5hcHBseVF1YXRlcm5pb24ocXVhdGVybmlvbiksYT1vLmMuY2xvbmUoKS5hcHBseVF1YXRlcm5pb24ocXVhdGVybmlvbiksdXZNaW5WZWN0b3Iuc2V0KE1hdGgubWluKGMueCxuLngsYS54KSxNYXRoLm1pbihjLnksbi55LGEueSkpLHV2TWF4VmVjdG9yLnNldChNYXRoLm1heChjLngsbi54LGEueCksTWF0aC5tYXgoYy55LG4ueSxhLnkpKSx1dlNjYWxlVmVjdG9yLnNldCgwLDApLnN1YlZlY3RvcnModXZNYXhWZWN0b3IsdXZNaW5WZWN0b3IpLGM9KG5ldyBUSFJFRS5WZWN0b3IyKS5zdWJWZWN0b3JzKGMsdXZNaW5WZWN0b3IpLmRpdmlkZSh1dlNjYWxlVmVjdG9yKSxuPShuZXcgVEhSRUUuVmVjdG9yMikuc3ViVmVjdG9ycyhuLHV2TWluVmVjdG9yKS5kaXZpZGUodXZTY2FsZVZlY3RvciksYT0obmV3IFRIUkVFLlZlY3RvcjIpLnN1YlZlY3RvcnMoYSx1dk1pblZlY3RvcikuZGl2aWRlKHV2U2NhbGVWZWN0b3IpLHQ9dGhpcy5nZW9tZXRyeT1uZXcgVEhSRUUuR2VvbWV0cnksdC52ZXJ0aWNlcy5wdXNoKG8uYSksdC52ZXJ0aWNlcy5wdXNoKG8uYiksdC52ZXJ0aWNlcy5wdXNoKG8uYyksdC5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMygwLDEsMixyKSksdC5mYWNlVmVydGV4VXZzWzBdPVtbYyxuLGFdXX19KTtcbn0se1wiLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDE1NDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5pZih3aW5kb3cuUHJvbWlzZT13aW5kb3cuUHJvbWlzZXx8X2RlcmVxXyhcInByb21pc2UtcG9seWZpbGxcIiksd2luZG93Lmhhc05hdGl2ZVdlYlZSSW1wbGVtZW50YXRpb249ISF3aW5kb3cubmF2aWdhdG9yLmdldFZSRGlzcGxheXN8fCEhd2luZG93Lm5hdmlnYXRvci5nZXRWUkRldmljZXMsd2luZG93Lmhhc05hdGl2ZVdlYlhSSW1wbGVtZW50YXRpb249dm9pZCAwIT09bmF2aWdhdG9yLnhyLCF3aW5kb3cuaGFzTmF0aXZlV2ViWFJJbXBsZW1lbnRhdGlvbiYmIXdpbmRvdy5oYXNOYXRpdmVXZWJWUkltcGxlbWVudGF0aW9uKXt2YXIgaXNJT1NPbGRlclRoYW4xMD1fZGVyZXFfKFwiLi91dGlscy9pc0lPU09sZGVyVGhhbjEwXCIpLGJ1ZmZlclNjYWxlPWlzSU9TT2xkZXJUaGFuMTAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpPzEvd2luZG93LmRldmljZVBpeGVsUmF0aW86MSxXZWJWUlBvbHlmaWxsPV9kZXJlcV8oXCJ3ZWJ2ci1wb2x5ZmlsbFwiKSxwb2x5ZmlsbENvbmZpZz17QlVGRkVSX1NDQUxFOmJ1ZmZlclNjYWxlLENBUkRCT0FSRF9VSV9ESVNBQkxFRDohMCxST1RBVEVfSU5TVFJVQ1RJT05TX0RJU0FCTEVEOiEwfTt3aW5kb3cud2VidnJwb2x5ZmlsbD1uZXcgV2ViVlJQb2x5ZmlsbChwb2x5ZmlsbENvbmZpZyl9dmFyIHV0aWxzPV9kZXJlcV8oXCIuL3V0aWxzL1wiKSxkZWJ1Zz11dGlscy5kZWJ1Zzt1dGlscy5pc0lFMTEmJihfZGVyZXFfKFwiY3VzdG9tLWV2ZW50LXBvbHlmaWxsXCIpLF9kZXJlcV8oXCIuLi92ZW5kb3Ivc3RhcnRzLXdpdGgtcG9seWZpbGxcIikpO3ZhciBlcnJvcj1kZWJ1ZyhcIkEtRnJhbWU6ZXJyb3JcIiksd2Fybj1kZWJ1ZyhcIkEtRnJhbWU6d2FyblwiKTt3aW5kb3cuZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmd2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQucGFyZW50Tm9kZSE9PXdpbmRvdy5kb2N1bWVudC5oZWFkJiYhd2luZG93LmRlYnVnJiZ3YXJuKFwiUHV0IHRoZSBBLUZyYW1lIDxzY3JpcHQ+IHRhZyBpbiB0aGUgPGhlYWQ+IG9mIHRoZSBIVE1MICpiZWZvcmUqIHRoZSBzY2VuZSB0byBlbnN1cmUgZXZlcnl0aGluZyBmb3IgQS1GcmFtZSBpcyBwcm9wZXJseSByZWdpc3RlcmVkIGJlZm9yZSB0aGV5IGFyZSB1c2VkIGZyb20gSFRNTC5cIiksXCJmaWxlOlwiPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZlcnJvcihcIlRoaXMgSFRNTCBmaWxlIGlzIGN1cnJlbnRseSBiZWluZyBzZXJ2ZWQgdmlhIHRoZSBmaWxlOi8vIHByb3RvY29sLiBBc3NldHMsIHRleHR1cmVzLCBhbmQgbW9kZWxzIFdJTEwgTk9UIFdPUksgZHVlIHRvIGNyb3NzLW9yaWdpbiBwb2xpY3khIFBsZWFzZSB1c2UgYSBsb2NhbCBvciBob3N0ZWQgc2VydmVyOiBodHRwczovL2FmcmFtZS5pby9kb2NzLzAuNS4wL2ludHJvZHVjdGlvbi9nZXR0aW5nLXN0YXJ0ZWQuaHRtbCN1c2luZy1hLWxvY2FsLXNlcnZlci5cIiksX2RlcmVxXyhcInByZXNlbnRcIiksdXRpbHMuZGV2aWNlLmlzQnJvd3NlckVudmlyb25tZW50JiYoX2RlcmVxXyhcIi4vc3R5bGUvYWZyYW1lLmNzc1wiKSxfZGVyZXFfKFwiLi9zdHlsZS9yU3RhdHMuY3NzXCIpKTt2YXIgQVNjZW5lPV9kZXJlcV8oXCIuL2NvcmUvc2NlbmUvYS1zY2VuZVwiKS5BU2NlbmUsY29tcG9uZW50cz1fZGVyZXFfKFwiLi9jb3JlL2NvbXBvbmVudFwiKS5jb21wb25lbnRzLHJlZ2lzdGVyQ29tcG9uZW50PV9kZXJlcV8oXCIuL2NvcmUvY29tcG9uZW50XCIpLnJlZ2lzdGVyQ29tcG9uZW50LHJlZ2lzdGVyR2VvbWV0cnk9X2RlcmVxXyhcIi4vY29yZS9nZW9tZXRyeVwiKS5yZWdpc3Rlckdlb21ldHJ5LHJlZ2lzdGVyUHJpbWl0aXZlPV9kZXJlcV8oXCIuL2V4dHJhcy9wcmltaXRpdmVzL3ByaW1pdGl2ZXNcIikucmVnaXN0ZXJQcmltaXRpdmUscmVnaXN0ZXJTaGFkZXI9X2RlcmVxXyhcIi4vY29yZS9zaGFkZXJcIikucmVnaXN0ZXJTaGFkZXIscmVnaXN0ZXJTeXN0ZW09X2RlcmVxXyhcIi4vY29yZS9zeXN0ZW1cIikucmVnaXN0ZXJTeXN0ZW0sc2hhZGVycz1fZGVyZXFfKFwiLi9jb3JlL3NoYWRlclwiKS5zaGFkZXJzLHN5c3RlbXM9X2RlcmVxXyhcIi4vY29yZS9zeXN0ZW1cIikuc3lzdGVtcyxUSFJFRT13aW5kb3cuVEhSRUU9X2RlcmVxXyhcIi4vbGliL3RocmVlXCIpLHBrZz1fZGVyZXFfKFwiLi4vcGFja2FnZVwiKTtfZGVyZXFfKFwiLi9jb21wb25lbnRzL2luZGV4XCIpLF9kZXJlcV8oXCIuL2dlb21ldHJpZXMvaW5kZXhcIiksX2RlcmVxXyhcIi4vc2hhZGVycy9pbmRleFwiKSxfZGVyZXFfKFwiLi9zeXN0ZW1zL2luZGV4XCIpO3ZhciBBTm9kZT1fZGVyZXFfKFwiLi9jb3JlL2Etbm9kZVwiKSxBRW50aXR5PV9kZXJlcV8oXCIuL2NvcmUvYS1lbnRpdHlcIik7X2RlcmVxXyhcIi4vY29yZS9hLWFzc2V0c1wiKSxfZGVyZXFfKFwiLi9jb3JlL2EtY3ViZW1hcFwiKSxfZGVyZXFfKFwiLi9jb3JlL2EtbWl4aW5cIiksX2RlcmVxXyhcIi4vZXh0cmFzL2NvbXBvbmVudHMvXCIpLF9kZXJlcV8oXCIuL2V4dHJhcy9wcmltaXRpdmVzL1wiKSxjb25zb2xlLmxvZyhcIkEtRnJhbWUgVmVyc2lvbjogMS4wLjMgKERhdGUgMjAxOS0xMi0yOSwgQ29tbWl0ICM1ODM1NzRmMClcIiksY29uc29sZS5sb2coXCJ0aHJlZSBWZXJzaW9uIChodHRwczovL2dpdGh1Yi5jb20vc3VwZXJtZWRpdW0vdGhyZWUuanMpOlwiLHBrZy5kZXBlbmRlbmNpZXNbXCJzdXBlci10aHJlZVwiXSksY29uc29sZS5sb2coXCJXZWJWUiBQb2x5ZmlsbCBWZXJzaW9uOlwiLHBrZy5kZXBlbmRlbmNpZXNbXCJ3ZWJ2ci1wb2x5ZmlsbFwiXSksbW9kdWxlLmV4cG9ydHM9d2luZG93LkFGUkFNRT17QUNvbXBvbmVudDpfZGVyZXFfKFwiLi9jb3JlL2NvbXBvbmVudFwiKS5Db21wb25lbnQsQUVudGl0eTpBRW50aXR5LEFOb2RlOkFOb2RlLEFOSU1FOl9kZXJlcV8oXCJzdXBlci1hbmltZWpzXCIpLEFTY2VuZTpBU2NlbmUsY29tcG9uZW50czpjb21wb25lbnRzLGNvcmVDb21wb25lbnRzOk9iamVjdC5rZXlzKGNvbXBvbmVudHMpLGdlb21ldHJpZXM6X2RlcmVxXyhcIi4vY29yZS9nZW9tZXRyeVwiKS5nZW9tZXRyaWVzLHJlZ2lzdGVyQ29tcG9uZW50OnJlZ2lzdGVyQ29tcG9uZW50LHJlZ2lzdGVyRWxlbWVudDpfZGVyZXFfKFwiLi9jb3JlL2EtcmVnaXN0ZXItZWxlbWVudFwiKS5yZWdpc3RlckVsZW1lbnQscmVnaXN0ZXJHZW9tZXRyeTpyZWdpc3Rlckdlb21ldHJ5LHJlZ2lzdGVyUHJpbWl0aXZlOnJlZ2lzdGVyUHJpbWl0aXZlLHJlZ2lzdGVyU2hhZGVyOnJlZ2lzdGVyU2hhZGVyLHJlZ2lzdGVyU3lzdGVtOnJlZ2lzdGVyU3lzdGVtLHByaW1pdGl2ZXM6e2dldE1lc2hNaXhpbjpfZGVyZXFfKFwiLi9leHRyYXMvcHJpbWl0aXZlcy9nZXRNZXNoTWl4aW5cIikscHJpbWl0aXZlczpfZGVyZXFfKFwiLi9leHRyYXMvcHJpbWl0aXZlcy9wcmltaXRpdmVzXCIpLnByaW1pdGl2ZXN9LHNjZW5lczpfZGVyZXFfKFwiLi9jb3JlL3NjZW5lL3NjZW5lc1wiKSxzY2hlbWE6X2RlcmVxXyhcIi4vY29yZS9zY2hlbWFcIiksc2hhZGVyczpzaGFkZXJzLHN5c3RlbXM6c3lzdGVtcyxUSFJFRTpUSFJFRSx1dGlsczp1dGlscyx2ZXJzaW9uOnBrZy52ZXJzaW9ufTtcbn0se1wiLi4vcGFja2FnZVwiOjU0LFwiLi4vdmVuZG9yL3N0YXJ0cy13aXRoLXBvbHlmaWxsXCI6MTkzLFwiLi9jb21wb25lbnRzL2luZGV4XCI6NjQsXCIuL2NvcmUvYS1hc3NldHNcIjoxMDIsXCIuL2NvcmUvYS1jdWJlbWFwXCI6MTAzLFwiLi9jb3JlL2EtZW50aXR5XCI6MTA0LFwiLi9jb3JlL2EtbWl4aW5cIjoxMDUsXCIuL2NvcmUvYS1ub2RlXCI6MTA2LFwiLi9jb3JlL2EtcmVnaXN0ZXItZWxlbWVudFwiOjEwNyxcIi4vY29yZS9jb21wb25lbnRcIjoxMDgsXCIuL2NvcmUvZ2VvbWV0cnlcIjoxMDksXCIuL2NvcmUvc2NlbmUvYS1zY2VuZVwiOjExMSxcIi4vY29yZS9zY2VuZS9zY2VuZXNcIjoxMTUsXCIuL2NvcmUvc2NoZW1hXCI6MTE3LFwiLi9jb3JlL3NoYWRlclwiOjExOCxcIi4vY29yZS9zeXN0ZW1cIjoxMTksXCIuL2V4dHJhcy9jb21wb25lbnRzL1wiOjEyMCxcIi4vZXh0cmFzL3ByaW1pdGl2ZXMvXCI6MTIzLFwiLi9leHRyYXMvcHJpbWl0aXZlcy9nZXRNZXNoTWl4aW5cIjoxMjIsXCIuL2V4dHJhcy9wcmltaXRpdmVzL3ByaW1pdGl2ZXNcIjoxMjQsXCIuL2dlb21ldHJpZXMvaW5kZXhcIjoxNDUsXCIuL2xpYi90aHJlZVwiOjE1NixcIi4vc2hhZGVycy9pbmRleFwiOjE1OCxcIi4vc3R5bGUvYWZyYW1lLmNzc1wiOjE2MyxcIi4vc3R5bGUvclN0YXRzLmNzc1wiOjE2NCxcIi4vc3lzdGVtcy9pbmRleFwiOjE2OCxcIi4vdXRpbHMvXCI6MTgxLFwiLi91dGlscy9pc0lPU09sZGVyVGhhbjEwXCI6MTgzLFwiY3VzdG9tLWV2ZW50LXBvbHlmaWxsXCI6OSxcInByZXNlbnRcIjozMyxcInByb21pc2UtcG9seWZpbGxcIjozNCxcInN1cGVyLWFuaW1lanNcIjozNixcIndlYnZyLXBvbHlmaWxsXCI6NDl9XSwxNTU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xud2luZG93LmFmcmFtZVN0YXRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpKFwidGVcIikuc2V0KG4oKSksd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUmJmkoXCJsdFwiKS5zZXQod2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJyZW5kZXItc3RhcnRlZFwiKVswXS5zdGFydFRpbWUudG9GaXhlZCgwKSl9ZnVuY3Rpb24gbigpe3ZhciB0PWMucXVlcnlTZWxlY3RvckFsbChcIipcIik7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pc0VudGl0eX0pLHQubGVuZ3RofWZ1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gYSgpe31mdW5jdGlvbiBvKHQpe2k9dH12YXIgaT1udWxsLGM9dDtyZXR1cm57dXBkYXRlOmUsc3RhcnQ6cixlbmQ6YSxhdHRhY2g6byx2YWx1ZXM6e3RlOntjYXB0aW9uOlwiRW50aXRpZXNcIn0sbHQ6e2NhcHRpb246XCJMb2FkIFRpbWVcIn19LGdyb3Vwczpbe2NhcHRpb246XCJBLUZyYW1lXCIsdmFsdWVzOltcInRlXCIsXCJsdFwiXX1dLGZyYWN0aW9uczpbXX19LFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz17YWZyYW1lU3RhdHM6d2luZG93LmFmcmFtZVN0YXRzfSk7XG59LHt9XSwxNTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xudmFyIFRIUkVFPWdsb2JhbC5USFJFRT1fZGVyZXFfKFwic3VwZXItdGhyZWVcIik7VEhSRUUuVGV4dHVyZUxvYWRlciYmKFRIUkVFLlRleHR1cmVMb2FkZXIucHJvdG90eXBlLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIpLFRIUkVFLkltYWdlTG9hZGVyJiYoVEhSRUUuSW1hZ2VMb2FkZXIucHJvdG90eXBlLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIpLFRIUkVFLkNhY2hlJiYoVEhSRUUuQ2FjaGUuZW5hYmxlZD0hMCksX2RlcmVxXyhcIi4uLy4uL3ZlbmRvci9EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzXCIpLF9kZXJlcV8oXCJzdXBlci10aHJlZS9leGFtcGxlcy9qcy9sb2FkZXJzL0RSQUNPTG9hZGVyXCIpLF9kZXJlcV8oXCJzdXBlci10aHJlZS9leGFtcGxlcy9qcy9sb2FkZXJzL0dMVEZMb2FkZXJcIiksX2RlcmVxXyhcInN1cGVyLXRocmVlL2V4YW1wbGVzL2pzL2xvYWRlcnMvT0JKTG9hZGVyXCIpLF9kZXJlcV8oXCJzdXBlci10aHJlZS9leGFtcGxlcy9qcy9sb2FkZXJzL01UTExvYWRlclwiKSxUSFJFRS5EUkFDT0xvYWRlci5wcm90b3R5cGUuY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIixUSFJFRS5HTFRGTG9hZGVyLnByb3RvdHlwZS5jcm9zc09yaWdpbj1cImFub255bW91c1wiLFRIUkVFLk1UTExvYWRlci5wcm90b3R5cGUuY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIixUSFJFRS5PQkpMb2FkZXIucHJvdG90eXBlLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsbW9kdWxlLmV4cG9ydHM9VEhSRUU7XG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi8uLi92ZW5kb3IvRGV2aWNlT3JpZW50YXRpb25Db250cm9sc1wiOjE5MCxcInN1cGVyLXRocmVlXCI6MzcsXCJzdXBlci10aHJlZS9leGFtcGxlcy9qcy9sb2FkZXJzL0RSQUNPTG9hZGVyXCI6MzgsXCJzdXBlci10aHJlZS9leGFtcGxlcy9qcy9sb2FkZXJzL0dMVEZMb2FkZXJcIjozOSxcInN1cGVyLXRocmVlL2V4YW1wbGVzL2pzL2xvYWRlcnMvTVRMTG9hZGVyXCI6NDAsXCJzdXBlci10aHJlZS9leGFtcGxlcy9qcy9sb2FkZXJzL09CSkxvYWRlclwiOjQxfV0sMTU3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGdldE1hdGVyaWFsRGF0YShlLHQpe3JldHVybiB0LmNvbG9yLnNldChlLmNvbG9yKSx0LmZvZz1lLmZvZyx0LndpcmVmcmFtZT1lLndpcmVmcmFtZSx0LndpcmVmcmFtZUxpbmV3aWR0aD1lLndpcmVmcmFtZUxpbmV3aWR0aCx0fXZhciByZWdpc3RlclNoYWRlcj1fZGVyZXFfKFwiLi4vY29yZS9zaGFkZXJcIikucmVnaXN0ZXJTaGFkZXIsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpO21vZHVsZS5leHBvcnRzLlNoYWRlcj1yZWdpc3RlclNoYWRlcihcImZsYXRcIix7c2NoZW1hOntjb2xvcjp7dHlwZTpcImNvbG9yXCJ9LGZvZzp7ZGVmYXVsdDohMH0saGVpZ2h0OntkZWZhdWx0OjI1Nn0sb2Zmc2V0Ont0eXBlOlwidmVjMlwiLGRlZmF1bHQ6e3g6MCx5OjB9fSxyZXBlYXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDoxLHk6MX19LHNyYzp7dHlwZTpcIm1hcFwifSx3aWR0aDp7ZGVmYXVsdDo1MTJ9LHdpcmVmcmFtZTp7ZGVmYXVsdDohMX0sd2lyZWZyYW1lTGluZXdpZHRoOntkZWZhdWx0OjJ9fSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyZXJTeXN0ZW09dGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMucmVuZGVyZXIsdGhpcy5tYXRlcmlhbERhdGE9e2NvbG9yOm5ldyBUSFJFRS5Db2xvcn0sdGhpcy50ZXh0dXJlU3JjPW51bGwsZ2V0TWF0ZXJpYWxEYXRhKGUsdGhpcy5tYXRlcmlhbERhdGEpLHRoaXMucmVuZGVyZXJTeXN0ZW0uYXBwbHlDb2xvckNvcnJlY3Rpb24odGhpcy5tYXRlcmlhbERhdGEuY29sb3IpLHRoaXMubWF0ZXJpYWw9bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHRoaXMubWF0ZXJpYWxEYXRhKSx1dGlscy5tYXRlcmlhbC51cGRhdGVNYXAodGhpcyxlKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlTWF0ZXJpYWwoZSksdXRpbHMubWF0ZXJpYWwudXBkYXRlTWFwKHRoaXMsZSl9LHVwZGF0ZU1hdGVyaWFsOmZ1bmN0aW9uKGUpe3ZhciB0O2dldE1hdGVyaWFsRGF0YShlLHRoaXMubWF0ZXJpYWxEYXRhKSx0aGlzLnJlbmRlcmVyU3lzdGVtLmFwcGx5Q29sb3JDb3JyZWN0aW9uKHRoaXMubWF0ZXJpYWxEYXRhLmNvbG9yKTtmb3IodCBpbiB0aGlzLm1hdGVyaWFsRGF0YSl0aGlzLm1hdGVyaWFsW3RdPXRoaXMubWF0ZXJpYWxEYXRhW3RdfX0pO1xufSx7XCIuLi9jb3JlL3NoYWRlclwiOjExOCxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL1wiOjE4MX1dLDE1ODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5fZGVyZXFfKFwiLi9mbGF0XCIpLF9kZXJlcV8oXCIuL3N0YW5kYXJkXCIpLF9kZXJlcV8oXCIuL3NkZlwiKSxfZGVyZXFfKFwiLi9tc2RmXCIpLF9kZXJlcV8oXCIuL2lvczEwaGxzXCIpO1xufSx7XCIuL2ZsYXRcIjoxNTcsXCIuL2lvczEwaGxzXCI6MTU5LFwiLi9tc2RmXCI6MTYwLFwiLi9zZGZcIjoxNjEsXCIuL3N0YW5kYXJkXCI6MTYyfV0sMTU5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclNoYWRlcj1fZGVyZXFfKFwiLi4vY29yZS9zaGFkZXJcIikucmVnaXN0ZXJTaGFkZXI7bW9kdWxlLmV4cG9ydHMuU2hhZGVyPXJlZ2lzdGVyU2hhZGVyKFwiaW9zMTBobHNcIix7c2NoZW1hOntzcmM6e3R5cGU6XCJtYXBcIixpczpcInVuaWZvcm1cIn0sb3BhY2l0eTp7dHlwZTpcIm51bWJlclwiLGlzOlwidW5pZm9ybVwiLGRlZmF1bHQ6MX19LHZlcnRleFNoYWRlcjpbXCJ2YXJ5aW5nIHZlYzIgdlVWO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcIixcIiAgdlVWID0gdXY7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1widW5pZm9ybSBzYW1wbGVyMkQgc3JjO1wiLFwidW5pZm9ybSBmbG9hdCBvcGFjaXR5O1wiLFwidmFyeWluZyB2ZWMyIHZVVjtcIixcInZvaWQgbWFpbigpIHtcIixcIiAgdmVjMiBvZmZzZXQgPSB2ZWMyKDAsIDApO1wiLFwiICB2ZWMyIHJlcGVhdCA9IHZlYzIoMSwgMSk7XCIsXCIgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQoc3JjLCB2ZWMyKHZVVi54IC8gcmVwZWF0LnggKyBvZmZzZXQueCwgKDEuMCAtIHZVVi55KSAvIHJlcGVhdC55ICsgb2Zmc2V0LnkpKS5iZ3JhO1wiLFwiICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgb3BhY2l0eSk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9KTtcbn0se1wiLi4vY29yZS9zaGFkZXJcIjoxMTh9XSwxNjA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyU2hhZGVyPV9kZXJlcV8oXCIuLi9jb3JlL3NoYWRlclwiKS5yZWdpc3RlclNoYWRlcjttb2R1bGUuZXhwb3J0cy5TaGFkZXI9cmVnaXN0ZXJTaGFkZXIoXCJtc2RmXCIse3NjaGVtYTp7YWxwaGFUZXN0Ont0eXBlOlwibnVtYmVyXCIsaXM6XCJ1bmlmb3JtXCIsZGVmYXVsdDouNX0sY29sb3I6e3R5cGU6XCJjb2xvclwiLGlzOlwidW5pZm9ybVwiLGRlZmF1bHQ6XCJ3aGl0ZVwifSxtYXA6e3R5cGU6XCJtYXBcIixpczpcInVuaWZvcm1cIn0sbmVnYXRlOnt0eXBlOlwiYm9vbGVhblwiLGlzOlwidW5pZm9ybVwiLGRlZmF1bHQ6ITB9LG9wYWNpdHk6e3R5cGU6XCJudW1iZXJcIixpczpcInVuaWZvcm1cIixkZWZhdWx0OjF9fSxyYXc6ITAsdmVydGV4U2hhZGVyOltcImF0dHJpYnV0ZSB2ZWMyIHV2O1wiLFwiYXR0cmlidXRlIHZlYzMgcG9zaXRpb247XCIsXCJ1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDtcIixcInVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7XCIsXCJ2YXJ5aW5nIHZlYzIgdlVWO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcIixcIiAgdlVWID0gdXY7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1wiI2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiLFwiI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXM6IGVuYWJsZVwiLFwiI2VuZGlmXCIsXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XCIsXCJ1bmlmb3JtIGJvb2wgbmVnYXRlO1wiLFwidW5pZm9ybSBmbG9hdCBhbHBoYVRlc3Q7XCIsXCJ1bmlmb3JtIGZsb2F0IG9wYWNpdHk7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XCIsXCJ1bmlmb3JtIHZlYzMgY29sb3I7XCIsXCJ2YXJ5aW5nIHZlYzIgdlVWO1wiLFwiZmxvYXQgbWVkaWFuKGZsb2F0IHIsIGZsb2F0IGcsIGZsb2F0IGIpIHtcIixcIiAgcmV0dXJuIG1heChtaW4ociwgZyksIG1pbihtYXgociwgZyksIGIpKTtcIixcIn1cIixcIiNkZWZpbmUgQklHX0VOT1VHSCAwLjAwMVwiLFwiI2RlZmluZSBNT0RJRklFRF9BTFBIQVRFU1QgKDAuMDIgKiBpc0JpZ0Vub3VnaCAvIEJJR19FTk9VR0gpXCIsXCJ2b2lkIG1haW4oKSB7XCIsXCIgIHZlYzMgc2FtcGxlID0gdGV4dHVyZTJEKG1hcCwgdlVWKS5yZ2I7XCIsXCIgIGlmIChuZWdhdGUpIHsgc2FtcGxlID0gMS4wIC0gc2FtcGxlOyB9XCIsXCIgIGZsb2F0IHNpZ0Rpc3QgPSBtZWRpYW4oc2FtcGxlLnIsIHNhbXBsZS5nLCBzYW1wbGUuYikgLSAwLjU7XCIsXCIgIGZsb2F0IGFscGhhID0gY2xhbXAoc2lnRGlzdCAvIGZ3aWR0aChzaWdEaXN0KSArIDAuNSwgMC4wLCAxLjApO1wiLFwiICBmbG9hdCBkc2NhbGUgPSAwLjM1MzUwNTtcIixcIiAgdmVjMiBkdXYgPSBkc2NhbGUgKiAoZEZkeCh2VVYpICsgZEZkeSh2VVYpKTtcIixcIiAgZmxvYXQgaXNCaWdFbm91Z2ggPSBtYXgoYWJzKGR1di54KSwgYWJzKGR1di55KSk7XCIsXCIgIC8vIERvIG1vZGlmaWVkIGFscGhhIHRlc3QuXCIsXCIgIGlmIChpc0JpZ0Vub3VnaCA+IEJJR19FTk9VR0gpIHtcIixcIiAgICBmbG9hdCByYXRpbyA9IEJJR19FTk9VR0ggLyBpc0JpZ0Vub3VnaDtcIixcIiAgICBhbHBoYSA9IHJhdGlvICogYWxwaGEgKyAoMS4wIC0gcmF0aW8pICogKHNpZ0Rpc3QgKyAwLjUpO1wiLFwiICB9XCIsXCIgIC8vIERvIG1vZGlmaWVkIGFscGhhIHRlc3QuXCIsXCIgIGlmIChhbHBoYSA8IGFscGhhVGVzdCAqIE1PRElGSUVEX0FMUEhBVEVTVCkgeyBkaXNjYXJkOyByZXR1cm47IH1cIixcIiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvci54eXosIGFscGhhICogb3BhY2l0eSk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9KTtcbn0se1wiLi4vY29yZS9zaGFkZXJcIjoxMTh9XSwxNjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyU2hhZGVyPV9kZXJlcV8oXCIuLi9jb3JlL3NoYWRlclwiKS5yZWdpc3RlclNoYWRlcjttb2R1bGUuZXhwb3J0cy5TaGFkZXI9cmVnaXN0ZXJTaGFkZXIoXCJzZGZcIix7c2NoZW1hOnthbHBoYVRlc3Q6e3R5cGU6XCJudW1iZXJcIixpczpcInVuaWZvcm1cIixkZWZhdWx0Oi41fSxjb2xvcjp7dHlwZTpcImNvbG9yXCIsaXM6XCJ1bmlmb3JtXCIsZGVmYXVsdDpcIndoaXRlXCJ9LG1hcDp7dHlwZTpcIm1hcFwiLGlzOlwidW5pZm9ybVwifSxvcGFjaXR5Ont0eXBlOlwibnVtYmVyXCIsaXM6XCJ1bmlmb3JtXCIsZGVmYXVsdDoxfX0scmF3OiEwLHZlcnRleFNoYWRlcjpbXCJhdHRyaWJ1dGUgdmVjMiB1djtcIixcImF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uO1wiLFwidW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7XCIsXCJ1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1wiLFwidmFyeWluZyB2ZWMyIHZVVjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XCIsXCIgIHZVViA9IHV2O1wiLFwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltcIiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIixcIiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzOiBlbmFibGVcIixcIiNlbmRpZlwiLFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1wiLFwidW5pZm9ybSBmbG9hdCBhbHBoYVRlc3Q7XCIsXCJ1bmlmb3JtIGZsb2F0IG9wYWNpdHk7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XCIsXCJ1bmlmb3JtIHZlYzMgY29sb3I7XCIsXCJ2YXJ5aW5nIHZlYzIgdlVWO1wiLFwiI2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiLFwiICBmbG9hdCBjb250b3VyKGZsb2F0IHdpZHRoLCBmbG9hdCB2YWx1ZSkge1wiLFwiICAgIHJldHVybiBzbW9vdGhzdGVwKDAuNSAtIHZhbHVlLCAwLjUgKyB2YWx1ZSwgd2lkdGgpO1wiLFwiICB9XCIsXCIjZWxzZVwiLFwiICBmbG9hdCBhYXN0ZXAoZmxvYXQgdmFsdWUsIGZsb2F0IGFmd2lkdGgpIHtcIixcIiAgICByZXR1cm4gc21vb3Roc3RlcCgwLjUgLSBhZndpZHRoLCAwLjUgKyBhZndpZHRoLCB2YWx1ZSk7XCIsXCIgIH1cIixcIiNlbmRpZlwiLFwiI2RlZmluZSBCSUdfRU5PVUdIIDAuMDAxXCIsXCIjZGVmaW5lIE1PRElGSUVEX0FMUEhBVEVTVCAoMC4wMiAqIGlzQmlnRW5vdWdoIC8gQklHX0VOT1VHSClcIixcIiNkZWZpbmUgQUxMX1NNT09USCAwLjRcIixcIiNkZWZpbmUgQUxMX1JPVUdIIDAuMDJcIixcIiNkZWZpbmUgRElTQ0FSRF9BTFBIQSAoYWxwaGFUZXN0IC8gKDIuMiAtIDEuMiAqIHJhdGlvKSlcIixcInZvaWQgbWFpbigpIHtcIixcIiAgI2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiLFwiICAgIHZlYzIgdXYgPSB2VVY7XCIsXCIgICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRChtYXAsIHV2KTtcIixcIiAgICBmbG9hdCBkaXN0ID0gdGV4Q29sb3IuYTtcIixcIiAgICBmbG9hdCB3aWR0aCA9IGZ3aWR0aChkaXN0KTtcIixcIiAgICBmbG9hdCBhbHBoYSA9IGNvbnRvdXIoZGlzdCwgd2lkdGgpO1wiLFwiICAgIGZsb2F0IGRzY2FsZSA9IDAuMzUzNTA1O1wiLFwiICAgIHZlYzIgZHV2ID0gZHNjYWxlICogKGRGZHgodXYpICsgZEZkeSh1dikpO1wiLFwiICAgIGZsb2F0IGlzQmlnRW5vdWdoID0gbWF4KGFicyhkdXYueCksIGFicyhkdXYueSkpO1wiLFwiICAgIGlmIChpc0JpZ0Vub3VnaCA+IEJJR19FTk9VR0gpIHtcIixcIiAgICAgIGZsb2F0IHJhdGlvID0gQklHX0VOT1VHSCAvIGlzQmlnRW5vdWdoO1wiLFwiICAgICAgYWxwaGEgPSByYXRpbyAqIGFscGhhICsgKDEuMCAtIHJhdGlvKSAqIGRpc3Q7XCIsXCIgICAgfVwiLFwiICAgIGlmIChpc0JpZ0Vub3VnaCA8PSBCSUdfRU5PVUdIKSB7XCIsXCIgICAgICB2ZWM0IGJveCA9IHZlYzQgKHV2IC0gZHV2LCB1diArIGR1dik7XCIsXCIgICAgICBhbHBoYSA9IChhbHBoYSArIDAuNSAqIChcIixcIiAgICAgICAgY29udG91cih0ZXh0dXJlMkQobWFwLCBib3gueHkpLmEsIHdpZHRoKVwiLFwiICAgICAgICArIGNvbnRvdXIodGV4dHVyZTJEKG1hcCwgYm94Lnp3KS5hLCB3aWR0aClcIixcIiAgICAgICAgKyBjb250b3VyKHRleHR1cmUyRChtYXAsIGJveC54dykuYSwgd2lkdGgpXCIsXCIgICAgICAgICsgY29udG91cih0ZXh0dXJlMkQobWFwLCBib3guenkpLmEsIHdpZHRoKVwiLFwiICAgICAgKSkgLyAzLjA7XCIsXCIgICAgfVwiLFwiICAgIGlmIChhbHBoYSA8IGFscGhhVGVzdCAqIE1PRElGSUVEX0FMUEhBVEVTVCkgeyBkaXNjYXJkOyByZXR1cm47IH1cIixcIiAgI2Vsc2VcIixcIiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKG1hcCwgdlVWKTtcIixcIiAgICBmbG9hdCB2YWx1ZSA9IHRleENvbG9yLmE7XCIsXCIgICAgZmxvYXQgYWZ3aWR0aCA9ICgxLjAgLyAzMi4wKSAqICgxLjQxNDIxMzU2MjM3MzA5NTEgLyAoMi4wICogZ2xfRnJhZ0Nvb3JkLncpKTtcIixcIiAgICBmbG9hdCBhbHBoYSA9IGFhc3RlcCh2YWx1ZSwgYWZ3aWR0aCk7XCIsXCIgICAgZmxvYXQgcmF0aW8gPSAoZ2xfRnJhZ0Nvb3JkLncgPj0gQUxMX1NNT09USCkgPyAxLjAgOiAoZ2xfRnJhZ0Nvb3JkLncgPCBBTExfUk9VR0gpID8gMC4wIDogKGdsX0ZyYWdDb29yZC53IC0gQUxMX1JPVUdIKSAvIChBTExfU01PT1RIIC0gQUxMX1JPVUdIKTtcIixcIiAgICBpZiAoYWxwaGEgPCBhbHBoYVRlc3QpIHsgaWYgKHJhdGlvID49IDEuMCkgeyBkaXNjYXJkOyByZXR1cm47IH0gYWxwaGEgPSAwLjA7IH1cIixcIiAgICBhbHBoYSA9IGFscGhhICogcmF0aW8gKyAoMS4wIC0gcmF0aW8pICogdmFsdWU7XCIsXCIgICAgaWYgKHJhdGlvIDwgMS4wICYmIGFscGhhIDw9IERJU0NBUkRfQUxQSEEpIHsgZGlzY2FyZDsgcmV0dXJuOyB9XCIsXCIgICNlbmRpZlwiLFwiICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBvcGFjaXR5ICogYWxwaGEpO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpfSk7XG59LHtcIi4uL2NvcmUvc2hhZGVyXCI6MTE4fV0sMTYyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGdldE1hdGVyaWFsRGF0YShlLHQpe3JldHVybiB0LmNvbG9yLnNldChlLmNvbG9yKSx0LmVtaXNzaXZlLnNldChlLmVtaXNzaXZlKSx0LmVtaXNzaXZlSW50ZW5zaXR5PWUuZW1pc3NpdmVJbnRlbnNpdHksdC5mb2c9ZS5mb2csdC5tZXRhbG5lc3M9ZS5tZXRhbG5lc3MsdC5yb3VnaG5lc3M9ZS5yb3VnaG5lc3MsdC53aXJlZnJhbWU9ZS53aXJlZnJhbWUsdC53aXJlZnJhbWVMaW5ld2lkdGg9ZS53aXJlZnJhbWVMaW5ld2lkdGgsZS5ub3JtYWxNYXAmJih0Lm5vcm1hbFNjYWxlPWUubm9ybWFsU2NhbGUpLGUuYW1iaWVudE9jY2x1c2lvbk1hcCYmKHQuYW9NYXBJbnRlbnNpdHk9ZS5hbWJpZW50T2NjbHVzaW9uTWFwSW50ZW5zaXR5KSxlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50U2NhbGU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXM9ZS5kaXNwbGFjZW1lbnRCaWFzKSx0fXZhciByZWdpc3RlclNoYWRlcj1fZGVyZXFfKFwiLi4vY29yZS9zaGFkZXJcIikucmVnaXN0ZXJTaGFkZXIsVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLEN1YmVMb2FkZXI9bmV3IFRIUkVFLkN1YmVUZXh0dXJlTG9hZGVyLHRleHR1cmVQcm9taXNlcz17fTttb2R1bGUuZXhwb3J0cy5TaGFkZXI9cmVnaXN0ZXJTaGFkZXIoXCJzdGFuZGFyZFwiLHtzY2hlbWE6e2FtYmllbnRPY2NsdXNpb25NYXA6e3R5cGU6XCJtYXBcIn0sYW1iaWVudE9jY2x1c2lvbk1hcEludGVuc2l0eTp7ZGVmYXVsdDoxfSxhbWJpZW50T2NjbHVzaW9uVGV4dHVyZU9mZnNldDp7dHlwZTpcInZlYzJcIn0sYW1iaWVudE9jY2x1c2lvblRleHR1cmVSZXBlYXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDoxLHk6MX19LGNvbG9yOnt0eXBlOlwiY29sb3JcIn0sZGlzcGxhY2VtZW50TWFwOnt0eXBlOlwibWFwXCJ9LGRpc3BsYWNlbWVudFNjYWxlOntkZWZhdWx0OjF9LGRpc3BsYWNlbWVudEJpYXM6e2RlZmF1bHQ6LjV9LGRpc3BsYWNlbWVudFRleHR1cmVPZmZzZXQ6e3R5cGU6XCJ2ZWMyXCJ9LGRpc3BsYWNlbWVudFRleHR1cmVSZXBlYXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDoxLHk6MX19LGVtaXNzaXZlOnt0eXBlOlwiY29sb3JcIixkZWZhdWx0OlwiIzAwMFwifSxlbWlzc2l2ZUludGVuc2l0eTp7ZGVmYXVsdDoxfSxlbnZNYXA6e2RlZmF1bHQ6XCJcIn0sZm9nOntkZWZhdWx0OiEwfSxoZWlnaHQ6e2RlZmF1bHQ6MjU2fSxtZXRhbG5lc3M6e2RlZmF1bHQ6MCxtaW46MCxtYXg6MX0sbWV0YWxuZXNzTWFwOnt0eXBlOlwibWFwXCJ9LG1ldGFsbmVzc1RleHR1cmVPZmZzZXQ6e3R5cGU6XCJ2ZWMyXCJ9LG1ldGFsbmVzc1RleHR1cmVSZXBlYXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDoxLHk6MX19LG5vcm1hbE1hcDp7dHlwZTpcIm1hcFwifSxub3JtYWxTY2FsZTp7dHlwZTpcInZlYzJcIixkZWZhdWx0Ont4OjEseToxfX0sbm9ybWFsVGV4dHVyZU9mZnNldDp7dHlwZTpcInZlYzJcIn0sbm9ybWFsVGV4dHVyZVJlcGVhdDp7dHlwZTpcInZlYzJcIixkZWZhdWx0Ont4OjEseToxfX0sb2Zmc2V0Ont0eXBlOlwidmVjMlwiLGRlZmF1bHQ6e3g6MCx5OjB9fSxyZXBlYXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDoxLHk6MX19LHJvdWdobmVzczp7ZGVmYXVsdDouNSxtaW46MCxtYXg6MX0scm91Z2huZXNzTWFwOnt0eXBlOlwibWFwXCJ9LHJvdWdobmVzc1RleHR1cmVPZmZzZXQ6e3R5cGU6XCJ2ZWMyXCJ9LHJvdWdobmVzc1RleHR1cmVSZXBlYXQ6e3R5cGU6XCJ2ZWMyXCIsZGVmYXVsdDp7eDoxLHk6MX19LHNwaGVyaWNhbEVudk1hcDp7dHlwZTpcIm1hcFwifSxzcmM6e3R5cGU6XCJtYXBcIn0sd2lkdGg6e2RlZmF1bHQ6NTEyfSx3aXJlZnJhbWU6e2RlZmF1bHQ6ITF9LHdpcmVmcmFtZUxpbmV3aWR0aDp7ZGVmYXVsdDoyfX0saW5pdDpmdW5jdGlvbihlKXt0aGlzLnJlbmRlcmVyU3lzdGVtPXRoaXMuZWwuc2NlbmVFbC5zeXN0ZW1zLnJlbmRlcmVyLHRoaXMubWF0ZXJpYWxEYXRhPXtjb2xvcjpuZXcgVEhSRUUuQ29sb3IsZW1pc3NpdmU6bmV3IFRIUkVFLkNvbG9yfSxnZXRNYXRlcmlhbERhdGEoZSx0aGlzLm1hdGVyaWFsRGF0YSksdGhpcy5yZW5kZXJlclN5c3RlbS5hcHBseUNvbG9yQ29ycmVjdGlvbih0aGlzLm1hdGVyaWFsRGF0YS5jb2xvciksdGhpcy5yZW5kZXJlclN5c3RlbS5hcHBseUNvbG9yQ29ycmVjdGlvbih0aGlzLm1hdGVyaWFsRGF0YS5lbWlzc2l2ZSksdGhpcy5tYXRlcmlhbD1uZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwodGhpcy5tYXRlcmlhbERhdGEpLHV0aWxzLm1hdGVyaWFsLnVwZGF0ZU1hcCh0aGlzLGUpLGUubm9ybWFsTWFwJiZ1dGlscy5tYXRlcmlhbC51cGRhdGVEaXN0b3J0aW9uTWFwKFwibm9ybWFsXCIsdGhpcyxlKSxlLmRpc3BsYWNlbWVudE1hcCYmdXRpbHMubWF0ZXJpYWwudXBkYXRlRGlzdG9ydGlvbk1hcChcImRpc3BsYWNlbWVudFwiLHRoaXMsZSksZS5hbWJpZW50T2NjbHVzaW9uTWFwJiZ1dGlscy5tYXRlcmlhbC51cGRhdGVEaXN0b3J0aW9uTWFwKFwiYW1iaWVudE9jY2x1c2lvblwiLHRoaXMsZSksZS5tZXRhbG5lc3NNYXAmJnV0aWxzLm1hdGVyaWFsLnVwZGF0ZURpc3RvcnRpb25NYXAoXCJtZXRhbG5lc3NcIix0aGlzLGUpLGUucm91Z2huZXNzTWFwJiZ1dGlscy5tYXRlcmlhbC51cGRhdGVEaXN0b3J0aW9uTWFwKFwicm91Z2huZXNzXCIsdGhpcyxlKSx0aGlzLnVwZGF0ZUVudk1hcChlKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlTWF0ZXJpYWwoZSksdXRpbHMubWF0ZXJpYWwudXBkYXRlTWFwKHRoaXMsZSksZS5ub3JtYWxNYXAmJnV0aWxzLm1hdGVyaWFsLnVwZGF0ZURpc3RvcnRpb25NYXAoXCJub3JtYWxcIix0aGlzLGUpLGUuZGlzcGxhY2VtZW50TWFwJiZ1dGlscy5tYXRlcmlhbC51cGRhdGVEaXN0b3J0aW9uTWFwKFwiZGlzcGxhY2VtZW50XCIsdGhpcyxlKSxlLmFtYmllbnRPY2NsdXNpb25NYXAmJnV0aWxzLm1hdGVyaWFsLnVwZGF0ZURpc3RvcnRpb25NYXAoXCJhbWJpZW50T2NjbHVzaW9uXCIsdGhpcyxlKSxlLm1ldGFsbmVzc01hcCYmdXRpbHMubWF0ZXJpYWwudXBkYXRlRGlzdG9ydGlvbk1hcChcIm1ldGFsbmVzc1wiLHRoaXMsZSksZS5yb3VnaG5lc3NNYXAmJnV0aWxzLm1hdGVyaWFsLnVwZGF0ZURpc3RvcnRpb25NYXAoXCJyb3VnaG5lc3NcIix0aGlzLGUpLHRoaXMudXBkYXRlRW52TWFwKGUpfSx1cGRhdGVNYXRlcmlhbDpmdW5jdGlvbihlKXt2YXIgdCxhPXRoaXMubWF0ZXJpYWw7Z2V0TWF0ZXJpYWxEYXRhKGUsdGhpcy5tYXRlcmlhbERhdGEpLHRoaXMucmVuZGVyZXJTeXN0ZW0uYXBwbHlDb2xvckNvcnJlY3Rpb24odGhpcy5tYXRlcmlhbERhdGEuY29sb3IpLHRoaXMucmVuZGVyZXJTeXN0ZW0uYXBwbHlDb2xvckNvcnJlY3Rpb24odGhpcy5tYXRlcmlhbERhdGEuZW1pc3NpdmUpO2Zvcih0IGluIHRoaXMubWF0ZXJpYWxEYXRhKWFbdF09dGhpcy5tYXRlcmlhbERhdGFbdF19LHVwZGF0ZUVudk1hcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGE9dGhpcy5tYXRlcmlhbCxpPWUuZW52TWFwLHM9ZS5zcGhlcmljYWxFbnZNYXA7cmV0dXJuIWkmJiFzfHx0aGlzLmlzTG9hZGluZ0Vudk1hcD8oYS5lbnZNYXA9bnVsbCx2b2lkKGEubmVlZHNVcGRhdGU9ITApKToodGhpcy5pc0xvYWRpbmdFbnZNYXA9ITAscz92b2lkIHRoaXMuZWwuc2NlbmVFbC5zeXN0ZW1zLm1hdGVyaWFsLmxvYWRUZXh0dXJlKHMse3NyYzpzfSxmdW5jdGlvbihlKXt0LmlzTG9hZGluZ0Vudk1hcD0hMSxlLm1hcHBpbmc9VEhSRUUuU3BoZXJpY2FsUmVmbGVjdGlvbk1hcHBpbmcsYS5lbnZNYXA9ZSx1dGlscy5tYXRlcmlhbC5oYW5kbGVUZXh0dXJlRXZlbnRzKHQuZWwsZSksYS5uZWVkc1VwZGF0ZT0hMH0pOnRleHR1cmVQcm9taXNlc1tpXT92b2lkIHRleHR1cmVQcm9taXNlc1tpXS50aGVuKGZ1bmN0aW9uKGUpe3QuaXNMb2FkaW5nRW52TWFwPSExLGEuZW52TWFwPWUsdXRpbHMubWF0ZXJpYWwuaGFuZGxlVGV4dHVyZUV2ZW50cyh0LmVsLGUpLGEubmVlZHNVcGRhdGU9ITB9KTp2b2lkKHRleHR1cmVQcm9taXNlc1tpXT1uZXcgUHJvbWlzZShmdW5jdGlvbihlKXt1dGlscy5zcmNMb2FkZXIudmFsaWRhdGVDdWJlbWFwU3JjKGksZnVuY3Rpb24oaSl7Q3ViZUxvYWRlci5sb2FkKGksZnVuY3Rpb24oaSl7dC5pc0xvYWRpbmdFbnZNYXA9ITEsYS5lbnZNYXA9aSx1dGlscy5tYXRlcmlhbC5oYW5kbGVUZXh0dXJlRXZlbnRzKHQuZWwsaSksZShpKX0pfSl9KSkpfX0pO1xufSx7XCIuLi9jb3JlL3NoYWRlclwiOjExOCxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL1wiOjE4MX1dLDE2MzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgY3NzID0gXCJodG1sLmEtZnVsbHNjcmVlbntib3R0b206MDtsZWZ0OjA7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MDt0b3A6MH1odG1sLmEtZnVsbHNjcmVlbiBib2R5e2hlaWdodDoxMDAlO21hcmdpbjowO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjA7d2lkdGg6MTAwJX1odG1sLmEtZnVsbHNjcmVlbiAuYS1jYW52YXN7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O3JpZ2h0OjAhaW1wb3J0YW50O2JvdHRvbTowIWltcG9ydGFudDtwb3NpdGlvbjpmaXhlZCFpbXBvcnRhbnR9aHRtbDpub3QoLmEtZnVsbHNjcmVlbikgLmEtZW50ZXItYXIsaHRtbDpub3QoLmEtZnVsbHNjcmVlbikgLmEtZW50ZXItdnJ7cmlnaHQ6NXB4O2JvdHRvbTo1cHh9Oi13ZWJraXQtZnVsbC1zY3JlZW57YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uYS1oaWRkZW57ZGlzcGxheTpub25lIWltcG9ydGFudH0uYS1jYW52YXN7aGVpZ2h0OjEwMCU7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LmEtY2FudmFzLmEtZ3JhYi1jdXJzb3I6aG92ZXJ7Y3Vyc29yOmdyYWI7Y3Vyc29yOi1tb3otZ3JhYjtjdXJzb3I6LXdlYmtpdC1ncmFifWNhbnZhcy5hLWNhbnZhcy5hLW1vdXNlLWN1cnNvci1ob3Zlcjpob3ZlcntjdXJzb3I6cG9pbnRlcn0uYS1pbnNwZWN0b3ItbG9hZGVye2JhY2tncm91bmQtY29sb3I6I2VkMzE2MDtwb3NpdGlvbjpmaXhlZDtsZWZ0OjNweDt0b3A6M3B4O3BhZGRpbmc6NnB4IDEwcHg7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6MTJweDtmb250LWZhbWlseTpSb2JvdG8sc2Fucy1zZXJpZjt0ZXh0LWFsaWduOmNlbnRlcjt6LWluZGV4Ojk5OTk5O3dpZHRoOjIwNHB4fUBrZXlmcmFtZXMgZG90cy0xe2Zyb217b3BhY2l0eTowfTI1JXtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZG90cy0ye2Zyb217b3BhY2l0eTowfTUwJXtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZG90cy0ze2Zyb217b3BhY2l0eTowfTc1JXtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBkb3RzLTF7ZnJvbXtvcGFjaXR5OjB9MjUle29wYWNpdHk6MX19QC13ZWJraXQta2V5ZnJhbWVzIGRvdHMtMntmcm9te29wYWNpdHk6MH01MCV7b3BhY2l0eToxfX1ALXdlYmtpdC1rZXlmcmFtZXMgZG90cy0ze2Zyb217b3BhY2l0eTowfTc1JXtvcGFjaXR5OjF9fS5hLWluc3BlY3Rvci1sb2FkZXIgLmRvdHMgc3BhbnthbmltYXRpb246ZG90cy0xIDJzIGluZmluaXRlIHN0ZXBzKDEpOy13ZWJraXQtYW5pbWF0aW9uOmRvdHMtMSAycyBpbmZpbml0ZSBzdGVwcygxKX0uYS1pbnNwZWN0b3ItbG9hZGVyIC5kb3RzIHNwYW46Zmlyc3QtY2hpbGQrc3BhbnthbmltYXRpb24tbmFtZTpkb3RzLTI7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpkb3RzLTJ9LmEtaW5zcGVjdG9yLWxvYWRlciAuZG90cyBzcGFuOmZpcnN0LWNoaWxkK3NwYW4rc3BhbnthbmltYXRpb24tbmFtZTpkb3RzLTM7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpkb3RzLTN9YS1zY2VuZXtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9YS1hc3NldHMsYS1zY2VuZSBhdWRpbyxhLXNjZW5lIGltZyxhLXNjZW5lIHZpZGVve2Rpc3BsYXk6bm9uZX0uYS1lbnRlci12ci1tb2RhbCwuYS1vcmllbnRhdGlvbi1tb2RhbHtmb250LWZhbWlseTpDb25zb2xhcyxBbmRhbGUgTW9ubyxDb3VyaWVyIE5ldyxtb25vc3BhY2V9LmEtZW50ZXItdnItbW9kYWwgYXtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZmZmO3BhZGRpbmc6MnB4IDA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dHJhbnNpdGlvbjouMXMgY29sb3IgZWFzZS1pbn0uYS1lbnRlci12ci1tb2RhbCBhOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2ZmZjtjb2xvcjojMTExO3BhZGRpbmc6MnB4IDRweDtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0Oi00cHh9LmEtZW50ZXItYXIsLmEtZW50ZXItdnJ7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZixtb25vc3BhY2U7Zm9udC1zaXplOjEzcHg7d2lkdGg6MTAwJTtmb250LXdlaWdodDoyMDA7bGluZS1oZWlnaHQ6MTZweDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoyMHB4O2JvdHRvbToyMHB4fS5hLWVudGVyLWFye3JpZ2h0OjgwcHh9LmEtZW50ZXItdnItYnV0dG9uLC5hLWVudGVyLXZyLW1vZGFsLC5hLWVudGVyLXZyLW1vZGFsIGF7Y29sb3I6I2ZmZjt1c2VyLXNlbGVjdDpub25lO291dGxpbmU6MH0uYS1lbnRlci12ci1idXR0b257YmFja2dyb3VuZDp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTA4JyBoZWlnaHQ9JzYyJyB2aWV3Qm94PScwIDAgMTA4IDYyJyUzRSUzQ3RpdGxlJTNFYWZyYW1lLXZybW9kZS1ub2JvcmRlci1yZWR1Y2VkLXRyYWNraW5nJTNDL3RpdGxlJTNFJTNDcGF0aCBkPSdNNjguODEsMjEuNTZINjQuMjN2OC4yN2g0LjU4YTQuMTMsNC4xMywwLDAsMCwzLjEtMS4wOSw0LjIsNC4yLDAsMCwwLDEtMyw0LjI0LDQuMjQsMCwwLDAtMS0zQTQuMDUsNC4wNSwwLDAsMCw2OC44MSwyMS41NlonIGZpbGw9JyUyM2ZmZicvJTNFJTNDcGF0aCBkPSdNOTYsMEgxMkExMiwxMiwwLDAsMCwwLDEyVjUwQTEyLDEyLDAsMCwwLDEyLDYySDk2YTEyLDEyLDAsMCwwLDEyLTEyVjEyQTEyLDEyLDAsMCwwLDk2LDBaTTQxLjksNDZIMzRMMjQsMTZoOGw2LDIxLjg0LDYtMjEuODRINTJabTM5LjI5LDBINzMuNDRMNjguMTUsMzUuMzlINjQuMjNWNDZINTdWMTZINjguODFxNS4zMiwwLDguMzQsMi4zN2E4LDgsMCwwLDEsMyw2LjY5LDkuNjgsOS42OCwwLDAsMS0xLjI3LDUuMTgsOC45LDguOSwwLDAsMS00LDMuMzRsNi4yNiwxMi4xMVonIGZpbGw9JyUyM2ZmZicvJTNFJTNDL3N2ZyUzRVxcXCIpIDUwJSA1MCUgbm8tcmVwZWF0IHJnYmEoMCwwLDAsLjM1KX0uYS1lbnRlci1hci1idXR0b257YmFja2dyb3VuZDp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTA4JyBoZWlnaHQ9JzYyJyB2aWV3Qm94PScwIDAgMTA4IDYyJyUzRSUzQ3RpdGxlJTNFYWZyYW1lLWFybW9kZS1ub2JvcmRlci1yZWR1Y2VkLXRyYWNraW5nJTNDL3RpdGxlJTNFJTNDcGF0aCBkPSdNOTYsMEgxMkExMiwxMiwwLDAsMCwwLDEyVjUwQTEyLDEyLDAsMCwwLDEyLDYySDk2YTEyLDEyLDAsMCwwLDEyLTEyVjEyQTEyLDEyLDAsMCwwLDk2LDBabTgsNTBhOCw4LDAsMCwxLTgsOEgxMmE4LDgsMCwwLDEtOC04VjEyYTgsOCwwLDAsMSw4LThIOTZhOCw4LDAsMCwxLDgsOFonIGZpbGw9JyUyM2ZmZicvJTNFJTNDcGF0aCBkPSdNNDMuMzUsMzkuODJIMzIuNTFMMzAuNDUsNDZIMjMuODhMMzUsMTZoNS43M0w1Miw0Nkg0NS40M1ptLTkuMTctNWg3LjVMMzcuOTEsMjMuNThaJyBmaWxsPSclMjNmZmYnLyUzRSUzQ3BhdGggZD0nTTY4LjExLDM1SDYzLjE4VjQ2SDU3VjE2SDY4LjE1cTUuMzEsMCw4LjIsMi4zN2E4LjE4LDguMTgsMCwwLDEsMi44OCw2LjcsOS4yMiw5LjIyLDAsMCwxLTEuMzMsNS4xMiw5LjA5LDkuMDksMCwwLDEtNCwzLjI2bDYuNDksMTIuMjZWNDZINzMuNzNabS00LjkzLTVoNWE1LjA5LDUuMDksMCwwLDAsMy42LTEuMTgsNC4yMSw0LjIxLDAsMCwwLDEuMjgtMy4yNyw0LjU2LDQuNTYsMCwwLDAtMS4yLTMuMzRBNSw1LDAsMCwwLDY4LjE1LDIxaC01WicgZmlsbD0nJTIzZmZmJy8lM0UlM0Mvc3ZnJTNFXFxcIikgNTAlIDUwJSBuby1yZXBlYXQgcmdiYSgwLDAsMCwuMil9LmEtZW50ZXItYXItYnV0dG9uLC5hLWVudGVyLXZyLWJ1dHRvbntiYWNrZ3JvdW5kLXNpemU6OTAlIDkwJTtib3JkZXI6MDtib3R0b206MDtjdXJzb3I6cG9pbnRlcjttaW4td2lkdGg6NThweDttaW4taGVpZ2h0OjM0cHg7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjA1cyBlYXNlOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4wNXMgZWFzZTt6LWluZGV4Ojk5OTk7Ym9yZGVyLXJhZGl1czo4cHg7dG91Y2gtYWN0aW9uOm1hbmlwdWxhdGlvbn0uYS1lbnRlci1hci1idXR0b257YmFja2dyb3VuZC1zaXplOjEwMCUgOTAlO21hcmdpbi1yaWdodDoxMHB4O2JvcmRlci1yYWRpdXM6N3B4fS5hLWVudGVyLWFyLWJ1dHRvbjphY3RpdmUsLmEtZW50ZXItYXItYnV0dG9uOmhvdmVyLC5hLWVudGVyLXZyLWJ1dHRvbjphY3RpdmUsLmEtZW50ZXItdnItYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VmMmQ1ZX0uYS1lbnRlci12ci1idXR0b24ucmVzZXRob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjM1KX1bZGF0YS1hLWVudGVyLXZyLW5vLXdlYnZyXSAuYS1lbnRlci12ci1idXR0b257Ym9yZGVyLWNvbG9yOiM2NjY7b3BhY2l0eTouNjV9W2RhdGEtYS1lbnRlci12ci1uby13ZWJ2cl0gLmEtZW50ZXItdnItYnV0dG9uOmFjdGl2ZSxbZGF0YS1hLWVudGVyLXZyLW5vLXdlYnZyXSAuYS1lbnRlci12ci1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4zNSk7Y3Vyc29yOm5vdC1hbGxvd2VkfS5hLWVudGVyLXZyLW1vZGFse2JhY2tncm91bmQtY29sb3I6IzY2Njtib3JkZXItcmFkaXVzOjA7ZGlzcGxheTpub25lO21pbi1oZWlnaHQ6MzJweDttYXJnaW4tcmlnaHQ6NzBweDtwYWRkaW5nOjlweDt3aWR0aDoyODBweDtyaWdodDoyJTtwb3NpdGlvbjphYnNvbHV0ZX0uYS1lbnRlci12ci1tb2RhbDphZnRlcntib3JkZXItYm90dG9tOjEwcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6MTBweCBzb2xpZCAjNjY2O2JvcmRlci10b3A6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtkaXNwbGF5OmlubGluZS1ibG9jaztjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0Oi01cHg7dG9wOjVweDt3aWR0aDowO2hlaWdodDowfS5hLWVudGVyLXZyLW1vZGFsIGEsLmEtZW50ZXItdnItbW9kYWwgcHtkaXNwbGF5OmlubGluZX0uYS1lbnRlci12ci1tb2RhbCBwe21hcmdpbjowfS5hLWVudGVyLXZyLW1vZGFsIHA6YWZ0ZXJ7Y29udGVudDonICd9W2RhdGEtYS1lbnRlci12ci1uby1oZWFkc2V0XS5hLWVudGVyLXZyOmhvdmVyIC5hLWVudGVyLXZyLW1vZGFsLFtkYXRhLWEtZW50ZXItdnItbm8td2VidnJdLmEtZW50ZXItdnI6aG92ZXIgLmEtZW50ZXItdnItbW9kYWx7ZGlzcGxheTpibG9ja30uYS1vcmllbnRhdGlvbi1tb2RhbHtiYWNrZ3JvdW5kOnVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBLy93d3cudzMub3JnLzIwMDAvc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0EvL3d3dy53My5vcmcvMTk5OS94bGluayUyMiUyMHZlcnNpb24lM0QlMjIxLjElMjIlMjB4JTNEJTIyMHB4JTIyJTIweSUzRCUyMjBweCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDkwJTIwOTAlMjIlMjBlbmFibGUtYmFja2dyb3VuZCUzRCUyMm5ldyUyMDAlMjAwJTIwOTAlMjA5MCUyMiUyMHhtbCUzQXNwYWNlJTNEJTIycHJlc2VydmUlMjIlM0UlM0Nwb2x5Z29uJTIwcG9pbnRzJTNEJTIyMCUyQzAlMjAwJTJDMCUyMDAlMkMwJTIwJTIyJTNFJTNDL3BvbHlnb24lM0UlM0NnJTNFJTNDcGF0aCUyMGQlM0QlMjJNNzEuNTQ1JTJDNDguMTQ1aC0zMS45OFYyMC43NDNjMC0yLjYyNy0yLjEzOC00Ljc2NS00Ljc2NS00Ljc2NUgxOC40NTZjLTIuNjI4JTJDMC00Ljc2NyUyQzIuMTM4LTQuNzY3JTJDNC43NjV2NDIuNzg5JTIwJTIwJTIwYzAlMkMyLjYyOCUyQzIuMTM4JTJDNC43NjYlMkM0Ljc2NyUyQzQuNzY2aDUuNTM1djAuOTU5YzAlMkMyLjYyOCUyQzIuMTM4JTJDNC43NjUlMkM0Ljc2NiUyQzQuNzY1aDQyLjc4OGMyLjYyOCUyQzAlMkM0Ljc2Ni0yLjEzNyUyQzQuNzY2LTQuNzY1VjUyLjkxNCUyMCUyMCUyMEM3Ni4zMTElMkM1MC4yODQlMkM3NC4xNzMlMkM0OC4xNDUlMkM3MS41NDUlMkM0OC4xNDV6JTIwTTE4LjQ1NSUyQzE2LjkzNWgxNi4zNDRjMi4xJTJDMCUyQzMuODA4JTJDMS43MDglMkMzLjgwOCUyQzMuODA4djI3LjQwMUgzNy4yNVYyMi42MzYlMjAlMjAlMjBjMC0wLjI2NC0wLjIxNS0wLjQ3OC0wLjQ3OS0wLjQ3OEgxNi40ODJjLTAuMjY0JTJDMC0wLjQ3OSUyQzAuMjE0LTAuNDc5JTJDMC40Nzh2MzYuNTg1YzAlMkMwLjI2NCUyQzAuMjE1JTJDMC40NzglMkMwLjQ3OSUyQzAuNDc4aDcuNTA3djcuNjQ0JTIwJTIwJTIwaC01LjUzNGMtMi4xMDElMkMwLTMuODEtMS43MDktMy44MS0zLjgxVjIwLjc0M0MxNC42NDUlMkMxOC42NDMlMkMxNi4zNTQlMkMxNi45MzUlMkMxOC40NTUlMkMxNi45MzV6JTIwTTE2Ljk2JTJDMjMuMTE2aDE5LjMzMXYyNS4wMzFoLTcuNTM1JTIwJTIwJTIwYy0yLjYyOCUyQzAtNC43NjYlMkMyLjEzOS00Ljc2NiUyQzQuNzY4djUuODI4aC03LjAzVjIzLjExNnolMjBNNzEuNTQ1JTJDNzMuMDY0SDI4Ljc1N2MtMi4xMDElMkMwLTMuODEtMS43MDgtMy44MS0zLjgwOFY1Mi45MTQlMjAlMjAlMjBjMC0yLjEwMiUyQzEuNzA5LTMuODEyJTJDMy44MS0zLjgxMmg0Mi43ODhjMi4xJTJDMCUyQzMuODA5JTJDMS43MSUyQzMuODA5JTJDMy44MTJ2MTYuMzQzQzc1LjM1NCUyQzcxLjM1NiUyQzczLjY0NSUyQzczLjA2NCUyQzcxLjU0NSUyQzczLjA2NHolMjIlM0UlM0MvcGF0aCUzRSUzQ3BhdGglMjBkJTNEJTIyTTI4LjkxOSUyQzU4LjQyNGMtMS40NjYlMkMwLTIuNjU5JTJDMS4xOTMtMi42NTklMkMyLjY2YzAlMkMxLjQ2NiUyQzEuMTkzJTJDMi42NTglMkMyLjY1OSUyQzIuNjU4YzEuNDY4JTJDMCUyQzIuNjYyLTEuMTkyJTJDMi42NjItMi42NTglMjAlMjAlMjBDMzEuNTgxJTJDNTkuNjE3JTJDMzAuMzg3JTJDNTguNDI0JTJDMjguOTE5JTJDNTguNDI0eiUyME0yOC45MTklMkM2Mi43ODZjLTAuOTM5JTJDMC0xLjcwMy0wLjc2NC0xLjcwMy0xLjcwMmMwLTAuOTM5JTJDMC43NjQtMS43MDQlMkMxLjcwMy0xLjcwNCUyMCUyMCUyMGMwLjk0JTJDMCUyQzEuNzA1JTJDMC43NjUlMkMxLjcwNSUyQzEuNzA0QzMwLjYyMyUyQzYyLjAyMiUyQzI5Ljg1OCUyQzYyLjc4NiUyQzI4LjkxOSUyQzYyLjc4NnolMjIlM0UlM0MvcGF0aCUzRSUzQ3BhdGglMjBkJTNEJTIyTTY5LjY1NCUyQzUwLjQ2MUgzMy4wNjljLTAuMjY0JTJDMC0wLjQ3OSUyQzAuMjE1LTAuNDc5JTJDMC40Nzl2MjAuMjg4YzAlMkMwLjI2NCUyQzAuMjE1JTJDMC40NzglMkMwLjQ3OSUyQzAuNDc4aDM2LjU4NSUyMCUyMCUyMGMwLjI2MyUyQzAlMkMwLjQ3Ny0wLjIxNCUyQzAuNDc3LTAuNDc4VjUwLjkzOUM3MC4xMzElMkM1MC42NzYlMkM2OS45MTclMkM1MC40NjElMkM2OS42NTQlMkM1MC40NjF6JTIwTTY5LjE3NCUyQzUxLjQxN1Y3MC43NUgzMy41NDhWNTEuNDE3SDY5LjE3NHolMjIlM0UlM0MvcGF0aCUzRSUzQ3BhdGglMjBkJTNEJTIyTTQ1LjIwMSUyQzMwLjI5NmM2LjY1MSUyQzAlMkMxMi4yMzMlMkM1LjM1MSUyQzEyLjU1MSUyQzExLjk3N2wtMy4wMzMtMi42MzhjLTAuMTkzLTAuMTY1LTAuNTA3LTAuMTQyLTAuNjc1JTJDMC4wNDglMjAlMjAlMjBjLTAuMTc0JTJDMC4xOTgtMC4xNTMlMkMwLjUwMSUyQzAuMDQ1JTJDMC42NzZsMy44ODMlMkMzLjM3NWMwLjA5JTJDMC4wNzUlMkMwLjE5OCUyQzAuMTE1JTJDMC4zMTIlMkMwLjExNWMwLjE0MSUyQzAlMkMwLjI3My0wLjA2MSUyQzAuMzYyLTAuMTY2JTIwJTIwJTIwbDMuMzcxLTMuODc3YzAuMTczLTAuMiUyQzAuMTUxLTAuNTAyLTAuMDQ3LTAuNjc1Yy0wLjE5NC0wLjE2Ni0wLjUwOC0wLjE0NC0wLjY3NiUyQzAuMDQ4bC0yLjU5MiUyQzIuOTc5JTIwJTIwJTIwYy0wLjE4LTMuNDE3LTEuNjI5LTYuNjA1LTQuMDk5LTkuMDAxYy0yLjUzOC0yLjQ2MS01Ljg3Ny0zLjgxNy05LjQwNC0zLjgxN2MtMC4yNjQlMkMwLTAuNDc5JTJDMC4yMTUtMC40NzklMkMwLjQ3OSUyMCUyMCUyMEM0NC43MiUyQzMwLjA4MyUyQzQ0LjkzNiUyQzMwLjI5NiUyQzQ1LjIwMSUyQzMwLjI5NnolMjIlM0UlM0MvcGF0aCUzRSUzQy9nJTNFJTNDL3N2ZyUzRSkgY2VudGVyLzUwJSA1MCUgbm8tcmVwZWF0IHJnYmEoMjQ0LDI0NCwyNDQsMSk7Ym90dG9tOjA7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NjAwO2xlZnQ6MDtsaW5lLWhlaWdodDoyMHB4O3JpZ2h0OjA7cG9zaXRpb246Zml4ZWQ7dG9wOjA7ei1pbmRleDo5OTk5OTk5fS5hLW9yaWVudGF0aW9uLW1vZGFsOmFmdGVye2NvbG9yOiM2NjY7Y29udGVudDpcXFwiSW5zZXJ0IHBob25lIGludG8gQ2FyZGJvYXJkIGhvbGRlci5cXFwiO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOjcwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNzAlKTt3aWR0aDoxMDAlfS5hLW9yaWVudGF0aW9uLW1vZGFsIGJ1dHRvbntiYWNrZ3JvdW5kOnVybChkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnJTIweG1sbnMlM0QlMjJodHRwJTNBLy93d3cudzMub3JnLzIwMDAvc3ZnJTIyJTIweG1sbnMlM0F4bGluayUzRCUyMmh0dHAlM0EvL3d3dy53My5vcmcvMTk5OS94bGluayUyMiUyMHZlcnNpb24lM0QlMjIxLjElMjIlMjB4JTNEJTIyMHB4JTIyJTIweSUzRCUyMjBweCUyMiUyMHZpZXdCb3glM0QlMjIwJTIwMCUyMDEwMCUyMDEwMCUyMiUyMGVuYWJsZS1iYWNrZ3JvdW5kJTNEJTIybmV3JTIwMCUyMDAlMjAxMDAlMjAxMDAlMjIlMjB4bWwlM0FzcGFjZSUzRCUyMnByZXNlcnZlJTIyJTNFJTNDcGF0aCUyMGZpbGwlM0QlMjIlMjMwMDAwMDAlMjIlMjBkJTNEJTIyTTU1LjIwOSUyQzUwbDE3LjgwMy0xNy44MDNjMS40MTYtMS40MTYlMkMxLjQxNi0zLjcxMyUyQzAtNS4xMjljLTEuNDE2LTEuNDE3LTMuNzEzLTEuNDE3LTUuMTI5JTJDMEw1MC4wOCUyQzQ0Ljg3MiUyMCUyMEwzMi4yNzglMkMyNy4wNjljLTEuNDE2LTEuNDE3LTMuNzE0LTEuNDE3LTUuMTI5JTJDMGMtMS40MTclMkMxLjQxNi0xLjQxNyUyQzMuNzEzJTJDMCUyQzUuMTI5TDQ0Ljk1MSUyQzUwTDI3LjE0OSUyQzY3LjgwMyUyMCUyMGMtMS40MTclMkMxLjQxNi0xLjQxNyUyQzMuNzEzJTJDMCUyQzUuMTI5YzAuNzA4JTJDMC43MDglMkMxLjYzNiUyQzEuMDYyJTJDMi41NjQlMkMxLjA2MmMwLjkyOCUyQzAlMkMxLjg1Ni0wLjM1NCUyQzIuNTY0LTEuMDYyTDUwLjA4JTJDNTUuMTNsMTcuODAzJTJDMTcuODAyJTIwJTIwYzAuNzA4JTJDMC43MDglMkMxLjYzNyUyQzEuMDYyJTJDMi41NjQlMkMxLjA2MnMxLjg1Ni0wLjM1NCUyQzIuNTY0LTEuMDYyYzEuNDE2LTEuNDE2JTJDMS40MTYtMy43MTMlMkMwLTUuMTI5TDU1LjIwOSUyQzUweiUyMiUzRSUzQy9wYXRoJTNFJTNDL3N2ZyUzRSkgbm8tcmVwZWF0O2JvcmRlcjpub25lO2hlaWdodDo1MHB4O3RleHQtaW5kZW50Oi05OTk5cHg7d2lkdGg6NTBweH0uYS1sb2FkZXItdGl0bGV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC42KTtmb250LWZhbWlseTpzYW5zLXNlcmlmLG1vbm9zcGFjZTt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MjBweDtoZWlnaHQ6NTBweDtmb250LXdlaWdodDozMDA7bGluZS1oZWlnaHQ6NTBweDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO2xlZnQ6MDt0b3A6MDtjb2xvcjojZmZmfS5hLW1vZGFse2JhY2tncm91bmQ6MCAwLzUwJSA1MCUgcmdiYSgwLDAsMCwuNik7Ym90dG9tOjA7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NjAwO2xlZnQ6MDtsaW5lLWhlaWdodDoyMHB4O3JpZ2h0OjA7cG9zaXRpb246Zml4ZWQ7dG9wOjA7ei1pbmRleDo5OTk5OTk5fS5hLWRpYWxvZ3twb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OjUwJTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt6LWluZGV4OjE5OTk5NTt3aWR0aDozMDBweDtoZWlnaHQ6MjAwcHg7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47YmFja2dyb3VuZC1jb2xvcjojZmZmO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWYsbW9ub3NwYWNlO2ZvbnQtc2l6ZToyMHB4O2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6NnB4fS5hLWRpYWxvZy10ZXh0LWNvbnRhaW5lcnt3aWR0aDoxMDAlO2hlaWdodDo3MCU7YWxpZ24tc2VsZjpmbGV4LXN0YXJ0O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWNvbnRlbnQ6Y2VudGVyO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uYS1kaWFsb2ctdGV4dHtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXdlaWdodDo0MDA7Zm9udC1zaXplOjE0cHQ7bWFyZ2luOjhweH0uYS1kaWFsb2ctYnV0dG9ucy1jb250YWluZXJ7ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1zZWxmOmZsZXgtZW5kO3dpZHRoOjEwMCU7aGVpZ2h0OjMwJX0uYS1kaWFsb2ctYnV0dG9ue2N1cnNvcjpwb2ludGVyO2FsaWduLXNlbGY6Y2VudGVyO29wYWNpdHk6Ljk7aGVpZ2h0OjgwJTt3aWR0aDo1MCU7Zm9udC1zaXplOjEycHQ7bWFyZ2luOjRweDtib3JkZXItcmFkaXVzOjJweDt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXI6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jazstd2Via2l0LXRyYW5zaXRpb246YWxsIC4yNXMgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjphbGwgLjI1cyBlYXNlLWluLW91dDtib3gtc2hhZG93OjAgMXB4IDNweCByZ2JhKDAsMCwwLC4xKSwwIDFweCAycHggcmdiYSgwLDAsMCwuMik7dXNlci1zZWxlY3Q6bm9uZX0uYS1kaWFsb2ctcGVybWlzc2lvbi1idXR0b246aG92ZXJ7Ym94LXNoYWRvdzowIDdweCAxNHB4IHJnYmEoMCwwLDAsLjIpLDAgMnB4IDJweCByZ2JhKDAsMCwwLC4yKX0uYS1kaWFsb2ctYWxsb3ctYnV0dG9ue2JhY2tncm91bmQtY29sb3I6IzAwY2VmZn0uYS1kaWFsb2ctZGVueS1idXR0b257YmFja2dyb3VuZC1jb2xvcjojZmYwMDVifS5hLWRpYWxvZy1vay1idXR0b257YmFja2dyb3VuZC1jb2xvcjojMDBjZWZmO3dpZHRoOjEwMCV9XCI7IChfZGVyZXFfKFwiYnJvd3NlcmlmeS1jc3NcIikuY3JlYXRlU3R5bGUoY3NzLCB7IFwiaHJlZlwiOiBcInNyY1xcXFxzdHlsZVxcXFxhZnJhbWUuY3NzXCJ9KSk7IG1vZHVsZS5leHBvcnRzID0gY3NzO1xufSx7XCJicm93c2VyaWZ5LWNzc1wiOjR9XSwxNjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGNzcyA9IFwiLnJzLWJhc2V7YmFja2dyb3VuZC1jb2xvcjojMzMzO2NvbG9yOiNmYWZhZmE7Ym9yZGVyLXJhZGl1czowO2ZvbnQ6MTBweCBtb25vc3BhY2U7bGVmdDo1cHg7bGluZS1oZWlnaHQ6MWVtO29wYWNpdHk6Ljg1O292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjEwcHg7cG9zaXRpb246Zml4ZWQ7dG9wOjVweDt3aWR0aDozMDBweDt6LWluZGV4OjEwMDAwfS5ycy1iYXNlIGRpdi5oaWRkZW57ZGlzcGxheTpub25lfS5ycy1iYXNlIGgxe2NvbG9yOiNmZmY7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEuNGVtO2ZvbnQtd2VpZ2h0OjMwMDttYXJnaW46MCAwIDVweDtwYWRkaW5nOjB9LnJzLWdyb3Vwe2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotd2Via2l0LWZsZXg7ZGlzcGxheTpmbGV4Oy13ZWJraXQtZmxleC1kaXJlY3Rpb246Y29sdW1uLXJldmVyc2U7ZmxleC1kaXJlY3Rpb246Y29sdW1uLXJldmVyc2U7bWFyZ2luLWJvdHRvbTo1cHh9LnJzLWdyb3VwOmxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS5ycy1jb3VudGVyLWJhc2V7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotd2Via2l0LWZsZXg7ZGlzcGxheTpmbGV4O2hlaWdodDoxMHB4Oy13ZWJraXQtanVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47bWFyZ2luOjJweCAwfS5ycy1jb3VudGVyLWJhc2UuYWxhcm17Y29sb3I6I2I3MDAwMDt0ZXh0LXNoYWRvdzowIDAgMCAjYjcwMDAwLDAgMCAxcHggI2ZmZiwwIDAgMXB4ICNmZmYsMCAwIDJweCAjZmZmLDAgMCAycHggI2ZmZiwwIDAgM3B4ICNmZmYsMCAwIDNweCAjZmZmLDAgMCA0cHggI2ZmZiwwIDAgNHB4ICNmZmZ9LnJzLWNvdW50ZXItaWR7Zm9udC13ZWlnaHQ6MzAwOy13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXA6MDstd2Via2l0LW9yZGVyOjA7b3JkZXI6MDt3aWR0aDo1NHB4fS5ycy1jb3VudGVyLXZhbHVle2ZvbnQtd2VpZ2h0OjMwMDstd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwOjE7LXdlYmtpdC1vcmRlcjoxO29yZGVyOjE7dGV4dC1hbGlnbjpyaWdodDt3aWR0aDozNXB4fS5ycy1jYW52YXN7LXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cDoyOy13ZWJraXQtb3JkZXI6MjtvcmRlcjoyfUBtZWRpYSAobWluLXdpZHRoOjQ4MHB4KXsucnMtYmFzZXtsZWZ0OjIwcHg7dG9wOjIwcHh9fVwiOyAoX2RlcmVxXyhcImJyb3dzZXJpZnktY3NzXCIpLmNyZWF0ZVN0eWxlKGNzcywgeyBcImhyZWZcIjogXCJzcmNcXFxcc3R5bGVcXFxcclN0YXRzLmNzc1wifSkpOyBtb2R1bGUuZXhwb3J0cyA9IGNzcztcbn0se1wiYnJvd3NlcmlmeS1jc3NcIjo0fV0sMTY1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHJlbW92ZURlZmF1bHRDYW1lcmEoZSl7dmFyIHQ7ZS5jYW1lcmEmJih0PWUucXVlcnlTZWxlY3RvcihcIltcIitERUZBVUxUX0NBTUVSQV9BVFRSK1wiXVwiKSkmJmUucmVtb3ZlQ2hpbGQodCl9dmFyIGNvbnN0YW50cz1fZGVyZXFfKFwiLi4vY29uc3RhbnRzL1wiKSxyZWdpc3RlclN5c3RlbT1fZGVyZXFfKFwiLi4vY29yZS9zeXN0ZW1cIikucmVnaXN0ZXJTeXN0ZW0sREVGQVVMVF9DQU1FUkFfQVRUUj1cImRhdGEtYWZyYW1lLWRlZmF1bHQtY2FtZXJhXCI7bW9kdWxlLmV4cG9ydHMuU3lzdGVtPXJlZ2lzdGVyU3lzdGVtKFwiY2FtZXJhXCIse2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZUNhbWVyYUVsPW51bGwsdGhpcy5yZW5kZXI9dGhpcy5yZW5kZXIuYmluZCh0aGlzKSx0aGlzLnVud3JhcFJlbmRlcj10aGlzLnVud3JhcFJlbmRlci5iaW5kKHRoaXMpLHRoaXMud3JhcFJlbmRlcj10aGlzLndyYXBSZW5kZXIuYmluZCh0aGlzKSx0aGlzLmluaXRpYWxDYW1lcmFGb3VuZD0hMSx0aGlzLm51bVVzZXJDYW1lcmFzPTAsdGhpcy5udW1Vc2VyQ2FtZXJhc0NoZWNrZWQ9MCx0aGlzLnNldHVwSW5pdGlhbENhbWVyYSgpfSxzZXR1cEluaXRpYWxDYW1lcmE6ZnVuY3Rpb24oKXt2YXIgZSx0LGE9dGhpcy5zY2VuZUVsLHI9dGhpcztpZihhLmNhbWVyYSYmIWEuY2FtZXJhLmVsLmdldEF0dHJpYnV0ZShcImNhbWVyYVwiKS5zcGVjdGF0b3IpcmV0dXJuIHZvaWQgYS5lbWl0KFwiY2FtZXJhcmVhZHlcIix7Y2FtZXJhRWw6YS5jYW1lcmEuZWx9KTtpZihlPWEucXVlcnlTZWxlY3RvckFsbChcImEtY2FtZXJhLCBbY2FtZXJhXVwiKSwhZS5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5jcmVhdGVEZWZhdWx0Q2FtZXJhKCk7Zm9yKHRoaXMubnVtVXNlckNhbWVyYXM9ZS5sZW5ndGgsdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uYWRkRXZlbnRMaXN0ZW5lcihcIm9iamVjdDNkc2V0XCIsZnVuY3Rpb24oZSl7XCJjYW1lcmFcIj09PWUuZGV0YWlsLnR5cGUmJnIuY2hlY2tVc2VyQ2FtZXJhKHRoaXMpfSksZVt0XS5pc05vZGU/ZVt0XS5sb2FkKCk6ZVt0XS5hZGRFdmVudExpc3RlbmVyKFwibm9kZXJlYWR5XCIsZnVuY3Rpb24oKXt0aGlzLmxvYWQoKX0pfSxjaGVja1VzZXJDYW1lcmE6ZnVuY3Rpb24oZSl7dmFyIHQsYT10aGlzLmVsLnNjZW5lRWw7aWYodGhpcy5udW1Vc2VyQ2FtZXJhc0NoZWNrZWQrKywhdGhpcy5pbml0aWFsQ2FtZXJhRm91bmQpe2lmKHQ9ZS5nZXRBdHRyaWJ1dGUoXCJjYW1lcmFcIiksIXQuYWN0aXZlfHx0LnNwZWN0YXRvcilyZXR1cm4gdm9pZCh0aGlzLm51bVVzZXJDYW1lcmFzQ2hlY2tlZD09PXRoaXMubnVtVXNlckNhbWVyYXMmJnRoaXMuY3JlYXRlRGVmYXVsdENhbWVyYSgpKTt0aGlzLmluaXRpYWxDYW1lcmFGb3VuZD0hMCxhLmNhbWVyYT1lLmdldE9iamVjdDNEKFwiY2FtZXJhXCIpLGEuZW1pdChcImNhbWVyYXJlYWR5XCIse2NhbWVyYUVsOmV9KX19LGNyZWF0ZURlZmF1bHRDYW1lcmE6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuc2NlbmVFbDtlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKSxlLnNldEF0dHJpYnV0ZShcImNhbWVyYVwiLHthY3RpdmU6ITB9KSxlLnNldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIse3g6MCx5OmNvbnN0YW50cy5ERUZBVUxUX0NBTUVSQV9IRUlHSFQsejowfSksZS5zZXRBdHRyaWJ1dGUoXCJ3YXNkLWNvbnRyb2xzXCIsXCJcIiksZS5zZXRBdHRyaWJ1dGUoXCJsb29rLWNvbnRyb2xzXCIsXCJcIiksZS5zZXRBdHRyaWJ1dGUoY29uc3RhbnRzLkFGUkFNRV9JTkpFQ1RFRCxcIlwiKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJvYmplY3QzZHNldFwiLGZ1bmN0aW9uKGEpe1wiY2FtZXJhXCI9PT1hLmRldGFpbC50eXBlJiYodC5jYW1lcmE9YS5kZXRhaWwub2JqZWN0LHQuZW1pdChcImNhbWVyYXJlYWR5XCIse2NhbWVyYUVsOmV9KSl9KSx0LmFwcGVuZENoaWxkKGUpfSxkaXNhYmxlQWN0aXZlQ2FtZXJhOmZ1bmN0aW9uKCl7dmFyIGUsdDtlPXRoaXMuc2NlbmVFbC5xdWVyeVNlbGVjdG9yQWxsKFwiW2NhbWVyYV1cIiksdD1lW2UubGVuZ3RoLTFdLHQuc2V0QXR0cmlidXRlKFwiY2FtZXJhXCIsXCJhY3RpdmVcIiwhMCl9LHNldEFjdGl2ZUNhbWVyYTpmdW5jdGlvbihlKXt2YXIgdCxhLHIsaSxzPXRoaXMuYWN0aXZlQ2FtZXJhRWwsbj10aGlzLnNjZW5lRWw7aWYoKGk9ZS5nZXRPYmplY3QzRChcImNhbWVyYVwiKSkmJmUhPT10aGlzLmFjdGl2ZUNhbWVyYUVsKXt2YXIgYz1uLnF1ZXJ5U2VsZWN0b3IoXCJbXCIrREVGQVVMVF9DQU1FUkFfQVRUUitcIl1cIiksbT1jJiZjLnF1ZXJ5U2VsZWN0b3IoXCJbY2FtZXJhXVwiKTtmb3IoZSE9PW0mJnJlbW92ZURlZmF1bHRDYW1lcmEobiksdGhpcy5hY3RpdmVDYW1lcmFFbD1lLHRoaXMuYWN0aXZlQ2FtZXJhRWwucGxheSgpLG4uY2FtZXJhPWkscyYmcy5zZXRBdHRyaWJ1dGUoXCJjYW1lcmFcIixcImFjdGl2ZVwiLCExKSxhPW4ucXVlcnlTZWxlY3RvckFsbChcIltjYW1lcmFdXCIpLHI9MDtyPGEubGVuZ3RoO3IrKyl0PWFbcl0sdC5pc0VudGl0eSYmZSE9PXQmJih0LnNldEF0dHJpYnV0ZShcImNhbWVyYVwiLFwiYWN0aXZlXCIsITEpLHQucGF1c2UoKSk7bi5lbWl0KFwiY2FtZXJhLXNldC1hY3RpdmVcIix7Y2FtZXJhRWw6ZX0pfX0sc2V0U3BlY3RhdG9yQ2FtZXJhOmZ1bmN0aW9uKGUpe3ZhciB0LGEscj10aGlzLnNwZWN0YXRvckNhbWVyYUVsLGk9dGhpcy5zY2VuZUVsOyh0PWUuZ2V0T2JqZWN0M0QoXCJjYW1lcmFcIikpJiZlIT09dGhpcy5zcGVjdGF0b3JDYW1lcmFFbCYmKHImJnIuc2V0QXR0cmlidXRlKFwiY2FtZXJhXCIsXCJzcGVjdGF0b3JcIiwhMSksYT10aGlzLnNwZWN0YXRvckNhbWVyYUVsPWUsaS5hZGRFdmVudExpc3RlbmVyKFwiZW50ZXItdnJcIix0aGlzLndyYXBSZW5kZXIpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXQtdnJcIix0aGlzLnVud3JhcFJlbmRlciksYS5zZXRBdHRyaWJ1dGUoXCJjYW1lcmFcIixcImFjdGl2ZVwiLCExKSxhLnBsYXkoKSxpLmVtaXQoXCJjYW1lcmEtc2V0LXNwZWN0YXRvclwiLHtjYW1lcmFFbDplfSkpfSxkaXNhYmxlU3BlY3RhdG9yQ2FtZXJhOmZ1bmN0aW9uKCl7dGhpcy5zcGVjdGF0b3JDYW1lcmFFbD12b2lkIDB9LHdyYXBSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLnNwZWN0YXRvckNhbWVyYUVsJiYodGhpcy5vcmlnaW5hbFJlbmRlcj10aGlzLnNjZW5lRWwucmVuZGVyZXIucmVuZGVyLHRoaXMuc2NlbmVFbC5yZW5kZXJlci5yZW5kZXI9dGhpcy5yZW5kZXIpfSx1bndyYXBSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsUmVuZGVyJiYodGhpcy5zY2VuZUVsLnJlbmRlcmVyLnJlbmRlcj10aGlzLm9yaWdpbmFsUmVuZGVyLHRoaXMub3JpZ2luYWxSZW5kZXI9dm9pZCAwKX0scmVuZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIGEscixpPXRoaXMuc2NlbmVFbDthPWkucmVuZGVyZXIueHIuZW5hYmxlZCx0aGlzLm9yaWdpbmFsUmVuZGVyLmNhbGwoaS5yZW5kZXJlcixlLHQpLHRoaXMuc3BlY3RhdG9yQ2FtZXJhRWwmJiFpLmlzTW9iaWxlJiZhJiYocj10aGlzLnNwZWN0YXRvckNhbWVyYUVsLmNvbXBvbmVudHMuY2FtZXJhLmNhbWVyYSxpLnJlbmRlcmVyLnhyLmVuYWJsZWQ9ITEsdGhpcy5vcmlnaW5hbFJlbmRlci5jYWxsKGkucmVuZGVyZXIsZSxyKSxpLnJlbmRlcmVyLnhyLmVuYWJsZWQ9YSl9fSk7XG59LHtcIi4uL2NvbnN0YW50cy9cIjoxMDAsXCIuLi9jb3JlL3N5c3RlbVwiOjExOX1dLDE2NjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBjcmVhdGVHZW9tZXRyeShlKXt2YXIgdD1lLnByaW1pdGl2ZSxyPWdlb21ldHJpZXNbdF0mJmdlb21ldHJpZXNbdF0uR2VvbWV0cnksbz1uZXcgcjtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGdlb21ldHJ5IGBcIit0K1wiYFwiKTtyZXR1cm4gby5pbml0KGUpLHRvQnVmZmVyR2VvbWV0cnkoby5nZW9tZXRyeSxlLmJ1ZmZlcil9ZnVuY3Rpb24gZGVjcmVtZW50Q2FjaGVDb3VudChlLHQpe2VbdF0tLX1mdW5jdGlvbiBpbmNyZW1lbnRDYWNoZUNvdW50KGUsdCl7ZVt0XT12b2lkIDA9PT1lW3RdPzE6ZVt0XSsxfWZ1bmN0aW9uIHRvQnVmZmVyR2VvbWV0cnkoZSx0KXt2YXIgcjtyZXR1cm4gdD8ocj0obmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KS5mcm9tR2VvbWV0cnkoZSksci5tZXRhZGF0YT17dHlwZTplLnR5cGUscGFyYW1ldGVyczplLnBhcmFtZXRlcnN8fHt9fSxlLmRpc3Bvc2UoKSxyKTplfXZhciBnZW9tZXRyaWVzPV9kZXJlcV8oXCIuLi9jb3JlL2dlb21ldHJ5XCIpLmdlb21ldHJpZXMscmVnaXN0ZXJTeXN0ZW09X2RlcmVxXyhcIi4uL2NvcmUvc3lzdGVtXCIpLnJlZ2lzdGVyU3lzdGVtLFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIik7bW9kdWxlLmV4cG9ydHMuU3lzdGVtPXJlZ2lzdGVyU3lzdGVtKFwiZ2VvbWV0cnlcIix7aW5pdDpmdW5jdGlvbigpe3RoaXMuY2FjaGU9e30sdGhpcy5jYWNoZUNvdW50PXt9fSxjbGVhckNhY2hlOmZ1bmN0aW9uKCl7dGhpcy5jYWNoZT17fSx0aGlzLmNhY2hlQ291bnQ9e319LGdldE9yQ3JlYXRlR2VvbWV0cnk6ZnVuY3Rpb24oZSl7dmFyIHQscixvPXRoaXMuY2FjaGU7cmV0dXJuIGUuc2tpcENhY2hlP2NyZWF0ZUdlb21ldHJ5KGUpOihyPXRoaXMuaGFzaChlKSx0PW9bcl0saW5jcmVtZW50Q2FjaGVDb3VudCh0aGlzLmNhY2hlQ291bnQsciksdHx8KHQ9Y3JlYXRlR2VvbWV0cnkoZSksb1tyXT10LHQpKX0sdW51c2VHZW9tZXRyeTpmdW5jdGlvbihlKXt2YXIgdCxyLG89dGhpcy5jYWNoZSxpPXRoaXMuY2FjaGVDb3VudDtlLnNraXBDYWNoZXx8KHI9dGhpcy5oYXNoKGUpLG9bcl0mJihkZWNyZW1lbnRDYWNoZUNvdW50KGksciksaVtyXT4wfHwodD1vW3JdLHQuZGlzcG9zZSgpLGRlbGV0ZSBvW3JdLGRlbGV0ZSBpW3JdKSkpfSxoYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKX19KTtcbn0se1wiLi4vY29yZS9nZW9tZXRyeVwiOjEwOSxcIi4uL2NvcmUvc3lzdGVtXCI6MTE5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTY3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclN5c3RlbT1fZGVyZXFfKFwiLi4vY29yZS9zeXN0ZW1cIikucmVnaXN0ZXJTeXN0ZW0sVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKTttb2R1bGUuZXhwb3J0cy5TeXN0ZW09cmVnaXN0ZXJTeXN0ZW0oXCJnbHRmLW1vZGVsXCIse3NjaGVtYTp7ZHJhY29EZWNvZGVyUGF0aDp7ZGVmYXVsdDpcIlwifX0saW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YS5kcmFjb0RlY29kZXJQYXRoO3RoaXMuZHJhY29Mb2FkZXI9bmV3IFRIUkVFLkRSQUNPTG9hZGVyLHRoaXMuZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgoZSl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciBlO3RoaXMuZHJhY29Mb2FkZXJ8fChlPXRoaXMuZGF0YS5kcmFjb0RlY29kZXJQYXRoLHRoaXMuZHJhY29Mb2FkZXI9bmV3IFRIUkVFLkRSQUNPTG9hZGVyLHRoaXMuZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgoZSkpfSxnZXREUkFDT0xvYWRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWNvTG9hZGVyfX0pO1xufSx7XCIuLi9jb3JlL3N5c3RlbVwiOjExOSxcIi4uL2xpYi90aHJlZVwiOjE1Nn1dLDE2ODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5fZGVyZXFfKFwiLi9jYW1lcmFcIiksX2RlcmVxXyhcIi4vZ2VvbWV0cnlcIiksX2RlcmVxXyhcIi4vZ2x0Zi1tb2RlbFwiKSxfZGVyZXFfKFwiLi9saWdodFwiKSxfZGVyZXFfKFwiLi9tYXRlcmlhbFwiKSxfZGVyZXFfKFwiLi9yZW5kZXJlclwiKSxfZGVyZXFfKFwiLi9zaGFkb3dcIiksX2RlcmVxXyhcIi4vdHJhY2tlZC1jb250cm9scy13ZWJ2clwiKSxfZGVyZXFfKFwiLi90cmFja2VkLWNvbnRyb2xzLXdlYnhyXCIpO1xufSx7XCIuL2NhbWVyYVwiOjE2NSxcIi4vZ2VvbWV0cnlcIjoxNjYsXCIuL2dsdGYtbW9kZWxcIjoxNjcsXCIuL2xpZ2h0XCI6MTY5LFwiLi9tYXRlcmlhbFwiOjE3MCxcIi4vcmVuZGVyZXJcIjoxNzEsXCIuL3NoYWRvd1wiOjE3MixcIi4vdHJhY2tlZC1jb250cm9scy13ZWJ2clwiOjE3MyxcIi4vdHJhY2tlZC1jb250cm9scy13ZWJ4clwiOjE3NH1dLDE2OTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJTeXN0ZW09X2RlcmVxXyhcIi4uL2NvcmUvc3lzdGVtXCIpLnJlZ2lzdGVyU3lzdGVtLGJpbmQ9X2RlcmVxXyhcIi4uL3V0aWxzL2JpbmRcIiksY29uc3RhbnRzPV9kZXJlcV8oXCIuLi9jb25zdGFudHMvXCIpLERFRkFVTFRfTElHSFRfQVRUUj1cImRhdGEtYWZyYW1lLWRlZmF1bHQtbGlnaHRcIjttb2R1bGUuZXhwb3J0cy5TeXN0ZW09cmVnaXN0ZXJTeXN0ZW0oXCJsaWdodFwiLHtzY2hlbWE6e2RlZmF1bHRMaWdodHNFbmFibGVkOntkZWZhdWx0OiEwfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdExpZ2h0cz0hMSx0aGlzLnVzZXJEZWZpbmVkTGlnaHRzPSExLHRoaXMuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsYmluZCh0aGlzLnNldHVwRGVmYXVsdExpZ2h0cyx0aGlzKSl9LHJlZ2lzdGVyTGlnaHQ6ZnVuY3Rpb24odCl7dC5oYXNBdHRyaWJ1dGUoREVGQVVMVF9MSUdIVF9BVFRSKXx8KHRoaXMucmVtb3ZlRGVmYXVsdExpZ2h0cygpLHRoaXMudXNlckRlZmluZWRMaWdodHM9ITApfSxyZW1vdmVEZWZhdWx0TGlnaHRzOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnNjZW5lRWw7aWYodGhpcy5kZWZhdWx0TGlnaHRzKXt0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrREVGQVVMVF9MSUdIVF9BVFRSK1wiXVwiKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyllLnJlbW92ZUNoaWxkKHRbaV0pO3RoaXMuZGVmYXVsdExpZ2h0cz0hMX19LHNldHVwRGVmYXVsdExpZ2h0czpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLnNjZW5lRWw7dGhpcy51c2VyRGVmaW5lZExpZ2h0c3x8dGhpcy5kZWZhdWx0TGlnaHRzfHwhdGhpcy5kYXRhLmRlZmF1bHRMaWdodHNFbmFibGVkfHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS1lbnRpdHlcIiksdC5zZXRBdHRyaWJ1dGUoXCJsaWdodFwiLHtjb2xvcjpcIiNCQkJcIix0eXBlOlwiYW1iaWVudFwifSksdC5zZXRBdHRyaWJ1dGUoREVGQVVMVF9MSUdIVF9BVFRSLFwiXCIpLHQuc2V0QXR0cmlidXRlKGNvbnN0YW50cy5BRlJBTUVfSU5KRUNURUQsXCJcIiksaS5hcHBlbmRDaGlsZCh0KSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWVudGl0eVwiKSxlLnNldEF0dHJpYnV0ZShcImxpZ2h0XCIse2NvbG9yOlwiI0ZGRlwiLGludGVuc2l0eTouNixjYXN0U2hhZG93OiEwfSksZS5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLHt4Oi0uNSx5OjEsejoxfSksZS5zZXRBdHRyaWJ1dGUoREVGQVVMVF9MSUdIVF9BVFRSLFwiXCIpLGUuc2V0QXR0cmlidXRlKGNvbnN0YW50cy5BRlJBTUVfSU5KRUNURUQsXCJcIiksaS5hcHBlbmRDaGlsZChlKSx0aGlzLmRlZmF1bHRMaWdodHM9ITApfX0pO1xufSx7XCIuLi9jb25zdGFudHMvXCI6MTAwLFwiLi4vY29yZS9zeXN0ZW1cIjoxMTksXCIuLi91dGlscy9iaW5kXCI6MTc1fV0sMTcwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGNhbGN1bGF0ZVZpZGVvQ2FjaGVIYXNoKGUsdCl7dmFyIHIsaSxuLGE9dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtpZihhKXJldHVybiBhO2ZvcihpPVwiXCIsbj1lfHx7fSxyPTA7cjx0LmF0dHJpYnV0ZXMubGVuZ3RoO3IrKyluW3QuYXR0cmlidXRlc1tyXS5uYW1lXT10LmF0dHJpYnV0ZXNbcl0udmFsdWU7cmV0dXJuIE9iamVjdC5rZXlzKG4pLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2krPWUrXCI6XCIrbltlXStcIjtcIn0pLGl9ZnVuY3Rpb24gbG9hZEltYWdlVGV4dHVyZShlLHQpe2Z1bmN0aW9uIHIocixpKXtmdW5jdGlvbiBuKGUpe3NldFRleHR1cmVQcm9wZXJ0aWVzKGUsdCksZS5uZWVkc1VwZGF0ZT0hMCxyKGUpfWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB2b2lkIG4obmV3IFRIUkVFLlRleHR1cmUoZSkpO1RleHR1cmVMb2FkZXIubG9hZChlLG4sZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKGUpe2Vycm9yKFwiYCRzYCBjb3VsZCBub3QgYmUgZmV0Y2hlZCAoRXJyb3IgY29kZTogJXM7IFJlc3BvbnNlOiAlcylcIixlLnN0YXR1cyxlLnN0YXR1c1RleHQpfSl9cmV0dXJuIG5ldyBQcm9taXNlKHIpfWZ1bmN0aW9uIHNldFRleHR1cmVQcm9wZXJ0aWVzKGUsdCl7dmFyIHI9dC5vZmZzZXR8fHt4OjAseTowfSxpPXQucmVwZWF0fHx7eDoxLHk6MX07KHQubnBvdHx8ITEpJiYoZS53cmFwUz1USFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nLGUud3JhcFQ9VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZyxlLm1hZ0ZpbHRlcj1USFJFRS5MaW5lYXJGaWx0ZXIsZS5taW5GaWx0ZXI9VEhSRUUuTGluZWFyRmlsdGVyKSwxPT09aS54JiYxPT09aS55fHwoZS53cmFwUz1USFJFRS5SZXBlYXRXcmFwcGluZyxlLndyYXBUPVRIUkVFLlJlcGVhdFdyYXBwaW5nLGUucmVwZWF0LnNldChpLngsaS55KSksMD09PXIueCYmMD09PXIueXx8ZS5vZmZzZXQuc2V0KHIueCxyLnkpfWZ1bmN0aW9uIGNyZWF0ZVZpZGVvRWwoZSx0LHIpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtyZXR1cm4gaS53aWR0aD10LGkuaGVpZ2h0PXIsaS5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLGkuc2V0QXR0cmlidXRlKFwid2Via2l0LXBsYXlzaW5saW5lXCIsXCJcIiksaS5hdXRvcGxheT0hMCxpLmxvb3A9ITAsaS5jcm9zc09yaWdpbj1cImFub255bW91c1wiLGkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oKXt3YXJuKFwiYCRzYCBpcyBub3QgYSB2YWxpZCB2aWRlb1wiLGUpfSwhMCksaS5zcmM9ZSxpfWZ1bmN0aW9uIGZpeFZpZGVvQXR0cmlidXRlcyhlKXtyZXR1cm4gZS5hdXRvcGxheT1lLmhhc0F0dHJpYnV0ZShcImF1dG9wbGF5XCIpJiZcImZhbHNlXCIhPT1lLmdldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIpLGUuY29udHJvbHM9ZS5oYXNBdHRyaWJ1dGUoXCJjb250cm9sc1wiKSYmXCJmYWxzZVwiIT09ZS5nZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiKSxcImZhbHNlXCI9PT1lLmdldEF0dHJpYnV0ZShcImxvb3BcIikmJmUucmVtb3ZlQXR0cmlidXRlKFwibG9vcFwiKSxcImZhbHNlXCI9PT1lLmdldEF0dHJpYnV0ZShcInByZWxvYWRcIikmJihlLnByZWxvYWQ9XCJub25lXCIpLGUuY3Jvc3NPcmlnaW49ZS5jcm9zc09yaWdpbnx8XCJhbm9ueW1vdXNcIixlLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksZS5zZXRBdHRyaWJ1dGUoXCJ3ZWJraXQtcGxheXNpbmxpbmVcIixcIlwiKSxlfXZhciByZWdpc3RlclN5c3RlbT1fZGVyZXFfKFwiLi4vY29yZS9zeXN0ZW1cIikucmVnaXN0ZXJTeXN0ZW0sVEhSRUU9X2RlcmVxXyhcIi4uL2xpYi90aHJlZVwiKSx1dGlscz1fZGVyZXFfKFwiLi4vdXRpbHMvXCIpLGlzSExTPV9kZXJlcV8oXCIuLi91dGlscy9tYXRlcmlhbFwiKS5pc0hMUyxiaW5kPXV0aWxzLmJpbmQsZGVidWc9dXRpbHMuZGVidWcsZXJyb3I9ZGVidWcoXCJjb21wb25lbnRzOnRleHR1cmU6ZXJyb3JcIiksVGV4dHVyZUxvYWRlcj1uZXcgVEhSRUUuVGV4dHVyZUxvYWRlcix3YXJuPWRlYnVnKFwiY29tcG9uZW50czp0ZXh0dXJlOndhcm5cIik7VGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbihcImFub255bW91c1wiKSxtb2R1bGUuZXhwb3J0cy5TeXN0ZW09cmVnaXN0ZXJTeXN0ZW0oXCJtYXRlcmlhbFwiLHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5tYXRlcmlhbHM9e30sdGhpcy50ZXh0dXJlQ291bnRzPXt9LHRoaXMudGV4dHVyZUNhY2hlPXt9LHRoaXMuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwibWF0ZXJpYWx0ZXh0dXJlbG9hZGVkXCIsYmluZCh0aGlzLm9uTWF0ZXJpYWxUZXh0dXJlTG9hZGVkLHRoaXMpKX0sY2xlYXJUZXh0dXJlQ2FjaGU6ZnVuY3Rpb24oKXt0aGlzLnRleHR1cmVDYWNoZT17fX0sbG9hZFRleHR1cmU6ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoZSl7YS5sb2FkSW1hZ2UoZSx0LHIpfWZ1bmN0aW9uIG4oZSl7YS5sb2FkVmlkZW8oZSx0LHIpfXZhciBhPXRoaXM7cmV0dXJuXCJDQU5WQVNcIj09PWUudGFnTmFtZT92b2lkIHRoaXMubG9hZENhbnZhcyhlLHQscik6XCJWSURFT1wiPT09ZS50YWdOYW1lPyhlLnNyY3x8ZS5zcmNPYmplY3R8fGUuY2hpbGRFbGVtZW50Q291bnR8fHdhcm4oXCJWaWRlbyBlbGVtZW50IHdhcyBkZWZpbmVkIHdpdGggbmVpdGhlciBgc291cmNlYCBlbGVtZW50cyBub3IgYHNyY2AgLyBgc3JjT2JqZWN0YCBhdHRyaWJ1dGVzLlwiKSx2b2lkIHRoaXMubG9hZFZpZGVvKGUsdCxyKSk6dm9pZCB1dGlscy5zcmNMb2FkZXIudmFsaWRhdGVTcmMoZSxpLG4pfSxsb2FkSW1hZ2U6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuaGFzaCh0KSxuPXRoaXMudGV4dHVyZUNhY2hlO2lmKG5baV0pcmV0dXJuIHZvaWQgbltpXS50aGVuKHIpO25baV09bG9hZEltYWdlVGV4dHVyZShlLHQpLG5baV0udGhlbihyKX0sbG9hZENhbnZhczpmdW5jdGlvbihlLHQscil7dmFyIGk7aT1uZXcgVEhSRUUuQ2FudmFzVGV4dHVyZShlKSxzZXRUZXh0dXJlUHJvcGVydGllcyhpLHQpLHIoaSl9LGxvYWRWaWRlbzpmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaShlKXtlLnRleHR1cmUubmVlZHNVcGRhdGU9ITAscihlLnRleHR1cmUsZS52aWRlb0VsKX12YXIgbixhLHMsbyx1PXRoaXMudGV4dHVyZUNhY2hlO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXtpZihzPWUsbj10aGlzLmhhc2hWaWRlbyh0LHMpLHVbbl0pcmV0dXJuIHZvaWQgdVtuXS50aGVuKGkpO2ZpeFZpZGVvQXR0cmlidXRlcyhzKX1pZihzPXN8fGNyZWF0ZVZpZGVvRWwoZSx0LndpZHRoLHQuaGVpZ2h0KSxuPXRoaXMuaGFzaFZpZGVvKHQscyksdVtuXSlyZXR1cm4gdm9pZCB1W25dLnRoZW4oaSk7YT1uZXcgVEhSRUUuVmlkZW9UZXh0dXJlKHMpLGEubWluRmlsdGVyPVRIUkVFLkxpbmVhckZpbHRlcixzZXRUZXh0dXJlUHJvcGVydGllcyhhLHQpLHRoaXMuc2NlbmVFbC5pc0lPUyYmaXNITFMocy5zcmN8fHMuZ2V0QXR0cmlidXRlKFwic3JjXCIpLHMudHlwZXx8cy5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSYmKGEuZm9ybWF0PVRIUkVFLlJHQkFGb3JtYXQsYS5uZWVkc0NvcnJlY3Rpb25CR1JBPSEwLGEuZmxpcFk9ITEsYS5uZWVkc0NvcnJlY3Rpb25GbGlwWT0hMCksbz17dGV4dHVyZTphLHZpZGVvRWw6c30sdVtuXT1Qcm9taXNlLnJlc29sdmUobyksaShvKX0saGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zcmMudGFnTmFtZSYmKGU9dXRpbHMuZXh0ZW5kRGVlcCh7fSxlKSxlLnNyYz1lLnNyYy5zcmMpLEpTT04uc3RyaW5naWZ5KGUpfSxoYXNoVmlkZW86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2FsY3VsYXRlVmlkZW9DYWNoZUhhc2goZSx0KX0scmVnaXN0ZXJNYXRlcmlhbDpmdW5jdGlvbihlKXt0aGlzLm1hdGVyaWFsc1tlLnV1aWRdPWV9LHVucmVnaXN0ZXJNYXRlcmlhbDpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5tYXRlcmlhbHNbZS51dWlkXTt2YXIgdD10aGlzLnRleHR1cmVDb3VudHM7T2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdJiZlW3RdLmlzVGV4dHVyZX0pLmZvckVhY2goZnVuY3Rpb24ocil7LS10W2Vbcl0udXVpZF08PTAmJmVbcl0uZGlzcG9zZSgpfSl9LHVwZGF0ZU1hdGVyaWFsczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1hdGVyaWFscztPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV0ubmVlZHNVcGRhdGU9ITB9KX0sb25NYXRlcmlhbFRleHR1cmVMb2FkZWQ6ZnVuY3Rpb24oZSl7dGhpcy50ZXh0dXJlQ291bnRzW2UuZGV0YWlsLnRleHR1cmUudXVpZF18fCh0aGlzLnRleHR1cmVDb3VudHNbZS5kZXRhaWwudGV4dHVyZS51dWlkXT0wKSx0aGlzLnRleHR1cmVDb3VudHNbZS5kZXRhaWwudGV4dHVyZS51dWlkXSsrfX0pO1xufSx7XCIuLi9jb3JlL3N5c3RlbVwiOjExOSxcIi4uL2xpYi90aHJlZVwiOjE1NixcIi4uL3V0aWxzL1wiOjE4MSxcIi4uL3V0aWxzL21hdGVyaWFsXCI6MTg0fV0sMTcxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclN5c3RlbT1fZGVyZXFfKFwiLi4vY29yZS9zeXN0ZW1cIikucmVnaXN0ZXJTeXN0ZW0sdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzL1wiKSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLGRlYnVnPXV0aWxzLmRlYnVnLHdhcm49ZGVidWcoXCJjb21wb25lbnRzOnJlbmRlcmVyOndhcm5cIik7bW9kdWxlLmV4cG9ydHMuU3lzdGVtPXJlZ2lzdGVyU3lzdGVtKFwicmVuZGVyZXJcIix7c2NoZW1hOnthbnRpYWxpYXM6e2RlZmF1bHQ6XCJhdXRvXCIsb25lT2Y6W1widHJ1ZVwiLFwiZmFsc2VcIixcImF1dG9cIl19LGhpZ2hSZWZyZXNoUmF0ZTp7ZGVmYXVsdDp1dGlscy5kZXZpY2UuaXNPY3VsdXNCcm93c2VyKCl9LGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6e2RlZmF1bHQ6XCJhdXRvXCIsb25lT2Y6W1widHJ1ZVwiLFwiZmFsc2VcIixcImF1dG9cIl19LG1heENhbnZhc1dpZHRoOntkZWZhdWx0OjE5MjB9LG1heENhbnZhc0hlaWdodDp7ZGVmYXVsdDoxOTIwfSxwaHlzaWNhbGx5Q29ycmVjdExpZ2h0czp7ZGVmYXVsdDohMX0scHJlY2lzaW9uOntkZWZhdWx0OlwiaGlnaFwiLG9uZU9mOltcImhpZ2hcIixcIm1lZGl1bVwiLFwibG93XCJdfSxzb3J0T2JqZWN0czp7ZGVmYXVsdDohMX0sY29sb3JNYW5hZ2VtZW50OntkZWZhdWx0OiExfSxnYW1tYU91dHB1dDp7ZGVmYXVsdDohMX0sYWxwaGE6e2RlZmF1bHQ6ITB9LGZvdmVhdGlvbkxldmVsOntkZWZhdWx0OjB9fSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kYXRhLHQ9dGhpcy5lbCxhPXQucmVuZGVyZXI7YS5zb3J0T2JqZWN0cz1lLnNvcnRPYmplY3RzLGEucGh5c2ljYWxseUNvcnJlY3RMaWdodHM9ZS5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cywoZS5jb2xvck1hbmFnZW1lbnR8fGUuZ2FtbWFPdXRwdXQpJiYoYS5nYW1tYU91dHB1dD0hMCxhLmdhbW1hRmFjdG9yPTIuMixlLmdhbW1hT3V0cHV0JiZ3YXJuKCdQcm9wZXJ0eSBgZ2FtbWFPdXRwdXRgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgcmVuZGVyZXI9XCJjb2xvck1hbmFnZW1lbnQ6IHRydWU7XCJgIGluc3RlYWQuJykpLHQuaGFzQXR0cmlidXRlKFwiYW50aWFsaWFzXCIpJiZ3YXJuKCdDb21wb25lbnQgYGFudGlhbGlhc2AgaXMgZGVwcmVjYXRlZC4gVXNlIGByZW5kZXJlcj1cImFudGlhbGlhczogdHJ1ZVwiYCBpbnN0ZWFkLicpLHQuaGFzQXR0cmlidXRlKFwibG9nYXJpdGhtaWNEZXB0aEJ1ZmZlclwiKSYmd2FybignQ29tcG9uZW50IGBsb2dhcml0aG1pY0RlcHRoQnVmZmVyYCBpcyBkZXByZWNhdGVkLiBVc2UgYHJlbmRlcmVyPVwibG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcjogdHJ1ZVwiYCBpbnN0ZWFkLicpfSxhcHBseUNvbG9yQ29ycmVjdGlvbjpmdW5jdGlvbihlKXt0aGlzLmRhdGEuY29sb3JNYW5hZ2VtZW50JiZlJiYoZS5pc0NvbG9yP2UuY29udmVydFNSR0JUb0xpbmVhcigpOmUuaXNUZXh0dXJlJiYoZS5lbmNvZGluZz1USFJFRS5zUkdCRW5jb2RpbmcpKX19KTtcbn0se1wiLi4vY29yZS9zeXN0ZW1cIjoxMTksXCIuLi9saWIvdGhyZWVcIjoxNTYsXCIuLi91dGlscy9cIjoxODF9XSwxNzI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJlZ2lzdGVyU3lzdGVtPV9kZXJlcV8oXCIuLi9jb3JlL3N5c3RlbVwiKS5yZWdpc3RlclN5c3RlbSxUSFJFRT1fZGVyZXFfKFwiLi4vbGliL3RocmVlXCIpLFNIQURPV19NQVBfVFlQRV9NQVA9e2Jhc2ljOlRIUkVFLkJhc2ljU2hhZG93TWFwLHBjZjpUSFJFRS5QQ0ZTaGFkb3dNYXAscGNmc29mdDpUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwfTttb2R1bGUuZXhwb3J0cy5TeXN0ZW09cmVnaXN0ZXJTeXN0ZW0oXCJzaGFkb3dcIix7c2NoZW1hOntlbmFibGVkOntkZWZhdWx0OiEwfSxhdXRvVXBkYXRlOntkZWZhdWx0OiEwfSx0eXBlOntkZWZhdWx0OlwicGNmXCIsb25lT2Y6W1wiYmFzaWNcIixcInBjZlwiLFwicGNmc29mdFwiXX19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNjZW5lRWwsYT10aGlzLmRhdGE7dGhpcy5zaGFkb3dNYXBFbmFibGVkPSExLGUucmVuZGVyZXImJihlLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlPVNIQURPV19NQVBfVFlQRV9NQVBbYS50eXBlXSxlLnJlbmRlcmVyLnNoYWRvd01hcC5hdXRvVXBkYXRlPWEuYXV0b1VwZGF0ZSx0aGlzLnNldFNoYWRvd01hcEVuYWJsZWQodGhpcy5zaGFkb3dNYXBFbmFibGVkKSl9LHVwZGF0ZTpmdW5jdGlvbihlKXtlLmVuYWJsZWQhPT10aGlzLmRhdGEuZW5hYmxlZCYmdGhpcy5zZXRTaGFkb3dNYXBFbmFibGVkKHRoaXMuZGF0YS5lbmFibGVkKX0sc2V0U2hhZG93TWFwRW5hYmxlZDpmdW5jdGlvbihlKXt2YXIgYT10aGlzLnNjZW5lRWwucmVuZGVyZXI7dGhpcy5zaGFkb3dNYXBFbmFibGVkPXRoaXMuZGF0YS5lbmFibGVkJiZlLGEmJihhLnNoYWRvd01hcC5lbmFibGVkPXRoaXMuc2hhZG93TWFwRW5hYmxlZCl9fSk7XG59LHtcIi4uL2NvcmUvc3lzdGVtXCI6MTE5LFwiLi4vbGliL3RocmVlXCI6MTU2fV0sMTczOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciByZWdpc3RlclN5c3RlbT1fZGVyZXFfKFwiLi4vY29yZS9zeXN0ZW1cIikucmVnaXN0ZXJTeXN0ZW0sdXRpbHM9X2RlcmVxXyhcIi4uL3V0aWxzXCIpLGlzV2ViWFJBdmFpbGFibGU9dXRpbHMuZGV2aWNlLmlzV2ViWFJBdmFpbGFibGU7bW9kdWxlLmV4cG9ydHMuU3lzdGVtPXJlZ2lzdGVyU3lzdGVtKFwidHJhY2tlZC1jb250cm9scy13ZWJ2clwiLHtpbml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmNvbnRyb2xsZXJzPVtdLHRoaXMuaXNDaHJvbWU9LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIiksdGhpcy51cGRhdGVDb250cm9sbGVyTGlzdCgpLHRoaXMudGhyb3R0bGVkVXBkYXRlQ29udHJvbGxlckxpc3Q9dXRpbHMudGhyb3R0bGUodGhpcy51cGRhdGVDb250cm9sbGVyTGlzdCw1MDAsdGhpcyksaXNXZWJYUkF2YWlsYWJsZXx8bmF2aWdhdG9yLmdldFZSRGlzcGxheXMmJnRoaXMuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKFwiZW50ZXItdnJcIixmdW5jdGlvbigpe25hdmlnYXRvci5nZXRWUkRpc3BsYXlzKCkudGhlbihmdW5jdGlvbihlKXtlLmxlbmd0aCYmKHQudnJEaXNwbGF5PWVbMF0pfSl9KX0sdGljazpmdW5jdGlvbigpe3RoaXMuaXNDaHJvbWU/dGhpcy51cGRhdGVDb250cm9sbGVyTGlzdCgpOnRoaXMudGhyb3R0bGVkVXBkYXRlQ29udHJvbGxlckxpc3QoKX0sdXBkYXRlQ29udHJvbGxlckxpc3Q6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscyxyPXRoaXMuY29udHJvbGxlcnM7aWYoZT1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMmJm5hdmlnYXRvci5nZXRHYW1lcGFkcygpKXtmb3Iocz1yLmxlbmd0aCxyLmxlbmd0aD0wLGk9MDtpPGUubGVuZ3RoOysraSkodD1lW2ldKSYmdC5wb3NlJiZyLnB1c2godCk7ci5sZW5ndGghPT1zJiZ0aGlzLmVsLmVtaXQoXCJjb250cm9sbGVyc3VwZGF0ZWRcIix2b2lkIDAsITEpfX19KTtcbn0se1wiLi4vY29yZS9zeXN0ZW1cIjoxMTksXCIuLi91dGlsc1wiOjE4MX1dLDE3NDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcmVnaXN0ZXJTeXN0ZW09X2RlcmVxXyhcIi4uL2NvcmUvc3lzdGVtXCIpLnJlZ2lzdGVyU3lzdGVtLHV0aWxzPV9kZXJlcV8oXCIuLi91dGlsc1wiKTttb2R1bGUuZXhwb3J0cy5TeXN0ZW09cmVnaXN0ZXJTeXN0ZW0oXCJ0cmFja2VkLWNvbnRyb2xzLXdlYnhyXCIse2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2xsZXJzPVtdLHRoaXMub2xkQ29udHJvbGxlcnNMZW5ndGg9MCx0aGlzLnRocm90dGxlZFVwZGF0ZUNvbnRyb2xsZXJMaXN0PXV0aWxzLnRocm90dGxlKHRoaXMudXBkYXRlQ29udHJvbGxlckxpc3QsNTAwLHRoaXMpfSx0aWNrOmZ1bmN0aW9uKCl7dGhpcy50aHJvdHRsZWRVcGRhdGVDb250cm9sbGVyTGlzdCgpfSx1cGRhdGVDb250cm9sbGVyTGlzdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwueHJTZXNzaW9uLGU9dGhpczt0JiYodGhpcy5jb250cm9sbGVycz10aGlzLmVsLnhyU2Vzc2lvbi5pbnB1dFNvdXJjZXMsdGhpcy5vbGRDb250cm9sbGVyc0xlbmd0aCE9PXRoaXMuY29udHJvbGxlcnMubGVuZ3RoJiYodGhpcy5vbGRDb250cm9sbGVyc0xlbmd0aD10aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCx0LnJlcXVlc3RSZWZlcmVuY2VTcGFjZShcImxvY2FsLWZsb29yXCIpLnRoZW4oZnVuY3Rpb24odCl7ZS5yZWZlcmVuY2VTcGFjZT10fSksdGhpcy5lbC5lbWl0KFwiY29udHJvbGxlcnN1cGRhdGVkXCIsdm9pZCAwLCExKSkpfX0pO1xufSx7XCIuLi9jb3JlL3N5c3RlbVwiOjExOSxcIi4uL3V0aWxzXCI6MTgxfV0sMTc1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHIsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBvPW4uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSk7cmV0dXJuIHIuYXBwbHkodCxvKX19KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O1xufSx7fV0sMTc2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHBhcnNlKGUscil7dmFyIHQsaSxuLG8scyx1LGQsYSxsO2lmKGUmJmUgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIHU9dm9pZCAwPT09ZS54P3ImJnIueDplLngsZD12b2lkIDA9PT1lLnk/ciYmci55OmUueSxhPXZvaWQgMD09PWUuej9yJiZyLno6ZS56LGw9dm9pZCAwPT09ZS53P3ImJnIudzplLncsdm9pZCAwIT09dSYmbnVsbCE9PXUmJihlLng9cGFyc2VJZlN0cmluZyh1KSksdm9pZCAwIT09ZCYmbnVsbCE9PWQmJihlLnk9cGFyc2VJZlN0cmluZyhkKSksdm9pZCAwIT09YSYmbnVsbCE9PWEmJihlLno9cGFyc2VJZlN0cmluZyhhKSksdm9pZCAwIT09bCYmbnVsbCE9PWwmJihlLnc9cGFyc2VJZlN0cmluZyhsKSksZTtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSlyZXR1cm4gdHlwZW9mIHI9PT1PQkpFQ1Q/ZXh0ZW5kKHt9LHIpOnI7Zm9yKHQ9ZS50cmltKCkuc3BsaXQod2hpdGVzcGFjZVJlZ2V4KSxzPXt9LG89MDtvPENPT1JESU5BVEVfS0VZUy5sZW5ndGg7bysrKWlmKG49Q09PUkRJTkFURV9LRVlTW29dLHRbb10pc1tuXT1wYXJzZUZsb2F0KHRbb10sMTApO2Vsc2V7aWYodm9pZCAwPT09KGk9ciYmcltuXSkpY29udGludWU7c1tuXT1wYXJzZUlmU3RyaW5nKGkpfXJldHVybiBzfWZ1bmN0aW9uIHN0cmluZ2lmeShlKXt2YXIgcjtyZXR1cm4gdHlwZW9mIGUhPT1PQkpFQ1Q/ZToocj1lLngrXCIgXCIrZS55LG51bGwhPWUueiYmKHIrPVwiIFwiK2UueiksbnVsbCE9ZS53JiYocis9XCIgXCIrZS53KSxyKX1mdW5jdGlvbiBpc0Nvb3JkaW5hdGVzKGUpe3JldHVybiByZWdleC50ZXN0KGUpfWZ1bmN0aW9uIHBhcnNlSWZTdHJpbmcoZSl7cmV0dXJuIG51bGwhPT1lJiZ2b2lkIDAhPT1lJiZlLmNvbnN0cnVjdG9yPT09U3RyaW5nP3BhcnNlRmxvYXQoZSwxMCk6ZX12YXIgZGVidWc9X2RlcmVxXyhcIi4vZGVidWdcIiksZXh0ZW5kPV9kZXJlcV8oXCJvYmplY3QtYXNzaWduXCIpLHdhcm49ZGVidWcoXCJ1dGlsczpjb29yZGluYXRlczp3YXJuXCIpLENPT1JESU5BVEVfS0VZUz1bXCJ4XCIsXCJ5XCIsXCJ6XCIsXCJ3XCJdLHJlZ2V4PS9eXFxzKigoLT9cXGQqXFwuezAsMX1cXGQrKGUtP1xcZCspPylcXHMrKXsyLDN9KC0/XFxkKlxcLnswLDF9XFxkKyhlLT9cXGQrKT8pXFxzKiQvO21vZHVsZS5leHBvcnRzLnJlZ2V4PXJlZ2V4O3ZhciBPQkpFQ1Q9XCJvYmplY3RcIix3aGl0ZXNwYWNlUmVnZXg9L1xccysvZzttb2R1bGUuZXhwb3J0cy5wYXJzZT1wYXJzZSxtb2R1bGUuZXhwb3J0cy5zdHJpbmdpZnk9c3RyaW5naWZ5LG1vZHVsZS5leHBvcnRzLmlzQ29vcmRpbmF0ZXM9aXNDb29yZGluYXRlcyxtb2R1bGUuZXhwb3J0cy5pc0Nvb3JkaW5hdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHdhcm4oXCJgQUZSQU1FLnV0aWxzLmlzQ29vcmRpbmF0ZWAgaGFzIGJlZW4gcmVuYW1lZCB0byBgQUZSQU1FLnV0aWxzLmlzQ29vcmRpbmF0ZXNgXCIpLGlzQ29vcmRpbmF0ZXMoZSl9LG1vZHVsZS5leHBvcnRzLnRvVmVjdG9yMz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoZS54LGUueSxlLnopfTtcbn0se1wiLi9kZWJ1Z1wiOjE3NyxcIm9iamVjdC1hc3NpZ25cIjoyN31dLDE3NzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuZnVuY3Rpb24gZ2V0RGVidWdOYW1lc3BhY2VUeXBlKGUpe3ZhciByPWUuc3BsaXQoXCI6XCIpO3JldHVybiByW3IubGVuZ3RoLTFdfWZ1bmN0aW9uIGdldERlYnVnTmFtZXNwYWNlQ29sb3IoZSl7dmFyIHI9Z2V0RGVidWdOYW1lc3BhY2VUeXBlKGUpO3JldHVybiBzZXR0aW5ncy5jb2xvcnMmJnNldHRpbmdzLmNvbG9yc1tyXXx8bnVsbH1mdW5jdGlvbiBzdG9yYWdlKCl7dHJ5e3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe319dmFyIGRlYnVnTGliPV9kZXJlcV8oXCJkZWJ1Z1wiKSxleHRlbmQ9X2RlcmVxXyhcIm9iamVjdC1hc3NpZ25cIiksc2V0dGluZ3M9e2NvbG9yczp7ZGVidWc6XCJncmF5XCIsZXJyb3I6XCJyZWRcIixpbmZvOlwiZ3JheVwiLHdhcm46XCJvcmFuZ2VcIn19LGRlYnVnPWZ1bmN0aW9uKGUpe3ZhciByPWRlYnVnTGliKGUpO3JldHVybiByLmNvbG9yPWdldERlYnVnTmFtZXNwYWNlQ29sb3IoZSkscn07ZXh0ZW5kKGRlYnVnLGRlYnVnTGliKTt2YXIgbHM9c3RvcmFnZSgpO2xzJiYocGFyc2VJbnQobHMubG9ncywxMCl8fFwidHJ1ZVwiPT09bHMubG9ncyk/ZGVidWcuZW5hYmxlKFwiKlwiKTpkZWJ1Zy5lbmFibGUoXCIqOmVycm9yLCo6aW5mbywqOndhcm5cIikscHJvY2Vzcy5icm93c2VyJiYod2luZG93LmxvZ3M9ZGVidWcpLG1vZHVsZS5leHBvcnRzPWRlYnVnO1xufSkuY2FsbCh0aGlzLF9kZXJlcV8oJ19wcm9jZXNzJykpXG5cbn0se1wiX3Byb2Nlc3NcIjo1LFwiZGVidWdcIjoxMCxcIm9iamVjdC1hc3NpZ25cIjoyN31dLDE3ODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuZnVuY3Rpb24gZ2V0VlJEaXNwbGF5KCl7cmV0dXJuIHZyRGlzcGxheX1mdW5jdGlvbiBjaGVja0hlYWRzZXRDb25uZWN0ZWQoKXtyZXR1cm4gc3VwcG9ydHNWUlNlc3Npb258fHN1cHBvcnRzQVJTZXNzaW9ufHwhIWdldFZSRGlzcGxheSgpfWZ1bmN0aW9uIGNoZWNrQVJTdXBwb3J0KCl7cmV0dXJuIHN1cHBvcnRzQVJTZXNzaW9ufWZ1bmN0aW9uIGlzVGFibGV0KGUpe3JldHVybi9pcGFkfE5leHVzICg3fDkpfHhvb218c2NoLWk4MDB8cGxheWJvb2t8dGFibGV0fGtpbmRsZS9pLnRlc3QoZXx8d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpfWZ1bmN0aW9uIGlzSU9TKCl7cmV0dXJuL2lQYWR8aVBob25lfGlQb2QvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSl9ZnVuY3Rpb24gaXNNb2JpbGVEZXZpY2VSZXF1ZXN0aW5nRGVza3RvcFNpdGUoKXtyZXR1cm4haXNNb2JpbGUoKSYmIWlzTW9iaWxlVlIoKSYmdm9pZCAwIT09d2luZG93Lm9yaWVudGF0aW9ufWZ1bmN0aW9uIGlzT2N1bHVzQnJvd3Nlcigpe3JldHVybi8oT2N1bHVzQnJvd3NlcikvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KX1mdW5jdGlvbiBpc0ZpcmVmb3hSZWFsaXR5KCl7cmV0dXJuLyhNb2JpbGUgVlIpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCl9ZnVuY3Rpb24gaXNNb2JpbGVWUigpe3JldHVybiBpc09jdWx1c0Jyb3dzZXIoKXx8aXNGaXJlZm94UmVhbGl0eSgpfWZ1bmN0aW9uIGlzUjcoKXtyZXR1cm4vUjcgQnVpbGQvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpfXZhciBlcnJvcj1fZGVyZXFfKFwiZGVidWdcIikoXCJkZXZpY2U6ZXJyb3JcIiksdnJEaXNwbGF5LHN1cHBvcnRzVlJTZXNzaW9uPSExLHN1cHBvcnRzQVJTZXNzaW9uPSExLGlzV2ViWFJBdmFpbGFibGU9bW9kdWxlLmV4cG9ydHMuaXNXZWJYUkF2YWlsYWJsZT0hd2luZG93LmRlYnVnJiZ2b2lkIDAhPT1uYXZpZ2F0b3IueHI7aWYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ2cmRpc3BsYXlhY3RpdmF0ZVwiLGZ1bmN0aW9uKGUpe3ZhciBpO2lzV2ViWFJBdmFpbGFibGV8fChpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdnJEaXNwbGF5PWUuZGlzcGxheSxpLmdldENvbnRleHQoXCJ3ZWJnbFwiLHt9KSx2ckRpc3BsYXkucmVxdWVzdFByZXNlbnQoW3tzb3VyY2U6aX1dKS50aGVuKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe30pKX0pLGlzV2ViWFJBdmFpbGFibGUpe3ZhciB1cGRhdGVFbnRlckludGVyZmFjZXM9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYS1zY2VuZVwiKTtpZighZSlyZXR1cm4gdm9pZCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIix1cGRhdGVFbnRlckludGVyZmFjZXMpO2UuaGFzTG9hZGVkP2UuY29tcG9uZW50c1tcInZyLW1vZGUtdWlcIl0udXBkYXRlRW50ZXJJbnRlcmZhY2VzKCk6ZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsdXBkYXRlRW50ZXJJbnRlcmZhY2VzKX0sZXJyb3JIYW5kbGVyPWZ1bmN0aW9uKGUpe2Vycm9yKFwiV2ViWFIgc2Vzc2lvbiBzdXBwb3J0IGVycm9yOiBcIitlLm1lc3NhZ2UpfTtuYXZpZ2F0b3IueHIuaXNTZXNzaW9uU3VwcG9ydGVkPyhuYXZpZ2F0b3IueHIuaXNTZXNzaW9uU3VwcG9ydGVkKFwiaW1tZXJzaXZlLXZyXCIpLnRoZW4oZnVuY3Rpb24oZSl7c3VwcG9ydHNWUlNlc3Npb249ZSx1cGRhdGVFbnRlckludGVyZmFjZXMoKX0pLmNhdGNoKGVycm9ySGFuZGxlciksbmF2aWdhdG9yLnhyLmlzU2Vzc2lvblN1cHBvcnRlZChcImltbWVyc2l2ZS1hclwiKS50aGVuKGZ1bmN0aW9uKGUpe3N1cHBvcnRzQVJTZXNzaW9uPWUsdXBkYXRlRW50ZXJJbnRlcmZhY2VzKCl9KS5jYXRjaChmdW5jdGlvbigpe30pKTpuYXZpZ2F0b3IueHIuc3VwcG9ydHNTZXNzaW9uPyhuYXZpZ2F0b3IueHIuc3VwcG9ydHNTZXNzaW9uKFwiaW1tZXJzaXZlLXZyXCIpLnRoZW4oZnVuY3Rpb24oKXtzdXBwb3J0c1ZSU2Vzc2lvbj0hMCx1cGRhdGVFbnRlckludGVyZmFjZXMoKX0pLmNhdGNoKGVycm9ySGFuZGxlciksbmF2aWdhdG9yLnhyLnN1cHBvcnRzU2Vzc2lvbihcImltbWVyc2l2ZS1hclwiKS50aGVuKGZ1bmN0aW9uKCl7c3VwcG9ydHNBUlNlc3Npb249ITAsdXBkYXRlRW50ZXJJbnRlcmZhY2VzKCl9KS5jYXRjaChmdW5jdGlvbigpe30pKTplcnJvcihcIldlYlhSIGhhcyBuZWl0aGVyIGlzU2Vzc2lvblN1cHBvcnRlZCBvciBzdXBwb3J0c1Nlc3Npb24/IVwiKX1lbHNlIG5hdmlnYXRvci5nZXRWUkRpc3BsYXlzJiZuYXZpZ2F0b3IuZ2V0VlJEaXNwbGF5cygpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImEtc2NlbmVcIik7dnJEaXNwbGF5PWUubGVuZ3RoJiZlWzBdLGkmJmkuZW1pdChcImRpc3BsYXljb25uZWN0ZWRcIix7dnJEaXNwbGF5OnZyRGlzcGxheX0pfSk7bW9kdWxlLmV4cG9ydHMuZ2V0VlJEaXNwbGF5PWdldFZSRGlzcGxheSxtb2R1bGUuZXhwb3J0cy5jaGVja0hlYWRzZXRDb25uZWN0ZWQ9Y2hlY2tIZWFkc2V0Q29ubmVjdGVkLG1vZHVsZS5leHBvcnRzLmNoZWNrQVJTdXBwb3J0PWNoZWNrQVJTdXBwb3J0O3ZhciBpc01vYmlsZT1mdW5jdGlvbigpe3ZhciBlPSExO3JldHVybiBmdW5jdGlvbihpKXsoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QoaSl8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoaS5zdWJzdHIoMCw0KSkpJiYoZT0hMCksKGlzSU9TKCl8fGlzVGFibGV0KCl8fGlzUjcoKSkmJihlPSEwKSxpc01vYmlsZVZSKCkmJihlPSExKX0od2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR8fHdpbmRvdy5uYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpLGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSgpO21vZHVsZS5leHBvcnRzLmlzTW9iaWxlPWlzTW9iaWxlLG1vZHVsZS5leHBvcnRzLmlzVGFibGV0PWlzVGFibGV0LG1vZHVsZS5leHBvcnRzLmlzSU9TPWlzSU9TLG1vZHVsZS5leHBvcnRzLmlzTW9iaWxlRGV2aWNlUmVxdWVzdGluZ0Rlc2t0b3BTaXRlPWlzTW9iaWxlRGV2aWNlUmVxdWVzdGluZ0Rlc2t0b3BTaXRlLG1vZHVsZS5leHBvcnRzLmlzT2N1bHVzQnJvd3Nlcj1pc09jdWx1c0Jyb3dzZXIsbW9kdWxlLmV4cG9ydHMuaXNGaXJlZm94UmVhbGl0eT1pc0ZpcmVmb3hSZWFsaXR5LG1vZHVsZS5leHBvcnRzLmlzTW9iaWxlVlI9aXNNb2JpbGVWUixtb2R1bGUuZXhwb3J0cy5pc1I3PWlzUjcsbW9kdWxlLmV4cG9ydHMuaXNMYW5kc2NhcGU9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cub3JpZW50YXRpb247cmV0dXJuIGlzUjcoKSYmKGUrPTkwKSw5MD09PWV8fC05MD09PWV9LG1vZHVsZS5leHBvcnRzLmlzQnJvd3NlckVudmlyb25tZW50PSEocHJvY2VzcyYmIXByb2Nlc3MuYnJvd3NlciksbW9kdWxlLmV4cG9ydHMuaXNOb2RlRW52aXJvbm1lbnQ9IW1vZHVsZS5leHBvcnRzLmlzQnJvd3NlckVudmlyb25tZW50O1xufSkuY2FsbCh0aGlzLF9kZXJlcV8oJ19wcm9jZXNzJykpXG5cbn0se1wiX3Byb2Nlc3NcIjo1LFwiZGVidWdcIjoxMH1dLDE3OTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBnZXRDb21wb25lbnRQcm9wZXJ0eVBhdGgodCxlKXtyZXR1cm4gZT1lfHxcIi5cIixwcm9wZXJ0eVBhdGhDYWNoZVtlXXx8KHByb3BlcnR5UGF0aENhY2hlW2VdPXt9KSwtMSE9PXQuaW5kZXhPZihlKT9wcm9wZXJ0eVBhdGhDYWNoZVtlXVt0XT10LnNwbGl0KGUpOnByb3BlcnR5UGF0aENhY2hlW2VdW3RdPXQscHJvcGVydHlQYXRoQ2FjaGVbZV1bdF19dmFyIHByb3BlcnR5UGF0aENhY2hlPXt9O21vZHVsZS5leHBvcnRzLmdldENvbXBvbmVudFByb3BlcnR5UGF0aD1nZXRDb21wb25lbnRQcm9wZXJ0eVBhdGgsbW9kdWxlLmV4cG9ydHMucHJvcGVydHlQYXRoQ2FjaGU9cHJvcGVydHlQYXRoQ2FjaGUsbW9kdWxlLmV4cG9ydHMuZ2V0Q29tcG9uZW50UHJvcGVydHk9ZnVuY3Rpb24odCxlLHIpe3ZhciBvO3JldHVybiByPXJ8fFwiLlwiLC0xIT09ZS5pbmRleE9mKHIpPyhvPWdldENvbXBvbmVudFByb3BlcnR5UGF0aChlLHIpLG8uY29uc3RydWN0b3I9PT1TdHJpbmc/dC5nZXRBdHRyaWJ1dGUobyk6dC5nZXRBdHRyaWJ1dGUob1swXSlbb1sxXV0pOnQuZ2V0QXR0cmlidXRlKGUpfSxtb2R1bGUuZXhwb3J0cy5zZXRDb21wb25lbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUscixvKXt2YXIgcDtpZihvPW98fFwiLlwiLC0xIT09ZS5pbmRleE9mKG8pKXJldHVybiBwPWdldENvbXBvbmVudFByb3BlcnR5UGF0aChlLG8pLHZvaWQocC5jb25zdHJ1Y3Rvcj09PVN0cmluZz90LnNldEF0dHJpYnV0ZShwLHIpOnQuc2V0QXR0cmlidXRlKHBbMF0scFsxXSxyKSk7dC5zZXRBdHRyaWJ1dGUoZSxyKX07XG59LHt9XSwxODA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZS53aWR0aCxzPXQuc3R5bGUuaGVpZ2h0O3Quc3R5bGUud2lkdGg9cGFyc2VJbnQoZSwxMCkrMStcInB4XCIsdC5zdHlsZS5oZWlnaHQ9cGFyc2VJbnQocywxMCkrMStcInB4XCIsc2V0VGltZW91dChmdW5jdGlvbigpe3Quc3R5bGUud2lkdGg9ZSx0LnN0eWxlLmhlaWdodD1zfSwyMDApfTtcbn0se31dLDE4MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgZGVidWc9X2RlcmVxXyhcIi4vZGVidWdcIiksZGVlcEFzc2lnbj1fZGVyZXFfKFwiZGVlcC1hc3NpZ25cIiksZGV2aWNlPV9kZXJlcV8oXCIuL2RldmljZVwiKSxvYmplY3RBc3NpZ249X2RlcmVxXyhcIm9iamVjdC1hc3NpZ25cIiksb2JqZWN0UG9vbD1fZGVyZXFfKFwiLi9vYmplY3QtcG9vbFwiKSx3YXJuPWRlYnVnKFwidXRpbHM6d2FyblwiKTttb2R1bGUuZXhwb3J0cy5iaW5kPV9kZXJlcV8oXCIuL2JpbmRcIiksbW9kdWxlLmV4cG9ydHMuY29vcmRpbmF0ZXM9X2RlcmVxXyhcIi4vY29vcmRpbmF0ZXNcIiksbW9kdWxlLmV4cG9ydHMuZGVidWc9ZGVidWcsbW9kdWxlLmV4cG9ydHMuZGV2aWNlPWRldmljZSxtb2R1bGUuZXhwb3J0cy5lbnRpdHk9X2RlcmVxXyhcIi4vZW50aXR5XCIpLG1vZHVsZS5leHBvcnRzLmZvcmNlQ2FudmFzUmVzaXplU2FmYXJpTW9iaWxlPV9kZXJlcV8oXCIuL2ZvcmNlQ2FudmFzUmVzaXplU2FmYXJpTW9iaWxlXCIpLG1vZHVsZS5leHBvcnRzLmlzSUUxMT1fZGVyZXFfKFwiLi9pcy1pZTExXCIpLG1vZHVsZS5leHBvcnRzLm1hdGVyaWFsPV9kZXJlcV8oXCIuL21hdGVyaWFsXCIpLG1vZHVsZS5leHBvcnRzLm9iamVjdFBvb2w9b2JqZWN0UG9vbCxtb2R1bGUuZXhwb3J0cy5zcGxpdD1fZGVyZXFfKFwiLi9zcGxpdFwiKS5zcGxpdCxtb2R1bGUuZXhwb3J0cy5zdHlsZVBhcnNlcj1fZGVyZXFfKFwiLi9zdHlsZVBhcnNlclwiKSxtb2R1bGUuZXhwb3J0cy50cmFja2VkQ29udHJvbHM9X2RlcmVxXyhcIi4vdHJhY2tlZC1jb250cm9sc1wiKSxtb2R1bGUuZXhwb3J0cy5jaGVja0hlYWRzZXRDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2FybihcImB1dGlscy5jaGVja0hlYWRzZXRDb25uZWN0ZWRgIGhhcyBtb3ZlZCB0byBgdXRpbHMuZGV2aWNlLmNoZWNrSGVhZHNldENvbm5lY3RlZGBcIiksZGV2aWNlLmNoZWNrSGVhZHNldENvbm5lY3RlZChhcmd1bWVudHMpfSxtb2R1bGUuZXhwb3J0cy5pc0dlYXJWUj1tb2R1bGUuZXhwb3J0cy5kZXZpY2UuaXNHZWFyVlI9ZnVuY3Rpb24oKXt3YXJuKFwiYHV0aWxzLmlzR2VhclZSYCBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgYHV0aWxzLmRldmljZS5pc01vYmlsZVZSYFwiKX0sbW9kdWxlLmV4cG9ydHMuaXNJT1M9ZnVuY3Rpb24oKXtyZXR1cm4gd2FybihcImB1dGlscy5pc0lPU2AgaGFzIG1vdmVkIHRvIGB1dGlscy5kZXZpY2UuaXNJT1NgXCIpLGRldmljZS5pc0lPUyhhcmd1bWVudHMpfSxtb2R1bGUuZXhwb3J0cy5pc09jdWx1c0dvPW1vZHVsZS5leHBvcnRzLmRldmljZS5pc09jdWx1c0dvPWZ1bmN0aW9uKCl7d2FybihcImB1dGlscy5pc09jdWx1c0dvYCBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgYHV0aWxzLmRldmljZS5pc01vYmlsZVZSYFwiKX0sbW9kdWxlLmV4cG9ydHMuaXNNb2JpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gd2FybihcImB1dGlscy5pc01vYmlsZSBoYXMgbW92ZWQgdG8gYHV0aWxzLmRldmljZS5pc01vYmlsZWBcIiksZGV2aWNlLmlzTW9iaWxlKGFyZ3VtZW50cyl9LG1vZHVsZS5leHBvcnRzLnRocm90dGxlPWZ1bmN0aW9uKGUscix0KXt2YXIgbztyZXR1cm4gdCYmKGU9bW9kdWxlLmV4cG9ydHMuYmluZChlLHQpKSxmdW5jdGlvbigpe3ZhciB0PURhdGUubm93KCksaT12b2lkIDA9PT1vP3I6dC1vOyh2b2lkIDA9PT1vfHxpPj1yKSYmKG89dCxlLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9fSxtb2R1bGUuZXhwb3J0cy50aHJvdHRsZVRpY2s9ZnVuY3Rpb24oZSxyLHQpe3ZhciBvO3JldHVybiB0JiYoZT1tb2R1bGUuZXhwb3J0cy5iaW5kKGUsdCkpLGZ1bmN0aW9uKHQsaSl7dmFyIG49dm9pZCAwPT09bz9pOnQtbzsodm9pZCAwPT09b3x8bj49cikmJihvPXQsZSh0LG4pKX19LG1vZHVsZS5leHBvcnRzLmRlYm91bmNlPWZ1bmN0aW9uKGUscix0KXt2YXIgbztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49YXJndW1lbnRzLHU9ZnVuY3Rpb24oKXtvPW51bGwsdHx8ZS5hcHBseShpLG4pfSxzPXQmJiFvO2NsZWFyVGltZW91dChvKSxvPXNldFRpbWVvdXQodSxyKSxzJiZlLmFwcGx5KGksbil9fSxtb2R1bGUuZXhwb3J0cy5leHRlbmQ9b2JqZWN0QXNzaWduLG1vZHVsZS5leHBvcnRzLmV4dGVuZERlZXA9ZGVlcEFzc2lnbixtb2R1bGUuZXhwb3J0cy5jbG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9O3ZhciBkZWVwRXF1YWw9ZnVuY3Rpb24oKXt2YXIgZT1vYmplY3RQb29sLmNyZWF0ZVBvb2woZnVuY3Rpb24oKXtyZXR1cm5bXX0pO3JldHVybiBmdW5jdGlvbihyLHQpe3ZhciBvLGksbix1LHMsYztpZih2b2lkIDA9PT1yfHx2b2lkIDA9PT10fHxudWxsPT09cnx8bnVsbD09PXR8fCEociYmdCYmci5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmdC5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8ci5jb25zdHJ1Y3Rvcj09PUFycmF5JiZ0LmNvbnN0cnVjdG9yPT09QXJyYXkpKXJldHVybiByPT09dDtpPWUudXNlKCksbj1lLnVzZSgpLGkubGVuZ3RoPTAsbi5sZW5ndGg9MDtmb3IobyBpbiByKWkucHVzaChvKTtmb3IobyBpbiB0KW4ucHVzaChvKTtpZihpLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiBlLnJlY3ljbGUoaSksZS5yZWN5Y2xlKG4pLCExO2Zvcih1PTA7dTxpLmxlbmd0aDsrK3UpaWYocz1yW2lbdV1dLGM9dFtpW3VdXSxcIm9iamVjdFwiPT10eXBlb2Ygc3x8XCJvYmplY3RcIj09dHlwZW9mIGN8fEFycmF5LmlzQXJyYXkocykmJkFycmF5LmlzQXJyYXkoYykpe2lmKHM9PT1jKWNvbnRpbnVlO2lmKCFkZWVwRXF1YWwocyxjKSlyZXR1cm4gZS5yZWN5Y2xlKGkpLGUucmVjeWNsZShuKSwhMX1lbHNlIGlmKHMhPT1jKXJldHVybiBlLnJlY3ljbGUoaSksZS5yZWN5Y2xlKG4pLCExO3JldHVybiBlLnJlY3ljbGUoaSksZS5yZWN5Y2xlKG4pLCEwfX0oKTttb2R1bGUuZXhwb3J0cy5kZWVwRXF1YWw9ZGVlcEVxdWFsLG1vZHVsZS5leHBvcnRzLmRpZmY9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24ocix0LG8pe3ZhciBpLG4sdSxzLGMsbCxkO3M9b3x8e30sZS5sZW5ndGg9MDtmb3IoYyBpbiByKWUucHVzaChjKTtpZighdClyZXR1cm4gcztmb3IodSBpbiB0KS0xPT09ZS5pbmRleE9mKHUpJiZlLnB1c2godSk7Zm9yKGw9MDtsPGUubGVuZ3RoO2wrKyljPWVbbF0saT1yW2NdLG49dFtjXSwoKGQ9aSYmbiYmaS5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmbi5jb25zdHJ1Y3Rvcj09PU9iamVjdCkmJiFkZWVwRXF1YWwoaSxuKXx8IWQmJmkhPT1uKSYmKHNbY109bik7cmV0dXJuIHN9fSgpLG1vZHVsZS5leHBvcnRzLnNob3VsZENhcHR1cmVLZXlFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4hZS5tZXRhS2V5JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZG9jdW1lbnQuYm9keX0sbW9kdWxlLmV4cG9ydHMuc3BsaXRTdHJpbmc9ZnVuY3Rpb24oZSxyKXt2b2lkIDA9PT1yJiYocj1cIiBcIik7dmFyIHQ9bmV3IFJlZ0V4cChyLFwiZ1wiKTtyZXR1cm4gZT0oZXx8XCJcIikucmVwbGFjZSh0LHIpLGUuc3BsaXQocil9LG1vZHVsZS5leHBvcnRzLmdldEVsRGF0YT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIHQocil7ZS5oYXNBdHRyaWJ1dGUocikmJihvW3JdPWUuZ2V0QXR0cmlidXRlKHIpKX1yPXJ8fHt9O3ZhciBvPXt9O3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKHQpLG99LG1vZHVsZS5leHBvcnRzLmdldFVybFBhcmFtZXRlcj1mdW5jdGlvbihlKXtlPWUucmVwbGFjZSgvW1xcW10vLFwiXFxcXFtcIikucmVwbGFjZSgvW1xcXV0vLFwiXFxcXF1cIik7dmFyIHI9bmV3IFJlZ0V4cChcIltcXFxcPyZdXCIrZStcIj0oW14mI10qKVwiKSx0PXIuZXhlYyhsb2NhdGlvbi5zZWFyY2gpO3JldHVybiBudWxsPT09dD9cIlwiOmRlY29kZVVSSUNvbXBvbmVudCh0WzFdLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9LG1vZHVsZS5leHBvcnRzLmlzSWZyYW1lZD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cudG9wIT09d2luZG93LnNlbGZ9LG1vZHVsZS5leHBvcnRzLmZpbmRBbGxTY2VuZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPVtdLHQ9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksbz0wLGk9dC5sZW5ndGg7bzxpO28rKyl0W29dLmlzU2NlbmUmJnIucHVzaCh0W29dKTtyZXR1cm4gcn0sbW9kdWxlLmV4cG9ydHMuc3JjTG9hZGVyPV9kZXJlcV8oXCIuL3NyYy1sb2FkZXJcIik7XG59LHtcIi4vYmluZFwiOjE3NSxcIi4vY29vcmRpbmF0ZXNcIjoxNzYsXCIuL2RlYnVnXCI6MTc3LFwiLi9kZXZpY2VcIjoxNzgsXCIuL2VudGl0eVwiOjE3OSxcIi4vZm9yY2VDYW52YXNSZXNpemVTYWZhcmlNb2JpbGVcIjoxODAsXCIuL2lzLWllMTFcIjoxODIsXCIuL21hdGVyaWFsXCI6MTg0LFwiLi9vYmplY3QtcG9vbFwiOjE4NSxcIi4vc3BsaXRcIjoxODYsXCIuL3NyYy1sb2FkZXJcIjoxODcsXCIuL3N0eWxlUGFyc2VyXCI6MTg4LFwiLi90cmFja2VkLWNvbnRyb2xzXCI6MTg5LFwiZGVlcC1hc3NpZ25cIjoxMixcIm9iamVjdC1hc3NpZ25cIjoyN31dLDE4MjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpe3ZhciBlLHI9LTEsbj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVyblwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZT8oZT1uZXcgUmVnRXhwKFwiTVNJRSAoWzAtOV17MSx9W1xcXFwuMC05XXswLH0pXCIpLG51bGwhPWUuZXhlYyhuKSYmKHI9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSk6XCJOZXRzY2FwZVwiPT09bmF2aWdhdG9yLmFwcE5hbWUmJihlPW5ldyBSZWdFeHAoXCJUcmlkZW50Ly4qcnY6KFswLTldezEsfVtcXFxcLjAtOV17MCx9KVwiKSxudWxsIT1lLmV4ZWMobikmJihyPXBhcnNlRmxvYXQoUmVnRXhwLiQxKSkpLHJ9bW9kdWxlLmV4cG9ydHM9MTE9PT1nZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpO1xufSx7fV0sMTgzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG8pe3JldHVybi8oaXBob25lfGlwb2R8aXBhZCkuKm9zLig3X3w4X3w5XykvaS50ZXN0KG8pfTtcbn0se31dLDE4NDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBoYW5kbGVUZXh0dXJlRXZlbnRzKGUsdCl7dCYmKGUuZW1pdChcIm1hdGVyaWFsdGV4dHVyZWxvYWRlZFwiLHtzcmM6dC5pbWFnZSx0ZXh0dXJlOnR9KSx0LmltYWdlJiZcIlZJREVPXCI9PT10LmltYWdlLnRhZ05hbWUmJih0LmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsZnVuY3Rpb24oKXtlLmNvbXBvbmVudHMmJmUuY29tcG9uZW50cy5tYXRlcmlhbCYmKHQubmVlZHNDb3JyZWN0aW9uQkdSQSYmdC5uZWVkc0NvcnJlY3Rpb25GbGlwWSYmLTEhPT1bXCJzdGFuZGFyZFwiLFwiZmxhdFwiXS5pbmRleE9mKGUuY29tcG9uZW50cy5tYXRlcmlhbC5kYXRhLnNoYWRlcikmJmUuc2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIixcInNoYWRlclwiLFwiaW9zMTBobHNcIiksZS5lbWl0KFwibWF0ZXJpYWx2aWRlb2xvYWRlZGRhdGFcIix7c3JjOnQuaW1hZ2UsdGV4dHVyZTp0fSkpfSksdC5pbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixmdW5jdGlvbigpe2UuZW1pdChcIm1hdGVyaWFsdmlkZW9lbmRlZFwiLHtzcmM6dC5pbWFnZSx0ZXh0dXJlOnR9KX0pKSl9dmFyIFRIUkVFPV9kZXJlcV8oXCIuLi9saWIvdGhyZWVcIiksSExTX01JTUVUWVBFUz1bXCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIixcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCJdLENPTE9SX01BUFM9bmV3IFNldChbXCJlbWlzc2l2ZU1hcFwiLFwiZW52TWFwXCIsXCJtYXBcIixcInNwZWN1bGFyTWFwXCJdKTttb2R1bGUuZXhwb3J0cy51cGRhdGVNYXBNYXRlcmlhbEZyb21EYXRhPWZ1bmN0aW9uKGUsdCxhLHIpe2Z1bmN0aW9uIG4odCl7YS5tYXRlcmlhbFNyY3NbZV09PT1kJiZpKHQpfWZ1bmN0aW9uIGkodCl7b1tlXT10LHQmJkNPTE9SX01BUFMuaGFzKGUpJiZsLmFwcGx5Q29sb3JDb3JyZWN0aW9uKHQpLG8ubmVlZHNVcGRhdGU9ITAsaGFuZGxlVGV4dHVyZUV2ZW50cyhzLHQpfXZhciBzPWEuZWwsbz1hLm1hdGVyaWFsLGw9cy5zY2VuZUVsLnN5c3RlbXMucmVuZGVyZXIsZD1yW3RdO2lmKGEubWF0ZXJpYWxTcmNzfHwoYS5tYXRlcmlhbFNyY3M9e30pLCFkKXJldHVybiBkZWxldGUgYS5tYXRlcmlhbFNyY3NbZV0sdm9pZCBpKG51bGwpO2QhPT1hLm1hdGVyaWFsU3Jjc1tlXSYmKGEubWF0ZXJpYWxTcmNzW2VdPWQsZCBpbnN0YW5jZW9mIFRIUkVFLlRleHR1cmU/aShkKTpzLnNjZW5lRWwuc3lzdGVtcy5tYXRlcmlhbC5sb2FkVGV4dHVyZShkLHtzcmM6ZCxyZXBlYXQ6ci5yZXBlYXQsb2Zmc2V0OnIub2Zmc2V0LG5wb3Q6ci5ucG90fSxuKSl9LG1vZHVsZS5leHBvcnRzLnVwZGF0ZU1hcD1mdW5jdGlvbihlLHQpe3JldHVybiBtb2R1bGUuZXhwb3J0cy51cGRhdGVNYXBNYXRlcmlhbEZyb21EYXRhKFwibWFwXCIsXCJzcmNcIixlLHQpfSxtb2R1bGUuZXhwb3J0cy51cGRhdGVEaXN0b3J0aW9uTWFwPWZ1bmN0aW9uKGUsdCxhKXtmdW5jdGlvbiByKGUpe3ZhciB0PW4rXCJNYXBcIjtzW3RdPWUsZSYmQ09MT1JfTUFQUy5oYXModCkmJm8uYXBwbHlDb2xvckNvcnJlY3Rpb24oZSkscy5uZWVkc1VwZGF0ZT0hMCxoYW5kbGVUZXh0dXJlRXZlbnRzKGksZSl9dmFyIG49ZTtcImFtYmllbnRPY2NsdXNpb25cIj09PWUmJihuPVwiYW9cIik7dmFyIGk9dC5lbCxzPXQubWF0ZXJpYWwsbz1pLnNjZW5lRWwuc3lzdGVtcy5yZW5kZXJlcixsPWFbZStcIk1hcFwiXSxkPXt9O2lmKGQuc3JjPWwsZC5vZmZzZXQ9YVtlK1wiVGV4dHVyZU9mZnNldFwiXSxkLnJlcGVhdD1hW2UrXCJUZXh0dXJlUmVwZWF0XCJdLGQud3JhcD1hW2UrXCJUZXh0dXJlV3JhcFwiXSxsKXtpZihsPT09dFtlK1wiVGV4dHVyZVNyY1wiXSlyZXR1cm47cmV0dXJuIHRbZStcIlRleHR1cmVTcmNcIl09bCx2b2lkIGkuc2NlbmVFbC5zeXN0ZW1zLm1hdGVyaWFsLmxvYWRUZXh0dXJlKGwsZCxyKX1zLm1hcCYmcihudWxsKX0sbW9kdWxlLmV4cG9ydHMuaGFuZGxlVGV4dHVyZUV2ZW50cz1oYW5kbGVUZXh0dXJlRXZlbnRzLG1vZHVsZS5leHBvcnRzLmlzSExTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISghdHx8IUhMU19NSU1FVFlQRVMuaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKSl8fCEhKGUmJmUudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiLm0zdThcIik+MCl9O1xufSx7XCIuLi9saWIvdGhyZWVcIjoxNTZ9XSwxODU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gZGVmYXVsdE9iamVjdEZhY3RvcnkoKXtyZXR1cm57fX1mdW5jdGlvbiBjbGVhck9iamVjdChlKXt2YXIgdDtpZihlJiZlLmNvbnN0cnVjdG9yPT09T2JqZWN0KWZvcih0IGluIGUpZVt0XT12b2lkIDB9ZnVuY3Rpb24gcmVtb3ZlVW51c2VkS2V5cyhlLHQpe3ZhciBuO2lmKGUmJmUuY29uc3RydWN0b3I9PT1PYmplY3QpZm9yKG4gaW4gZSluIGluIHR8fGRlbGV0ZSBlW25dfXZhciBFTVBUWV9TTE9UPU9iamVjdC5mcmVlemUoT2JqZWN0LmNyZWF0ZShudWxsKSk7bW9kdWxlLmV4cG9ydHMuY3JlYXRlUG9vbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuIG51bGwhPT1sJiZsIT09Yy5sZW5ndGh8fHIoYy5sZW5ndGh8fDUpLGU9Y1tsXSxjW2wrK109RU1QVFlfU0xPVCxjbGVhck9iamVjdChlKSxlfWZ1bmN0aW9uIG4oZSl7aWYoZSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gbnVsbD09PWx8fC0xPT09bD92b2lkKGNbYy5sZW5ndGhdPWUpOnZvaWQoY1stLWxdPWUpfWZ1bmN0aW9uIHIodCl7dmFyIG4scjtpZih0PXZvaWQgMD09PXQ/Yy5sZW5ndGg6dCx0PjAmJm51bGw9PWwmJihsPTApLHQ+MClmb3Iobj1jLmxlbmd0aCxjLmxlbmd0aCs9TnVtYmVyKHQpLHI9bjtyPGMubGVuZ3RoO3IrKyljW3JdPWUoKTtyZXR1cm4gYy5sZW5ndGh9ZnVuY3Rpb24gbygpe3JldHVybiBjLmxlbmd0aH12YXIgYz1bXSxsPW51bGw7cmV0dXJuIGU9ZXx8ZGVmYXVsdE9iamVjdEZhY3Rvcnkse2dyb3c6cixwb29sOmMscmVjeWNsZTpuLHNpemU6byx1c2U6dH19LG1vZHVsZS5leHBvcnRzLmNsZWFyT2JqZWN0PWNsZWFyT2JqZWN0LG1vZHVsZS5leHBvcnRzLnJlbW92ZVVudXNlZEtleXM9cmVtb3ZlVW51c2VkS2V5cztcbn0se31dLDE4NjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cy5zcGxpdD1mdW5jdGlvbigpe3ZhciBuPXt9O3JldHVybiBmdW5jdGlvbih0LGkpe3JldHVybiBpIGluIG58fChuW2ldPXt9KSx0IGluIG5baV0/bltpXVt0XToobltpXVt0XT10LnNwbGl0KGkpLG5baV1bdF0pfX0oKTtcbn0se31dLDE4NzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiB2YWxpZGF0ZVNyYyhlLGEsdCl7Y2hlY2tJc0ltYWdlKGUsZnVuY3Rpb24ocil7aWYocilyZXR1cm4gdm9pZCBhKGUpO3QoZSl9KX1mdW5jdGlvbiB2YWxpZGF0ZUN1YmVtYXBTcmMoZSxhKXtmdW5jdGlvbiB0KGUpe28ucHVzaChlKSw2PT09by5sZW5ndGgmJmEobyl9dmFyIHIsbixjLHM9XCJcIixvPVtdO2ZvcihuPTA7bjw1O24rKylzKz1cIih1cmxcXFxcKCg/OlteXFxcXCldKylcXFxcKSxcXFxccyopXCI7aWYocys9XCIodXJsXFxcXCgoPzpbXlxcXFwpXSspXFxcXClcXFxccyopXCIsYz1lLm1hdGNoKG5ldyBSZWdFeHAocykpKWZvcihuPTE7bjw3O24rKyl2YWxpZGF0ZVNyYyhwYXJzZVVybChjW25dKSx0KTtlbHNlIGlmKHI9dmFsaWRhdGVBbmRHZXRRdWVyeVNlbGVjdG9yKGUpKXJldHVyblwiQS1DVUJFTUFQXCI9PT1yLnRhZ05hbWUmJnIuc3Jjcz9hKHIuc3Jjcyk6dm9pZCB3YXJuKCdTZWxlY3RvciBcIiVzXCIgZG9lcyBub3QgcG9pbnQgdG8gPGEtY3ViZW1hcD4nLGUpfWZ1bmN0aW9uIHBhcnNlVXJsKGUpe3ZhciBhPWUubWF0Y2goL1xcdXJsXFwoKC4rKVxcKS8pO2lmKGEpcmV0dXJuIGFbMV19ZnVuY3Rpb24gY2hlY2tJc0ltYWdlKGUsYSl7dmFyIHQ7aWYoZS50YWdOYW1lKXJldHVybiB2b2lkIGEoXCJJTUdcIj09PWUudGFnTmFtZSk7dD1uZXcgWE1MSHR0cFJlcXVlc3QsdC5vcGVuKFwiSEVBRFwiLGUpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihyKXt2YXIgbjt0LnN0YXR1cz49MjAwJiZ0LnN0YXR1czwzMDA/KG49dC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSxudWxsPT1uP2NoZWNrSXNJbWFnZUZhbGxiYWNrKGUsYSk6YShuLnN0YXJ0c1dpdGgoXCJpbWFnZVwiKT8hMDohMSkpOmNoZWNrSXNJbWFnZUZhbGxiYWNrKGUsYSksdC5hYm9ydCgpfSksdC5zZW5kKCl9ZnVuY3Rpb24gY2hlY2tJc0ltYWdlRmFsbGJhY2soZSxhKXtmdW5jdGlvbiB0KCl7YSghMCl9ZnVuY3Rpb24gcigpe2EoITEpfXZhciBuPW5ldyBJbWFnZTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdCksbi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixyKSxuLnNyYz1lfWZ1bmN0aW9uIHZhbGlkYXRlQW5kR2V0UXVlcnlTZWxlY3RvcihlKXt0cnl7dmFyIGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtyZXR1cm4gYXx8d2FybignTm8gZWxlbWVudCB3YXMgZm91bmQgbWF0Y2hpbmcgdGhlIHNlbGVjdG9yOiBcIiVzXCInLGUpLGF9Y2F0Y2goYSl7cmV0dXJuIHZvaWQgd2FybignXCIlc1wiIGlzIG5vdCBhIHZhbGlkIHNlbGVjdG9yJyxlKX19dmFyIGRlYnVnPV9kZXJlcV8oXCIuL2RlYnVnXCIpLHdhcm49ZGVidWcoXCJ1dGlsczpzcmMtbG9hZGVyOndhcm5cIik7bW9kdWxlLmV4cG9ydHM9e3BhcnNlVXJsOnBhcnNlVXJsLHZhbGlkYXRlU3JjOnZhbGlkYXRlU3JjLHZhbGlkYXRlQ3ViZW1hcFNyYzp2YWxpZGF0ZUN1YmVtYXBTcmN9O1xufSx7XCIuL2RlYnVnXCI6MTc3fV0sMTg4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKGUpe3JldHVybiBlLnJlcGxhY2UoREFTSF9SRUdFWCx1cHBlckNhc2UpfWZ1bmN0aW9uIHRyYW5zZm9ybUtleXNUb0NhbWVsQ2FzZShlKXt2YXIgcix0O2Zvcih0IGluIGUpcj10b0NhbWVsQ2FzZSh0KSx0IT09ciYmKGVbcl09ZVt0XSxkZWxldGUgZVt0XSk7cmV0dXJuIGV9ZnVuY3Rpb24gc3R5bGVQYXJzZShlLHIpe3ZhciB0LG4scyxhLG8sdTtmb3Iocj1yfHx7fSx0PWdldEtleVZhbHVlQ2h1bmtzKGUpLG49MDtuPHQubGVuZ3RoO24rKykocz10W25dKSYmKGE9cy5pbmRleE9mKFwiOlwiKSxvPXMuc3Vic3RyKDAsYSkudHJpbSgpLHU9cy5zdWJzdHIoYSsxKS50cmltKCkscltvXT11KTtyZXR1cm4gcn1mdW5jdGlvbiBzdHlsZVN0cmluZ2lmeShlKXt2YXIgcix0PTAsbj0wLHM9XCJcIjtmb3IociBpbiBlKXQrKztmb3IociBpbiBlKXMrPXIrXCI6IFwiK2Vbcl0sbjx0LTEmJihzKz1cIjsgXCIpLG4rKztyZXR1cm4gc31mdW5jdGlvbiB1cHBlckNhc2UoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX12YXIgREFTSF9SRUdFWD0vLShbYS16XSkvZzttb2R1bGUuZXhwb3J0cy5wYXJzZT1mdW5jdGlvbihlLHIpe3ZhciB0O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlP2U6KHQ9c3R5bGVQYXJzZShlLHIpLHRbXCJcIl0/ZTp0cmFuc2Zvcm1LZXlzVG9DYW1lbENhc2UodCkpfSxtb2R1bGUuZXhwb3J0cy5zdHJpbmdpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpzdHlsZVN0cmluZ2lmeShlKX0sbW9kdWxlLmV4cG9ydHMudG9DYW1lbENhc2U9dG9DYW1lbENhc2UsbW9kdWxlLmV4cG9ydHMudHJhbnNmb3JtS2V5c1RvQ2FtZWxDYXNlPXRyYW5zZm9ybUtleXNUb0NhbWVsQ2FzZTt2YXIgZ2V0S2V5VmFsdWVDaHVua3M9ZnVuY3Rpb24oKXt2YXIgZT1bXSxyPS91cmxcXChbXildKyQvO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbixzPVwiXCIsYT0wO2ZvcihlLmxlbmd0aD0wO2E8dC5sZW5ndGg7KW49dC5pbmRleE9mKFwiO1wiLGEpLC0xPT09biYmKG49dC5sZW5ndGgpLHMrPXQuc3Vic3RyaW5nKGEsbiksci50ZXN0KHMpPyhzKz1cIjtcIixhPW4rMSk6KGUucHVzaChzLnRyaW0oKSkscz1cIlwiLGE9bisxKTtyZXR1cm4gZX19KCk7XG59LHt9XSwxODk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaXNDb250cm9sbGVyUHJlc2VudFdlYlZSKGUsbix0KXt2YXIgcixvLGw9ZS5lbC5zY2VuZUVsLGk9dC5pbmRleHx8MDtyZXR1cm4hIW4mJighIShvPWwmJmwuc3lzdGVtc1tcInRyYWNrZWQtY29udHJvbHMtd2VidnJcIl0pJiYocj1vLmNvbnRyb2xsZXJzLCEhci5sZW5ndGgmJiEhZmluZE1hdGNoaW5nQ29udHJvbGxlcldlYlZSKHIsbnVsbCxuLHQuaGFuZCxpKSkpfWZ1bmN0aW9uIGlzQ29udHJvbGxlclByZXNlbnRXZWJYUihlLG4sdCl7dmFyIHIsbz1lLmVsLnNjZW5lRWwsbD1vJiZvLnN5c3RlbXNbXCJ0cmFja2VkLWNvbnRyb2xzLXdlYnhyXCJdO3JldHVybiEhbCYmKCEoIShyPWwuY29udHJvbGxlcnMpfHwhci5sZW5ndGgpJiZmaW5kTWF0Y2hpbmdDb250cm9sbGVyV2ViWFIocixuLHQuaGFuZCx0LmluZGV4LHQuaXRlcmF0ZUNvbnRyb2xsZXJQcm9maWxlcykpfWZ1bmN0aW9uIGZpbmRNYXRjaGluZ0NvbnRyb2xsZXJXZWJWUihlLG4sdCxyLG8pe3ZhciBsLGkscz0wLGQ9bz49MD9vOjA7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKylpZihsPWVbaV0sKCF0fHxsLmlkLnN0YXJ0c1dpdGgodCkpJiYodHx8bC5pZD09PW4pJiYoIXJ8fCFsLmhhbmR8fHI9PT1sLmhhbmQpKXtpZighcnx8bC5oYW5kKXJldHVybiBsO2lmKGQ9TlVNX0hBTkRTKm8rKHI9PT1ERUZBVUxUX0hBTkRFRE5FU1M/MDoxKSxzPT09ZClyZXR1cm4gbDsrK3N9fWZ1bmN0aW9uIGZpbmRNYXRjaGluZ0NvbnRyb2xsZXJXZWJYUihlLG4sdCxyLG8pe3ZhciBsLGkscyxkLGE9ITE7Zm9yKGw9MDtsPGUubGVuZ3RoO2wrKyl7aWYocz1lW2xdLGQ9cy5wcm9maWxlcywwPT09ZC5sZW5ndGgpcmV0dXJuO2lmKG8pZm9yKGk9MDtpPGQubGVuZ3RoJiYhKGE9ZFtpXS5zdGFydHNXaXRoKG4pKTtpKyspO2Vsc2UgYT1kWzBdLnN0YXJ0c1dpdGgobik7aWYoYSlpZihcInJpZ2h0XCI9PT1zLmhhbmRlZG5lc3N8fFwibGVmdFwiPT09cy5oYW5kZWRuZXNzKXtpZihzLmhhbmRlZG5lc3M9PT10KXJldHVybiBlW2xdfWVsc2UgaWYobD09PXIpcmV0dXJuIGVbbF19fXZhciBERUZBVUxUX0hBTkRFRE5FU1M9X2RlcmVxXyhcIi4uL2NvbnN0YW50c1wiKS5ERUZBVUxUX0hBTkRFRE5FU1MsQVhJU19MQUJFTFM9W1wieFwiLFwieVwiLFwielwiLFwid1wiXSxOVU1fSEFORFM9Mjttb2R1bGUuZXhwb3J0cy5jaGVja0NvbnRyb2xsZXJQcmVzZW50QW5kU2V0dXA9ZnVuY3Rpb24oZSxuLHQpe3ZhciByLG8sbD1lLmVsLGk9bC5zY2VuZUVsLmhhc1dlYlhSLHM9aT9pc0NvbnRyb2xsZXJQcmVzZW50V2ViWFI6aXNDb250cm9sbGVyUHJlc2VudFdlYlZSO2lmKHI9cyhlLG4sdCksbz0hIXIsIWUuY29udHJvbGxlclByZXNlbnR8fGUuY29udHJvbGxlckV2ZW50c0FjdGl2ZXx8aXx8ZS5hZGRFdmVudExpc3RlbmVycygpLG89PT1lLmNvbnRyb2xsZXJQcmVzZW50KXJldHVybiBvO2UuY29udHJvbGxlclByZXNlbnQ9byxvPyhlLmluamVjdFRyYWNrZWRDb250cm9scygpLGUuYWRkRXZlbnRMaXN0ZW5lcnMoKSxsLmVtaXQoXCJjb250cm9sbGVyY29ubmVjdGVkXCIse25hbWU6ZS5uYW1lLGNvbXBvbmVudDplfSkpOihlLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksbC5lbWl0KFwiY29udHJvbGxlcmRpc2Nvbm5lY3RlZFwiLHtuYW1lOmUubmFtZSxjb21wb25lbnQ6ZX0pKX0sbW9kdWxlLmV4cG9ydHMuaXNDb250cm9sbGVyUHJlc2VudFdlYlZSPWlzQ29udHJvbGxlclByZXNlbnRXZWJWUixtb2R1bGUuZXhwb3J0cy5pc0NvbnRyb2xsZXJQcmVzZW50V2ViWFI9aXNDb250cm9sbGVyUHJlc2VudFdlYlhSLG1vZHVsZS5leHBvcnRzLmZpbmRNYXRjaGluZ0NvbnRyb2xsZXJXZWJWUj1maW5kTWF0Y2hpbmdDb250cm9sbGVyV2ViVlIsbW9kdWxlLmV4cG9ydHMuZmluZE1hdGNoaW5nQ29udHJvbGxlcldlYlhSPWZpbmRNYXRjaGluZ0NvbnRyb2xsZXJXZWJYUixtb2R1bGUuZXhwb3J0cy5lbWl0SWZBeGVzQ2hhbmdlZD1mdW5jdGlvbihlLG4sdCl7dmFyIHIsbyxsLGkscztmb3IobyBpbiBuKXtmb3Iocj1uW29dLGw9ITEscz0wO3M8ci5sZW5ndGg7cysrKXQuZGV0YWlsLmNoYW5nZWRbcltzXV0mJihsPSEwKTtpZihsKXtmb3IoaT17fSxzPTA7czxyLmxlbmd0aDtzKyspaVtBWElTX0xBQkVMU1tzXV09dC5kZXRhaWwuYXhpc1tyW3NdXTtlLmVsLmVtaXQobytcIm1vdmVkXCIsaSl9fX0sbW9kdWxlLmV4cG9ydHMub25CdXR0b25FdmVudD1mdW5jdGlvbihlLG4sdCxyKXt2YXIgbz1yP3QubWFwcGluZ1tyXTp0Lm1hcHBpbmcsbD1vLmJ1dHRvbnNbZV07dC5lbC5lbWl0KGwrbiksdC51cGRhdGVNb2RlbCYmdC51cGRhdGVNb2RlbChsLG4pfTtcbn0se1wiLi4vY29uc3RhbnRzXCI6MTAwfV0sMTkwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblRIUkVFLkRldmljZU9yaWVudGF0aW9uQ29udHJvbHM9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLm9iamVjdD1lLHRoaXMub2JqZWN0LnJvdGF0aW9uLnJlb3JkZXIoXCJZWFpcIiksdGhpcy5lbmFibGVkPSEwLHRoaXMuZGV2aWNlT3JpZW50YXRpb249e30sdGhpcy5zY3JlZW5PcmllbnRhdGlvbj0wLHRoaXMuYWxwaGFPZmZzZXQ9MDt2YXIgdD1mdW5jdGlvbihlKXtuLmRldmljZU9yaWVudGF0aW9uPWV9LGk9ZnVuY3Rpb24oKXtuLnNjcmVlbk9yaWVudGF0aW9uPXdpbmRvdy5vcmllbnRhdGlvbnx8MH0sbz1mdW5jdGlvbigpe3ZhciBlPW5ldyBUSFJFRS5WZWN0b3IzKDAsMCwxKSxuPW5ldyBUSFJFRS5FdWxlcix0PW5ldyBUSFJFRS5RdWF0ZXJuaW9uLGk9bmV3IFRIUkVFLlF1YXRlcm5pb24oLU1hdGguc3FydCguNSksMCwwLE1hdGguc3FydCguNSkpO3JldHVybiBmdW5jdGlvbihvLGEscixjLHMpe24uc2V0KHIsYSwtYyxcIllYWlwiKSxvLnNldEZyb21FdWxlcihuKSxvLm11bHRpcGx5KGkpLG8ubXVsdGlwbHkodC5zZXRGcm9tQXhpc0FuZ2xlKGUsLXMpKX19KCk7dGhpcy5jb25uZWN0PWZ1bmN0aW9uKCl7aSgpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIixpLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uXCIsdCwhMSksbi5lbmFibGVkPSEwfSx0aGlzLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsaSwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLHQsITEpLG4uZW5hYmxlZD0hMX0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXtpZighMSE9PW4uZW5hYmxlZCl7dmFyIGU9bi5kZXZpY2VPcmllbnRhdGlvbjtpZihlKXt2YXIgdD1lLmFscGhhP1RIUkVFLk1hdGguZGVnVG9SYWQoZS5hbHBoYSkrbi5hbHBoYU9mZnNldDowLGk9ZS5iZXRhP1RIUkVFLk1hdGguZGVnVG9SYWQoZS5iZXRhKTowLGE9ZS5nYW1tYT9USFJFRS5NYXRoLmRlZ1RvUmFkKGUuZ2FtbWEpOjAscj1uLnNjcmVlbk9yaWVudGF0aW9uP1RIUkVFLk1hdGguZGVnVG9SYWQobi5zY3JlZW5PcmllbnRhdGlvbik6MDtvKG4ub2JqZWN0LnF1YXRlcm5pb24sdCxpLGEscil9fX0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7bi5kaXNjb25uZWN0KCl9LHRoaXMuY29ubmVjdCgpfTtcbn0se31dLDE5MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG53aW5kb3cuZ2xTdGF0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyKXtyZXR1cm4gZnVuY3Rpb24oKXtyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gcigpe2EoXCJhbGxjYWxsc1wiKS5zZXQocytpKSxhKFwiZHJhd0VsZW1lbnRzXCIpLnNldChpKSxhKFwiZHJhd0FycmF5c1wiKS5zZXQocyksYShcImJpbmRUZXh0dXJlXCIpLnNldChjKSxhKFwidXNlUHJvZ3JhbVwiKS5zZXQobCksYShcImdsZmFjZXNcIikuc2V0KGQpLGEoXCJnbHZlcnRpY2VzXCIpLnNldChtKSxhKFwiZ2xwb2ludHNcIikuc2V0KHApfWZ1bmN0aW9uIHQoKXtzPTAsaT0wLGw9MCxkPTAsbT0wLHA9MCxjPTB9ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBvKGUpe2E9ZX12YXIgYT1udWxsLHM9MCxpPTAsbD0wLGQ9MCxtPTAscD0wLGM9MDtyZXR1cm4gV2ViR0xSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZS5kcmF3QXJyYXlzPWUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZS5kcmF3QXJyYXlzLGZ1bmN0aW9uKCl7cysrLGFyZ3VtZW50c1swXT09dGhpcy5QT0lOVFM/cCs9YXJndW1lbnRzWzJdOm0rPWFyZ3VtZW50c1syXX0pLFdlYkdMUmVuZGVyaW5nQ29udGV4dC5wcm90b3R5cGUuZHJhd0VsZW1lbnRzPWUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZS5kcmF3RWxlbWVudHMsZnVuY3Rpb24oKXtpKyssZCs9YXJndW1lbnRzWzFdLzMsbSs9YXJndW1lbnRzWzFdfSksV2ViR0xSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZS51c2VQcm9ncmFtPWUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZS51c2VQcm9ncmFtLGZ1bmN0aW9uKCl7bCsrfSksV2ViR0xSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZS5iaW5kVGV4dHVyZT1lKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5wcm90b3R5cGUuYmluZFRleHR1cmUsZnVuY3Rpb24oKXtjKyt9KSx7dXBkYXRlOnIsc3RhcnQ6dCxlbmQ6bixhdHRhY2g6byx2YWx1ZXM6e2FsbGNhbGxzOntvdmVyOjNlMyxjYXB0aW9uOlwiQ2FsbHMgKGhvb2spXCJ9LGRyYXdlbGVtZW50czp7Y2FwdGlvbjpcImRyYXdFbGVtZW50cyAoaG9vaylcIn0sZHJhd2FycmF5czp7Y2FwdGlvbjpcImRyYXdBcnJheXMgKGhvb2spXCJ9fSxncm91cHM6W3tjYXB0aW9uOlwiV2ViR0xcIix2YWx1ZXM6W1wiYWxsY2FsbHNcIixcImRyYXdlbGVtZW50c1wiLFwiZHJhd2FycmF5c1wiLFwidXNlcHJvZ3JhbVwiLFwiYmluZHRleHR1cmVcIixcImdsZmFjZXNcIixcImdsdmVydGljZXNcIixcImdscG9pbnRzXCJdfV0sZnJhY3Rpb25zOlt7YmFzZTpcImFsbGNhbGxzXCIsc3RlcHM6W1wiZHJhd2VsZW1lbnRzXCIsXCJkcmF3YXJyYXlzXCJdfV19fSx3aW5kb3cudGhyZWVTdGF0cz1mdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7YShcInJlbmRlcmVyLmluZm8ubWVtb3J5Lmdlb21ldHJpZXNcIikuc2V0KGUuaW5mby5tZW1vcnkuZ2VvbWV0cmllcyksYShcInJlbmRlcmVyLmluZm8ucHJvZ3JhbXNcIikuc2V0KGUuaW5mby5wcm9ncmFtcy5sZW5ndGgpLGEoXCJyZW5kZXJlci5pbmZvLm1lbW9yeS50ZXh0dXJlc1wiKS5zZXQoZS5pbmZvLm1lbW9yeS50ZXh0dXJlcyksYShcInJlbmRlcmVyLmluZm8ucmVuZGVyLmNhbGxzXCIpLnNldChlLmluZm8ucmVuZGVyLmNhbGxzKSxhKFwicmVuZGVyZXIuaW5mby5yZW5kZXIudHJpYW5nbGVzXCIpLnNldChlLmluZm8ucmVuZGVyLnRyaWFuZ2xlcyksYShcInJlbmRlcmVyLmluZm8ucmVuZGVyLnBvaW50c1wiKS5zZXQoZS5pbmZvLnJlbmRlci5wb2ludHMpfWZ1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBvKGUpe2E9ZX12YXIgYT1udWxsO3JldHVybnt1cGRhdGU6cixzdGFydDp0LGVuZDpuLGF0dGFjaDpvLHZhbHVlczp7XCJyZW5kZXJlci5pbmZvLm1lbW9yeS5nZW9tZXRyaWVzXCI6e2NhcHRpb246XCJHZW9tZXRyaWVzXCJ9LFwicmVuZGVyZXIuaW5mby5tZW1vcnkudGV4dHVyZXNcIjp7Y2FwdGlvbjpcIlRleHR1cmVzXCJ9LFwicmVuZGVyZXIuaW5mby5wcm9ncmFtc1wiOntjYXB0aW9uOlwiUHJvZ3JhbXNcIn0sXCJyZW5kZXJlci5pbmZvLnJlbmRlci5jYWxsc1wiOntjYXB0aW9uOlwiQ2FsbHNcIn0sXCJyZW5kZXJlci5pbmZvLnJlbmRlci50cmlhbmdsZXNcIjp7Y2FwdGlvbjpcIlRyaWFuZ2xlc1wiLG92ZXI6MWUzfSxcInJlbmRlcmVyLmluZm8ucmVuZGVyLnBvaW50c1wiOntjYXB0aW9uOlwiUG9pbnRzXCJ9fSxncm91cHM6W3tjYXB0aW9uOlwiVGhyZWUuanMgLSBNZW1vcnlcIix2YWx1ZXM6W1wicmVuZGVyZXIuaW5mby5tZW1vcnkuZ2VvbWV0cmllc1wiLFwicmVuZGVyZXIuaW5mby5wcm9ncmFtc1wiLFwicmVuZGVyZXIuaW5mby5tZW1vcnkudGV4dHVyZXNcIl19LHtjYXB0aW9uOlwiVGhyZWUuanMgLSBSZW5kZXJcIix2YWx1ZXM6W1wicmVuZGVyZXIuaW5mby5yZW5kZXIuY2FsbHNcIixcInJlbmRlcmVyLmluZm8ucmVuZGVyLnRyaWFuZ2xlc1wiLFwicmVuZGVyZXIuaW5mby5yZW5kZXIucG9pbnRzXCJdfV0sZnJhY3Rpb25zOltdfX0sd2luZG93LkJyb3dzZXJTdGF0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9wKTtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqZS9NYXRoLnBvdygxMDI0LHIpKS8xMDB9ZnVuY3Rpb24gcigpe3M9ZShwZXJmb3JtYW5jZS5tZW1vcnkudXNlZEpTSGVhcFNpemUpLGk9ZShwZXJmb3JtYW5jZS5tZW1vcnkudG90YWxKU0hlYXBTaXplKSxhKFwibWVtb3J5XCIpLnNldChzKSxhKFwidG90YWxcIikuc2V0KGkpfWZ1bmN0aW9uIHQoKXtzPTB9ZnVuY3Rpb24gbigpe31mdW5jdGlvbiBvKGUpe2E9ZX12YXIgYT1udWxsLHM9MCxpPTA7d2luZG93LnBlcmZvcm1hbmNlJiYhcGVyZm9ybWFuY2UubWVtb3J5JiYocGVyZm9ybWFuY2UubWVtb3J5PXt1c2VkSlNIZWFwU2l6ZTowLHRvdGFsSlNIZWFwU2l6ZTowfSksMD09PXBlcmZvcm1hbmNlLm1lbW9yeS50b3RhbEpTSGVhcFNpemUmJmNvbnNvbGUud2FybihcInRvdGFsSlNIZWFwU2l6ZSA9PT0gMC4uLiBwZXJmb3JtYW5jZS5tZW1vcnkgaXMgb25seSBhdmFpbGFibGUgaW4gQ2hyb21lIC5cIik7dmFyIGw9e21lbW9yeTp7Y2FwdGlvbjpcIlVzZWQgTWVtb3J5XCIsYXZlcmFnZTohMCxhdmdNczoxZTMsb3ZlcjoyMn0sdG90YWw6e2NhcHRpb246XCJUb3RhbCBNZW1vcnlcIn19LGQ9W3tjYXB0aW9uOlwiQnJvd3NlclwiLHZhbHVlczpbXCJtZW1vcnlcIixcInRvdGFsXCJdfV0sbT1be2Jhc2U6XCJ0b3RhbFwiLHN0ZXBzOltcIm1lbW9yeVwiXX1dLHA9TWF0aC5sb2coMTAyNCk7cmV0dXJue3VwZGF0ZTpyLHN0YXJ0OnQsZW5kOm4sYXR0YWNoOm8sdmFsdWVzOmwsZ3JvdXBzOmQsZnJhY3Rpb25zOm19fSxcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9e2dsU3RhdHM6d2luZG93LmdsU3RhdHMsdGhyZWVTdGF0czp3aW5kb3cudGhyZWVTdGF0cyxCcm93c2VyU3RhdHM6d2luZG93LkJyb3dzZXJTdGF0c30pO1xufSx7fV0sMTkyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiOyFmdW5jdGlvbigpe1wicGVyZm9ybWFuY2VcImluIHdpbmRvdz09MCYmKHdpbmRvdy5wZXJmb3JtYW5jZT17fSk7dmFyIGU9d2luZG93LnBlcmZvcm1hbmNlO2lmKFwibm93XCJpbiBlPT0wKXt2YXIgdD1EYXRlLm5vdygpO2UudGltaW5nJiZlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQmJih0PWUudGltaW5nLm5hdmlnYXRpb25TdGFydCksZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS10fX1lLm1hcmt8fChlLm1hcms9ZnVuY3Rpb24oKXt9KSxlLm1lYXN1cmV8fChlLm1lYXN1cmU9ZnVuY3Rpb24oKXt9KX0oKSx3aW5kb3cuclN0YXRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtmb3IodmFyIG49T2JqZWN0LmtleXMoZSksYT0wLHI9bi5sZW5ndGg7YTxyO2ErKyl0KG5bYV0pfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7dC5ocmVmPWUsdC5yZWw9XCJzdHlsZXNoZWV0XCIsdC50eXBlPVwidGV4dC9jc3NcIixkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQodCl9ZnVuY3Rpb24gYShlLHQsbil7ZnVuY3Rpb24gYShlLHQpe2wrPS4xKihlLWwpLGMqPS45OSxsPmMmJihjPWwpLG8uZHJhd0ltYWdlKGksMSwwLGkud2lkdGgtMSxpLmhlaWdodCwwLDAsaS53aWR0aC0xLGkuaGVpZ2h0KSx0P28uZHJhd0ltYWdlKGYsaS53aWR0aC0xLGkuaGVpZ2h0LWwqaS5oZWlnaHQvYy1wKTpvLmRyYXdJbWFnZSh1LGkud2lkdGgtMSxpLmhlaWdodC1sKmkuaGVpZ2h0L2MtcCl9dmFyIHI9bnx8e30saT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG89aS5nZXRDb250ZXh0KFwiMmRcIiksYz0wLGw9MCxzPXIuY29sb3I/ci5jb2xvcjpcIiM2NjY2NjZcIix1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksZD11LmdldENvbnRleHQoXCIyZFwiKTt1LndpZHRoPTEsdS5oZWlnaHQ9MipwLGQuZmlsbFN0eWxlPVwiIzQ0NDQ0NFwiLGQuZmlsbFJlY3QoMCwwLDEsMipwKSxkLmZpbGxTdHlsZT1zLGQuZmlsbFJlY3QoMCxwLDEscCksZC5maWxsU3R5bGU9XCIjZmZmZmZmXCIsZC5nbG9iYWxBbHBoYT0uNSxkLmZpbGxSZWN0KDAscCwxLDEpLGQuZ2xvYmFsQWxwaGE9MTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG09Zi5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIGYud2lkdGg9MSxmLmhlaWdodD0yKnAsbS5maWxsU3R5bGU9XCIjNDQ0NDQ0XCIsbS5maWxsUmVjdCgwLDAsMSwyKnApLG0uZmlsbFN0eWxlPVwiI2I3MDAwMFwiLG0uZmlsbFJlY3QoMCxwLDEscCksbS5nbG9iYWxBbHBoYT0uNSxtLmZpbGxTdHlsZT1cIiNmZmZmZmZcIixtLmZpbGxSZWN0KDAscCwxLDEpLG0uZ2xvYmFsQWxwaGE9MSxmdW5jdGlvbigpe2kud2lkdGg9aCxpLmhlaWdodD1wLGkuc3R5bGUud2lkdGg9aS53aWR0aCtcInB4XCIsaS5zdHlsZS5oZWlnaHQ9aS5oZWlnaHQrXCJweFwiLGkuY2xhc3NOYW1lPVwicnMtY2FudmFzXCIsZS5hcHBlbmRDaGlsZChpKSxvLmZpbGxTdHlsZT1cIiM0NDQ0NDRcIixvLmZpbGxSZWN0KDAsMCxpLndpZHRoLGkuaGVpZ2h0KX0oKSx7ZHJhdzphfX1mdW5jdGlvbiByKGUsbil7ZnVuY3Rpb24gYShlKXtpLmRyYXdJbWFnZShyLDEsMCxyLndpZHRoLTEsci5oZWlnaHQsMCwwLHIud2lkdGgtMSxyLmhlaWdodCk7dmFyIG49MDt0KGUsZnVuY3Rpb24odCl7dmFyIGE9ZVt0XSpyLmhlaWdodDtpLmZpbGxTdHlsZT1zW3RdLGkuZmlsbFJlY3Qoci53aWR0aC0xLG4sMSxhKSxuKz1hfSl9dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPXIuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBmdW5jdGlvbigpe3Iud2lkdGg9aCxyLmhlaWdodD1wKm4sci5zdHlsZS53aWR0aD1yLndpZHRoK1wicHhcIixyLnN0eWxlLmhlaWdodD1yLmhlaWdodCtcInB4XCIsci5jbGFzc05hbWU9XCJycy1jYW52YXNcIixlLmFwcGVuZENoaWxkKHIpLGkuZmlsbFN0eWxlPVwiIzQ0NDQ0NFwiLGkuZmlsbFJlY3QoMCwwLHIud2lkdGgsci5oZWlnaHQpfSgpLHtkcmF3OmF9fWZ1bmN0aW9uIGkoZSx0KXtmdW5jdGlvbiBuKGUpe2lmKHgmJnguYXZlcmFnZSl7dis9ZSxDKys7dmFyIHQ9cGVyZm9ybWFuY2Uubm93KCk7dC13Pj0oeC5hdmdNc3x8MWUzKSYmKGc9di9DLHY9MCx3PXQsQz0wKX19ZnVuY3Rpb24gcigpe2Q9cGVyZm9ybWFuY2Uubm93KCksbC51c2VyVGltaW5nQVBJJiZwZXJmb3JtYW5jZS5tYXJrKHArXCItc3RhcnRcIiksST0hMH1mdW5jdGlvbiBpKCl7aD1wZXJmb3JtYW5jZS5ub3coKS1kLGwudXNlclRpbWluZ0FQSSYmKHBlcmZvcm1hbmNlLm1hcmsocCtcIi1lbmRcIiksSSYmcGVyZm9ybWFuY2UubWVhc3VyZShwLHArXCItc3RhcnRcIixwK1wiLWVuZFwiKSksbihoKX1mdW5jdGlvbiBvKCl7aSgpLHIoKX1mdW5jdGlvbiBjKCl7dmFyIGU9eCYmeC5hdmVyYWdlP2c6aDtiLm5vZGVWYWx1ZT1NYXRoLnJvdW5kKDEwMCplKS8xMDA7dmFyIHQ9eCYmKHguYmVsb3cmJmg8eC5iZWxvd3x8eC5vdmVyJiZoPngub3Zlcik7Ti5kcmF3KGgsdCkseS5jbGFzc05hbWU9dD9cInJzLWNvdW50ZXItYmFzZSBhbGFybVwiOlwicnMtY291bnRlci1iYXNlXCJ9ZnVuY3Rpb24gcygpe3ZhciBlPXBlcmZvcm1hbmNlLm5vdygpLHQ9ZS1kO20rKyx0PjFlMyYmKGg9eCYmITE9PT14LmludGVycG9sYXRlP206MWUzKm0vdCxtPTAsZD1lLG4oaCkpfWZ1bmN0aW9uIHUoZSl7aD1lLG4oaCl9dmFyIGQscD1lLGg9MCxtPTAsZz0wLHY9MCx3PXBlcmZvcm1hbmNlLm5vdygpLEM9MCx5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxTPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSx4PWw/bC52YWx1ZXNbcC50b0xvd2VyQ2FzZSgpXTpudWxsLE49bmV3IGEoeSxwLHgpLEk9ITE7cmV0dXJuIEUuY2xhc3NOYW1lPVwicnMtY291bnRlci1pZFwiLEUudGV4dENvbnRlbnQ9eCYmeC5jYXB0aW9uP3guY2FwdGlvbjpwLFMuY2xhc3NOYW1lPVwicnMtY291bnRlci12YWx1ZVwiLFMuYXBwZW5kQ2hpbGQoYikseS5hcHBlbmRDaGlsZChFKSx5LmFwcGVuZENoaWxkKFMpLHQ/dC5kaXYuYXBwZW5kQ2hpbGQoeSk6Zi5hcHBlbmRDaGlsZCh5KSxkPXBlcmZvcm1hbmNlLm5vdygpLHtzZXQ6dSxzdGFydDpyLHRpY2s6byxlbmQ6aSxmcmFtZTpzLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGh9LGRyYXc6Y319ZnVuY3Rpb24gbyhlKXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7aWYodm9pZCAwPT09biYmKG49XCJkZWZhdWx0XCIpLG1bbl0pcmV0dXJuIG1bbl07dmFyIGE9bnVsbDtsJiZsLmdyb3VwcyYmdChsLmdyb3VwcyxmdW5jdGlvbihlKXt2YXIgdD1sLmdyb3Vwc1twYXJzZUludChlLDEwKV07YXx8LTE9PT10LnZhbHVlcy5pbmRleE9mKG4udG9Mb3dlckNhc2UoKSl8fChhPXQpfSk7dmFyIHI9bmV3IGkobixhKTtyZXR1cm4gbVtuXT1yLHJ9ZnVuY3Rpb24gYygpe3QobC5wbHVnaW5zLGZ1bmN0aW9uKGUpe2wucGx1Z2luc1tlXS51cGRhdGUoKX0pLHQobSxmdW5jdGlvbihlKXttW2VdLmRyYXcoKX0pLGwmJmwuZnJhY3Rpb25zJiZ0KGwuZnJhY3Rpb25zLGZ1bmN0aW9uKGUpe3ZhciBuPWwuZnJhY3Rpb25zW3BhcnNlSW50KGUsMTApXSxhPVtdLHI9bVtuLmJhc2UudG9Mb3dlckNhc2UoKV07ciYmKHI9ci52YWx1ZSgpLHQobC5mcmFjdGlvbnNbZV0uc3RlcHMsZnVuY3Rpb24odCl7dmFyIG49bC5mcmFjdGlvbnNbZV0uc3RlcHNbcGFyc2VJbnQodCwxMCldLnRvTG93ZXJDYXNlKCksaT1tW25dO2kmJmEucHVzaChpLnZhbHVlKCkvcil9KSksbi5ncmFwaC5kcmF3KGEpfSl9dmFyIGw9ZXx8e30scz1sLmNvbG91cnN8fFtcIiM4NTA3MDBcIixcIiNjNzQ5MDBcIixcIiNmY2IzMDBcIixcIiMyODQyODBcIixcIiM0YzdjMGNcIl0sdT0obC5DU1NQYXRoP2wuQ1NTUGF0aDpcIlwiKStcInJTdGF0cy5jc3NcIjsobC5jc3N8fFtcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG8rQ29uZGVuc2VkOjQwMCw3MDAsMzAwXCIsdV0pLmZvckVhY2goZnVuY3Rpb24oZSl7bihlKX0pLGwudmFsdWVzfHwobC52YWx1ZXM9e30pO3ZhciBkLGYscD0xMCxoPTIwMCxtPXt9O3JldHVybiBmdW5jdGlvbigpe2lmKGwucGx1Z2lucyl7bC52YWx1ZXN8fChsLnZhbHVlcz17fSksbC5ncm91cHN8fChsLmdyb3Vwcz1bXSksbC5mcmFjdGlvbnN8fChsLmZyYWN0aW9ucz1bXSk7Zm9yKHZhciBlPTA7ZTxsLnBsdWdpbnMubGVuZ3RoO2UrKylsLnBsdWdpbnNbZV0uYXR0YWNoKG8pLHQobC5wbHVnaW5zW2VdLnZhbHVlcyxmdW5jdGlvbih0KXtsLnZhbHVlc1t0XT1sLnBsdWdpbnNbZV0udmFsdWVzW3RdfSksbC5ncm91cHM9bC5ncm91cHMuY29uY2F0KGwucGx1Z2luc1tlXS5ncm91cHMpLGwuZnJhY3Rpb25zPWwuZnJhY3Rpb25zLmNvbmNhdChsLnBsdWdpbnNbZV0uZnJhY3Rpb25zKX1lbHNlIGwucGx1Z2lucz17fTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZC5jbGFzc05hbWU9XCJycy1iYXNlXCIsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGYuY2xhc3NOYW1lPVwicnMtY29udGFpbmVyXCIsZi5zdHlsZS5oZWlnaHQ9XCJhdXRvXCIsZC5hcHBlbmRDaGlsZChmKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGQpLGwmJihsLmdyb3VwcyYmdChsLmdyb3VwcyxmdW5jdGlvbihlKXt2YXIgdD1sLmdyb3Vwc1twYXJzZUludChlLDEwKV0sbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uY2xhc3NOYW1lPVwicnMtZ3JvdXBcIix0LmRpdj1uO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTthLnRleHRDb250ZW50PXQuY2FwdGlvbixhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3RoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKSxlLnByZXZlbnREZWZhdWx0KCl9LmJpbmQobikpLGYuYXBwZW5kQ2hpbGQoYSksZi5hcHBlbmRDaGlsZChuKX0pLGwuZnJhY3Rpb25zJiZ0KGwuZnJhY3Rpb25zLGZ1bmN0aW9uKGUpe3ZhciBuPWwuZnJhY3Rpb25zW3BhcnNlSW50KGUsMTApXSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc05hbWU9XCJycy1mcmFjdGlvblwiO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5jbGFzc05hbWU9XCJycy1sZWdlbmRcIjt2YXIgbz0wO3QobC5mcmFjdGlvbnNbZV0uc3RlcHMsZnVuY3Rpb24odCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7bi50ZXh0Q29udGVudD1sLmZyYWN0aW9uc1tlXS5zdGVwc1t0XSxuLnN0eWxlLmNvbG9yPXNbb10saS5hcHBlbmRDaGlsZChuKSxvKyt9KSxhLmFwcGVuZENoaWxkKGkpLGEuc3R5bGUuaGVpZ2h0PW8qcCtcInB4XCIsbi5kaXY9YTt2YXIgYz1uZXcgcihhLG8pO24uZ3JhcGg9YyxmLmFwcGVuZENoaWxkKGEpfSkpfSgpLGZ1bmN0aW9uKGUpe3JldHVybiBlP28oZSk6e2VsZW1lbnQ6ZCx1cGRhdGU6Y319fSxcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9d2luZG93LnJTdGF0cyk7XG59LHt9XSwxOTM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRofHwoU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9cnx8MCx0aGlzLnN1YnN0cihyLHQubGVuZ3RoKT09PXR9KTtcbn0se31dLDE5NDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgVXRpbD17fTtVdGlsLmJhc2U2ND1mdW5jdGlvbihlLGkpe3JldHVyblwiZGF0YTpcIitlK1wiO2Jhc2U2NCxcIitpfSxVdGlsLmlzTW9iaWxlPWZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIGZ1bmN0aW9uKGkpeygvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChpKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChpLnN1YnN0cigwLDQpKSkmJihlPSEwKX0obmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKSxlfSxVdGlsLmlzSU9TPWZ1bmN0aW9uKCl7cmV0dXJuLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LFV0aWwuaXNJRnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaChlKXtyZXR1cm4hMH19LFV0aWwuYXBwZW5kUXVlcnlQYXJhbWV0ZXI9ZnVuY3Rpb24oZSxpLHQpe3JldHVybiBlKz0oZS5pbmRleE9mKFwiP1wiKTwwP1wiP1wiOlwiJlwiKStpK1wiPVwiK3R9LFV0aWwuZ2V0UXVlcnlQYXJhbWV0ZXI9ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UoL1tcXFtdLyxcIlxcXFxbXCIpLnJlcGxhY2UoL1tcXF1dLyxcIlxcXFxdXCIpO3ZhciBpPW5ldyBSZWdFeHAoXCJbXFxcXD8mXVwiK2UrXCI9KFteJiNdKilcIiksdD1pLmV4ZWMobG9jYXRpb24uc2VhcmNoKTtyZXR1cm4gbnVsbD09PXQ/XCJcIjpkZWNvZGVVUklDb21wb25lbnQodFsxXS5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfSxVdGlsLmlzTGFuZHNjYXBlTW9kZT1mdW5jdGlvbigpe3JldHVybiA5MD09d2luZG93Lm9yaWVudGF0aW9ufHwtOTA9PXdpbmRvdy5vcmllbnRhdGlvbn0sbW9kdWxlLmV4cG9ydHM9VXRpbDtcbn0se31dLDE5NTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiBBbmRyb2lkV2FrZUxvY2soKXt2YXIgQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7QS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixmdW5jdGlvbigpe0EucGxheSgpfSksdGhpcy5yZXF1ZXN0PWZ1bmN0aW9uKCl7QS5wYXVzZWQmJihBLnNyYz1VdGlsLmJhc2U2NChcInZpZGVvL3dlYm1cIixcIkdrWGZvd0VBQUFBQUFBQWZRb2FCQVVMM2dRRkM4b0VFUXZPQkNFS0NoSGRsWW0xQ2g0RUNRb1dCQWhoVGdHY0JBQUFBQUFBSDR4Rk5tM1JBTEUyN2kxT3JoQlZKcVdaVHJJSGZUYnVNVTZ1RUZsU3VhMU9zZ2dFd1RidU1VNnVFSEZPN2ExT3NnZ2ZHN0FFQUFBQUFBQUNrQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBVlNhbG1BUUFBQUFBQUFFVXExN0dERDBKQVRZQ05UR0YyWmpVMkxqUXdMakV3TVZkQmpVeGhkbVkxTmk0ME1DNHhNREZ6cEpBR1NKVE1ic0xwRHQveVNraXBnWDFmUkltSVFPMU1BQUFBQUFBV1ZLNXJBUUFBQUFBQUFEdXVBUUFBQUFBQUFETFhnUUZ6eFlFQm5JRUFJcldjZzNWdVpJYUZWbDlXVURtRGdRRWo0NE9FTzVyS0FPQUJBQUFBQUFBQUJyQ0JzTHFCa0I5RHRuVUJBQUFBQUFBQW8rZUJBS09tZ1FBQWdLSkpnMElBQVY0QkhzQUhCSU9EQ29BQUNtSDJNQUFBWnhnejRkUFNURmk1SkFDamxvRUQ2QUNtQUVDU25BQk1RQUFEWUFBQVdpMHF1b0NqbG9FSDBBQ21BRUNTbkFCTndBQURZQUFBV2kwcXVvQ2psb0VMdUFDbUFFQ1NuQUJOZ0FBRFlBQUFXaTBxdW9DamxvRVBvQUNtQUVDU25BQk5ZQUFEWUFBQVdpMHF1b0NqbG9FVGlBQ21BRUNTbkFCTklBQURZQUFBV2kwcXVvQWZRN1oxQVFBQUFBQUFBSlRuZ2hkd281YUJBQUFBcGdCQWtwd0FUT0FBQTJBQUFGb3RLcnFBbzVhQkErZ0FwZ0JBa3B3QVRNQUFBMkFBQUZvdEtycUFvNWFCQjlBQXBnQkFrcHdBVElBQUEyQUFBRm90S3JxQW81YUJDN2dBcGdCQWtwd0FURUFBQTJBQUFGb3RLcnFBbzVhQkQ2QUFwZ0RBa3B3QVEyQUFBMkFBQUZvdEtycUFvNWFCRTRnQXBnQkFrcHdBVENBQUEyQUFBRm90S3JxQUgwTzJkUUVBQUFBQUFBQ1U1NEl1NEtPV2dRQUFBS1lBUUpLY0FFdkFBQU5nQUFCYUxTcTZnS09XZ1FQb0FLWUFRSktjQUV0Z0FBTmdBQUJhTFNxNmdLT1dnUWZRQUtZQVFKS2NBRXNBQUFOZ0FBQmFMU3E2Z0tPV2dRdTRBS1lBUUpLY0FFcUFBQU5nQUFCYUxTcTZnS09XZ1ErZ0FLWUFRSktjQUVvZ0FBTmdBQUJhTFNxNmdLT1dnUk9JQUtZQVFKS2NBRW5BQUFOZ0FBQmFMU3E2Z0I5RHRuVUJBQUFBQUFBQWxPZUNSbENqbG9FQUFBQ21BRUNTbkFCSmdBQURZQUFBV2kwcXVvQ2psb0VENkFDbUFFQ1NuQUJKSUFBRFlBQUFXaTBxdW9DamxvRUgwQUNtQU1DU25BQkRZQUFEWUFBQVdpMHF1b0NqbG9FTHVBQ21BRUNTbkFCSTRBQURZQUFBV2kwcXVvQ2psb0VQb0FDbUFFQ1NuQUJJb0FBRFlBQUFXaTBxdW9DamxvRVRpQUNtQUVDU25BQklZQUFEWUFBQVdpMHF1b0FmUTdaMUFRQUFBQUFBQUpUbmdsM0FvNWFCQUFBQXBnQkFrcHdBU0NBQUEyQUFBRm90S3JxQW81YUJBK2dBcGdCQWtwd0FTQUFBQTJBQUFGb3RLcnFBbzVhQkI5QUFwZ0JBa3B3QVI4QUFBMkFBQUZvdEtycUFvNWFCQzdnQXBnQkFrcHdBUjRBQUEyQUFBRm90S3JxQW81YUJENkFBcGdCQWtwd0FSMkFBQTJBQUFGb3RLcnFBbzVhQkU0Z0FwZ0JBa3B3QVJ5QUFBMkFBQUZvdEtycUFIME8yZFFFQUFBQUFBQUNVNTRKMU1LT1dnUUFBQUtZQXdKS2NBRU5nQUFOZ0FBQmFMU3E2Z0tPV2dRUG9BS1lBUUpLY0FFYmdBQU5nQUFCYUxTcTZnS09XZ1FmUUFLWUFRSktjQUVhZ0FBTmdBQUJhTFNxNmdLT1dnUXU0QUtZQVFKS2NBRWFBQUFOZ0FBQmFMU3E2Z0tPV2dRK2dBS1lBUUpLY0FFWkFBQU5nQUFCYUxTcTZnS09XZ1JPSUFLWUFRSktjQUVZQUFBTmdBQUJhTFNxNmdCOUR0blVCQUFBQUFBQUFsT2VDaktDamxvRUFBQUNtQUVDU25BQkY0QUFEWUFBQVdpMHF1b0NqbG9FRDZBQ21BRUNTbkFCRndBQURZQUFBV2kwcXVvQ2psb0VIMEFDbUFFQ1NuQUJGb0FBRFlBQUFXaTBxdW9DamxvRUx1QUNtQUVDU25BQkZnQUFEWUFBQVdpMHF1b0NqbG9FUG9BQ21BTUNTbkFCRFlBQURZQUFBV2kwcXVvQ2psb0VUaUFDbUFFQ1NuQUJGWUFBRFlBQUFXaTBxdW9BZlE3WjFBUUFBQUFBQUFKVG5ncVFRbzVhQkFBQUFwZ0JBa3B3QVJVQUFBMkFBQUZvdEtycUFvNWFCQStnQXBnQkFrcHdBUlNBQUEyQUFBRm90S3JxQW81YUJCOUFBcGdCQWtwd0FSUUFBQTJBQUFGb3RLcnFBbzVhQkM3Z0FwZ0JBa3B3QVJRQUFBMkFBQUZvdEtycUFvNWFCRDZBQXBnQkFrcHdBUk9BQUEyQUFBRm90S3JxQW81YUJFNGdBcGdCQWtwd0FSTUFBQTJBQUFGb3RLcnFBSDBPMmRRRUFBQUFBQUFDVTU0SzdnS09XZ1FBQUFLWUFRSktjQUVTZ0FBTmdBQUJhTFNxNmdLT1dnUVBvQUtZQVFKS2NBRVNBQUFOZ0FBQmFMU3E2Z0tPV2dRZlFBS1lBd0pLY0FFTmdBQU5nQUFCYUxTcTZnS09XZ1F1NEFLWUFRSktjQUVSZ0FBTmdBQUJhTFNxNmdLT1dnUStnQUtZQVFKS2NBRVJBQUFOZ0FBQmFMU3E2Z0tPV2dST0lBS1lBUUpLY0FFUWdBQU5nQUFCYUxTcTZnQjlEdG5VQkFBQUFBQUFBbE9lQzB2Q2psb0VBQUFDbUFFQ1NuQUJFSUFBRFlBQUFXaTBxdW9DamxvRUQ2QUNtQUVDU25BQkVBQUFEWUFBQVdpMHF1b0NqbG9FSDBBQ21BRUNTbkFCRDRBQURZQUFBV2kwcXVvQ2psb0VMdUFDbUFFQ1NuQUJEd0FBRFlBQUFXaTBxdW9DamxvRVBvQUNtQUVDU25BQkRvQUFEWUFBQVdpMHF1b0NqbG9FVGlBQ21BRUNTbkFCRGdBQURZQUFBV2kwcXVvQWNVN3RyQVFBQUFBQUFBQkc3ajdPQkFMZUs5NEVCOFlJQmQvQ0JBdz09XCIpLEEucGxheSgpKX0sdGhpcy5yZWxlYXNlPWZ1bmN0aW9uKCl7QS5wYXVzZSgpLEEuc3JjPVwiXCJ9fWZ1bmN0aW9uIGlPU1dha2VMb2NrKCl7dmFyIEE9bnVsbDt0aGlzLnJlcXVlc3Q9ZnVuY3Rpb24oKXtBfHwoQT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5ocmVmPVwiL1wiLHNldFRpbWVvdXQod2luZG93LnN0b3AsMCl9LDE1ZTMpKX0sdGhpcy5yZWxlYXNlPWZ1bmN0aW9uKCl7QSYmKGNsZWFySW50ZXJ2YWwoQSksQT1udWxsKX19ZnVuY3Rpb24gZ2V0V2FrZUxvY2soKXt2YXIgQT1uYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmE7cmV0dXJuIEEubWF0Y2goL2lQaG9uZS9pKXx8QS5tYXRjaCgvaVBvZC9pKT9pT1NXYWtlTG9jazpBbmRyb2lkV2FrZUxvY2t9dmFyIFV0aWw9X2RlcmVxXyhcIi4vdXRpbC5qc1wiKTttb2R1bGUuZXhwb3J0cz1nZXRXYWtlTG9jaygpO1xufSx7XCIuL3V0aWwuanNcIjoxOTR9XX0se30sWzE1NF0pKDE1NClcbn0pO1xuXG5cbiIsIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIGdsb2JhbCBBRlJBTUUgKi9cblx0dmFyIHN0eWxlUGFyc2VyID0gQUZSQU1FLnV0aWxzLnN0eWxlUGFyc2VyO1xuXHRcblx0aWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnQgYXR0ZW1wdGVkIHRvIHJlZ2lzdGVyIGJlZm9yZSBBRlJBTUUgd2FzIGF2YWlsYWJsZS4nKTtcblx0fVxuXHRcblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdldmVudC1zZXQnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICBkZWZhdWx0OiAnJyxcblx0ICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHN0eWxlUGFyc2VyLnBhcnNlKHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBtdWx0aXBsZTogdHJ1ZSxcblx0XG5cdCAgaW5pdDogZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5ldmVudEhhbmRsZXIgPSBudWxsO1xuXHQgICAgdGhpcy5ldmVudE5hbWUgPSBudWxsO1xuXHQgIH0sXG5cdFxuXHQgIHVwZGF0ZTogZnVuY3Rpb24gKG9sZERhdGEpIHtcblx0ICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpO1xuXHQgICAgdGhpcy51cGRhdGVFdmVudExpc3RlbmVyKCk7XG5cdCAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoKTtcblx0ICB9LFxuXHRcblx0ICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpO1xuXHQgIH0sXG5cdFxuXHQgIHBhdXNlOiBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTtcblx0ICB9LFxuXHRcblx0ICBwbGF5OiBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoKTtcblx0ICB9LFxuXHRcblx0ICAvKipcblx0ICAgKiBVcGRhdGUgc291cmNlLW9mLXRydXRoIGV2ZW50IGxpc3RlbmVyIHJlZ2lzdHJ5LlxuXHQgICAqIERvZXMgbm90IGFjdHVhbGx5IGF0dGFjaCBldmVudCBsaXN0ZW5lcnMgeWV0LlxuXHQgICAqL1xuXHQgIHVwZGF0ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblx0ICAgIHZhciBldmVudDtcblx0ICAgIHZhciB0YXJnZXQ7XG5cdCAgICB2YXIgdGFyZ2V0RWw7XG5cdFxuXHQgICAgLy8gU2V0IGV2ZW50IGxpc3RlbmVyIHVzaW5nIGBfZXZlbnRgLlxuXHQgICAgZXZlbnQgPSBkYXRhLl9ldmVudCB8fCB0aGlzLmlkO1xuXHQgICAgdGFyZ2V0ID0gZGF0YS5fdGFyZ2V0O1xuXHRcblx0ICAgIC8vIERlY2lkZSB0aGUgdGFyZ2V0IHRvIGBzZXRBdHRyaWJ1dGVgIG9uLlxuXHQgICAgdGFyZ2V0RWwgPSB0YXJnZXQgPyBlbC5zY2VuZUVsLnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KSA6IGVsO1xuXHRcblx0ICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnQ7XG5cdFxuXHQgICAgY29uc3QgaGFuZGxlciA9ICgpID0+IHtcblx0ICAgICAgdmFyIHByb3BOYW1lO1xuXHQgICAgICAvLyBTZXQgYXR0cmlidXRlcy5cblx0ICAgICAgZm9yIChwcm9wTmFtZSBpbiBkYXRhKSB7XG5cdCAgICAgICAgaWYgKHByb3BOYW1lID09PSAnX2V2ZW50JyB8fCBwcm9wTmFtZSA9PT0gJ190YXJnZXQnKSB7IGNvbnRpbnVlOyB9XG5cdCAgICAgICAgQUZSQU1FLnV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eS5jYWxsKHRoaXMsIHRhcmdldEVsLCBwcm9wTmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtwcm9wTmFtZV0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmICghaXNOYU4oZGF0YS5fZGVsYXkpKSB7XG5cdCAgICAgIC8vIERlbGF5LlxuXHQgICAgICB0aGlzLmV2ZW50SGFuZGxlciA9ICgpID0+IHsgc2V0VGltZW91dChoYW5kbGVyLCBwYXJzZUZsb2F0KGRhdGEuX2RlbGF5KSk7IH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLmV2ZW50SGFuZGxlciA9IGhhbmRsZXI7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLmV2ZW50SGFuZGxlcik7XG5cdCAgfSxcblx0XG5cdCAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLmV2ZW50SGFuZGxlcik7XG5cdCAgfVxuXHR9KTtcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7IiwiIWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7aWYob1tuXSlyZXR1cm4gb1tuXS5leHBvcnRzO3ZhciByPW9bbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiB0W25dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGUpLHIubG9hZGVkPSEwLHIuZXhwb3J0c312YXIgbz17fTtyZXR1cm4gZS5tPXQsZS5jPW8sZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSl7dmFyIG89QUZSQU1FLnV0aWxzLmRlYnVnLG49QUZSQU1FLnV0aWxzLmNvb3JkaW5hdGVzLHI9byhcImNvbXBvbmVudHM6bG9vay1hdDp3YXJuXCIpLGk9bi5pc0Nvb3JkaW5hdGVzfHxuLmlzQ29vcmRpbmF0ZTtkZWxldGUgQUZSQU1FLmNvbXBvbmVudHNbXCJsb29rLWF0XCJdLEFGUkFNRS5yZWdpc3RlckNvbXBvbmVudChcImxvb2stYXRcIix7c2NoZW1hOntkZWZhdWx0OlwiXCIscGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIGkodCl8fFwib2JqZWN0XCI9PXR5cGVvZiB0P24ucGFyc2UodCk6dH0sc3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P24uc3RyaW5naWZ5KHQpOnR9fSxpbml0OmZ1bmN0aW9uKCl7dGhpcy50YXJnZXQzRD1udWxsLHRoaXMudmVjdG9yPW5ldyBUSFJFRS5WZWN0b3IzfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsbz1lLmRhdGEsbj1lLmVsLm9iamVjdDNEO3JldHVybiFvfHxcIm9iamVjdFwiPT10eXBlb2YgbyYmIU9iamVjdC5rZXlzKG8pLmxlbmd0aD9lLnJlbW92ZSgpOlwib2JqZWN0XCI9PXR5cGVvZiBvP24ubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKG8ueCxvLnksby56KSk6KHQ9ZS5lbC5zY2VuZUVsLnF1ZXJ5U2VsZWN0b3IobyksdD90Lmhhc0xvYWRlZD9lLmJlZ2luVHJhY2tpbmcodCk6dC5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtlLmJlZ2luVHJhY2tpbmcodCl9KTp2b2lkIHIoJ1wiJytvKydcIiBkb2VzIG5vdCBwb2ludCB0byBhIHZhbGlkIGVudGl0eSB0byBsb29rLWF0JykpfSx0aWNrOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMudGFyZ2V0M0Qsbj10aGlzLmVsLm9iamVjdDNELHI9dGhpcy52ZWN0b3I7byYmKG8uZ2V0V29ybGRQb3NpdGlvbih0KSx0aGlzLmVsLmdldE9iamVjdDNEKFwiY2FtZXJhXCIpfHwocj10KSxuLmxvb2tBdChyKSl9fSgpLGJlZ2luVHJhY2tpbmc6ZnVuY3Rpb24odCl7dGhpcy50YXJnZXQzRD10Lm9iamVjdDNEfX0pfV0pOyIsIiFmdW5jdGlvbigpe3ZhciBuPUhhbmRsZWJhcnMudGVtcGxhdGUsZT1IYW5kbGViYXJzLnRlbXBsYXRlcz1IYW5kbGViYXJzLnRlbXBsYXRlc3x8e307ZS5hbm5vdGF0aW9uX3dpbmRvdz1uKHtjb21waWxlcjpbOCxcIj49IDQuMy4wXCJdLG1haW46ZnVuY3Rpb24obixlLGwsbyx0KXtyZXR1cm4nPGRpdiBjbGFzcz1cInBvcHVwXCIgaWQ9XCJhbm5vdGF0aW9uX3dpbmRvd1wiID4gXFxyXFxuICAgIDxkaXYgaWQ9XCJjdXJyZW50X2VkaXRlZFwiPjwvZGl2PlxcclxcbiAgICA8Zm9ybSBuYW1lPVwiY2hhbmdlX2Fubm90YXRpb25cIiBhY3Rpb249XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cInBvc2l0aW9uX2lucFwiPlBvemljZTogPC9sYWJlbD5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJwb3NpdGlvblwiIGlkPVwicG9zaXRpb25faW5wXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVwibm9faW5wXCI+xIzDrXNsbyBhbm90YWNlOiA8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwibm9cIiBpZD1cIm5vX2lucFwiPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cImhlYWRpbmdfaW5wXCI+TmFkcGlzOiA8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImhlYWRpbmdcIiBpZD1cImhlYWRpbmdfaW5wXCI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgaWQ9XCJlZGl0b3JcIj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXY+XFxyXFxuICAgICAgICA8YnV0dG9uIGlkPVwiY29weV9odG1sXCIgY2xhc3M9XCJidXR0b25cIj5Lb3DDrXJvdmF0IEhUTUw8L2J1dHRvbj5cXHJcXG4gICAgICAgIDxidXR0b24gaWQ9XCJwYXN0ZV9odG1sXCIgY2xhc3M9XCJidXR0b25cIj5WbG/Fvml0IEhUTUw8L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdj5cXHJcXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2F2ZV9jaGFuZ2VcIiBjbGFzcz1cImJ1dHRvblwiIG9uY2xpY2s9XCJzYXZlX2NoYW5nZXMoKVwiPlByb3bDqXN0IHptxJtueTwvYnV0dG9uPlxcclxcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkaXNjYXJkX2NoYW5nZVwiIGNsYXNzPVwiYnV0dG9uXCIgb25jbGljaz1cImRpc2NhcmRfY2hhbmdlcygpXCI+WmFob2RpdCB6bcSbbnk8L2J1dHRvbj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Zvcm0+XFxyXFxuPC9kaXY+J30sdXNlRGF0YTohMH0pLGUuZ2FsbGVyeT1uKHtjb21waWxlcjpbOCxcIj49IDQuMy4wXCJdLG1haW46ZnVuY3Rpb24obixlLGwsbyx0KXt2YXIgYSxyPW51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSxpPW4uaG9va3MuaGVscGVyTWlzc2luZyxjPVwiZnVuY3Rpb25cIixzPW4uZXNjYXBlRXhwcmVzc2lvbix1PW4ubG9va3VwUHJvcGVydHl8fGZ1bmN0aW9uKG4sZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpcmV0dXJuIG5bZV19O3JldHVybic8ZGl2IGNsYXNzPVwiZ2FsbGVyeV93cmFwcGVyXCIgaWQ9XCJnYWxfd3JhcHBlcicrcyh0eXBlb2YoYT1udWxsIT0oYT11KGwsXCJwYXJlbnRfaWRcIil8fChudWxsIT1lP3UoZSxcInBhcmVudF9pZFwiKTplKSk/YTppKT09Yz9hLmNhbGwocix7bmFtZTpcInBhcmVudF9pZFwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6MSxjb2x1bW46NDR9LGVuZDp7bGluZToxLGNvbHVtbjo1N319fSk6YSkrJ1wiPlxcclxcbiAgICA8aW1nIGNsYXNzPVwiZ2FsX2xlZnRfY2xpY2tcIiBpZD1cImdsYycrcyh0eXBlb2YoYT1udWxsIT0oYT11KGwsXCJwYXJlbnRfaWRcIil8fChudWxsIT1lP3UoZSxcInBhcmVudF9pZFwiKTplKSk/YTppKT09Yz9hLmNhbGwocix7bmFtZTpcInBhcmVudF9pZFwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6Myxjb2x1bW46Mzl9LGVuZDp7bGluZTozLGNvbHVtbjo1Mn19fSk6YSkrJ1wiIHNyYz1cIi4uL2NvbnRyb2xfZ3JhcGhpYy9iYWNrX2ljb24ucG5nXCIgb25jbGljaz1cImxlZnRfY2xpY2soKVwiPlxcclxcbiAgICA8aW1nIGNsYXNzPVwiZ2FsX3JpZ2h0X2NsaWNrXCIgaWQ9XCJncmMnK3ModHlwZW9mKGE9bnVsbCE9KGE9dShsLFwicGFyZW50X2lkXCIpfHwobnVsbCE9ZT91KGUsXCJwYXJlbnRfaWRcIik6ZSkpP2E6aSk9PWM/YS5jYWxsKHIse25hbWU6XCJwYXJlbnRfaWRcIixoYXNoOnt9LGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjQsY29sdW1uOjQwfSxlbmQ6e2xpbmU6NCxjb2x1bW46NTN9fX0pOmEpKydcIiBzcmM9XCIuLi9jb250cm9sX2dyYXBoaWMvcmlnaHQucG5nXCIgb25jbGljaz1cInJpZ2h0X2NsaWNrKClcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cImdhbGxfbnVtXCIgaWQ9XCJnX251bScrcyh0eXBlb2YoYT1udWxsIT0oYT11KGwsXCJwYXJlbnRfaWRcIil8fChudWxsIT1lP3UoZSxcInBhcmVudF9pZFwiKTplKSk/YTppKT09Yz9hLmNhbGwocix7bmFtZTpcInBhcmVudF9pZFwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6NSxjb2x1bW46MzV9LGVuZDp7bGluZTo1LGNvbHVtbjo0OH19fSk6YSkrJ1wiID5cXHJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY3VycmVudF9pbWdcIj48L3NwYW4+XFxyXFxuICAgICAgICA8c3BhbiBjbGFzcz1cInRvdGFsXCI+PC9zcGFuPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj4nfSx1c2VEYXRhOiEwfSksZS5tb2RlbF9jaG9pY2U9bih7MTpmdW5jdGlvbihuLGUsbCxvLHQpe3ZhciBhLHIsaT1udWxsIT1lP2U6bi5udWxsQ29udGV4dHx8e30sYz1uLmhvb2tzLmhlbHBlck1pc3Npbmcscz1cImZ1bmN0aW9uXCIsdT1uLmVzY2FwZUV4cHJlc3Npb24scD1uLmxvb2t1cFByb3BlcnR5fHxmdW5jdGlvbihuLGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpKXJldHVybiBuW2VdfTtyZXR1cm4nICAgIDxkaXYgY2xhc3M9XCJtb2RlbF9jaG9pY2VcIj5cXHJcXG4gICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIm1vZGVsX2Nob2ljZScrdSh0eXBlb2Yocj1udWxsIT0ocj1wKGwsXCJpbmRleFwiKXx8dCYmcCh0LFwiaW5kZXhcIikpP3I6Yyk9PXM/ci5jYWxsKGkse25hbWU6XCJpbmRleFwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6Nixjb2x1bW46NDR9LGVuZDp7bGluZTo2LGNvbHVtbjo1NH19fSk6cikrJ1wiIG5hbWU9XCJtb2RlbFwiIHZhbHVlPVwiJyt1KHR5cGVvZihyPW51bGwhPShyPXAobCxcIm1vZGVsX3NyXCIpfHwobnVsbCE9ZT9wKGUsXCJtb2RlbF9zclwiKTplKSk/cjpjKT09cz9yLmNhbGwoaSx7bmFtZTpcIm1vZGVsX3NyXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo2LGNvbHVtbjo3Nn0sZW5kOntsaW5lOjYsY29sdW1uOjg4fX19KTpyKSsnXCI+XFxyXFxuICAgICAgICA8bGFiZWwgZm9yPVwibW9kZWxfY2hvaWNlJyt1KHR5cGVvZihyPW51bGwhPShyPXAobCxcImluZGV4XCIpfHx0JiZwKHQsXCJpbmRleFwiKSk/cjpjKT09cz9yLmNhbGwoaSx7bmFtZTpcImluZGV4XCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo3LGNvbHVtbjozMn0sZW5kOntsaW5lOjcsY29sdW1uOjQyfX19KTpyKSsnXCI+Jyt1KChwKGwsXCJpbmNyZW1lbnRcIil8fGUmJnAoZSxcImluY3JlbWVudFwiKXx8YykuY2FsbChpLHQmJnAodCxcImluZGV4XCIpLHtuYW1lOlwiaW5jcmVtZW50XCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo3LGNvbHVtbjo0NH0sZW5kOntsaW5lOjcsY29sdW1uOjY0fX19KSkrXCIuIG1vZGVsPC9sYWJlbD5cXHJcXG5cIisobnVsbCE9KGE9KHAobCxcImlmX2VxdWFsc1wiKXx8ZSYmcChlLFwiaWZfZXF1YWxzXCIpfHxjKS5jYWxsKGksbnVsbCE9ZT9wKGUsXCJmaWxlX3NpemVcIik6ZSxcIlwiLHtuYW1lOlwiaWZfZXF1YWxzXCIsaGFzaDp7fSxmbjpuLnByb2dyYW0oMix0LDApLGludmVyc2U6bi5wcm9ncmFtKDQsdCwwKSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo4LGNvbHVtbjo4fSxlbmQ6e2xpbmU6MTMsY29sdW1uOjIyfX19KSk/YTpcIlwiKStcIiAgICAgICAgPHA+XFxyXFxuICAgICAgICAgICAgXCIrdSh0eXBlb2Yocj1udWxsIT0ocj1wKGwsXCJzaG9ydF9jb21tZW50XCIpfHwobnVsbCE9ZT9wKGUsXCJzaG9ydF9jb21tZW50XCIpOmUpKT9yOmMpPT1zP3IuY2FsbChpLHtuYW1lOlwic2hvcnRfY29tbWVudFwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6MTUsY29sdW1uOjEyfSxlbmQ6e2xpbmU6MTUsY29sdW1uOjI5fX19KTpyKStcIlxcclxcbiAgICAgICAgPC9wPlxcclxcbiAgICA8L2Rpdj5cXHJcXG5cIn0sMjpmdW5jdGlvbihuLGUsbCxvLHQpe3JldHVyblwiXCJ9LDQ6ZnVuY3Rpb24obixlLGwsbyx0KXt2YXIgYSxyPW4ubG9va3VwUHJvcGVydHl8fGZ1bmN0aW9uKG4sZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpcmV0dXJuIG5bZV19O3JldHVyblwiICAgICAgICA8cD5cXHJcXG4gICAgICAgICAgICA8Yj5WZWxpa29zdDo8L2I+IFwiK24uZXNjYXBlRXhwcmVzc2lvbihcImZ1bmN0aW9uXCI9PXR5cGVvZihhPW51bGwhPShhPXIobCxcImZpbGVfc2l6ZVwiKXx8KG51bGwhPWU/cihlLFwiZmlsZV9zaXplXCIpOmUpKT9hOm4uaG9va3MuaGVscGVyTWlzc2luZyk/YS5jYWxsKG51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSx7bmFtZTpcImZpbGVfc2l6ZVwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6MTEsY29sdW1uOjI5fSxlbmQ6e2xpbmU6MTEsY29sdW1uOjQyfX19KTphKStcIlxcclxcbiAgICAgICAgPC9wPlxcclxcblwifSxjb21waWxlcjpbOCxcIj49IDQuMy4wXCJdLG1haW46ZnVuY3Rpb24obixlLGwsbyx0KXt2YXIgYSxyLGk9bnVsbCE9ZT9lOm4ubnVsbENvbnRleHR8fHt9LGM9bi5ob29rcy5oZWxwZXJNaXNzaW5nLHM9XCJmdW5jdGlvblwiLHU9bi5lc2NhcGVFeHByZXNzaW9uLHA9bi5sb29rdXBQcm9wZXJ0eXx8ZnVuY3Rpb24obixlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSlyZXR1cm4gbltlXX07cmV0dXJuJzxkaXYgaWQ9XCJtb2RlbF9jaG9pY2VzXCI+XFxyXFxuICAgIDxoMz5adm9sdGUga3ZhbGl0dSBtb2RlbHU8L2gzPlxcclxcbjxmb3JtIG5hbWU9XCJzZWxlY3Rpb25fZm9ybVwiIGFjdGlvbj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiBvbnN1Ym1pdD1cImNob29zZV9tb2RlbChldmVudCwgJyt1KHR5cGVvZihyPW51bGwhPShyPXAobCxcIm1vZGVsX3NjYWxlXCIpfHwobnVsbCE9ZT9wKGUsXCJtb2RlbF9zY2FsZVwiKTplKSk/cjpjKT09cz9yLmNhbGwoaSx7bmFtZTpcIm1vZGVsX3NjYWxlXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTozLGNvbHVtbjo4N30sZW5kOntsaW5lOjMsY29sdW1uOjEwMn19fSk6cikrXCIsICdcIit1KHR5cGVvZihyPW51bGwhPShyPXAobCxcIm1vZGVsX3JvdGF0aW9uXCIpfHwobnVsbCE9ZT9wKGUsXCJtb2RlbF9yb3RhdGlvblwiKTplKSk/cjpjKT09cz9yLmNhbGwoaSx7bmFtZTpcIm1vZGVsX3JvdGF0aW9uXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTozLGNvbHVtbjoxMDV9LGVuZDp7bGluZTozLGNvbHVtbjoxMjN9fX0pOnIpK1wiJylcXFwiPlxcclxcblwiKyhudWxsIT0oYT1wKGwsXCJlYWNoXCIpLmNhbGwoaSxudWxsIT1lP3AoZSxcInF1YWxpdGllc1wiKTplLHtuYW1lOlwiZWFjaFwiLGhhc2g6e30sZm46bi5wcm9ncmFtKDEsdCwwKSxpbnZlcnNlOm4ubm9vcCxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo0LGNvbHVtbjo0fSxlbmQ6e2xpbmU6MTgsY29sdW1uOjEzfX19KSk/YTpcIlwiKSsnXFxyXFxuICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJPS1wiPlxcclxcbjwvZm9ybT5cXHJcXG48L2Rpdj4nfSx1c2VEYXRhOiEwfSksZS5wbGF5ZXI9bih7MTpmdW5jdGlvbihuLGUsbCxvLHQpe3ZhciBhLHI9bi5sb29rdXBQcm9wZXJ0eXx8ZnVuY3Rpb24obixlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSlyZXR1cm4gbltlXX07cmV0dXJuJyAgICAgICAgXFxyXFxuICAgICAgICA8YS1lbnRpdHkgaWQ9XCJjYW1lcmFcIiBjYW1lcmE9XCIgYWN0aXZlOiB0cnVlXCIgbG9vay1jb250cm9scyBvcmJpdC1jb250cm9scz1cIiB0YXJnZXQ6IDAgMCAwOyBtaW5EaXN0YW5jZTogMTsgbWF4RGlzdGFuY2U6IDUwOyBpbml0aWFsUG9zaXRpb246ICcrbi5lc2NhcGVFeHByZXNzaW9uKFwiZnVuY3Rpb25cIj09dHlwZW9mKGE9bnVsbCE9KGE9cihsLFwiY2FtZXJhX3Bvc2l0aW9uXCIpfHwobnVsbCE9ZT9yKGUsXCJjYW1lcmFfcG9zaXRpb25cIik6ZSkpP2E6bi5ob29rcy5oZWxwZXJNaXNzaW5nKT9hLmNhbGwobnVsbCE9ZT9lOm4ubnVsbENvbnRleHR8fHt9LHtuYW1lOlwiY2FtZXJhX3Bvc2l0aW9uXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo0LGNvbHVtbjoxNDl9LGVuZDp7bGluZTo0LGNvbHVtbjoxNjh9fX0pOmEpKyc7IG1heFBvbGFyQW5nbGU6IDE4MFwiPjwvYS1lbnRpdHk+XFxyXFxuICAgICAgICAgIFxcclxcbid9LDM6ZnVuY3Rpb24obixlLGwsbyx0KXt2YXIgYSxyPW51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSxpPW4uaG9va3MuaGVscGVyTWlzc2luZyxjPVwiZnVuY3Rpb25cIixzPW4uZXNjYXBlRXhwcmVzc2lvbix1PW4ubG9va3VwUHJvcGVydHl8fGZ1bmN0aW9uKG4sZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpcmV0dXJuIG5bZV19O3JldHVybicgICAgICAgIDxhLWVudGl0eSBpZD1cImNhbWVyYV9yaWdcIj5cXHJcXG4gICAgICAgICAgICA8YS1lbnRpdHkgaWQ9XCJjYW1lcmFcIiBjYW1lcmEgcG9zaXRpb249XCInK3ModHlwZW9mKGE9bnVsbCE9KGE9dShsLFwiY2FtZXJhX3Bvc2l0aW9uXCIpfHwobnVsbCE9ZT91KGUsXCJjYW1lcmFfcG9zaXRpb25cIik6ZSkpP2E6aSk9PWM/YS5jYWxsKHIse25hbWU6XCJjYW1lcmFfcG9zaXRpb25cIixoYXNoOnt9LGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjgsY29sdW1uOjUxfSxlbmQ6e2xpbmU6OCxjb2x1bW46NzB9fX0pOmEpKydcIiBkZWZhdWx0LXBvc2l0aW9uPVwiJytzKHR5cGVvZihhPW51bGwhPShhPXUobCxcImNhbWVyYV9wb3NpdGlvblwiKXx8KG51bGwhPWU/dShlLFwiY2FtZXJhX3Bvc2l0aW9uXCIpOmUpKT9hOmkpPT1jP2EuY2FsbChyLHtuYW1lOlwiY2FtZXJhX3Bvc2l0aW9uXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo4LGNvbHVtbjo5MH0sZW5kOntsaW5lOjgsY29sdW1uOjEwOX19fSk6YSkrJ1wiIHRvdWNoLWNvbnRyb2xzPVwiZ3lyb0VuYWJsZWQ6ZmFsc2VcIiB3YXNkLWNvbnRyb2xzPVwiIGZseTp0cnVlOyBhY2NlbGVyYXRpb246NDBcIj48L2EtZW50aXR5PlxcclxcbiAgICAgICAgPC9hLWVudGl0eT5cXHJcXG4nfSw1OmZ1bmN0aW9uKG4sZSxsLG8sdCl7cmV0dXJuXCJcIn0sNzpmdW5jdGlvbihuLGUsbCxvLHQpe3ZhciBhLHI9bi5sb29rdXBQcm9wZXJ0eXx8ZnVuY3Rpb24obixlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSlyZXR1cm4gbltlXX07cmV0dXJuJyAgICAgICAgPGEtYXNzZXQtaXRlbSBpZD1cIm1haW5fbW9kZWxcIiBzcmM9XCInK24uZXNjYXBlRXhwcmVzc2lvbihcImZ1bmN0aW9uXCI9PXR5cGVvZihhPW51bGwhPShhPXIobCxcIm1vZGVsX3NyY1wiKXx8KG51bGwhPWU/cihlLFwibW9kZWxfc3JjXCIpOmUpKT9hOm4uaG9va3MuaGVscGVyTWlzc2luZyk/YS5jYWxsKG51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSx7bmFtZTpcIm1vZGVsX3NyY1wiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6MTYsY29sdW1uOjQzfSxlbmQ6e2xpbmU6MTYsY29sdW1uOjU2fX19KTphKSsnXCI+PC9hLWFzc2V0LWl0ZW0+XFxyXFxuJ30sOTpmdW5jdGlvbihuLGUsbCxvLHQpe3ZhciBhLHI9bnVsbCE9ZT9lOm4ubnVsbENvbnRleHR8fHt9LGk9bi5ob29rcy5oZWxwZXJNaXNzaW5nLGM9XCJmdW5jdGlvblwiLHM9bi5lc2NhcGVFeHByZXNzaW9uLHU9bi5sb29rdXBQcm9wZXJ0eXx8ZnVuY3Rpb24obixlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSlyZXR1cm4gbltlXX07cmV0dXJuJyAgICA8YS1lbnRpdHkgbXktZ2x0Zi1tb2RlbD1cIiNtYWluX21vZGVsXCIgaWQ9XCJnbHRmX21vZGVsXCIgYmlnX21vZGVsIGF1dG9zY2FsZT1cIiBzY2FsZTonK3ModHlwZW9mKGE9bnVsbCE9KGE9dShsLFwibW9kZWxfc2NhbGVcIil8fChudWxsIT1lP3UoZSxcIm1vZGVsX3NjYWxlXCIpOmUpKT9hOmkpPT1jP2EuY2FsbChyLHtuYW1lOlwibW9kZWxfc2NhbGVcIixoYXNoOnt9LGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjIxLGNvbHVtbjo4Nn0sZW5kOntsaW5lOjIxLGNvbHVtbjoxMDF9fX0pOmEpK1wiOyByb3RhdGlvbjogXCIrcyh0eXBlb2YoYT1udWxsIT0oYT11KGwsXCJtb2RlbF9yb3RhdGlvblwiKXx8KG51bGwhPWU/dShlLFwibW9kZWxfcm90YXRpb25cIik6ZSkpP2E6aSk9PWM/YS5jYWxsKHIse25hbWU6XCJtb2RlbF9yb3RhdGlvblwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6MjEsY29sdW1uOjExM30sZW5kOntsaW5lOjIxLGNvbHVtbjoxMzF9fX0pOmEpKydcIj48L2EtZW50aXR5Plxcclxcbid9LDExOmZ1bmN0aW9uKG4sZSxsLG8sdCl7cmV0dXJuXCI8cD5Ww610ZWp0ZSB2ZSB3ZWJvdsOpbSBwcm9obMOtxb5lxI1pIDNEIG9iamVrdMWvLiBTbmFkIFbDoW0gdGF0byBuw6Fwb3bEm2RhIHVzbmFkbsOtIGplaG8gcG91xb7DrXbDoW7DrS48L3A+XFxyXFxuPHA+PGI+T3Zsw6Fkw6Fuw606IDwvYj52IHTDqXRvIHZhcmlhbnTEmyBwb3V6ZSBvdMOhxI1lbsOtIHBvaGxlZHUgbXnFocOtLjwvcD5cXHJcXG48cD5cXHJcXG4gICAgViBib8SNbsOtbSBwYW5lbHUsIGtkZSBzZSBuYWNow6F6w60gdGF0byBuw6Fwb3bEm2RhLCBuYWpkZXRlIHRha8OpIHRsYcSNw610a28gYW5vdGFjZSwga3RlcsO9bSBtxa/FvmV0ZSB2eXBub3V0IHpvYnJhem92w6Fuw60gYW5vdGFjw60sXFxyXFxuICAgIHBva3VkIHNpIGNoY2V0ZSBuZXJ1xaFlbsSbIHByb2hsw63FvmV0IG1vZGVsLlxcclxcbjwvcD5cXHJcXG48L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cXHJcXG5cIn0sMTM6ZnVuY3Rpb24obixlLGwsbyx0KXtyZXR1cm4nPHA+VsOtdGVqdGUgdmUgd2Vib3bDqW0gcHJvaGzDrcW+ZcSNaSAzRCBvYmpla3TFry4gU25hZCBWw6FtIHRhdG8gbsOhcG92xJtkYSB1c25hZG7DrSBqZWhvIHBvdcW+w612w6Fuw60uPC9wPlxcclxcbjxwPjxiPk92bMOhZMOhbsOtOiA8L2I+cG9tb2PDrSDFoWlwZWsgbmVibyBXQVNEIGEgbXnFocOtIG90w6HEjWVuw60gcG9obGVkdS4gTmEgZG90eWtvdsOpbSB6YcWZw616ZW7DrSBqb3lzdGlja2VtLjwvcD5cXHJcXG48cD5cXHJcXG4gICAgUG9rdWQgYnlzdGUgemFibG91ZGlsaSwgdGxhxI3DrXRrZW0gPGI+ZG9tZcSNa3U8L2I+IHNlIG3Fr8W+ZXRlIG5hdnLDoXRpdCB6cMSbdCBuYSA8Yj5wb8SNw6F0ZcSNbsOtIHBvemljaS48L2I+PC9wPlxcclxcbjxwPlxcclxcbiAgICBWIGJvxI1uw61tIHBhbmVsdSwga2RlIHNlIG5hY2jDoXrDrSB0YXRvIG7DoXBvdsSbZGEsIG5hamRldGUgZGFsxaHDrSB1xb5pdGXEjW7DqSBmdW5rY2UuIDxicj5Nxa/FvmV0ZSA8Yj52eXBub3V0IHpvYnJhem92w6Fuw60gXFxyXFxuICAgIGFub3RhY8OtLDwvYj4gcG9rdWQgc2kgY2hjZXRlIG5lcnXFoWVuxJsgcHJvaGzDqWRub3V0IG1vZGVsLiBUYWvDqSBzZSB6ZGUgbmFjaMOhesOtIG1vxb5ub3N0IG5hc3RhdmVuw60gcnljaGxvc3RpIHBvaHlidS5cXHJcXG48L3A+XFxyXFxuPHA+XFxyXFxuICAgIER2b2ppY8OtIHRsYcSNw610ZWsgPGI+S29ww61yb3ZhdCBwb3ppY2k8L2I+IGEgPGI+UMWZZWrDrXQgbmEgcG96aWNpPC9iPiBzaSBtxa/FvmV0ZSB1c2Nob3ZhdCBzdm9qaSBha3R1w6FsbsOtIHBvbG9odSBhIG7DoXNsZWRuxJsgc2UgbmEgXFxyXFxuICAgIG5pIGtkeWtvbGl2IHZyw6F0aXQuIDxicj5UbGHEjcOtdGtvIDxiPktvcMOtcm92YXQgcG96aWNpPC9iPiBqaSB6a29ww61ydWplIGRvIHNjaHLDoW5reS5cXHJcXG48L3A+XFxyXFxuPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXFxyXFxuPGltZyBpZD1cImhvbWVfYnV0dG9uXCIgdGl0bGU9XCJSZXR1cm4gYmFjayB0byBvcmlnaW4uXCIgc3JjPVwiLi4vLi4vY29udHJvbF9ncmFwaGljL2hvbWUucG5nXCI+PC9pbWc+XFxyXFxuXFxyXFxuXFxyXFxuJ30sY29tcGlsZXI6WzgsXCI+PSA0LjMuMFwiXSxtYWluOmZ1bmN0aW9uKG4sZSxsLG8sdCl7dmFyIGEscixpPW51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSxjPW4uaG9va3MuaGVscGVyTWlzc2luZyxzPW4ubG9va3VwUHJvcGVydHl8fGZ1bmN0aW9uKG4sZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpcmV0dXJuIG5bZV19O3JldHVybic8YS1zY2VuZSAgZ2x0Zi1tb2RlbD1cImRyYWNvRGVjb2RlclBhdGg6IC4uL2RyYWNvLztcIiBiYWNrZ3JvdW5kPVwiIGNvbG9yOiAnK24uZXNjYXBlRXhwcmVzc2lvbihcImZ1bmN0aW9uXCI9PXR5cGVvZihyPW51bGwhPShyPXMobCxcImJhY2tncm91bmRfY29sb3JcIil8fChudWxsIT1lP3MoZSxcImJhY2tncm91bmRfY29sb3JcIik6ZSkpP3I6Yyk/ci5jYWxsKGkse25hbWU6XCJiYWNrZ3JvdW5kX2NvbG9yXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZToxLGNvbHVtbjoxMzN9LGVuZDp7bGluZToxLGNvbHVtbjoxNTN9fX0pOnIpKydcIiBqb3lzdGljaz5cXHJcXG4nKyhudWxsIT0oYT1zKGwsXCJpZlwiKS5jYWxsKGksbnVsbCE9ZT9zKGUsXCJvcmJpdF9jb250cm9sXCIpOmUse25hbWU6XCJpZlwiLGhhc2g6e30sZm46bi5wcm9ncmFtKDEsdCwwKSxpbnZlcnNlOm4ucHJvZ3JhbSgzLHQsMCksZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6Mixjb2x1bW46NH0sZW5kOntsaW5lOjEwLGNvbHVtbjoxMX19fSkpP2E6XCJcIikrJ1xcclxcbiAgICA8YS1lbnRpdHkgcmF5Y2FzdGVyPVwib2JqZWN0czogW2RhdGEtY2xpY2thYmxlXVwiIGlkPVwicmF5Y2FzdGVyXCIgY3Vyc29yPVwicmF5T3JpZ2luOm1vdXNlXCI+PC9hLWVudGl0eT5cXHJcXG4gICAgPGEtYXNzZXRzIHRpbWVvdXQ9XCIxMDAwMDAwMDBcIj5cXHJcXG4nKyhudWxsIT0oYT0ocyhsLFwiaWZfZXF1YWxzXCIpfHxlJiZzKGUsXCJpZl9lcXVhbHNcIil8fGMpLmNhbGwoaSxudWxsIT1lP3MoZSxcIm1vZGVsX3NyY1wiKTplLFwiXCIse25hbWU6XCJpZl9lcXVhbHNcIixoYXNoOnt9LGZuOm4ucHJvZ3JhbSg1LHQsMCksaW52ZXJzZTpuLnByb2dyYW0oNyx0LDApLGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjE0LGNvbHVtbjo4fSxlbmQ6e2xpbmU6MTcsY29sdW1uOjIyfX19KSk/YTpcIlwiKStcIiAgICA8L2EtYXNzZXRzPlxcclxcblwiKyhudWxsIT0oYT0ocyhsLFwiaWZfZXF1YWxzXCIpfHxlJiZzKGUsXCJpZl9lcXVhbHNcIil8fGMpLmNhbGwoaSxudWxsIT1lP3MoZSxcIm1vZGVsX3NyY1wiKTplLFwiXCIse25hbWU6XCJpZl9lcXVhbHNcIixoYXNoOnt9LGZuOm4ucHJvZ3JhbSg1LHQsMCksaW52ZXJzZTpuLnByb2dyYW0oOSx0LDApLGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjE5LGNvbHVtbjo0fSxlbmQ6e2xpbmU6MjIsY29sdW1uOjE4fX19KSk/YTpcIlwiKSsnICAgIDxhLWVudGl0eSBsaWdodD1cInR5cGU6IHBvaW50OyBpbnRlbnNpdHk6IDE7IGRpc3RhbmNlOiAxMDA7IGRlY2F5OiAyXCIgcG9zaXRpb249XCIwIDAgMFwiPjwvYS1lbnRpdHk+XFxyXFxuICAgIDxhLWVudGl0eSBsaWdodD1cInR5cGU6IGFtYmllbnQ7IGNvbG9yOiAjQ0NDXCI+PC9hLWVudGl0eT5cXHJcXG48L2Etc2NlbmU+XFxyXFxuXFxyXFxuPGRpdiBjbGFzcz1cInBvcHVwXCIgaWQ9XCJoZWxwX3BvcHVwXCI+XFxyXFxuPGRpdiBjbGFzcz1cInBvcHVwX2hlYWRpbmdcIj4gPHNwYW4gY2xhc3M9XCJiYWNrX2ljb25cIj48aW1nIHNyYz1cIi4uL2NvbnRyb2xfZ3JhcGhpYy9iYWNrX2ljb24ucG5nXCI+PC9zcGFuPk7DoXBvdsSbZGE8L2Rpdj5cXHJcXG48ZGl2IGNsYXNzPVwicG9wdXBfYm9keVwiPlxcclxcbicrKG51bGwhPShhPXMobCxcImlmXCIpLmNhbGwoaSxudWxsIT1lP3MoZSxcIm9yYml0X2NvbnRyb2xcIik6ZSx7bmFtZTpcImlmXCIsaGFzaDp7fSxmbjpuLnByb2dyYW0oMTEsdCwwKSxpbnZlcnNlOm4ucHJvZ3JhbSgxMyx0LDApLGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjMwLGNvbHVtbjowfSxlbmQ6e2xpbmU6NTksY29sdW1uOjd9fX0pKT9hOlwiXCIpfSx1c2VEYXRhOiEwfSksZS5wb3B1cD1uKHsxOmZ1bmN0aW9uKG4sZSxsLG8sdCxhLHIpe3ZhciBpLGMscz1udWxsIT1lP2U6bi5udWxsQ29udGV4dHx8e30sdT1uLmhvb2tzLmhlbHBlck1pc3NpbmcscD1cImZ1bmN0aW9uXCIsZD1uLmVzY2FwZUV4cHJlc3Npb24sbT1uLmxvb2t1cFByb3BlcnR5fHxmdW5jdGlvbihuLGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpKXJldHVybiBuW2VdfTtyZXR1cm4nPGRpdiBjbGFzcz1cInBvcHVwXCIgaWQ9XCInK2QodHlwZW9mKGM9bnVsbCE9KGM9bShsLFwia2V5XCIpfHx0JiZtKHQsXCJrZXlcIikpP2M6dSk9PXA/Yy5jYWxsKHMse25hbWU6XCJrZXlcIixoYXNoOnt9LGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjIsY29sdW1uOjIzfSxlbmQ6e2xpbmU6Mixjb2x1bW46MzF9fX0pOmMpKydcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cInBvcHVwX2hlYWRpbmdcIj4gPHNwYW4gY2xhc3M9XCJiYWNrX2ljb25cIiBvbmNsaWNrPVwiY2xvc2Vfd2luZG93cygpXCI+PGltZyBzcmM9XCIuLi8uLi9jb250cm9sX2dyYXBoaWMvYmFja19pY29uLnBuZ1wiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImhlYWRpbmdfc3BhblwiID4nK2QodHlwZW9mKGM9bnVsbCE9KGM9bShsLFwiaGVhZGluZ1wiKXx8KG51bGwhPWU/bShlLFwiaGVhZGluZ1wiKTplKSk/Yzp1KT09cD9jLmNhbGwocyx7bmFtZTpcImhlYWRpbmdcIixoYXNoOnt9LGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjMsY29sdW1uOjE2NH0sZW5kOntsaW5lOjMsY29sdW1uOjE3NX19fSk6YykrJzwvc3Bhbj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cInBvcHVwX2JvZHlcIj4gPHNwYW4gY2xhc3M9XCJwb3B1cF90ZXh0XCI+ICcrKG51bGwhPShpPXR5cGVvZihjPW51bGwhPShjPW0obCxcInRleHRcIil8fChudWxsIT1lP20oZSxcInRleHRcIik6ZSkpP2M6dSk9PXA/Yy5jYWxsKHMse25hbWU6XCJ0ZXh0XCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo0LGNvbHVtbjo1NX0sZW5kOntsaW5lOjQsY29sdW1uOjY1fX19KTpjKT9pOlwiXCIpK1wiPC9zcGFuPiA8L2Rpdj5cXHJcXG5cIisobnVsbCE9KGk9bShsLFwiaWZcIikuY2FsbChzLG51bGwhPXJbMV0/bShyWzFdLFwiZWRpdF9tb2RlXCIpOnJbMV0se25hbWU6XCJpZlwiLGhhc2g6e30sZm46bi5wcm9ncmFtKDIsdCwwLGEsciksaW52ZXJzZTpuLm5vb3AsZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6NSxjb2x1bW46NH0sZW5kOntsaW5lOjcsY29sdW1uOjExfX19KSk/aTpcIlwiKStcIjwvZGl2PlxcclxcblwifSwyOmZ1bmN0aW9uKG4sZSxsLG8sdCl7dmFyIGEscj1uLmxvb2t1cFByb3BlcnR5fHxmdW5jdGlvbihuLGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpKXJldHVybiBuW2VdfTtyZXR1cm4nICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGVkX2J1dHRvblwiIGlkPVwiZWRpdCcrbi5lc2NhcGVFeHByZXNzaW9uKFwiZnVuY3Rpb25cIj09dHlwZW9mKGE9bnVsbCE9KGE9cihsLFwia2V5XCIpfHx0JiZyKHQsXCJrZXlcIikpP2E6bi5ob29rcy5oZWxwZXJNaXNzaW5nKT9hLmNhbGwobnVsbCE9ZT9lOm4ubnVsbENvbnRleHR8fHt9LHtuYW1lOlwia2V5XCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo2LGNvbHVtbjo0OX0sZW5kOntsaW5lOjYsY29sdW1uOjU3fX19KTphKSsnXCI+VXByYXZpdDwvYnV0dG9uPlxcclxcbid9LGNvbXBpbGVyOls4LFwiPj0gNC4zLjBcIl0sbWFpbjpmdW5jdGlvbihuLGUsbCxvLHQsYSxyKXt2YXIgaSxjPW4ubG9va3VwUHJvcGVydHl8fGZ1bmN0aW9uKG4sZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpcmV0dXJuIG5bZV19O3JldHVybiBudWxsIT0oaT1jKGwsXCJlYWNoXCIpLmNhbGwobnVsbCE9ZT9lOm4ubnVsbENvbnRleHR8fHt9LG51bGwhPWU/YyhlLFwiYW5ub3RhdGlvbnNcIik6ZSx7bmFtZTpcImVhY2hcIixoYXNoOnt9LGZuOm4ucHJvZ3JhbSgxLHQsMCxhLHIpLGludmVyc2U6bi5ub29wLGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjEsY29sdW1uOjB9LGVuZDp7bGluZTo5LGNvbHVtbjo5fX19KSk/aTpcIlwifSx1c2VEYXRhOiEwLHVzZURlcHRoczohMH0pLGUucG9wdXBfYnV0dG9uPW4oezE6ZnVuY3Rpb24obixlLGwsbyx0KXt2YXIgYSxyPW51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSxpPW4uaG9va3MuaGVscGVyTWlzc2luZyxjPW4uZXNjYXBlRXhwcmVzc2lvbixzPVwiZnVuY3Rpb25cIix1PW4ubG9va3VwUHJvcGVydHl8fGZ1bmN0aW9uKG4sZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkpcmV0dXJuIG5bZV19O3JldHVybic8YS10ZXh0IFxcclxcbiAgICB2YWx1ZT1cIicrYygodShsLFwiZ2V0X251bWJlclwiKXx8ZSYmdShlLFwiZ2V0X251bWJlclwiKXx8aSkuY2FsbChyLHQmJnUodCxcImtleVwiKSx7bmFtZTpcImdldF9udW1iZXJcIixoYXNoOnt9LGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjMsY29sdW1uOjExfSxlbmQ6e2xpbmU6Myxjb2x1bW46MzB9fX0pKSsnXCIgd2lkdGg9XCI2XCIgYWxpZ249XCJjZW50ZXJcIlxcclxcbiAgICBsb29rLWF0PVwiW2NhbWVyYV1cIiBjb2xvcj1cIndoaXRlXCIgaWQ9XCJyZW5kZXJlZCcrYyh0eXBlb2YoYT1udWxsIT0oYT11KGwsXCJrZXlcIil8fHQmJnUodCxcImtleVwiKSk/YTppKT09cz9hLmNhbGwocix7bmFtZTpcImtleVwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6NCxjb2x1bW46NDl9LGVuZDp7bGluZTo0LGNvbHVtbjo1N319fSk6YSkrJ1wiXFxyXFxuICAgIGNsYXNzPVwiY2xpY2thYmxlXCIgaW5mby13aW5kb3c9XCIgd2luZG93X2lkOicrYyh0eXBlb2YoYT1udWxsIT0oYT11KGwsXCJrZXlcIil8fHQmJnUodCxcImtleVwiKSk/YTppKT09cz9hLmNhbGwocix7bmFtZTpcImtleVwiLGhhc2g6e30sZGF0YTp0LGxvYzp7c3RhcnQ6e2xpbmU6NSxjb2x1bW46NDZ9LGVuZDp7bGluZTo1LGNvbHVtbjo1NH19fSk6YSkrJ1wiIHBvc2l0aW9uPVwiJytjKHR5cGVvZihhPW51bGwhPShhPXUobCxcInBvc2l0aW9uXCIpfHwobnVsbCE9ZT91KGUsXCJwb3NpdGlvblwiKTplKSk/YTppKT09cz9hLmNhbGwocix7bmFtZTpcInBvc2l0aW9uXCIsaGFzaDp7fSxkYXRhOnQsbG9jOntzdGFydDp7bGluZTo1LGNvbHVtbjo2Nn0sZW5kOntsaW5lOjUsY29sdW1uOjc4fX19KTphKSsnXCIgZGF0YS1jbGlja2FibGVcXHJcXG4+PC9hLXRleHQ+XFxyXFxuJ30sY29tcGlsZXI6WzgsXCI+PSA0LjMuMFwiXSxtYWluOmZ1bmN0aW9uKG4sZSxsLG8sdCl7dmFyIGEscj1uLmxvb2t1cFByb3BlcnR5fHxmdW5jdGlvbihuLGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpKXJldHVybiBuW2VdfTtyZXR1cm4gbnVsbCE9KGE9cihsLFwiZWFjaFwiKS5jYWxsKG51bGwhPWU/ZTpuLm51bGxDb250ZXh0fHx7fSxudWxsIT1lP3IoZSxcImFubm90YXRpb25zXCIpOmUse25hbWU6XCJlYWNoXCIsaGFzaDp7fSxmbjpuLnByb2dyYW0oMSx0LDApLGludmVyc2U6bi5ub29wLGRhdGE6dCxsb2M6e3N0YXJ0OntsaW5lOjEsY29sdW1uOjB9LGVuZDp7bGluZTo3LGNvbHVtbjo5fX19KSk/YTpcIlwifSx1c2VEYXRhOiEwfSl9KCk7IiwiLyoqXG4gKiBDVVNUT00gdmVyc2lvbiBvZiBhLWNvbnRyb2wgd2l0aCBiZXR0ZXIgc3VwcG9ydCBmb3Igam95c3RpY2sgYW5kIFogYXhpcyBtb3ZlbWVudFxuICovXG5cbmZ1bmN0aW9uIGJpbmQoZm4sIGN0eC8qICwgYXJnMSwgYXJnMiAqLykge1xuICAgIHJldHVybiAoZnVuY3Rpb24gKHByZXBlbmRlZEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgICAgICAgICAgLy8gQ29uY2F0IHRoZSBib3VuZCBmdW5jdGlvbiBhcmd1bWVudHMgd2l0aCB0aG9zZSBwYXNzZWQgdG8gb3JpZ2luYWwgYmluZFxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBwcmVwZW5kZWRBcmdzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShjdHgsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH0pKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xufTtcblxuZnVuY3Rpb24gUG9seWZpbGxDb250cm9scyhvYmplY3QpIHtcbiAgICB2YXIgZnJhbWVEYXRhO1xuICAgIHZhciB2ckRpc3BsYXkgPSB3aW5kb3cud2VidnJwb2x5ZmlsbCAmJiB3aW5kb3cud2VidnJwb2x5ZmlsbC5nZXRQb2x5ZmlsbERpc3BsYXlzKClbMF07XG4gICAgaWYgKHdpbmRvdy5WUkZyYW1lRGF0YSkgeyBmcmFtZURhdGEgPSBuZXcgd2luZG93LlZSRnJhbWVEYXRhKCk7IH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvc2U7XG4gICAgICAgIGlmICghdnJEaXNwbGF5KSB7IHJldHVybjsgfVxuICAgICAgICB2ckRpc3BsYXkuZ2V0RnJhbWVEYXRhKGZyYW1lRGF0YSk7XG4gICAgICAgIHBvc2UgPSBmcmFtZURhdGEucG9zZTtcbiAgICAgICAgaWYgKHBvc2Uub3JpZW50YXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgIG9iamVjdC5xdWF0ZXJuaW9uLmZyb21BcnJheShwb3NlLm9yaWVudGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zZS5wb3NpdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgb2JqZWN0LnBvc2l0aW9uLmZyb21BcnJheShwb3NlLnBvc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iamVjdC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5cbi8vIFRvIGF2b2lkIHJlY2FsY3VsYXRpb24gYXQgZXZlcnkgbW91c2UgbW92ZW1lbnQgdGlja1xudmFyIFBJXzIgPSBNYXRoLlBJIC8gMjtcblxuXG4vKipcbiAqIGxvb2stY29udHJvbHMuIFVwZGF0ZSBlbnRpdHkgcG9zZSwgZmFjdG9yaW5nIG1vdXNlLCB0b3VjaCwgYW5kIFdlYlZSIEFQSSBkYXRhLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3RvdWNoLWNvbnRyb2xzJywge1xuICAgIGRlcGVuZGVuY2llczogWydwb3NpdGlvbicsICdyb3RhdGlvbiddLFxuXG4gICAgc2NoZW1hOiB7XG4gICAgICAgIGVuYWJsZWQ6IHsgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICBobWRFbmFibGVkOiB7IGRlZmF1bHQ6IHRydWUgfSxcbiAgICAgICAgcG9pbnRlckxvY2tFbmFibGVkOiB7IGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgICAgIHJldmVyc2VNb3VzZURyYWc6IHsgZGVmYXVsdDogZmFsc2UgfSxcbiAgICAgICAgcmV2ZXJzZVRvdWNoRHJhZzogeyBkZWZhdWx0OiBmYWxzZSB9LFxuICAgICAgICB0b3VjaEVuYWJsZWQ6IHsgZGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICBneXJvRW5hYmxlZDogeyBkZWZhdWx0OiB0cnVlIH1cbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByZXZpb3VzSE1EUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLmhtZFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgICAgICB0aGlzLmhtZEV1bGVyID0gbmV3IFRIUkVFLkV1bGVyKCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICAvLyBUbyBzYXZlIC8gcmVzdG9yZSBjYW1lcmEgcG9zZVxuICAgICAgICB0aGlzLnNhdmVkUm90YXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNhdmVkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnBvbHlmaWxsT2JqZWN0ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICAgIHRoaXMucG9seWZpbGxDb250cm9scyA9IG5ldyBQb2x5ZmlsbENvbnRyb2xzKHRoaXMucG9seWZpbGxPYmplY3QpO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0ge307XG4gICAgICAgIHRoaXMuZGVsdGFSb3RhdGlvbiA9IHt9O1xuICAgICAgICB0aGlzLnNhdmVkUG9zZSA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRlckxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldHVwTW91c2VDb250cm9scygpO1xuICAgICAgICB0aGlzLmJpbmRNZXRob2RzKCk7XG4gICAgICAgIHRoaXMuZWwub2JqZWN0M0QubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVsLm9iamVjdDNELnVwZGF0ZU1hdHJpeCgpO1xuXG4gICAgICAgIHRoaXMuc2F2ZWRQb3NlID0ge1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFRIUkVFLkV1bGVyKClcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDYWxsIGVudGVyIFZSIGhhbmRsZXIgaWYgdGhlIHNjZW5lIGhhcyBlbnRlcmVkIFZSIGJlZm9yZSB0aGUgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkLlxuICAgICAgICBpZiAodGhpcy5lbC5zY2VuZUVsLmlzKCd2ci1tb2RlJykpIHsgdGhpcy5vbkVudGVyVlIoKTsgfVxuICAgIH0sXG5cbiAgICB1cGRhdGU6IGZ1bmN0aW9uIChvbGREYXRhKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgICAgIC8vIERpc2FibGUgZ3JhYiBjdXJzb3IgY2xhc3NlcyBpZiBubyBsb25nZXIgZW5hYmxlZC5cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlZCAhPT0gb2xkRGF0YS5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYWJDdXJzb3IoZGF0YS5lbmFibGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IHBpdGNoIGFuZCB5YXcgaWYgZGlzYWJsaW5nIEhNRC5cbiAgICAgICAgaWYgKG9sZERhdGEgJiYgIWRhdGEuaG1kRW5hYmxlZCAmJiAhb2xkRGF0YS5obWRFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBpdGNoT2JqZWN0LnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgICAgIHRoaXMueWF3T2JqZWN0LnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbGREYXRhICYmICFkYXRhLnBvaW50ZXJMb2NrRW5hYmxlZCAhPT0gb2xkRGF0YS5wb2ludGVyTG9ja0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrZWQpIHsgdGhpcy5leGl0UG9pbnRlckxvY2soKTsgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRpY2s6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICBpZiAoIWRhdGEuZW5hYmxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy51cGRhdGVPcmllbnRhdGlvbigpO1xuICAgIH0sXG5cbiAgICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9LFxuXG4gICAgcGF1c2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wb2ludGVyTG9ja2VkKSB7IHRoaXMuZXhpdFBvaW50ZXJMb2NrKCk7IH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckxvY2tlZCkgeyB0aGlzLmV4aXRQb2ludGVyTG9jaygpOyB9XG4gICAgfSxcblxuICAgIGJpbmRNZXRob2RzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub25Nb3VzZURvd24gPSBiaW5kKHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLm9uTW91c2VNb3ZlID0gYmluZCh0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbk1vdXNlVXAgPSBiaW5kKHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vblRvdWNoU3RhcnQgPSBiaW5kKHRoaXMub25Ub3VjaFN0YXJ0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5vblRvdWNoTW92ZSA9IGJpbmQodGhpcy5vblRvdWNoTW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMub25Ub3VjaEVuZCA9IGJpbmQodGhpcy5vblRvdWNoRW5kLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbkVudGVyVlIgPSBiaW5kKHRoaXMub25FbnRlclZSLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbkV4aXRWUiA9IGJpbmQodGhpcy5vbkV4aXRWUiwgdGhpcyk7XG4gICAgICAgIHRoaXMub25Qb2ludGVyTG9ja0NoYW5nZSA9IGJpbmQodGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJMb2NrRXJyb3IgPSBiaW5kKHRoaXMub25Qb2ludGVyTG9ja0Vycm9yLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHVwIHN0YXRlcyBhbmQgT2JqZWN0M0RzIG5lZWRlZCB0byBzdG9yZSByb3RhdGlvbiBkYXRhLlxuICAgICAqL1xuICAgIHNldHVwTW91c2VDb250cm9sczogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpdGNoT2JqZWN0ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICAgIHRoaXMueWF3T2JqZWN0ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgICAgIHRoaXMueWF3T2JqZWN0LnBvc2l0aW9uLnkgPSAxMDtcbiAgICAgICAgdGhpcy55YXdPYmplY3QuYWRkKHRoaXMucGl0Y2hPYmplY3QpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgbW91c2UgYW5kIHRvdWNoIGV2ZW50IGxpc3RlbmVycyB0byBjYW52YXMuXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjZW5lRWwgPSB0aGlzLmVsLnNjZW5lRWw7XG4gICAgICAgIHZhciBjYW52YXNFbCA9IHNjZW5lRWwuY2FudmFzO1xuXG4gICAgICAgIC8vIFdhaXQgZm9yIGNhbnZhcyB0byBsb2FkLlxuICAgICAgICBpZiAoIWNhbnZhc0VsKSB7XG4gICAgICAgICAgICBzY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbmRlci10YXJnZXQtbG9hZGVkJywgYmluZCh0aGlzLmFkZEV2ZW50TGlzdGVuZXJzLCB0aGlzKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3VzZSBldmVudHMuXG4gICAgICAgIGNhbnZhc0VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24sIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFRvdWNoIGV2ZW50cy5cbiAgICAgICAgY2FudmFzRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQpO1xuXG4gICAgICAgIC8vIHNjZW5lRWwgZXZlbnRzLlxuICAgICAgICBzY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2VudGVyLXZyJywgdGhpcy5vbkVudGVyVlIpO1xuICAgICAgICBzY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2V4aXQtdnInLCB0aGlzLm9uRXhpdFZSKTtcblxuICAgICAgICAvLyBQb2ludGVyIExvY2sgZXZlbnRzLlxuICAgICAgICBpZiAodGhpcy5kYXRhLnBvaW50ZXJMb2NrRW5hYmxlZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tjaGFuZ2UnLCB0aGlzLm9uUG9pbnRlckxvY2tDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venBvaW50ZXJsb2NrY2hhbmdlJywgdGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2Vycm9yJywgdGhpcy5vblBvaW50ZXJMb2NrRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50IGxpc3RlbmVycyBmcm9tIGNhbnZhcy5cbiAgICAgKi9cbiAgICByZW1vdmVFdmVudExpc3RlbmVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2NlbmVFbCA9IHRoaXMuZWwuc2NlbmVFbDtcbiAgICAgICAgdmFyIGNhbnZhc0VsID0gc2NlbmVFbCAmJiBzY2VuZUVsLmNhbnZhcztcblxuICAgICAgICBpZiAoIWNhbnZhc0VsKSB7IHJldHVybjsgfVxuXG4gICAgICAgIC8vIE1vdXNlIGV2ZW50cy5cbiAgICAgICAgY2FudmFzRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCk7XG5cbiAgICAgICAgLy8gVG91Y2ggZXZlbnRzLlxuICAgICAgICBjYW52YXNFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoU3RhcnQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCk7XG5cbiAgICAgICAgLy8gc2NlbmVFbCBldmVudHMuXG4gICAgICAgIHNjZW5lRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW50ZXItdnInLCB0aGlzLm9uRW50ZXJWUik7XG4gICAgICAgIHNjZW5lRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXhpdC12cicsIHRoaXMub25FeGl0VlIpO1xuXG4gICAgICAgIC8vIFBvaW50ZXIgTG9jayBldmVudHMuXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgdGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21venBvaW50ZXJsb2NrY2hhbmdlJywgdGhpcy5vblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrZXJyb3InLCB0aGlzLm9uUG9pbnRlckxvY2tFcnJvciwgZmFsc2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgb3JpZW50YXRpb24gZm9yIG1vYmlsZSwgbW91c2UgZHJhZywgYW5kIGhlYWRzZXQuXG4gICAgICogTW91c2UtZHJhZyBvbmx5IGVuYWJsZWQgaWYgSE1EIGlzIG5vdCBhY3RpdmUuXG4gICAgICovXG4gICAgdXBkYXRlT3JpZW50YXRpb246IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb3NlTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGhtZEV1bGVyID0gdGhpcy5obWRFdWxlcjtcbiAgICAgICAgICAgIHZhciBvYmplY3QzRCA9IHRoaXMuZWwub2JqZWN0M0Q7XG4gICAgICAgICAgICB2YXIgcGl0Y2hPYmplY3QgPSB0aGlzLnBpdGNoT2JqZWN0O1xuICAgICAgICAgICAgdmFyIHlhd09iamVjdCA9IHRoaXMueWF3T2JqZWN0O1xuICAgICAgICAgICAgdmFyIHBvc2U7XG4gICAgICAgICAgICB2YXIgc2NlbmVFbCA9IHRoaXMuZWwuc2NlbmVFbDtcblxuICAgICAgICAgICAgLy8gV2ViWFIgQVBJIHVwZGF0ZXMgYXBwbGllcyBoZWFkc2V0IHBvc2UgdG8gdGhlIG9iamVjdDNEIG1hdHJpeFdvcmxkIGludGVybmFsbHkuXG4gICAgICAgICAgICAvLyBSZWZsZWN0IHZhbHVlcyBiYWNrIG9uIHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUgc28gc2V0QXR0cmlidXRlIHJldHVybnMgZXhwZWN0ZWQgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKHNjZW5lRWwuaXMoJ3ZyLW1vZGUnKSAmJiBzY2VuZUVsLmhhc1dlYlhSKSB7XG4gICAgICAgICAgICAgICAgcG9zZSA9IHNjZW5lRWwucmVuZGVyZXIudnIuZ2V0Q2FtZXJhUG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2VNYXRyaXguZWxlbWVudHMgPSBwb3NlLnBvc2VNb2RlbE1hdHJpeDtcbiAgICAgICAgICAgICAgICAgICAgcG9zZU1hdHJpeC5kZWNvbXBvc2Uob2JqZWN0M0QucG9zaXRpb24sIG9iamVjdDNELnJvdGF0aW9uLCBvYmplY3QzRC5zY2FsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmplY3QzRC51cGRhdGVNYXRyaXgoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW4gVlIgbW9kZSwgVEhSRUUgaXMgaW4gY2hhcmdlIG9mIHVwZGF0aW5nIHRoZSBjYW1lcmEgcm90YXRpb24uXG4gICAgICAgICAgICBpZiAoc2NlbmVFbC5pcygndnItbW9kZScpICYmIHNjZW5lRWwuY2hlY2tIZWFkc2V0Q29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcG9seWZpbGxlZCBITUQgcXVhdGVybmlvbi5cbiAgICAgICAgICAgIHRoaXMucG9seWZpbGxDb250cm9scy51cGRhdGUoKTtcbiAgICAgICAgICAgIGhtZEV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKHRoaXMucG9seWZpbGxPYmplY3QucXVhdGVybmlvbiwgJ1lYWicpO1xuXG4gICAgICAgICAgICAvLyBPbiBtb2JpbGUsIGRvIGNhbWVyYSByb3RhdGlvbiB3aXRoIHRvdWNoIGV2ZW50cyBhbmQgc2Vuc29ycy5cbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuZ3lyb0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBvYmplY3QzRC5yb3RhdGlvbi54ID0gaG1kRXVsZXIueCArIHBpdGNoT2JqZWN0LnJvdGF0aW9uLng7XG4gICAgICAgICAgICAgICAgb2JqZWN0M0Qucm90YXRpb24ueSA9IGhtZEV1bGVyLnkgKyB5YXdPYmplY3Qucm90YXRpb24ueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0M0Qucm90YXRpb24ueCA9IHBpdGNoT2JqZWN0LnJvdGF0aW9uLng7XG4gICAgICAgICAgICAgICAgb2JqZWN0M0Qucm90YXRpb24ueSA9IHlhd09iamVjdC5yb3RhdGlvbi55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG4gICAgfSkoKSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZSBtb3VzZSBkcmFnIGludG8gcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBEcmFnZ2luZyB1cCBhbmQgZG93biByb3RhdGVzIHRoZSBjYW1lcmEgYXJvdW5kIHRoZSBYLWF4aXMgKHlhdykuXG4gICAgICogRHJhZ2dpbmcgbGVmdCBhbmQgcmlnaHQgcm90YXRlcyB0aGUgY2FtZXJhIGFyb3VuZCB0aGUgWS1heGlzIChwaXRjaCkuXG4gICAgICovXG4gICAgb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uO1xuICAgICAgICB2YXIgbW92ZW1lbnRYO1xuICAgICAgICB2YXIgbW92ZW1lbnRZO1xuICAgICAgICB2YXIgcGl0Y2hPYmplY3QgPSB0aGlzLnBpdGNoT2JqZWN0O1xuICAgICAgICB2YXIgcHJldmlvdXNNb3VzZUV2ZW50ID0gdGhpcy5wcmV2aW91c01vdXNlRXZlbnQ7XG4gICAgICAgIHZhciB5YXdPYmplY3QgPSB0aGlzLnlhd09iamVjdDtcblxuICAgICAgICAvLyBOb3QgZHJhZ2dpbmcgb3Igbm90IGVuYWJsZWQuXG4gICAgICAgIGlmICghdGhpcy5kYXRhLmVuYWJsZWQgfHwgKCF0aGlzLm1vdXNlRG93biAmJiAhdGhpcy5wb2ludGVyTG9ja2VkKSkgeyByZXR1cm47IH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgZGVsdGEuXG4gICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrZWQpIHtcbiAgICAgICAgICAgIG1vdmVtZW50WCA9IGV2ZW50Lm1vdmVtZW50WCB8fCBldmVudC5tb3pNb3ZlbWVudFggfHwgMDtcbiAgICAgICAgICAgIG1vdmVtZW50WSA9IGV2ZW50Lm1vdmVtZW50WSB8fCBldmVudC5tb3pNb3ZlbWVudFkgfHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vdmVtZW50WCA9IGV2ZW50LnNjcmVlblggLSBwcmV2aW91c01vdXNlRXZlbnQuc2NyZWVuWDtcbiAgICAgICAgICAgIG1vdmVtZW50WSA9IGV2ZW50LnNjcmVlblkgLSBwcmV2aW91c01vdXNlRXZlbnQuc2NyZWVuWTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZpb3VzTW91c2VFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSByb3RhdGlvbi5cbiAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5kYXRhLnJldmVyc2VNb3VzZURyYWcgPyAxIDogLTE7XG4gICAgICAgIHlhd09iamVjdC5yb3RhdGlvbi55ICs9IG1vdmVtZW50WCAqIDAuMDAyICogZGlyZWN0aW9uO1xuICAgICAgICBwaXRjaE9iamVjdC5yb3RhdGlvbi54ICs9IG1vdmVtZW50WSAqIDAuMDAyICogZGlyZWN0aW9uO1xuICAgICAgICBwaXRjaE9iamVjdC5yb3RhdGlvbi54ID0gTWF0aC5tYXgoLVBJXzIsIE1hdGgubWluKFBJXzIsIHBpdGNoT2JqZWN0LnJvdGF0aW9uLngpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgbW91c2UgZG93biB0byBkZXRlY3QgbW91c2UgZHJhZy5cbiAgICAgKi9cbiAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAoIXRoaXMuZGF0YS5lbmFibGVkKSB7IHJldHVybjsgfVxuICAgICAgICAvLyBIYW5kbGUgb25seSBwcmltYXJ5IGJ1dHRvbi5cbiAgICAgICAgaWYgKGV2dC5idXR0b24gIT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHNjZW5lRWwgPSB0aGlzLmVsLnNjZW5lRWw7XG4gICAgICAgIHZhciBjYW52YXNFbCA9IHNjZW5lRWwgJiYgc2NlbmVFbC5jYW52YXM7XG5cbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLnByZXZpb3VzTW91c2VFdmVudCA9IGV2dDtcbiAgICAgICAgdGhpcy5zaG93R3JhYmJpbmdDdXJzb3IoKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLnBvaW50ZXJMb2NrRW5hYmxlZCAmJiAhdGhpcy5wb2ludGVyTG9ja2VkKSB7XG4gICAgICAgICAgICBpZiAoY2FudmFzRWwucmVxdWVzdFBvaW50ZXJMb2NrKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhbnZhc0VsLm1velJlcXVlc3RQb2ludGVyTG9jaykge1xuICAgICAgICAgICAgICAgIGNhbnZhc0VsLm1velJlcXVlc3RQb2ludGVyTG9jaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNob3dzIGdyYWJiaW5nIGN1cnNvciBvbiBzY2VuZVxuICAgICAqL1xuICAgIHNob3dHcmFiYmluZ0N1cnNvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsLnNjZW5lRWwuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhpZGVzIGdyYWJiaW5nIGN1cnNvciBvbiBzY2VuZVxuICAgICAqL1xuICAgIGhpZGVHcmFiYmluZ0N1cnNvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsLnNjZW5lRWwuY2FudmFzLnN0eWxlLmN1cnNvciA9ICcnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBtb3VzZSB1cCB0byBkZXRlY3QgcmVsZWFzZSBvZiBtb3VzZSBkcmFnLlxuICAgICAqL1xuICAgIG9uTW91c2VVcDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVHcmFiYmluZ0N1cnNvcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0b3VjaCBkb3duIHRvIGRldGVjdCB0b3VjaCBkcmFnLlxuICAgICAqL1xuICAgIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LnRvdWNoZXMubGVuZ3RoICE9PSAxIHx8ICF0aGlzLmRhdGEudG91Y2hFbmFibGVkKSB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLnRvdWNoU3RhcnQgPSB7XG4gICAgICAgICAgICB4OiBldnQudG91Y2hlc1swXS5wYWdlWCxcbiAgICAgICAgICAgIHk6IGV2dC50b3VjaGVzWzBdLnBhZ2VZXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudG91Y2hTdGFydGVkID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIHRvdWNoIG1vdmUgdG8gWS1heGlzIHJvdGF0aW9uLlxuICAgICAqL1xuICAgIG9uVG91Y2hNb3ZlOiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb247XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmVsLnNjZW5lRWwuY2FudmFzO1xuICAgICAgICB2YXIgZGVsdGFZO1xuICAgICAgICB2YXIgeWF3T2JqZWN0ID0gdGhpcy55YXdPYmplY3Q7XG4gICAgICAgIHZhciBwaXRjaE9iamVjdCA9IHRoaXMucGl0Y2hPYmplY3Q7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRvdWNoU3RhcnRlZCB8fCAhdGhpcy5kYXRhLnRvdWNoRW5hYmxlZCkgeyByZXR1cm47IH1cblxuICAgICAgICBkZWx0YVkgPSAyICogTWF0aC5QSSAqIChldnQudG91Y2hlc1swXS5wYWdlWCAtIHRoaXMudG91Y2hTdGFydC54KSAvIGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICAgICAgZGVsdGFYID0gMiAqIE1hdGguUEkgKiAoZXZ0LnRvdWNoZXNbMF0ucGFnZVkgLSB0aGlzLnRvdWNoU3RhcnQueSkgLyB0aGlzLmVsLnNjZW5lRWwuY2FudmFzLmNsaWVudEhlaWdodDtcblxuICAgICAgICBkaXJlY3Rpb24gPSB0aGlzLmRhdGEucmV2ZXJzZVRvdWNoRHJhZyA/IDEgOiAtMTtcbiAgICAgICAgeWF3T2JqZWN0LnJvdGF0aW9uLnkgLT0gZGVsdGFZICogMC41ICogZGlyZWN0aW9uO1xuICAgICAgICBwaXRjaE9iamVjdC5yb3RhdGlvbi54IC09IGRlbHRhWCAqIDAuNSAqIGRpcmVjdGlvbjtcbiAgICAgICAgdGhpcy50b3VjaFN0YXJ0ID0ge1xuICAgICAgICAgICAgeDogZXZ0LnRvdWNoZXNbMF0ucGFnZVgsXG4gICAgICAgICAgICB5OiBldnQudG91Y2hlc1swXS5wYWdlWVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0b3VjaCBlbmQgdG8gZGV0ZWN0IHJlbGVhc2Ugb2YgdG91Y2ggZHJhZy5cbiAgICAgKi9cbiAgICBvblRvdWNoRW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudG91Y2hTdGFydGVkID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNhdmUgcG9zZS5cbiAgICAgKi9cbiAgICBvbkVudGVyVlI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsLnNjZW5lRWwuY2hlY2tIZWFkc2V0Q29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMuc2F2ZUNhbWVyYVBvc2UoKTtcbiAgICAgICAgdGhpcy5lbC5vYmplY3QzRC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgIHRoaXMuZWwub2JqZWN0M0QudXBkYXRlTWF0cml4KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmUgdGhlIHBvc2UuXG4gICAgICovXG4gICAgb25FeGl0VlI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsLnNjZW5lRWwuY2hlY2tIZWFkc2V0Q29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMucmVzdG9yZUNhbWVyYVBvc2UoKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c0hNRFBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIFBvaW50ZXIgTG9jayBzdGF0ZS5cbiAgICAgKi9cbiAgICBvblBvaW50ZXJMb2NrQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9pbnRlckxvY2tlZCA9ICEhKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCB8fCBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWNvdmVyIGZyb20gUG9pbnRlciBMb2NrIGVycm9yLlxuICAgICAqL1xuICAgIG9uUG9pbnRlckxvY2tFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBvaW50ZXJMb2NrZWQgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gRXhpdHMgcG9pbnRlci1sb2NrZWQgbW9kZS5cbiAgICBleGl0UG9pbnRlckxvY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCk7XG4gICAgICAgIHRoaXMucG9pbnRlckxvY2tlZCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIGZlYXR1cmUgb2Ygc2hvd2luZy9oaWRpbmcgdGhlIGdyYWIgY3Vyc29yLlxuICAgICAqL1xuICAgIHVwZGF0ZUdyYWJDdXJzb3I6IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHZhciBzY2VuZUVsID0gdGhpcy5lbC5zY2VuZUVsO1xuXG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZUdyYWJDdXJzb3IoKSB7IHNjZW5lRWwuY2FudmFzLmNsYXNzTGlzdC5hZGQoJ2EtZ3JhYi1jdXJzb3InKTsgfVxuICAgICAgICBmdW5jdGlvbiBkaXNhYmxlR3JhYkN1cnNvcigpIHsgc2NlbmVFbC5jYW52YXMuY2xhc3NMaXN0LnJlbW92ZSgnYS1ncmFiLWN1cnNvcicpOyB9XG5cbiAgICAgICAgaWYgKCFzY2VuZUVsLmNhbnZhcykge1xuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBzY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbmRlci10YXJnZXQtbG9hZGVkJywgZW5hYmxlR3JhYkN1cnNvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjZW5lRWwuYWRkRXZlbnRMaXN0ZW5lcigncmVuZGVyLXRhcmdldC1sb2FkZWQnLCBkaXNhYmxlR3JhYkN1cnNvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgZW5hYmxlR3JhYkN1cnNvcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRpc2FibGVHcmFiQ3Vyc29yKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNhdmUgY2FtZXJhIHBvc2UgYmVmb3JlIGVudGVyaW5nIFZSIHRvIHJlc3RvcmUgbGF0ZXIgaWYgZXhpdGluZy5cbiAgICAgKi9cbiAgICBzYXZlQ2FtZXJhUG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXG4gICAgICAgIHRoaXMuc2F2ZWRQb3NlLnBvc2l0aW9uLmNvcHkoZWwub2JqZWN0M0QucG9zaXRpb24pO1xuICAgICAgICB0aGlzLnNhdmVkUG9zZS5yb3RhdGlvbi5jb3B5KGVsLm9iamVjdDNELnJvdGF0aW9uKTtcbiAgICAgICAgdGhpcy5oYXNTYXZlZFBvc2UgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBjYW1lcmEgcG9zZSB0byBiZWZvcmUgZW50ZXJpbmcgVlIuXG4gICAgICovXG4gICAgcmVzdG9yZUNhbWVyYVBvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNhdmVkUG9zZSA9IHRoaXMuc2F2ZWRQb3NlO1xuXG4gICAgICAgIGlmICghdGhpcy5oYXNTYXZlZFBvc2UpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8gUmVzZXQgY2FtZXJhIG9yaWVudGF0aW9uLlxuICAgICAgICBlbC5vYmplY3QzRC5wb3NpdGlvbi5jb3B5KHNhdmVkUG9zZS5wb3NpdGlvbik7XG4gICAgICAgIGVsLm9iamVjdDNELnJvdGF0aW9uLmNvcHkoc2F2ZWRQb3NlLnJvdGF0aW9uKTtcbiAgICAgICAgdGhpcy5oYXNTYXZlZFBvc2UgPSBmYWxzZTtcbiAgICB9XG59KTsiLCIvKipcclxuICogTXkgY3VzdG9tIGdsVEYgbW9kZWwgbG9hZGVyLlxyXG4gKi9cclxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdteS1nbHRmLW1vZGVsJywge1xyXG4gICAgc2NoZW1hOiB7dHlwZTogJ21vZGVsJ30sXHJcbiAgXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBkcmFjb0xvYWRlciA9IG5ldyBUSFJFRS5EUkFDT0xvYWRlcjtcclxuICAgICAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgoIFwiLi4vZHJhY28vXCIgKTtcclxuICAgICAgdGhpcy5tb2RlbCA9IG51bGw7XHJcbiAgICAgIHRoaXMubG9hZGVyID0gbmV3IFRIUkVFLkdMVEZMb2FkZXIoKTtcclxuICAgICAgaWYgKGRyYWNvTG9hZGVyKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIuc2V0RFJBQ09Mb2FkZXIoZHJhY29Mb2FkZXIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIFxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGVsID0gdGhpcy5lbDtcclxuICAgICAgdmFyIHNyYyA9IHRoaXMuZGF0YTtcclxuICBcclxuICAgICAgaWYgKCFzcmMpIHsgcmV0dXJuOyB9XHJcbiAgXHJcbiAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgXHJcbiAgICAgIHRoaXMubG9hZGVyLmxvYWQoc3JjLCBcclxuICAgICAgICBmdW5jdGlvbiBnbHRmTG9hZGVkIChnbHRmTW9kZWwpIHtcclxuICAgICAgICAgICAgc2VsZi5tb2RlbCA9IGdsdGZNb2RlbC5zY2VuZSB8fCBnbHRmTW9kZWwuc2NlbmVzWzBdO1xyXG4gICAgICAgICAgICBzZWxmLm1vZGVsLmFuaW1hdGlvbnMgPSBnbHRmTW9kZWwuYW5pbWF0aW9ucztcclxuICAgICAgICAgICAgZWwuc2V0T2JqZWN0M0QoJ21lc2gnLCBzZWxmLm1vZGVsKTtcclxuICAgICAgICAgICAgZWwuZW1pdCgnbW9kZWwtbG9hZGVkJywge2Zvcm1hdDogJ2dsdGYnLCBtb2RlbDogc2VsZi5tb2RlbH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBmdW5jdGlvbiAoeGhyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJIZWxsb1wiKTtcclxuICAgICAgICBlbC5lbWl0KFwibW9kZWwtcHJvZ3Jlc3NcIiwge3Byb2dyZXNzOiAoIHhoci5sb2FkZWQgLyB4aHIudG90YWwgKiAxMDAgKSB9KVxyXG4gICAgIH0sXHJcbiAgICAgZnVuY3Rpb24gZ2x0ZkZhaWxlZCAoZXJyb3IpIHtcclxuICAgICAgICB2YXIgbWVzc2FnZSA9IChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGxvYWQgZ2xURiBtb2RlbCc7XHJcbiAgICAgICAgZWwuZW1pdCgnbW9kZWwtZXJyb3InLCB7Zm9ybWF0OiAnZ2x0ZicsIHNyYzogc3JjfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICBcclxuICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoIXRoaXMubW9kZWwpIHsgcmV0dXJuOyB9XHJcbiAgICAgIHRoaXMuZWwucmVtb3ZlT2JqZWN0M0QoJ21lc2gnKTtcclxuICAgIH1cclxuICB9KTsiLCIoZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pe3JldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzfXZhciBtb2R1bGU9aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF09e2k6bW9kdWxlSWQsbDpmYWxzZSxleHBvcnRzOnt9fTttb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKTttb2R1bGUubD10cnVlO3JldHVybiBtb2R1bGUuZXhwb3J0c31fX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcztfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcztfX3dlYnBhY2tfcmVxdWlyZV9fLmk9ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZX07X193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe2lmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cyxuYW1lKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsbmFtZSx7Y29uZmlndXJhYmxlOmZhbHNlLGVudW1lcmFibGU6dHJ1ZSxnZXQ6Z2V0dGVyfSl9fTtfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpe3JldHVybiBtb2R1bGVbXCJkZWZhdWx0XCJdfTpmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCl7cmV0dXJuIG1vZHVsZX07X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlcixcImFcIixnZXR0ZXIpO3JldHVybiBnZXR0ZXJ9O19fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX07X193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCI7cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTEpfSkoW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtUSFJFRS5PcmJpdENvbnRyb2xzPWZ1bmN0aW9uKG9iamVjdCxkb21FbGVtZW50KXt0aGlzLm9iamVjdD1vYmplY3Q7dGhpcy5kb21FbGVtZW50PWRvbUVsZW1lbnQhPT11bmRlZmluZWQ/ZG9tRWxlbWVudDpkb2N1bWVudDt0aGlzLmVuYWJsZWQ9dHJ1ZTt0aGlzLnRhcmdldD1uZXcgVEhSRUUuVmVjdG9yMzt0aGlzLm1pbkRpc3RhbmNlPTA7dGhpcy5tYXhEaXN0YW5jZT1JbmZpbml0eTt0aGlzLm1pblpvb209MDt0aGlzLm1heFpvb209SW5maW5pdHk7dGhpcy5taW5Qb2xhckFuZ2xlPTA7dGhpcy5tYXhQb2xhckFuZ2xlPU1hdGguUEk7dGhpcy5taW5BemltdXRoQW5nbGU9LUluZmluaXR5O3RoaXMubWF4QXppbXV0aEFuZ2xlPUluZmluaXR5O3RoaXMuZW5hYmxlRGFtcGluZz1mYWxzZTt0aGlzLmRhbXBpbmdGYWN0b3I9LjI1O3RoaXMuZW5hYmxlWm9vbT10cnVlO3RoaXMuem9vbVNwZWVkPTE7dGhpcy5lbmFibGVSb3RhdGU9dHJ1ZTt0aGlzLnJvdGF0ZVNwZWVkPTE7dGhpcy5lbmFibGVQYW49dHJ1ZTt0aGlzLmtleVBhblNwZWVkPTc7dGhpcy5hdXRvUm90YXRlPWZhbHNlO3RoaXMuYXV0b1JvdGF0ZVNwZWVkPTI7dGhpcy5lbmFibGVLZXlzPXRydWU7dGhpcy5rZXlzPXtMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LEJPVFRPTTo0MH07dGhpcy5tb3VzZUJ1dHRvbnM9e09SQklUOlRIUkVFLk1PVVNFLkxFRlQsWk9PTTpUSFJFRS5NT1VTRS5NSURETEUsUEFOOlRIUkVFLk1PVVNFLlJJR0hUfTt0aGlzLnRhcmdldDA9dGhpcy50YXJnZXQuY2xvbmUoKTt0aGlzLnBvc2l0aW9uMD10aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO3RoaXMuem9vbTA9dGhpcy5vYmplY3Quem9vbTt0aGlzLmdldFBvbGFyQW5nbGU9ZnVuY3Rpb24oKXtyZXR1cm4gc3BoZXJpY2FsLnBoaX07dGhpcy5nZXRBemltdXRoYWxBbmdsZT1mdW5jdGlvbigpe3JldHVybiBzcGhlcmljYWwudGhldGF9O3RoaXMuc2F2ZVN0YXRlPWZ1bmN0aW9uKCl7c2NvcGUudGFyZ2V0MC5jb3B5KHNjb3BlLnRhcmdldCk7c2NvcGUucG9zaXRpb24wLmNvcHkoc2NvcGUub2JqZWN0LnBvc2l0aW9uKTtzY29wZS56b29tMD1zY29wZS5vYmplY3Quem9vbX07dGhpcy5yZXNldD1mdW5jdGlvbigpe3Njb3BlLnRhcmdldC5jb3B5KHNjb3BlLnRhcmdldDApO3Njb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KHNjb3BlLnBvc2l0aW9uMCk7c2NvcGUub2JqZWN0Lnpvb209c2NvcGUuem9vbTA7c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtzY29wZS5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtzY29wZS51cGRhdGUoKTtzdGF0ZT1TVEFURS5OT05FfTt0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBvZmZzZXQ9bmV3IFRIUkVFLlZlY3RvcjM7dmFyIHF1YXQ9KG5ldyBUSFJFRS5RdWF0ZXJuaW9uKS5zZXRGcm9tVW5pdFZlY3RvcnMob2JqZWN0LnVwLG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSk7dmFyIHF1YXRJbnZlcnNlPXF1YXQuY2xvbmUoKS5pbnZlcnNlKCk7dmFyIGxhc3RQb3NpdGlvbj1uZXcgVEhSRUUuVmVjdG9yMzt2YXIgbGFzdFF1YXRlcm5pb249bmV3IFRIUkVFLlF1YXRlcm5pb247cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBwb3NpdGlvbj1zY29wZS5vYmplY3QucG9zaXRpb247b2Zmc2V0LmNvcHkocG9zaXRpb24pLnN1YihzY29wZS50YXJnZXQpO29mZnNldC5hcHBseVF1YXRlcm5pb24ocXVhdCk7c3BoZXJpY2FsLnNldEZyb21WZWN0b3IzKG9mZnNldCk7aWYoc2NvcGUuYXV0b1JvdGF0ZSYmc3RhdGU9PT1TVEFURS5OT05FKXtyb3RhdGVMZWZ0KGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkpfXNwaGVyaWNhbC50aGV0YSs9c3BoZXJpY2FsRGVsdGEudGhldGE7c3BoZXJpY2FsLnBoaSs9c3BoZXJpY2FsRGVsdGEucGhpO3NwaGVyaWNhbC50aGV0YT1NYXRoLm1heChzY29wZS5taW5BemltdXRoQW5nbGUsTWF0aC5taW4oc2NvcGUubWF4QXppbXV0aEFuZ2xlLHNwaGVyaWNhbC50aGV0YSkpO3NwaGVyaWNhbC5waGk9TWF0aC5tYXgoc2NvcGUubWluUG9sYXJBbmdsZSxNYXRoLm1pbihzY29wZS5tYXhQb2xhckFuZ2xlLHNwaGVyaWNhbC5waGkpKTtzcGhlcmljYWwubWFrZVNhZmUoKTtzcGhlcmljYWwucmFkaXVzKj1zY2FsZTtzcGhlcmljYWwucmFkaXVzPU1hdGgubWF4KHNjb3BlLm1pbkRpc3RhbmNlLE1hdGgubWluKHNjb3BlLm1heERpc3RhbmNlLHNwaGVyaWNhbC5yYWRpdXMpKTtzY29wZS50YXJnZXQuYWRkKHBhbk9mZnNldCk7b2Zmc2V0LnNldEZyb21TcGhlcmljYWwoc3BoZXJpY2FsKTtvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKHF1YXRJbnZlcnNlKTtwb3NpdGlvbi5jb3B5KHNjb3BlLnRhcmdldCkuYWRkKG9mZnNldCk7c2NvcGUub2JqZWN0Lmxvb2tBdChzY29wZS50YXJnZXQpO2lmKHNjb3BlLmVuYWJsZURhbXBpbmc9PT10cnVlKXtzcGhlcmljYWxEZWx0YS50aGV0YSo9MS1zY29wZS5kYW1waW5nRmFjdG9yO3NwaGVyaWNhbERlbHRhLnBoaSo9MS1zY29wZS5kYW1waW5nRmFjdG9yfWVsc2V7c3BoZXJpY2FsRGVsdGEuc2V0KDAsMCwwKX1zY2FsZT0xO3Bhbk9mZnNldC5zZXQoMCwwLDApO2lmKHpvb21DaGFuZ2VkfHxsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoc2NvcGUub2JqZWN0LnBvc2l0aW9uKT5FUFN8fDgqKDEtbGFzdFF1YXRlcm5pb24uZG90KHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uKSk+RVBTKXtzY29wZS5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtsYXN0UG9zaXRpb24uY29weShzY29wZS5vYmplY3QucG9zaXRpb24pO2xhc3RRdWF0ZXJuaW9uLmNvcHkoc2NvcGUub2JqZWN0LnF1YXRlcm5pb24pO3pvb21DaGFuZ2VkPWZhbHNlO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX19KCk7dGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixvbkNvbnRleHRNZW51LGZhbHNlKTtzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixvbk1vdXNlRG93bixmYWxzZSk7c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIixvbk1vdXNlV2hlZWwsZmFsc2UpO3Njb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixvblRvdWNoU3RhcnQsZmFsc2UpO3Njb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsb25Ub3VjaEVuZCxmYWxzZSk7c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsb25Ub3VjaE1vdmUsZmFsc2UpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixvbk1vdXNlTW92ZSxmYWxzZSk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixvbk1vdXNlVXAsZmFsc2UpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLG9uS2V5RG93bixmYWxzZSl9O3ZhciBzY29wZT10aGlzO3ZhciBjaGFuZ2VFdmVudD17dHlwZTpcImNoYW5nZVwifTt2YXIgc3RhcnRFdmVudD17dHlwZTpcInN0YXJ0XCJ9O3ZhciBlbmRFdmVudD17dHlwZTpcImVuZFwifTt2YXIgU1RBVEU9e05PTkU6LTEsUk9UQVRFOjAsRE9MTFk6MSxQQU46MixUT1VDSF9ST1RBVEU6MyxUT1VDSF9ET0xMWTo0LFRPVUNIX1BBTjo1fTt2YXIgc3RhdGU9U1RBVEUuTk9ORTt2YXIgRVBTPTFlLTY7dmFyIHNwaGVyaWNhbD1uZXcgVEhSRUUuU3BoZXJpY2FsO3ZhciBzcGhlcmljYWxEZWx0YT1uZXcgVEhSRUUuU3BoZXJpY2FsO3ZhciBzY2FsZT0xO3ZhciBwYW5PZmZzZXQ9bmV3IFRIUkVFLlZlY3RvcjM7dmFyIHpvb21DaGFuZ2VkPWZhbHNlO3ZhciByb3RhdGVTdGFydD1uZXcgVEhSRUUuVmVjdG9yMjt2YXIgcm90YXRlRW5kPW5ldyBUSFJFRS5WZWN0b3IyO3ZhciByb3RhdGVEZWx0YT1uZXcgVEhSRUUuVmVjdG9yMjt2YXIgcGFuU3RhcnQ9bmV3IFRIUkVFLlZlY3RvcjI7dmFyIHBhbkVuZD1uZXcgVEhSRUUuVmVjdG9yMjt2YXIgcGFuRGVsdGE9bmV3IFRIUkVFLlZlY3RvcjI7dmFyIGRvbGx5U3RhcnQ9bmV3IFRIUkVFLlZlY3RvcjI7dmFyIGRvbGx5RW5kPW5ldyBUSFJFRS5WZWN0b3IyO3ZhciBkb2xseURlbHRhPW5ldyBUSFJFRS5WZWN0b3IyO2Z1bmN0aW9uIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCl7cmV0dXJuIDIqTWF0aC5QSS82MC82MCpzY29wZS5hdXRvUm90YXRlU3BlZWR9ZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCl7cmV0dXJuIE1hdGgucG93KC45NSxzY29wZS56b29tU3BlZWQpfWZ1bmN0aW9uIHJvdGF0ZUxlZnQoYW5nbGUpe3NwaGVyaWNhbERlbHRhLnRoZXRhLT1hbmdsZX1mdW5jdGlvbiByb3RhdGVVcChhbmdsZSl7c3BoZXJpY2FsRGVsdGEucGhpLT1hbmdsZX12YXIgcGFuTGVmdD1mdW5jdGlvbigpe3ZhciB2PW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbiBwYW5MZWZ0KGRpc3RhbmNlLG9iamVjdE1hdHJpeCl7di5zZXRGcm9tTWF0cml4Q29sdW1uKG9iamVjdE1hdHJpeCwwKTt2Lm11bHRpcGx5U2NhbGFyKC1kaXN0YW5jZSk7cGFuT2Zmc2V0LmFkZCh2KX19KCk7dmFyIHBhblVwPWZ1bmN0aW9uKCl7dmFyIHY9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uIHBhblVwKGRpc3RhbmNlLG9iamVjdE1hdHJpeCl7di5zZXRGcm9tTWF0cml4Q29sdW1uKG9iamVjdE1hdHJpeCwxKTt2Lm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKTtwYW5PZmZzZXQuYWRkKHYpfX0oKTt2YXIgcGFuPWZ1bmN0aW9uKCl7dmFyIG9mZnNldD1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24gcGFuKGRlbHRhWCxkZWx0YVkpe3ZhciBlbGVtZW50PXNjb3BlLmRvbUVsZW1lbnQ9PT1kb2N1bWVudD9zY29wZS5kb21FbGVtZW50LmJvZHk6c2NvcGUuZG9tRWxlbWVudDtpZihzY29wZS5vYmplY3QuaXNQZXJzcGVjdGl2ZUNhbWVyYSl7dmFyIHBvc2l0aW9uPXNjb3BlLm9iamVjdC5wb3NpdGlvbjtvZmZzZXQuY29weShwb3NpdGlvbikuc3ViKHNjb3BlLnRhcmdldCk7dmFyIHRhcmdldERpc3RhbmNlPW9mZnNldC5sZW5ndGgoKTt0YXJnZXREaXN0YW5jZSo9TWF0aC50YW4oc2NvcGUub2JqZWN0LmZvdi8yKk1hdGguUEkvMTgwKTtwYW5MZWZ0KDIqZGVsdGFYKnRhcmdldERpc3RhbmNlL2VsZW1lbnQuY2xpZW50SGVpZ2h0LHNjb3BlLm9iamVjdC5tYXRyaXgpO3BhblVwKDIqZGVsdGFZKnRhcmdldERpc3RhbmNlL2VsZW1lbnQuY2xpZW50SGVpZ2h0LHNjb3BlLm9iamVjdC5tYXRyaXgpfWVsc2UgaWYoc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhKXtwYW5MZWZ0KGRlbHRhWCooc2NvcGUub2JqZWN0LnJpZ2h0LXNjb3BlLm9iamVjdC5sZWZ0KS9zY29wZS5vYmplY3Quem9vbS9lbGVtZW50LmNsaWVudFdpZHRoLHNjb3BlLm9iamVjdC5tYXRyaXgpO3BhblVwKGRlbHRhWSooc2NvcGUub2JqZWN0LnRvcC1zY29wZS5vYmplY3QuYm90dG9tKS9zY29wZS5vYmplY3Quem9vbS9lbGVtZW50LmNsaWVudEhlaWdodCxzY29wZS5vYmplY3QubWF0cml4KX1lbHNle2NvbnNvbGUud2FybihcIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC5cIik7c2NvcGUuZW5hYmxlUGFuPWZhbHNlfX19KCk7ZnVuY3Rpb24gZG9sbHlJbihkb2xseVNjYWxlKXtpZihzY29wZS5vYmplY3QuaXNQZXJzcGVjdGl2ZUNhbWVyYSl7c2NhbGUvPWRvbGx5U2NhbGV9ZWxzZSBpZihzY29wZS5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmEpe3Njb3BlLm9iamVjdC56b29tPU1hdGgubWF4KHNjb3BlLm1pblpvb20sTWF0aC5taW4oc2NvcGUubWF4Wm9vbSxzY29wZS5vYmplY3Quem9vbSpkb2xseVNjYWxlKSk7c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt6b29tQ2hhbmdlZD10cnVlfWVsc2V7Y29uc29sZS53YXJuKFwiV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC5cIik7c2NvcGUuZW5hYmxlWm9vbT1mYWxzZX19ZnVuY3Rpb24gZG9sbHlPdXQoZG9sbHlTY2FsZSl7aWYoc2NvcGUub2JqZWN0LmlzUGVyc3BlY3RpdmVDYW1lcmEpe3NjYWxlKj1kb2xseVNjYWxlfWVsc2UgaWYoc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhKXtzY29wZS5vYmplY3Quem9vbT1NYXRoLm1heChzY29wZS5taW5ab29tLE1hdGgubWluKHNjb3BlLm1heFpvb20sc2NvcGUub2JqZWN0Lnpvb20vZG9sbHlTY2FsZSkpO3Njb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7em9vbUNoYW5nZWQ9dHJ1ZX1lbHNle2NvbnNvbGUud2FybihcIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuXCIpO3Njb3BlLmVuYWJsZVpvb209ZmFsc2V9fWZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93blJvdGF0ZShldmVudCl7cm90YXRlU3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsZXZlbnQuY2xpZW50WSl9ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duRG9sbHkoZXZlbnQpe2RvbGx5U3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsZXZlbnQuY2xpZW50WSl9ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUGFuKGV2ZW50KXtwYW5TdGFydC5zZXQoZXZlbnQuY2xpZW50WCxldmVudC5jbGllbnRZKX1mdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoZXZlbnQpe3JvdGF0ZUVuZC5zZXQoZXZlbnQuY2xpZW50WCxldmVudC5jbGllbnRZKTtyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKHJvdGF0ZUVuZCxyb3RhdGVTdGFydCk7dmFyIGVsZW1lbnQ9c2NvcGUuZG9tRWxlbWVudD09PWRvY3VtZW50P3Njb3BlLmRvbUVsZW1lbnQuYm9keTpzY29wZS5kb21FbGVtZW50O3JvdGF0ZUxlZnQoMipNYXRoLlBJKnJvdGF0ZURlbHRhLngvZWxlbWVudC5jbGllbnRXaWR0aCpzY29wZS5yb3RhdGVTcGVlZCk7cm90YXRlVXAoMipNYXRoLlBJKnJvdGF0ZURlbHRhLnkvZWxlbWVudC5jbGllbnRIZWlnaHQqc2NvcGUucm90YXRlU3BlZWQpO3JvdGF0ZVN0YXJ0LmNvcHkocm90YXRlRW5kKTtzY29wZS51cGRhdGUoKX1mdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVEb2xseShldmVudCl7ZG9sbHlFbmQuc2V0KGV2ZW50LmNsaWVudFgsZXZlbnQuY2xpZW50WSk7ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKGRvbGx5RW5kLGRvbGx5U3RhcnQpO2lmKGRvbGx5RGVsdGEueT4wKXtkb2xseUluKGdldFpvb21TY2FsZSgpKX1lbHNlIGlmKGRvbGx5RGVsdGEueTwwKXtkb2xseU91dChnZXRab29tU2NhbGUoKSl9ZG9sbHlTdGFydC5jb3B5KGRvbGx5RW5kKTtzY29wZS51cGRhdGUoKX1mdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVQYW4oZXZlbnQpe3BhbkVuZC5zZXQoZXZlbnQuY2xpZW50WCxldmVudC5jbGllbnRZKTtwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCxwYW5TdGFydCk7cGFuKHBhbkRlbHRhLngscGFuRGVsdGEueSk7cGFuU3RhcnQuY29weShwYW5FbmQpO3Njb3BlLnVwZGF0ZSgpfWZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQpe31mdW5jdGlvbiBoYW5kbGVNb3VzZVdoZWVsKGV2ZW50KXtpZihldmVudC5kZWx0YVk8MCl7ZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpfWVsc2UgaWYoZXZlbnQuZGVsdGFZPjApe2RvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpfXNjb3BlLnVwZGF0ZSgpfWZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpe3N3aXRjaChldmVudC5rZXlDb2RlKXtjYXNlIHNjb3BlLmtleXMuVVA6cGFuKDAsc2NvcGUua2V5UGFuU3BlZWQpO3Njb3BlLnVwZGF0ZSgpO2JyZWFrO2Nhc2Ugc2NvcGUua2V5cy5CT1RUT006cGFuKDAsLXNjb3BlLmtleVBhblNwZWVkKTtzY29wZS51cGRhdGUoKTticmVhaztjYXNlIHNjb3BlLmtleXMuTEVGVDpwYW4oc2NvcGUua2V5UGFuU3BlZWQsMCk7c2NvcGUudXBkYXRlKCk7YnJlYWs7Y2FzZSBzY29wZS5rZXlzLlJJR0hUOnBhbigtc2NvcGUua2V5UGFuU3BlZWQsMCk7c2NvcGUudXBkYXRlKCk7YnJlYWt9fWZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoZXZlbnQpe3JvdGF0ZVN0YXJ0LnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpfWZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseShldmVudCl7dmFyIGR4PWV2ZW50LnRvdWNoZXNbMF0ucGFnZVgtZXZlbnQudG91Y2hlc1sxXS5wYWdlWDt2YXIgZHk9ZXZlbnQudG91Y2hlc1swXS5wYWdlWS1ldmVudC50b3VjaGVzWzFdLnBhZ2VZO3ZhciBkaXN0YW5jZT1NYXRoLnNxcnQoZHgqZHgrZHkqZHkpO2RvbGx5U3RhcnQuc2V0KDAsZGlzdGFuY2UpfWZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRQYW4oZXZlbnQpe3BhblN0YXJ0LnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpfWZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZShldmVudCl7cm90YXRlRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO3JvdGF0ZURlbHRhLnN1YlZlY3RvcnMocm90YXRlRW5kLHJvdGF0ZVN0YXJ0KTt2YXIgZWxlbWVudD1zY29wZS5kb21FbGVtZW50PT09ZG9jdW1lbnQ/c2NvcGUuZG9tRWxlbWVudC5ib2R5OnNjb3BlLmRvbUVsZW1lbnQ7cm90YXRlTGVmdCgyKk1hdGguUEkqcm90YXRlRGVsdGEueC9lbGVtZW50LmNsaWVudFdpZHRoKnNjb3BlLnJvdGF0ZVNwZWVkKTtyb3RhdGVVcCgyKk1hdGguUEkqcm90YXRlRGVsdGEueS9lbGVtZW50LmNsaWVudEhlaWdodCpzY29wZS5yb3RhdGVTcGVlZCk7cm90YXRlU3RhcnQuY29weShyb3RhdGVFbmQpO3Njb3BlLnVwZGF0ZSgpfWZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZURvbGx5KGV2ZW50KXt2YXIgZHg9ZXZlbnQudG91Y2hlc1swXS5wYWdlWC1ldmVudC50b3VjaGVzWzFdLnBhZ2VYO3ZhciBkeT1ldmVudC50b3VjaGVzWzBdLnBhZ2VZLWV2ZW50LnRvdWNoZXNbMV0ucGFnZVk7dmFyIGRpc3RhbmNlPU1hdGguc3FydChkeCpkeCtkeSpkeSk7ZG9sbHlFbmQuc2V0KDAsZGlzdGFuY2UpO2RvbGx5RGVsdGEuc3ViVmVjdG9ycyhkb2xseUVuZCxkb2xseVN0YXJ0KTtpZihkb2xseURlbHRhLnk+MCl7ZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpfWVsc2UgaWYoZG9sbHlEZWx0YS55PDApe2RvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpfWRvbGx5U3RhcnQuY29weShkb2xseUVuZCk7c2NvcGUudXBkYXRlKCl9ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUGFuKGV2ZW50KXtwYW5FbmQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7cGFuRGVsdGEuc3ViVmVjdG9ycyhwYW5FbmQscGFuU3RhcnQpO3BhbihwYW5EZWx0YS54LHBhbkRlbHRhLnkpO3BhblN0YXJ0LmNvcHkocGFuRW5kKTtzY29wZS51cGRhdGUoKX1mdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCl7fWZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KXtpZihzY29wZS5lbmFibGVkPT09ZmFsc2UpcmV0dXJuO2V2ZW50LnByZXZlbnREZWZhdWx0KCk7c3dpdGNoKGV2ZW50LmJ1dHRvbil7Y2FzZSBzY29wZS5tb3VzZUJ1dHRvbnMuT1JCSVQ6aWYoc2NvcGUuZW5hYmxlUm90YXRlPT09ZmFsc2UpcmV0dXJuO2hhbmRsZU1vdXNlRG93blJvdGF0ZShldmVudCk7c3RhdGU9U1RBVEUuUk9UQVRFO2JyZWFrO2Nhc2Ugc2NvcGUubW91c2VCdXR0b25zLlpPT006aWYoc2NvcGUuZW5hYmxlWm9vbT09PWZhbHNlKXJldHVybjtoYW5kbGVNb3VzZURvd25Eb2xseShldmVudCk7c3RhdGU9U1RBVEUuRE9MTFk7YnJlYWs7Y2FzZSBzY29wZS5tb3VzZUJ1dHRvbnMuUEFOOmlmKHNjb3BlLmVuYWJsZVBhbj09PWZhbHNlKXJldHVybjtoYW5kbGVNb3VzZURvd25QYW4oZXZlbnQpO3N0YXRlPVNUQVRFLlBBTjticmVha31pZihzdGF0ZSE9PVNUQVRFLk5PTkUpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixvbk1vdXNlTW92ZSxmYWxzZSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixvbk1vdXNlVXAsZmFsc2UpO3Njb3BlLmRpc3BhdGNoRXZlbnQoc3RhcnRFdmVudCl9fWZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2ZW50KXtpZihzY29wZS5lbmFibGVkPT09ZmFsc2UpcmV0dXJuO2V2ZW50LnByZXZlbnREZWZhdWx0KCk7c3dpdGNoKHN0YXRlKXtjYXNlIFNUQVRFLlJPVEFURTppZihzY29wZS5lbmFibGVSb3RhdGU9PT1mYWxzZSlyZXR1cm47aGFuZGxlTW91c2VNb3ZlUm90YXRlKGV2ZW50KTticmVhaztjYXNlIFNUQVRFLkRPTExZOmlmKHNjb3BlLmVuYWJsZVpvb209PT1mYWxzZSlyZXR1cm47aGFuZGxlTW91c2VNb3ZlRG9sbHkoZXZlbnQpO2JyZWFrO2Nhc2UgU1RBVEUuUEFOOmlmKHNjb3BlLmVuYWJsZVBhbj09PWZhbHNlKXJldHVybjtoYW5kbGVNb3VzZU1vdmVQYW4oZXZlbnQpO2JyZWFrfX1mdW5jdGlvbiBvbk1vdXNlVXAoZXZlbnQpe2lmKHNjb3BlLmVuYWJsZWQ9PT1mYWxzZSlyZXR1cm47aGFuZGxlTW91c2VVcChldmVudCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG9uTW91c2VNb3ZlLGZhbHNlKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLG9uTW91c2VVcCxmYWxzZSk7c2NvcGUuZGlzcGF0Y2hFdmVudChlbmRFdmVudCk7c3RhdGU9U1RBVEUuTk9ORX1mdW5jdGlvbiBvbk1vdXNlV2hlZWwoZXZlbnQpe2lmKHNjb3BlLmVuYWJsZWQ9PT1mYWxzZXx8c2NvcGUuZW5hYmxlWm9vbT09PWZhbHNlfHxzdGF0ZSE9PVNUQVRFLk5PTkUmJnN0YXRlIT09U1RBVEUuUk9UQVRFKXJldHVybjtldmVudC5wcmV2ZW50RGVmYXVsdCgpO2V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO3Njb3BlLmRpc3BhdGNoRXZlbnQoc3RhcnRFdmVudCk7aGFuZGxlTW91c2VXaGVlbChldmVudCk7c2NvcGUuZGlzcGF0Y2hFdmVudChlbmRFdmVudCl9ZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KXtpZihzY29wZS5lbmFibGVkPT09ZmFsc2V8fHNjb3BlLmVuYWJsZUtleXM9PT1mYWxzZXx8c2NvcGUuZW5hYmxlUGFuPT09ZmFsc2UpcmV0dXJuO2hhbmRsZUtleURvd24oZXZlbnQpfWZ1bmN0aW9uIG9uVG91Y2hTdGFydChldmVudCl7aWYoc2NvcGUuZW5hYmxlZD09PWZhbHNlKXJldHVybjtzd2l0Y2goZXZlbnQudG91Y2hlcy5sZW5ndGgpe2Nhc2UgMTppZihzY29wZS5lbmFibGVSb3RhdGU9PT1mYWxzZSlyZXR1cm47aGFuZGxlVG91Y2hTdGFydFJvdGF0ZShldmVudCk7c3RhdGU9U1RBVEUuVE9VQ0hfUk9UQVRFO2JyZWFrO2Nhc2UgMjppZihzY29wZS5lbmFibGVab29tPT09ZmFsc2UpcmV0dXJuO2hhbmRsZVRvdWNoU3RhcnREb2xseShldmVudCk7c3RhdGU9U1RBVEUuVE9VQ0hfRE9MTFk7YnJlYWs7Y2FzZSAzOmlmKHNjb3BlLmVuYWJsZVBhbj09PWZhbHNlKXJldHVybjtoYW5kbGVUb3VjaFN0YXJ0UGFuKGV2ZW50KTtzdGF0ZT1TVEFURS5UT1VDSF9QQU47YnJlYWs7ZGVmYXVsdDpzdGF0ZT1TVEFURS5OT05FfWlmKHN0YXRlIT09U1RBVEUuTk9ORSl7c2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KX19ZnVuY3Rpb24gb25Ub3VjaE1vdmUoZXZlbnQpe2lmKHNjb3BlLmVuYWJsZWQ9PT1mYWxzZSlyZXR1cm47ZXZlbnQucHJldmVudERlZmF1bHQoKTtldmVudC5zdG9wUHJvcGFnYXRpb24oKTtzd2l0Y2goZXZlbnQudG91Y2hlcy5sZW5ndGgpe2Nhc2UgMTppZihzY29wZS5lbmFibGVSb3RhdGU9PT1mYWxzZSlyZXR1cm47aWYoc3RhdGUhPT1TVEFURS5UT1VDSF9ST1RBVEUpcmV0dXJuO2hhbmRsZVRvdWNoTW92ZVJvdGF0ZShldmVudCk7YnJlYWs7Y2FzZSAyOmlmKHNjb3BlLmVuYWJsZVpvb209PT1mYWxzZSlyZXR1cm47aWYoc3RhdGUhPT1TVEFURS5UT1VDSF9ET0xMWSlyZXR1cm47aGFuZGxlVG91Y2hNb3ZlRG9sbHkoZXZlbnQpO2JyZWFrO2Nhc2UgMzppZihzY29wZS5lbmFibGVQYW49PT1mYWxzZSlyZXR1cm47aWYoc3RhdGUhPT1TVEFURS5UT1VDSF9QQU4pcmV0dXJuO2hhbmRsZVRvdWNoTW92ZVBhbihldmVudCk7YnJlYWs7ZGVmYXVsdDpzdGF0ZT1TVEFURS5OT05FfX1mdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50KXtpZihzY29wZS5lbmFibGVkPT09ZmFsc2UpcmV0dXJuO2hhbmRsZVRvdWNoRW5kKGV2ZW50KTtzY29wZS5kaXNwYXRjaEV2ZW50KGVuZEV2ZW50KTtzdGF0ZT1TVEFURS5OT05FfWZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoZXZlbnQpe2lmKHNjb3BlLmVuYWJsZWQ9PT1mYWxzZSlyZXR1cm47ZXZlbnQucHJldmVudERlZmF1bHQoKX1zY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLG9uQ29udGV4dE1lbnUsZmFsc2UpO3Njb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLG9uTW91c2VEb3duLGZhbHNlKTtzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLG9uTW91c2VXaGVlbCxmYWxzZSk7c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLG9uVG91Y2hTdGFydCxmYWxzZSk7c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixvblRvdWNoRW5kLGZhbHNlKTtzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixvblRvdWNoTW92ZSxmYWxzZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsb25LZXlEb3duLGZhbHNlKTt0aGlzLnVwZGF0ZSgpfTtUSFJFRS5PcmJpdENvbnRyb2xzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpO1RIUkVFLk9yYml0Q29udHJvbHMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk9yYml0Q29udHJvbHM7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVEhSRUUuT3JiaXRDb250cm9scy5wcm90b3R5cGUse2NlbnRlcjp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT3JiaXRDb250cm9sczogLmNlbnRlciBoYXMgYmVlbiByZW5hbWVkIHRvIC50YXJnZXRcIik7cmV0dXJuIHRoaXMudGFyZ2V0fX0sbm9ab29tOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9ab29tIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlWm9vbSBpbnN0ZWFkLlwiKTtyZXR1cm4hdGhpcy5lbmFibGVab29tfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe2NvbnNvbGUud2FybihcIlRIUkVFLk9yYml0Q29udHJvbHM6IC5ub1pvb20gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVab29tIGluc3RlYWQuXCIpO3RoaXMuZW5hYmxlWm9vbT0hdmFsdWV9fSxub1JvdGF0ZTp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT3JiaXRDb250cm9sczogLm5vUm90YXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUm90YXRlIGluc3RlYWQuXCIpO3JldHVybiF0aGlzLmVuYWJsZVJvdGF0ZX0sc2V0OmZ1bmN0aW9uKHZhbHVlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9Sb3RhdGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVSb3RhdGUgaW5zdGVhZC5cIik7dGhpcy5lbmFibGVSb3RhdGU9IXZhbHVlfX0sbm9QYW46e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlRIUkVFLk9yYml0Q29udHJvbHM6IC5ub1BhbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVBhbiBpbnN0ZWFkLlwiKTtyZXR1cm4hdGhpcy5lbmFibGVQYW59LHNldDpmdW5jdGlvbih2YWx1ZSl7Y29uc29sZS53YXJuKFwiVEhSRUUuT3JiaXRDb250cm9sczogLm5vUGFuIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUGFuIGluc3RlYWQuXCIpO3RoaXMuZW5hYmxlUGFuPSF2YWx1ZX19LG5vS2V5czp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT3JiaXRDb250cm9sczogLm5vS2V5cyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZUtleXMgaW5zdGVhZC5cIik7cmV0dXJuIXRoaXMuZW5hYmxlS2V5c30sc2V0OmZ1bmN0aW9uKHZhbHVlKXtjb25zb2xlLndhcm4oXCJUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9LZXlzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlS2V5cyBpbnN0ZWFkLlwiKTt0aGlzLmVuYWJsZUtleXM9IXZhbHVlfX0sc3RhdGljTW92aW5nOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJUSFJFRS5PcmJpdENvbnRyb2xzOiAuc3RhdGljTW92aW5nIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlRGFtcGluZyBpbnN0ZWFkLlwiKTtyZXR1cm4hdGhpcy5lbmFibGVEYW1waW5nfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe2NvbnNvbGUud2FybihcIlRIUkVFLk9yYml0Q29udHJvbHM6IC5zdGF0aWNNb3ZpbmcgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVEYW1waW5nIGluc3RlYWQuXCIpO3RoaXMuZW5hYmxlRGFtcGluZz0hdmFsdWV9fSxkeW5hbWljRGFtcGluZ0ZhY3Rvcjp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiVEhSRUUuT3JiaXRDb250cm9sczogLmR5bmFtaWNEYW1waW5nRmFjdG9yIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAuZGFtcGluZ0ZhY3RvciBpbnN0ZWFkLlwiKTtyZXR1cm4gdGhpcy5kYW1waW5nRmFjdG9yfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe2NvbnNvbGUud2FybihcIlRIUkVFLk9yYml0Q29udHJvbHM6IC5keW5hbWljRGFtcGluZ0ZhY3RvciBoYXMgYmVlbiByZW5hbWVkLiBVc2UgLmRhbXBpbmdGYWN0b3IgaW5zdGVhZC5cIik7dGhpcy5kYW1waW5nRmFjdG9yPXZhbHVlfX19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7X193ZWJwYWNrX3JlcXVpcmVfXygwKTtBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoXCJvcmJpdC1jb250cm9sc1wiLHtkZXBlbmRlbmNpZXM6W1wiY2FtZXJhXCJdLHNjaGVtYTp7YXV0b1JvdGF0ZTp7dHlwZTpcImJvb2xlYW5cIn0sYXV0b1JvdGF0ZVNwZWVkOntkZWZhdWx0OjJ9LGRhbXBpbmdGYWN0b3I6e2RlZmF1bHQ6LjF9LGVuYWJsZWQ6e2RlZmF1bHQ6dHJ1ZX0sZW5hYmxlRGFtcGluZzp7ZGVmYXVsdDp0cnVlfSxlbmFibGVLZXlzOntkZWZhdWx0OnRydWV9LGVuYWJsZVBhbjp7ZGVmYXVsdDp0cnVlfSxlbmFibGVSb3RhdGU6e2RlZmF1bHQ6dHJ1ZX0sZW5hYmxlWm9vbTp7ZGVmYXVsdDp0cnVlfSxpbml0aWFsUG9zaXRpb246e3R5cGU6XCJ2ZWMzXCJ9LGtleVBhblNwZWVkOntkZWZhdWx0Ojd9LG1pbkF6aW11dGhBbmdsZTp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6SW5maW5pdHl9LG1heEF6aW11dGhBbmdsZTp7dHlwZTpcIm51bWJlclwiLGRlZmF1bHQ6SW5maW5pdHl9LG1heERpc3RhbmNlOntkZWZhdWx0OjFlM30sbWF4UG9sYXJBbmdsZTp7ZGVmYXVsdDpBRlJBTUUudXRpbHMuZGV2aWNlLmlzTW9iaWxlKCk/OTA6MTIwfSxtaW5EaXN0YW5jZTp7ZGVmYXVsdDoxfSxtaW5Qb2xhckFuZ2xlOntkZWZhdWx0OjB9LG1pblpvb206e2RlZmF1bHQ6MH0scGFuU3BlZWQ6e2RlZmF1bHQ6MX0scm90YXRlU3BlZWQ6e2RlZmF1bHQ6LjA1fSxzY3JlZW5TcGFjZVBhbm5pbmc6e2RlZmF1bHQ6ZmFsc2V9LHRhcmdldDp7dHlwZTpcInZlYzNcIn0sem9vbVNwZWVkOntkZWZhdWx0Oi41fX0saW5pdDpmdW5jdGlvbigpe3ZhciBlbD10aGlzLmVsO3RoaXMuY29udHJvbHM9bmV3IFRIUkVFLk9yYml0Q29udHJvbHMoZWwuZ2V0T2JqZWN0M0QoXCJjYW1lcmFcIiksZWwuc2NlbmVFbC5yZW5kZXJlci5kb21FbGVtZW50KTtlbC5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJlbnRlci12clwiLCgpPT57aWYoIUFGUkFNRS51dGlscy5kZXZpY2UuY2hlY2tIZWFkc2V0Q29ubmVjdGVkKCkmJiFBRlJBTUUudXRpbHMuZGV2aWNlLmlzTW9iaWxlKCkpe3JldHVybn10aGlzLmNvbnRyb2xzLmVuYWJsZWQ9ZmFsc2U7aWYoZWwuaGFzQXR0cmlidXRlKFwibG9vay1jb250cm9sc1wiKSl7ZWwuc2V0QXR0cmlidXRlKFwibG9vay1jb250cm9sc1wiLFwiZW5hYmxlZFwiLGZhbHNlKX19KTtlbC5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJleGl0LXZyXCIsKCk9PntpZighQUZSQU1FLnV0aWxzLmRldmljZS5jaGVja0hlYWRzZXRDb25uZWN0ZWQoKSYmIUFGUkFNRS51dGlscy5kZXZpY2UuaXNNb2JpbGUoKSl7cmV0dXJufXRoaXMuY29udHJvbHMuZW5hYmxlZD10cnVlO2lmKGVsLmhhc0F0dHJpYnV0ZShcImxvb2stY29udHJvbHNcIikpe2VsLnNldEF0dHJpYnV0ZShcImxvb2stY29udHJvbHNcIixcImVuYWJsZWRcIixmYWxzZSl9fSk7ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJncmFiXCI7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCgpPT57ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJncmFiYmluZ1wifSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwoKT0+e2RvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yPVwiZ3JhYlwifSk7dGhpcy50YXJnZXQ9bmV3IFRIUkVFLlZlY3RvcjM7ZWwuZ2V0T2JqZWN0M0QoXCJjYW1lcmFcIikucG9zaXRpb24uY29weSh0aGlzLmRhdGEuaW5pdGlhbFBvc2l0aW9uKTtpZihlbC5oYXNBdHRyaWJ1dGUoXCJsb29rLWNvbnRyb2xzXCIpKXtlbC5zZXRBdHRyaWJ1dGUoXCJsb29rLWNvbnRyb2xzXCIsXCJlbmFibGVkXCIsZmFsc2UpfX0sdXBkYXRlOmZ1bmN0aW9uKG9sZERhdGEpe3ZhciBjb250cm9scz10aGlzLmNvbnRyb2xzO3ZhciBkYXRhPXRoaXMuZGF0YTtjb250cm9scy50YXJnZXQ9dGhpcy50YXJnZXQuY29weShkYXRhLnRhcmdldCk7Y29udHJvbHMuYXV0b1JvdGF0ZT1kYXRhLmF1dG9Sb3RhdGU7Y29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkPWRhdGEuYXV0b1JvdGF0ZVNwZWVkO2NvbnRyb2xzLmRhbXBpbmdGYWN0b3I9ZGF0YS5kYW1waW5nRmFjdG9yO2NvbnRyb2xzLmVuYWJsZWQ9ZGF0YS5lbmFibGVkO2NvbnRyb2xzLmVuYWJsZURhbXBpbmc9ZGF0YS5lbmFibGVEYW1waW5nO2NvbnRyb2xzLmVuYWJsZUtleXM9ZGF0YS5lbmFibGVLZXlzO2NvbnRyb2xzLmVuYWJsZVBhbj1kYXRhLmVuYWJsZVBhbjtjb250cm9scy5lbmFibGVSb3RhdGU9ZGF0YS5lbmFibGVSb3RhdGU7Y29udHJvbHMuZW5hYmxlWm9vbT1kYXRhLmVuYWJsZVpvb207Y29udHJvbHMua2V5UGFuU3BlZWQ9ZGF0YS5rZXlQYW5TcGVlZDtjb250cm9scy5tYXhQb2xhckFuZ2xlPVRIUkVFLk1hdGguZGVnVG9SYWQoZGF0YS5tYXhQb2xhckFuZ2xlKTtjb250cm9scy5tYXhEaXN0YW5jZT1kYXRhLm1heERpc3RhbmNlO2NvbnRyb2xzLm1pbkRpc3RhbmNlPWRhdGEubWluRGlzdGFuY2U7Y29udHJvbHMubWluUG9sYXJBbmdsZT1USFJFRS5NYXRoLmRlZ1RvUmFkKGRhdGEubWluUG9sYXJBbmdsZSk7Y29udHJvbHMubWluWm9vbT1kYXRhLm1pblpvb207Y29udHJvbHMucGFuU3BlZWQ9ZGF0YS5wYW5TcGVlZDtjb250cm9scy5yb3RhdGVTcGVlZD1kYXRhLnJvdGF0ZVNwZWVkO2NvbnRyb2xzLnNjcmVlblNwYWNlUGFubmluZz1kYXRhLnNjcmVlblNwYWNlUGFubmluZztjb250cm9scy56b29tU3BlZWQ9ZGF0YS56b29tU3BlZWR9LHRpY2s6ZnVuY3Rpb24oKXt2YXIgY29udHJvbHM9dGhpcy5jb250cm9sczt2YXIgZGF0YT10aGlzLmRhdGE7aWYoIWRhdGEuZW5hYmxlZCl7cmV0dXJufWlmKGNvbnRyb2xzLmVuYWJsZURhbXBpbmd8fGNvbnRyb2xzLmF1dG9Sb3RhdGUpe3RoaXMuY29udHJvbHMudXBkYXRlKCl9fX0pfV0pO1xuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRlbXBsYXRlX2RvbmVcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBIT01FIGJ1dHRvbiBmdW5jdGlvbmFsaXR5XHJcbiAgICB2YXIgY2FtZXJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW1lcmFcIik7XHJcbiAgICB2YXIgaG9tZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9tZV9idXR0b25cIik7XHJcbiAgICBpZiAoaG9tZUJ1dHRvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgaG9tZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNhbWVyYS5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLCBcIjAgMCAwXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuLyoqXHJcbiAqIE15IGZpcnN0IGNvbXBvbmVudCwgaXQgY2hhbmdlcyB0aGUgc2t5XHJcbiAqL1xyXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQgKCdjdXJzb3ItbGlzdGVuZXInLCB7XHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIHNreSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2t5XCIpO1xyXG4gICAgICAgICAgICBpZiAoc2t5LmdldEF0dHJpYnV0ZSgnc3JjJykgPT0gXCIjaG9tZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBza3kuc2V0QXR0cmlidXRlKCdzcmMnLCAnI2V2ZXJlc3QnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNreS5zZXRBdHRyaWJ1dGUoJ3NyYycsICcjaG9tZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIHRoaXMgY29tcG9uZW50IGlzIHVzZWQgdG8gY2hhbmdlIGNhbWVyYSBwb3NpdGlvbiwgYWxsb3dpbmcgZm9yIG1vdmVtZW50IGFyb3VuZCB0aGUgd29ybGRcclxuICogc3ludGF4IGluIEhUTUw6IDxhLXN0aCBjaGFuZ2UtcG9zaXRpb249JyBwb3NpdGlvbiA6IHggeSB6JyA+IDwvYS1zdGg+XHJcbiAqIHdoZW4gdGhlIHBvc2l0aW9uIGF0dHRyaWJ1dGUgaXMgbGVmdCBvdXQsIHRoZSBjYW1lcmEgcG9zaXRpb24gd2lsbCBiZSBjaGFuZ2VkIHRvIHRoYXQgb2YgZWxlbWVudFxyXG4gKi9cclxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50ICgnY2hhbmdlLXBvc2l0aW9uJywge1xyXG4gICAgc2NoZW1hOiB7XHJcbiAgICAgICAgcG9zaXRpb246IHt0eXBlOiAnc3RyaW5nJywgZGVmYXVsdDogJyd9XHJcbiAgICB9LFxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XHJcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcclxuICAgICAgICBwb3NpdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcclxuICAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGNhbWVyYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW1lcmEnKTtcclxuICAgICAgICAgICAgdmFyIGRlc2lyZWRfcG9zaXRpb247XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnBvc2l0aW9uICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGRlc2lyZWRfcG9zaXRpb24gPSBkYXRhLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBhY3Rpb24gd2hlbiBubyBjb29yZGluYXRlcyBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgZGVzaXJlZF9wb3NpdGlvbiA9IGVsLmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkZXNpcmVkX3Bvc2l0aW9uID09IGNhbWVyYS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGJsaW5rVGVsZXBvcnRhdGlvbkVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjaGFuZ2UtcG9zaXRpb25dJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxpbmtUZWxlcG9ydGF0aW9uRWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSRVNFVCBUSEUgQ0xJQ0tBQkxFIFZBTFVFIEZPUiBBTEwgVEhFIEJMSU5LLVRFTEVQT1JUQVRJT04gRUxFTUVOVFNcclxuICAgICAgICAgICAgICAgIGJsaW5rVGVsZXBvcnRhdGlvbkVsc1tpXS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsaWNrYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gVEhFTiBNQUtFIE9OTFkgVEhFIFNFTEVDVEVEIEJMSU5LLVRFTEVQT1JUQVRJT04gRUxFTUVOVCBOT1QtQ0xJQ0tBQkxFXHJcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vdC1jbGlja2FibGUnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FtZXJhLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBkZXNpcmVkX3Bvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRSWUlORyBBTklNQVRJT04gVE9ET1xyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImEtYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgICAgICBhbmltYXRpb24uc2V0QXR0cmlidXRlKFwiYXR0cmlidXRlXCIsXCJwb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLnNldEF0dHJpYnV0ZShcInRvXCIsZGVzaXJlZF9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zZXRBdHRyaWJ1dGUoXCJkdXJcIixcIjIwMDBcIik7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zZXRBdHRyaWJ1dGUoXCJlYXNpbmdcIixcImxpbmVhclwiKTtcclxuICAgICAgICAgICAgY2FtZXJhLmFwcGVuZENoaWxkKGFuaW1hdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyoqIFxyXG4gKiBjbGlja2FibGUgY29tcG9uZW50IGZvciBwb3B1cCB3aW5kb3dcclxuKi9cclxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50ICgnaW5mby13aW5kb3cnLCB7XHJcbiAgICBzY2hlbWE6IHtcclxuICAgICAgICB3aW5kb3dfaWQ6IHt0eXBlOiAnc3RyaW5nJywgZGVmYXVsdDogJyd9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2xpY2thYmxlXCIpKSB0aGlzLmVsLmNsYXNzTGlzdC50b2dnbGUoJ2NsaWNrYWJsZScpO1xyXG4gICAgICAgIC8vdmFyIHJheWNhc3RlckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhLXNjZW5lXCIpLnF1ZXJ5U2VsZWN0b3IoJ1tyYXljYXN0ZXJdJyk7XHJcbiAgICAgICAgLy9yYXljYXN0ZXJFbC5jb21wb25lbnRzLnJheWNhc3Rlci5yZWZyZXNoT2JqZWN0cygpO1xyXG4gICAgICAgIC8vIFNJTVBMWSBXSUxMIE5PVCBXT1JLICEhISA6RFxyXG4gICAgICAgIC8vdmFyIHJheWNhc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmF5Y2FzdGVyXCIpO1xyXG4gICAgICAgIC8vaWYgKHJheWNhc3RlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImEtc2NlbmVcIikucmVtb3ZlQ2hpbGQocmF5Y2FzdGVyKTtcclxuICAgICAgICAgICAgLy9yYXljYXN0ZXIuc2V0QXR0cmlidXRlKFwicmF5Y2FzdGVyXCIsIFwib2JqZWN0czogLmNsaWNrYWJsZVwiKTtcclxuICAgICAgICAgICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYS1zY2VuZVwiKS5hcHBlbmRDaGlsZChyYXljYXN0ZXIpO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIHZhciB3aW5kb3dfaWQgPSB0aGlzLmRhdGEud2luZG93X2lkO1xyXG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHdpbmRvd19pZCkgPT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBvcGVuX3BvcHVwKHdpbmRvd19pZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB0aGVyZSBpcyBnYWxsZXJ5XHJcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh3aW5kb3dfaWQpO1xyXG4gICAgICAgICAgICB2YXIgZ2FsbGVyaWVzID0gd2luZG93LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwb3B1cF9ib2R5XCIpWzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJnYWxsZXJ5X3dyYXBwZXJcIik7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2FsbGVyeSBvZiBnYWxsZXJpZXMpIHtcclxuICAgICAgICAgICAgICAgIGluaXRfZ2FsbGVyeShnYWxsZXJ5KTsgLy8gZnVuY3Rpb24gaW4gZ2FsbGVyeSBjb250cm9sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vKipcclxuICogRm9yIGxvYWRpbmcgc2NyZWVuIHRvIGtub3cgd2hlbiB0byBlbmQuXHJcbiAqL1xyXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2JpZ19tb2RlbCcsIHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb2RlbC1sb2FkZWQnLCBlID0+IHtcclxuICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvYWRpbmdfc2NyZWVuXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2hvdWxkIHNlZSBtb2RlbFwiKTtcclxuICAgICAgIH0pO1xyXG4gICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwibW9kZWwtcHJvZ3Jlc3NcIiwgZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5wcm9ncmVzcylcclxuICAgICAgfSk7XHJcbiAgICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vZGVsLWVycm9yJywgZSA9PiB7XHJcbiAgICAgICAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvYWRpbmdfc2NyZWVuXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgaW4gbG9hZGluZyBtb2RlbFwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuIH0pO1xyXG5cclxuXHJcblxyXG4vKipcclxuICogQXV0b3NjYWxpbmcgY29tcG9uZW50IC0gY2VudGVycyBnbHRmIG1vZGVsIGFuZCBzY2FsZXMgaXQuXHJcbiAqIElmIHlvdSB1c2UgaXQsIG5vdGUgdGhhdCByb3RhdGlvbiBoYXMgdG8gYmUgaW5zZXJ0ZWQgdmlhIHRoaXMgY29tcG9uZW50LlxyXG4gKi9cclxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdhdXRvc2NhbGUnLCB7XHJcbiAgICBzY2hlbWE6IHtcclxuICAgICAgICBzY2FsZToge1xyXG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcm90YXRpb246IHtcclxuICAgICAgICAgICAgdHlwZTogJ3ZlYzMnLCBkZWZhdWx0OiBcIjAgMCAwXCJcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICB0aGlzLnNjYWxlKCk7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignb2JqZWN0M2RzZXQnLCAoKSA9PiB0aGlzLnNjYWxlKCkpO1xyXG4gICAgfSxcclxuICAgIHNjYWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnN0IGVsID0gdGhpcy5lbDtcclxuICAgICAgY29uc3Qgc3BhbiA9IHRoaXMuZGF0YS5zY2FsZTtcclxuICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLmRhdGEucm90YXRpb247XHJcbiAgICAgIGNvbnN0IG1lc2ggPSBlbC5nZXRPYmplY3QzRCgnbWVzaCcpO1xyXG4gIFxyXG4gICAgICBpZiAoIW1lc2gpIHJldHVybjtcclxuICAgICAgLy8gUm90YXRpb24gLSBJTiBSQURJQU5TISFcclxuICAgICAgbWVzaC5yb3RhdGlvbi5zZXQoZGVnVG9SYWQocm90YXRpb24ueCksIGRlZ1RvUmFkKHJvdGF0aW9uLnkpLCBkZWdUb1JhZChyb3RhdGlvbi56KSk7XHJcbiAgICAgIC8vbWVzaC5yb3RhdGlvbi5zZXQoLU1hdGguUEkvMiwgMCwgTWF0aC5QSSowLjYxKTtcclxuICAgICAgLy8gQ29tcHV0ZSBib3VuZHMuXHJcbiAgICAgIGNvbnN0IGJib3ggPSBuZXcgVEhSRUUuQm94MygpLnNldEZyb21PYmplY3QobWVzaCk7XHJcbiAgXHJcbiAgICAgIC8vIE5vcm1hbGl6ZSBzY2FsZS5cclxuICAgICAgY29uc3Qgc2NhbGUgPSBzcGFuIC8gYmJveC5nZXRTaXplKCkubGVuZ3RoKCk7XHJcbiAgICAgIG1lc2guc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xyXG4gICAgICAvL21lc2gucm90YXRpb24uc2V0KDkwLCAwLCAzNSk7XHJcbiAgXHJcbiAgICAgIC8vIFJlY2VudGVyLlxyXG4gICAgICBjb25zdCBvZmZzZXQgPSBiYm94LmdldENlbnRlcigpLm11bHRpcGx5U2NhbGFyKHNjYWxlKTtcclxuICAgICAgbWVzaC5wb3NpdGlvbi5zdWIob2Zmc2V0KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcylcclxue1xyXG4gIHJldHVybiBkZWdyZWVzICogKE1hdGguUEkvMTgwKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBzdHJpbmcgcmVwcmVzZW50aW5nIHBvc2l0aW9uIGFuZCByb3RhdGlvbiBpZiBzcGVjaWZpZWQgb2YgZ2l2ZW4gYWZyYW1lIGVudGl0eS5cclxuICogQHBhcmFtIHsqfSBlbnRpdHkgYWZyYW1lIGVudGl0eVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHJvdGF0aW9uIGlmIHlvdSB3YW50IHRvIGdldCByb3RhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0X2VudGl0eV9wb3NpdGlvbl9zdHJpbmcoZW50aXR5LCByb3RhdGlvbikge1xyXG4gICAgdmFyIHBvc3JvdCA9IFwiXCI7XHJcbiAgICB2YXIgcG9zID0gZW50aXR5LmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpO1xyXG4gICAgaWYgKHBvcyA9PSBudWxsKSByZXR1cm4gcG9zcm90O1xyXG4gICAgcG9zcm90ID0gdG9GaXhlZFRydW5jYXRlKHBvcy54LCAzKSArIFwiIFwiICsgdG9GaXhlZFRydW5jYXRlKHBvcy55LCAzKSArIFwiIFwiICsgdG9GaXhlZFRydW5jYXRlKHBvcy56LCAzKTtcclxuICAgIGlmIChyb3RhdGlvbikge1xyXG4gICAgICAgIHZhciByb3RfeCA9IGVudGl0eS5jb21wb25lbnRzWyd0b3VjaC1jb250cm9scyddLnBpdGNoT2JqZWN0LnJvdGF0aW9uLng7XHJcbiAgICAgICAgdmFyIHJvdF95ID0gZW50aXR5LmNvbXBvbmVudHNbJ3RvdWNoLWNvbnRyb2xzJ10ueWF3T2JqZWN0LnJvdGF0aW9uLnk7XHJcbiAgICAgICAgcG9zcm90ICs9IFwiIFwiICsgdG9GaXhlZFRydW5jYXRlKHJvdF94LCAzKSArIFwiIFwiICsgdG9GaXhlZFRydW5jYXRlKHJvdF95LCAzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3Nyb3Q7XHJcbn0iLCJmdW5jdGlvbiBjaG9vc2VfbW9kZWwoZXZlbnQsIG1vZGVsX3NjYWxlLCBtb2RlbF9yb3RhdGlvbikge1xyXG4gICAgdmFyIG1vZGVsX3NyYyA9IGRvY3VtZW50LmZvcm1zW1wic2VsZWN0aW9uX2Zvcm1cIl1bXCJtb2RlbFwiXS52YWx1ZTtcclxuICAgIGlmIChtb2RlbF9zcmMgPT0gXCJcIikgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy92YXIgbW9kZWwgPSAnPGEtZW50aXR5IGdsdGYtbW9kZWw9XCInKyBtb2RlbF9zcmMgKydcIiBpZD1cImdsdGZfbW9kZWxcIiBiaWdfbW9kZWwgYXV0b3NjYWxlPVwiIHNjYWxlOicrIG1vZGVsX3NjYWxlICsgJzsgcm90YXRpb246ICcrIG1vZGVsX3JvdGF0aW9uICsnXCI+PC9hLWVudGl0eT4nO1xyXG4gICAgdmFyIG1vZGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImEtZW50aXR5XCIpOyAvLyBUT0RPXHJcbiAgICBtb2RlbC5zZXRBdHRyaWJ1dGUoXCJnbHRmLW1vZGVsXCIsIG1vZGVsX3NyYyk7XHJcbiAgICBtb2RlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImdsdGZfbW9kZWxcIik7XHJcbiAgICBtb2RlbC5zZXRBdHRyaWJ1dGUoXCJiaWdfbW9kZWxcIiwgXCJcIik7XHJcbiAgICBtb2RlbC5zZXRBdHRyaWJ1dGUoXCJhdXRvc2NhbGVcIiwgJ3NjYWxlOicrIG1vZGVsX3NjYWxlICsgJzsgcm90YXRpb246ICcrIG1vZGVsX3JvdGF0aW9uKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhLXNjZW5lXCIpLmFwcGVuZENoaWxkKG1vZGVsKTtcclxuICAgIC8vIGhpZGUgYXdheVxyXG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGVsX2Nob2ljZXNcIik7XHJcbiAgICBmb3JtLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZm9ybSk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn0iLCIvLyBjb3B5IG9mIG5pcHBsZUpTIGxpYnJhcnlcbiFmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5uaXBwbGVqcz10KCl9fShmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gZSh0LGkpe3JldHVybiB0aGlzLmlkZW50aWZpZXI9aS5pZGVudGlmaWVyLHRoaXMucG9zaXRpb249aS5wb3NpdGlvbix0aGlzLmZyb250UG9zaXRpb249aS5mcm9udFBvc2l0aW9uLHRoaXMuY29sbGVjdGlvbj10LHRoaXMuZGVmYXVsdHM9e3NpemU6MTAwLHRocmVzaG9sZDouMSxjb2xvcjpcIndoaXRlXCIsZmFkZVRpbWU6MjUwLGRhdGFPbmx5OiExLHJlc3RKb3lzdGljazohMCxyZXN0T3BhY2l0eTouNSxtb2RlOlwiZHluYW1pY1wiLHpvbmU6ZG9jdW1lbnQuYm9keX0sdGhpcy5jb25maWcoaSksXCJkeW5hbWljXCI9PT10aGlzLm9wdGlvbnMubW9kZSYmKHRoaXMub3B0aW9ucy5yZXN0T3BhY2l0eT0wKSx0aGlzLmlkPWUuaWQsZS5pZCs9MSx0aGlzLmJ1aWxkRWwoKS5zdHlsaXplKCksdGhpcy5pbnN0YW5jZT17ZWw6dGhpcy51aS5lbCxvbjp0aGlzLm9uLmJpbmQodGhpcyksb2ZmOnRoaXMub2ZmLmJpbmQodGhpcyksc2hvdzp0aGlzLnNob3cuYmluZCh0aGlzKSxoaWRlOnRoaXMuaGlkZS5iaW5kKHRoaXMpLGFkZDp0aGlzLmFkZFRvRG9tLmJpbmQodGhpcykscmVtb3ZlOnRoaXMucmVtb3ZlRnJvbURvbS5iaW5kKHRoaXMpLGRlc3Ryb3k6dGhpcy5kZXN0cm95LmJpbmQodGhpcykscmVzZXREaXJlY3Rpb246dGhpcy5yZXNldERpcmVjdGlvbi5iaW5kKHRoaXMpLGNvbXB1dGVEaXJlY3Rpb246dGhpcy5jb21wdXRlRGlyZWN0aW9uLmJpbmQodGhpcyksdHJpZ2dlcjp0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSxwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLGZyb250UG9zaXRpb246dGhpcy5mcm9udFBvc2l0aW9uLHVpOnRoaXMudWksaWRlbnRpZmllcjp0aGlzLmlkZW50aWZpZXIsaWQ6dGhpcy5pZCxvcHRpb25zOnRoaXMub3B0aW9uc30sdGhpcy5pbnN0YW5jZX1mdW5jdGlvbiBpKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbi5uaXBwbGVzPVtdLG4uaWRsZXM9W10sbi5hY3RpdmVzPVtdLG4uaWRzPVtdLG4ucHJlc3N1cmVJbnRlcnZhbHM9e30sbi5tYW5hZ2VyPXQsbi5pZD1pLmlkLGkuaWQrPTEsbi5kZWZhdWx0cz17em9uZTpkb2N1bWVudC5ib2R5LG11bHRpdG91Y2g6ITEsbWF4TnVtYmVyT2ZOaXBwbGVzOjEwLG1vZGU6XCJkeW5hbWljXCIscG9zaXRpb246e3RvcDowLGxlZnQ6MH0sY2F0Y2hEaXN0YW5jZToyMDAsc2l6ZToxMDAsdGhyZXNob2xkOi4xLGNvbG9yOlwid2hpdGVcIixmYWRlVGltZToyNTAsZGF0YU9ubHk6ITEscmVzdEpveXN0aWNrOiEwLHJlc3RPcGFjaXR5Oi41fSxuLmNvbmZpZyhlKSxcInN0YXRpY1wiIT09bi5vcHRpb25zLm1vZGUmJlwic2VtaVwiIT09bi5vcHRpb25zLm1vZGV8fChuLm9wdGlvbnMubXVsdGl0b3VjaD0hMSksbi5vcHRpb25zLm11bHRpdG91Y2h8fChuLm9wdGlvbnMubWF4TnVtYmVyT2ZOaXBwbGVzPTEpLG4udXBkYXRlQm94KCksbi5wcmVwYXJlTmlwcGxlcygpLG4uYmluZGluZ3MoKSxuLmJlZ2luKCksbi5uaXBwbGVzfWZ1bmN0aW9uIG4odCl7dmFyIGU9dGhpcztlLmlkcz17fSxlLmluZGV4PTAsZS5jb2xsZWN0aW9ucz1bXSxlLmNvbmZpZyh0KSxlLnByZXBhcmVDb2xsZWN0aW9ucygpO3ZhciBpO3JldHVybiBjLmJpbmRFdnQod2luZG93LFwicmVzaXplXCIsZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KGkpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0LGk9Yy5nZXRTY3JvbGwoKTtlLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Q9ZS5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlLnBvc2l0aW9uPXt4OmkueCt0LmxlZnQseTppLnkrdC50b3B9fSl9KX0sMTAwKX0pLGUuY29sbGVjdGlvbnN9dmFyIG8scj0hIShcIm9udG91Y2hzdGFydFwiaW4gd2luZG93KSxzPSEhd2luZG93LlBvaW50ZXJFdmVudCxkPSEhd2luZG93Lk1TUG9pbnRlckV2ZW50LGE9e3RvdWNoOntzdGFydDpcInRvdWNoc3RhcnRcIixtb3ZlOlwidG91Y2htb3ZlXCIsZW5kOlwidG91Y2hlbmQsIHRvdWNoY2FuY2VsXCJ9LG1vdXNlOntzdGFydDpcIm1vdXNlZG93blwiLG1vdmU6XCJtb3VzZW1vdmVcIixlbmQ6XCJtb3VzZXVwXCJ9LHBvaW50ZXI6e3N0YXJ0OlwicG9pbnRlcmRvd25cIixtb3ZlOlwicG9pbnRlcm1vdmVcIixlbmQ6XCJwb2ludGVydXBcIn0sTVNQb2ludGVyOntzdGFydDpcIk1TUG9pbnRlckRvd25cIixtb3ZlOlwiTVNQb2ludGVyTW92ZVwiLGVuZDpcIk1TUG9pbnRlclVwXCJ9fSxwPXt9O3M/bz1hLnBvaW50ZXI6ZD9vPWEuTVNQb2ludGVyOnI/KG89YS50b3VjaCxwPWEubW91c2UpOm89YS5tb3VzZTt2YXIgYz17fTtjLmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LXQueCxuPWUueS10Lnk7cmV0dXJuIE1hdGguc3FydChpKmkrbipuKX0sYy5hbmdsZT1mdW5jdGlvbih0LGUpe3ZhciBpPWUueC10Lngsbj1lLnktdC55O3JldHVybiBjLmRlZ3JlZXMoTWF0aC5hdGFuMihuLGkpKX0sYy5maW5kQ29vcmQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXt4OjAseTowfTtyZXR1cm4gaT1jLnJhZGlhbnMoaSksbi54PXQueC1lKk1hdGguY29zKGkpLG4ueT10LnktZSpNYXRoLnNpbihpKSxufSxjLnJhZGlhbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHQqKE1hdGguUEkvMTgwKX0sYy5kZWdyZWVzPWZ1bmN0aW9uKHQpe3JldHVybiB0KigxODAvTWF0aC5QSSl9LGMuYmluZEV2dD1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuLG89ZS5zcGxpdCgvWyAsXSsvZykscj0wO3I8by5sZW5ndGg7cis9MSluPW9bcl0sdC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihuLGksITEpOnQuYXR0YWNoRXZlbnQmJnQuYXR0YWNoRXZlbnQobixpKX0sYy51bmJpbmRFdnQ9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbixvPWUuc3BsaXQoL1sgLF0rL2cpLHI9MDtyPG8ubGVuZ3RoO3IrPTEpbj1vW3JdLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcj90LnJlbW92ZUV2ZW50TGlzdGVuZXIobixpKTp0LmRldGFjaEV2ZW50JiZ0LmRldGFjaEV2ZW50KG4saSl9LGMudHJpZ2dlcj1mdW5jdGlvbih0LGUsaSl7dmFyIG49bmV3IEN1c3RvbUV2ZW50KGUsaSk7dC5kaXNwYXRjaEV2ZW50KG4pfSxjLnByZXBhcmVFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHQudHlwZS5tYXRjaCgvXnRvdWNoLyk/dC5jaGFuZ2VkVG91Y2hlczp0fSxjLmdldFNjcm9sbD1mdW5jdGlvbigpe3JldHVybnt4OnZvaWQgMCE9PXdpbmRvdy5wYWdlWE9mZnNldD93aW5kb3cucGFnZVhPZmZzZXQ6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0LHk6dm9pZCAwIT09d2luZG93LnBhZ2VZT2Zmc2V0P3dpbmRvdy5wYWdlWU9mZnNldDooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcH19LGMuYXBwbHlQb3NpdGlvbj1mdW5jdGlvbih0LGUpe2UueCYmZS55Pyh0LnN0eWxlLmxlZnQ9ZS54K1wicHhcIix0LnN0eWxlLnRvcD1lLnkrXCJweFwiKTooZS50b3B8fGUucmlnaHR8fGUuYm90dG9tfHxlLmxlZnQpJiYodC5zdHlsZS50b3A9ZS50b3AsdC5zdHlsZS5yaWdodD1lLnJpZ2h0LHQuc3R5bGUuYm90dG9tPWUuYm90dG9tLHQuc3R5bGUubGVmdD1lLmxlZnQpfSxjLmdldFRyYW5zaXRpb25TdHlsZT1mdW5jdGlvbih0LGUsaSl7dmFyIG49Yy5jb25maWdTdHlsZVByb3BlcnR5T2JqZWN0KHQpO2Zvcih2YXIgbyBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkobykpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpbltvXT1lK1wiIFwiK2k7ZWxzZXtmb3IodmFyIHI9XCJcIixzPTAsZD1lLmxlbmd0aDtzPGQ7cys9MSlyKz1lW3NdK1wiIFwiK2krXCIsIFwiO25bb109ci5zbGljZSgwLC0yKX1yZXR1cm4gbn0sYy5nZXRWZW5kb3JTdHlsZT1mdW5jdGlvbih0LGUpe3ZhciBpPWMuY29uZmlnU3R5bGVQcm9wZXJ0eU9iamVjdCh0KTtmb3IodmFyIG4gaW4gaSlpLmhhc093blByb3BlcnR5KG4pJiYoaVtuXT1lKTtyZXR1cm4gaX0sYy5jb25maWdTdHlsZVByb3BlcnR5T2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBlW3RdPVwiXCIsW1wid2Via2l0XCIsXCJNb3pcIixcIm9cIl0uZm9yRWFjaChmdW5jdGlvbihpKXtlW2krdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXT1cIlwifSksZX0sYy5leHRlbmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH0sYy5zYWZlRXh0ZW5kPWZ1bmN0aW9uKHQsZSl7dmFyIGk9e307Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5oYXNPd25Qcm9wZXJ0eShuKT9pW25dPWVbbl06dC5oYXNPd25Qcm9wZXJ0eShuKSYmKGlbbl09dFtuXSk7cmV0dXJuIGl9LGMubWFwPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGgpZm9yKHZhciBpPTAsbj10Lmxlbmd0aDtpPG47aSs9MSllKHRbaV0pO2Vsc2UgZSh0KX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt2YXIgaSxuPXRoaXMsbz10LnNwbGl0KC9bICxdKy9nKTtuLl9oYW5kbGVyc189bi5faGFuZGxlcnNffHx7fTtmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrPTEpaT1vW3JdLG4uX2hhbmRsZXJzX1tpXT1uLl9oYW5kbGVyc19baV18fFtdLG4uX2hhbmRsZXJzX1tpXS5wdXNoKGUpO3JldHVybiBufSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3JldHVybiBpLl9oYW5kbGVyc189aS5faGFuZGxlcnNffHx7fSx2b2lkIDA9PT10P2kuX2hhbmRsZXJzXz17fTp2b2lkIDA9PT1lP2kuX2hhbmRsZXJzX1t0XT1udWxsOmkuX2hhbmRsZXJzX1t0XSYmaS5faGFuZGxlcnNfW3RdLmluZGV4T2YoZSk+PTAmJmkuX2hhbmRsZXJzX1t0XS5zcGxpY2UoaS5faGFuZGxlcnNfW3RdLmluZGV4T2YoZSksMSksaX0sdC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcyxvPXQuc3BsaXQoL1sgLF0rL2cpO24uX2hhbmRsZXJzXz1uLl9oYW5kbGVyc198fHt9O2Zvcih2YXIgcj0wO3I8by5sZW5ndGg7cis9MSlpPW9bcl0sbi5faGFuZGxlcnNfW2ldJiZuLl9oYW5kbGVyc19baV0ubGVuZ3RoJiZuLl9oYW5kbGVyc19baV0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmNhbGwobix7dHlwZTppLHRhcmdldDpufSxlKX0pfSx0LnByb3RvdHlwZS5jb25maWc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLm9wdGlvbnM9ZS5kZWZhdWx0c3x8e30sdCYmKGUub3B0aW9ucz1jLnNhZmVFeHRlbmQoZS5vcHRpb25zLHQpKX0sdC5wcm90b3R5cGUuYmluZEV2dD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIGkuX2RvbUhhbmRsZXJzXz1pLl9kb21IYW5kbGVyc198fHt9LGkuX2RvbUhhbmRsZXJzX1tlXT1mdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGlbXCJvblwiK2VdP2lbXCJvblwiK2VdLmFwcGx5KGksYXJndW1lbnRzKTpjb25zb2xlLndhcm4oJ1tXQVJOSU5HXSA6IE1pc3NpbmcgXCJvbicrZSsnXCIgaGFuZGxlci4nKX0sYy5iaW5kRXZ0KHQsb1tlXSxpLl9kb21IYW5kbGVyc19bZV0pLHBbZV0mJmMuYmluZEV2dCh0LHBbZV0saS5fZG9tSGFuZGxlcnNfW2VdKSxpfSx0LnByb3RvdHlwZS51bmJpbmRFdnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3JldHVybiBpLl9kb21IYW5kbGVyc189aS5fZG9tSGFuZGxlcnNffHx7fSxjLnVuYmluZEV2dCh0LG9bZV0saS5fZG9tSGFuZGxlcnNfW2VdKSxwW2VdJiZjLnVuYmluZEV2dCh0LHBbZV0saS5fZG9tSGFuZGxlcnNfW2VdKSxkZWxldGUgaS5fZG9tSGFuZGxlcnNfW2VdLHRoaXN9LGUucHJvdG90eXBlPW5ldyB0LGUuY29uc3RydWN0b3I9ZSxlLmlkPTAsZS5wcm90b3R5cGUuYnVpbGRFbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51aT17fSx0aGlzLm9wdGlvbnMuZGF0YU9ubHk/dGhpczoodGhpcy51aS5lbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMudWkuYmFjaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMudWkuZnJvbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnVpLmVsLmNsYXNzTmFtZT1cIm5pcHBsZSBjb2xsZWN0aW9uX1wiK3RoaXMuY29sbGVjdGlvbi5pZCx0aGlzLnVpLmJhY2suY2xhc3NOYW1lPVwiYmFja1wiLHRoaXMudWkuZnJvbnQuY2xhc3NOYW1lPVwiZnJvbnRcIix0aGlzLnVpLmVsLnNldEF0dHJpYnV0ZShcImlkXCIsXCJuaXBwbGVfXCIrdGhpcy5jb2xsZWN0aW9uLmlkK1wiX1wiK3RoaXMuaWQpLHRoaXMudWkuZWwuYXBwZW5kQ2hpbGQodGhpcy51aS5iYWNrKSx0aGlzLnVpLmVsLmFwcGVuZENoaWxkKHRoaXMudWkuZnJvbnQpLHRoaXMpfSxlLnByb3RvdHlwZS5zdHlsaXplPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmRhdGFPbmx5KXJldHVybiB0aGlzO3ZhciB0PXRoaXMub3B0aW9ucy5mYWRlVGltZStcIm1zXCIsZT1jLmdldFZlbmRvclN0eWxlKFwiYm9yZGVyUmFkaXVzXCIsXCI1MCVcIiksaT1jLmdldFRyYW5zaXRpb25TdHlsZShcInRyYW5zaXRpb25cIixcIm9wYWNpdHlcIix0KSxuPXt9O3JldHVybiBuLmVsPXtwb3NpdGlvbjpcImFic29sdXRlXCIsb3BhY2l0eTp0aGlzLm9wdGlvbnMucmVzdE9wYWNpdHksZGlzcGxheTpcImJsb2NrXCIsekluZGV4Ojk5OX0sbi5iYWNrPXtwb3NpdGlvbjpcImFic29sdXRlXCIsZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6dGhpcy5vcHRpb25zLnNpemUrXCJweFwiLGhlaWdodDp0aGlzLm9wdGlvbnMuc2l6ZStcInB4XCIsbWFyZ2luTGVmdDotdGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsbWFyZ2luVG9wOi10aGlzLm9wdGlvbnMuc2l6ZS8yK1wicHhcIixiYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvcixvcGFjaXR5OlwiLjVcIn0sbi5mcm9udD17d2lkdGg6dGhpcy5vcHRpb25zLnNpemUvMitcInB4XCIsaGVpZ2h0OnRoaXMub3B0aW9ucy5zaXplLzIrXCJweFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixkaXNwbGF5OlwiYmxvY2tcIixtYXJnaW5MZWZ0Oi10aGlzLm9wdGlvbnMuc2l6ZS80K1wicHhcIixtYXJnaW5Ub3A6LXRoaXMub3B0aW9ucy5zaXplLzQrXCJweFwiLGJhY2tncm91bmQ6dGhpcy5vcHRpb25zLmNvbG9yLG9wYWNpdHk6XCIuNVwifSxjLmV4dGVuZChuLmVsLGkpLGMuZXh0ZW5kKG4uYmFjayxlKSxjLmV4dGVuZChuLmZyb250LGUpLHRoaXMuYXBwbHlTdHlsZXMobiksdGhpc30sZS5wcm90b3R5cGUuYXBwbHlTdHlsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMudWkpaWYodGhpcy51aS5oYXNPd25Qcm9wZXJ0eShlKSlmb3IodmFyIGkgaW4gdFtlXSl0aGlzLnVpW2VdLnN0eWxlW2ldPXRbZV1baV07cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmFkZFRvRG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5kYXRhT25seXx8ZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnVpLmVsKT90aGlzOih0aGlzLm9wdGlvbnMuem9uZS5hcHBlbmRDaGlsZCh0aGlzLnVpLmVsKSx0aGlzKX0sZS5wcm90b3R5cGUucmVtb3ZlRnJvbURvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZGF0YU9ubHl8fCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMudWkuZWwpP3RoaXM6KHRoaXMub3B0aW9ucy56b25lLnJlbW92ZUNoaWxkKHRoaXMudWkuZWwpLHRoaXMpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMuc2hvd1RpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLnJlc3RUaW1lb3V0KSx0aGlzLnRyaWdnZXIoXCJkZXN0cm95ZWRcIix0aGlzLmluc3RhbmNlKSx0aGlzLnJlbW92ZUZyb21Eb20oKSx0aGlzLm9mZigpfSxlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGUub3B0aW9ucy5kYXRhT25seT9lOihjbGVhclRpbWVvdXQoZS5yZW1vdmVUaW1lb3V0KSxjbGVhclRpbWVvdXQoZS5zaG93VGltZW91dCksY2xlYXJUaW1lb3V0KGUucmVzdFRpbWVvdXQpLGUuYWRkVG9Eb20oKSxlLnJlc3RDYWxsYmFjaygpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnVpLmVsLnN0eWxlLm9wYWNpdHk9MX0sMCksZS5zaG93VGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKFwic2hvd25cIixlLmluc3RhbmNlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwodGhpcyl9LGUub3B0aW9ucy5mYWRlVGltZSksZSl9LGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gZS5vcHRpb25zLmRhdGFPbmx5P2U6KGUudWkuZWwuc3R5bGUub3BhY2l0eT1lLm9wdGlvbnMucmVzdE9wYWNpdHksY2xlYXJUaW1lb3V0KGUucmVtb3ZlVGltZW91dCksY2xlYXJUaW1lb3V0KGUuc2hvd1RpbWVvdXQpLGNsZWFyVGltZW91dChlLnJlc3RUaW1lb3V0KSxlLnJlbW92ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpPVwiZHluYW1pY1wiPT09ZS5vcHRpb25zLm1vZGU/XCJub25lXCI6XCJibG9ja1wiO2UudWkuZWwuc3R5bGUuZGlzcGxheT1pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY2FsbChlKSxlLnRyaWdnZXIoXCJoaWRkZW5cIixlLmluc3RhbmNlKX0sZS5vcHRpb25zLmZhZGVUaW1lKSxlLm9wdGlvbnMucmVzdEpveXN0aWNrJiZlLnJlc3RQb3NpdGlvbigpLGUpfSxlLnByb3RvdHlwZS5yZXN0UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLmZyb250UG9zaXRpb249e3g6MCx5OjB9O3ZhciBpPWUub3B0aW9ucy5mYWRlVGltZStcIm1zXCIsbj17fTtuLmZyb250PWMuZ2V0VHJhbnNpdGlvblN0eWxlKFwidHJhbnNpdGlvblwiLFtcInRvcFwiLFwibGVmdFwiXSxpKTt2YXIgbz17ZnJvbnQ6e319O28uZnJvbnQ9e2xlZnQ6ZS5mcm9udFBvc2l0aW9uLngrXCJweFwiLHRvcDplLmZyb250UG9zaXRpb24ueStcInB4XCJ9LGUuYXBwbHlTdHlsZXMobiksZS5hcHBseVN0eWxlcyhvKSxlLnJlc3RUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNhbGwoZSksZS5yZXN0Q2FsbGJhY2soKX0sZS5vcHRpb25zLmZhZGVUaW1lKX0sZS5wcm90b3R5cGUucmVzdENhbGxiYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXt9O2UuZnJvbnQ9Yy5nZXRUcmFuc2l0aW9uU3R5bGUoXCJ0cmFuc2l0aW9uXCIsXCJub25lXCIsXCJcIiksdC5hcHBseVN0eWxlcyhlKSx0LnRyaWdnZXIoXCJyZXN0ZWRcIix0Lmluc3RhbmNlKX0sZS5wcm90b3R5cGUucmVzZXREaXJlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbj17eDohMSx5OiExLGFuZ2xlOiExfX0sZS5wcm90b3R5cGUuY29tcHV0ZURpcmVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxpLG4sbz10LmFuZ2xlLnJhZGlhbixyPU1hdGguUEkvNCxzPU1hdGguUEkvMjtpZihlPW8+ciYmbzwzKnI/XCJ1cFwiOm8+LXImJm88PXI/XCJsZWZ0XCI6bz4zKi1yJiZvPD0tcj9cImRvd25cIjpcInJpZ2h0XCIsaT1vPi1zJiZvPHM/XCJsZWZ0XCI6XCJyaWdodFwiLG49bz4wP1widXBcIjpcImRvd25cIix0LmZvcmNlPnRoaXMub3B0aW9ucy50aHJlc2hvbGQpe3ZhciBkPXt9O2Zvcih2YXIgYSBpbiB0aGlzLmRpcmVjdGlvbil0aGlzLmRpcmVjdGlvbi5oYXNPd25Qcm9wZXJ0eShhKSYmKGRbYV09dGhpcy5kaXJlY3Rpb25bYV0pO3ZhciBwPXt9O3RoaXMuZGlyZWN0aW9uPXt4OmkseTpuLGFuZ2xlOmV9LHQuZGlyZWN0aW9uPXRoaXMuZGlyZWN0aW9uO2Zvcih2YXIgYSBpbiBkKWRbYV09PT10aGlzLmRpcmVjdGlvblthXSYmKHBbYV09ITApO2lmKHAueCYmcC55JiZwLmFuZ2xlKXJldHVybiB0O3AueCYmcC55fHx0aGlzLnRyaWdnZXIoXCJwbGFpblwiLHQpLHAueHx8dGhpcy50cmlnZ2VyKFwicGxhaW46XCIraSx0KSxwLnl8fHRoaXMudHJpZ2dlcihcInBsYWluOlwiK24sdCkscC5hbmdsZXx8dGhpcy50cmlnZ2VyKFwiZGlyIGRpcjpcIitlLHQpfXJldHVybiB0fSxpLnByb3RvdHlwZT1uZXcgdCxpLmNvbnN0cnVjdG9yPWksaS5pZD0wLGkucHJvdG90eXBlLnByZXBhcmVOaXBwbGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQubmlwcGxlcztlLm9uPXQub24uYmluZCh0KSxlLm9mZj10Lm9mZi5iaW5kKHQpLGUub3B0aW9ucz10Lm9wdGlvbnMsZS5kZXN0cm95PXQuZGVzdHJveS5iaW5kKHQpLGUuaWRzPXQuaWRzLGUuaWQ9dC5pZCxlLnByb2Nlc3NPbk1vdmU9dC5wcm9jZXNzT25Nb3ZlLmJpbmQodCksZS5wcm9jZXNzT25FbmQ9dC5wcm9jZXNzT25FbmQuYmluZCh0KSxlLmdldD1mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiBlWzBdO2Zvcih2YXIgaT0wLG49ZS5sZW5ndGg7aTxuO2krPTEpaWYoZVtpXS5pZGVudGlmaWVyPT09dClyZXR1cm4gZVtpXTtyZXR1cm4hMX19LGkucHJvdG90eXBlLmJpbmRpbmdzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmJpbmRFdnQodC5vcHRpb25zLnpvbmUsXCJzdGFydFwiKSx0Lm9wdGlvbnMuem9uZS5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIix0Lm9wdGlvbnMuem9uZS5zdHlsZS5tc1RvdWNoQWN0aW9uPVwibm9uZVwifSxpLnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lm9wdGlvbnM7aWYoXCJzdGF0aWNcIj09PWUubW9kZSl7dmFyIGk9dC5jcmVhdGVOaXBwbGUoZS5wb3NpdGlvbix0Lm1hbmFnZXIuZ2V0SWRlbnRpZmllcigpKTtpLmFkZCgpLHQuaWRsZXMucHVzaChpKX19LGkucHJvdG90eXBlLmNyZWF0ZU5pcHBsZT1mdW5jdGlvbih0LGkpe3ZhciBuPXRoaXMsbz1jLmdldFNjcm9sbCgpLHI9e30scz1uLm9wdGlvbnM7aWYodC54JiZ0Lnkpcj17eDp0LngtKG8ueCtuLmJveC5sZWZ0KSx5OnQueS0oby55K24uYm94LnRvcCl9O2Vsc2UgaWYodC50b3B8fHQucmlnaHR8fHQuYm90dG9tfHx0LmxlZnQpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7ZC5zdHlsZS5kaXNwbGF5PVwiaGlkZGVuXCIsZC5zdHlsZS50b3A9dC50b3AsZC5zdHlsZS5yaWdodD10LnJpZ2h0LGQuc3R5bGUuYm90dG9tPXQuYm90dG9tLGQuc3R5bGUubGVmdD10LmxlZnQsZC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIscy56b25lLmFwcGVuZENoaWxkKGQpO3ZhciBhPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cy56b25lLnJlbW92ZUNoaWxkKGQpLHI9dCx0PXt4OmEubGVmdCtvLngseTphLnRvcCtvLnl9fXZhciBwPW5ldyBlKG4se2NvbG9yOnMuY29sb3Isc2l6ZTpzLnNpemUsdGhyZXNob2xkOnMudGhyZXNob2xkLGZhZGVUaW1lOnMuZmFkZVRpbWUsZGF0YU9ubHk6cy5kYXRhT25seSxyZXN0Sm95c3RpY2s6cy5yZXN0Sm95c3RpY2sscmVzdE9wYWNpdHk6cy5yZXN0T3BhY2l0eSxtb2RlOnMubW9kZSxpZGVudGlmaWVyOmkscG9zaXRpb246dCx6b25lOnMuem9uZSxmcm9udFBvc2l0aW9uOnt4OjAseTowfX0pO3JldHVybiBzLmRhdGFPbmx5fHwoYy5hcHBseVBvc2l0aW9uKHAudWkuZWwsciksYy5hcHBseVBvc2l0aW9uKHAudWkuZnJvbnQscC5mcm9udFBvc2l0aW9uKSksbi5uaXBwbGVzLnB1c2gocCksbi50cmlnZ2VyKFwiYWRkZWQgXCIrcC5pZGVudGlmaWVyK1wiOmFkZGVkXCIscCksbi5tYW5hZ2VyLnRyaWdnZXIoXCJhZGRlZCBcIitwLmlkZW50aWZpZXIrXCI6YWRkZWRcIixwKSxuLmJpbmROaXBwbGUocCkscH0saS5wcm90b3R5cGUudXBkYXRlQm94PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmJveD10Lm9wdGlvbnMuem9uZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0saS5wcm90b3R5cGUuYmluZE5pcHBsZT1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMsbj1mdW5jdGlvbih0LG4pe2U9dC50eXBlK1wiIFwiK24uaWQrXCI6XCIrdC50eXBlLGkudHJpZ2dlcihlLG4pfTt0Lm9uKFwiZGVzdHJveWVkXCIsaS5vbkRlc3Ryb3llZC5iaW5kKGkpKSx0Lm9uKFwic2hvd24gaGlkZGVuIHJlc3RlZCBkaXIgcGxhaW5cIixuKSx0Lm9uKFwiZGlyOnVwIGRpcjpyaWdodCBkaXI6ZG93biBkaXI6bGVmdFwiLG4pLHQub24oXCJwbGFpbjp1cCBwbGFpbjpyaWdodCBwbGFpbjpkb3duIHBsYWluOmxlZnRcIixuKX0saS5wcm90b3R5cGUucHJlc3N1cmVGbj1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcyxvPTA7Y2xlYXJJbnRlcnZhbChuLnByZXNzdXJlSW50ZXJ2YWxzW2ldKSxuLnByZXNzdXJlSW50ZXJ2YWxzW2ldPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIGk9dC5mb3JjZXx8dC5wcmVzc3VyZXx8dC53ZWJraXRGb3JjZXx8MDtpIT09byYmKGUudHJpZ2dlcihcInByZXNzdXJlXCIsaSksbi50cmlnZ2VyKFwicHJlc3N1cmUgXCIrZS5pZGVudGlmaWVyK1wiOnByZXNzdXJlXCIsaSksbz1pKX0uYmluZChuKSwxMDApfSxpLnByb3RvdHlwZS5vbnN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1lLm9wdGlvbnM7dD1jLnByZXBhcmVFdmVudCh0KSxlLnVwZGF0ZUJveCgpO3ZhciBuPWZ1bmN0aW9uKHQpe2UuYWN0aXZlcy5sZW5ndGg8aS5tYXhOdW1iZXJPZk5pcHBsZXMmJmUucHJvY2Vzc09uU3RhcnQodCl9O3JldHVybiBjLm1hcCh0LG4pLGUubWFuYWdlci5iaW5kRG9jdW1lbnQoKSwhMX0saS5wcm90b3R5cGUucHJvY2Vzc09uU3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLG49aS5vcHRpb25zLG89aS5tYW5hZ2VyLmdldElkZW50aWZpZXIodCkscj10LmZvcmNlfHx0LnByZXNzdXJlfHx0LndlYmtpdEZvcmNlfHwwLHM9e3g6dC5wYWdlWCx5OnQucGFnZVl9LGQ9aS5nZXRPckNyZWF0ZShvLHMpO2QuaWRlbnRpZmllciE9PW8mJmkubWFuYWdlci5yZW1vdmVJZGVudGlmaWVyKGQuaWRlbnRpZmllciksZC5pZGVudGlmaWVyPW87dmFyIGE9ZnVuY3Rpb24oZSl7ZS50cmlnZ2VyKFwic3RhcnRcIixlKSxpLnRyaWdnZXIoXCJzdGFydCBcIitlLmlkK1wiOnN0YXJ0XCIsZSksZS5zaG93KCkscj4wJiZpLnByZXNzdXJlRm4odCxlLGUuaWRlbnRpZmllciksaS5wcm9jZXNzT25Nb3ZlKHQpfTtpZigoZT1pLmlkbGVzLmluZGV4T2YoZCkpPj0wJiZpLmlkbGVzLnNwbGljZShlLDEpLGkuYWN0aXZlcy5wdXNoKGQpLGkuaWRzLnB1c2goZC5pZGVudGlmaWVyKSxcInNlbWlcIiE9PW4ubW9kZSlhKGQpO2Vsc2V7aWYoIShjLmRpc3RhbmNlKHMsZC5wb3NpdGlvbik8PW4uY2F0Y2hEaXN0YW5jZSkpcmV0dXJuIGQuZGVzdHJveSgpLHZvaWQgaS5wcm9jZXNzT25TdGFydCh0KTthKGQpfXJldHVybiBkfSxpLnByb3RvdHlwZS5nZXRPckNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcyxvPW4ub3B0aW9ucztyZXR1cm4vKHNlbWl8c3RhdGljKS8udGVzdChvLm1vZGUpPyhpPW4uaWRsZXNbMF0pPyhuLmlkbGVzLnNwbGljZSgwLDEpLGkpOlwic2VtaVwiPT09by5tb2RlP24uY3JlYXRlTmlwcGxlKGUsdCk6KGNvbnNvbGUud2FybihcIkNvdWRsbid0IGZpbmQgdGhlIG5lZWRlZCBuaXBwbGUuXCIpLCExKTppPW4uY3JlYXRlTmlwcGxlKGUsdCl9LGkucHJvdG90eXBlLnByb2Nlc3NPbk1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWUub3B0aW9ucyxuPWUubWFuYWdlci5nZXRJZGVudGlmaWVyKHQpLG89ZS5uaXBwbGVzLmdldChuKTtpZighbylyZXR1cm4gY29uc29sZS5lcnJvcihcIkZvdW5kIHpvbWJpZSBqb3lzdGljayB3aXRoIElEIFwiK24pLHZvaWQgZS5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIobik7by5pZGVudGlmaWVyPW47dmFyIHI9by5vcHRpb25zLnNpemUvMixzPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxkPWMuZGlzdGFuY2UocyxvLnBvc2l0aW9uKSxhPWMuYW5nbGUocyxvLnBvc2l0aW9uKSxwPWMucmFkaWFucyhhKSxsPWQvcjtkPnImJihkPXIscz1jLmZpbmRDb29yZChvLnBvc2l0aW9uLGQsYSkpLG8uZnJvbnRQb3NpdGlvbj17eDpzLngtby5wb3NpdGlvbi54LHk6cy55LW8ucG9zaXRpb24ueX0saS5kYXRhT25seXx8Yy5hcHBseVBvc2l0aW9uKG8udWkuZnJvbnQsby5mcm9udFBvc2l0aW9uKTt2YXIgdT17aWRlbnRpZmllcjpvLmlkZW50aWZpZXIscG9zaXRpb246cyxmb3JjZTpsLHByZXNzdXJlOnQuZm9yY2V8fHQucHJlc3N1cmV8fHQud2Via2l0Rm9yY2V8fDAsZGlzdGFuY2U6ZCxhbmdsZTp7cmFkaWFuOnAsZGVncmVlOmF9LGluc3RhbmNlOm99O3U9by5jb21wdXRlRGlyZWN0aW9uKHUpLHUuYW5nbGU9e3JhZGlhbjpjLnJhZGlhbnMoMTgwLWEpLGRlZ3JlZToxODAtYX0sby50cmlnZ2VyKFwibW92ZVwiLHUpLGUudHJpZ2dlcihcIm1vdmUgXCIrby5pZCtcIjptb3ZlXCIsdSl9LGkucHJvdG90eXBlLnByb2Nlc3NPbkVuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9ZS5vcHRpb25zLG49ZS5tYW5hZ2VyLmdldElkZW50aWZpZXIodCksbz1lLm5pcHBsZXMuZ2V0KG4pLHI9ZS5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoby5pZGVudGlmaWVyKTtvJiYoaS5kYXRhT25seXx8by5oaWRlKGZ1bmN0aW9uKCl7XCJkeW5hbWljXCI9PT1pLm1vZGUmJihvLnRyaWdnZXIoXCJyZW1vdmVkXCIsbyksZS50cmlnZ2VyKFwicmVtb3ZlZCBcIitvLmlkK1wiOnJlbW92ZWRcIixvKSxlLm1hbmFnZXIudHJpZ2dlcihcInJlbW92ZWQgXCIrby5pZCtcIjpyZW1vdmVkXCIsbyksby5kZXN0cm95KCkpfSksY2xlYXJJbnRlcnZhbChlLnByZXNzdXJlSW50ZXJ2YWxzW28uaWRlbnRpZmllcl0pLG8ucmVzZXREaXJlY3Rpb24oKSxvLnRyaWdnZXIoXCJlbmRcIixvKSxlLnRyaWdnZXIoXCJlbmQgXCIrby5pZCtcIjplbmRcIixvKSxlLmlkcy5pbmRleE9mKG8uaWRlbnRpZmllcik+PTAmJmUuaWRzLnNwbGljZShlLmlkcy5pbmRleE9mKG8uaWRlbnRpZmllciksMSksZS5hY3RpdmVzLmluZGV4T2Yobyk+PTAmJmUuYWN0aXZlcy5zcGxpY2UoZS5hY3RpdmVzLmluZGV4T2YobyksMSksLyhzZW1pfHN0YXRpYykvLnRlc3QoaS5tb2RlKT9lLmlkbGVzLnB1c2gobyk6ZS5uaXBwbGVzLmluZGV4T2Yobyk+PTAmJmUubmlwcGxlcy5zcGxpY2UoZS5uaXBwbGVzLmluZGV4T2YobyksMSksZS5tYW5hZ2VyLnVuYmluZERvY3VtZW50KCksLyhzZW1pfHN0YXRpYykvLnRlc3QoaS5tb2RlKSYmKGUubWFuYWdlci5pZHNbci5pZF09ci5pZGVudGlmaWVyKSl9LGkucHJvdG90eXBlLm9uRGVzdHJveWVkPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztpLm5pcHBsZXMuaW5kZXhPZihlKT49MCYmaS5uaXBwbGVzLnNwbGljZShpLm5pcHBsZXMuaW5kZXhPZihlKSwxKSxpLmFjdGl2ZXMuaW5kZXhPZihlKT49MCYmaS5hY3RpdmVzLnNwbGljZShpLmFjdGl2ZXMuaW5kZXhPZihlKSwxKSxpLmlkbGVzLmluZGV4T2YoZSk+PTAmJmkuaWRsZXMuc3BsaWNlKGkuaWRsZXMuaW5kZXhPZihlKSwxKSxpLmlkcy5pbmRleE9mKGUuaWRlbnRpZmllcik+PTAmJmkuaWRzLnNwbGljZShpLmlkcy5pbmRleE9mKGUuaWRlbnRpZmllciksMSksaS5tYW5hZ2VyLnJlbW92ZUlkZW50aWZpZXIoZS5pZGVudGlmaWVyKSxpLm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKX0saS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC51bmJpbmRFdnQodC5vcHRpb25zLnpvbmUsXCJzdGFydFwiKSx0Lm5pcHBsZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0LmRlc3Ryb3koKX0pO2Zvcih2YXIgZSBpbiB0LnByZXNzdXJlSW50ZXJ2YWxzKXQucHJlc3N1cmVJbnRlcnZhbHMuaGFzT3duUHJvcGVydHkoZSkmJmNsZWFySW50ZXJ2YWwodC5wcmVzc3VyZUludGVydmFsc1tlXSk7dC50cmlnZ2VyKFwiZGVzdHJveWVkXCIsdC5uaXBwbGVzKSx0Lm1hbmFnZXIudW5iaW5kRG9jdW1lbnQoKSx0Lm9mZigpfSxuLnByb3RvdHlwZT1uZXcgdCxuLmNvbnN0cnVjdG9yPW4sbi5wcm90b3R5cGUucHJlcGFyZUNvbGxlY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmNvbGxlY3Rpb25zLmNyZWF0ZT10LmNyZWF0ZS5iaW5kKHQpLHQuY29sbGVjdGlvbnMub249dC5vbi5iaW5kKHQpLHQuY29sbGVjdGlvbnMub2ZmPXQub2ZmLmJpbmQodCksdC5jb2xsZWN0aW9ucy5kZXN0cm95PXQuZGVzdHJveS5iaW5kKHQpLHQuY29sbGVjdGlvbnMuZ2V0PWZ1bmN0aW9uKGUpe3ZhciBpO3JldHVybiB0LmNvbGxlY3Rpb25zLmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiEoaT10LmdldChlKSl9KSxpfX0sbi5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNyZWF0ZUNvbGxlY3Rpb24odCl9LG4ucHJvdG90eXBlLmNyZWF0ZUNvbGxlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPW5ldyBpKGUsdCk7cmV0dXJuIGUuYmluZENvbGxlY3Rpb24obiksZS5jb2xsZWN0aW9ucy5wdXNoKG4pLG59LG4ucHJvdG90eXBlLmJpbmRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcyxuPWZ1bmN0aW9uKHQsbil7ZT10LnR5cGUrXCIgXCIrbi5pZCtcIjpcIit0LnR5cGUsaS50cmlnZ2VyKGUsbil9O3Qub24oXCJkZXN0cm95ZWRcIixpLm9uRGVzdHJveWVkLmJpbmQoaSkpLHQub24oXCJzaG93biBoaWRkZW4gcmVzdGVkIGRpciBwbGFpblwiLG4pLHQub24oXCJkaXI6dXAgZGlyOnJpZ2h0IGRpcjpkb3duIGRpcjpsZWZ0XCIsbiksdC5vbihcInBsYWluOnVwIHBsYWluOnJpZ2h0IHBsYWluOmRvd24gcGxhaW46bGVmdFwiLG4pfSxuLnByb3RvdHlwZS5iaW5kRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuYmluZGVkfHwodC5iaW5kRXZ0KGRvY3VtZW50LFwibW92ZVwiKS5iaW5kRXZ0KGRvY3VtZW50LFwiZW5kXCIpLHQuYmluZGVkPSEwKX0sbi5wcm90b3R5cGUudW5iaW5kRG9jdW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztPYmplY3Qua2V5cyhlLmlkcykubGVuZ3RoJiYhMCE9PXR8fChlLnVuYmluZEV2dChkb2N1bWVudCxcIm1vdmVcIikudW5iaW5kRXZ0KGRvY3VtZW50LFwiZW5kXCIpLGUuYmluZGVkPSExKX0sbi5wcm90b3R5cGUuZ2V0SWRlbnRpZmllcj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdD92b2lkIDA9PT0oZT12b2lkIDA9PT10LmlkZW50aWZpZXI/dC5wb2ludGVySWQ6dC5pZGVudGlmaWVyKSYmKGU9dGhpcy5sYXRlc3R8fDApOmU9dGhpcy5pbmRleCx2b2lkIDA9PT10aGlzLmlkc1tlXSYmKHRoaXMuaWRzW2VdPXRoaXMuaW5kZXgsdGhpcy5pbmRleCs9MSksdGhpcy5sYXRlc3Q9ZSx0aGlzLmlkc1tlXX0sbi5wcm90b3R5cGUucmVtb3ZlSWRlbnRpZmllcj1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdGhpcy5pZHMpaWYodGhpcy5pZHNbaV09PT10KXtlLmlkPWksZS5pZGVudGlmaWVyPXRoaXMuaWRzW2ldLGRlbGV0ZSB0aGlzLmlkc1tpXTticmVha31yZXR1cm4gZX0sbi5wcm90b3R5cGUub25tb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQW55KFwibW92ZVwiLHQpLCExfSxuLnByb3RvdHlwZS5vbmVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFueShcImVuZFwiLHQpLCExfSxuLnByb3RvdHlwZS5vbkFueT1mdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcyxvPVwicHJvY2Vzc09uXCIrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2U9Yy5wcmVwYXJlRXZlbnQoZSk7dmFyIHI9ZnVuY3Rpb24odCxlLGkpe2kuaWRzLmluZGV4T2YoZSk+PTAmJihpW29dKHQpLHQuX2ZvdW5kXz0hMCl9LHM9ZnVuY3Rpb24odCl7aT1uLmdldElkZW50aWZpZXIodCksYy5tYXAobi5jb2xsZWN0aW9ucyxyLmJpbmQobnVsbCx0LGkpKSx0Ll9mb3VuZF98fG4ucmVtb3ZlSWRlbnRpZmllcihpKX07cmV0dXJuIGMubWFwKGUscyksITF9LG4ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QudW5iaW5kRG9jdW1lbnQoITApLHQuaWRzPXt9LHQuaW5kZXg9MCx0LmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7dC5kZXN0cm95KCl9KSx0Lm9mZigpfSxuLnByb3RvdHlwZS5vbkRlc3Ryb3llZD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7aWYoaS5jb2xsZWN0aW9ucy5pbmRleE9mKGUpPDApcmV0dXJuITE7aS5jb2xsZWN0aW9ucy5zcGxpY2UoaS5jb2xsZWN0aW9ucy5pbmRleE9mKGUpLDEpfTt2YXIgbD1uZXcgbjtyZXR1cm57Y3JlYXRlOmZ1bmN0aW9uKHQpe3JldHVybiBsLmNyZWF0ZSh0KX0sZmFjdG9yeTpsfX0pO1xuXG5jb25zdCBzdHlsZSA9IFwicG9zaXRpb246Zml4ZWQ7ZGlzcGxheTpibG9jazt3aWR0aDoxMDBweDtoZWlnaHQ6MTAwcHg7cmlnaHQ6MXJlbTtib3R0b206NHJlbTtiYWNrZ3JvdW5kLWNvbG9yOiNjOGM4Yzg4MDt6LWluZGV4OjIwXCJcblxuZnVuY3Rpb24gaW5pdEpveXN0aWNrKCkge1xuICAvLyBjcmVhdGUgZWxlbWVudFxuICBsZXQgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gIGQuc2V0QXR0cmlidXRlKFwiaWRcIixcImpveXN0aWNrXCIpO1xuICAvL2Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixzdHlsZSlcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQoZClcblxuICAvLyBjcmVhdGUgdGV4dCBvdmVybGF5XG4gIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbiAgcC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidGV4dC1hbGlnbjogY2VudGVyO21hcmdpbi10b3A6NDVweDtmb250LXNpemU6MTJweDsgZm9udC1mYW1pbHk6QXJpYWw7IG9wYWNpdHk6LjU7XCIpO1xuICBwLmlubmVySFRNTD1cIkpveXN0aWNrXCJcbiAgZC5hcHBlbmRDaGlsZChwKVxuICB2YXIgam95c3RpY2tFdmVudCA9IG5ldyBDdXN0b21FdmVudChcImpveXN0aWNrLWNyZWF0ZWRcIiwgeyBcImRldGFpbFwiOiBcIkpveXN0aWNrIGhhcyBiZWVuIGNyZWF0ZWRcIiB9KTtcbiAgLy8gRGlzcGF0Y2gvVHJpZ2dlci9GaXJlIHRoZSBldmVudFxuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGpveXN0aWNrRXZlbnQpO1xuXG59XG5cbnZhciBtb3ZlRGF0YSA9XCJcIjtcblxuLy8gY3JlYXRlIHN0YW5kYXJkIE5pcHBsZXNKUyBqb3lzdGlja1xuZnVuY3Rpb24gY3JlYXRlSm95c3RpY2soKSB7XG4gIGluaXRKb3lzdGljaygpXG4gIHZhciBvcHRpb25zPSB7XG4gICAgbW9kZTogJ2R5bmFtaWMnLFxuICAgIHpvbmU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb3lzdGljaycpLFxuICAgIGNvbG9yOiBcIiMwRjAwMDBcIixcbiAgICBmYWRlVGltZTogMTBcbiAgfVxuXG4gICB2YXIgbWFuYWdlciA9IG5pcHBsZWpzLmNyZWF0ZShvcHRpb25zKTtcbiAgIGJpbmROaXBwbGUoKTtcblxuICAgZnVuY3Rpb24gYmluZE5pcHBsZSAoKSB7XG4gICAgICAgICAgICAgICBtYW5hZ2VyLm9uKCdtb3ZlJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgIG1vdmVEYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgbWFuYWdlci5vbignZW5kJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgIG1vdmVEYXRhID0gXCJcIjtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgIH1cblxuICB9XG4gIFxuICAvL0tFWVNcbiAgdmFyIGtleXMgPSB7XG4gICAgdXA6IHtcbiAgICAgIFwiY29kZVwiIDogXCJBcnJvd1VwXCIsXG4gICAgICBcImtleUNvZGVcIiA6IDM4XG4gICAgfSxcbiAgICBkb3duOiB7XG4gICAgICBcImNvZGVcIiA6IFwiQXJyb3dEb3duXCIsXG4gICAgICBcImtleUNvZGVcIiA6IDQwXG4gICAgfSxcbiAgICByaWdodCA6IHtcbiAgICAgIFwiY29kZVwiIDogXCJBcnJvd1JpZ2h0XCIsXG4gICAgICBcImtleUNvZGVcIiA6IDM5XG4gICAgfSxcbiAgICBsZWZ0IDoge1xuICAgICAgXCJjb2RlXCIgOiBcIkFycm93TGVmdFwiLFxuICAgICAgXCJrZXlDb2RlXCIgOiAzN1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcmV2aW91czsgLy8gY29udHJvbCB2YXJpYWJsZSAtLSBmb3IgYXZvaWRpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oZGF0YSkge1xuICAgIGYgPSBkYXRhLmZvcmNlO1xuICAgIGFuZyA9IGRhdGEuYW5nbGUucmFkaWFuXG4gICAgY2FtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW1lcmFcIik7XG4gICAgLy8gc3dpdGNoIGJ5IGFuZ2xlcyAtLSBlbWl0aW5nIGV2ZW50c1xuICAgIFxuICAgIGlmIChhbmcgPj0gNypNYXRoLlBJLzQgfHwgYW5nIDw9IE1hdGguUEkvNCkge1xuICAgICAgaWYgKHByZXZpb3VzICE9IFwicmlnaHRcIikge1xuICAgICAgICBwcmV2aW91cyA9IFwicmlnaHRcIjtcbiAgICAgICAgbXlLZXlFdmVudChcImtleWRvd25cIiwga2V5cy5yaWdodCk7IC8vIHJpZ2h0XG4gICAgICAgIGtleXVwT3RoZXJLZXlzKFwiQXJyb3dSaWdodFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gZWxzZSBpZiAoYW5nIDw9IDMqTWF0aC5QSS80KSB7IFxuICAgICAgaWYgKHByZXZpb3VzICE9IFwidXBcIikge1xuICAgICAgICBwcmV2aW91cyA9IFwidXBcIjtcbiAgICAgICAgbXlLZXlFdmVudChcImtleWRvd25cIiwga2V5cy51cCk7IC8vIHVwXG4gICAgICAgIGtleXVwT3RoZXJLZXlzKFwiQXJyb3dVcFwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFuZyA8PSBNYXRoLlBJKig1LzQpKSB7XG4gICAgICBpZiAocHJldmlvdXMgIT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgcHJldmlvdXMgPSBcImxlZnRcIjtcbiAgICAgICAgbXlLZXlFdmVudChcImtleWRvd25cIiwga2V5cy5sZWZ0KTsgLy8gbGVmdFxuICAgICAgICBrZXl1cE90aGVyS2V5cyhcIkFycm93TGVmdFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJldmlvdXMgIT0gXCJkb3duXCIpIHtcbiAgICAgICAgcHJldmlvdXMgPSBcImRvd25cIjtcbiAgICAgICAgbXlLZXlFdmVudChcImtleWRvd25cIiwga2V5cy5kb3duKTsgLy8gZG93blxuICAgICAgICBrZXl1cE90aGVyS2V5cyhcIkFycm93RG93blwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH1cblxuICAgIFxuXG4gICAgLyp4X3ZlYyA9IE1hdGguY29zKGFuZyArIDMuMTQvMTgwKmNhbS5nZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJylbJ3knXSkgO1xuICAgIHlfdmVjID0gTWF0aC5zaW4oYW5nICsgMy4xNC8xODAqY2FtLmdldEF0dHJpYnV0ZSgncm90YXRpb24nKVsneSddKSA7XG5cbiAgICB4ID0gY2FtLmdldEF0dHJpYnV0ZShcInBvc2l0aW9uXCIpW1wieFwiXSArIGYvMTUqKHhfdmVjICkgO1xuICAgIHkgPSBjYW0uZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIilbXCJ5XCJdXG4gICAgeiA9IGNhbS5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKVtcInpcIl0gLSBmLzE1Kih5X3ZlYyApIDtcblxuICAgIGNhbS5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLGAke3h9ICR7eX0gJHt6fWApKi9cbiAgfVxuXG5cbiAgdmFyIHN3aXRjID0gZmFsc2U7XG5cbiAgQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdqb3lzdGljaycsIHtcbiAgICBpbml0OiBmdW5jdGlvbigpIHsgXG4gICAgICBjcmVhdGVKb3lzdGljaygpO1xuICAgIH0sXG4gICAgdGljazogZnVuY3Rpb24gKHRpbWUsIHRpbWVEZWx0YSkge1xuICAgICAgaWYgKG1vdmVEYXRhICE9IFwiXCIpIHtcbiAgICAgICAgc3dpdGMgPSB0cnVlXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uKG1vdmVEYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN3aXRjKSB7XG4gICAgICAgICAgc3dpdGMgPSBmYWxzZTtcbiAgICAgICAgICBrZXl1cE90aGVyS2V5cyhcIm5vbmVcIik7XG4gICAgICAgICAgcHJldmlvdXMgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHsqfSB0eXBlIG9mIGtleSBldmVudCAtIGtleXVwIG9yIGtleWRvd25cbiAgICogQHBhcmFtIHsqfSBrZXkge2NvZGU6IFwiXCIsIGtleUNvZGU6IFwiXCJ9XG4gICAqL1xuICBmdW5jdGlvbiBteUtleUV2ZW50KHR5cGUsIGtleSkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQodHlwZSwge2FsdEtleTpmYWxzZSxcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxCdWJibGU6IGZhbHNlLCBcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICBjaGFyQ29kZTogMCxcbiAgICAgIGNvZGU6IGtleS5jb2RlLFxuICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICBjdHJsS2V5OiBmYWxzZSxcbiAgICAgIGN1cnJlbnRUYXJnZXQ6IG51bGwsXG4gICAgICBkZWZhdWx0UHJldmVudGVkOiB0cnVlLFxuICAgICAgZGV0YWlsOiAwLFxuICAgICAgZXZlbnRQaGFzZTogMCxcbiAgICAgIGlzQ29tcG9zaW5nOiBmYWxzZSxcbiAgICAgIGlzVHJ1c3RlZDogdHJ1ZSxcbiAgICAgIGtleTogXCJFbnRlclwiLFxuICAgICAga2V5Q29kZToga2V5LmtleUNvZGUsXG4gICAgICBsb2NhdGlvbjogMCxcbiAgICAgIG1ldGFLZXk6IGZhbHNlLFxuICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgIHJldHVyblZhbHVlOiBmYWxzZSxcbiAgICAgIHNoaWZ0S2V5OiBmYWxzZSxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB3aGljaDoga2V5LmtleUNvZGV9KSk7XG4gIH1cblxuICAvKipcbiAgICogS2V5cyB1cCBhbGwgdGhlIGtleXMgZnJvbSB2YXIga2V5cyBhcGFydCBmb3IgdGhlIG9uZSBzcGVjaWZpZWRcbiAgICogQHBhcmFtIHsqfSB0aGlzS2V5IGNvZGUgb2Yga2V5XG4gICAqL1xuICBmdW5jdGlvbiBrZXl1cE90aGVyS2V5cyh0aGlzS2V5KSB7XG4gICAgT2JqZWN0LmtleXMoa2V5cykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChrZXlzW2tleV0uY29kZSAhPSB0aGlzS2V5KVxuICAgICAgICBteUtleUV2ZW50KFwia2V5dXBcIiwga2V5c1trZXldKTtcbiAgICB9KTtcbiAgfSIsIi8qIE1BSU4gKi9cclxuLypkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidGVtcGxhdGVfZG9uZVwiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLy8gbGlzdGVuIGZvciBjbGljayBvZiBnYWxsZXJ5IGJ1dHRvblxyXG4gICAgLy8gdG8gdGhlIHJpZ2h0IGNsaWNrXHJcbiAgICB2YXIgYnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJnYWxfcmlnaHRfY2xpY2tcIik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBidXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByaWdodF9jbGljaywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLy8gdG8gdGhlIGxlZnRcclxuICAgIHZhciBidXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdhbF9sZWZ0X2NsaWNrXCIpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbGVmdF9jbGljaywgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxpc3RlbiBmb3IgYnV0dG9ucyBzd2lwZXMgKGhhbW1lci5qcykgZXRjIC0tICBUT0RPIGFmdGVyIHRoZSB3aG9sZSBnYWxsZXJ5IGlzIHdvcmtpbmdcclxuXHJcbiAgICB2YXIgZW5sYXJnZV9pY29ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJlbmxhcmdlX2ljb25cIik7XHJcbiAgICBcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW5sYXJnZV9pY29ucy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGVubGFyZ2VfaWNvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGVubGFyZ2UpO1xyXG4gICAgfVxyXG59KTsqL1xyXG5cclxuZnVuY3Rpb24gYnVpbGRfZ2FsbGVyeShnYWxsZXJ5X29iaikge1xyXG4gICAgdmFyIG9SZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHZhciBqc29uO1xyXG4gICAgb1JlcS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAganNvbiA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJqc29uIGxlbmd0aCBcIiArIGpzb24ubGVuZ3RoKTtcclxuICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhqc29uKS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtcHR5IGdhbGxlcnkgXCIgKyBnYWxsZXJ5X29iai5qc29uX2dhbGxlcnlfc3JjKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwdXRfdGVtcGxhdGVfdG9faHRtbChnYWxsZXJ5X29iaiwgXCIjXCIrZ2FsbGVyeV9vYmoucGFyZW50X2lkICsgXCIgLnBvcHVwX2JvZHlcIiwgSGFuZGxlYmFycy50ZW1wbGF0ZXMuZ2FsbGVyeSk7XHJcbiAgICAgICAgY3JlYXRlX2dhbGxlcnkoZ2FsbGVyeV9vYmoucGFyZW50X2lkLCBqc29uLCBnYWxsZXJ5X29iai5qc29uX2dhbGxlcnlfc3JjLCBnYWxsZXJ5X29iai5oYXNfZnVsbF9zaXplX3ZlcnNpb24pO1xyXG4gICAgfVxyXG4gICAgb1JlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkgeyBjb25zb2xlLmxvZygnRmV0Y2ggRXJyb3InLCBlcnIpOyB9O1xyXG4gICAgb1JlcS5vcGVuKCdnZXQnLCBnYWxsZXJ5X29iai5qc29uX2dhbGxlcnlfc3JjICsgJy9kaXJfbGlzdC5qc29uJywgdHJ1ZSk7XHJcbiAgICBvUmVxLnNlbmQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgZ2FsbGVyeS4gSXQgdGFrZXMgY2FyZSBvZiBjcmVhdGluZyBIVE1MIHJlcHJlc2VudGF0aW9uIG9mIGl0LCBsb2FkaW5nIGpzb24sIHNldHRpbmcgZXZlcnl0aGluZyB1cC5cclxuICogTm90ZTogdGhlIGdhbGxlcnkgcmVwcmVzZW50YXRpb24gaW4gQS1GcmFtZSBpcyBkb25lIGJ5IGNyZWF0ZV9wb3B1cCgpIGZ1bmN0aW9uIC0tIGJlbG93XHJcbiAqIEBwYXJhbSB7Kn0gZ2FsX2lkXHJcbiAqIEBwYXJhbSB7Kn0gZ2FsX2pzb24gXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVfZ2FsbGVyeShnYWxfaWQsIGdhbF9qc29uLCBqc29uX2dhbGxlcnlfc3JjLCBoYXNfZnVsbF9zaXplX3ZlcnNpb24pIHtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGxldCBnYWxfY291bnQgPSAwOyAvLyBkbyBub3Qga25vdyBpZiBjb3JyZWN0XHJcbiAgICB2YXIgbWFpbl9nYWxfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYWxfd3JhcHBlclwiICsgZ2FsX2lkKTtcclxuICAgIGZvciAodmFyIHNyYyBpbiBnYWxfanNvbikge1xyXG4gICAgICAgICsrZ2FsX2NvdW50O1xyXG4gICAgICAgIC8vIG1ha2UgZGl2IHdyYXBwaW5nIHRoZSBpbWFnZSAtLSBzaG91bGQgYmUgbnVtYmVyZWQgLSB2YXJpYWJsZSBmb3IgaW5jcmVtZW50aW5nXHJcbiAgICAgICAgdmFyIHdyYXBfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcbiAgICAgICAgLy8gbnVtYmVyIHdpbGwgYmUgaW4gZm9ybWF0IDAwMSAwMTAgMTAwIGV0Yy5cclxuICAgICAgICBwcmVwZW5kID0gY2FsY19wcmVwZW5kKGkpO1xyXG4gICAgICAgIHdyYXBfZGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ2FsX3dyYXBwZXJcIiArIGdhbF9pZCArIHByZXBlbmQgKyBpKTsgLy8gbnVtYmVyZWQgaWRcclxuICAgICAgICB3cmFwX2Rpdi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImltYWdlX3dyYXBwZXJcIik7XHJcbiAgICAgICAgLy8gbWFrZSBpbWFnZSB3aXRoIGxhenkgbG9hZGluZyBzdHVmZlxyXG4gICAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgdmFyIGxhenlfc3JjID0ganNvbl9nYWxsZXJ5X3NyYyArIFwiL1wiICtzcmM7XHJcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwibGF6eS1zcmNcIiwgbGF6eV9zcmMpO1xyXG5cclxuICAgICAgICAvL2ZvciBpbWFnZSBlbmxhcmdpbmcgdXBvbiBjbGlja1xyXG4gICAgICAgIC8vIGZpbmQgb3V0IGlmIGZ1bGwgc2l6ZWRcclxuICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xyXG4gICAgICAgIGlmIChoYXNfZnVsbF9zaXplX3ZlcnNpb24pIHtcclxuICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGpzb25fZ2FsbGVyeV9zcmMgKyBcIi9mdWxsL1wiICtzcmMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBsYXp5X3NyYyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYWtlIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gZ2FsX2pzb25bc3JjXTtcclxuICAgICAgICAvLyBhcHBlbmQgd3JhcHBpbmcgZGl2IHRvIG1haW4gd3JhcHBpbmcgZGl2LCBhcHBlbmQgaW1hZ2UgYW5kIGRlc2NyaXB0aW9uIHRvIGl0XHJcbiAgICAgICAgYS5hcHBlbmRDaGlsZChpbWFnZSk7XHJcbiAgICAgICAgd3JhcF9kaXYuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgd3JhcF9kaXYuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG1haW5fZ2FsX2Rpdi5hcHBlbmRDaGlsZCh3cmFwX2Rpdik7XHJcbiAgICAgICAgfSBjYXRjaCAoRXJyb3IpIHsgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gYXBwZW5kIGdhbGxlcnkgdG8gYSB5ZXQgbm9uZXhpc3RlbnQgZWxlbWVudFwiKTsgcmV0dXJuO31cclxuICAgICAgICBcclxuICAgICAgICAvLyBsYXp5IGxvYWRpbmcgaXRzZWxmIGhhbmRsZWQgaW4gcmlnaHQgY2xpY2sgZnVuY3Rpb25cclxuICAgICAgICArK2k7XHJcbiAgICB9XHJcbiAgICAvLyBzZXQgZ2FsbGVyeSBjb3VudGVyXHJcbiAgICBsZXQgY291bnRfdmlzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnX251bVwiICsgZ2FsX2lkKTtcclxuICAgIGNvdW50X3Zpcy5xdWVyeVNlbGVjdG9yKCcudG90YWwnKS5pbm5lckhUTUwgPSBcIi9cIiArIGdhbF9jb3VudDtcclxuXHJcbiAgICAvLyBsaXN0ZW5lcnNcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpc2VzIHRoZSBnYWxsZXJ5IHdoZW4gdXNlciBjbGlja3Mgb24gYnV0dG9uIGluIEFmcmFtZS5cclxuICogSWYgeW91IGludGVuZCB0byB1c2UgdGhlIGdhbGxlcnkgb24gaXRzIG93biB5b3UgaGF2ZSB0byBjYWxsIHRoaXMgZnVuY3Rpb24gbWFudWFsbHlcclxuICogQHBhcmFtIHsqfSBnYWxsZXJ5X3dyYXBwZXIgXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0X2dhbGxlcnkoZ2FsbGVyeV93cmFwcGVyKSB7XHJcbiAgICAvLyBXSEFUIEkgQ0FMTCBJTUcgQVJFIEFDVFVBTExZIFdSQVBQRVJTIE9GIElNR1xyXG4gICAgLy8gbG9hZCBmaXJzdCB0d28gaW1hZ2VzXHJcbiAgICB2YXIgaW1nX3dyYXBwZXIxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ2FsbGVyeV93cmFwcGVyLmlkICsgXCIwMDBcIik7XHJcbiAgICB2YXIgaW1nX3dyYXBwZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ2FsbGVyeV93cmFwcGVyLmlkICsgXCIwMDFcIik7XHJcbiAgICBcclxuICAgIHNldF9zcmMoaW1nX3dyYXBwZXIxKTtcclxuICAgIGlmIChpbWdfd3JhcHBlcjIgIT0gbnVsbCkgc2V0X3NyYyhpbWdfd3JhcHBlcjIpO1xyXG4gICAgLy8gZGVhY3RpdmF0ZSBpbWFnZSBiZWZvcmVcclxuICAgIHRyeSB7XHJcbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhY3RpdmVfaW1nXCIpKVswXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlX2ltZ1wiKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgXHJcbiAgICAvLyBhZGQgYWN0aXZlIGNsYXNzIHRvIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwaWN0dXJlIChudW1iZXIgMClcclxuICAgIGltZ193cmFwcGVyMS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX2ltZ1wiKTtcclxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IHRyYWNrX2tleXM7XHJcblxyXG4gICAgLy8gc2V0IGNvdW50ZXIgdG8gb25lXHJcbiAgICBnYWxsZXJ5X3dyYXBwZXIucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50X2ltZ1wiKS5pbm5lckhUTUwgPSBcIjFcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvciBzbGlkaW5nIGltYWdlcyB1c2luZyBhcnJvd3MuXHJcbiAqIEBwYXJhbSB7Kn0gZXZlbnQgXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFja19rZXlzKGV2ZW50KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XHJcbiAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxyXG4gICAgICAgICAgICBsZWZ0X2NsaWNrKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XHJcbiAgICAgICAgICAgIHJpZ2h0X2NsaWNrKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogU2V0cyBzcmMgdG8gaW1hZ2UgYW5kIGxvYWRzIGl0XHJcbiAqIEBwYXJhbSB7Kn0gaW1nX3dyYXBwZXIgXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRfc3JjKGltZ193cmFwcGVyKSB7XHJcbiAgICB2YXIgbGF6eV9zcmMgPSBpbWdfd3JhcHBlci5jaGlsZHJlblswXS5jaGlsZHJlblswXS5nZXRBdHRyaWJ1dGUoXCJsYXp5LXNyY1wiKTtcclxuICAgIGltZ193cmFwcGVyLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsYXp5X3NyYyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUYWtlcyBjYXJlIG9mIHNsaWRpbmcgaW1hZ2VzIGFuZCBsYXp5IGxvYWRpbmcgbmV3IG9uZXMuXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgXHJcbiAqL1xyXG5mdW5jdGlvbiByaWdodF9jbGljaygpIHtcclxuICAgIC8vIGdldCBjdXJyZW50IGFjdGl2ZSBpbWFnZVxyXG4gICAgdmFyIHByZXZpb3VzX2FjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhY3RpdmVfaW1nXCIpWzBdO1xyXG4gICAgdmFyIGlkID0gcHJldmlvdXNfYWN0aXZlLmlkO1xyXG4gICAgdmFyIGNsZWFuX2lkID0gaWQuc2xpY2UoMCwgLTMpO1xyXG4gICAgdmFyIG5vX2lkID0gaWQuc2xpY2UoLTMsIGlkLmxlbmd0aCk7XHJcbiAgICB2YXIgbm8gPSBwYXJzZUludChub19pZCwgMTApO1xyXG4gICAgLy8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgbGFzdCBpbWFnZVxyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNsZWFuX2lkICsgaW50MnByZXBTdHJpbmcoKCsrbm8pKSkgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gY2hhZ2UsIHdoYXQgaXMgZGlzcGxheWVkIG9uIHRoZSBpbWFnZSBjb3VudFxyXG4gICAgcHJldmlvdXNfYWN0aXZlLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50X2ltZ1wiKS5pbm5lckhUTUwgPSBubyArIDE7XHJcbiAgICAvLyBzZXQgbmV3IGFjdGl2ZVxyXG4gICAgcHJldmlvdXNfYWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVfaW1nXCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2xlYW5faWQgKyBpbnQycHJlcFN0cmluZygobm8pKSkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZV9pbWdcIik7XHJcbiAgICAvLyBsb2FkIG5ldyBpbWFnZSBpZiBpdCBleGlzdHNcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjbGVhbl9pZCArIGludDJwcmVwU3RyaW5nKCgrK25vKSkpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHNldF9zcmMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2xlYW5faWQgKyBpbnQycHJlcFN0cmluZygobm8pKSkpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIG90aGVyIHdheSB0byByaWdodCBjbGlja1xyXG4gKi9cclxuZnVuY3Rpb24gbGVmdF9jbGljaygpIHtcclxuICAgIC8vIGdldCBjdXJyZW50IGFjdGl2ZSBpbWFnZVxyXG4gICAgdmFyIHByZXZpb3VzX2FjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJhY3RpdmVfaW1nXCIpWzBdO1xyXG4gICAgXHJcbiAgICB2YXIgaWQgPSBwcmV2aW91c19hY3RpdmUuaWQ7XHJcbiAgICB2YXIgY2xlYW5faWQgPSBpZC5zbGljZSgwLCAtMyk7XHJcbiAgICB2YXIgbm9faWQgPSBpZC5zbGljZSgtMywgaWQubGVuZ3RoKTtcclxuICAgIHZhciBubyA9IHBhcnNlSW50KG5vX2lkLCAxMCk7XHJcbiAgICAvLyBzZXQgbmV3IGFjdGl2ZSBpZiBleGlzdHNcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjbGVhbl9pZCArIGludDJwcmVwU3RyaW5nKCgtLW5vKSkpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIGNoYWdlLCB3aGF0IGlzIGRpc3BsYXllZCBvbiB0aGUgaW1hZ2UgY291bnRcclxuICAgIHByZXZpb3VzX2FjdGl2ZS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VycmVudF9pbWdcIikuaW5uZXJIVE1MID0gbm8gKyAxO1xyXG4gICAgcHJldmlvdXNfYWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVfaW1nXCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2xlYW5faWQgKyBpbnQycHJlcFN0cmluZygobm8pKSkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZV9pbWdcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbmxhcmdlcyBnYWxsZXJ5XHJcbiAqL1xyXG5mdW5jdGlvbiBlbmxhcmdlKCkge1xyXG4gICAgdmFyIGdhbGxlcmllcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJnYWxsZXJ5X3dyYXBwZXJcIik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbGxlcmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIHZhciBwb3B1cCA9IGdhbGxlcmllc1tpXS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgdmFyIGljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZW5sYXJnZV9pY29uXCIpO1xyXG4gICAgICAgIGlmIChwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoXCJlbmxhcmdlZFwiKSkge1xyXG4gICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiZW5sYXJnZWRcIik7XHJcbiAgICAgICAgICAgIC8vIG1ha2UgaWNvbiBzbWFsbFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9mb3IgKHZhciBsID0gMDsgbCA8IGljb24ubGVuZ3RoOyArK2wpXHJcbiAgICAgICAgICAgIGljb25baV0uc3JjID0gXCIuLi8uLi9jb250cm9sX2dyYXBoaWMvbWF4aW1pemUucG5nXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZChcImVubGFyZ2VkXCIpO1xyXG4gICAgICAgICAgICAvL2ZvciAodmFyIGwgPSAwOyBsIDwgaWNvbi5sZW5ndGg7ICsrbClcclxuICAgICAgICAgICAgaWNvbltpXS5zcmMgPSAgXCIuLi8uLi9jb250cm9sX2dyYXBoaWMvbWluaW1pemUucG5nXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKiBTTUFMTCBVVElMSVRZIEZVTkNUSU9OUyAqL1xyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSBmdW5jdGlvbiB0aGF0IGRldGVybWluZXMgaG93IG1hbnkgemVyb2VzIHRvIHByZXBlbmQgYmVmb3JlIFxyXG4gKiBhIG51bWJlciB0byBnZXQgaXQgaW4gZm9ybWF0OiAwMDEgMDEwIDEwMCBldGMuXHJcbiAqIEBwYXJhbSB7SW50ZWdlcn0gaSBcclxuICovXHJcbmZ1bmN0aW9uIGNhbGNfcHJlcGVuZChpKSB7XHJcbiAgICBpZiAoaSA8IDEwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiMDBcIjtcclxuICAgIH0gZWxzZSBpZiAoaSA8IDEwMCkge1xyXG4gICAgICAgIHJldHVybiBcIjBcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBcIlwiO1xyXG59XHJcbi8qKlxyXG4gKiBUYWtlcyBpbiBpbnRlZ2VyIGFuZCByZXR1cm5zIHN0cmluZyBpbiBmb3JtYXQgMDAxIDAxMCAxMDBcclxuICogQHBhcmFtIHtJbnRlZ2VyfSBpIFxyXG4gKiBAcmV0dXJucyBTdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGludDJwcmVwU3RyaW5nKGkpIHtcclxuICAgIHJldHVybiBjYWxjX3ByZXBlbmQoaSkgKyBpO1xyXG59XHJcblxyXG4vKipcclxuICogTWFrZXMgcm9tYW4gbnVtYmVyIG91dCBvZiBhbiBpbnRlZ2VyLiBJIGFtIHVzaW5nIGl0IGZvciBjb3VudGluZyBkZXNjcmlwdGlvbnNcclxuICogQHBhcmFtIHsqfSBudW0gXHJcbiAqL1xyXG5mdW5jdGlvbiByb21hbml6ZShudW0pIHtcclxuICAgIHZhciBsb29rdXAgPSB7TToxMDAwLENNOjkwMCxEOjUwMCxDRDo0MDAsQzoxMDAsWEM6OTAsTDo1MCxYTDo0MCxYOjEwLElYOjksVjo1LElWOjQsSToxfSwgcm9tYW4gPSAnJywgaTtcclxuICAgIGZvciAoIGkgaW4gbG9va3VwICkge1xyXG4gICAgICAgIHdoaWxlICggbnVtID49IGxvb2t1cFtpXSApIHtcclxuICAgICAgICAgICAgcm9tYW4gKz0gaTtcclxuICAgICAgICAgICAgbnVtIC09IGxvb2t1cFtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcm9tYW4gKyBcIi5cIjtcclxufVxyXG4iLCIvKipcclxuICogRnVuY3Rpb25zIHVzZWQgaW4gY29udHJvbCBwYW5lbC5cclxuICovXHJcblxyXG4vLyBldmVudCBsaXN0ZW5lcnMgZm9yIHJlYWRpbmcgdmFsdWVzIG9mIHRoZSBjb250cm9sIHBhbmVsXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZW1wbGF0ZV9kb25lXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udHJvbF90cmlnZ2VyXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0cmlnZ2VyX21lbnUpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGFuZ2VfdmlzaWJpbGl0eVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGNoYW5nZV9wb3B1cF92aXNpYmlsaXR5KTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpdGNoX2d5cm9cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBzd2l0Y2hfZ3lyb3Njb3BlKTtcclxuICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKTsgVE9ETyAtLSBjaGFuZ2UgdmVsb2NpdHlcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29weV9wb3NcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvcHlfcG9zaXRpb25fcm90YXRpb24pO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb3RvX3Bvc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ29fdG9fcG9zaXRpb24pO1xyXG4gICAgcmVnaXN0ZXJfZW50ZXIoKTtcclxuICAgIHJlZ2lzdGVyX2hlbHAoKTtcclxufSk7XHJcblxyXG4vKipcclxuICogTWVudSBzbGlkaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmlnZ2VyX21lbnUoKSB7XHJcbiAgICB2YXIgdHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udHJvbF90cmlnZ2VyXCIpO1xyXG4gICAgdmFyIHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sX3BhbmVsXCIpO1xyXG4gICAgaWYgKHBhbmVsLmNsYXNzTGlzdC5jb250YWlucyhcInRyaWdnZXJlZFwiKSkge1xyXG4gICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZShcInRyaWdnZXJlZFwiKTtcclxuICAgICAgICBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKFwidHJpZ2dlcmVkXCIpO1xyXG4gICAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vLi4vY29udHJvbF9ncmFwaGljL3JpZ2h0LnBuZ1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKFwidHJpZ2dlcmVkXCIpO1xyXG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoXCJ0cmlnZ2VyZWRcIik7XHJcbiAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi8uLi9jb250cm9sX2dyYXBoaWMvYmFja19pY29uLnBuZ1wiKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEltcGxlbWVudHMgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgbWFraW5nIGRlc2NyaXB0aW9ucyBpbiBBLUZyYW1lIGludmlzaWJsZS92aXNpYmxlXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGFuZ2VfcG9wdXBfdmlzaWJpbGl0eSgpIHtcclxuICAgIHZhciBwb3B1cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2xpY2thYmxlXCIpO1xyXG4gICAgaWYgKHBvcHVwc1swXS5nZXRBdHRyaWJ1dGUoXCJ2aXNpYmxlXCIpID09IGZhbHNlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3B1cHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgcG9wdXBzW2ldLnNldEF0dHJpYnV0ZShcInZpc2libGVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvcHVwcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBwb3B1cHNbaV0uc2V0QXR0cmlidXRlKFwidmlzaWJsZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogVHVybnMgZ3lyb3Njb3BlIG9uIG1vYmlsZSBvbiBvciBvZmYuIFxyXG4gKi9cclxuZnVuY3Rpb24gc3dpdGNoX2d5cm9zY29wZSgpIHtcclxuICAgIHZhciBjYW1lcmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbWVyYVwiKTtcclxuICAgIHZhciBwcm9wZXJ0aWVzID0gY2FtZXJhLmdldEF0dHJpYnV0ZShcInRvdWNoLWNvbnRyb2xzXCIpO1xyXG4gICAgaWYgKHByb3BlcnRpZXMuZ3lyb0VuYWJsZWQgPT0gdHJ1ZSkge1xyXG4gICAgICAgIHByb3BlcnRpZXMuZ3lyb0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICBwcm9wZXJ0aWVzLmd5cm9FbmFibGVkID0gdHJ1ZVxyXG4gICAgfVxyXG4gICAgY2FtZXJhLnNldEF0dHJpYnV0ZShcInRvdWNoLWNvbnRyb2xzXCIsIHByb3BlcnRpZXMpO1xyXG59XHJcblxyXG4vKipcclxuICogRm9yIGNoYW5naW5nIHRoZSB2ZWxvY2l0eSBvZiBjYW1lcmEuXHJcbiAqIFNob3VsZCBiZSBsaXN0ZW5pbmcgdG8gY2hhbmdlIG9mIHNwZWVkIHNsaWRlclxyXG4gKi9cclxuZnVuY3Rpb24gY2hhbmdlX2FjY2VsZXJhdGlvbihpbnB1dCkge1xyXG4gICAgdmFyIGFjY2VsZXJhdGlvbiA9IGlucHV0LnZhbHVlO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVlZF92YWxcIikuaW5uZXJIVE1MID0gYWNjZWxlcmF0aW9uO1xyXG4gICAgdmFyIGNhbWVyYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FtZXJhXCIpO1xyXG4gICAgLy92YXIgYWNjZWxlcmF0aW9uID0gY2FtZXJhLmdldEF0dHJpYnV0ZShcIndhc2QtY29udHJvbHNcIik7XHJcbiAgICAvL2FjY2VsZXJhdGlvbiA9IHBhcnNlSW50KGFjY2VsZXJhdGlvbi5tYXRjaCgvXFxkKy8pWzBdICk7XHJcbiAgICAvL2FjY2VsZXJhdGlvbiArPSBkZWx0YTtcclxuICAgIGNhbWVyYS5zZXRBdHRyaWJ1dGUoXCJ3YXNkLWNvbnRyb2xzXCIsIFwiIGZseTp0cnVlOyBhY2NlbGVyYXRpb246XCIgKyBhY2NlbGVyYXRpb24pO1xyXG59XHJcblxyXG4vKipcclxuICogQ29waWVzIGN1cnJlbnQgY2FtZXJhIHBvc2l0aW9uLlxyXG4gKiBXaWxsIGJlIGluIGEgbGlzdGVuZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3B5X3Bvc2l0aW9uX3JvdGF0aW9uKCkge1xyXG4gICAgdmFyIHBvc3JvdCA9IGdldF9lbnRpdHlfcG9zaXRpb25fc3RyaW5nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FtZXJhXCIpLCB0cnVlKTtcclxuICAgIC8vIGZvciBjb3B5aW5nIHRleHQgaW50byBjbGlwYm9hcmRcclxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuICAgIGVsLnZhbHVlID0gcG9zcm90O1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICBlbC5zZWxlY3QoKTtcclxuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgY3V0dGluZyBvZmYgdG9vIGxvbmcgZmxvYXRzLlxyXG4gKiBTaG9ydGVucyB0aGVtIHRvIHByZWNpc2lvbiBhbmQgdHJ1bmNhdGVzIHRyYWlsaW5nIHplcm9lcy5cclxuICogQHBhcmFtIHsqfSBubyBcclxuICogQHBhcmFtIHsqfSBwcmVjaXNpb24gXHJcbiAqL1xyXG5mdW5jdGlvbiB0b0ZpeGVkVHJ1bmNhdGUobm8sIHByZWNpc2lvbikge1xyXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobm8udG9GaXhlZChwcmVjaXNpb24pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVuYWJsZXMganVtcCB0byBwb3NpdGlvbiBzcGVjaWZpZWQgaW4gYSBmb3JtIGZpZWxkXHJcbiAqL1xyXG5mdW5jdGlvbiBnb190b19wb3NpdGlvbigpIHtcclxuICAgIHZhciBjYW1lcmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbWVyYVwiKTtcclxuICAgIHZhciBwb3Nyb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJfcG9zXCIpLnZhbHVlO1xyXG4gICAgdmFyIHBvc19hcnJheSA9IHBvc3JvdC5zcGxpdChcIiBcIik7XHJcbiAgICBpZiAocG9zX2FycmF5Lmxlbmd0aCAhPSA1KSB7XHJcbiAgICAgICAgLy8gd3JvbmcgaW5wdXRcclxuICAgICAgICAvLyBUT0RPIC0tIHVwb24gd3JvbmcgaW5wdXQgdGVsbCB0aGUgdXNlclxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBwb3MgPSBjYW1lcmEuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik7XHJcbiAgICBuZXdYID0gcGFyc2VGbG9hdChwb3NfYXJyYXlbMF0pO1xyXG4gICAgbmV3WSA9IHBhcnNlRmxvYXQocG9zX2FycmF5WzFdKTtcclxuICAgIG5ld1ogPSBwYXJzZUZsb2F0KHBvc19hcnJheVsyXSk7XHJcbiAgICByb3RYID0gcGFyc2VGbG9hdChwb3NfYXJyYXlbM10pO1xyXG4gICAgcm90WSA9IHBhcnNlRmxvYXQocG9zX2FycmF5WzRdKTtcclxuICAgIGlmIChpc05hTihuZXdYKSB8fCBpc05hTihuZXdZKSB8fCBpc05hTihuZXdaKSB8fCBpc05hTihyb3RYKSB8fCBpc05hTihyb3RZKSkge1xyXG4gICAgICAgIC8vIHdyb25nIGlucHV0XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcG9zLnggPSBuZXdYO1xyXG4gICAgcG9zLnkgPSBuZXdZO1xyXG4gICAgcG9zLnogPSBuZXdaO1xyXG5cclxuICAgIGNhbWVyYS5jb21wb25lbnRzWyd0b3VjaC1jb250cm9scyddLnBpdGNoT2JqZWN0LnJvdGF0aW9uLnggPSByb3RYO1xyXG4gICAgY2FtZXJhLmNvbXBvbmVudHNbJ3RvdWNoLWNvbnRyb2xzJ10ueWF3T2JqZWN0LnJvdGF0aW9uLnkgPSByb3RZO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3Rlcl9lbnRlcigpIHtcclxuICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9wb3NcIik7XHJcblxyXG4gICAgLy8gRXhlY3V0ZSBhIGZ1bmN0aW9uIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgYSBrZXkgb24gdGhlIGtleWJvYXJkXHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAvLyBOdW1iZXIgMTMgaXMgdGhlIFwiRW50ZXJcIiBrZXkgb24gdGhlIGtleWJvYXJkXHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgZGVmYXVsdCBhY3Rpb24sIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBidXR0b24gZWxlbWVudCB3aXRoIGEgY2xpY2tcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb3RvX3Bvc1wiKS5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gaGVscFxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJfaGVscCgpIHtcclxuICAgIHZhciBoZWxwX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscFwiKTtcclxuICAgIGhlbHBfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGhlbHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlbHBfcG9wdXBcIik7XHJcbiAgICAgICAgaWYgKGhlbHAuY2xhc3NMaXN0LmNvbnRhaW5zKFwidmlzaWJsZVwiKSkgaGVscC5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgICBlbHNlIGhlbHAuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICB9KTtcclxufSIsIi8qKlxyXG4gKiBDcmVhdGVzIEEtZnJhbWUgcmVwcmVzZW50YXRpb24gb2YgcG9wdXAgXHJcbiAqIEBwYXJhbSB7Kn0gaWQgXHJcbiAqIEBwYXJhbSB7Kn0gcG9zaXRpb24gaW4gQS1GcmFtZVxyXG4gKiBAcGFyYW0geyp9IGdhbGxlcnkgc3BlY2lmaWVzIGlmIGl0IGlzIGdhbGxlcnkgb3Igc2ltcGxlIHRleHQgcG9wdXBcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZV9wb3B1cChpZCwgcG9zaXRpb24sIGdhbGxlcnkpIHtcclxuICAgIHZhciBhc2NlbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYS1zY2VuZVwiKTtcclxuICAgIHZhciB3aXRob3V0X251bWJlciA9IGZhbHNlO1xyXG4gICAgdmFyIHJlZ2V4ID0gL1xcZCsvO1xyXG4gICAgdmFyIHBvcHVwX25vID0gaWQubWF0Y2gocmVnZXgpO1xyXG4gICAgaWYgKHBvcHVwX25vID09IG51bGwpIHtcclxuICAgICAgICB3aXRob3V0X251bWJlciA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBwb3B1cF92aXN1YWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYS10ZXh0XCIpO1xyXG4gICAgICAgIC8vcG9wdXBfbm8gPSBnYWxsZXJ5ID8gcG9wdXBfbm8gKyBcIi5cIiA6IHJvbWFuaXplKHBvcHVwX25vKTsgLy8gbGV0IGRlc2NyaXB0aW9ucyBoYXZlIHJvbWFuIG51bWJlcnNcclxuICAgICAgICBwb3B1cF9ubyA9IHBvcHVwX25vICsgXCIuXCI7XHJcbiAgICAgICAgcG9wdXBfdmlzdWFsLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHBvcHVwX25vKTtcclxuICAgICAgICBwb3B1cF92aXN1YWwuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCI2XCIpO1xyXG4gICAgICAgIHBvcHVwX3Zpc3VhbC5zZXRBdHRyaWJ1dGUoXCJhbGlnblwiLCBcImNlbnRlclwiKTtcclxuICAgICAgICBwb3B1cF92aXN1YWwuc2V0QXR0cmlidXRlKFwieE9mZnNldFwiLCBcIjEwXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpdGhvdXRfbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHBvcHVwX3Zpc3VhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhLWltYWdlXCIpO1xyXG4gICAgICAgIHBvcHVwX3Zpc3VhbC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjAuNFwiKTtcclxuICAgICAgICBwb3B1cF92aXN1YWwuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMC40XCIpO1xyXG4gICAgfVxyXG4gICAgcG9wdXBfdmlzdWFsLnNldEF0dHJpYnV0ZShcImxvb2stYXRcIiwgXCJbY2FtZXJhXVwiKTtcclxuICAgIHBvcHVwX3Zpc3VhbC5zZXRBdHRyaWJ1dGUoXCJjb2xvclwiLCBcIndoaXRlXCIpO1xyXG4gICAgXHJcbiAgICBwb3B1cF92aXN1YWwuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJyZW5kZXJlZFwiICsgaWQpO1xyXG4gICAgcG9wdXBfdmlzdWFsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2xpY2thYmxlXCIpO1xyXG4gICAgcG9wdXBfdmlzdWFsLnNldEF0dHJpYnV0ZShcImluZm8td2luZG93XCIsIFwiIHdpbmRvd19pZDpcIiArIGlkKTtcclxuICAgIHBvcHVwX3Zpc3VhbC5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLCBwb3NpdGlvbik7XHJcbiAgICBcclxuICAgIGlmICghZ2FsbGVyeSAmJiB3aXRob3V0X251bWJlcilcclxuICAgICAgICBwb3B1cF92aXN1YWwuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vLi4vY29udHJvbF9ncmFwaGljL2luZm9fbG9nby5wbmdcIik7IFxyXG4gICAgZWxzZSBpZiAgKHdpdGhvdXRfbnVtYmVyKVxyXG4gICAgICAgIHBvcHVwX3Zpc3VhbC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi8uLi9jb250cm9sX2dyYXBoaWMvZ2FsbGVyeV9sb2dvLnBuZ1wiKTtcclxuICAgIGFzY2VuZS5hcHBlbmRDaGlsZChwb3B1cF92aXN1YWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuX3BvcHVwKHdpbmRvd19pZCwgZG9fbm90X2Nsb3NlKSB7XHJcbiAgICBpZiAoIWRvX25vdF9jbG9zZSkge1xyXG4gICAgICAgIHZhciBwcmV2aW91cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmlzaWJsZSAucG9wdXBcIik7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwcmV2aW91cy5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgd2luZG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQod2luZG93X2lkKTtcclxuICAgIHdpbmRvdy5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2Vfd2luZG93cygpIHtcclxuICAgIHZhciBwb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BvcHVwJyk7XHJcbiAgICBmb3IgKHZhciBsID0gMDsgbCA8IHBvcHVwLmxlbmd0aDsgbCsrKSB7XHJcbiAgICAgICAgcG9wdXBbbF0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gICAgZG9jdW1lbnQub25rZXlkb3duID0gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvciBtaW5pbWl6aW5nIHdpbmRvd3NcclxuICovXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZW1wbGF0ZV9kb25lXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGJhY2tfaWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JhY2tfaWNvbicpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYWNrX2ljb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBiYWNrX2ljb25baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZV93aW5kb3dzKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4iLCIvKipcclxuICogRnVuY3Rpb25zIGNhbGxlZCB3aGVuIGVkaXRhdGlvbiBtb2RlIGlzIGFsbG93ZWQgYW5kIHVzZXIgcHJlc3NlcyBjdHJsICsgYWx0ICsgZS5cclxuICogRW5hYmxlcyBidXR0b25zIGZvciBlZGl0aW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlX2VkaXRfYnV0dG9uc19hcGVhcigpIHtcclxuICAgIHZhciBlZGl0X2J1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZWRfYnV0dG9uXCIpO1xyXG4gICAgZm9yIChsZXQgYnV0dG9uIG9mIGVkaXRfYnV0dG9ucykge1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwidmlzaWJsZVwiKTtcclxuICAgICAgICBpZihidXR0b24ucGFyZW50Tm9kZSA9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xfcGFuZWxcIikpIGNvbnRpbnVlO1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBidWlsZF9hbm5vdGF0aW9uX3dpbmRvdyhidXR0b24uaWQuc2xpY2UoNCksIGpzb25fb2JqLmFubm90YXRpb25zW2J1dHRvbi5pZC5zbGljZSg0KV0pOyAvLyBzbGljZSBnZXRzIHRoZSBJRCBvZiBhbm5vdGF0aW9uXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBc3NlbWJsZXMgYW5ub3RhdGlvbiB3aW5kb3cgYW5kIG1ha2VzIGl0IHZpc2libGUuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBhbm5vdGF0aW9uX29iamVjdCBcclxuICovXHJcbmZ1bmN0aW9uIGJ1aWxkX2Fubm90YXRpb25fd2luZG93KGFubm90YXRpb25faWQsIGFubm90YXRpb25faW5mbykge1xyXG4gICAgLy8gcHV0IGRhdGEgaW50byBhbm5vdGF0aW9uIHdpbmRvd1xyXG4gICAgLy92YXIgYW5ub3RhdGlvbl9pbmZvID0ganNvbl9vYmouYW5ub3RhdGlvbnNbYW5ub3RhdGlvbl9pZF07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zaXRpb25faW5wXCIpLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiLCBnZXRfZW50aXR5X3Bvc2l0aW9uX3N0cmluZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmRlcmVkXCIgKyBhbm5vdGF0aW9uX2lkKSwgZmFsc2UpXHJcbiAgICAgICAgKTtcclxuICAgIH0gY2F0Y2goZSkge31cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9faW5wXCIpLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGdldF9udW1iZXJfZnJvbV9zdHJpbmcoYW5ub3RhdGlvbl9pZCkpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWFkaW5nX2lucFwiKS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBhbm5vdGF0aW9uX2luZm8uaGVhZGluZyk7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnRfZWRpdGVkXCIpLmlubmVySFRNTCA9IGFubm90YXRpb25faWQ7XHJcbiAgICBvcGVuX3BvcHVwKFwiYW5ub3RhdGlvbl93aW5kb3dcIiwgZmFsc2UpO1xyXG4gICAgLy8gcHV0IGludG8gZWRpdG9yXHJcbiAgICBhcHBlbmRfaHRtbChhbm5vdGF0aW9uX2luZm8udGV4dCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldF9udW1iZXJfZnJvbV9zdHJpbmcoc3RyaW5nKSB7XHJcbiAgICB2YXIgciA9IC9cXGQrLztcclxuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocik7XHJcbn1cclxuXHJcbi8qKiBGT1IgRURJVE9SICovXHJcblxyXG4vKipcclxuICogVXBvbiB0cnVtYm93eWcgZWRpdG9yIGNyZWF0aW9uLlxyXG4gKiBTZXRzIHVwIHRoZSBlZGl0b3IgYW5kIGFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIGVkaXRvciBidXR0b25zLlxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdF9lZGl0b3IoKSB7XHJcbiAgICAkKCcjZWRpdG9yJykudHJ1bWJvd3lnKHtcclxuICAgICAgICBidG5zOiBbXHJcbiAgICAgICAgICAgIFsndmlld0hUTUwnXSxcclxuICAgICAgICAgICAgWyd1bmRvJywgJ3JlZG8nXSwgLy8gT25seSBzdXBwb3J0ZWQgaW4gQmxpbmsgYnJvd3NlcnNcclxuICAgICAgICAgICAgWydmb3JtYXR0aW5nJ10sXHJcbiAgICAgICAgICAgIFsnc3Ryb25nJywgJ2VtJywgJ2RlbCddLFxyXG4gICAgICAgICAgICBbJ2ZvbnRmYW1pbHknXSxcclxuICAgICAgICAgICAgWydmb250c2l6ZSddLFxyXG4gICAgICAgICAgICBbJ2ZvcmVDb2xvcicsICdiYWNrQ29sb3InXSxcclxuICAgICAgICAgICAgWydzdXBlcnNjcmlwdCcsICdzdWJzY3JpcHQnXSxcclxuICAgICAgICAgICAgWydsaW5rJ10sXHJcbiAgICAgICAgICAgIFsnaW5zZXJ0SW1hZ2UnXSxcclxuICAgICAgICAgICAgWydqdXN0aWZ5TGVmdCcsICdqdXN0aWZ5Q2VudGVyJywgJ2p1c3RpZnlSaWdodCcsICdqdXN0aWZ5RnVsbCddLFxyXG4gICAgICAgICAgICBbJ3Vub3JkZXJlZExpc3QnLCAnb3JkZXJlZExpc3QnXSxcclxuICAgICAgICAgICAgWydob3Jpem9udGFsUnVsZSddLFxyXG4gICAgICAgICAgICBbJ3JlbW92ZWZvcm1hdCddLFxyXG4gICAgICAgICAgICBbJ2Z1bGxzY3JlZW4nXSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHBsdWdpbnM6IHtcclxuICAgICAgICAgICAgYWxsb3dUYWdzRnJvbVBhc3RlOiB7XHJcbiAgICAgICAgICAgICAgICBhbGxvd2VkVGFnczogWydoMScsICdoMicsICdoMycsICdoNCcsICdwJywgJ3NwYW4nLCAnYnInLCAnc3Ryb25nJywgJ2VtJywgJ2RlbCddXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIGJ1dHRvbnMgRVZFTlQgTElTVEVORVJTXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidGVtcGxhdGVfZG9uZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3B5X2h0bWxcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvcHlfaHRtbCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXN0ZV9odG1sXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwYXN0ZV9odG1sKTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIEdldHMgSFRNTCBjb250YWluZWQgaW4gdHJ1bWJvd3lnIGVkaXRvciBhbmQgcHV0cyBpdCBpbnRvIGNsaXBib2FyLlxyXG4gKi9cclxuZnVuY3Rpb24gY29weV9odG1sKCkge1xyXG4gICAgdmFyIGh0bSA9ICQoJyNlZGl0b3InKS50cnVtYm93eWcoJ2h0bWwnKTtcclxuICAgIGh0bSA9IGh0bS5yZXBsYWNlKC9cXHI/XFxufFxcci9nLCBcIiBcIik7XHJcbiAgICAvLyBmb3IgY29weWluZyB0ZXh0IGludG8gY2xpcGJvYXJkXHJcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICBlbC52YWx1ZSA9IGh0bTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgZWwuc2VsZWN0KCk7XHJcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQdXRzIGdpdmVuIGh0bWwgaW50byB0cnVtYm93eWcgZWRpdG9yLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbF90b19hcHBlbmQgXHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBlbmRfaHRtbChodG1sX3RvX2FwcGVuZCkge1xyXG4gICAgdmFyIGh0bWwgPSAkKCcjZWRpdG9yJykudHJ1bWJvd3lnKCdodG1sJyk7XHJcbiAgICBodG1sICs9IGh0bWxfdG9fYXBwZW5kO1xyXG4gICAgJCgnI2VkaXRvcicpLnRydW1ib3d5ZygnaHRtbCcsIGh0bWwpO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhZHMgdGV4dCBmcm9tIGNsaXBib2FyZCBhbmQgcHV0cyBpdCBpbnRvIHRydW1ib3d5Z1xyXG4gKi9cclxuZnVuY3Rpb24gcGFzdGVfaHRtbCgpIHtcclxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKVxyXG4gICAgLnRoZW4odGV4dCA9PiB7XHJcbiAgICAgICAgYXBwZW5kX2h0bWwodGV4dCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlYWQgY2xpcGJvYXJkIGNvbnRlbnRzOiAnLCBlcnIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFYXN5IGlucHV0IGNoZWNraW5nIGZ1bmN0aW9uIGZvciBhbm5vdGF0aW9uIGZvcm1cclxuICogQHBhcmFtIHsqfSBuZXdfcG9zaXRpb24gXHJcbiAqIEBwYXJhbSB7Kn0gaW5wdXRfbnVtYmVyIFxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tfaWZfdmFsaWQobmV3X3Bvc2l0aW9uLCBpbnB1dF9udW1iZXIpIHtcclxuICAgIGlmICghKGNvbmQxID0gbmV3X3Bvc2l0aW9uLnNwbGl0KFwiIFwiKS5sZW5ndGggPT0gMykpIHtcclxuICAgICAgICAvLyB3cm9uZyBwb3NpdGlvblxyXG4gICAgICAgIGNvbG9yX2lucHV0X3JlZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc2l0aW9uX2lucFwiKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIShjb25kMiA9IE51bWJlci5pc0ludGVnZXIoaW5wdXRfbnVtYmVyKSkpIHtcclxuICAgICAgICAvLyBpcyBub3QgbnVtYmVyXHJcbiAgICAgICAgY29sb3JfaW5wdXRfcmVkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9faW5wXCIpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb25kMSAmJiBjb25kMjtcclxufVxyXG5cclxuZnVuY3Rpb24gY29sb3JfaW5wdXRfcmVkKGlucHV0X25vZGUpIHtcclxuICAgIGlucHV0X25vZGUuY2xhc3NMaXN0LmFkZChcIndyb25nX2lucHV0XCIpO1xyXG4gICAgaW5wdXRfbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlucHV0X25vZGUuY2xhc3NMaXN0LnJlbW92ZShcIndyb25nX2lucHV0XCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgY2hhbmdlcyBpbnRvIGpzb25fb2JqIGFmdGVyIGNsb3NpbmcgdGhlIGFubm90YXRpb24gd2luZG93LlxyXG4gKi9cclxuZnVuY3Rpb24gc2F2ZV9jaGFuZ2VzKCkge1xyXG4gICAgdmFyIGN1cnJlbnRfYW5ub3RhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudF9lZGl0ZWRcIikuaW5uZXJIVE1MO1xyXG4gICAgdmFyIG5ld19wb3NpdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zaXRpb25faW5wXCIpLnZhbHVlO1xyXG4gICAgdmFyIG5ld19udW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vX2lucFwiKS52YWx1ZTtcclxuICAgIG5ld19udW1iZXIgPSBwYXJzZUludChuZXdfbnVtYmVyKTtcclxuICAgIC8vY29uc29sZS5sb2coY3VycmVudF9hbm5vdGF0aW9uKTtcclxuICAgIGlmICghY2hlY2tfaWZfdmFsaWQobmV3X3Bvc2l0aW9uLCBuZXdfbnVtYmVyKSkge1xyXG4gICAgICAgIC8vIHdyaXRlIG1zZ1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIG51bWJlciBjaGFuZ2UgaGFuZGxpbmdcclxuICAgIHZhciBuZXdfaWQgPSBcInVuaXF1ZUlEXCIgKyBuZXdfbnVtYmVyO1xyXG4gICAgLy9pZiAobmV3X2lkICE9IGN1cnJlbnRfYW5ub3RhdGlvbikge1xyXG4gICAgaWYgKG5ld19pZCBpbiBqc29uX29iai5hbm5vdGF0aW9ucykge1xyXG4gICAgICAgIGlmIChuZXdfaWQgIT0gY3VycmVudF9hbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIFNXQVBcclxuICAgICAgICAgICAganNvbl9vYmouYW5ub3RhdGlvbnNbY3VycmVudF9hbm5vdGF0aW9uXSA9IGpzb25fb2JqLmFubm90YXRpb25zW25ld19pZF07XHJcbiAgICAgICAgICAgIGNoYW5nZV9wb3B1cChjdXJyZW50X2Fubm90YXRpb24sIGpzb25fb2JqLmFubm90YXRpb25zW25ld19pZF0pO1xyXG4gICAgICAgICAgICBjdXJyZW50X2Fubm90YXRpb24gPSBuZXdfaWQ7IFxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGVsZXRlIGpzb25fb2JqLmFubm90YXRpb25zW2N1cnJlbnRfYW5ub3RhdGlvbl07XHJcbiAgICAgICAgdmFyIHJlbmRlcmVkX2Fubm90ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW5kZXJlZFwiICsgY3VycmVudF9hbm5vdGF0aW9uKTtcclxuICAgICAgICAvLyBpZiBJIGhhdmUgbmV3IGFubm90YXRpb25cclxuICAgICAgICBpZiAocmVuZGVyZWRfYW5ub3QgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIC0tIG5ldyBhbm5vdGF0aW9uXHJcbiAgICAgICAgICAgIG1ha2VfbmV3X2Fubm90YXRpb24obmV3X3Bvc2l0aW9uLCBuZXdfaWQpO1xyXG4gICAgICAgICAgICAkKCcjZWRpdG9yJykudHJ1bWJvd3lnKCdlbXB0eScpO1xyXG4gICAgICAgICAgICBjbG9zZV93aW5kb3dzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBqdXN0IHB1dHRpbmcgbmV3IG51bWJlclxyXG4gICAgICAgICAgICByZW5kZXJlZF9hbm5vdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInJlbmRlcmVkXCIrbmV3X2lkKTtcclxuICAgICAgICAgICAgcmVuZGVyZWRfYW5ub3Quc2V0QXR0cmlidXRlKFwiaW5mby13aW5kb3dcIiwge3dpbmRvd19pZDogbmV3X2lkfSk7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkX2Fubm90LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG5ld19udW1iZXIgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRfYW5ub3RhdGlvbikuc2V0QXR0cmlidXRlKFwiaWRcIiwgbmV3X2lkKTsgXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFwiICsgY3VycmVudF9hbm5vdGF0aW9uKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImVkaXRcIiArIG5ld19pZCk7XHJcbiAgICAgICAgICAgIGpzb25fb2JqLmFubm90YXRpb25zW25ld19pZF0gPSB7fTtcclxuICAgICAgICAgICAgY3VycmVudF9hbm5vdGF0aW9uID0gbmV3X2lkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vfVxyXG5cclxuICAgIGpzb25fb2JqLmFubm90YXRpb25zW2N1cnJlbnRfYW5ub3RhdGlvbl0uaGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVhZGluZ19pbnBcIikudmFsdWU7XHJcbiAgICBqc29uX29iai5hbm5vdGF0aW9uc1tjdXJyZW50X2Fubm90YXRpb25dLnRleHQgPSAkKCcjZWRpdG9yJykudHJ1bWJvd3lnKCdodG1sJyk7XHJcbiAgICBqc29uX29iai5hbm5vdGF0aW9uc1tjdXJyZW50X2Fubm90YXRpb25dLnBvc2l0aW9uID0gbmV3X3Bvc2l0aW9uO1xyXG4gICAgLy8gbWFuaXB1bGF0ZSBhY3R1YWwgYW5ub3RhdGlvblxyXG4gICAgY2hhbmdlX3BvcHVwKGN1cnJlbnRfYW5ub3RhdGlvbiwganNvbl9vYmouYW5ub3RhdGlvbnNbY3VycmVudF9hbm5vdGF0aW9uXSk7XHJcbiAgICAvLyQoJyNlZGl0b3InKS50cnVtYm93eWcoJ2h0bWwnLCAnJyk7XHJcbiAgICAkKCcjZWRpdG9yJykudHJ1bWJvd3lnKCdlbXB0eScpO1xyXG5cclxuICAgIGNsb3NlX3dpbmRvd3MoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvciBidWlsZGluZyBicmFuZCBuZXcgYW5ub3RhdGlvblxyXG4gKiBAcGFyYW0geyp9IG5ld19wb3NpdGlvbiBcclxuICogQHBhcmFtIHsqfSBuZXdfaWQgXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlX25ld19hbm5vdGF0aW9uKG5ld19wb3NpdGlvbiwgbmV3X2lkKSB7XHJcbiAgICB2YXIgdGVtcGxhdGVfaW5mbyA9IHtcclxuICAgICAgICBcImFubm90YXRpb25zXCIgOiB7XHJcbiAgICAgICAgICAgIFtuZXdfaWRdIDoge1xyXG4gICAgICAgICAgICAgICAgXCJoZWFkaW5nXCIgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRpbmdfaW5wXCIpLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0XCIgOiAkKCcjZWRpdG9yJykudHJ1bWJvd3lnKCdodG1sJyksXHJcbiAgICAgICAgICAgICAgICBcInBvc2l0aW9uXCIgOiBuZXdfcG9zaXRpb24sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL3B1dF90ZW1wbGF0ZV90b19odG1sKHRlbXBsYXRlX2luZm8sIFwiYS1zY2VuZVwiLCBIYW5kbGViYXJzLnRlbXBsYXRlcy5wb3B1cF9idXR0b24pO1xyXG4gICAgcHV0X3RlbXBsYXRlX3RvX2h0bWwodGVtcGxhdGVfaW5mbywgXCJib2R5XCIsIEhhbmRsZWJhcnMudGVtcGxhdGVzLnBvcHVwKTtcclxuICAgIGNyZWF0ZV9wb3B1cChuZXdfaWQsIG5ld19wb3NpdGlvbiwgZmFsc2UpO1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIiNcIituZXdfaWQrXCIgLmJhY2tfaWNvblwiKTtcclxuICAgIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIituZXdfaWQrXCIgLmJhY2tfaWNvblwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlX3dpbmRvd3MpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIE1ha2VzIHRoZSBjaGFuZ2VzIGluIHRoZSBhY3R1YWwgcG9wdXBcclxuICogQHBhcmFtIHtzdHJpbmd9IHBvcHVwX2lkIFxyXG4gKiBAcGFyYW0ge29iamVjdH0gYW5ub3RhdGlvbl9pbmZvIGRhdGFcclxuICovXHJcbmZ1bmN0aW9uIGNoYW5nZV9wb3B1cChwb3B1cF9pZCwgYW5ub3RhdGlvbl9pbmZvKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgcG9wdXBfaWQgKyBcIiBzcGFuLmhlYWRpbmdfc3BhblwiKS5pbm5lckhUTUwgPSBhbm5vdGF0aW9uX2luZm8uaGVhZGluZztcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBwb3B1cF9pZCArIFwiIHNwYW4ucG9wdXBfdGV4dFwiKS5pbm5lckhUTUwgPSBhbm5vdGF0aW9uX2luZm8udGV4dDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVuZGVyZWRcIiArIHBvcHVwX2lkKS5zZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLCBhbm5vdGF0aW9uX2luZm8ucG9zaXRpb24pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVfbmV3X3BvcHVwKCkge1xyXG4gICAgdmFyIGlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsaWNrYWJsZVwiKS5sZW5ndGggKyAxO1xyXG4gICAgLy8gbm9uIGVsZWdhbnQgc29sdXRpb24gOkRcclxuICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVuaXF1ZUlEXCIgKyBpZCkgIT0gbnVsbCkge1xyXG4gICAgICAgICsraWQ7XHJcbiAgICB9XHJcbiAgICBidWlsZF9hbm5vdGF0aW9uX3dpbmRvdyhcInVuaXF1ZUlEXCIgKyBpZCwge30pO1xyXG59XHJcblxyXG4vKipcclxuICogRGlzY2FyZHMgY2hhbmdlcyBhbmQgY2xvc2VzdCB0aGUgYW5ub3RhdGlvbiB3aW5kb3cuXHJcbiAqL1xyXG5mdW5jdGlvbiBkaXNjYXJkX2NoYW5nZXMoKSB7XHJcbiAgICBpZiAoIWNvbmZpcm0oXCJPcHJhdmR1IGNoY2V0ZSB6YWhvZGl0IHptxJtueT9cIikpIHJldHVybjtcclxuICAgICQoJyNlZGl0b3InKS50cnVtYm93eWcoJ2VtcHR5Jyk7XHJcbiAgICBjbG9zZV93aW5kb3dzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0aGF0IGxldHMgdXNlciBzYXZlIGpzb25fb2JqIGludG8gYSBqc29uIGZpbGUgb24gaGlzIGRldmljZVxyXG4gKi9cclxuZnVuY3Rpb24gc2F2ZV9qc29uKCkge1xyXG4gICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgIHZhciBmaWxlID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGpzb25fb2JqKV0sIHt0eXBlOiBcInRleHQvanNvblwifSk7XHJcbiAgICBhLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgYS5kb3dubG9hZCA9IFwiaW5mby5qc29uXCI7XHJcbiAgICBhLmNsaWNrKCk7XHJcbn0iXX0=